<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[44‰∏™JavaScript ÂèòÊÄÅÈ¢òËß£Êûê]]></title>
    <url>%2F2018%2F12%2F09%2F44%E4%B8%AAJavaScript-%E5%8F%98%E6%80%81%E9%A2%98%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[Á¨¨1È¢ò1[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;].map(parseInt) Áü•ËØÜÁÇπ: Array/map Number/parseInt JavaScript parseInt È¶ñÂÖà, mapÊé•Âèó‰∏§‰∏™ÂèÇÊï∞, ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ callback, ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÁöÑthisÂÄº ÂÖ∂‰∏≠ÂõûË∞ÉÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞ currentValue, index, arrary; ËÄåÈ¢òÁõÆ‰∏≠, mapÂè™‰º†ÂÖ•‰∫ÜÂõûË∞ÉÂáΩÊï∞‚ÄìparseInt. ÂÖ∂Ê¨°, parseInt Âè™Êé•Âèó‰∏§‰∏™‰∏§‰∏™ÂèÇÊï∞ string, radix(Âü∫Êï∞). ÂèØÈÄâ„ÄÇË°®Á§∫Ë¶ÅËß£ÊûêÁöÑÊï∞Â≠óÁöÑÂü∫Êï∞„ÄÇËØ•ÂÄº‰ªã‰∫é 2 ~ 36 ‰πãÈó¥„ÄÇ Â¶ÇÊûúÁúÅÁï•ËØ•ÂèÇÊï∞ÊàñÂÖ∂ÂÄº‰∏∫ 0ÔºåÂàôÊï∞Â≠óÂ∞Ü‰ª• 10 ‰∏∫Âü∫Á°ÄÊù•Ëß£Êûê„ÄÇÂ¶ÇÊûúÂÆÉ‰ª• ‚Äú0x‚Äù Êàñ ‚Äú0X‚Äù ÂºÄÂ§¥ÔºåÂ∞Ü‰ª• 16 ‰∏∫Âü∫Êï∞„ÄÇ Â¶ÇÊûúËØ•ÂèÇÊï∞Â∞è‰∫é 2 ÊàñËÄÖÂ§ß‰∫é 36ÔºåÂàô parseInt() Â∞ÜËøîÂõû NaN„ÄÇ ÊâÄ‰ª•Êú¨È¢òÂç≥ÈóÆ123parseInt(&apos;1&apos;, 0);parseInt(&apos;2&apos;, 1);parseInt(&apos;3&apos;, 2); È¶ñÂÖàÂêé‰∏§ËÄÖÂèÇÊï∞‰∏çÂêàÊ≥ï. ÊâÄ‰ª•Á≠îÊ°àÊòØ [1, NaN, NaN] Á¨¨2È¢ò1[typeof null, null instanceof Object] ‰∏§‰∏™Áü•ËØÜÁÇπ: Operators/typeof Operators/instanceof Operators/instanceof(‰∏≠) typeof ËøîÂõû‰∏Ä‰∏™Ë°®Á§∫Á±ªÂûãÁöÑÂ≠óÁ¨¶‰∏≤. instanceof ËøêÁÆóÁ¨¶Áî®Êù•Ê£ÄÊµã constructor.prototype ÊòØÂê¶Â≠òÂú®‰∫éÂèÇÊï∞ object ÁöÑÂéüÂûãÈìæ‰∏ä. Ëøô‰∏™È¢òÂèØ‰ª•Áõ¥Êé•ÁúãÈìæÊé•‚Ä¶ Âõ†‰∏∫ typeof null === ‚Äòobject‚Äô Ëá™ËØ≠Ë®Ä‰πãÂàùÂ∞±ÊòØËøôÊ†∑‚Ä¶. typeof ÁöÑÁªìÊûúËØ∑Áúã‰∏ãË°®:12345678910type resultUndefined &quot;undefined&quot;Null &quot;object&quot;Boolean &quot;boolean&quot;Number &quot;number&quot;String &quot;string&quot;Symbol &quot;symbol&quot;Host object Implementation-dependentFunction &quot;function&quot;Object &quot;object&quot; ÊâÄ‰ª•Á≠îÊ°à [object, false] Á¨¨3È¢ò1[ [3,2,1].reduce(Math.pow), [].reduce(Math.pow) ] Áü•ËØÜÁÇπ: Array/Reduce arr.reduce(callback[, initialValue]) reduceÊé•Âèó‰∏§‰∏™ÂèÇÊï∞, ‰∏Ä‰∏™ÂõûË∞É, ‰∏Ä‰∏™ÂàùÂßãÂÄº. ÂõûË∞ÉÂáΩÊï∞Êé•ÂèóÂõõ‰∏™ÂèÇÊï∞ previousValue, currentValue, currentIndex, array ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ If the array is empty and no initialValue was provided, TypeError would be thrown. ÊâÄ‰ª•Á¨¨‰∫å‰∏™Ë°®ËææÂºè‰ºöÊä•ÂºÇÂ∏∏. Á¨¨‰∏Ä‰∏™Ë°®ËææÂºèÁ≠â‰ª∑‰∫é Math.pow(3, 2) =&gt; 9; Math.pow(9, 1) =&gt;9 Á≠îÊ°à an error Á¨¨4È¢ò12var val = &apos;smtg&apos;;console.log(&apos;Value is &apos; + (val === &apos;smtg&apos;) ? &apos;Something&apos; : &apos;Nothing&apos;); ‰∏§‰∏™Áü•ËØÜÁÇπ: Operators/Operator_Precedence Operators/Conditional_Operator ÁÆÄËÄåË®Ä‰πã + ÁöÑ‰ºòÂÖàÁ∫ß Â§ß‰∫é ? ÊâÄ‰ª•ÂéüÈ¢òÁ≠â‰ª∑‰∫é ‚ÄòValue is true‚Äô ? ‚ÄòSomthing‚Äô : ‚ÄòNonthing‚Äô ËÄå‰∏çÊòØ ‚ÄòValue is‚Äô + (true ? ‚ÄòSomething‚Äô : ‚ÄòNonthing‚Äô) Á≠îÊ°à ‚ÄòSomething‚Äô Á¨¨5È¢ò123456789var name = &apos;World!&apos;;(function () &#123; if (typeof name === &apos;undefined&apos;) &#123; var name = &apos;Jack&apos;; console.log(&apos;Goodbye &apos; + name); &#125; else &#123; console.log(&apos;Hello &apos; + name); &#125;&#125;)(); Ëøô‰∏™Áõ∏ÂØπÁÆÄÂçï, ‰∏Ä‰∏™Áü•ËØÜÁÇπ: Hoisting Âú® JavaScript‰∏≠Ôºå functions Âíå variables ‰ºöË¢´ÊèêÂçá„ÄÇÂèòÈáèÊèêÂçáÊòØJavaScriptÂ∞ÜÂ£∞ÊòéÁßªËá≥‰ΩúÁî®Âüü scope (ÂÖ®Â±ÄÂüüÊàñËÄÖÂΩìÂâçÂáΩÊï∞‰ΩúÁî®Âüü) È°∂ÈÉ®ÁöÑË°å‰∏∫„ÄÇ Ëøô‰∏™È¢òÁõÆÁõ∏ÂΩì‰∫é12345678910var name = &apos;World!&apos;;(function () &#123; var name; if (typeof name === &apos;undefined&apos;) &#123; name = &apos;Jack&apos;; console.log(&apos;Goodbye &apos; + name); &#125; else &#123; console.log(&apos;Hello &apos; + name); &#125;&#125;)(); ÊâÄ‰ª•Á≠îÊ°àÊòØ ‚ÄòGoodbye Jack‚Äô Á¨¨6È¢ò1234567var END = Math.pow(2, 53);var START = END - 100;var count = 0;for (var i = START; i &lt;= END; i++) &#123; count++;&#125;console.log(count); ‰∏Ä‰∏™Áü•ËØÜÁÇπ: Infinity Âú® JS Èáå, Math.pow(2, 53) == 9007199254740992 ÊòØÂèØ‰ª•Ë°®Á§∫ÁöÑÊúÄÂ§ßÂÄº. ÊúÄÂ§ßÂÄºÂä†‰∏ÄËøòÊòØÊúÄÂ§ßÂÄº. ÊâÄ‰ª•Âæ™ÁéØ‰∏ç‰ºöÂÅú. Á¨¨7È¢ò123var ary = [0,1,2];ary[10] = 10;ary.filter(function(x) &#123; return x === undefined;&#125;); Á≠îÊ°àÊòØ [] Áúã‰∏ÄÁØáÊñáÁ´†ÁêÜËß£Á®ÄÁñèÊï∞ÁªÑ ËØë JavaScript‰∏≠ÁöÑÁ®ÄÁñèÊï∞ÁªÑ‰∏éÂØÜÈõÜÊï∞ÁªÑ Array/filter Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ã Array.prototype.filter ÁöÑ polyfill:12345678910111213141516171819202122232425262728if (!Array.prototype.filter) &#123; Array.prototype.filter = function(fun/*, thisArg*/) &#123; &apos;use strict&apos;; if (this === void 0 || this === null) &#123; throw new TypeError(); &#125; var t = Object(this); var len = t.length &gt;&gt;&gt; 0; if (typeof fun !== &apos;function&apos;) &#123; throw new TypeError(); &#125; var res = []; var thisArg = arguments.length &gt;= 2 ? arguments[1] : void 0; for (var i = 0; i &lt; len; i++) &#123; if (i in t) &#123; // Ê≥®ÊÑèËøôÈáå!!! var val = t[i]; if (fun.call(thisArg, val, i, t)) &#123; res.push(val); &#125; &#125; &#125; return res; &#125;;&#125; Êàë‰ª¨ÁúãÂà∞Âú®Ëø≠‰ª£Ëøô‰∏™Êï∞ÁªÑÁöÑÊó∂ÂÄô, È¶ñÂÖàÊ£ÄÊü•‰∫ÜËøô‰∏™Á¥¢ÂºïÂÄºÊòØ‰∏çÊòØÊï∞ÁªÑÁöÑ‰∏Ä‰∏™Â±ûÊÄß, ÈÇ£‰πàÊàë‰ª¨ÊµãËØï‰∏Ä‰∏ã.1230 in ary; =&gt; true3 in ary; =&gt; false10 in ary; =&gt; true ‰πüÂ∞±ÊòØËØ¥ ‰ªé 3 - 9 ÈÉΩÊòØÊ≤°ÊúâÂàùÂßãÂåñÁöÑ‚ÄôÂùë‚Äô!, Ëøô‰∫õÁ¥¢ÂºïÂπ∂‰∏çÂ≠òÂú®‰∏éÊï∞ÁªÑ‰∏≠. Âú® array ÁöÑÂáΩÊï∞Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÊòØ‰ºöË∑≥ËøáËøô‰∫õ‚ÄôÂùë‚ÄôÁöÑ. Á¨¨8È¢òvar two = 0.2 var one = 0.1 var eight = 0.8 var six = 0.6 [two - one == one, eight - six == two] JavaScriptÁöÑËÆæËÆ°Áº∫Èô∑?ÊµÆÁÇπËøêÁÆóÔºö0.1 + 0.2 != 0.3 IEEE 754Ê†áÂáÜ‰∏≠ÁöÑÊµÆÁÇπÊï∞Âπ∂‰∏çËÉΩÁ≤æÁ°ÆÂú∞Ë°®ËææÂ∞èÊï∞ ÈÇ£‰ªÄ‰πàÊó∂ÂÄôÁ≤æÂáÜ, ‰ªÄ‰πàÊó∂ÂÄô‰∏çÁªèÂáÜÂë¢? Á¨îËÄÖ‰πü‰∏çÁü•ÈÅì‚Ä¶ Á≠îÊ°à [true, false] Á¨¨9È¢òfunction showCase(value) { switch(value) { case &apos;A&apos;: console.log(&apos;Case A&apos;); break; case &apos;B&apos;: console.log(&apos;Case B&apos;); break; case undefined: console.log(&apos;undefined&apos;); break; default: console.log(&apos;Do not know!&apos;); } } showCase(new String(&apos;A&apos;)); ‰∏§‰∏™Áü•ËØÜÁÇπ: Statements/switch String switch ÊòØ‰∏•Ê†ºÊØîËæÉ, String ÂÆû‰æãÂíå Â≠óÁ¨¶‰∏≤‰∏ç‰∏ÄÊ†∑. var s_prim = &apos;foo&apos;; var s_obj = new String(s_prim); console.log(typeof s_prim); // &quot;string&quot; console.log(typeof s_obj); // &quot;object&quot; console.log(s_prim === s_obj); // false Á≠îÊ°àÊòØ ‚ÄòDo not know!‚Äô Á¨¨10È¢òfunction showCase2(value) { switch(value) { case &apos;A&apos;: console.log(&apos;Case A&apos;); break; case &apos;B&apos;: console.log(&apos;Case B&apos;); break; case undefined: console.log(&apos;undefined&apos;); break; default: console.log(&apos;Do not know!&apos;); } } showCase2(String(&apos;A&apos;)); Ëß£Èáä: String(x) does not create an object but does return a string, i.e. typeof String(1) === ‚Äústring‚Äù ËøòÊòØÂàöÊâçÁöÑÁü•ËØÜÁÇπ, Âè™‰∏çËøá String ‰∏ç‰ªÖÊòØ‰∏™ÊûÑÈÄ†ÂáΩÊï∞ Áõ¥Êé•Ë∞ÉÁî®ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âì¶. Á≠îÊ°à ‚ÄòCase A‚Äô Á¨¨11È¢òfunction isOdd(num) { return num % 2 == 1; } function isEven(num) { return num % 2 == 0; } function isSane(num) { return isEven(num) || isOdd(num); } var values = [7, 4, &apos;13&apos;, -9, Infinity]; values.map(isSane); ‰∏Ä‰∏™Áü•ËØÜÁÇπ Arithmetic_Operators#Remainder Ê≠§È¢òÁ≠â‰ª∑‰∫é123457 % 2 =&gt; 14 % 2 =&gt; 0&apos;13&apos; % 2 =&gt; 1-9 % % 2 =&gt; -1Infinity % 2 =&gt; NaN ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ ‰ΩôÊï∞ÁöÑÊ≠£Ë¥üÂè∑ÈöèÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÊï∞. Á≠îÊ°à [true, true, true, false, false] Á¨¨12È¢òparseInt(3, 8) parseInt(3, 2) parseInt(3, 0) Á¨¨‰∏Ä‰∏™È¢òËÆ≤Ëøá‰∫Ü, Á≠îÊ°à 3, NaN, 3 Á¨¨13È¢òArray.isArray( Array.prototype ) ‰∏Ä‰∏™Áü•ËØÜÁÇπ: Array/prototype ‰∏Ä‰∏™È≤ú‰∏∫‰∫∫Áü•ÁöÑÂÆû‰∫ã: Array.prototype =&gt; []; Á≠îÊ°à: true Á¨¨14È¢òvar a = [0]; if ([0]) { console.log(a == true); } else { console.log(&quot;wut&quot;); } JavaScript-Equality-Table Á≠îÊ°à: false Á¨¨15È¢ò[]==[] == ÊòØ‰∏áÊÅ∂‰πãÊ∫ê, Áúã‰∏äÂõæ Á≠îÊ°àÊòØ false Á¨¨16È¢ò&apos;5&apos; + 3 &apos;5&apos; - 3 ‰∏§‰∏™Áü•ËØÜÁÇπ: Arithmetic_Operators#Addition Arithmetic_Operators#Subtraction Áî®Êù•Ë°®Á§∫‰∏§‰∏™Êï∞ÁöÑÂíåÊàñËÄÖÂ≠óÁ¨¶‰∏≤ÊãºÊé•, -Ë°®Á§∫‰∏§Êï∞‰πãÂ∑Æ. ËØ∑Áúã‰æãÂ≠ê, ‰Ωì‰ºöÂå∫Âà´:12345678910&gt; &apos;5&apos; + 3&apos;53&apos;&gt; 5 + &apos;3&apos;&apos;53&apos;&gt; 5 - &apos;3&apos;2&gt; &apos;5&apos; - 32&gt; &apos;5&apos; - &apos;3&apos;2 ‰πüÂ∞±ÊòØËØ¥ - ‰ºöÂ∞ΩÂèØËÉΩÁöÑÂ∞Ü‰∏§‰∏™Êìç‰ΩúÊï∞ÂèòÊàêÊï∞Â≠ó, ËÄå + Â¶ÇÊûú‰∏§Ëæπ‰∏çÈÉΩÊòØÊï∞Â≠ó, ÈÇ£‰πàÂ∞±ÊòØÂ≠óÁ¨¶‰∏≤ÊãºÊé•. Á≠îÊ°àÊòØ ‚Äò53‚Äô, 2 Á¨¨17È¢ò1 + - + + + - + 1 ËøôÈáåÂ∫îËØ•ÊòØ(ÂÄíÁùÄÁúã) 1 + (a) =&gt; 2 a = - (b) =&gt; 1 b = + (c) =&gt; -1 c = + (d) =&gt; -1 d = + (e) =&gt; -1 e = + (f) =&gt; -1 f = - (g) =&gt; -1 g = + 1 =&gt; 1 ÊâÄ‰ª•Á≠îÊ°à 2 Á¨¨18È¢òvar ary = Array(3); ary[0]=2 ary.map(function(elem) { return &apos;1&apos;; }); Á®ÄÁñèÊï∞ÁªÑ. ÂêåÁ¨¨7È¢ò. È¢òÁõÆ‰∏≠ÁöÑÊï∞ÁªÑÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫3, ‰ΩÜÊòØÊ≤°ÊúâÂÜÖÂÆπÁöÑÊï∞ÁªÑ, array ‰∏äÁöÑÊìç‰Ωú‰ºöË∑≥ËøáËøô‰∫õÊú™ÂàùÂßãÂåñÁöÑ‚ÄôÂùë‚Äô. ÊâÄ‰ª•Á≠îÊ°àÊòØ [‚Äú1‚Äù, undefined √ó 2] ËøôÈáåË¥¥‰∏ä Array.prototype.map ÁöÑ polyfill. Array.prototype.map = function(callback, thisArg) { var T, A, k; if (this == null) { throw new TypeError(&apos; this is null or not defined&apos;); } var O = Object(this); var len = O.length &gt;&gt;&gt; 0; if (typeof callback !== &apos;function&apos;) { throw new TypeError(callback + &apos; is not a function&apos;); } if (arguments.length &gt; 1) { T = thisArg; } A = new Array(len); k = 0; while (k &lt; len) { var kValue, mappedValue; if (k in O) { kValue = O[k]; mappedValue = callback.call(T, kValue, k, O); A[k] = mappedValue; } k++; } return A; }; Á¨¨19È¢òfunction sidEffecting(ary) { ary[0] = ary[2]; } function bar(a,b,c) { c = 10 sidEffecting(arguments); return a + b + c; } bar(1,1,1) ËøôÊòØ‰∏Ä‰∏™Â§ßÂùë, Â∞§ÂÖ∂ÊòØÊ∂âÂèäÂà∞ ES6ËØ≠Ê≥ïÁöÑÊó∂ÂÄô Áü•ËØÜÁÇπ: Functions/arguments È¶ñÂÖà The arguments object is an Array-like object corresponding to the arguments passed to a function. ‰πüÂ∞±ÊòØËØ¥ arguments ÊòØ‰∏Ä‰∏™ object, c Â∞±ÊòØ arguments[2], ÊâÄ‰ª•ÂØπ‰∫é c ÁöÑ‰øÆÊîπÂ∞±ÊòØÂØπ arguments[2] ÁöÑ‰øÆÊîπ. ÊâÄ‰ª•Á≠îÊ°àÊòØ 21. ÁÑ∂ËÄå!!!!!! ÂΩìÂáΩÊï∞ÂèÇÊï∞Ê∂âÂèäÂà∞ any rest parameters, any default parameters or any destructured parameters ÁöÑÊó∂ÂÄô, Ëøô‰∏™ arguments Â∞±‰∏çÂú®ÊòØ‰∏Ä‰∏™ mapped arguments object ‰∫Ü‚Ä¶.. ËØ∑Áúã: function sidEffecting(ary) { ary[0] = ary[2]; } function bar(a,b,c=3) { c = 10 sidEffecting(arguments); return a + b + c; } bar(1,1,1) Á≠îÊ°àÊòØ 12 !!!! ËØ∑ËØªËÄÖÁªÜÁªÜ‰Ωì‰ºö!! Á¨¨20È¢òvar a = 111111111111111110000, b = 1111; a + b; Á≠îÊ°àËøòÊòØ 111111111111111110000. Ëß£ÈáäÊòØ Lack of precision for numbers in JavaScript affects both small and big numbers. ‰ΩÜÊòØÁ¨îËÄÖ‰∏çÊòØÂæàÊòéÁôΩ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ËØ∑ËØªËÄÖËµêÊïô! Á¨¨21È¢òvar x = [].reverse; x(); Ëøô‰∏™È¢òÊúâÊÑèÊÄù! Áü•ËØÜÁÇπ: Array/reverse The reverse method transposes the elements of the calling array object in place, mutating the array, and returning a reference to the array. ‰πüÂ∞±ÊòØËØ¥ ÊúÄÂêé‰ºöËøîÂõûËøô‰∏™Ë∞ÉÁî®ËÄÖ(this), ÂèØÊòØ x ÊâßË°åÁöÑÊó∂ÂÄôÊòØ‰∏ä‰∏ãÊñáÊòØÂÖ®Â±Ä. ÈÇ£‰πàÊúÄÂêéËøîÂõûÁöÑÊòØ window. Á≠îÊ°àÊòØ window Á¨¨22È¢òNumber.MIN_VALUE &gt; 0 true Á¨¨23È¢ò[1 &lt; 2 &lt; 3, 3 &lt; 2 &lt; 1] Ëøô‰∏™È¢ò‰πüËøòÂèØ‰ª•. Ëøô‰∏™È¢ò‰ºöËÆ©‰∫∫ËØØ‰ª•‰∏∫ÊòØ 2 &gt; 1 &amp;&amp; 2 &lt; 3 ÂÖ∂ÂÆû‰∏çÊòØÁöÑ. Ëøô‰∏™È¢òÁ≠â‰ª∑‰∫é 1 &lt; 2 =&gt; true; true &lt; 3 =&gt; 1 &lt; 3 =&gt; true; 3 &lt; 2 =&gt; false; false &lt; 1 =&gt; 0 &lt; 1 =&gt; true; Á≠îÊ°àÊòØ [true, true] Á¨¨24È¢ò// the most classic wtf 2 == [[[2]]] Ëøô‰∏™È¢òÊàëÊòØÁåúÁöÑ. ÊàëÁåúÁöÑ true, Ëá≥‰∫é‰∏∫‰ªÄ‰πà‚Ä¶.. both objects get converted to strings and in both cases the resulting string is ‚Äú2‚Äù Êàë‰∏çËÉΩ‰ø°Êúç‚Ä¶ Á¨¨25È¢ò3.toString() 3..toString() 3...toString() Ëøô‰∏™È¢ò‰πüÊå∫ÈÄó, ÊàëÂÅöÂØπ‰∫Ü :) Á≠îÊ°àÊòØ error, ‚Äò3‚Äô, error ‰Ω†Â¶ÇÊûúÊç¢‰∏Ä‰∏™ÂÜôÊ≥ïÂ∞±Êõ¥Ë¥πËß£‰∫Ü var a = 3; a.toString() Ëøô‰∏™Á≠îÊ°àÂ∞±ÊòØ ‚Äò3‚Äô; ‰∏∫Âï•Âë¢? Âõ†‰∏∫Âú® js ‰∏≠ 1.1, 1., .1 ÈÉΩÊòØÂêàÊ≥ïÁöÑÊï∞Â≠ó. ÈÇ£‰πàÂú®Ëß£Êûê 3.toString ÁöÑÊó∂ÂÄôËøô‰∏™ . Âà∞Â∫ïÊòØÂ±û‰∫éËøô‰∏™Êï∞Â≠óËøòÊòØÂáΩÊï∞Ë∞ÉÁî®Âë¢? Âè™ËÉΩÊòØÊï∞Â≠ó, Âõ†‰∏∫3.ÂêàÊ≥ïÂïä! Á¨¨26È¢ò(function(){ var x = y = 1; })(); console.log(y); console.log(x); Á≠îÊ°àÊòØ 1, error y Ë¢´ËµãÂÄºÂà∞ÂÖ®Â±Ä. x ÊòØÂ±ÄÈÉ®ÂèòÈáè. ÊâÄ‰ª•ÊâìÂç∞ x ÁöÑÊó∂ÂÄô‰ºöÊä• ReferenceError Á¨¨27È¢òvar a = /123/, b = /123/; a == b a === b Âç≥‰ΩøÊ≠£ÂàôÁöÑÂ≠óÈù¢Èáè‰∏ÄËá¥, ‰ªñ‰ª¨‰πü‰∏çÁõ∏Á≠â. Á≠îÊ°à false, false Á¨¨28È¢òvar a = [1, 2, 3], b = [1, 2, 3], c = [1, 2, 4] a == b a === b a &gt; c a &lt; c Â≠óÈù¢ÈáèÁõ∏Á≠âÁöÑÊï∞ÁªÑ‰πü‰∏çÁõ∏Á≠â. Êï∞ÁªÑÂú®ÊØîËæÉÂ§ßÂ∞èÁöÑÊó∂ÂÄôÊåâÁÖßÂ≠óÂÖ∏Â∫èÊØîËæÉ Á≠îÊ°à false, false, false, true Á¨¨29È¢òvar a = {}, b = Object.prototype; [a.prototype === b, Object.getPrototypeOf(a) === b] Áü•ËØÜÁÇπ: Object/getPrototypeOf Âè™Êúâ Function Êã•Êúâ‰∏Ä‰∏™ prototype ÁöÑÂ±ûÊÄß. ÊâÄ‰ª• a.prototype ‰∏∫ undefined. ËÄå Object.getPrototypeOf(obj) ËøîÂõû‰∏Ä‰∏™ÂÖ∑‰ΩìÂØπË±°ÁöÑÂéüÂûã(ËØ•ÂØπË±°ÁöÑÂÜÖÈÉ®[[prototype]]ÂÄº) Á≠îÊ°à false, true Á¨¨30È¢òfunction f() {} var a = f.prototype, b = Object.getPrototypeOf(f); a === b f.prototype is the object that will become the parent of any objects created with new f while Object.getPrototypeOf returns the parent in the inheritance hierarchy. f.prototype ÊòØ‰ΩøÁî®‰ΩøÁî® new ÂàõÂª∫ÁöÑ f ÂÆû‰æãÁöÑÂéüÂûã. ËÄå Object.getPrototypeOf ÊòØ f ÂáΩÊï∞ÁöÑÂéüÂûã. ËØ∑Áúã: a === Object.getPrototypeOf(new f()) // true b === Function.prototype // true Á≠îÊ°à false 31function foo() { } var oldName = foo.name; foo.name = &quot;bar&quot;; [oldName, foo.name] Á≠îÊ°à [‚Äòfoo‚Äô, ‚Äòfoo‚Äô] Áü•ËØÜÁÇπ: Function/name Âõ†‰∏∫ÂáΩÊï∞ÁöÑÂêçÂ≠ó‰∏çÂèØÂèò. Á¨¨32È¢ò&quot;1 2 3&quot;.replace(/\d/g, parseInt) Áü•ËØÜÁÇπ: String/replace#Specifying_a_function_as_a_parameter str.replace(regexp|substr, newSubStr|function) Â¶ÇÊûúreplaceÂáΩÊï∞‰º†ÂÖ•ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂáΩÊï∞, ÈÇ£‰πàËøô‰∏™ÂáΩÊï∞Â∞ÜÊé•ÂèóÂ¶Ç‰∏ãÂèÇÊï∞ match È¶ñÂÖàÊòØÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤ p1, p2 ‚Ä¶. ÁÑ∂ÂêéÊòØÊ≠£ÂàôÁöÑÂàÜÁªÑ offset match ÂåπÈÖçÁöÑindex string Êï¥‰∏™Â≠óÁ¨¶‰∏≤ Áî±‰∫éÈ¢òÁõÆ‰∏≠ÁöÑÊ≠£ÂàôÊ≤°ÊúâÂàÜÁªÑ, ÊâÄ‰ª•Á≠â‰ª∑‰∫éÈóÆ parseInt(&apos;1&apos;, 0) parseInt(&apos;2&apos;, 2) parseInt(&apos;3&apos;, 4) Á≠îÊ°à: 1, NaN, 3 Á¨¨33È¢òfunction f() {} var parent = Object.getPrototypeOf(f); f.name // ? parent.name // ? typeof eval(f.name) // ? typeof eval(parent.name) // ? ÂÖàËØ¥‰ª•‰∏ãÁ≠îÊ°à ‚Äòf‚Äô, ‚ÄòEmpty‚Äô, ‚Äòfunction‚Äô, error Ëøô‰∏™Á≠îÊ°àÂπ∂‰∏çÈáçË¶Å‚Ä¶.. ËøôÈáåÁ¨¨‰∏ÄÂ∞èÈóÆÂíåÁ¨¨‰∏âÂ∞èÈóÆÂæàÁÆÄÂçï‰∏çËß£Èáä‰∫Ü. Á¨¨‰∫åÂ∞èÈóÆÁ¨îËÄÖÂú®Ëá™Â∑±ÁöÑÊµèËßàÂô®ÊµãËØïÁöÑÊó∂ÂÄôÊòØ ‚Äò‚Äô, Á¨¨ÂõõÈóÆÊòØ ‚Äòundefined‚Äô ÊâÄ‰ª•Â∫îËØ•ÊòØÂπ≥Âè∞Áõ∏ÂÖ≥ÁöÑ. ËøôÈáåÊòéÁôΩ parent === Function.prototype Â∞±Â•Ω‰∫Ü. Á¨¨34È¢òvar lowerCaseOnly = /^[a-z]+$/; [lowerCaseOnly.test(null), lowerCaseOnly.test()] Áü•ËØÜÁÇπ: RegExp/test ËøôÈáå test ÂáΩÊï∞‰ºöÂ∞ÜÂèÇÊï∞ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤. ‚Äònul‚Äô, ‚Äòundefined‚Äô Ëá™ÁÑ∂ÈÉΩÊòØÂÖ®Â∞èÂÜô‰∫Ü Á≠îÊ°à: true, true Á¨¨35È¢ò[,,,].join(&quot;, &quot;) [,,,] =&gt; [undefined √ó 3] Âõ†‰∏∫javascript Âú®ÂÆö‰πâÊï∞ÁªÑÁöÑÊó∂ÂÄôÂÖÅËÆ∏ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÂêéË∑ü‰∏Ä‰∏™,, ÊâÄ‰ª•ËøôÊòØ‰∏™ÈïøÂ∫¶‰∏∫‰∏âÁöÑÁ®ÄÁñèÊï∞ÁªÑ(ËøôÊòØÈïøÂ∫¶‰∏∫‰∏â, Âπ∂Ê≤°Êúâ 0, 1, 2‰∏â‰∏™Â±ûÊÄßÂì¶) Á≠îÊ°à: ‚Äú, , ‚Äú Á¨¨36È¢òvar a = {class: &quot;Animal&quot;, name: &apos;Fido&apos;}; a.class Ëøô‰∏™È¢òÊØîËæÉÊµÅÊ∞ì.. Âõ†‰∏∫ÊòØÊµèËßàÂô®Áõ∏ÂÖ≥, classÊòØ‰∏™‰øùÁïôÂ≠ó(Áé∞Âú®ÊòØ‰∏™ÂÖ≥ÈîÆÂ≠ó‰∫Ü) ÊâÄ‰ª•Á≠îÊ°à‰∏çÈáçË¶Å, ÈáçË¶ÅÁöÑÊòØËá™Â∑±Âú®ÂèñÂ±ûÊÄßÂêçÁß∞ÁöÑÊó∂ÂÄôÂ∞ΩÈáèÈÅøÂÖç‰øùÁïôÂ≠ó. Â¶ÇÊûú‰ΩøÁî®ÁöÑËØùËØ∑Âä†ÂºïÂè∑ a[‚Äòclass‚Äô] Á¨¨37È¢òvar a = new Date(&quot;epoch&quot;) Áü•ËØÜÁÇπ: Date Date/parse ÁÆÄÂçïÊù•ËØ¥, Â¶ÇÊûúË∞ÉÁî® Date ÁöÑÊûÑÈÄ†ÂáΩÊï∞‰º†ÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁöÑËØùÈúÄË¶ÅÁ¨¶ÂêàËßÑËåÉ, Âç≥Êª°Ë∂≥ Date.parse ÁöÑÊù°‰ª∂. Âè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ Â¶ÇÊûúÊ†ºÂºèÈîôËØØ ÊûÑÈÄ†ÂáΩÊï∞ËøîÂõûÁöÑ‰ªçÊòØ‰∏Ä‰∏™Date ÁöÑÂÆû‰æã Invalid Date. Á≠îÊ°à Invalid Date Á¨¨38È¢òvar a = Function.length, b = new Function().length a === b Êàë‰ª¨Áü•ÈÅì‰∏Ä‰∏™function(Function ÁöÑÂÆû‰æã)ÁöÑ length Â±ûÊÄßÂ∞±ÊòØÂáΩÊï∞Á≠æÂêçÁöÑÂèÇÊï∞‰∏™Êï∞, ÊâÄ‰ª• b.length == 0. Âè¶Â§ñ Function.length ÂÆö‰πâ‰∏∫1‚Ä¶‚Ä¶ ÊâÄ‰ª•‰∏çÁõ∏Á≠â‚Ä¶‚Ä¶.Á≠îÊ°à false Á¨¨39È¢òvar a = Date(0); var b = new Date(0); var c = new Date(); [a === b, b === c, a === c] ËøòÊòØÂÖ≥‰∫éDate ÁöÑÈ¢ò, ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ Â¶ÇÊûú‰∏ç‰º†ÂèÇÊï∞Á≠â‰ª∑‰∫éÂΩìÂâçÊó∂Èó¥. Â¶ÇÊûúÊòØÂáΩÊï∞Ë∞ÉÁî® ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤. Á≠îÊ°à false, false, false Á¨¨40È¢òvar min = Math.min(), max = Math.max() min &lt; max Áü•ËØÜÁÇπ: Math/min Math/max ÊúâË∂£ÁöÑÊòØ, Math.min ‰∏ç‰º†ÂèÇÊï∞ËøîÂõû Infinity, Math.max ‰∏ç‰º†ÂèÇÊï∞ËøîÂõû -InfinityüòÜ Á≠îÊ°à: false Á¨¨41È¢òfunction captureOne(re, str) { var match = re.exec(str); return match &amp;&amp; match[1]; } var numRe = /num=(\d+)/ig, wordRe = /word=(\w+)/i, a1 = captureOne(numRe, &quot;num=1&quot;), a2 = captureOne(wordRe, &quot;word=1&quot;), a3 = captureOne(numRe, &quot;NUM=2&quot;), a4 = captureOne(wordRe, &quot;WORD=2&quot;); [a1 === a2, a3 === a4] Áü•ËØÜÁÇπ: RegExp/exec ÈÄö‰øóÁöÑËÆ≤ Âõ†‰∏∫Á¨¨‰∏Ä‰∏™Ê≠£ÂàôÊúâ‰∏Ä‰∏™ g ÈÄâÈ°π ÂÆÉ‰ºö‚ÄòËÆ∞ÂøÜ‚Äô‰ªñÊâÄÂåπÈÖçÁöÑÂÜÖÂÆπ, Á≠âÂåπÈÖçÂêé‰ªñ‰ºö‰ªé‰∏äÊ¨°ÂåπÈÖçÁöÑÁ¥¢ÂºïÁªßÁª≠, ËÄåÁ¨¨‰∫å‰∏™Ê≠£Âàô‰∏ç‰ºö ‰∏æ‰∏™‰æãÂ≠ê var myRe = /ab*/g; var str = &apos;abbcdefabh&apos;; var myArray; while ((myArray = myRe.exec(str)) !== null) { var msg = &apos;Found &apos; + myArray[0] + &apos;. &apos;; msg += &apos;Next match starts at &apos; + myRe.lastIndex; console.log(msg); } // Found abb. Next match starts at 3 // Found ab. Next match starts at 9 ÊâÄ‰ª• a1 = ‚Äò1‚Äô; a2 = ‚Äò1‚Äô; a3 = null; a4 = ‚Äò2‚Äô Á≠îÊ°à [true, false] Á¨¨42È¢òvar a = new Date(&quot;2014-03-19&quot;), b = new Date(2014, 03, 19); [a.getDay() === b.getDay(), a.getMonth() === b.getMonth()] Ëøô‰∏™‚Ä¶. JavaScript inherits 40 years old design from C: days are 1-indexed in C‚Äôs struct tm, but months are 0 indexed. In addition to that, getDay returns the 0-indexed day of the week, to get the 1-indexed day of the month you have to use getDate, which doesn‚Äôt return a Date object. a.getDay() 3 b.getDay() 6 a.getMonth() 2 b.getMonth() 3 ÈÉΩÊòØÂ•óË∑Ø! Á≠îÊ°à [false, false] Á¨¨43È¢òif (&apos;http://giftwrapped.com/picture.jpg&apos;.match(&apos;.gif&apos;)) { &apos;a gif file&apos; } else { &apos;not a gif file&apos; } Áü•ËØÜÁÇπ: String/match String.prototype.match Êé•Âèó‰∏Ä‰∏™Ê≠£Âàô, Â¶ÇÊûú‰∏çÊòØ, ÊåâÁÖß new RegExp(obj) ËΩ¨Âåñ. ÊâÄ‰ª• . Âπ∂‰∏ç‰ºöËΩ¨‰πâÈÇ£‰πà /gif Â∞±ÂåπÈÖç‰∫Ü /.gif/ Á≠îÊ°à: ‚Äòa gif file‚Äô Á¨¨44È¢òfunction foo(a) { var a; return a; } function bar(a) { var a = &apos;bye&apos;; return a; } [foo(&apos;hello&apos;), bar(&apos;hello&apos;)] Âú®‰∏§‰∏™ÂáΩÊï∞Èáå, a‰Ωú‰∏∫ÂèÇÊï∞ÂÖ∂ÂÆûÂ∑≤ÁªèÂ£∞Êòé‰∫Ü, ÊâÄ‰ª• var a; var a = ‚Äòbye‚Äô ÂÖ∂ÂÆûÂ∞±ÊòØ a; a =‚Äôbye‚Äô ÊâÄ‰ª•Á≠îÊ°à ‚Äòhello‚Äô, ‚Äòbye‚Äô ÂÖ®ÈÉ®ÁªìÊùü!]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6Ê®°Êãücall,apply,bind]]></title>
    <url>%2F2018%2F12%2F05%2FES6%E6%A8%A1%E6%8B%9Fcall-apply-bind%2F</url>
    <content type="text"><![CDATA[ES6Ëá™Â∑±ÂÆûÁé∞ call 123456789101112131415161718192021Function.prototype.call2 = function(context,...list) &#123; context = context || window; context.fn = this; let result = context.fn(...list); delete context.fn return result;&#125;var value = &quot;JS&quot;;var foo = &#123; value: &quot;Node&quot;&#125;;function bar(...list) &#123; console.log(this.value); console.log(list)&#125;bar.call2(foo,1,2,3);bar.call2(null,4,5,6);bar.call2(undefined,4,5,6); apply 123456789101112131415161718192021Function.prototype.apply2 = function(context,arr) &#123; context = context || window; context.fn = this; let result = context.fn(...arr); delete context.fn return result;&#125;var value = &quot;JS&quot;;var foo = &#123; value: &quot;Node&quot;&#125;;function bar(...list) &#123; console.log(this.value); console.log(list)&#125;bar.apply2(foo,[1,2,3]);bar.apply2(null,[4,5,6]);bar.apply2(undefined,[4,5,6]); bind1 123456789101112131415161718192021222324Function.prototype.bind1 = function(context, ...arr1) &#123; let func = this; return function(...arr2) &#123; //func.apply(context, [...arr1, ...arr2]); func.call(context, ...arr1, ...arr2); &#125;&#125;var value = &quot;JS&quot;;var foo = &#123; value: &quot;Node&quot;&#125;;function bar(...list) &#123; console.log(this.value); console.log(list)&#125;bar.bind1(foo, 1, 2)(3, 4);bar.bind1(null, 5, 6)(7, 8);bar.bind1(null)(5, 6, 7, 8);bar.bind1(undefined)(5, 6, 7, 8); bind2 12345678910111213141516171819202122Function.prototype.bind2 = function(context, ...arr1) &#123; context = context || window; context.fn = this; return function(...arr2) &#123; return context.fn(...arr1, ...arr2); &#125;;&#125;var value = &quot;JS&quot;;var foo = &#123; value: &quot;Node&quot;&#125;;function bar(...list) &#123; console.log(this.value); console.log(list)&#125;bar.bind2(foo, 1, 2)(3, 4);bar.bind2(null, 5, 6)(7, 8);bar.bind2(null)(5, 6, 7, 8);bar.bind2(undefined)(5, 6, 7, 8); Êúâ‰ªÄ‰πàÈóÆÈ¢òÔºüÂâçÈù¢Êàë‰ª¨Áî®ÁöÑ eval ÊñπÂºèÂèØ‰ª•Áî® ES6 ÁöÑËß£ÂÜ≥ËøòÂ≠òÂú®ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåÊúâÊ≤°ÊúâÊ≥®ÊÑèÂà∞ÔºåËøôÊÆµ‰ª£Á†ÅÊòØÊúâÈóÆÈ¢òÁöÑ„ÄÇ1context.fn = this; ÂÅáÂ¶ÇÂØπË±°Âú®Ë¢´ call Ë∞ÉÁî®ÂâçÔºåÂ∑≤ÁªèÊúâ fn Â±ûÊÄßÊÄé‰πàÂäûÔºü ES6 ‰∏≠Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåSymbolÔºåË°®Á§∫Áã¨‰∏ÄÊó†‰∫åÁöÑÂÄºÔºåÂè¶Â§ñÔºåSymbol ‰Ωú‰∏∫Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰∏çËÉΩ‰ΩøÁî®ÁÇπËøêÁÆóÁ¨¶„ÄÇÊâÄ‰ª•ÂÜçÂä†‰∏ä ES ÁöÑ rest Ââ©‰ΩôÂèÇÊï∞Êõø‰ª£ arguments ÈÅçÂéÜÁöÑÂ∑•‰ΩúÂ∞±ÊúâÔºö 123456789101112131415161718192021222324Function.prototype.newCall = function (context,...params) &#123; if (typeof context === &apos;object&apos;) &#123; context = context || window &#125; else &#123; context = Object.create(null); &#125; let fn = Symbol(); context[fn] = thisvar result = context[fn](...params); delete context.fn; return result;&#125;var person = &#123; name: &quot;jayChou&quot;&#125;;functionsay(age, sex) &#123; console.log(`name: $&#123;this.name&#125;,age: $&#123;age&#125;, sex: $&#123;sex&#125;`); return age + sex;&#125;var check = say.newCall(person, 18, &apos;Áî∑&apos;);console.log(check); // 18Áî∑ apply Âíå call ÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂü∫Êú¨Á±ª‰ººÔºåÂå∫Âà´Âú®‰∫é apply ÁöÑÂèÇÊï∞ÊòØ‰ª•Êï∞ÁªÑÁöÑÂΩ¢Âºè‰º†ÂÖ• 123456789101112Function.prototype.newApply = function(context, parameter) &#123; if (typeof context === &apos;object&apos;) &#123; context = context || window &#125; else &#123; context = Object.create(null) &#125; let fn = Symbol() context[fn] = this; var result = context[fn](...parameter); delete context[fn]; return result;&#125;]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
        <tag>call</tag>
        <tag>apply</tag>
        <tag>bind</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÂ∞æÈÄíÂΩí]]></title>
    <url>%2F2018%2F12%2F01%2FJS%E5%B0%BE%E9%80%92%E5%BD%92%2F</url>
    <content type="text"><![CDATA[Ê∫ê‰∫éÂâçÁ´ØÁæ§ÈáåÈù¢ÁöÑ‰∏ÄÈÅìÁ§æÊãõÁ¨îËØïÈ¢ò ÂÆûÁé∞‰∏Ä‰∏™ÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÔºå Â∑≤Áü•Á¨¨‰∏ÄÈ°π‰∏∫0ÔºåÁ¨¨‰∫åÈ°π‰∏∫1ÔºåÁ¨¨‰∏âÈ°π‰∏∫1ÔºåÂêé‰∏ÄÈ°πÊòØÂâç‰∏§È°π‰πãÂíå,Â¶Ç‰∏ãÔºåÂç≥f(n) = f(n - 1) + f(n -2)„ÄÇ 10, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, ... ÊãøÂà∞Ëøô‰∏™È¢òÁõÆÔºå‰∫åËØùÊ≤°ÊÉ≥Â∞±ÂÜô‰∫Ü,ÊâîÂà∞Áæ§Èáå12345function f(n) &#123; if(n === 0) return0; if(n === 1) return1; return f(n - 1) + f(n -2);&#125; Áæ§ÈáåÊúâÂ§ßÁ•ûÊèêÈÜíËøô‰∏™È¢òÊîæÂà∞Á§æÊãõÈ¢òÈáåÈù¢ÊòéÊòæÊ≤°Ëøô‰πàÁÆÄÂçïÔºåÊØèÊ¨°ÈÄíÂΩíË∞ÉÁî®ÈÉΩ‰ºöÂëàÊåáÊï∞ÂæÄË∞ÉÁî®Ê†àÈáåÂ¢ûÂä†ËÆ∞ÂΩïË∞ÉÁî®Â∏ßÔºåËøôÊ†∑ÂÅöÔºåÂΩìÈ°πÊØîËæÉÂ§öÔºåÂ∞±‰ºöÂá∫Áé∞Ê†àÊ∫¢Âá∫ÁöÑÔºÅÔºÅÔºÅ ‰πüÂ∞±ÊòØÔºå‰ª•‰∏äCodeÂè™ËÉΩËØ¥ÂàöÂàöÂèäÊ†ºÔºåÊ≠£Á°ÆÂßøÂäøÂ∫îËØ•Áî®Â∞æÈÄíÂΩí‰ºòÂåñÔºåË∞ÉÁî®Â∏ß‰øùÊåÅÂè™Êúâ‰∏Ä‰∏™„ÄÇ Ê≠£Ëß£Â∞±ÊòØÔºö 123456function f(n, prev, next) &#123; if(n &lt;= 1) &#123; return next; &#125; return f(n - 1, next, prev + next);&#125; ‰∏ãÈù¢Êù•Â§ç‰π†‰∏Ä‰∏ãÁü•ËØÜÁÇπÔºöÂ∞æË∞ÉÁî®ÂíåÂ∞æÈÄíÂΩí„ÄÇ Â∞æË∞É‰ºòÂåñ123456789101112131415161718// Â∞æÈÄíÂΩíÊñπÂºèfunction factorial1(n,total) &#123; if (n === 1) &#123; return total; &#125; return factorial1(n - 1, n * total);&#125;// ÊôÆÈÄöÈÄíÂΩíÊñπÂºèfunction factorial2(n) &#123; if (n === 1) &#123; return 1; &#125; return n * factorial2(n - 1);&#125;console.log(factorial1(25,1)); // 1.5511210043330984e+25 console.log(factorial2(25)); // 1.5511210043330986e+25 Âú®Áü•ÈÅìÂ∞æÈÄíÂΩí‰πãÂâçÔºåÊàë‰ª¨Ë¶ÅÁõ¥Âà∞‰ªÄ‰πàÊòØÂ∞æË∞ÉÁî®‰ºòÂåñÔºåÂõ†‰∏∫Â∞æË∞ÉÁî®‰ºòÂåñÊòØÂ∞æÈÄíÂΩíÁöÑÂü∫Á°Ä„ÄÇÂ∞æË∞ÉÁî®Â∞±ÊòØÔºöÂú®ÂáΩÊï∞ÁöÑÊúÄÂêé‰∏ÄÊ≠•Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ123function f() &#123; return g()&#125; ÊúÄÂêé‰∏ÄÊ≠•ÂøÖÈ°ªÊòØË∞ÉÁî®Âè¶‰∏ÄÂáΩÊï∞ÔºåËÄå‰∏çËÉΩÊòØ‰∏Ä‰∏™Â∏∏ÈáèÊàñÊòØ‰∏Ä‰∏™Ë°®ËææÂºèÔºåÂ¶Ç return yÊàñ return g() + 1 Â∞æË∞ÉÁî®‰ºòÂåñÁöÑÂéüÁêÜÊòØ‰ªÄ‰πàÔºüÊåâÁÖßÈòÆ‰∏ÄÂ≥∞ËÄÅÂ∏àÂú®es6ÁöÑÂáΩÊï∞Êâ©Â±ï‰∏≠ÁöÑËß£ÈáäÂ∞±ÊòØÔºö Â∞æË∞ÉÁî®‰πãÊâÄ‰ª•‰∏éÂÖ∂‰ªñË∞ÉÁî®‰∏çÂêåÔºåÂ∞±Âú®‰∫éÂÆÉÁöÑÁâπÊÆäÁöÑË∞ÉÁî®‰ΩçÁΩÆ„ÄÇ Êàë‰ª¨Áü•ÈÅìÔºåÂáΩÊï∞Ë∞ÉÁî®‰ºöÂú®ÂÜÖÂ≠òÂΩ¢Êàê‰∏Ä‰∏™‚ÄúË∞ÉÁî®ËÆ∞ÂΩï‚ÄùÔºåÂèàÁß∞‚ÄúË∞ÉÁî®Â∏ß‚ÄùÔºàcall frameÔºâÔºå‰øùÂ≠òË∞ÉÁî®‰ΩçÁΩÆÂíåÂÜÖÈÉ®ÂèòÈáèÁ≠â‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúÂú®ÂáΩÊï∞AÁöÑÂÜÖÈÉ®Ë∞ÉÁî®ÂáΩÊï∞BÔºåÈÇ£‰πàÂú®AÁöÑË∞ÉÁî®Â∏ß‰∏äÊñπÔºåËøò‰ºöÂΩ¢Êàê‰∏Ä‰∏™BÁöÑË∞ÉÁî®Â∏ß„ÄÇÁ≠âÂà∞BËøêË°åÁªìÊùüÔºåÂ∞ÜÁªìÊûúËøîÂõûÂà∞AÔºåBÁöÑË∞ÉÁî®Â∏ßÊâç‰ºöÊ∂àÂ§±„ÄÇÂ¶ÇÊûúÂáΩÊï∞BÂÜÖÈÉ®ËøòË∞ÉÁî®ÂáΩÊï∞CÔºåÈÇ£Â∞±ËøòÊúâ‰∏Ä‰∏™CÁöÑË∞ÉÁî®Â∏ßÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇÊâÄÊúâÁöÑË∞ÉÁî®Â∏ßÔºåÂ∞±ÂΩ¢Êàê‰∏Ä‰∏™‚ÄúË∞ÉÁî®Ê†à‚ÄùÔºàcall stackÔºâ„ÄÇ Â∞æË∞ÉÁî®Áî±‰∫éÊòØÂáΩÊï∞ÁöÑÊúÄÂêé‰∏ÄÊ≠•Êìç‰ΩúÔºåÊâÄ‰ª•‰∏çÈúÄË¶Å‰øùÁïôÂ§ñÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÔºåÂõ†‰∏∫Ë∞ÉÁî®‰ΩçÁΩÆ„ÄÅÂÜÖÈÉ®ÂèòÈáèÁ≠â‰ø°ÊÅØÈÉΩ‰∏ç‰ºöÂÜçÁî®Âà∞‰∫ÜÔºåÂè™Ë¶ÅÁõ¥Êé•Áî®ÂÜÖÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÔºåÂèñ‰ª£Â§ñÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ËøôÈáåÁöÑ‚ÄúË∞ÉÁî®Â∏ß‚ÄùÂíå‚ÄúË∞ÉÁî®Ê†à‚ÄùÔºåËØ¥ÁöÑÂ∫îËØ•Â∞±ÊòØ‚ÄúÊâßË°åÁéØÂ¢É‚ÄùÂíå‚Äú‰ΩúÁî®ÂüüÈìæ‚Äù„ÄÇÂõ†‰∏∫Â∞æË∞ÉÁî®Êó∂ÂáΩÊï∞ÁöÑÊúÄÂêé‰∏ÄÈÉ®Êìç‰ΩúÔºåÊâÄ‰ª•‰∏çÂÜçÈúÄË¶Å‰øùÁïôÂ§ñÂ±ÇÁöÑË∞ÉÁî®Â∏ßÔºåËÄåÊòØÁõ¥Êé•Âèñ‰ª£Â§ñÂ±ÇÁöÑË∞ÉÁî®Â∏ßÔºåÊâÄ‰ª•ÂèØ‰ª•Ëµ∑Âà∞‰∏Ä‰∏™‰ºòÂåñÁöÑ‰ΩúÁî®„ÄÇ Â∞æË∞ÉÁî®Â∞æË∞ÉÁî®ÊòØÊåáÊüê‰∏™ÂáΩÊï∞ÁöÑÊúÄÂêé‰∏ÄÊ≠•ÊòØË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ Â∞æË∞ÉÁî®‰πãÊâÄ‰ª•‰∏éÂÖ∂‰ªñË∞ÉÁî®‰∏çÂêåÔºåÂ∞±Âú®‰∫éÂÆÉÁöÑÁâπÊÆäÁöÑË∞ÉÁî®‰ΩçÁΩÆ„ÄÇ ‰ª•‰∏ã‰∏âÁßçÊÉÖÂÜµÈÉΩ‰∏çÊòØÂ∞æË∞ÉÁî®Ôºö123456789101112131415// ÊÉÖÂÜµ‰∏Äfunction f(x) &#123; let y = g(x); return y;&#125;// ÊÉÖÂÜµ‰∫åfunction f(x) &#123; return g(x) + 1;&#125;// ÊÉÖÂÜµ‰∏âfunction f(x) &#123; g(x);&#125; ÊÉÖÂÜµ‰∏ÄÊòØË∞ÉÁî®ÂáΩÊï∞g‰πãÂêéÔºåËøòÊúâËµãÂÄºÊìç‰ΩúÔºåÊâÄ‰ª•‰∏çÂ±û‰∫éÂ∞æË∞ÉÁî®ÔºåÂç≥‰ΩøËØ≠‰πâÂÆåÂÖ®‰∏ÄÊ†∑„ÄÇÊÉÖÂÜµ‰∫å‰πüÊòØÂ±û‰∫éË∞ÉÁî®ÂêéËøòÊúâÊìç‰Ωú„ÄÇÊÉÖÂÜµ‰∏âÁ≠âÂêå‰∫éÔºö12g(x);return undefined; ÂáΩÊï∞Ë∞ÉÁî®‰ºöÂú®ÂÜÖÂ≠òÂΩ¢Êàê‰∏Ä‰∏™‚ÄúË∞ÉÁî®ËÆ∞ÂΩï‚ÄùÔºåÂèàÁß∞‚ÄúË∞ÉÁî®Â∏ß‚ÄùÔºå‰øùÂ≠òË∞ÉÁî®‰ΩçÁΩÆÂíåÂÜÖÂ≠òÂèòÈáèÁ≠â‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúÂú®ÂáΩÊï∞AÁöÑÂÜÖÈÉ®Ë∞ÉÁî®ÂáΩÊï∞BÔºåÈÇ£‰πàÂú®AÁöÑË∞ÉÁî®Â∏ß‰∏äÊñπÔºåËøò‰ºöÂΩ¢Êàê‰∏Ä‰∏™BÁöÑË∞ÉÁî®Â∏ß„ÄÇÁ≠âÂà∞BËøêË°åÁªìÊùüÔºåÂ∞ÜÁªìÊûúËøîÂõûÂà∞AÔºåBÁöÑË∞ÉÁî®Â∏ßÊâç‰ºöÊ∂àÂ§±„ÄÇÂ¶ÇÊûúÂáΩÊï∞BÂÜÖÈÉ®ËøòË∞ÉÁî®ÂáΩÊï∞CÔºåÈÇ£Â∞±ËøòÊúâ‰∏Ä‰∏™CÁöÑË∞ÉÁî®Â∏ßÔºå‰æùÊ¨°Á±ªÊé®„ÄÇÊâÄÊúâÁöÑË∞ÉÁî®Â∏ßÔºåÂ∞±ÂΩ¢Êàê‰∏Ä‰∏™‚ÄúË∞ÉÁî®Ê†à‚Äù„ÄÇ Â∞æË∞ÉÁî®Áî±‰∫éÊòØÂáΩÊï∞ÁöÑÊúÄÂêé‰∏ÄÊ≠•Êìç‰ΩúÔºåÊâÄÊúâ‰∏çÈúÄË¶Å‰øùÁïôÂ§ñÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÔºåÂõ†‰∏∫Ë∞ÉÁî®‰ΩçÁΩÆ„ÄÅÂÜÖÈÉ®ÂèòÈáèÁ≠â‰ø°ÊÅØÈÉΩ‰∏ç‰ºöÂÜçÁî®Âà∞‰∫ÜÔºåÂè™Ë¶ÅÁõ¥Êé•Áî®ÂÜÖÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÔºåÂèñ‰ª£Â§ñÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ123456789101112131415function f() &#123; let m = 1; let n = 2; return g(m + n);&#125;f();// Á≠âÂêå‰∫éfunction f() &#123; return g(3);&#125;f();// Á≠âÂêå‰∫ég(3); ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂ¶ÇÊûúÂáΩÊï∞g‰∏çÊòØÂ∞æË∞ÉÁî®ÔºåÂáΩÊï∞fÂ∞±ÈúÄË¶Å‰øùÂ≠òÂÜÖÈÉ®ÂèòÈáèmÂíånÁöÑÂÄº„ÄÅgÁöÑË∞ÉÁî®‰ΩçÁΩÆÁ≠â‰ø°ÊÅØ„ÄÇ‰ΩÜÁî±‰∫éË∞ÉÁî®g‰πãÂêéÔºåÂáΩÊï∞fÂ∞±ÁªìÊùü‰∫ÜÔºåÊâÄ‰ª•ÊâßË°åÂà∞ÊúÄÂêé‰∏ÄÊ≠•ÔºåÂÆåÂÖ®ÂèØ‰ª•Âà†Èô§f(x)ÁöÑË∞ÉÁî®Â∏ßÔºåÂè™‰øùÁïôg(3)ÁöÑË∞ÉÁî®Â∏ß„ÄÇ ËøôÂ∞±Âè´ÂÅö‚ÄúÂ∞æË∞ÉÁî®‰ºòÂåñ‚ÄùÔºàTail call optimizationÔºâÔºåÂç≥Âè™‰øùÁïôÂÜÖÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ß„ÄÇÂ¶ÇÊûúÊâÄÊúâÂáΩÊï∞ÈÉΩÊòØÂ∞æË∞ÉÁî®ÔºåÈÇ£‰πàÂÆåÂÖ®ÂèØ‰ª•ÂÅöÂà∞ÊØèÊ¨°ÊâßË°åÊó∂ÔºåË∞ÉÁî®Â∏ßÂè™Êúâ‰∏ÄÈ°πÔºåËøôÂ∞ÜÂ§ßÂ§ßËäÇÁúÅÂÜÖÂ≠ò„ÄÇËøôÂ∞±ÊòØ‚ÄúÂ∞æË∞ÉÁî®‰ºòÂåñ‚ÄùÁöÑÊÑè‰πâ„ÄÇ Â¶ÇÊûúÊâÄÊúâÂáΩÊï∞ÈÉΩÊòØÂ∞æË∞ÉÁî®ÔºåÈÇ£‰πàÂÆåÂÖ®ÂèØ‰ª•ÂÅöÂà∞ÊØèÊ¨°ÊâßË°åÊó∂ÔºåË∞ÉÁî®Â∏ßÂè™Êúâ‰∏ÄÈ°πÔºåËøôÂ∞ÜÂ§ßÂ§ßËäÇÁúÅÂÜÖÂ≠ò„ÄÇËøôÂ∞±ÊòØ‚ÄúÂ∞æË∞ÉÁî®‰ºòÂåñ‚Äù„ÄÇ Ê≥®ÊÑè:Âè™Êúâ‰∏çÂÜçÁî®Âà∞Â§ñÂ±ÇÂáΩÊï∞ÁöÑÂÜÖÈÉ®ÂèòÈáèÔºåÂÜÖÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÊâç‰ºöÂèñ‰ª£Â§ñÂ±ÇÂáΩÊï∞ÁöÑË∞ÉÁî®Â∏ßÔºåÂê¶ÂàôÂ∞±Êó†Ê≥ïËøõË°å‚ÄúÂ∞æË∞ÉÁî®‰ºòÂåñ‚Äù„ÄÇ1234567function addOne(a) &#123; var one = 1; function inner(b) &#123; return b + one; &#125; return inner(a);&#125; ‰∏äÈù¢ÁöÑÂáΩÊï∞‰∏ç‰ºöËøõË°åÂ∞æË∞ÉÁî®‰ºòÂåñÔºåÂõ†‰∏∫ÂÜÖÂ±ÇÂáΩÊï∞innerÁî®Âà∞‰∫ÜÂ§ñÂ±ÇÂáΩÊï∞addOneÁöÑÂÜÖÈÉ®ÂèòÈáèone„ÄÇËøô‰∏ÄÊòØÈó≠ÂåÖÂ∏∏È©ªÂÜÖÂ≠òÁöÑÂéüÂõ†ÔºÅÔºÅÔºÅ Â∞æÈÄíÂΩíÂáΩÊï∞Ë∞ÉÁî®Ëá™Ë∫´ÔºåÁß∞‰∏∫ÈÄíÂΩí„ÄÇÂ¶ÇÊûúÂ∞æË∞ÉÁî®Ëá™Ë∫´ÔºåÂ∞±Áß∞‰∏∫Â∞æÈÄíÂΩí„ÄÇ ÈÄíÂΩíÈùûÂ∏∏ËÄóË¥πÂÜÖÂ≠òÔºåÂõ†‰∏∫ÈúÄË¶ÅÂêåÊó∂‰øùÂ≠òÊàêÁôæ‰∏äÂçÉË∞ÉÁî®Â∏ßÔºåÂæàÂÆπÊòìÂèëÁîü‚ÄúÊ†àÊ∫¢Âá∫‚ÄùÈîôËØØ„ÄÇ‰ΩÜÂØπ‰∫éÂ∞æÈÄíÂΩíÊù•ËØ¥ÔºåÁî±‰∫éÂè™Â≠òÂú®‰∏Ä‰∏™Ë∞ÉÁî®Â∏ßÔºåÊâÄ‰ª•Ê∞∏Ëøú‰∏ç‰ºöÂèëÁîü‚ÄúÊ†àÊ∫¢Âá∫‚ÄùÈîôËØØ„ÄÇ12345function factorial(n) &#123; if (n === 1) return1; return n * factorial(n - 1);&#125;console.log(factorial(5)); // 120 ‰∏äÈù¢ÊúÄÂ§ö‰øùÂ≠òn‰∏™Ë∞ÉÁî®ËÆ∞ÂΩïÔºåÂ§çÊùÇÂ∫¶ÊòØO(n)„ÄÇ Â¶ÇÊûúÊîπÊàêÂ∞æÈÄíÂΩíÔºåÂè™‰øùÁïô‰∏Ä‰∏™Ë∞ÉÁî®ËÆ∞ÂΩïÔºåÂ§çÊùÇÂ∫¶O(1)„ÄÇ12345function factorial(n, total) &#123; if (n === 0) return total; return factorial(n - 1, n * total);&#125;console.log(factorial(5, 1)); // 120 ‰∏ãÈù¢ÂõûÂà∞Êàë‰ª¨ÁöÑ‰∏ªÈ¢òÔºåËÆ°ÁÆóFibonacciÊï∞Âàó„ÄÇ123456function fibonacci(n) &#123; if(n &lt;= 1) return 1; return fibonacci(n -1) + fibonacci(n -2);&#125;console.log(fibonacci(10)); // 89console.log(fibonacci(50)); // stack overflow ‰∏äÈù¢‰∏ç‰ΩøÁî®Â∞æÈÄíÂΩíÔºåÈ°πÊï∞Á®çÂ§ßÁÇπÂ∞±ÂèëÁîü‚ÄùÊ†àÊ∫¢Âá∫‚Äú‰∫Ü„ÄÇ1234567function fibonacci(n, prev, next) &#123; if(n &lt;= 1) return next; return fibonacci(n-1, next, prev + next);&#125;console.log(fibonacci(10, 1, 1)); // 89console.log(fibonacci(100, 1, 1)); // 573147844013817200000console.log(fibonacci(1000, 1, 1)); // 7.0330367711422765e+208 ‰∏äÈù¢È°πÊï∞ÂÜçÂ§ßÈÉΩÁä∂ÊÄÅËâØÂ•Ω„ÄÇ ÊüØÁêÜÂåñÊîπÂÜôÂ∞æÈÄíÂΩíÁöÑÂÆûÁé∞ÔºåÂæÄÂæÄÈúÄË¶ÅÊîπÂÜôÈÄíÂΩíÂáΩÊï∞ÔºåÁ°Æ‰øùÊúÄÂêé‰∏ÄÊ≠•Âè™Ë∞ÉÁî®Ëá™Ë∫´„ÄÇÂÅöÂà∞Ëøô‰∏ÄÁÇπÁöÑÊñπÊ≥ïÔºåÂ∞±ÊòØÊääÊâÄÊúâÁî®Âà∞ÁöÑÂÜÖÈÉ®ÂèòÈáèÊîπÂÜôÊàêÂáΩÊï∞ÁöÑÂèÇÊï∞„ÄÇ‰ΩÜÊòØËøôÊ†∑ÁöÑËØùÂ∞±‰ºöÂ¢ûÂä†ÂàùÂßãÂÖ•ÂèÇÔºåÊØîÂ¶Çfibonacci(10, 1, 1)ÔºåÂêéÈù¢ÁöÑ‰∏§‰∏™ÂèÇÊï∞1Âíå1ÊÑèÊÄù‰∏çÊòéÁ°ÆÔºåÁõ¥Êé•Áî®fibonacci(100)ÊâçÊòØ‰π†ÊÉØÁî®Ê≥ï„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂú®‰∏≠Èó¥È¢ÑÂÖàËÆæÁΩÆÂ•ΩÂàùÂßãÂÖ•ÂèÇÔºåÂ∞ÜÂ§ö‰∏™ÂÖ•ÂèÇËΩ¨ÂåñÊàêÂçï‰∏™ÂÖ•ÂèÇÁöÑÂΩ¢ÂºèÔºåÂè´ÂÅöÂáΩÊï∞ÊüØÁêÜÂåñ„ÄÇÈÄöÁî®ÊñπÂºè‰∏∫Ôºö12345678function curry(fn) &#123; var args = Array.prototype.slice.call(arguments, 1); return function() &#123; var innerArgs = Array.prototype.slice.call(arguments); var finalArgs = innerArgs.concat(args); return fn.apply(null, finalArgs); &#125;&#125; Áî®ÂáΩÊï∞ÊüØÁêÜÂåñÊîπÂÜôÈò∂‰πò1234567function tailFactorial(n, total) &#123; if(n === 1) return total; return tailFactorial(n - 1, n * total);&#125;var factorial = curry(tailFactorial, 1); console.log(factorial(5)); // 120 ÂêåÊ†∑ÊîπÂÜôÊñêÊ≥¢ÊãâÂ•ëÊï∞Âàó123456789function tailFibonacci(n, prev, next) &#123; if(n &lt;= 1) return next; return tailFibonacci(n - 1, next, prev + next);&#125;var fibonacci = curry(fibonacci, 1, 1);console.log(fibonacci(10)); // 89console.log(fibonacci(100)); // 573147844013817200000console.log(fibonacci(1000)); // 7.0330367711422765e+208 ES6ÊîπÂÜôÊüØÁêÜÂåñÁöÑËøáÁ®ãÂÖ∂ÂÆûÊòØÂàùÂßãÂåñ‰∏Ä‰∫õÂèÇÊï∞ÁöÑËøáÁ®ãÔºåÂú®ES6‰∏≠ÔºåÊòØÂèØ‰ª•Áõ¥Êé•ÂáΩÊï∞ÂèÇÊï∞ÈªòËÆ§ËµãÂÄºÁöÑ„ÄÇ Áî®ES6ÊîπÂÜôÈò∂‰πò12345const factorial = (n, total = 1) =&gt; &#123; if(n === 1) return total; return factorial(n - 1, n * total);&#125;console.log(factorial(5)); // 120 Áî®ES6ÊîπÂÜôÊñêÊ≥¢ÊãâÂ•ëÊï∞Âàó1234567const fibonacci = (n, prev = 1, next = 1) =&gt; &#123; if(n &lt;= 1) return next; return fibonacci(n - 1, next, prev + next);&#125;console.log(fibonacci(10)); // 89console.log(fibonacci(100)); // 573147844013817200000 console.log(fibonacci(1000)); // 7.0330367711422765e+208 Áî®ES6ÊûÅÂ§ßÊñπ‰æø‰∫ÜÁÆóÊ≥ïËøêÁî®ÔºÅ ‰∏•Ê†ºÊ®°ÂºèES6 ÁöÑÂ∞æË∞ÉÁî®‰ºòÂåñÂè™Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÂºÄÂêØÔºåÊ≠£Â∏∏Ê®°ÂºèÊòØÊó†ÊïàÁöÑ„ÄÇ ËøôÊòØÂõ†‰∏∫Âú®Ê≠£Â∏∏Ê®°Âºè‰∏ãÔºåÂáΩÊï∞ÂÜÖÈÉ®Êúâ‰∏§‰∏™ÂèòÈáèÔºåÂèØ‰ª•Ë∑üË∏™ÂáΩÊï∞ÁöÑË∞ÉÁî®Ê†à„ÄÇ func.argumentsÔºöËøîÂõûË∞ÉÁî®Êó∂ÂáΩÊï∞ÁöÑÂèÇÊï∞„ÄÇ func.callerÔºöËøîÂõûË∞ÉÁî®ÂΩìÂâçÂáΩÊï∞ÁöÑÈÇ£‰∏™ÂáΩÊï∞„ÄÇ Â∞æË∞ÉÁî®‰ºòÂåñÂèëÁîüÊó∂ÔºåÂáΩÊï∞ÁöÑË∞ÉÁî®Ê†à‰ºöÊîπÂÜôÔºåÂõ†Ê≠§‰∏äÈù¢‰∏§‰∏™ÂèòÈáèÂ∞±‰ºöÂ§±Áúü„ÄÇ‰∏•Ê†ºÊ®°ÂºèÁ¶ÅÁî®Ëøô‰∏§‰∏™ÂèòÈáèÔºåÊâÄ‰ª•Â∞æË∞ÉÁî®Ê®°Âºè‰ªÖÂú®‰∏•Ê†ºÊ®°Âºè‰∏ãÁîüÊïà„ÄÇ123456function restricted() &#123; &apos;use strict&apos;; restricted.caller; // Êä•Èîô restricted.arguments; // Êä•Èîô&#125;restricted(); ÊÄªÁªìÁªº‰∏äÔºåËøô‰∏™ÈóÆÈ¢òËß£ÂÜ≥ÁöÑÊÄùË∑ØÊòØÔºö Â∞æÈÄíÂΩí+ÂáΩÊï∞ÊüØÁêÜÂåñÔºõ Â∞æÈÄíÂΩí+ES6ÈªòËÆ§ËµãÂÄºÔºõ]]></content>
      <tags>
        <tag>Â∞æÈÄíÂΩí</tag>
        <tag>Â∞æË∞ÉÁî®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∫åÂàÜÊü•Êâæ,‰∫åÂàÜËæπÁïåÊü•ÊâæÁÆóÊ≥ïÔºåindexOfÊñπÊ≥ïÊ®°Êãü]]></title>
    <url>%2F2018%2F11%2F24%2F%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E4%BA%8C%E5%88%86%E8%BE%B9%E7%95%8C%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä‰∫åÂàÜÊü•Êâæ‰Ωú‰∏∫Á®ãÂ∫èÂëòÁöÑ‰∏ÄÈ°πÂü∫Êú¨ÊäÄËÉΩÔºåÊòØÈù¢ËØïÂÆòÊúÄÂ∏∏‰ΩøÁî®Êù•ËÄÉÂØüÁ®ãÂ∫èÂëòÂü∫Êú¨Á¥†Ë¥®ÁöÑÁÆóÊ≥ï‰πã‰∏ÄÔºå‰πüÊòØËß£ÂÜ≥ÂæàÂ§öÊü•ÊâæÁ±ªÈ¢òÁõÆÁöÑÂ∏∏Áî®ÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•ËææÂà∞ O(log n) ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ ‰∏ÄËà¨ËÄåË®ÄÔºåÂΩì‰∏Ä‰∏™È¢òÁõÆÂá∫Áé∞‰ª•‰∏ãÁâπÊÄßÊó∂Ôºå‰Ω†Â∞±Â∫îËØ•Á´ãÂç≥ËÅîÊÉ≥Âà∞ÂÆÉÂèØËÉΩÈúÄË¶Å‰ΩøÁî®‰∫åÂàÜÊü•ÊâæÔºö ÂæÖÊü•ÊâæÁöÑÊï∞ÁªÑÊúâÂ∫èÊàñËÄÖÈÉ®ÂàÜÊúâÂ∫è Ë¶ÅÊ±ÇÊó∂Èó¥Â§çÊùÇÂ∫¶‰Ωé‰∫éO(n)ÔºåÊàñËÄÖÁõ¥Êé•Ë¶ÅÊ±ÇÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(log n) ‰∫åÂàÜÊü•ÊâæÊúâÂæàÂ§öÁßçÂèò‰ΩìÔºå‰ΩøÁî®Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÊü•ÊâæÊù°‰ª∂ÔºåÂà§Êñ≠Êù°‰ª∂ÂíåÂ∑¶Âè≥ËæπÁïåÁöÑÊõ¥Êñ∞ÊñπÂºèÔºå‰∏âËÄÖÈÖçÂêà‰∏çÂ•ΩÂ∞±ÂæàÂÆπÊòìÂá∫Áé∞Ê≠ªÂæ™ÁéØÊàñËÄÖÈÅóÊºèÂå∫ÂüüÔºåÊú¨ÁØá‰∏≠Êàë‰ª¨Â∞Ü‰ªãÁªçÂ∏∏ËßÅÁöÑÂá†ÁßçÊü•ÊâæÊñπÂºèÁöÑÊ®°Êùø‰ª£Á†ÅÔºåÂåÖÊã¨Ôºö Ê†áÂáÜÁöÑ‰∫åÂàÜÊü•Êâæ ‰∫åÂàÜÊü•ÊâæÂ∑¶ËæπÁïå ‰∫åÂàÜÊü•ÊâæÂè≥ËæπÁïå Êú¨ÊñáÁöÑÂÜÖÂÆπÊù•Ëá™‰∫éÁ¨îËÄÖ‰∏™‰∫∫ÁöÑÊÄªÁªìÔºå‰∫ãÂÆû‰∏ä‰∫åÂàÜÊü•ÊâæÊúâÂæàÂ§öÁßçÁ≠â‰ª∑ÁöÑÂÜôÊ≥ïÔºåÊú¨ÊñáÂè™ÊòØÂàóÂá∫‰∫ÜÁ¨îËÄÖËÆ§‰∏∫ÁöÑÊúÄÂÆπÊòìÁêÜËß£ÂíåËÆ∞ÂøÜÁöÑÊñπÊ≥ï„ÄÇ Ê†áÂáÜ‰∫åÂàÜÊü•ÊâæÈ¶ñÂÖàÁªôÂá∫Ê†áÂáÜ‰∫åÂàÜÊü•ÊâæÁöÑÊ®°ÊùøÔºö123456789101112131415161718function search(arr, target) &#123; var left = 0; var right = arr.length - 1; while(left &lt;= right) &#123; var mid = left + ((right - left) &gt;&gt; 1); if(arr[mid] == target) &#123; return mid; &#125; else if(arr[mid] &gt; target) &#123; right = mid - 1; &#125; else &#123; left = mid + 1; &#125; &#125; return -1;&#125;var index=search([1, 2, 3, 4, 5,6], 5);console.log(index) Âæ™ÁéØÊù°‰ª∂Ôºö left &lt;= right ‰∏≠Èó¥‰ΩçÁΩÆËÆ°ÁÆóÔºö mid = left + ((right -left) &gt;&gt; 1) Â∑¶ËæπÁïåÊõ¥Êñ∞Ôºöleft = mid + 1 Âè≥ËæπÁïåÊõ¥Êñ∞Ôºö right = mid - 1 ËøîÂõûÂÄºÔºö mid / -1 ËøôÈáåÊúâÂá†ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö Êàë‰ª¨ÁöÑÂæ™ÁéØÊù°‰ª∂‰∏≠ÂåÖÂê´‰∫Ü left == rightÁöÑÊÉÖÂÜµÔºåÂàôÊàë‰ª¨ÂøÖÈ°ªÂú®ÊØèÊ¨°Âæ™ÁéØ‰∏≠ÊîπÂèò left Âíå rightÁöÑÊåáÂêëÔºå‰ª•Èò≤Ê≠¢ËøõÂÖ•Ê≠ªÂæ™ÁéØ Âæ™ÁéØÁªàÊ≠¢ÁöÑÊù°‰ª∂ÂåÖÊã¨Ôºö ÊâæÂà∞‰∫ÜÁõÆÊ†áÂÄº left &gt; right ÔºàËøôÁßçÊÉÖÂÜµÂèëÁîü‰∫éÂΩìleft, mid, rightÊåáÂêëÂêå‰∏Ä‰∏™Êï∞Êó∂ÔºåËøô‰∏™Êï∞Ëøò‰∏çÊòØÁõÆÊ†áÂÄºÔºåÂàôÊï¥‰∏™Êü•ÊâæÁªìÊùü„ÄÇÔºâ 3.left + ((right -left) &gt;&gt; 1) ÂÖ∂ÂÆûÂíå (left + right) / 2ÊòØÁ≠â‰ª∑ÁöÑÔºåËøôÊ†∑ÂÜôÁöÑÁõÆÁöÑ‰∏Ä‰∏™ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢ (left + right)Âá∫Áé∞Ê∫¢Âá∫Ôºå‰∏Ä‰∏™ÊòØÁî®Âè≥ÁßªÊìç‰ΩúÊõø‰ª£Èô§Ê≥ïÊèêÂçáÊÄßËÉΩ„ÄÇ4.left + ((right -left) &gt;&gt; 1) ÂØπ‰∫éÁõÆÊ†áÂå∫ÂüüÈïøÂ∫¶‰∏∫Â•áÊï∞ËÄåË®ÄÔºåÊòØÂ§Ñ‰∫éÊ≠£‰∏≠Èó¥ÁöÑÔºåÂØπ‰∫éÈïøÂ∫¶‰∏∫ÂÅ∂Êï∞ËÄåË®ÄÔºåÊòØ‰∏≠Èó¥ÂÅèÂ∑¶ÁöÑ„ÄÇÂõ†Ê≠§Â∑¶Âè≥ËæπÁïåÁõ∏ÈÅáÊó∂ÔºåÂè™‰ºöÊòØ‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºö left/mid , right (left, mid ÊåáÂêëÂêå‰∏Ä‰∏™Êï∞ÔºårightÊåáÂêëÂÆÉÁöÑ‰∏ã‰∏Ä‰∏™Êï∞) left/mid/right Ôºàleft, mid, right ÊåáÂêëÂêå‰∏Ä‰∏™Êï∞Ôºâ Âç≥Âõ†‰∏∫midÂØπ‰∫éÈïøÂ∫¶‰∏∫ÂÅ∂Êï∞ÁöÑÂå∫Èó¥ÊÄªÊòØÂÅèÂ∑¶ÁöÑÔºåÊâÄ‰ª•ÂΩìÂå∫Èó¥ÈïøÂ∫¶Â∞è‰∫éÁ≠â‰∫é2Êó∂Ôºåmid ÊÄªÊòØÂíå leftÂú®Âêå‰∏Ä‰æß„ÄÇ ‰∫åÂàÜÊü•ÊâæÂ∑¶ËæπÁïåÊó¢ÁÑ∂Ë¶ÅÂØªÊâæÂ∑¶ËæπÁïåÔºåÊêúÁ¥¢ËåÉÂõ¥Â∞±ÈúÄË¶Å‰ªéÂè≥ËæπÂºÄÂßãÔºå‰∏çÊñ≠ÂæÄÂ∑¶ËæπÊî∂Áº©Ôºå‰πüÂ∞±ÊòØËØ¥Âç≥‰ΩøÊàë‰ª¨ÊâæÂà∞‰∫Ünums[mid] == target, Ëøô‰∏™midÁöÑ‰ΩçÁΩÆ‰πü‰∏ç‰∏ÄÂÆöÂ∞±ÊòØÊúÄÂ∑¶‰æßÁöÑÈÇ£‰∏™ËæπÁïåÔºåÊàë‰ª¨ËøòÊòØË¶ÅÂêëÂ∑¶‰æßÊü•ÊâæÔºåÊâÄ‰ª•Êàë‰ª¨Âú®nums[mid]ÂÅèÂ§ßÊàñËÄÖnums[mid]Â∞±Á≠â‰∫éÁõÆÊ†áÂÄºÁöÑÊó∂ÂÄôÔºåÁªßÁª≠Êî∂Áº©Âè≥ËæπÁïåÔºåÁÆóÊ≥ïÊ®°ÊùøÂ¶Ç‰∏ãÔºö 1234567891011121314151617function search(arr, target) &#123; var left = 0; var right = arr.length - 1; while(left &lt; right) &#123; var mid = left + ((right - left) &gt;&gt; 1); if(arr[mid] &lt; target) &#123; left = mid + 1; &#125; else &#123; right = mid; &#125; &#125; console.log(left,right,mid) return arr[left] == target ? left : -1;&#125;var index = search([1, 2, 3, 4, 5, 5, 5, 5, 5, 5, 6], 5);console.log(index) Âæ™ÁéØÊù°‰ª∂Ôºö left &lt; right ‰∏≠Èó¥‰ΩçÁΩÆËÆ°ÁÆóÔºö mid = left + ((right -left) &gt;&gt; 1) Â∑¶ËæπÁïåÊõ¥Êñ∞Ôºöleft = mid + 1 Âè≥ËæπÁïåÊõ¥Êñ∞Ôºö right = mid ËøîÂõûÂÄºÔºö nums[left] == target ? left : -1 ‰∏éÊ†áÂáÜÁöÑ‰∫åÂàÜÊü•Êâæ‰∏çÂêåÔºö È¶ñÂÖàÔºåËøôÈáåÁöÑÂè≥ËæπÁïåÁöÑÊõ¥Êñ∞ÊòØright = midÔºåÂõ†‰∏∫Êàë‰ª¨ÈúÄË¶ÅÂú®ÊâæÂà∞ÁõÆÊ†áÂÄºÂêéÔºåÁªßÁª≠ÂêëÂ∑¶ÂØªÊâæÂ∑¶ËæπÁïå„ÄÇ ÂÖ∂Ê¨°ÔºåËøôÈáåÁöÑÂæ™ÁéØÊù°‰ª∂ÊòØleft &lt; right„ÄÇÂõ†‰∏∫Âú®ÊúÄÂêéleft‰∏érightÁõ∏ÈÇªÁöÑÊó∂ÂÄôÔºåmidÂíåleftÂ§Ñ‰∫éÁõ∏ÂêåÁöÑ‰ΩçÁΩÆ(ÂâçÈù¢ËØ¥ËøáÔºåmidÂÅèÂ∑¶)ÔºåÂàô‰∏ã‰∏ÄÊ≠•ÔºåÊó†ËÆ∫ÊÄéÊ†∑Ôºåleft, mid, rightÈÉΩÂ∞ÜÊåáÂêëÂêå‰∏Ä‰∏™‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≠§Êó∂Âæ™ÁéØÁöÑÊù°‰ª∂ÊòØleft &lt;= rightÔºåÂàôÊàë‰ª¨ÈúÄË¶ÅÂÜçËøõÂÖ•‰∏ÄÈÅçÂæ™ÁéØÔºåÊ≠§Êó∂ÔºåÂ¶ÇÊûúnums[mid] &lt; targetËøòÂ•ΩËØ¥ÔºåÂæ™ÁéØÊ≠£Â∏∏ÁªàÊ≠¢ÔºõÂê¶ÂàôÔºåÊàë‰ª¨‰ºö‰ª§right = midÔºåËøôÊ†∑Âπ∂Ê≤°ÊúâÊîπÂèòleft,mid,rightÁöÑ‰ΩçÁΩÆÔºåÂ∞ÜËøõÂÖ•Ê≠ªÂæ™ÁéØ„ÄÇ ‰∫ãÂÆû‰∏äÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÈÅçÂéÜÂà∞leftÂíårightÁõ∏ÈÇªÁöÑÊÉÖÂÜµÂ∞±Ë°å‰∫ÜÔºåÂõ†‰∏∫Ëøô‰∏ÄËΩÆÂæ™ÁéØÂêéÔºåÊó†ËÆ∫ÊÄéÊ†∑Ôºåleft,mid,rightÈÉΩ‰ºöÊåáÂêëÂêå‰∏Ä‰∏™‰ΩçÁΩÆÔºåËÄåÂ¶ÇÊûúËøô‰∏™‰ΩçÁΩÆÁöÑÂÄºÁ≠â‰∫éÁõÆÊ†áÂÄºÔºåÂàôÂÆÉÂ∞±‰∏ÄÂÆöÊòØÊúÄÂ∑¶‰æßÁöÑÁõÆÊ†áÂÄºÔºõÂ¶ÇÊûú‰∏çÁ≠â‰∫éÁõÆÊ†áÂÄºÔºåÂàôËØ¥ÊòéÊ≤°ÊúâÊâæÂà∞ÁõÆÊ†áÂÄºÔºåËøô‰πüÂ∞±ÊòØ‰∏∫‰ªÄ‰πàËøîÂõûÂÄºÊòØnums[left] == target ? left : -1„ÄÇ ‰∫åÂàÜÊü•ÊâæÂè≥ËæπÁïåÊúâ‰∫ÜÂØªÊâæÂ∑¶ËæπÁïåÁöÑÂàÜÊûê‰πãÂêéÔºåÂÜçÊù•ÁúãÂØªÊâæÂè≥ËæπÁïåÂ∞±ÂÆπÊòìÂæàÂ§ö‰∫ÜÔºåÊØïÁ´üÂ∑¶Âè≥‰∏§ÁßçÊÉÖÂÜµÊòØÂØπÁß∞ÁöÑÂòõÔºåÂÖ≥‰∫é‰ΩøÁî®Âú∫ÊôØËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞‰∫ÜÔºåÂ§ßÂÆ∂ÂØπÁß∞ÁùÄÁêÜËß£Â∞±Â•Ω„ÄÇÊàë‰ª¨Áõ¥Êé•ÁªôÂá∫Ê®°Êùø‰ª£Á†ÅÔºö 1234567891011121314151617function search(arr, target) &#123; var left = 0; var right = arr.length - 1; while(left &lt; right) &#123; var mid = left + ((right - left) &gt;&gt; 1) + 1; if(arr[mid] &gt; target) &#123; right = mid - 1; &#125; else &#123; left = mid; &#125; &#125; console.log(left, right, mid) return arr[right] == target ? right : -1;&#125;var index = search([1, 2, 3, 4, 5, 5, 5, 5, 5, 5, 6], 5);console.log(index) Âæ™ÁéØÊù°‰ª∂Ôºö left &lt; right ‰∏≠Èó¥‰ΩçÁΩÆËÆ°ÁÆóÔºö mid = left + ((right -left) &gt;&gt; 1) + 1 Â∑¶ËæπÁïåÊõ¥Êñ∞Ôºöleft = mid Âè≥ËæπÁïåÊõ¥Êñ∞Ôºö right = mid - 1 ËøîÂõûÂÄºÔºö nums[left] == target ? left : -1 ËøôÈáåÂ§ßÈÉ®ÂàÜÂíåÂØªÊâæÂ∑¶ËæπÁïåÊòØÂØπÁß∞ÁùÄÊù•ÂÜôÁöÑÔºåÂîØÁã¨Êúâ‰∏ÄÁÇπÈúÄË¶ÅÂ∞§ÂÖ∂Ê≥®ÊÑè‚Äî‚Äî‰∏≠Èó¥‰ΩçÁΩÆÁöÑËÆ°ÁÆóÂèò‰∫ÜÔºåÊàë‰ª¨Âú®Êú´Â∞æÂ§öÂä†‰∫Ü1„ÄÇËøôÊ†∑ÔºåÊó†ËÆ∫ÂØπ‰∫éÂ•áÊï∞ËøòÊòØÂÅ∂Êï∞ÔºåËøô‰∏™‰∏≠Èó¥ÁöÑ‰ΩçÁΩÆÈÉΩÊòØÂÅèÂè≥ÁöÑ„ÄÇ ÂØπ‰∫éËøô‰∏™Êìç‰ΩúÁöÑÁêÜËß£Ôºå‰ªéÂØπÁß∞ÁöÑËßíÂ∫¶ÁúãÔºåÂØªÊâæÂ∑¶ËæπÁïåÁöÑÊó∂ÂÄôÔºå‰∏≠Èó¥‰ΩçÁΩÆÊòØÂÅèÂ∑¶ÁöÑÔºåÈÇ£ÂØªÊâæÂè≥ËæπÁïåÁöÑÊó∂ÂÄôÔºå‰∏≠Èó¥‰ΩçÁΩÆÂ∞±Â∫îËØ•ÂÅèÂè≥ÂëóÔºå‰ΩÜÊòØËøôÊòæÁÑ∂‰∏çÊòØÊ†πÊú¨ÂéüÂõ†„ÄÇÊ†πÊú¨ÂéüÂõ†ÊòØÔºåÂú®ÊúÄÂêéleftÂíårightÁõ∏ÈÇªÊó∂ÔºåÂ¶ÇÊûúmidÂÅèÂ∑¶ÔºåÂàôleft, midÊåáÂêëÂêå‰∏Ä‰∏™‰ΩçÁΩÆÔºårightÊåáÂêëÂÆÉ‰ª¨ÁöÑ‰∏ã‰∏Ä‰∏™‰ΩçÁΩÆÔºåÂú®nums[left]Â∑≤ÁªèÁ≠â‰∫éÁõÆÊ†áÂÄºÁöÑÊÉÖÂÜµ‰∏ãÔºåËøô‰∏â‰∏™‰ΩçÁΩÆÁöÑÂÄºÈÉΩ‰∏ç‰ºöÊõ¥Êñ∞Ôºå‰ªéËÄåËøõÂÖ•‰∫ÜÊ≠ªÂæ™ÁéØ„ÄÇÊâÄ‰ª•Êàë‰ª¨Â∫îËØ•ËÆ©midÂÅèÂè≥ÔºåËøôÊ†∑leftÂ∞±ËÉΩÂêëÂè≥ÁßªÂä®„ÄÇËøô‰πüÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÊàë‰ª¨‰πãÂâç‰∏ÄÁõ¥Âº∫Ë∞ÉÊü•ÊâæÊù°‰ª∂ÔºåÂà§Êñ≠Êù°‰ª∂ÂíåÂ∑¶Âè≥ËæπÁïåÁöÑÊõ¥Êñ∞ÊñπÂºè‰∏âËÄÖ‰πãÈó¥ÈúÄË¶ÅÈÖçÂêà‰ΩøÁî®„ÄÇ Âè≥ËæπÁïåÁöÑÊü•Êâæ‰∏ÄËà¨Êù•ËØ¥‰∏ç‰ºöÂçïÁã¨‰ΩøÁî®ÔºåÂ¶ÇÊúâÈúÄË¶ÅÔºå‰∏ÄËà¨ÊòØÈúÄË¶ÅÂêåÊó∂Êü•ÊâæÂ∑¶Âè≥ËæπÁïå„ÄÇ ‰∫åÂàÜÊü•ÊâæÂ∑¶Âè≥ËæπÁïåÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜÂ∑¶ËæπÁïåÂíåÂè≥ËæπÁïåÁöÑÊü•ÊâæÔºåÈÇ£‰πàÊü•ÊâæÂ∑¶Âè≥ËæπÁïåÂ∞±ÂÆπÊòìÂæàÂ§ö‰∫Ü‚Äî‚ÄîÂè™Ë¶ÅÂàÜÂà´Êü•ÊâæÂ∑¶ËæπÁïåÂíåÂè≥ËæπÁïåÂ∞±Ë°å‰∫Ü„ÄÇ ‰∫åÂàÜÊü•ÊâæÊûÅÂÄº‰∫åÂàÜÊü•ÊâæËøòÊúâ‰∏ÄÁßçÊúâË∂£ÁöÑÂèò‰ΩìÊòØ‰∫åÂàÜÊü•ÊâæÊûÅÂÄºÁÇπÔºå‰πãÂâçÊàë‰ª¨‰ΩøÁî®nums[mid]ÂéªÊØîËæÉÁöÑÊó∂ÂÄôÔºåÂ∏∏Â∏∏ÊòØÂíåÁªôÂÆöÁöÑÁõÆÊ†áÂÄºtargetÊØîÔºåÊàñËÄÖÂíåÂ∑¶Âè≥ËæπÁïåÊØîËæÉÔºåÂú®‰∫åÂàÜÊü•ÊâæÊûÅÂÄºÁÇπÁöÑÂ∫îÁî®‰∏≠ÔºåÊàë‰ª¨ÊòØÂíåÁõ∏ÈÇªÂÖÉÁ¥†ÂéªÊØîÔºå‰ª•ÂÆåÊàêÊüêÁßçÂçïË∞ÉÊÄßÁöÑÊ£ÄÊµã„ÄÇ ‰∫åÂàÜÊü•Êâæ„ÄÅ‰∫åÂàÜËæπÁïåÊü•ÊâæÁÆóÊ≥ïÁöÑÊ®°Êùø‰ª£Á†ÅÊÄªÁªìidnexOfÊ®°Êãü1234567891011121314var a=&apos;abcdefghijkl&apos;var b=&apos;ghi&apos;var aL=a.length;var bL=b.length;function indexOf(str,item)&#123; for(var i=0;i&lt;=aL-bL;i++)&#123; if(str.slice(i,bL+i)==item)&#123; return i &#125; &#125;&#125;console.log(indexOf(a,b)) 1234567891011121314151617181920var a = &apos;abcdefghijkl&apos;var b = &apos;ghi&apos;function indexOf(s,sub) &#123; var sIndex=0,subIndex=0,sLength=s.length,subLength=sub.length; while(sIndex &lt; sLength &amp;&amp; subIndex &lt; subLength) &#123; if(s[sIndex] == sub[subIndex]) &#123; subIndex++; sIndex++; &#125; else &#123; sIndex = sIndex - subIndex + 1; subIndex = 0; &#125; &#125; var index = subIndex == subLength ? (subLength &gt; 1 ? sIndex - subLength : sIndex - 1) : -1; return index;&#125;console.log(indexOf(a,b)) 123456789function idnexOf(a,b)&#123; var reg=new RegExp(`$&#123;b&#125;`,&apos;gi&apos;); var c=reg.exec(a); console.log(c ? c.index : -1)&#125;var a = &apos;abcdefghijkl&apos;var b = &apos;jkl&apos;idnexOf(a,b)]]></content>
      <tags>
        <tag>‰∫åÂàÜÊü•Êâæ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPÁºìÂ≠òÊú∫Âà∂(200ËøòÊòØ304)]]></title>
    <url>%2F2018%2F11%2F22%2FHTTP%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6-200%E8%BF%98%E6%98%AF304%2F</url>
    <content type="text"><![CDATA[f5Âà∞Â∫ïÂà∑Êñ∞‰∫ÜÁÇπ‰ªÄ‰πàÔºå‰Ω†Áü•ÈÅìÂêóÁºìÂ≠ò‰ªéÂÖ•Èó®Âà∞ÊîæÂºÉÂΩìÊµèËßàÂô®Á¨¨‰∏ÄÊ¨°Âä†ËΩΩËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåËøîÂõû‰∏ÄËà¨‰∏∫200ÔºåÊÑèÊÄùÊòØÊàêÂäüËé∑ÂèñËµÑÊ∫êÔºåÂπ∂‰ºöÂú®ÊµèËßàÂô®ÁöÑÁºìÂ≠ò‰∏≠ËÆ∞ÂΩï‰∏ãmax-ageÔºåÁ¨¨‰∫åÊ¨°ËÆøÈóÆÁöÑÊó∂ÂÄôÔºö Â¶ÇÊûúÂè™ÊòØÁî®ÊµèËßàÂô®ÊâìÂºÄÔºåÈÇ£‰πàÊµèËßàÂô®‰ºöÂéªÂà§Êñ≠Ëøô‰∏™ËµÑÊ∫êÂú®ÁºìÂ≠òÈáåÊúâÊ≤°ÊúâÔºåÂ¶ÇÊûúÊúâÁöÑËØùÔºå‰ºöÂéªÂà§Êñ≠max-ageÔºåÁúãÁúãËøáÊúüÊ≤°ÊúâÔºåÂ¶ÇÊûúÊ≤°ÊúâËøáÊúüÔºåÂàôÁõ¥Êé•ËØªÁºìÂ≠òÔºåÊ†πÊú¨‰∏ç‰ºöÂíåÊúçÂä°Âô®ËøõË°å‰∫§‰∫íÔºåÊç¢Âè•ËØùËØ¥ÔºåÊñ≠ÁΩëÈÉΩËÉΩÊâìÂºÄÔºåÂ∞±ÂíåÊú¨Âú∞Ë∑ë‰∏ÄÊ†∑ÔºÅÂ¶ÇÊûúÂ∑≤ÁªèËøáÊúü‰∫ÜÔºåÈÇ£Â∞±ÂéªÊúçÂä°Âô®ËØ∑Ê±ÇÔºåÁ≠âÂæÖÊúçÂä°Âô®ÂìçÂ∫îÔºåËøôÊòØÂæàË¥πÊó∂Èó¥ÁöÑÔºåÊúçÂä°Âô®Â¶ÇÊûúÂèëÁé∞ËµÑÊ∫êÊ≤°ÊúâÊîπÂèòËøáÔºåÈÇ£‰πàÂ∞±‰ºöËøîÂõû304ÔºåÂëäËØâÊµèËßàÂô®ÔºåÊàëÊ≤°ÂèòËøáÔºå‰Ω†ÂéªËØªÁºìÂ≠òÂêßÔºå‰∫éÊòØÊµèËßàÂô®‰πü‰∏çÁî®‰ªéÊúçÂä°Âô®ÊãâÊï∞ÊçÆ‰∫ÜÔºåÁÑ∂ËÄåÔºåÁ≠âÂæÖÊúçÂä°Âô®ÂìçÂ∫î‰πüÊòØ‰∏Ä‰∏™ÂæàË¶ÅÂëΩÁöÑÈóÆÈ¢òÔºåÂú®ÁΩëÈÄüÂèëËææÁöÑ‰ªäÂ§©ÔºåÁ≠â‰∏Ä‰∏™ÂìçÂ∫îÔºåÊúâÊó∂ÊØî‰∏ãËΩΩËøòÊÖ¢„ÄÇ Â¶ÇÊûúÊòØÁî®ÊµèËßàÂô®Âà∑Êñ∞ÁöÑÔºåÈÇ£‰πàÊµèËßàÂô®‰∏ç‰ºöÂéªÂà§Êñ≠max-age‰∫ÜÔºåÁõ¥Êé•ÂéªÊúçÂä°Âô®ÊãøÔºåÂ¶ÇÊûúÊúçÂä°Âô®Âà§Êñ≠ËµÑÊ∫êÊ≤°ÂèòËøáÔºåÂàôËøòÊòØ‰ºöËøîÂõû304ÔºåÂíå‰∏äÈù¢ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Âà∑Êñ∞‰∏Ä‰∏ãÔºåÂÖ∂ÂÆûÂæàÂèØÊÄïÔºåÁ≠â‰∫éÊääÊâÄÊúâÁöÑËµÑÊ∫êÈÉΩË¶ÅÂéªÊúçÂä°Âô®ËØ∑Ê±Ç‰∏ÄËæπÔºåÈóÆÈóÆÊúçÂä°Âô®ÊàëËøáÊúü‰∫ÜÊ≤°Êúâ„ÄÇ ÊµèËßàÂô®Âú®Á¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÊúçÂä°Á´ØÂìçÂ∫îÂ§¥ÈáåÂèØ‰ª•ËÆæÁΩÆexpiresÂ≠óÊÆµÔºåËØ•Â≠óÊÆµË°®Á§∫ËØ•ËµÑÊ∫êÁöÑÁºìÂ≠òËøáÊúüÊó∂Èó¥ÔºåÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊó∂Èó¥ËøòÂú®ËØ•ÁºìÂ≠òÊó∂Èó¥‰πãÂÜÖÔºåÂàô‰ºöÁõ¥Êé•‰ΩøÁî®ÁºìÂ≠òÔºåÂê¶ÂàôÈáçÊñ∞Âä†ËΩΩËµÑÊ∫êÔºå Ëøô‰∏™expiresÂ≠óÊÆµÊúâ‰∏™Áº∫Èô∑ÔºåÂ∞±ÊòØÂÆÉÂøÖÈ°ªÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÁöÑÊó∂Èó¥‰∏•Ê†ºÂêåÊ≠•ÊâçËÉΩÁîüÊïàÔºåÊâÄ‰ª•Áé∞Âú®ÂæàÂ§ö‰∫∫‰∏ç‰ºö‰ΩøÁî®ÊîπÊñπÊ°à„ÄÇ Âè¶Â§ñ‰∏ÄÁßçÊñπÊ°àÊòØÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÊúçÂä°Á´ØËÆæÁΩÆÂìçÂ∫îÂ§¥cache-control: max-ageÔºåËøôÊ†∑ËÆæÁΩÆÁöÑÊÑèÊÄùÊòØÂëäËØâÊµèËßàÂô®ÔºåËøô‰∏™ËµÑÊ∫ê‰ªÄ‰πàÊó∂ÂÄôËøáÊúüÔºåÁ≠âÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÂà§Êñ≠ÊòØÂê¶Ë∂ÖÂá∫‰∫ÜËøáÊúüÊó∂Èó¥ÔºåÂ¶ÇÊûúÊ≤°Ë∂ÖÂá∫ÔºåÁõ¥Êé•‰ΩøÁî®ÁºìÂ≠ò„ÄÇ ËÆ∞‰∏ÄÊ¨°ÂâçÁ´ØÈù¢ËØïÁöÑÂÖ®ËøáÁ®ãÁºìÂ≠òÁä∂ÊÄÅÁ†Å 200 OK (from cache) ‰∏é 304 Not Modified 200 OK (from cache) ÊòØÊµèËßàÂô®Ê≤°ÊúâË∑üÊúçÂä°Âô®Á°ÆËÆ§ÔºåÁõ¥Êé•Áî®‰∫ÜÊµèËßàÂô®ÁºìÂ≠òÔºõ 304 Not Modified ÊòØÊµèËßàÂô®ÂíåÊúçÂä°Âô®Â§öÁ°ÆËÆ§‰∫Ü‰∏ÄÊ¨°ÁºìÂ≠òÊúâÊïàÊÄßÔºåÂÜçÁî®ÁöÑÁºìÂ≠ò„ÄÇ 304 Not ModifiedÔºöÂÆ¢Êà∑Á´ØÊúâÁºìÂÜ≤ÁöÑÊñá‰ª∂Âπ∂ÂèëÂá∫‰∫Ü‰∏Ä‰∏™Êù°‰ª∂ÊÄßÁöÑËØ∑Ê±ÇÔºà‰∏ÄËà¨ÊòØÊèê‰æõIf-Modified-SinceÂ§¥Ë°®Á§∫ÂÆ¢Êà∑Âè™ÊÉ≥ÊØîÊåáÂÆöÊó•ÊúüÊõ¥Êñ∞ÁöÑÊñáÊ°£Ôºâ„ÄÇÊúçÂä°Âô®ÂëäËØâÂÆ¢Êà∑ÔºåÂéüÊù•ÁºìÂÜ≤ÁöÑÊñáÊ°£ËøòÂèØ‰ª•ÁªßÁª≠‰ΩøÁî®„ÄÇ 304 Not Modified ÊØî 200 OK (from cache) ÊÖ¢ÔºåÊåáÁöÑÊòØÊµèËßàÂô®ËøòÂêëÊúçÂä°Âô®Á°ÆËÆ§‰∫Ü‰∏ã ‚ÄúIf-Not-Modified‚ÄùÔºåÊâçÁî®ÁöÑÁºìÂ≠ò ÂèÇËÄÉhttp 200„ÄÅ301„ÄÅ304Á≠âÁä∂ÊÄÅÁ†ÅËØ¶Ëß£200Âíå304ÁâπÁÇπ Áä∂ÊÄÅÁ†Å200ÔºöËØ∑Ê±ÇÂ∑≤ÊàêÂäüÔºåËØ∑Ê±ÇÊâÄÂ∏åÊúõÁöÑÂìçÂ∫îÂ§¥ÊàñÊï∞ÊçÆ‰ΩìÂ∞ÜÈöèÊ≠§ÂìçÂ∫îËøîÂõû„ÄÇÂç≥ËøîÂõûÁöÑÊï∞ÊçÆ‰∏∫ÂÖ®ÈáèÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÊñá‰ª∂‰∏çÈÄöËøáGZIPÂéãÁº©ÁöÑËØùÔºåÊñá‰ª∂ÊòØÂ§öÂ§ßÔºåÂàôË¶ÅÊúâÂ§öÂ§ß‰º†ËæìÈáè„ÄÇ Áä∂ÊÄÅÁ†Å304ÔºöÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™Â∏¶Êù°‰ª∂ÁöÑ GET ËØ∑Ê±Ç‰∏îËØ•ËØ∑Ê±ÇÂ∑≤Ë¢´ÂÖÅËÆ∏ÔºåËÄåÊñáÊ°£ÁöÑÂÜÖÂÆπÔºàËá™‰∏äÊ¨°ËÆøÈóÆ‰ª•Êù•ÊàñËÄÖÊ†πÊçÆËØ∑Ê±ÇÁöÑÊù°‰ª∂ÔºâÂπ∂Ê≤°ÊúâÊîπÂèòÔºåÂàôÊúçÂä°Âô®Â∫îÂΩìËøîÂõûËøô‰∏™Áä∂ÊÄÅÁ†Å„ÄÇÂç≥ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´ØÂè™ÈúÄË¶Å‰º†ËæìÂæàÂ∞ëÁöÑÊï∞ÊçÆÈáèÊù•ÂÅöÊñá‰ª∂ÁöÑÊ†°È™åÔºåÂ¶ÇÊûúÊñá‰ª∂Ê≤°Êúâ‰øÆÊîπËøáÔºåÂàô‰∏çÈúÄË¶ÅËøîÂõûÂÖ®ÈáèÁöÑÊï∞ÊçÆ„ÄÇ Áä∂ÊÄÅ‰∏∫304ÁöÑËØ∑Ê±ÇË¶ÅÊØîÁä∂ÊÄÅ‰∏∫200ÁöÑËØ∑Ê±ÇÁöÑÊï∞ÊçÆÈáèÂ∞èÂæàÂ§öÔºåÂõ†‰∏∫304Âè™ÈúÄË¶ÅËøîÂõûÂìçÂ∫îÂ§¥ÔºåÂπ∂‰∏çÈúÄË¶ÅËøîÂõûÊï¥‰∏™Êñá‰ª∂ÔºåÊâÄ‰ª•Âè™ÈúÄË¶ÅÂá†Â≠óËäÇÂ∞±ÂèØ‰ª•‰∫ÜÔºåËøôÊ†∑ËÉΩÂ§üËäÇÁúÅÂ§ßÈáèÁöÑÁΩëÁªúÂ∏¶ÂÆΩÔºåÂπ∂ÂáèÂ∞ë‰∫ÜÈ°µÈù¢ÁöÑÊ∏≤ÊüìÊó∂Èó¥„ÄÇ ÁºìÂ≠òHTTPÂ§¥‰ø°ÊÅØDateÔºöÂéüÊúçÂä°Âô®ÂèëÈÄÅËØ•ËµÑÊ∫êÂìçÂ∫îÊä•ÊñáÁöÑÊó∂Èó¥ÔºàGMTÊ†ºÂºèÔºâ AgeÔºöAgeË°®Á§∫Ëøô‰∏™ÂìçÂ∫îÂ∑≤ÁªèÂ≠òÊ¥ª‰∫ÜÂ§ö‰πÖ‰∫Ü(HTTP/1.0ÁöÑÂìçÂ∫î‰∏çÂ∏¶Age) ExpiresÔºöÂç≥Âú® HTTP Â§¥‰∏≠ÊåáÊòéÂÖ∑‰ΩìÂ§±ÊïàÁöÑÊó∂Èó¥(HTTP/1.0)ÔºåExpires = HTTP-date PragmaÔºöno-cacheÔºåÊØèÊ¨°ËØ∑Ê±ÇÈ°µÈù¢Êó∂ÈÉΩ‰∏çË¶ÅËØªÁºìÂ≠òÔºåÂÖºÂÆπHTTP/1.0Ôºå‰ºòÂÖàÁ∫ßÈ´ò‰∫éExpires(HTTP/1.0 + HTTP/1.1) Cache ControlÔºö‰ºòÂÖàÁ∫ßÈ´ò‰∫éPragma„ÄÅExpires(HTTP/1.1) „ÄêpublicÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÂèØ‰ª•ÁºìÂ≠òÔºõprivateÔºåÂè™ËÉΩÂÆ¢Êà∑Á´ØÁºìÂ≠òÔºõno-storeÔºå‰∏ç‰ΩøÁî®ÁºìÂ≠òÔºõno-cacheÔºå‰ΩøÁî®ÂçèÂïÜÁºìÂ≠ò„ÄÇ„Äë Expires ExpiresÊòØhttp1.0ÊèêÂá∫ÁöÑ‰∏Ä‰∏™Ë°®Á§∫ËµÑÊ∫êËøáÊúüÊó∂Èó¥ÁöÑheaderÔºåÂÆÉÊèèËø∞ÁöÑÊòØ‰∏Ä‰∏™ÁªùÂØπÊó∂Èó¥ÔºåÁî±ÊúçÂä°Âô®ËøîÂõû„ÄÇ ExpiresÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÂ∞ÜÂíåÊú¨Âú∞Êó∂Èó¥ÊØîÂØπ„ÄÇ Expires Á¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÊúçÂä°Âô®ÊòØÔºåÂìçÂ∫îÂ§¥‰ºöËøîÂõû‰∏Ä‰∏™ExpiresÁöÑÊñá‰ª∂ËøáÊúüÊó∂Èó¥„ÄÇExpires Á¨¨‰∫åÊ¨°ËØ∑Ê±ÇÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®Êú¨Âú∞Êó∂Èó¥ÂíåÊñá‰ª∂ÁöÑËøáÊúüÊó∂Èó¥ËøõË°åÊØîÂØπÔºåÂ¶ÇÊûúÊñá‰ª∂Êú™ËøáÊúüÂàôÁõ¥Êé•‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÔºåËøîÂõûÁä∂ÊÄÅÁ†Å200(from memory cache)Êàñ200(from disk cache)„ÄÇ Expires Cache-Control Cache-Control: no-cache ÂøÖÈ°ªÂÖà‰∏é‰ª£ÁêÜÊúçÂä°Âô®Á°ÆËÆ§ÊòØÂê¶Êõ¥ÊîπÔºåÁÑ∂ÂêéÂú®Âú®ÂÜ≥ÂÆö‰ΩøÁî®ÁºìÂ≠òËøòÊòØËØ∑Ê±ÇÔºåÁ±ª‰ºº‰∫éÂçèÂïÜÁºìÂ≠òÔºà304Ôºâ Cache-Control: no-store ÊâçÊòØÁúüÊ≠£ÁöÑ‰∏çÁºìÂ≠òÊï∞ÊçÆÂà∞Êú¨Âú∞ Cache-Control: public ÂèØ‰ª•Ë¢´ÊâÄÊúâÁî®Êà∑ÁºìÂ≠òÔºàÂ§öÁî®Êà∑ÂÖ±‰∫´ÔºâÔºåÂåÖÊã¨ÁªàÁ´ØÂíåCDNÁ≠â‰∏≠Èó¥‰ª£ÁêÜÊúçÂä°Âô® Cache-Control: private Âè™ËÉΩË¢´ÁªàÁ´ØÊµèËßàÂô®ÁºìÂ≠òÔºàËÄå‰∏îÊòØÁßÅÊúâÁºìÂ≠òÔºâÔºå‰∏çÂÖÅËÆ∏‰∏≠ÁªßÁºìÂ≠òÊúçÂä°Âô®ËøõË°åÁºìÂ≠ò Cache-Control: must-revalidateÂ¶ÇÊûúÁºìÂ≠òÂÜÖÂÆπÂ§±ÊïàÔºåËØ∑Ê±ÇÂøÖÈ°ªÂèëÈÄÅÊúçÂä°Âô®ËøõË°åÈ™åËØÅ Cache-Control: max-age=s ÁºìÂ≠òÂÜÖÂÆπÂú®sÁßíÂêéÂ§±ÊïàÔºå‰ªÖHTTP1.1ÂèØÁî® max-gae Á¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÊúçÂä°Âô®Êó∂ÔºåÂìçÂ∫îÂ§¥‰ºöËøîÂõû‰∏Ä‰∏™ max-ageÔºåÊòØÊñá‰ª∂Â§öÂ∞ëÊó∂Èó¥ÂêéËøáÊúü„ÄÇmax-gae Á¨¨‰∫åÊ¨°ËØ∑Ê±ÇÔºåÂÆ¢Êà∑Á´Ø‰ºöÊ†°È™åÊñá‰ª∂ÊòØÂê¶ËøáÊúüÔºåÂ¶ÇÊûúÊñá‰ª∂Êú™ËøáÊúüÂàôÁõ¥Êé•‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÔºåËøîÂõûÁä∂ÊÄÅÁ†Å200(from memory cache)Êàñ200(from disk cache)„ÄÇ Êú¨Âú∞ÁºìÂ≠òÔºåÊòØÊåáÂú®ÂÆ¢Êà∑Á´ØÊú¨Âú∞Êú∫Âô®‰∏≠ÁöÑÁºìÂ≠ò„ÄÇ ÂÖ±‰∫´ÁºìÂ≠òÔºåÂ§Ñ‰∫éÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑÁºìÂ≠òÔºå‰æãÂ¶ÇÔºöCDN„ÄÇ ËØ∑Ê±Ç Cache Control ‚Äì ‚Äì max-age ÂèØ‰ª•Êé•Êî∂ÁºìÂ≠òÊúÄÈïøÊó∂Èó¥ max-stale ÂèØ‰ª•Êé•Êî∂ËøáÊúüÁöÑËµÑÊ∫êÔºå‰ΩÜÊòØËøáÊúüÊó∂Èó¥ÂøÖÈ°ªÂ∞è‰∫é max-stale ÂÄº min-fresh ÂèØ‰ª•Êé•Êî∂‰∏Ä‰∏™Êõ¥Êñ∞ËøáÁöÑËµÑÊ∫êÔºåfreshÁîüÂëΩÊúüÂ§ß‰∫éÂÖ∂ÂΩìÂâç Age Ë∑ü min-fresh ÂÄº‰πãÂíå no-cache Âú®Ê∫êÊúçÂä°Âô®ËøîÂõûÊàêÂäüÁöÑÈ™åËØÅ‰πãÂâç‰∏çËÉΩ‰ΩøÁî®ÁºìÂ≠òÂìçÂ∫î no-store Áõ¥Êé•Á¶ÅÊ≠¢ÊµèËßàÂô®ÂíåÊâÄÊúâ‰∏≠ÁªßÁºìÂ≠òÂ≠òÂÇ®ËøîÂõûÁöÑ‰ªª‰ΩïÁâàÊú¨ÁöÑÂìçÂ∫î no-transform Ëé∑ÂèñÊ≤°ÊúâË¢´ËΩ¨Êç¢ËøáÔºàÊØîÂ¶ÇÂéãÁº©ÔºâÁöÑËµÑÊ∫ê only-if-cached Â∏åÊúõËé∑ÂèñÁºìÂ≠òÂÜÖÂÆπËÄå‰∏çÂèëËµ∑ËØ∑Ê±Ç ÂìçÂ∫î Cache Control ‚Äì ‚Äì no-cache ÁºìÂ≠òÂøÖÈ°ªÈáçÊñ∞Ê†°È™å no-store ‰∏çÂ≠òÂÇ®ÁºìÂ≠ò no-transform ÁºìÂ≠òÂÜÖÂÆπÊó∂‰∏çËÉΩÂØπÊîπÂèò‰ªª‰ΩïÊï∞ÊçÆ public ÂìçÂ∫îÂèØË¢´‰ªª‰ΩïÁºìÂ≠òÂå∫ÁºìÂ≠ò private Âè™Âú®Êú¨Âú∞ÁºìÂ≠òÔºå‰∏çÂÖÅËÆ∏‰ªª‰Ωï‰∏≠ÁªßÁºìÂ≠òÂØπÂÖ∂ËøõË°åÁºìÂ≠òÔºà‰æãÂ¶ÇÔºåÊµèËßàÂô®ÂèØ‰ª•ÁºìÂ≠òÔºå‰ΩÜÊòØCDN‰∏çËÉΩÁºìÂ≠òÔºâ must-revalidate Â¶ÇÊûúÁºìÂ≠òÁöÑÂÜÖÂÆπÂ§±ÊïàÔºåËØ∑Ê±ÇÂøÖÈ°ªÂèëÈÄÅÂà∞ÊúçÂä°Âô®‰ª•ËøõË°åÈáçÊñ∞È™åËØÅÔºàËØ∑Ê±ÇÂ§±Ë¥•ËøîÂõû504ÔºåËÄåÈùû‰∏≠Èó¥ÁºìÂ≠òCDNÔºâ proxy-revalidate ‰∏émust-revalidateÁ±ª‰ººÔºå‰ªÖËÉΩÁî®‰∫éÂÖ±‰∫´ÁºìÂ≠òÔºàÂ¶ÇÔºöCDNÔºâ max-age Âè™Êé•Âèó Age ÂÄºÂ∞è‰∫é max-age ÂÄºÔºåÂπ∂‰∏îÊ≤°ÊúâËøáÊúüÁöÑËµÑÊ∫ê s-maxage ‰ªÖËÉΩÁî®‰∫éÂÖ±‰∫´ÁºìÂ≠òÔºå‰∏ÄËà¨Áî®Âú®cacheÊúçÂä°Âô®‰∏ä(Â¶ÇÔºöCDN) Cache Control Extensions ÈÄöËøá‰ΩøÁî®1‰∏™ÊàñÂ§ö‰∏™cache-extension tokensÊâ©Â±ïÔºàÂèØÈÄâÔºâÂ≠óÊÆµÔºåÊúçÂä°Âô®‰∏çËØÜÂà´ÂàôÂøΩÁï•Êéâ1Cache-Control:private, community=&quot;UCI&quot; Cache-Control ÂÖÅËÆ∏Ëá™Áî±ÁªÑÂêàÂèØÈÄâÂÄº1Cache-Control: max-age=3600, must-revalidate Last-Modified/If-Modified-SinceÔºöÊñá‰ª∂ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπÁöÑÊó∂Èó¥ÔºàÁ≤æÂ∫¶ÊòØÁßíÔºåHTTP/1.0ÔºâÔºåÈúÄË¶ÅCache-ContralËøáÊúü EtagÔºöÂΩìÂâçËµÑÊ∫êÂú®ÊúçÂä°Âô®ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºàÁîüÊàêËßÑÂàôÁî±ÊúçÂä°Âô®ÂÜ≥ÂÆöÔºâETagÁöÑÂÄºÔºåÈªòËÆ§ÊòØÂØπÊñá‰ª∂ÁöÑÁ¥¢ÂºïËäÇÔºàINodeÔºâÔºåÂ§ßÂ∞èÔºàSizeÔºâÂíåÊúÄÂêé‰øÆÊîπÊó∂Èó¥ÔºàMTimeÔºâËøõË°åHashÂêéÂæóÂà∞ÁöÑÔºå‰ºòÂÖàÁ∫ßÈ´ò‰∫éLast-ModifiedÔºõÂú®ÂàÜÂ∏ÉÂºèÁöÑWebÁ≥ªÁªü‰∏≠ÔºåÂΩìËÆøÈóÆËêΩÂú®‰∏çÂêåÁöÑÁâ©ÁêÜÊú∫‰∏äÊó∂‰ºöËøîÂõû‰∏çÂêåÁöÑETagÔºåËøõËÄåÂØºËá¥304Â§±ÊïàÔºåÈôçÁ∫ß‰∏∫200ËØ∑Ê±ÇÔºàHTTP/1.1ÔºâÔºåÈúÄË¶ÅCache-ContralËøáÊúü Â¶ÇÊûú Last-Modified Âíå ETag ÂêåÊó∂Ë¢´‰ΩøÁî®ÔºåÂàôË¶ÅÊ±ÇÂÆÉ‰ª¨ÁöÑÈ™åËØÅÈÉΩÂøÖÈ°ªÈÄöËøáÊâç‰ºöËøîÂõû304ÔºåÂê¶ÂàôËøîÂõû200„ÄÇ MetaÊ†áÁ≠æmetaÊòØÁî®Êù•Âú®HTMLÊñáÊ°£‰∏≠Ê®°ÊãüHTTPÂçèËÆÆÁöÑÂìçÂ∫îÂ§¥Êä•Êñá„ÄÇÂú®HTMLÈ°µÈù¢Âä†‰∏ämetaÊ†áÁ≠æÊù•ÁªôËØ∑Ê±ÇÊä•Â§¥Âä†‰∏äËØ∑Ê±ÇÂ≠óÊÆµ„ÄÇ123&lt;meta http-equiv=&quot;Expires&quot;content=&quot;0&quot;&gt;&lt;meta http-equiv=&quot;Pragma&quot;content=&quot;no-cache&quot;&gt;&lt;meta http-equiv=&quot;Cache-Control&quot;content=&quot;no-cache&quot;&gt; PragmaÁöÑmetaÊ†áÁ≠æÂè™ÊúâIEËÉΩËØÜÂà´ ‚ÄúPragma:No-cache‚ÄùÊ†áËÆ∞ÂèØËÉΩÊó†Ê≥ïÈò≤Ê≠¢È°µÈù¢Ë¢´ÁºìÂ≠ò ‰ºòÂÖàÁ∫ßÔºöCache-Control &gt; Pragma &gt; Expires Ê∏ÖÈô§ÊµèËßàÂô®‰∏≠ÁöÑÁºìÂ≠òÔºåÂøÖÈ°ª‰ªéÊúçÂä°Á´ØËé∑ÂèñÊúÄÊñ∞ÂÜÖÂÆπÔºå‰ΩÜ‰∏çÊòØÊâÄÊúâÊµèËßàÂô®ÈÉΩÊîØÊåÅ ÁºìÂ≠òÊú∫Âà∂ Freshness ÂíåÊµèËßàÂô®Á≠ñÁï•‰ª•ÂèäCache ControlÔºàHTTP/1.1Ôºâ‰∏éExpires(HTTP/1.0)ÊúâÂÖ≥ ÊúÄÂ•ΩÁöÑËØ∑Ê±ÇÊòØ‰∏çÂøÖ‰∏éÊúçÂä°Âô®ËøõË°åÈÄö‰ø°ÁöÑËØ∑Ê±ÇÔºöÈÄöËøáÂìçÂ∫îÁöÑÊú¨Âú∞ÁºìÂ≠òÔºåÂèØ‰ª•ÈÅøÂÖçÊâÄÊúâÁöÑÁΩëÁªúÂª∂Ëøü‰ª•ÂèäÊï∞ÊçÆ‰º†ËæìÁöÑÊï∞ÊçÆÊàêÊú¨„ÄÇ ÊúçÂä°Âô®ÁªôÂìçÂ∫îËÆæÁΩÆÊòæÁ§∫ËøáÊúüÊó∂Èó¥Ôºàexplicit expiration timeÔºâÔºåÂΩìËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåÂè™ÈúÄË¶ÅÊ£ÄÊµãËµÑÊ∫êÁöÑËøáÊúüÁä∂ÊÄÅÔºåÂà§Êñ≠ÊòØÂê¶‰ΩøÁî®ÁºìÂ≠ò„ÄÇ ÊúçÂä°Âô®‰∏çÊèê‰æõ‰∏Ä‰∏™ÊòæÁ§∫ËøáÊúüÊó∂Èó¥ÔºåHTTPÁºìÂ≠òÈÄöÂ∏∏‰ºöËÆæÁΩÆ‰∏Ä‰∏™ÂêØÂèëÂºèËøáÊúüÊó∂Èó¥Ôºàheuristic expiration timeÔºâÔºåÈááÁî®ÁÆóÊ≥ïÈÄöËøáÂÖ∂‰ªñÂÄºÔºà‰æãÂ¶ÇLast-ModifiedÔºâ‰º∞ËÆ°‰∏Ä‰∏™ÂêàÁêÜÁöÑÊó∂Èó¥„ÄÇ Â¶Ç‰ΩïÂà§Êñ≠ÂìçÂ∫îÊòØÂê¶Êñ∞ÁöÑÔºü1response_is_fresh =(freshness_lifetime &gt; current_age) freshness_lifetimeËÆ°ÁÆóÔºåÂêåÊó∂Â≠òÂú®Â§ö‰∏™ÔºåÊåâ‰ºòÂÖàÁ∫ßËé∑Âèñ Â¶ÇÊûúÊòØÂÖ±‰∫´ÁºìÂ≠òÔºå‰ΩøÁî®s-maxage Â¶ÇÊûúÊúâmax-ageÂ≠óÊÆµÔºå‰ΩøÁî®max-age Â¶ÇÊûúÊúâExpiresÂ≠óÊÆµÔºå‰ΩøÁî®ExpiresË∂ÖËøáDateÁöÑÊó∂Èó¥Êï∞ Â¶ÇÊûúÊ≤°ÊúâÊòæÁ§∫ËøáÊúüÊó∂Èó¥ËÆæÁΩÆÔºå‰ΩøÁî®ÊµèËßàÂô®ÁöÑÂêØÂèëÂºèËøáÊúüÊó∂Èó¥Ôºàheuristic expiration timeÔºâ current_ageËÆ°ÁÆó age_value AgeÂ≠óÊÆµÁöÑÂÄº date_value DateÂ≠óÊÆµÁöÑÂÄº now ÂΩìÂâçÊó∂Èó¥ request_time ËØ∑Ê±ÇÊó∂Èó¥ response_time ÂìçÂ∫îÊó∂Èó¥ 123456apparent_age = max(0, response_time - date_value);response_delay = response_time - request_time;corrected_age_value = age_value + response_delay;corrected_initial_age = max(apparent_age, corrected_age_value);resident_time = now - response_time;current_age = corrected_initial_age + resident_time; ÁºìÂ≠òÁ≠ñÁï• HTML5 Boilerplate È°πÁõÆnginxÈÖçÁΩÆÊñá‰ª∂Ê†∑‰æã 12345678910111213141516171819# cache.appcache, your document html and datalocation ~* \.(?:manifest|appcache|html?|xml|json)$ &#123; expires -1;&#125;# Feedlocation ~* \.(?:rss|atom)$ &#123; expires 1h;&#125;# Media: images, icons, video, audio, HTClocation ~* \.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ &#123; expires 1M; access_log off; add_header Cache-Control &quot;public&quot;;&#125;# CSS and Javascriptlocation ~* \.(?:css|js)$ &#123; expires 1y; access_log off;&#125; Validation Ê£ÄÊü•‰∏Ä‰∏™ÁºìÂ≠òÁöÑÂìçÂ∫îÊòØÂê¶‰ªçÁÑ∂ÂèØÁî® Last-ModifiedÂíåETagÔºàentity-tagÔºâÈÄöËøáÈ™åËØÅ‰ª§ÁâåÂèØ‰ª•ËøõË°åÈ´òÊïàÁöÑËµÑÊ∫êÊõ¥Êñ∞Ê£ÄÊü•ÔºöÂ¶ÇÊûúËµÑÊ∫êÊú™Êõ¥ÊîπÔºåÂàô‰∏ç‰ºö‰º†Ëæì‰ªª‰ΩïÊï∞ÊçÆ1234567Status Code:304 Not ModifiedResponse HeadETag:&quot;578ba64c-7ddf&quot;Last-Modified:Sun, 17 Jul 2016 15:37:48 GMTRequest HeadIf-Modified-Since:Sun, 17 Jul 2016 15:37:48 GMTIf-None-Match:&quot;578ba64c-7ddf&quot; Invalidation Á±ª‰ººPUT„ÄÅPOST Âíå DELETEÁöÑ‚ÄùÈùûÂÆâÂÖ®‚ÄùËØ∑Ê±ÇÂèØËÉΩ‰ºöÊîπÂèòÂéüÊúçÂä°Á´ØÁä∂ÊÄÅÔºåÂú®Ê≠§ÊúüÈó¥ÁºìÂ≠ò‰ºöËÆ©ÂÆÉ‰ª¨ÁöÑÂÜÖÂÆπËøáÊúüÂ§±Êïà„ÄÇ ÂΩì‰∏Ä‰∏™ÈùûÂÆâÂÖ®ÁöÑËØ∑Ê±ÇÊî∂Âà∞ÈùûÈîôËØØÁöÑËøîÂõûÁä∂ÊÄÅÁ†ÅÔºà2xxÊàñËÄÖ3xxÔºâÔºåÁºìÂ≠òÂøÖÈ°ª‰ΩøËØ∑Ê±ÇURIÁöÑÂåÖÊã¨ÂÖ∂‰ªñÁõ∏ÂÖ≥URI(s)ÁöÑLocationÂíåContent-LocationÂìçÂ∫îÂ§¥Â≠óÊÆµÂ§±Êïà„ÄÇ ‰∏∫‰∫ÜÈò≤Ê≠¢ÊúçÂä°Âô®ÊîªÂáªÊãíÁªùÔºå‰∏Ä‰∏™Âü∫‰∫éLocationÊàñContent-LocationÂ§¥ÂüüÈáåÁöÑURIÁöÑÊó†ÊïàÊÄßÂ§ÑÁêÜÂøÖÈ°ªÂè™ÊúâÂú®hostÈÉ®ÂàÜÂíåËØ∑Ê±ÇURIÈáåÁöÑhostÈÉ®ÂàÜÁõ∏ÂêåÊó∂ÊâçË¢´ÊâßË°å„ÄÇ Ê≥®ÔºöÂè™ËØªËØ∑Ê±ÇÔºàGET/HEADÔºâËÆ§‰∏∫ÊòØ‚ÄúÂÆâÂÖ®‚ÄùÁöÑÔºåËØ¶ÁªÜÂèØÊü•Áúãsafe.methods„ÄÇ 200 or 304Âú®Ê≤°ÊúâËÆæÁΩÆCache-ContralÁöÑÊÉÖÂÜµ‰∏ãÔºåËÆæÁΩÆLast-ModifiedÂíåETagÁºìÂ≠òÔºå‰ºöÂá∫Áé∞Êó∂ËÄå200Ôºàfrom cacheÔºâÔºåÊó∂ËÄå304 Âá∫Áé∞ÁöÑÊÉÖÂÜµ„ÄÇ chrome ÊµãËØï Âà∑Êñ∞ Âíå ËæìÂÖ•URLÂõûËΩ¶ ÊµãËØïÂπ∂‰∏ç‰ºöÂΩ±Âìç200Ôºàfrom cacheÔºâÂíå304 ÁöÑÂá∫Áé∞„ÄÇ ÂèØËÉΩÁöÑÊÉÖÂÜµÔºåÊòØÂú®ÊúçÂä°Âô®Ê≤°ÊúâËÆæÁΩÆÊòæÁ§∫ÁºìÂ≠òÊó∂Èó¥ÁöÑÊÉÖÂÜµ‰∏ãÔºåfreshness_lifetimeÊòØÊµèËßàÂô®ÊåâÊüêÁßçÁÆóÊ≥ïËÆ°ÁÆóÂá∫Êù•ÔºåËøô‰∏™Êó∂Èó¥Âπ∂‰∏çÈïøÔºåÊâÄ‰ª•‰ºöÂá∫Áé∞ËøôÁßçÊÉÖÂÜµ„ÄÇ ËÆæÁΩÆCache-Contral max-ageÁöÑÊÉÖÂÜµ‰∏ãÔºåmax-ageËøáÊúüÂêéÈ¶ñÊ¨°Âà∑Êñ∞‰ºöÂá∫Áé∞304(Â¶ÇÊûúÊúâÊõ¥Êñ∞ÂÜÖÂÆπÔºåÂàôÊòØ200)Ôºå‰πãÂêéÂú®max-ageÁºìÂ≠òËøáÊúü‰πãÂâçÂà∑Êñ∞ÈÉΩÊòØ200Ôºàfrom cacheÔºâ„ÄÇ ÁºìÂ≠òÊñπÊ°àËæÉÈïøÁöÑËøáÊúüÊó∂Èó¥ÔºåËäÇÁúÅÂ∏¶ÂÆΩÔºåÊèêÈ´òÊÄßËÉΩÔºõÊõ¥ÊîπËµÑÊ∫êÁöÑÁΩëÂùÄÔºåÂº∫Âà∂Áî®Êà∑‰∏ãËΩΩÊñ∞ÂìçÂ∫î ÊåâÈúÄÊõ¥Êñ∞ÔºåÁ≤æÁ°ÆÁöÑÁºìÂ≠òÊéßÂà∂ ÈùôÊÄÅËµÑÊ∫êCDNÈÉ®ÁΩ≤ Êõ¥ËµÑÊ∫êÂèëÂ∏ÉË∑ØÂæÑÂÆûÁé∞ÈùûË¶ÜÁõñÂºèÂèëÂ∏ÉÔºàÂ§öÁâàÊú¨ÂÖ±Â≠òÔºâ]]></content>
      <tags>
        <tag>http</tag>
        <tag>ÁºìÂ≠ò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue3 ProxyËßÇÂØüËÄÖÊú∫Âà∂Êé¢Á¥¢]]></title>
    <url>%2F2018%2F11%2F21%2FVue-Proxy%E8%A7%82%E5%AF%9F%E8%80%85%E6%9C%BA%E5%88%B6%E6%8E%A2%E7%B4%A2%2F</url>
    <content type="text"><![CDATA[‰∏∫‰ªÄ‰πàProxyÂèØ‰ª•‰ºòÂåñvueÁöÑÊï∞ÊçÆÁõëÂê¨Êú∫Âà∂?vue2.x‰∏≠ÁöÑÂÆûÁé∞ÂÖ∂Êú¨Ë¥®ÊòØnew Watcher(data, key, callback)ÁöÑÊñπÂºèÔºåËÄåÂú®Ë∞ÉÁî®‰πãÂâçÊòØÂÖàÂ∞Üdata‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßËΩ¨ÂåñÊàêÂèØÁõëÂê¨ÁöÑÂØπË±°, ÂÖ∂‰∏ªË¶ÅÂ∞±ÊòØÂà©Áî®Object.definePropertyÔºå„ÄÇ12345678910111213141516171819202122class Watcher&#123; constructor(data, key, cb)&#123; &#125;&#125;//ËΩ¨Êç¢ÊàêÂèØÁõëÂê¨ÂØπË±°functionobserve(data)&#123; new Observer(data)&#125;//‰øÆÊîπÊï∞ÊçÆÁöÑgetterÂíåsetterfunctiondefineReactive(obj, key)&#123; let value = obj[key]; Object.defineProperty(obj, key, &#123; enumerable: true, configurable: true, get()&#123; return value; &#125;, set(newVal)&#123; value = newVal &#125; &#125;)&#125; ObserverÁöÑÂÆûÁé∞ÂæàÁÆÄÂçï123456789101112class Observer&#123; constructor(data)&#123; this.walk(data); &#125; walk(data)&#123; for(var key in data) &#123; // ËøôÈáå‰∏çËÄÉËôëÂµåÂ•óÁöÑÈóÆÈ¢òÔºåÂê¶ÂàôÁöÑËØùÈúÄË¶ÅÈÄíÂΩíË∞ÉÁî®walk defineReactive(data, key) &#125; &#125;&#125; Áé∞Âú®ÊÄé‰πàÂ∞ÜwatcherÂíågetter/setterËÅîÁ≥ªËµ∑Êù•ÔºåvueÁöÑÊñπÊ≥ïÊòØÊ∑ªÂä†‰∏Ä‰∏™‰æùËµñÁ±ªÔºöDep12345678910111213141516171819202122232425262728293031323334class Watcher&#123; constructor(data, key, cb)&#123; this.cb = cb; Dep.target = this; //ÊØèÊ¨°Êñ∞Âª∫watcherÁöÑÊó∂ÂÄôËÆ≤ÁªôtargetËµãÂÄºÔºåÂØπtargetÁöÑÁÆ°ÁêÜËøôÈáåÁÆÄÂåñ‰∫ÜvueÁöÑÂÆûÁé∞ data[key];//Ë∞ÉÁî®getterÔºåÊâßË°åaddSub, Â∞Ütarget‰º†ÂÖ•ÂØπÂ∫îÁöÑdep; vueÁöÑÂÆûÁé∞Êú¨Ë¥®Â∞±ÊòØÂ¶ÇÊ≠§ &#125;&#125;class Dep&#123; constructor()&#123; this.subs = []; &#125; addSub(sub)&#123; this.subs.push(sub); &#125; notify()&#123; this.subs.forEach(sub =&gt; sub.cb()) &#125;&#125;function defineReactive(obj, key)&#123; let value = obj[key]; let dep = new Dep(); //ÊØè‰∏Ä‰∏™Â±ûÊÄßÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑdepÔºå‰Ωú‰∏∫Èó≠ÂåÖ‰øùÂ≠òObject.defineProperty(obj, key, &#123; enumerable: true, configurable: true, get()&#123; dep.addSub(Dep.target) Dep.target = null; return value; &#125;, set(newVal)&#123; value = newVal dep.notify(); &#125; &#125;)&#125; ‰ª•‰∏äÂ∞±ÊòØvueÁöÑÊÄùË∑ØÔºåvue3‰πãÊâÄ‰ª•Ë¶Å‰ªéÊñ∞ÂÆûÁé∞Ôºå‰∏ªË¶ÅÊúâËøôÂá†‰∏™ÂéüÂõ†Ôºö Object.definePropertyÁöÑÊÄßËÉΩÂºÄÈîÄ„ÄÇ defineReactive‰∏ÄÂºÄÂßãÂ∞±Ë¶ÅÂØπË¶ÅÁõëÂê¨ÁöÑÂØπË±°ÊâÄÊúâÂ±ûÊÄßÈÉΩÊâßË°å‰∏ÄÈÅçÔºåÂõ†‰∏∫‰º†ÁªüÊñπÊ≥ïË¶ÅÂ∞Ü‰∏Ä‰∏™ÂØπË±°ËΩ¨Êç¢ÊàêÂèØÁõëÂê¨ÂØπË±°ÔºåÂè™ËÉΩÂ¶ÇÊ≠§„ÄÇ Ê∑ªÂä†Âà†Èô§Â±ûÊÄßÁöÑÈóÆÈ¢ò„ÄÇ ËøòÊúâ‰∏ÄÁÇπÂ∞±ÊòØËøô‰∏™Ê®°ÂùóË¢´ËÄ¶ÂêàÂà∞‰∫ÜvueÈáåÈù¢ÔºåÊñ∞ÁâàÊú¨ÂèØ‰ª•ÂçïÁã¨‰Ωú‰∏∫‰∏Ä‰∏™Â∫ìÊù•‰ΩøÁî®„ÄÇ ÁÑ∂ÂêéÊàë‰ª¨Êù•ÁúãÁúãÂêåÊ†∑ÁöÑÂäüËÉΩÈááÁî®Proxy‰ºöÊÄéÊ†∑ÂÆûÁé∞„ÄÇ ProxyÁöÑÂÆûÁé∞Â∞Ü‰∏Ä‰∏™ÂØπË±°ËΩ¨Êç¢ÊàêProxyÁöÑÊñπÂºèÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶Å‰Ωú‰∏∫ÂèÇÊï∞‰º†ÁªôproxyÂç≥ÂèØÔºõ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051class Watcher&#123; constructor(proxy, key, cb) &#123; this.cb = cb; Dep.target = this; this.value = proxy[key]; &#125;&#125;class Dep&#123; constructor()&#123; this.subs = [] &#125; addSub(sub)&#123; this.subs.push(sub); &#125; notify(newVal)&#123; this.subs.forEach(sub =&gt; &#123; sub.cb(newVal, sub.value); sub.value = newVal; &#125;) &#125;&#125;const observe = (obj) =&gt; &#123; const deps = &#123;&#125;; returnnewProxy(obj, &#123; get: function (target, key, receiver) &#123; const dep = (deps[key] = deps[key] || new Dep); Dep.target &amp;&amp; dep.addSub(Dep.target) Dep.target = null; returnReflect.get(target, key, receiver); &#125;, set: function (target, key, value, receiver) &#123; const dep = (deps[key] = deps[key] || new Dep); Promise.resolve().then(() =&gt; &#123; dep.notify(value); &#125;) returnReflect.set(target, key, value, receiver); &#125; &#125;);&#125;var state = observe(&#123;x:0&#125;)new Watcher(state, &apos;x&apos;, function(n, o)&#123; console.log(n, o)&#125;);new Watcher(state, &apos;y&apos;, function(n, o)&#123; console.log(n, o)&#125;);state.x = 3;state.y = 3; ‰πüËÆ∏‰∏ÄÂºÄÂßãÊàë‰ª¨Âè™ÂÖ≥ÂøÉxÂíåyÔºåÈÇ£‰πàÂ∞±‰∏ç‰ºöÂØπÂÖ∂‰ªñÁöÑÂ±ûÊÄßÂÅöÁõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåÈô§ÈùûÊ∑ªÂä†watcherÔºåÂÖ∂‰ªñÊó∂Èó¥targetÈÉΩÊòØnull Vue 3 ‰ª•‰∏ãÊñπÈù¢ÂÄºÂæóÊàë‰ª¨ÊúüÂæÖ Ôºö Êõ¥Âø´ Êõ¥Â∞è Êõ¥Êòì‰∫éÁª¥Êä§ Êõ¥Â§öÁöÑÂéüÁîüÊîØÊåÅ Êõ¥Êòì‰∫éÂºÄÂèë‰ΩøÁî® Â≠¶‰∏çÂä®ÁöÑÂêåÂ≠¶ËøòÂèØ‰ª•ÁºìÁºì ^_^ ‰∏∫‰ªÄ‰πàË¶ÅÂèñ‰ª£Object.definePropertyÊó¢ÁÑ∂Ë¶ÅÂèñ‰ª£Object.definePropertyÔºåÈÇ£ÂÆÉËÇØÂÆöÊòØÊúâ‰∏Ä‰∫õÊòéÊòæÁöÑÁº∫ÁÇπÔºåÊÄªÁªìËµ∑Êù•Â§ßÊ¶ÇÊòØ‰∏ãÈù¢‰∏§‰∏™Ôºö Object.definePropertyÊó†Ê≥ïÁõëÊéßÂà∞Êï∞ÁªÑ‰∏ãÊ†áÁöÑÂèòÂåñÔºåÂØºËá¥Áõ¥Êé•ÈÄöËøáÊï∞ÁªÑÁöÑ‰∏ãÊ†áÁªôÊï∞ÁªÑËÆæÁΩÆÂÄºÔºå‰∏çËÉΩÂÆûÊó∂ÂìçÂ∫î„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÁªèËøávueÂÜÖÈÉ®Â§ÑÁêÜÂêéÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÊù•ÁõëÂê¨Êï∞ÁªÑ 1234567push()pop()shift()unshift()splice()sort()reverse() Áî±‰∫éÂè™ÈíàÂØπ‰∫Ü‰ª•‰∏äÂÖ´ÁßçÊñπÊ≥ïËøõË°å‰∫ÜhackÂ§ÑÁêÜ,ÊâÄ‰ª•ÂÖ∂‰ªñÊï∞ÁªÑÁöÑÂ±ûÊÄß‰πüÊòØÊ£ÄÊµã‰∏çÂà∞ÁöÑÔºåËøòÊòØÂÖ∑Êúâ‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄß„ÄÇ Object.definePropertyÂè™ËÉΩÂä´ÊåÅÂØπË±°ÁöÑÂ±ûÊÄß,Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂØπÊØè‰∏™ÂØπË±°ÁöÑÊØè‰∏™Â±ûÊÄßËøõË°åÈÅçÂéÜ„ÄÇVue 2.xÈáåÔºåÊòØÈÄöËøá ÈÄíÂΩí + ÈÅçÂéÜ data ÂØπË±°Êù•ÂÆûÁé∞ÂØπÊï∞ÊçÆÁöÑÁõëÊéßÁöÑÔºåÂ¶ÇÊûúÂ±ûÊÄßÂÄº‰πüÊòØÂØπË±°ÈÇ£‰πàÈúÄË¶ÅÊ∑±Â∫¶ÈÅçÂéÜ,ÊòæÁÑ∂Â¶ÇÊûúËÉΩÂä´ÊåÅ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂØπË±°ÊòØÊâçÊòØÊõ¥Â•ΩÁöÑÈÄâÊã©„ÄÇ ËÄåË¶ÅÂèñ‰ª£ÂÆÉÁöÑProxyÊúâ‰ª•‰∏ã‰∏§‰∏™‰ºòÁÇπ; ÂèØ‰ª•Âä´ÊåÅÊï¥‰∏™ÂØπË±°ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÂØπË±° Êúâ13ÁßçÂä´ÊåÅÊìç‰Ωú ÁúãÂà∞ËøôÂèØËÉΩÊúâÂêåÂ≠¶Ë¶ÅÈóÆ‰∫ÜÔºåÊó¢ÁÑ∂ProxyËÉΩËß£ÂÜ≥‰ª•‰∏ä‰∏§‰∏™ÈóÆÈ¢òÔºåËÄå‰∏îProxy‰Ωú‰∏∫es6ÁöÑÊñ∞Â±ûÊÄßÂú®vue2.x‰πãÂâçÂ∞±Êúâ‰∫ÜÔºå‰∏∫‰ªÄ‰πàvue2.x‰∏ç‰ΩøÁî®ProxyÂë¢Ôºü‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂéüÂõ†Â∞±ÊòØÔºö ProxyÊòØes6Êèê‰æõÁöÑÊñ∞ÁâπÊÄßÔºåÂÖºÂÆπÊÄß‰∏çÂ•ΩÔºåÊúÄ‰∏ªË¶ÅÁöÑÊòØËøô‰∏™Â±ûÊÄßÊó†Ê≥ïÁî®polyfillÊù•ÂÖºÂÆπ ÂÖ≥‰∫éObject.definePropertyÊù•ÂÆûÁé∞ËßÇÂØüËÄÖÊú∫Âà∂ÔºåÂèØ‰ª•ÂèÇÁÖßÂâñÊûêVueÂéüÁêÜ&amp;ÂÆûÁé∞ÂèåÂêëÁªëÂÆöMVVMËøôÁØáÊñáÁ´†Ôºå‰∏ãÈù¢ÁöÑÂÜÖÂÆπ‰∏ªË¶Å‰ªãÁªçÂ¶Ç‰ΩïÂü∫‰∫é ProxyÊù•ÂÆûÁé∞vueËßÇÂØüËÄÖÊú∫Âà∂„ÄÇ ‰ªÄ‰πàÊòØProxy , ECMAScript 6 ÂÖ•Èó®1.Âê´‰πâÔºö ProxyÊòØ ES6 ‰∏≠Êñ∞Â¢ûÁöÑ‰∏Ä‰∏™ÁâπÊÄßÔºåÁøªËØëËøáÊù•ÊÑèÊÄùÊòØ‚Äù‰ª£ÁêÜ‚ÄùÔºåÁî®Âú®ËøôÈáåË°®Á§∫Áî±ÂÆÉÊù•‚Äú‰ª£ÁêÜ‚ÄùÊüê‰∫õÊìç‰Ωú„ÄÇ Proxy ËÆ©Êàë‰ª¨ËÉΩÂ§ü‰ª•ÁÆÄÊ¥ÅÊòìÊáÇÁöÑÊñπÂºèÊéßÂà∂Â§ñÈÉ®ÂØπÂØπË±°ÁöÑËÆøÈóÆ„ÄÇÂÖ∂ÂäüËÉΩÈùûÂ∏∏Á±ª‰ºº‰∫éËÆæËÆ°Ê®°Âºè‰∏≠ÁöÑ‰ª£ÁêÜÊ®°Âºè„ÄÇ Proxy ÂèØ‰ª•ÁêÜËß£ÊàêÔºåÂú®ÁõÆÊ†áÂØπË±°‰πãÂâçÊû∂ËÆæ‰∏ÄÂ±Ç‚ÄúÊã¶Êà™‚ÄùÔºåÂ§ñÁïåÂØπËØ•ÂØπË±°ÁöÑËÆøÈóÆÔºåÈÉΩÂøÖÈ°ªÂÖàÈÄöËøáËøôÂ±ÇÊã¶Êà™ÔºåÂõ†Ê≠§Êèê‰æõ‰∫Ü‰∏ÄÁßçÊú∫Âà∂ÔºåÂèØ‰ª•ÂØπÂ§ñÁïåÁöÑËÆøÈóÆËøõË°åËøáÊª§ÂíåÊîπÂÜô„ÄÇ ‰ΩøÁî® Proxy ÁöÑÊ†∏ÂøÉ‰ºòÁÇπÊòØÂèØ‰ª•‰∫§Áî±ÂÆÉÊù•Â§ÑÁêÜ‰∏Ä‰∫õÈùûÊ†∏ÂøÉÈÄªËæëÔºàÂ¶ÇÔºöËØªÂèñÊàñËÆæÁΩÆÂØπË±°ÁöÑÊüê‰∫õÂ±ûÊÄßÂâçËÆ∞ÂΩïÊó•ÂøóÔºõËÆæÁΩÆÂØπË±°ÁöÑÊüê‰∫õÂ±ûÊÄßÂÄºÂâçÔºåÈúÄË¶ÅÈ™åËØÅÔºõÊüê‰∫õÂ±ûÊÄßÁöÑËÆøÈóÆÊéßÂà∂Á≠âÔºâ„ÄÇ ‰ªéËÄåÂèØ‰ª•ËÆ©ÂØπË±°Âè™ÈúÄÂÖ≥Ê≥®‰∫éÊ†∏ÂøÉÈÄªËæëÔºåËææÂà∞ÂÖ≥Ê≥®ÁÇπÂàÜÁ¶ªÔºåÈôç‰ΩéÂØπË±°Â§çÊùÇÂ∫¶Á≠âÁõÆÁöÑ„ÄÇ Proxy ÂèØ‰ª•ÁêÜËß£ÊàêÔºåÂú®ÁõÆÊ†áÂØπË±°‰πãÂâçÊû∂ËÆæ‰∏ÄÂ±Ç‚ÄúÊã¶Êà™‚ÄùÔºåÂ§ñÁïåÂØπËØ•ÂØπË±°ÁöÑËÆøÈóÆÔºåÈÉΩÂøÖÈ°ªÂÖàÈÄöËøáËøôÂ±ÇÊã¶Êà™ÔºåÂõ†Ê≠§Êèê‰æõ‰∫Ü‰∏ÄÁßçÊú∫Âà∂ÔºåÂèØ‰ª•ÂØπÂ§ñÁïåÁöÑËÆøÈóÆËøõË°åËøáÊª§ÂíåÊîπÂÜô„ÄÇProxy Ëøô‰∏™ËØçÁöÑÂéüÊÑèÊòØ‰ª£ÁêÜÔºåÁî®Âú®ËøôÈáåË°®Á§∫Áî±ÂÆÉÊù•‚Äú‰ª£ÁêÜ‚ÄùÊüê‰∫õÊìç‰ΩúÔºåÂèØ‰ª•ËØë‰∏∫‚Äú‰ª£ÁêÜÂô®‚Äù„ÄÇ 2.Âü∫Êú¨Áî®Ê≥ïÔºö1let p = new Proxy(target, handler); ÂèÇÊï∞Ôºö target ÊòØÁî®ProxyÂåÖË£ÖÁöÑË¢´‰ª£ÁêÜÂØπË±°ÔºàÂèØ‰ª•ÊòØ‰ªª‰ΩïÁ±ªÂûãÁöÑÂØπË±°ÔºåÂåÖÊã¨ÂéüÁîüÊï∞ÁªÑÔºåÂáΩÊï∞ÔºåÁîöËá≥Âè¶‰∏Ä‰∏™‰ª£ÁêÜÔºâ„ÄÇ handler ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂÖ∂Â£∞Êòé‰∫Ü‰ª£ÁêÜtarget ÁöÑ‰∏Ä‰∫õÊìç‰ΩúÔºåÂÖ∂Â±ûÊÄßÊòØÂΩìÊâßË°å‰∏Ä‰∏™Êìç‰ΩúÊó∂ÂÆö‰πâ‰ª£ÁêÜÁöÑË°å‰∏∫ÁöÑÂáΩÊï∞„ÄÇ p ÊòØ‰ª£ÁêÜÂêéÁöÑÂØπË±°„ÄÇÂΩìÂ§ñÁïåÊØèÊ¨°ÂØπ p ËøõË°åÊìç‰ΩúÊó∂ÔºåÂ∞±‰ºöÊâßË°å handler ÂØπË±°‰∏äÁöÑ‰∏Ä‰∫õÊñπÊ≥ï„ÄÇProxyÂÖ±Êúâ13ÁßçÂä´ÊåÅÊìç‰ΩúÔºåhandler‰ª£ÁêÜÁöÑ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊñπÊ≥ïÊúâÂ¶Ç‰∏ãÂá†‰∏™Ôºö 1234getÔºöËØªÂèñsetÔºö‰øÆÊîπhasÔºöÂà§Êñ≠ÂØπË±°ÊòØÂê¶ÊúâËØ•Â±ûÊÄßconstructÔºöÊûÑÈÄ†ÂáΩÊï∞ 3.Á§∫‰æãÔºö ‰∏ãÈù¢Â∞±Áî®ProxyÊù•ÂÆö‰πâ‰∏Ä‰∏™ÂØπË±°ÁöÑgetÂíåsetÔºå‰Ωú‰∏∫‰∏Ä‰∏™Âü∫Á°Ädemo123456789101112131415let obj = &#123;&#125;; let handler = &#123; get(target, property) &#123; console.log(`$&#123;property&#125; Ë¢´ËØªÂèñ`); return property in target ? target[property] : 3; &#125;, set(target, property, value) &#123; console.log(`$&#123;property&#125; Ë¢´ËÆæÁΩÆ‰∏∫ $&#123;value&#125;`); target[property] = value; &#125; &#125; let p = new Proxy(obj, handler); p.name = &apos;tom&apos; //name Ë¢´ËÆæÁΩÆ‰∏∫ tom p.age; //age Ë¢´ËØªÂèñ 3 p ËØªÂèñÂ±ûÊÄßÁöÑÂÄºÊó∂ÔºåÂÆûÈôÖ‰∏äÊâßË°åÁöÑÊòØ handler.get() ÔºöÂú®ÊéßÂà∂Âè∞ËæìÂá∫‰ø°ÊÅØÔºåÂπ∂‰∏îËØªÂèñË¢´‰ª£ÁêÜÂØπË±° obj ÁöÑÂ±ûÊÄß„ÄÇ p ËÆæÁΩÆÂ±ûÊÄßÂÄºÊó∂ÔºåÂÆûÈôÖ‰∏äÊâßË°åÁöÑÊòØ handler.set() ÔºöÂú®ÊéßÂà∂Âè∞ËæìÂá∫‰ø°ÊÅØÔºåÂπ∂‰∏îËÆæÁΩÆË¢´‰ª£ÁêÜÂØπË±° obj ÁöÑÂ±ûÊÄßÁöÑÂÄº„ÄÇ ‰ª•‰∏ä‰ªãÁªç‰∫ÜProxyÂü∫Êú¨Áî®Ê≥ïÔºåÂÆûÈôÖ‰∏äËøô‰∏™Â±ûÊÄßËøòÊúâËÆ∏Â§öÂÜÖÂÆπÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉProxyÊñáÊ°£ Âü∫‰∫éProxyÊù•ÂÆûÁé∞ÂèåÂêëÁªëÂÆöËØù‰∏çÂ§öËØ¥ÔºåÊé•‰∏ãÊù•Êàë‰ª¨Â∞±Êù•Áî®ProxyÊù•ÂÆûÁé∞‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑÂèåÂêëÁªëÂÆötodolistÔºåÈ¶ñÂÖàÁÆÄÂçïÁöÑÂÜô‰∏ÄÁÇπhtmlÁªìÊûÑÔºö123456&lt;div id=&quot;app&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;input&quot; /&gt; &lt;div&gt;ÊÇ®ËæìÂÖ•ÁöÑÊòØÔºö &lt;span id=&quot;title&quot;&gt;&lt;/span&gt;&lt;/div&gt; &lt;button type=&quot;button&quot; name=&quot;button&quot; id=&quot;btn&quot;&gt;Ê∑ªÂä†Âà∞todolist&lt;/button&gt; &lt;ul id=&quot;list&quot;&gt;&lt;/ul&gt;&lt;/div&gt; ÂÖàÊù•‰∏Ä‰∏™ProxyÔºåÂÆûÁé∞ËæìÂÖ•Ê°ÜÁöÑÂèåÂêëÁªëÂÆöÊòæÁ§∫Ôºö12345678910111213141516171819202122const obj = &#123;&#125;;const input = document.getElementById(&quot;input&quot;);const title = document.getElementById(&quot;title&quot;);const newObj = new Proxy(obj, &#123; get: function(target, key, receiver) &#123; console.log(`getting $&#123;key&#125;!`); return Reflect.get(target, key, receiver); &#125;, set: function(target, key, value, receiver) &#123; console.log(target, key, value, receiver); if (key === &quot;text&quot;) &#123; input.value = value; title.innerHTML = value; &#125; return Reflect.set(target, key, value, receiver); &#125;&#125;); input.addEventListener(&quot;keyup&quot;, function(e) &#123; newObj.text = e.target.value;&#125;); ËøôÈáå‰ª£Á†ÅÊ∂âÂèäÂà∞ReflectÂ±ûÊÄßÔºåËøô‰πüÊòØ‰∏Ä‰∏™es6ÁöÑÊñ∞ÁâπÊÄßÔºåËøò‰∏çÂ§™‰∫ÜËß£ÁöÑÂêåÂ≠¶ÂèØ‰ª•ÂèÇËÄÉReflectÊñáÊ°£.Êé•‰∏ãÊù•Â∞±ÊòØÊ∑ªÂä†todolistÂàóË°®ÔºåÂÖàÊääÊï∞ÁªÑÊ∏≤ÊüìÂà∞È°µÈù¢‰∏äÂéªÔºö123456789101112131415161718 // Ê∏≤ÊüìtodolistÂàóË°®const Render = &#123; // ÂàùÂßãÂåñ init: function(arr) &#123; const fragment = document.createDocumentFragment(); for (let i = 0; i &lt; arr.length; i++) &#123; const li = document.createElement(&quot;li&quot;); li.textContent = arr[i]; fragment.appendChild(li); &#125; list.appendChild(fragment); &#125;, addList: function(val) &#123; const li = document.createElement(&quot;li&quot;); li.textContent = val; list.appendChild(li); &#125;&#125;; ÂÜçÊù•‰∏Ä‰∏™ProxyÔºåÂÆûÁé∞TodolistÁöÑÊ∑ªÂä†Ôºö1234567891011121314151617181920212223const arr = [];// ÁõëÂê¨Êï∞ÁªÑconst newArr = new Proxy(arr, &#123; get: function(target, key, receiver) &#123; return Reflect.get(target, key, receiver); &#125;, set: function(target, key, value, receiver) &#123; console.log(target, key, value, receiver); if (key !== &quot;length&quot;) &#123; Render.addList(value); &#125; return Reflect.set(target, key, value, receiver); &#125;&#125;); // ÂàùÂßãÂåñwindow.onload = function() &#123; Render.init(arr);&#125;; btn.addEventListener(&quot;click&quot;, function() &#123; newArr.push(parseInt(newObj.text));&#125;); ËøôÊ†∑Â∞±Áî® ProxyÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂèåÂêëÁªëÂÆöTodolist,ÂÖ∑‰Ωì‰ª£Á†ÅÂèØÂèÇËÄÉproxy.html Âü∫‰∫éProxyÊù•ÂÆûÁé∞vueÁöÑËßÇÂØüËÄÖÊú∫Âà∂1.ProxyÂÆûÁé∞observe12345678910111213141516observe(data) &#123; const that = this; let handler = &#123; get(target, property) &#123; return target[property]; &#125;, set(target, key, value) &#123; let res = Reflect.set(target, key, value); that.subscribe[key].map(item =&gt; &#123; item.update(); &#125;); return res; &#125; &#125; this.$data = new Proxy(data, handler); &#125; ËøôÊÆµ‰ª£Á†ÅÈáåÊää‰ª£ÁêÜÂô®ËøîÂõûÁöÑÂØπË±°‰ª£ÁêÜÂà∞this.$dataÔºåÂç≥this.$dataÊòØ‰ª£ÁêÜÂêéÁöÑÂØπË±°ÔºåÂ§ñÈÉ®ÊØèÊ¨°ÂØπthis.$dataËøõË°åÊìç‰ΩúÊó∂ÔºåÂÆûÈôÖ‰∏äÊâßË°åÁöÑÊòØËøôÊÆµ‰ª£Á†ÅÈáåhandlerÂØπË±°‰∏äÁöÑÊñπÊ≥ï„ÄÇ 2.compileÂíåwatcher ÊØîËæÉÁÜüÊÇâvueÁöÑÂêåÂ≠¶ÈÉΩÂæàÊ∏ÖÊ•öÔºåvue2.xÂú® new Vue() ‰πãÂêé„ÄÇ Vue ‰ºöË∞ÉÁî® _init ÂáΩÊï∞ËøõË°åÂàùÂßãÂåñÔºåÂÆÉ‰ºöÂàùÂßãÂåñÁîüÂëΩÂë®Êúü„ÄÅ‰∫ã‰ª∂„ÄÅ props„ÄÅ methods„ÄÅ data„ÄÅ computed ‰∏é watch Á≠â„ÄÇÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑÊòØÈÄöËøá Object.defineProperty ËÆæÁΩÆ setter ‰∏é getter ÂáΩÊï∞ÔºåÁî®Êù•ÂÆûÁé∞„ÄåÂìçÂ∫îÂºè„Äç‰ª•Âèä„Äå‰æùËµñÊî∂ÈõÜ„Äç„ÄÇÁ±ª‰ºº‰∫é‰∏ãÈù¢Ëøô‰∏™ÂÜÖÈÉ®ÊµÅÁ®ãÂõæÔºö ËÄåÊàë‰ª¨‰∏äÈù¢Â∑≤ÁªèÁî®ProxyÂèñ‰ª£‰∫ÜObject.definePropertyËøôÈÉ®ÂàÜËßÇÂØüËÄÖÊú∫Âà∂ÔºåËÄåË¶ÅÂÆûÁé∞Êï¥‰∏™Âü∫Êú¨mvvmÂèåÂêëÁªëÂÆöÊµÅÁ®ãÔºåÈô§‰∫ÜobserveËøòÈúÄË¶ÅcompileÂíåwatcheÁ≠â‰∏ÄÁ≥ªÂàóÊú∫Âà∂ÔºåÊàë‰ª¨ËøôÈáåÂÉèÊ®°ÊùøÁºñËØëÁöÑÂ∑•‰ΩúÂ∞±‰∏çÂ±ïÂºÄÊèèËø∞‰∫ÜÔºå‰∏∫‰∫ÜÂÆûÁé∞Âü∫‰∫éProxyÁöÑvueÊ∑ªÂä†Totolist,ËøôÈáåÂè™ÂÜô‰∫Ü compileÂíåwatcherÊù•ÊîØÊåÅobserveÁöÑÂ∑•‰ΩúÔºåÂÖ∑‰Ωì‰ª£Á†ÅÂèÇËÄÉproxyVue,Ëøô‰∏™‰ª£Á†ÅÁõ∏ÂΩì‰∫é‰∏Ä‰∏™Âü∫‰∫éProxyÁöÑ‰∏Ä‰∏™ÁÆÄÂåñÁâàvueÔºå‰∏ªË¶ÅÊòØÂÆûÁé∞ÂèåÂêëÁªëÂÆöËøô‰∏™ÂäüËÉΩÔºå‰∏∫‰∫ÜÊñπ‰æøËøôÈáåÊääjsÊîæÂà∞‰∫ÜhtmlÈ°µÈù¢‰∏≠ÔºåÂ§ßÂÆ∂Êú¨Âú∞ËøêË°åÂêéÂèØ‰ª•ÂèëÁé∞ÔºåÁé∞Âú®ÁöÑÊïàÊûúÂíåÁ¨¨‰∏âÁ´†ÁöÑÊïàÊûúËææÂà∞‰∏ÄËá¥‰∫ÜÔºåÁ≠âÂà∞ÊòéÂπ¥vue3ÂèëÂ∏ÉÔºåÂÆÉÊ∫êÁ†ÅÈáåÂü∫‰∫é ProxyÂÆûÁé∞ÁöÑÁöÑËßÇÂØüËÄÖÊú∫Âà∂ÂèØËÉΩÂíåËøôÈáåÁöÑÂÆûÁé∞‰ºöÊúâÂæàÂ§ö‰∏çÂêåÔºåËøôÁØáÊñáÁ´†‰∏ªË¶ÅÊòØÂØπ ProxyËøô‰∏™ÁâπÊÄßÂÅö‰∫Ü‰∏Ä‰∫õ‰ªãÁªç‰ª•ÂèäÂÆÉÁöÑ‰∏Ä‰∫õÂ∫îÁî®ÔºåËÄå‰ΩúËÄÖÊú¨‰∫∫‰πüÈÄöËøáÂØπProxy ÁöÑËßÇÂØüËÄÖÊú∫Âà∂Êé¢Á¥¢Â≠¶Âà∞‰∫Ü‰∏çÂ∞ë‰∏úË•øÔºåÊâÄ‰ª•Êï¥ÂêàËµÑÊ∫êÔºåÊÄªÁªìÂá∫‰∫ÜËøôÁØáÊñáÁ´†ÔºåÂ∏åÊúõËÉΩÂíåÂ§ßÂÆ∂ÂÖ±Âãâ‰πãÔºå‰ª•‰∏äÔºåÊàë‰ª¨‰∏ãÊ¨°ÊúâÁºòÂÜçËßÅ„ÄÇ]]></content>
      <tags>
        <tag>Vue</tag>
        <tag>Proxy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆûÁé∞‰∏Ä‰∏™ÂõûÂà∞È°∂ÈÉ®]]></title>
    <url>%2F2018%2F11%2F16%2F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÁªèÂ∏∏Áî®Âà∞ÊªöÂä®Âà∞È°µÈù¢È°∂ÈÉ®ÊàñÊüê‰∏™‰ΩçÁΩÆÔºå‰∏ÄËà¨ÁÆÄÂçïÁî®ÈîöÁÇπÂ§ÑÁêÜÊàñÁî®jsÂ∞Üdocument.body.scrollTopËÆæÁΩÆ‰∏∫0ÔºåÁªìÊûúÊòØÈ°µÈù¢‰∏ÄÈó™ËÄåËøáÊªöÂà∞ÊåáÂÆö‰ΩçÁΩÆÔºå‰∏çÊòØÁâπÂà´ÂèãÂ•Ω„ÄÇÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûúÊòØË¶ÅÊúâÁÇπÁºìÂÜ≤ÊïàÊûú„ÄÇ123$(&apos;html,body&apos;).animate(&#123; scrollTop: 0&#125;, 700); Áé∞‰ª£ÊµèËßàÂô®ÈôÜÁª≠ÊÑèËØÜÂà∞‰∫ÜËøôÁßçÈúÄÊ±ÇÔºåscrollIntoViewÊÑèÊÄùÊòØÊªöÂä®Âà∞ÂèØËßÜÔºåcss‰∏≠Êèê‰æõ‰∫Üscroll-behaviorÂ±ûÊÄßÔºåjsÊúâElement.scrollIntoView()ÊñπÊ≥ï„ÄÇ Á∫ØcssÂÆûÁé∞tabÂàáÊç¢ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Á∫ØcssÂÆûÁé∞tabÂàáÊç¢&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; * &#123; margin: 0; padding: 0; &#125; .tab &#123; width: 300px; height: 150px; margin-left: 30px; margin-top: 30px; border: 1px solid #eee; position: relative; overflow: hidden; &#125; input[type=&apos;radio&apos;] &#123; display: none; &#125; .tab label &#123; display: block; cursor: pointer; position: absolute; width: 60px; height: 30px; line-height: 30px; text-align: center; border: 1px solid #eee; &#125; .label-1 &#123; left: 0; top: 0; &#125; .label-2 &#123; left: 60px; top: 0; &#125; input[type=&apos;radio&apos;]:checked~div[class^=&apos;mod&apos;] &#123; display: block; &#125; input[type=&apos;radio&apos;]:checked~label &#123; background: orange; &#125; [class^=&apos;mod&apos;] &#123; position: absolute; top: 40px; left: 20px; display: none; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;tab&quot;&gt; &lt;div&gt; &lt;input type=&quot;radio&quot; id=&quot;r-1&quot; name=&quot;tab&quot; checked&gt; &lt;label for=&quot;r-1&quot; class=&quot;label-1&quot;&gt;Á¨¨‰∏ÄÂº†&lt;/label&gt; &lt;div class=&quot;mod-1&quot;&gt; &lt;ul&gt; &lt;li&gt;275‰∏áË¥≠ÊòåÂπ≥ÈÇªÈìÅ‰∏âÂ±Ö&lt;/li&gt; &lt;li&gt;ÊÄª‰ª∑20‰∏á‰π∞‰∏ÄÂ±Ö&lt;/li&gt; &lt;li&gt;200‰∏áÂÜÖË¥≠‰∫îÁéØ‰∏âÂ±Ö&lt;/li&gt; &lt;li&gt;Âåó‰∫¨È¶ñÁé∞Èõ∂È¶ñ‰ªòÊ•ºÁõò&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=&quot;radio&quot; id=&quot;r-2&quot; name=&quot;tab&quot;&gt; &lt;label for=&quot;r-2&quot; class=&quot;label-2&quot;&gt;Á¨¨‰∫åÂº†&lt;/label&gt; &lt;div class=&quot;mod-2&quot;&gt; &lt;ul&gt; &lt;li&gt;Êñ∞‰∏≠ÂºèÁöÑÈÖ∑Ëâ≤Ê∏©ÊÉÖ&lt;/li&gt; &lt;li&gt;Ê∑±Âú≥Êàø‰ª∑Â§ßË∑å,ÊØèÂπ≥8W&lt;/li&gt; &lt;li&gt;800‰∏á‰π∞Ê≤ô‰∫ï‰∏âÊàø&lt;/li&gt; &lt;li&gt;ÂÆùÂÆâÊàø‰ª∑Âπ≥Âùá900W&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; Á∫ØcssÂÆûÁé∞tabÂàáÊç¢2 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;cssTabÂàáÊç¢2&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; * &#123; margin: 0; padding: 0; text-decoration: none; &#125; .tab &#123; width: 300px; height: 300px; margin: 30px auto; overflow: hidden; &#125; .nav &#123; height: 30px &#125; .content &#123; height: 270px; overflow: hidden; &#125; .cont &#123; height: 270px; &#125; #the1 &#123; background: green; &#125; #the2 &#123; background: blue; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;tab&quot;&gt; &lt;div class=&quot;nav&quot;&gt; &lt;a href=&quot;#the1&quot;&gt;ONE&lt;/a&gt; &lt;a href=&quot;#the2&quot;&gt;TWO&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;div id=&quot;the1&quot; class=&quot;cont&quot;&gt;Á¨¨‰∏ÄÂº†&lt;/div&gt; &lt;div id=&quot;the2&quot; class=&quot;cont&quot;&gt;Á¨¨‰∫åÂº†&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; scroll-behaviorscroll-behaviorÂ±ûÊÄßÂèØÂèñÂÄº auto | smooth | inherit | unset scroll-behavior: smooth;ÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁºìÂÜ≤ÊïàÊûú„ÄÇÂú®PCÊµèËßàÂô®‰∏≠ÔºåÈ°µÈù¢ÈªòËÆ§ÊªöÂä®ÊòØÂú®&lt;html&gt;Ê†áÁ≠æ‰∏äÔºåÁßªÂä®Á´ØÂ§ßÂ§öÊï∞Âú®&lt;body&gt;Ê†áÁ≠æ‰∏äÔºåÂú®Êàë‰ª¨ÊÉ≥Ë¶ÅÂÆûÁé∞Âπ≥Êªë‚ÄúÂõûÂà∞È°∂ÈÉ®‚ÄùÔºåÂè™ÈúÄÂú®Ëøô‰∏§‰∏™Ê†áÁ≠æ‰∏äÈÉΩÂä†‰∏äÔºö123html, body &#123; scroll-behavior: smooth;&#125; ÂáÜÁ°ÆÁöÑËØ¥ÔºåÂÜôÂú®ÂÆπÂô®ÂÖÉÁ¥†‰∏äÔºåÂèØ‰ª•ËÆ©ÂÆπÂô®ÔºàÈùûÈº†Ê†áÊâãÂäøËß¶ÂèëÔºâÁöÑÊªöÂä®ÂèòÂæóÂπ≥ÊªëÔºåËÄå‰∏çÂ±ÄÈôê‰∫é&lt;html&gt;Ôºå&lt;body&gt;Ê†áÁ≠æ„ÄÇ Âà©Áî®Ëøô‰∏™cssÂ±ûÊÄßÂèØ‰ª•‰∏ÄÊ≠•Â∞ÜÂéüÊù•Á∫ØcssÊ†áÁ≠æÁõ¥Êé•ÂàáÊç¢ÔºåÂèòÊàêÂπ≥ÊªëËøáÊ∏°ÂàáÊç¢ÊïàÊûú„ÄÇ Á∫ØcssÂÆûÁé∞tabÂàáÊç¢3 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; html, body &#123; scroll-behavior: smooth; &#125; .tab label &#123; padding: 10px; border: 1px solid #ccc; margin-right: -1px; text-align: center; float: left; overflow: hidden; &#125; .tab::after &#123; content: &quot;&quot;; display: table; clear: both; &#125; .box &#123; height: 200px; border: 1px solid #ccc; scroll-behavior: smooth; overflow: hidden; margin-top: 10px; &#125; .item &#123; height: 100%; position: relative; overflow: hidden; &#125; .item input &#123; position: absolute; top: 0; height: 100%; width: 1px; border: 0; padding: 0; margin: 0; clip: rect(0 0 0 0); &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Á∫ØCSSÈÄâÈ°πÂç°&lt;/h1&gt; &lt;div class=&quot;tab&quot;&gt; &lt;label for=&quot;tab1&quot;&gt;ÈÄâÈ°πÂç°1&lt;/label&gt; &lt;label for=&quot;tab2&quot;&gt;ÈÄâÈ°πÂç°2&lt;/label&gt; &lt;label for=&quot;tab3&quot;&gt;ÈÄâÈ°πÂç°3&lt;/label&gt; &lt;/div&gt; &lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;tab1&quot;&gt; &lt;p&gt;ÈÄâÈ°πÂç°1ÂÜÖÂÆπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;tab2&quot;&gt; &lt;p&gt;ÈÄâÈ°πÂç°2ÂÜÖÂÆπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;tab3&quot;&gt; &lt;p&gt;ÈÄâÈ°πÂç°3ÂÜÖÂÆπ&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; ÂÜçÊù•Áúã‰∏Ä‰∏ãËøô‰∏™cssÂ±ûÊÄßscroll-behaviorÂú®ÂêÑÂ§ßÊµèËßàÂô®‰∏≠ÁöÑÊîØÊåÅÊÉÖÂÜµ ÂëÉ~ÊîØÊåÅÂ∫¶‰∏çÊòØÂæàÂ•ΩÔºåËøôÊ†∑‰∏ÄË°åcss‰ª£Á†ÅËÉΩÂ∫îÁî®‰∏äÂΩìÁÑ∂ÊòØÊúÄÂ•ΩÁöÑÔºå‰∏çË°åÂ∞±ÈÄÄÂåñÊàê‰∏ÄÈó™ËÄåËøáÁöÑÊïàÊûúÂíØ„ÄÇ‰∏ãÈù¢ÂÜçÁúã‰∏ãjsÊèê‰æõÁöÑapi„ÄÇ Element.scrollIntoView()Element.scrollIntoView() ÊñπÊ≥ïËÆ©ÂΩìÂâçÁöÑÂÖÉÁ¥†ÊªöÂä®Âà∞ÊµèËßàÂô®Á™óÂè£ÁöÑÂèØËßÜÂå∫ÂüüÂÜÖ„ÄÇ123element.scrollIntoView(); // Á≠âÂêå‰∫éelement.scrollIntoView(true)element.scrollIntoView(alignToTop); // BooleanÂûãÂèÇÊï∞element.scrollIntoView(scrollIntoViewOptions); // ObjectÂûãÂèÇÊï∞ ‰∏Ä‰∏™ÂæàÂÆûÁî®ÁöÑÁî®Ê≥ï„ÄêËß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÂêéÊå°Ë°®ÂçïÁöÑÈóÆÈ¢ò„Äë 123456789101112131415// Ëß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÂêéÊå°Ë°®ÂçïÁöÑÈóÆÈ¢ò window.addEventListener(&apos;resize&apos;, function() &#123; if( document.activeElement.tagName === &apos;INPUT&apos; || document.activeElement.tagName === &apos;TEXTAREA&apos; ) &#123; window.setTimeout(function() &#123; if(&apos;scrollIntoView&apos; in document.activeElement) &#123; document.activeElement.scrollIntoView(); &#125; else &#123; document.activeElement.scrollIntoViewIfNeeded(); &#125; &#125;, 0); &#125; &#125;); ÂèÇÊï∞alignToTop‰∏Ä‰∏™BooleanÂÄºÔºö Â¶ÇÊûú‰∏∫trueÔºåÂÖÉÁ¥†ÁöÑÈ°∂Á´ØÂ∞ÜÂíåÂÖ∂ÊâÄÂú®ÊªöÂä®Âå∫ÁöÑÂèØËßÜÂå∫ÂüüÁöÑÈ°∂Á´ØÂØπÈΩê„ÄÇÁõ∏Â∫îÁöÑscrollIntoViewOptions: {block: &quot;start&quot;, inline: &quot;nearest&quot;}„ÄÇËøôÊòØËøô‰∏™ÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº„ÄÇ Â¶ÇÊûú‰∏∫falseÔºåÂÖÉÁ¥†ÁöÑÂ∫ïÁ´ØÂ∞ÜÂíåÂÖ∂ÊâÄÂú®ÊªöÂä®Âå∫ÁöÑÂèØËßÜÂå∫ÂüüÁöÑÂ∫ïÁ´ØÂØπÈΩê„ÄÇÁõ∏Â∫îÁöÑscrollIntoViewOptions: {block: &quot;end&quot;, inline: &quot;nearest&quot;}„ÄÇ ÂèÇÊï∞scrollIntoViewOptions‰∏Ä‰∏™Â∏¶ÊúâÈÄâÈ°πÁöÑ objectÔºö { behavior: &quot;auto&quot; | &quot;instant&quot; | &quot;smooth&quot;, block: &quot;start&quot; | &quot;end&quot;, } behavior ÂèØÈÄâÂÆö‰πâÁºìÂä®Âä®ÁîªÔºå ‚Äúauto‚Äù, ‚Äúinstant‚Äù, Êàñ ‚Äúsmooth‚Äù ‰πã‰∏Ä„ÄÇÈªòËÆ§‰∏∫ ‚Äúauto‚Äù„ÄÇ block ÂèØÈÄâ&quot;start&quot;, &quot;center&quot;, &quot;end&quot;, Êàñ &quot;nearest&quot;‰πã‰∏Ä„ÄÇÈªòËÆ§‰∏∫ &quot;center&quot;„ÄÇ inline ÂèØÈÄâ&quot;start&quot;, &quot;center&quot;, &quot;end&quot;, Êàñ &quot;nearest&quot;‰πã‰∏Ä„ÄÇÈªòËÆ§‰∏∫ &quot;nearest&quot;„ÄÇ ÊµèËßàÂô®ÊîØÊåÅ ÂèØ‰ª•ÁúãÂà∞ÂØπ‰∫éÊó†ÂèÇÊï∞ÁöÑÊÉÖÂÜµÊîØÊåÅËøòÊòØÂæàÂ•ΩÁöÑÔºåÊúâÂèÇÊï∞ÁöÑËØ•APIÂú®ÊµèËßàÂô®‰∏≠ÊîØÊåÅ‰∏çÊòØÂæàÂ•ΩÔºåÊàë‰ª¨ÂèØ‰ª•ÂêåÊó∂ÁªìÂêàCSSËÆæÁΩÆscroll-behavior: smooth;ÊªöÂä®ÊïàÊûúÔºåÂú®ÊâßË°åÊªöÂä®‰ΩøÁî®target.scrollIntoView()ÔºåÂç≥ÂèØËææÂà∞‚ÄúÂÆåÁæéÊªöÂä®‚ÄùÔºà‰∏çÂ§™ÂÆåÁæéÔºâÊïàÊûú„ÄÇ Âêë‰∏ãÂÖºÂÆπË¶ÅËææÂà∞ÊâÄÊúâÊµèËßàÂô®ÈÉΩÊúâÁõ∏ÂêåÔºàÁ±ª‰ººÔºâÊïàÊûúÔºåÈÇ£Â∞±Ë¶ÅÊääÂâ©‰Ωô‰∏çÊîØÊåÅscroll-behaviorÂ±ûÊÄßÁöÑÊµèËßàÂô®Êè™Âá∫Êù•ÔºåÁî®jsÂéªÂÆåÊàê‰ΩøÂëΩ‰∫Ü„ÄÇ Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅscroll-behaviorÂ±ûÊÄßÂæàÁÆÄÂçïÔºåÁî®‰ª•‰∏ãËøô‰∏ÄË°å‰ª£Á†Å123456if(typeofwindow.getComputedStyle(document.body).scrollBehavior === &apos;undefined&apos;) &#123; // ÂÖºÂÆπjs‰ª£Á†Å&#125; else &#123; // ÂéüÁîüÊªöÂä®api // Element.scrollIntoView()&#125; Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅscroll-behaviorÂ±ûÊÄßÔºåÁõ¥Êé•Âà©Áî®ÂéüÁîüElement.scrollIntoView()ÊªöÂä®ÔºåÂê¶ÂàôÂêë‰∏ãÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ ÁºìÂÜ≤ÁÆóÊ≥ïÁºìÂÜ≤ÁöÑÁõ¥ËßÇÊïàÊûúÊòØË∂äÊù•Ë∂äÊÖ¢ÔºåÁõ¥Âà∞ÂÅúÊ≠¢Ôºå‰πüÂ∞±ÊòØÂú®Áõ∏ÂêåÊó∂Èó¥ÂÜÖËøêÂä®ÁöÑË∑ùÁ¶ªË∂äÊù•Ë∂äÁü≠„ÄÇËøôÊ†∑ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÁßªÂä®Âà∞ÂΩìÂâçÁÇπÂà∞ÁõÆÊ†áÁÇπË∑ùÁ¶ªÁöÑÁºìÂÜ≤ÁéáÔºàÊØîÂ¶Ç1/2Ôºå1/3Ôºå‚Ä¶ÔºâÂ§ÑÔºåÊØîÂ¶ÇÔºåÁºìÂÜ≤ÁéáËÆæ‰∏∫2ÔºåÂΩìÂâçË∑ùÁ¶ªÁõÆÊ†áÁÇπ64pxÔºå‰∏ã‰∏ÄÁßíÂ∞±ÊòØ32pxÔºåÁÑ∂Âêé16pxÔºå8px‚Ä¶ÔºåÂà∞ËææÊüê‰∏™ÈòàÂÄºÁªìÊùüÔºå‰πüÂ∞±ÊòØÔºö1var position = position + (destination - position) / n; ‰∏ãÈù¢Êù•ÁÆÄÂçïÂÆûÁé∞‰∏Ä‰∏™ÁÇπÂáªÂè≥‰∏ãÊñπÁöÑ‚ÄùÂõûÂà∞È°∂ÈÉ®‚ÄúÊåâÈíÆÔºåÈ°µÈù¢ÁºìÂä®ÊªöÂä®Âà∞È°∂ÈÉ®ÁöÑdemo„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; .content &#123; height: 3000px; border: 1px solid #ccc; box-shadow: 0 0 2px solid; &#125; .back-to-top &#123; width: 18px; padding: 10px; border: 1px solid #ccc; box-shadow: 0 0 2px #333; position: fixed; right: 20px; bottom: 40px; &#125; .back-to-top:hover &#123; cursor: pointer; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;content&quot;&gt; &lt;p&gt;ÂæàÂ§öÂÜÖÂÆπ„ÄÇ„ÄÇ„ÄÇ&lt;/p&gt; ... &lt;/div&gt; &lt;section class=&quot;back-to-top&quot;&gt; ÂõûÂà∞È°∂ÈÉ® &lt;/section&gt; &lt;script type=&quot;text/javascript&quot;&gt; var scrollTopSmooth = function(position) &#123; // ‰∏çÂ≠òÂú®ÂéüÁîü`requestAnimationFrame`ÔºåÁî®`setTimeout`Ê®°ÊãüÊõø‰ª£ if(!window.requestAnimationFrame) &#123; window.requestAnimationFrame = function(cb) &#123; return setTimeout(cb, 17); &#125;; &#125; // ÂΩìÂâçÊªöÂä®È´òÂ∫¶ var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; // step var step = function() &#123; var distance = position - scrollTop; scrollTop = scrollTop + distance / 5; if(Math.abs(distance) &lt; 1) &#123; window.scrollTo(0, position); &#125; else &#123; window.scrollTo(0, scrollTop); requestAnimationFrame(step); &#125; &#125;; step(); &#125; $backToTop = document.querySelector(&apos;.back-to-top&apos;) $backToTop.addEventListener(&apos;click&apos;, function() &#123; scrollTopSmooth(0); &#125;, false); &lt;/script&gt; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ÁÆÄÂçïÂ∞ÅË£Ö‰∏äÈù¢ÁöÑÂ∞èdemo‰∏≠ÔºåÁºìÂÜ≤ÁÆóÊ≥ïÂíåÂΩìÂâçÊªöÂä®‰∏öÂä°‰ª£Á†ÅËÄ¶ÂêàÂú®‰∏ÄËµ∑‰∫ÜÔºå‰∏ãÈù¢ÂçïÁã¨ÊãÜËß£Âá∫ÂçïÁã¨‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ1234567891011121314151617181920212223242526272829303132 /** * ÁºìÂÜ≤ÂáΩÊï∞ * @param &#123;Number&#125; position ÂΩìÂâçÊªöÂä®‰ΩçÁΩÆ * @param &#123;Number&#125; destination ÁõÆÊ†á‰ΩçÁΩÆ * @param &#123;Number&#125; rate ÁºìÂä®Áéá * @param &#123;Function&#125; callback ÁºìÂä®ÁªìÊùüÂõûË∞ÉÂáΩÊï∞ ‰∏§‰∏™ÂèÇÊï∞ÂàÜÂà´ÊòØÂΩìÂâç‰ΩçÁΩÆÂíåÊòØÂê¶ÁªìÊùü */var easeout = function (position, destination, rate, callback) &#123; if (position === destination || typeof destination !== &apos;number&apos;) &#123; returnfalse; &#125; destination = destination || 0; rate = rate || 2; // ‰∏çÂ≠òÂú®ÂéüÁîü`requestAnimationFrame`ÔºåÁî®`setTimeout`Ê®°ÊãüÊõø‰ª£ if (!window.requestAnimationFrame) &#123; window.requestAnimationFrame = function (fn) &#123; return setTimeout(fn, 17); &#125; &#125; var step = function () &#123; position = position + (destination - position) / rate; if (Math.abs(destination - position) &lt; 1) &#123; callback(destination, true); return; &#125; callback(position, false); requestAnimationFrame(step); &#125;; step(); &#125; ÊãÜÂàÜÂêéÔºåËøô‰∏™Â∞èÁºìÂÜ≤ÁÆóÊ≥ïÂ∞±ÂèØ‰ª•Ë¢´ÈáçÂ§çË∞ÉÁî®Âï¶ÔºåËÄå‰∏îÔºåÈÄÇÁî®‰∫éÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÔºà‰∏ç‰ªÖ‰ªÖÊòØÂà∞È°∂ÈÉ®ÔºâÂíåÁºìÂÜ≤ÁéáÔºàÊéßÂà∂ÊªöÂä®Âø´ÊÖ¢ÔºâÔºåÂΩìÂâçÂ∞èdemoË∞ÉÁî®Ôºö123456789101112var scrollTopSmooth = function (position) &#123; // ÂΩìÂâçÊªöÂä®È´òÂ∫¶ var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; easeout(scrollTop, position, 5, function (val) &#123; window.scrollTo(0, val); &#125;);&#125;$backToTop = document.querySelector(&apos;.back-to-top&apos;)$backToTop.addEventListener(&apos;click&apos;, function () &#123; scrollTopSmooth(200);&#125;, false); ÊÄªÁªìÁªºÂêàÊù•ÁúãÔºåÁÆÄÂçïÂÆûÁé∞‰∏Ä‰∏™ÂÆåÁæéÊªöÂä®Ê≥®ÊÑè‰ª•‰∏ãÂç≥ÂèØ &lt;html&gt;Ôºå&lt;body&gt;Ê†áÁ≠æÂä†‰∏äscroll-behavior: smooth;Â±ûÊÄßÔºõ Âà§Êñ≠ÂΩìÂâçÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅscrollBehaviorÂ±ûÊÄßÔºõ Â¶ÇÊûúÊîØÊåÅÁõ¥Êé•Áî®ÂéüÁîüÊªöÂä®apiElement.scrollIntoView()Ôºõ Â¶ÇÊûú‰∏çÊîØÊåÅÂàôÁî®jsÂ∞èÁºìÂÜ≤ÁÆóÊ≥ïÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107/* ÊªöÂä®Êù°Âä®ÁîªÔºö * ÁßªÂä®Á´Ø:document.body.scrollTop PCÁ´ØÔºödocument.documentElement.scrollTop //‰ΩøÁî®:gotoTop(400,callBack) gotoTop(durations, callback = undefined) &#123; const doc = document.documentElement const scrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0) for (var i = 60; i &gt;= 0; i--) &#123; setTimeout((i =&gt; &#123; return () =&gt; &#123; doc.scrollTop = scrollTop * i / 60 if (i === 0 &amp;&amp; typeof callback === &apos;function&apos;) &#123; callback() &#125; &#125; &#125;)(i), durations * (1 - i / 60)) &#125; &#125; * */------------------------------------------------------------------------------------------------------var requestAnimFrame = (function() &#123; return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) &#123; window.setTimeout(callback, 1000 / 60); &#125;;&#125;)();var cancelAnimationFrame = (function() &#123; return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function(id) &#123; window.clearTimeout(id) &#125;&#125;)()// Tween‰∏≠ÁöÑÊñπÊ≥ïÊé•Âèó4‰∏™ÂèÇÊï∞t,b,c,d „ÄÇt‰∏∫ÂàùÂßãÊó∂Èó¥ b„ÄÅc„ÄÅd‰∏â‰∏™ÂèÇÊï∞ÔºàÂç≥ÂàùÂßãÂÄºÔºåÂèòÂåñÈáèÔºåÊåÅÁª≠Êó∂Èó¥Ôºâ„ÄÇËøîÂõûÂÄº‰∏∫ÂΩìÂâç‰ΩçÁΩÆ// t =&gt; time(ÂàùÂßãËÆ∞Ê≠•Ê¨°Êï∞) b =&gt; begin(ÂàùÂßã‰ΩçÁΩÆ) c =&gt; change(ÂèòÂåñÈáè) d =&gt; duration(ÊåÅÁª≠Ê¨°Êï∞)var tween = &#123; linear: function(t, b, c, d) &#123; return c * t / d + b; &#125;, easeIn: function(t, b, c, d) &#123; return c * (t /= d) * t + b; &#125;, strongEaseIn: function(t, b, c, d) &#123; return c * (t /= d) * t * t * t * t + b; &#125;, strongEaseOut: function(t, b, c, d) &#123; return c * ((t = t / d - 1) * t * t * t * t + 1) + b; &#125;, sineaseIn: function(t, b, c, d) &#123; return c * (t /= d) * t * t + b; &#125;, sineaseOut: function(t, b, c, d) &#123; return c * ((t = t / d - 1) * t * t + 1) + b; &#125;, easeInOutQuad: function(t, b, c, d) &#123; t /= d / 2; if(t &lt; 1) return c / 2 * t * t + b; t--; return -c / 2 * (t * (t - 2) - 1) + b; &#125;&#125;;var myReq; //ÂõûÂà∞È°∂ÈÉ®ÂÖÉÁ¥†ÂÖÉÁ¥†ÔºåÁªìÊùü‰ΩçÁΩÆÔºåËÄóÊó∂ÔºåÂõûË∞ÉÔºåÊªöÂä®ÂáΩÊï∞export var animatedScrollTo = function(element, to, duration, callback, Bzr = &apos;linear&apos;) &#123; var start = element.scrollTop, change = to - start, animationStart = +new Date(); var animating = true; var lastpos = null; var animateScroll = function() &#123; if(!animating) &#123; return; &#125; myReq=requestAnimFrame(animateScroll); var now = +new Date(); var val = Math.floor(tween[Bzr](now - animationStart, start, change, duration)); if(lastpos) &#123; if(lastpos === element.scrollTop) &#123; lastpos = val; element.scrollTop = val; &#125; else &#123; animating = false; &#125; &#125; else &#123; lastpos = val; element.scrollTop = val; &#125; if(now &gt; animationStart + duration) &#123; element.scrollTop = to; animating = false; cancelAnimationFrame(myReq); //Ê∏ÖÈô§ÂÆöÊó∂Âô®Âä®Áîª callback&amp;&amp;callback(); &#125; &#125;; myReq=requestAnimFrame(animateScroll);&#125;;]]></content>
  </entry>
  <entry>
    <title><![CDATA[React Hooks]]></title>
    <url>%2F2018%2F11%2F06%2FReact-Hooks%2F</url>
    <content type="text"><![CDATA[‰∏ÄÂè•ËØùÊÄªÁªì React Hooks Â∞±ÊòØÂú® react ÂáΩÊï∞ÁªÑ‰ª∂‰∏≠Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Á±ªÁªÑ‰ª∂Ôºàclasses componentsÔºâÁöÑ state Âíå ÁªÑ‰ª∂ÁîüÂëΩÂë®ÊúüÔºåËÄå‰∏çÈúÄË¶ÅÂú® mixin„ÄÅ ÂáΩÊï∞ÁªÑ‰ª∂„ÄÅHOCÁªÑ‰ª∂Âíå render props ‰πãÈó¥Êù•ÂõûÂàáÊç¢Ôºå‰ΩøÂæóÂáΩÊï∞ÁªÑ‰ª∂ÁöÑÂäüËÉΩÊõ¥Âä†ÂÆûÂú®ÔºåÊõ¥Âä†Êñπ‰æøÊàë‰ª¨Âú®‰∏öÂä°‰∏≠ÂÆûÁé∞‰∏öÂä°ÈÄªËæë‰ª£Á†ÅÁöÑÂàÜÁ¶ªÂíåÁªÑ‰ª∂ÁöÑÂ§çÁî®„ÄÇ React ‰∏ÄÁõ¥Âú®Ëß£ÂÜ≥‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂÆûÁé∞ÂàÜÁ¶ª‰∏öÂä°ÈÄªËæë‰ª£Á†ÅÔºåÂÆûÁé∞ÁªÑ‰ª∂ÂÜÖÈÉ®Áõ∏ÂÖ≥‰∏öÂä°ÈÄªËæëÁöÑÂ§çÁî®„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈÉΩÊòØÈÄöËøáÁªÑ‰ª∂ÂíåËá™‰∏äËÄå‰∏ã‰º†ÈÄíÁöÑÊï∞ÊçÆÊµÅÂ∞ÜÊàë‰ª¨È°µÈù¢‰∏äÁöÑÂ§ßÂûãUIÁªÑÁªáÊàê‰∏∫Áã¨Á´ãÁöÑÂ∞èÂûãUIÔºåÂÆûÁé∞ÁªÑ‰ª∂ÁöÑÈáçÁî®„ÄÇ‰ΩÜÊòØÊàë‰ª¨ÁªèÂ∏∏ÈÅáÂà∞ÂæàÈöæ‰æµÂÖ•‰∏Ä‰∏™Â§çÊùÇÁöÑÁªÑ‰ª∂‰∏≠ÂÆûÁé∞ÈáçÁî®ÔºåÂõ†‰∏∫ÁªÑ‰ª∂ÁöÑÈÄªËæëÊòØÊúâÁä∂ÊÄÅÁöÑÔºåÊó†Ê≥ïÊèêÂèñÂà∞ÂáΩÊï∞ÁªÑ‰ª∂ÂΩì‰∏≠„ÄÇËøôÂú®Â§ÑÁêÜÂä®ÁîªÂíåË°®ÂçïÁöÑÊó∂ÂÄôÔºåÂ∞§ÂÖ∂Â∏∏ËßÅÔºåÂΩìÊàë‰ª¨Âú®ÁªÑ‰ª∂‰∏≠ËøûÊé•Â§ñÈÉ®ÁöÑÊï∞ÊçÆÊ∫êÔºåÁÑ∂ÂêéÂ∏åÊúõÂú®ÁªÑ‰ª∂‰∏≠ÊâßË°åÊõ¥Â§öÂÖ∂‰ªñÁöÑÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±‰ºöÊääÁªÑ‰ª∂ÊêûÂæóÁâπÂà´Á≥üÁ≥ïÔºö Èöæ‰ª•ÈáçÁî®ÂíåÂÖ±‰∫´ÁªÑ‰ª∂‰∏≠ÁöÑ‰∏éÁä∂ÊÄÅÁõ∏ÂÖ≥ÁöÑÈÄªËæëÔºåÈÄ†Êàê‰∫ßÁîüÂæàÂ§öÂ∑®Â§ßÁöÑÁªÑ‰ª∂ ÈÄªËæëÂ§çÊùÇÁöÑÁªÑ‰ª∂Èöæ‰ª•ÂºÄÂèë‰∏éÁª¥Êä§ÔºåÂΩìÊàë‰ª¨ÁöÑÁªÑ‰ª∂ÈúÄË¶ÅÂ§ÑÁêÜÂ§ö‰∏™‰∫í‰∏çÁõ∏ÂÖ≥ÁöÑ localstate Êó∂ÔºåÊØè‰∏™ÁîüÂëΩÂë®ÊúüÂáΩÊï∞‰∏≠ÂèØËÉΩ‰ºöÂåÖÂê´ÁùÄÂêÑÁßç‰∫í‰∏çÁõ∏ÂÖ≥ÁöÑÈÄªËæëÂú®ÈáåÈù¢„ÄÇ Â§çÊùÇÁöÑÊ®°ÂºèÔºåÂ¶ÇÊ∏≤ÊüìÈÅìÂÖ∑ÂíåÈ´òÈò∂ÁªÑ‰ª∂„ÄÇ Áî±‰∫é‰∏öÂä°ÂèòÂä®ÔºåÂáΩÊï∞ÁªÑ‰ª∂‰∏çÂæó‰∏çÊîπ‰∏∫Á±ªÁªÑ‰ª∂„ÄÇ ËøôÊó∂ÂÄôÔºåHooksÂ∞±Ê¥æ‰∏äÁî®Âú∫‰∫Ü„ÄÇ Hooks ÂÖÅËÆ∏Êàë‰ª¨Â∞ÜÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑÈÄªËæëÔºåÁªÑÁªáÊàê‰∏∫‰∏Ä‰∏™ÂèØÂ§çÁî®ÁöÑÈöîÁ¶ªÊ®°Âùó„ÄÇ Á≤óÊö¥ÁÇπÊÄªÁªìReact Hooks:Â∞±ÊòØÂú®ÂáΩÊï∞ÁªÑ‰ª∂,HOCÁªÑ‰ª∂ÂíåÈùôÊÄÅÁªÑ‰ª∂ÊâæÂà∞‰∏ÄÁßçÂπ≥Ë°°ÁöÑÁªÑ‰ª∂ÂÆûÁé∞ÊñπÂºè ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑHooksÈ¶ñÂÖàËÆ©Êàë‰ª¨Áúã‰∏Ä‰∏ã‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊúâÁä∂ÊÄÅÁªÑ‰ª∂Ôºö class Example extends React.Component { constructor(props) { super(props); this.state = { count: 0 }; } render() { return ( &lt;div&gt; &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt; &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } } Êàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ã‰ΩøÁî®hooksÂêéÁöÑÁâàÊú¨Ôºö import { useState } from &apos;react&apos;; function Example() { const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } ÊòØ‰∏çÊòØÁÆÄÂçïÂ§ö‰∫ÜÔºÅÂèØ‰ª•ÁúãÂà∞ÔºåExampleÂèòÊàê‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ΩÜËøô‰∏™ÂáΩÊï∞Âç¥ÊúâËá™Â∑±ÁöÑÁä∂ÊÄÅÔºàcountÔºâÔºåÂêåÊó∂ÂÆÉËøòÂèØ‰ª•Êõ¥Êñ∞Ëá™Â∑±ÁöÑÁä∂ÊÄÅÔºàsetCountÔºâ„ÄÇËøô‰∏™ÂáΩÊï∞‰πãÊâÄ‰ª•Ëøô‰πà‰∫Ü‰∏çÂæóÔºåÂ∞±ÊòØÂõ†‰∏∫ÂÆÉÊ≥®ÂÖ•‰∫Ü‰∏Ä‰∏™hook‚ÄìuseStateÔºåÂ∞±ÊòØËøô‰∏™hookËÆ©Êàë‰ª¨ÁöÑÂáΩÊï∞ÂèòÊàê‰∫Ü‰∏Ä‰∏™ÊúâÁä∂ÊÄÅÁöÑÂáΩÊï∞„ÄÇ Èô§‰∫ÜuseStateËøô‰∏™hookÂ§ñÔºåËøòÊúâÂæàÂ§öÂà´ÁöÑhookÔºåÊØîÂ¶ÇuseEffectÊèê‰æõ‰∫ÜÁ±ª‰ºº‰∫écomponentDidMountÁ≠âÁîüÂëΩÂë®ÊúüÈí©Â≠êÁöÑÂäüËÉΩÔºåuseContextÊèê‰æõ‰∫Ü‰∏ä‰∏ãÊñáÔºàcontextÔºâÁöÑÂäüËÉΩÁ≠âÁ≠â„ÄÇ HooksÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏ÄÁ±ªÁâπÊÆäÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÂèØ‰ª•‰∏∫‰Ω†ÁöÑÂáΩÊï∞ÂûãÁªÑ‰ª∂Ôºàfunction componentÔºâÊ≥®ÂÖ•‰∏Ä‰∫õÁâπÊÆäÁöÑÂäüËÉΩ„ÄÇÂí¶ÔºüËøôÂê¨Ëµ∑Êù•ÊúâÁÇπÂÉèË¢´ËØüÁóÖÁöÑMixinsÂïäÔºüÈöæÈÅìÊòØMixinsË¶ÅÂú®react‰∏≠Ê≠ªÁÅ∞Â§çÁáÉ‰∫ÜÂêóÔºüÂΩìÁÑ∂‰∏ç‰ºö‰∫ÜÔºåÁ≠â‰ºöÊàë‰ª¨ÂÜçÊù•Ë∞à‰∏§ËÄÖÁöÑÂå∫Âà´„ÄÇÊÄªËÄåË®Ä‰πãÔºåËøô‰∫õhooksÁöÑÁõÆÊ†áÂ∞±ÊòØËÆ©‰Ω†‰∏çÂÜçÂÜôclassÔºåËÆ©function‰∏ÄÁªüÊ±üÊπñ„ÄÇ React‰∏∫‰ªÄ‰πàË¶ÅÊêû‰∏Ä‰∏™HooksÔºüÊÉ≥Ë¶ÅÂ§çÁî®‰∏Ä‰∏™ÊúâÁä∂ÊÄÅÁöÑÁªÑ‰ª∂Â§™È∫ªÁÉ¶‰∫ÜÔºÅÊàë‰ª¨ÈÉΩÁü•ÈÅìreactÈÉΩÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÔºåÂ∞Ü‰∏Ä‰∏™È°µÈù¢ÊãÜÊàê‰∏ÄÂ†ÜÁã¨Á´ãÁöÑÔºåÂèØÂ§çÁî®ÁöÑÁªÑ‰ª∂ÔºåÂπ∂‰∏îÁî®Ëá™‰∏äËÄå‰∏ãÁöÑÂçïÂêëÊï∞ÊçÆÊµÅÁöÑÂΩ¢ÂºèÂ∞ÜËøô‰∫õÁªÑ‰ª∂‰∏≤ËÅîËµ∑Êù•„ÄÇ‰ΩÜÂÅáÂ¶Ç‰Ω†Âú®Â§ßÂûãÁöÑÂ∑•‰ΩúÈ°πÁõÆ‰∏≠Áî®reactÔºå‰Ω†‰ºöÂèëÁé∞‰Ω†ÁöÑÈ°πÁõÆ‰∏≠ÂÆûÈôÖ‰∏äÂæàÂ§öreactÁªÑ‰ª∂ÂÜóÈïø‰∏îÈöæ‰ª•Â§çÁî®„ÄÇÂ∞§ÂÖ∂ÊòØÈÇ£‰∫õÂÜôÊàêclassÁöÑÁªÑ‰ª∂ÔºåÂÆÉ‰ª¨Êú¨Ë∫´ÂåÖÂê´‰∫ÜÁä∂ÊÄÅÔºàstateÔºâÔºåÊâÄ‰ª•Â§çÁî®ËøôÁ±ªÁªÑ‰ª∂Â∞±ÂèòÂæóÂæàÈ∫ªÁÉ¶„ÄÇ ÈÇ£‰πãÂâçÔºåÂÆòÊñπÊé®ËçêÊÄé‰πàËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂë¢ÔºüÁ≠îÊ°àÊòØÔºöÊ∏≤ÊüìÂ±ûÊÄßÔºàRender PropsÔºâÂíå È´òÈò∂ÁªÑ‰ª∂ÔºàHigher-Order ComponentsÔºâ „ÄÇÊàë‰ª¨ÂèØ‰ª•Á®çÂæÆË∑ë‰∏ãÈ¢òÁÆÄÂçïÁúã‰∏Ä‰∏ãËøô‰∏§ÁßçÊ®°Âºè„ÄÇ Ê∏≤ÊüìÂ±ûÊÄßÊåáÁöÑÊòØ‰ΩøÁî®‰∏Ä‰∏™ÂÄº‰∏∫ÂáΩÊï∞ÁöÑpropÊù•‰º†ÈÄíÈúÄË¶ÅÂä®ÊÄÅÊ∏≤ÊüìÁöÑnodesÊàñÁªÑ‰ª∂„ÄÇÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÁöÑDataProviderÁªÑ‰ª∂ÂåÖÂê´‰∫ÜÊâÄÊúâË∑üÁä∂ÊÄÅÁõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÔºåËÄåCatÁªÑ‰ª∂ÂàôÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÂçïÁ∫ØÁöÑÂ±ïÁ§∫ÂûãÁªÑ‰ª∂ÔºåËøôÊ†∑‰∏ÄÊù•DataProviderÂ∞±ÂèØ‰ª•ÂçïÁã¨Â§çÁî®‰∫Ü„ÄÇ import Cat from &apos;components/cat&apos; class DataProvider extends React.Component { constructor(props) { super(props); this.state = { target: &apos;Zac&apos; }; } render() { return ( &lt;div&gt; {this.props.render(this.state)} &lt;/div&gt; ) } } &lt;DataProvider render={data =&gt; ( &lt;Cat target={data.target} /&gt; )}/&gt; ËôΩÁÑ∂Ëøô‰∏™Ê®°ÂºèÂè´Render PropsÔºå‰ΩÜ‰∏çÊòØËØ¥ÈùûÁî®‰∏Ä‰∏™Âè´renderÁöÑprops‰∏çÂèØÔºå‰π†ÊÉØ‰∏äÂ§ßÂÆ∂Êõ¥Â∏∏ÂÜôÊàê‰∏ãÈù¢ËøôÁßçÔºö ... &lt;DataProvider&gt; {data =&gt; ( &lt;Cat target={data.target} /&gt; )} &lt;/DataProvider&gt; È´òÈò∂ÁªÑ‰ª∂Ëøô‰∏™Ê¶ÇÂøµÂ∞±Êõ¥Â•ΩÁêÜËß£‰∫ÜÔºåËØ¥ÁôΩ‰∫ÜÂ∞±ÊòØ‰∏Ä‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÁªÑ‰ª∂‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁªèËøá‰∏ÄÁ≥ªÂàóÂä†Â∑•ÂêéÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÁªÑ‰ª∂„ÄÇÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÁ§∫‰æãÔºåwithUserÂáΩÊï∞Â∞±ÊòØ‰∏Ä‰∏™È´òÈò∂ÁªÑ‰ª∂ÔºåÂÆÉËøîÂõû‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂ÂÖ∑Êúâ‰∫ÜÂÆÉÊèê‰æõÁöÑËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÁöÑÂäüËÉΩ„ÄÇ const withUser = WrappedComponent =&gt; { const user = sessionStorage.getItem(&quot;user&quot;); return props =&gt; &lt;WrappedComponent user={user} {...props} /&gt;; }; const UserPage = props =&gt; ( &lt;div class=&quot;user-container&quot;&gt; &lt;p&gt;My name is {props.user}!&lt;/p&gt; &lt;/div&gt; ); export default withUser(UserPage); ‰ª•‰∏äËøô‰∏§ÁßçÊ®°ÂºèÁúã‰∏äÂéªÈÉΩÊå∫‰∏çÈîôÁöÑÔºåÂæàÂ§öÂ∫ì‰πüËøêÁî®‰∫ÜËøôÁßçÊ®°ÂºèÔºåÊØîÂ¶ÇÊàë‰ª¨Â∏∏Áî®ÁöÑReact Router„ÄÇ‰ΩÜÊàë‰ª¨‰ªîÁªÜÁúãËøô‰∏§ÁßçÊ®°ÂºèÔºå‰ºöÂèëÁé∞ÂÆÉ‰ª¨‰ºöÂ¢ûÂä†Êàë‰ª¨‰ª£Á†ÅÁöÑÂ±ÇÁ∫ßÂÖ≥Á≥ª„ÄÇÊúÄÁõ¥ËßÇÁöÑ‰ΩìÁé∞ÔºåÊâìÂºÄdevtoolÁúãÁúã‰Ω†ÁöÑÁªÑ‰ª∂Â±ÇÁ∫ßÂµåÂ•óÊòØ‰∏çÊòØÂæàÂ§∏Âº†Âêß„ÄÇËøôÊó∂ÂÄôÂÜçÂõûËøáÂ§¥ÁúãÊàë‰ª¨‰∏ä‰∏ÄËäÇÁªôÂá∫ÁöÑhooks‰æãÂ≠êÔºåÊòØ‰∏çÊòØÁÆÄÊ¥ÅÂ§ö‰∫ÜÔºåÊ≤°ÊúâÂ§ö‰ΩôÁöÑÂ±ÇÁ∫ßÂµåÂ•ó„ÄÇÊääÂêÑÁßçÊÉ≥Ë¶ÅÁöÑÂäüËÉΩÂÜôÊàê‰∏Ä‰∏™‰∏Ä‰∏™ÂèØÂ§çÁî®ÁöÑËá™ÂÆö‰πâhookÔºåÂΩì‰Ω†ÁöÑÁªÑ‰ª∂ÊÉ≥Áî®‰ªÄ‰πàÂäüËÉΩÊó∂ÔºåÁõ¥Êé•Âú®ÁªÑ‰ª∂ÈáåË∞ÉÁî®Ëøô‰∏™hookÂç≥ÂèØ„ÄÇ ÁîüÂëΩÂë®ÊúüÈí©Â≠êÂáΩÊï∞ÈáåÁöÑÈÄªËæëÂ§™‰π±‰∫ÜÂêßÔºÅÊàë‰ª¨ÈÄöÂ∏∏Â∏åÊúõ‰∏Ä‰∏™ÂáΩÊï∞Âè™ÂÅö‰∏Ä‰ª∂‰∫ãÊÉÖÔºå‰ΩÜÊàë‰ª¨ÁöÑÁîüÂëΩÂë®ÊúüÈí©Â≠êÂáΩÊï∞ÈáåÈÄöÂ∏∏ÂêåÊó∂ÂÅö‰∫ÜÂæàÂ§ö‰∫ãÊÉÖ„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÂú®componentDidMount‰∏≠ÂèëËµ∑ajaxËØ∑Ê±ÇËé∑ÂèñÊï∞ÊçÆÔºåÁªëÂÆö‰∏Ä‰∫õ‰∫ã‰ª∂ÁõëÂê¨Á≠âÁ≠â„ÄÇÂêåÊó∂ÔºåÊúâÊó∂ÂÄôÊàë‰ª¨ËøòÈúÄË¶ÅÂú®componentDidUpdateÂÅö‰∏ÄÈÅçÂêåÊ†∑ÁöÑ‰∫ãÊÉÖ„ÄÇÂΩìÈ°πÁõÆÂèòÂ§çÊùÇÂêéÔºåËøô‰∏ÄÂùóÁöÑ‰ª£Á†Å‰πüÂèòÂæó‰∏çÈÇ£‰πàÁõ¥ËßÇ„ÄÇ classesÁúüÁöÑÂ§™ËÆ©‰∫∫Âõ∞ÊÉë‰∫ÜÔºÅÊàë‰ª¨Áî®classÊù•ÂàõÂª∫reactÁªÑ‰ª∂Êó∂ÔºåËøòÊúâ‰∏Ä‰ª∂ÂæàÈ∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖÔºåÂ∞±ÊòØthisÁöÑÊåáÂêëÈóÆÈ¢ò„ÄÇ‰∏∫‰∫Ü‰øùËØÅthisÁöÑÊåáÂêëÊ≠£Á°ÆÔºåÊàë‰ª¨Ë¶ÅÁªèÂ∏∏ÂÜôËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºöthis.handleClick = this.handleClick.bind(this)ÔºåÊàñËÄÖÊòØËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºö&lt;button onClick={() =&gt; this.handleClick(e)}&gt;„ÄÇ‰∏ÄÊó¶Êàë‰ª¨‰∏çÂ∞èÂøÉÂøò‰∫ÜÁªëÂÆöthisÔºåÂêÑÁßçbugÂ∞±Èöè‰πãËÄåÊù•ÔºåÂæàÈ∫ªÁÉ¶„ÄÇ ËøòÊúâ‰∏Ä‰ª∂ËÆ©ÊàëÂæàËã¶ÊÅºÁöÑ‰∫ãÊÉÖ„ÄÇÊàëÂú®‰πãÂâçÁöÑreactÁ≥ªÂàóÊñáÁ´†ÂΩì‰∏≠ÊõæÁªèËØ¥ËøáÔºåÂ∞ΩÂèØËÉΩÊää‰Ω†ÁöÑÁªÑ‰ª∂ÂÜôÊàêÊó†Áä∂ÊÄÅÁªÑ‰ª∂ÁöÑÂΩ¢ÂºèÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Êõ¥Êñπ‰æøÂ§çÁî®ÔºåÂèØÁã¨Á´ãÊµãËØï„ÄÇÁÑ∂ËÄåÂæàÂ§öÊó∂ÂÄôÔºåÊàë‰ª¨Áî®functionÂÜô‰∫Ü‰∏Ä‰∏™ÁÆÄÊ¥ÅÂÆåÁæéÁöÑÊó†Áä∂ÊÄÅÁªÑ‰ª∂ÔºåÂêéÊù•Âõ†‰∏∫ÈúÄÊ±ÇÂèòÂä®Ëøô‰∏™ÁªÑ‰ª∂ÂøÖÈ°ªÂæóÊúâËá™Â∑±ÁöÑstateÔºåÊàë‰ª¨ÂèàÂæóÂæàÈ∫ªÁÉ¶ÁöÑÊääfunctionÊîπÊàêclass„ÄÇ Âú®ËøôÊ†∑ÁöÑËÉåÊôØ‰∏ãÔºåHooks‰æøÊ®™Á©∫Âá∫‰∏ñ‰∫ÜÔºÅ ‰ªÄ‰πàÊòØState HooksÔºüÂõûÂà∞‰∏ÄÂºÄÂßãÊàë‰ª¨Áî®ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨ÂàÜËß£Êù•ÁúãÂà∞Â∫ïstate hooksÂÅö‰∫Ü‰ªÄ‰πàÔºö import { useState } from &apos;react&apos;; function Example() { const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } Â£∞Êòé‰∏Ä‰∏™Áä∂ÊÄÅÂèòÈáèimport { useState } from &apos;react&apos;; function Example() { const [count, setCount] = useState(0); useStateÊòØreactËá™Â∏¶ÁöÑ‰∏Ä‰∏™hookÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®Â∞±ÊòØÁî®Êù•Â£∞ÊòéÁä∂ÊÄÅÂèòÈáè„ÄÇuseStateËøô‰∏™ÂáΩÊï∞Êé•Êî∂ÁöÑÂèÇÊï∞ÊòØÊàë‰ª¨ÁöÑÁä∂ÊÄÅÂàùÂßãÂÄºÔºàinitial stateÔºâÔºåÂÆÉËøîÂõû‰∫Ü‰∏Ä‰∏™Êï∞ÁªÑÔºåËøô‰∏™Êï∞ÁªÑÁöÑÁ¨¨[0]È°πÊòØÂΩìÂâçÂΩìÂâçÁöÑÁä∂ÊÄÅÂÄºÔºåÁ¨¨[1]È°πÊòØÂèØ‰ª•ÊîπÂèòÁä∂ÊÄÅÂÄºÁöÑÊñπÊ≥ïÂáΩÊï∞„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂÅöÁöÑ‰∫ãÊÉÖÂÖ∂ÂÆûÂ∞±ÊòØÔºåÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Áä∂ÊÄÅÂèòÈáècountÔºåÊääÂÆÉÁöÑÂàùÂßãÂÄºËÆæ‰∏∫0ÔºåÂêåÊó∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•Êõ¥ÊîπcountÁöÑÂáΩÊï∞setCount„ÄÇ ‰∏äÈù¢ËøôÁßçË°®ËææÂΩ¢ÂºèÔºåÊòØÂÄüÁî®‰∫Ües6ÁöÑÊï∞ÁªÑËß£ÊûÑ ÔºåÂÆÉÂèØ‰ª•ËÆ©Êàë‰ª¨ÁöÑ‰ª£Á†ÅÁúãËµ∑Êù•Êõ¥ÁÆÄÊ¥Å„ÄÇ Â¶ÇÊûú‰∏çÁî®Êï∞ÁªÑËß£ÊûÑÁöÑËØùÔºåÂèØ‰ª•ÂÜôÊàê‰∏ãÈù¢ËøôÊ†∑„ÄÇÂÆûÈôÖ‰∏äÊï∞ÁªÑËß£ÊûÑÊòØ‰∏Ä‰ª∂ÂºÄÈîÄÂæàÂ§ßÁöÑ‰∫ãÊÉÖÔºåÁî®‰∏ãÈù¢ËøôÁßçÂÜôÊ≥ïÔºåÊàñËÄÖÊîπÁî®ÂØπË±°Ëß£ÊûÑÔºåÊÄßËÉΩ‰ºöÊúâÂæàÂ§ßÁöÑÊèêÂçá„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂéªËøôÁØáÊñáÁ´†ÁöÑÂàÜÊûêArray destructuring for multi-value returns (in light of React hooks)ÔºåËøôÈáå‰∏çËØ¶ÁªÜÂ±ïÂºÄÔºåÊàë‰ª¨Â∞±ÊåâÁÖßÂÆòÊñπÊé®Ëçê‰ΩøÁî®Êï∞ÁªÑËß£ÊûÑÂ∞±Â•Ω„ÄÇ let _useState = useState(0); let count = _useState[0]; let setCount = _useState[1]; ËØªÂèñÁä∂ÊÄÅÂÄº&lt;p&gt;You clicked {count} times&lt;/p&gt; ÊòØ‰∏çÊòØË∂ÖÁÆÄÂçïÔºüÂõ†‰∏∫Êàë‰ª¨ÁöÑÁä∂ÊÄÅcountÂ∞±ÊòØ‰∏Ä‰∏™ÂçïÁ∫ØÁöÑÂèòÈáèËÄåÂ∑≤ÔºåÊàë‰ª¨ÂÜç‰πü‰∏çÈúÄË¶ÅÂÜôÊàê{this.state.count}ËøôÊ†∑‰∫Ü„ÄÇ Êõ¥Êñ∞Áä∂ÊÄÅ&lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; ÂΩìÁî®Êà∑ÁÇπÂáªÊåâÈíÆÊó∂ÔºåÊàë‰ª¨Ë∞ÉÁî®setCountÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Êî∂ÁöÑÂèÇÊï∞ÊòØ‰øÆÊîπËøáÁöÑÊñ∞Áä∂ÊÄÅÂÄº„ÄÇÊé•‰∏ãÊù•ÁöÑ‰∫ãÊÉÖÂ∞±‰∫§Áªôreact‰∫ÜÔºåreactÂ∞Ü‰ºöÈáçÊñ∞Ê∏≤ÊüìÊàë‰ª¨ÁöÑExampleÁªÑ‰ª∂ÔºåÂπ∂‰∏î‰ΩøÁî®ÁöÑÊòØÊõ¥Êñ∞ÂêéÁöÑÊñ∞ÁöÑÁä∂ÊÄÅÔºåÂç≥count=1„ÄÇËøôÈáåÊàë‰ª¨Ë¶ÅÂÅú‰∏ãÊù•ÊÄùËÄÉ‰∏Ä‰∏ãÔºåExampleÊú¨Ë¥®‰∏ä‰πüÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞Ôºå‰∏∫‰ªÄ‰πàÂÆÉÂèØ‰ª•ËÆ∞‰Ωè‰πãÂâçÁöÑÁä∂ÊÄÅÔºü ‰∏Ä‰∏™Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑÈóÆÈ¢òËøôÈáåÊàë‰ª¨Â∞±ÂèëÁé∞‰∫ÜÈóÆÈ¢òÔºåÈÄöÂ∏∏Êù•ËØ¥Êàë‰ª¨Âú®‰∏Ä‰∏™ÂáΩÊï∞‰∏≠Â£∞ÊòéÁöÑÂèòÈáèÔºåÂΩìÂáΩÊï∞ËøêË°åÂÆåÊàêÂêéÔºåËøô‰∏™ÂèòÈáè‰πüÂ∞±ÈîÄÊØÅ‰∫ÜÔºàËøôÈáåÊàë‰ª¨ÂÖà‰∏çËÄÉËôëÈó≠ÂåÖÁ≠âÊÉÖÂÜµÔºâÔºåÊØîÂ¶ÇËÄÉËôë‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö function add(n) { const result = 0; return result + 1; } add(1); //1 add(1); //1 ‰∏çÁÆ°Êàë‰ª¨ÂèçÂ§çË∞ÉÁî®addÂáΩÊï∞Â§öÂ∞ëÊ¨°ÔºåÁªìÊûúÈÉΩÊòØ1„ÄÇÂõ†‰∏∫ÊØè‰∏ÄÊ¨°Êàë‰ª¨Ë∞ÉÁî®addÊó∂ÔºåresultÂèòÈáèÈÉΩÊòØ‰ªéÂàùÂßãÂÄº0ÂºÄÂßãÁöÑ„ÄÇÈÇ£‰∏∫‰ªÄ‰πà‰∏äÈù¢ÁöÑExampleÂáΩÊï∞ÊØèÊ¨°ÊâßË°åÁöÑÊó∂ÂÄôÔºåÈÉΩÊòØÊãøÁöÑ‰∏ä‰∏ÄÊ¨°ÊâßË°åÂÆåÁöÑÁä∂ÊÄÅÂÄº‰Ωú‰∏∫ÂàùÂßãÂÄºÔºüÁ≠îÊ°àÊòØÔºöÊòØreactÂ∏ÆÊàë‰ª¨ËÆ∞‰ΩèÁöÑ„ÄÇËá≥‰∫éreactÊòØÁî®‰ªÄ‰πàÊú∫Âà∂ËÆ∞‰ΩèÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ÂÜçÊÄùËÄÉ‰∏Ä‰∏ã„ÄÇ ÂÅáÂ¶Ç‰∏Ä‰∏™ÁªÑ‰ª∂ÊúâÂ§ö‰∏™Áä∂ÊÄÅÂÄºÊÄé‰πàÂäûÔºüÈ¶ñÂÖàÔºåuseStateÊòØÂèØ‰ª•Â§öÊ¨°Ë∞ÉÁî®ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö function ExampleWithManyStates() { const [age, setAge] = useState(42); const [fruit, setFruit] = useState(&apos;banana&apos;); const [todos, setTodos] = useState([{ text: &apos;Learn Hooks&apos; }]); ÂÖ∂Ê¨°ÔºåuseStateÊé•Êî∂ÁöÑÂàùÂßãÂÄºÊ≤°ÊúâËßÑÂÆö‰∏ÄÂÆöË¶ÅÊòØstring/number/booleanËøôÁßçÁÆÄÂçïÊï∞ÊçÆÁ±ªÂûãÔºåÂÆÉÂÆåÂÖ®ÂèØ‰ª•Êé•Êî∂ÂØπË±°ÊàñËÄÖÊï∞ÁªÑ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂîØ‰∏ÄÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπÊòØÔºå‰πãÂâçÊàë‰ª¨ÁöÑthis.setStateÂÅöÁöÑÊòØÂêàÂπ∂Áä∂ÊÄÅÂêéËøîÂõû‰∏Ä‰∏™Êñ∞Áä∂ÊÄÅÔºåËÄåuseStateÊòØÁõ¥Êé•ÊõøÊç¢ËÄÅÁä∂ÊÄÅÂêéËøîÂõûÊñ∞Áä∂ÊÄÅ„ÄÇÊúÄÂêéÔºåreact‰πüÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™useReducerÁöÑhookÔºåÂ¶ÇÊûú‰Ω†Êõ¥ÂñúÊ¨¢reduxÂºèÁöÑÁä∂ÊÄÅÁÆ°ÁêÜÊñπÊ°àÁöÑËØù„ÄÇ ‰ªéExampleWithManyStatesÂáΩÊï∞Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåuseStateÊó†ËÆ∫Ë∞ÉÁî®Â§öÂ∞ëÊ¨°ÔºåÁõ∏‰∫í‰πãÈó¥ÊòØÁã¨Á´ãÁöÑ„ÄÇËøô‰∏ÄÁÇπËá≥ÂÖ≥ÈáçË¶Å„ÄÇ‰∏∫‰ªÄ‰πàËøô‰πàËØ¥Âë¢Ôºü ÂÖ∂ÂÆûÊàë‰ª¨ÁúãhookÁöÑ‚ÄúÂΩ¢ÊÄÅ‚ÄùÔºåÊúâÁÇπÁ±ª‰ºº‰πãÂâçË¢´ÂÆòÊñπÂê¶ÂÆöÊéâÁöÑMixinsËøôÁßçÊñπÊ°àÔºåÈÉΩÊòØÊèê‰æõ‰∏ÄÁßç‚ÄúÊèíÊãîÂºèÁöÑÂäüËÉΩÊ≥®ÂÖ•‚ÄùÁöÑËÉΩÂäõ„ÄÇËÄåmixins‰πãÊâÄ‰ª•Ë¢´Âê¶ÂÆöÔºåÊòØÂõ†‰∏∫MixinsÊú∫Âà∂ÊòØËÆ©Â§ö‰∏™MixinsÂÖ±‰∫´‰∏Ä‰∏™ÂØπË±°ÁöÑÊï∞ÊçÆÁ©∫Èó¥ÔºåËøôÊ†∑Â∞±ÂæàÈöæÁ°Æ‰øù‰∏çÂêåMixins‰æùËµñÁöÑÁä∂ÊÄÅ‰∏çÂèëÁîüÂÜ≤Á™Å„ÄÇ ËÄåÁé∞Âú®Êàë‰ª¨ÁöÑhookÔºå‰∏ÄÊñπÈù¢ÂÆÉÊòØÁõ¥Êé•Áî®Âú®functionÂΩì‰∏≠ÔºåËÄå‰∏çÊòØclassÔºõÂè¶‰∏ÄÊñπÈù¢ÊØè‰∏Ä‰∏™hookÈÉΩÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑÔºå‰∏çÂêåÁªÑ‰ª∂Ë∞ÉÁî®Âêå‰∏Ä‰∏™hook‰πüËÉΩ‰øùËØÅÂêÑËá™Áä∂ÊÄÅÁöÑÁã¨Á´ãÊÄß„ÄÇËøôÂ∞±ÊòØ‰∏§ËÄÖÁöÑÊú¨Ë¥®Âå∫Âà´‰∫Ü„ÄÇ reactÊòØÊÄé‰πà‰øùËØÅÂ§ö‰∏™useStateÁöÑÁõ∏‰∫íÁã¨Á´ãÁöÑÔºüËøòÊòØÁúã‰∏äÈù¢ÁªôÂá∫ÁöÑExampleWithManyStates‰æãÂ≠êÔºåÊàë‰ª¨Ë∞ÉÁî®‰∫Ü‰∏âÊ¨°useStateÔºåÊØèÊ¨°Êàë‰ª¨‰º†ÁöÑÂèÇÊï∞Âè™ÊòØ‰∏Ä‰∏™ÂÄºÔºàÂ¶Ç42Ôºå‚Äòbanana‚ÄôÔºâÔºåÊàë‰ª¨Ê†πÊú¨Ê≤°ÊúâÂëäËØâreactËøô‰∫õÂÄºÂØπÂ∫îÁöÑkeyÊòØÂì™‰∏™ÔºåÈÇ£reactÊòØÊÄé‰πà‰øùËØÅËøô‰∏â‰∏™useStateÊâæÂà∞ÂÆÉÂØπÂ∫îÁöÑstateÂë¢Ôºü Á≠îÊ°àÊòØÔºåreactÊòØÊ†πÊçÆuseStateÂá∫Áé∞ÁöÑÈ°∫Â∫èÊù•ÂÆöÁöÑ„ÄÇÊàë‰ª¨ÂÖ∑‰ΩìÊù•Áúã‰∏Ä‰∏ãÔºö //Á¨¨‰∏ÄÊ¨°Ê∏≤Êüì useState(42); //Â∞ÜageÂàùÂßãÂåñ‰∏∫42 useState(&apos;banana&apos;); //Â∞ÜfruitÂàùÂßãÂåñ‰∏∫banana useState([{ text: &apos;Learn Hooks&apos; }]); //... //Á¨¨‰∫åÊ¨°Ê∏≤Êüì useState(42); //ËØªÂèñÁä∂ÊÄÅÂèòÈáèageÁöÑÂÄºÔºàËøôÊó∂ÂÄô‰º†ÁöÑÂèÇÊï∞42Áõ¥Êé•Ë¢´ÂøΩÁï•Ôºâ useState(&apos;banana&apos;); //ËØªÂèñÁä∂ÊÄÅÂèòÈáèfruitÁöÑÂÄºÔºàËøôÊó∂ÂÄô‰º†ÁöÑÂèÇÊï∞bananaÁõ¥Êé•Ë¢´ÂøΩÁï•Ôºâ useState([{ text: &apos;Learn Hooks&apos; }]); //... ÂÅáÂ¶ÇÊàë‰ª¨Êîπ‰∏Ä‰∏ã‰ª£Á†ÅÔºö let showFruit = true; function ExampleWithManyStates() { const [age, setAge] = useState(42); if(showFruit) { const [fruit, setFruit] = useState(&apos;banana&apos;); showFruit = false; } const [todos, setTodos] = useState([{ text: &apos;Learn Hooks&apos; }]); ËøôÊ†∑‰∏ÄÊù•Ôºå //Á¨¨‰∏ÄÊ¨°Ê∏≤Êüì useState(42); //Â∞ÜageÂàùÂßãÂåñ‰∏∫42 useState(&apos;banana&apos;); //Â∞ÜfruitÂàùÂßãÂåñ‰∏∫banana useState([{ text: &apos;Learn Hooks&apos; }]); //... //Á¨¨‰∫åÊ¨°Ê∏≤Êüì useState(42); //ËØªÂèñÁä∂ÊÄÅÂèòÈáèageÁöÑÂÄºÔºàËøôÊó∂ÂÄô‰º†ÁöÑÂèÇÊï∞42Áõ¥Êé•Ë¢´ÂøΩÁï•Ôºâ // useState(&apos;banana&apos;); useState([{ text: &apos;Learn Hooks&apos; }]); //ËØªÂèñÂà∞ÁöÑÂç¥ÊòØÁä∂ÊÄÅÂèòÈáèfruitÁöÑÂÄºÔºåÂØºËá¥Êä•Èîô Èâ¥‰∫éÊ≠§ÔºåreactËßÑÂÆöÊàë‰ª¨ÂøÖÈ°ªÊäähooksÂÜôÂú®ÂáΩÊï∞ÁöÑÊúÄÂ§ñÂ±ÇÔºå‰∏çËÉΩÂÜôÂú®ifelseÁ≠âÊù°‰ª∂ËØ≠Âè•ÂΩì‰∏≠ÔºåÊù•Á°Æ‰øùhooksÁöÑÊâßË°åÈ°∫Â∫è‰∏ÄËá¥„ÄÇ ‰ªÄ‰πàÊòØEffect Hooks?Êàë‰ª¨Âú®‰∏ä‰∏ÄËäÇÁöÑ‰æãÂ≠ê‰∏≠Â¢ûÂä†‰∏Ä‰∏™Êñ∞ÂäüËÉΩÔºö import { useState, useEffect } from &apos;react&apos;; function Example() { const [count, setCount] = useState(0); // Á±ª‰ºº‰∫écomponentDidMount Âíå componentDidUpdate: useEffect(() =&gt; { // Êõ¥Êñ∞ÊñáÊ°£ÁöÑÊ†áÈ¢ò document.title = `You clicked ${count}times`; }); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } Êàë‰ª¨ÂØπÊØîÁùÄÁúã‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÊ≤°ÊúâhooksÔºåÊàë‰ª¨‰ºöÊÄé‰πàÂÜôÔºü class Example extends React.Component { constructor(props) { super(props); this.state = { count: 0 }; } componentDidMount() { document.title = `You clicked ${this.state.count}times`; } componentDidUpdate() { document.title = `You clicked ${this.state.count}times`; } render() { return ( &lt;div&gt; &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt; &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); } } Êàë‰ª¨ÂÜôÁöÑÊúâÁä∂ÊÄÅÁªÑ‰ª∂ÔºåÈÄöÂ∏∏‰ºö‰∫ßÁîüÂæàÂ§öÁöÑÂâØ‰ΩúÁî®Ôºàside effectÔºâÔºåÊØîÂ¶ÇÂèëËµ∑ajaxËØ∑Ê±ÇËé∑ÂèñÊï∞ÊçÆÔºåÊ∑ªÂä†‰∏Ä‰∫õÁõëÂê¨ÁöÑÊ≥®ÂÜåÂíåÂèñÊ∂àÊ≥®ÂÜåÔºåÊâãÂä®‰øÆÊîπdomÁ≠âÁ≠â„ÄÇÊàë‰ª¨‰πãÂâçÈÉΩÊääËøô‰∫õÂâØ‰ΩúÁî®ÁöÑÂáΩÊï∞ÂÜôÂú®ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Èí©Â≠êÈáåÔºåÊØîÂ¶ÇcomponentDidMountÔºåcomponentDidUpdateÂíåcomponentWillUnmount„ÄÇËÄåÁé∞Âú®ÁöÑuseEffectÂ∞±Áõ∏ÂΩì‰∏éËøô‰∫õÂ£∞ÊòéÂë®ÊúüÂáΩÊï∞Èí©Â≠êÁöÑÈõÜÂêà‰Ωì„ÄÇÂÆÉ‰ª•‰∏ÄÊäµ‰∏â„ÄÇ ÂêåÊó∂ÔºåÁî±‰∫éÂâçÊñáÊâÄËØ¥hooksÂèØ‰ª•ÂèçÂ§çÂ§öÊ¨°‰ΩøÁî®ÔºåÁõ∏‰∫íÁã¨Á´ã„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂêàÁêÜÁöÑÂÅöÊ≥ïÊòØÔºåÁªôÊØè‰∏Ä‰∏™ÂâØ‰ΩúÁî®‰∏Ä‰∏™ÂçïÁã¨ÁöÑuseEffectÈí©Â≠ê„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåËøô‰∫õÂâØ‰ΩúÁî®‰∏çÂÜç‰∏ÄËÇ°ËÑëÂ†ÜÂú®ÁîüÂëΩÂë®ÊúüÈí©Â≠êÈáåÔºå‰ª£Á†ÅÂèòÂæóÊõ¥Âä†Ê∏ÖÊô∞„ÄÇ useEffectÂÅö‰∫Ü‰ªÄ‰πàÔºüÊàë‰ª¨ÂÜçÊ¢≥ÁêÜ‰∏ÄÈÅç‰∏ãÈù¢‰ª£Á†ÅÁöÑÈÄªËæëÔºö function Example() { const [count, setCount] = useState(0); useEffect(() =&gt; { document.title = `You clicked ${count}times`; }); È¶ñÂÖàÔºåÊàë‰ª¨Â£∞Êòé‰∫Ü‰∏Ä‰∏™Áä∂ÊÄÅÂèòÈáècountÔºåÂ∞ÜÂÆÉÁöÑÂàùÂßãÂÄºËÆæ‰∏∫0„ÄÇÁÑ∂ÂêéÊàë‰ª¨ÂëäËØâreactÔºåÊàë‰ª¨ÁöÑËøô‰∏™ÁªÑ‰ª∂Êúâ‰∏Ä‰∏™ÂâØ‰ΩúÁî®„ÄÇÊàë‰ª¨ÁªôuseEffecthook‰º†‰∫Ü‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞ÔºåËøô‰∏™ÂåøÂêçÂáΩÊï∞Â∞±ÊòØÊàë‰ª¨ÁöÑÂâØ‰ΩúÁî®„ÄÇÂú®Ëøô‰∏™‰æãÂ≠êÈáåÔºåÊàë‰ª¨ÁöÑÂâØ‰ΩúÁî®ÊòØË∞ÉÁî®browser APIÊù•‰øÆÊîπÊñáÊ°£Ê†áÈ¢ò„ÄÇÂΩìreactË¶ÅÊ∏≤ÊüìÊàë‰ª¨ÁöÑÁªÑ‰ª∂Êó∂ÔºåÂÆÉ‰ºöÂÖàËÆ∞‰ΩèÊàë‰ª¨Áî®Âà∞ÁöÑÂâØ‰ΩúÁî®„ÄÇÁ≠âreactÊõ¥Êñ∞‰∫ÜDOM‰πãÂêéÔºåÂÆÉÂÜç‰æùÊ¨°ÊâßË°åÊàë‰ª¨ÂÆö‰πâÁöÑÂâØ‰ΩúÁî®ÂáΩÊï∞„ÄÇ ËøôÈáåË¶ÅÊ≥®ÊÑèÂá†ÁÇπÔºöÁ¨¨‰∏ÄÔºåreactÈ¶ñÊ¨°Ê∏≤ÊüìÂíå‰πãÂêéÁöÑÊØèÊ¨°Ê∏≤ÊüìÈÉΩ‰ºöË∞ÉÁî®‰∏ÄÈÅç‰º†ÁªôuseEffectÁöÑÂáΩÊï∞„ÄÇËÄå‰πãÂâçÊàë‰ª¨Ë¶ÅÁî®‰∏§‰∏™Â£∞ÊòéÂë®ÊúüÂáΩÊï∞Êù•ÂàÜÂà´Ë°®Á§∫È¶ñÊ¨°Ê∏≤ÊüìÔºàcomponentDidMountÔºâÔºåÂíå‰πãÂêéÁöÑÊõ¥Êñ∞ÂØºËá¥ÁöÑÈáçÊñ∞Ê∏≤ÊüìÔºàcomponentDidUpdateÔºâ„ÄÇ Á¨¨‰∫åÔºåuseEffect‰∏≠ÂÆö‰πâÁöÑÂâØ‰ΩúÁî®ÂáΩÊï∞ÁöÑÊâßË°å‰∏ç‰ºöÈòªÁ¢çÊµèËßàÂô®Êõ¥Êñ∞ËßÜÂõæÔºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∫õÂáΩÊï∞ÊòØÂºÇÊ≠•ÊâßË°åÁöÑÔºåËÄå‰πãÂâçÁöÑcomponentDidMountÊàñcomponentDidUpdate‰∏≠ÁöÑ‰ª£Á†ÅÂàôÊòØÂêåÊ≠•ÊâßË°åÁöÑ„ÄÇËøôÁßçÂÆâÊéíÂØπÂ§ßÂ§öÊï∞ÂâØ‰ΩúÁî®ËØ¥ÈÉΩÊòØÂêàÁêÜÁöÑÔºå‰ΩÜÊúâÁöÑÊÉÖÂÜµÈô§Â§ñÔºåÊØîÂ¶ÇÊàë‰ª¨ÊúâÊó∂ÂÄôÈúÄË¶ÅÂÖàÊ†πÊçÆDOMËÆ°ÁÆóÂá∫Êüê‰∏™ÂÖÉÁ¥†ÁöÑÂ∞∫ÂØ∏ÂÜçÈáçÊñ∞Ê∏≤ÊüìÔºåËøôÊó∂ÂÄôÊàë‰ª¨Â∏åÊúõËøôÊ¨°ÈáçÊñ∞Ê∏≤ÊüìÊòØÂêåÊ≠•ÂèëÁîüÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÂÆÉ‰ºöÂú®ÊµèËßàÂô®ÁúüÁöÑÂéªÁªòÂà∂Ëøô‰∏™È°µÈù¢ÂâçÂèëÁîü„ÄÇ useEffectÊÄé‰πàËß£Áªë‰∏Ä‰∫õÂâØ‰ΩúÁî®ËøôÁßçÂú∫ÊôØÂæàÂ∏∏ËßÅÔºåÂΩìÊàë‰ª¨Âú®componentDidMountÈáåÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™Ê≥®ÂÜåÔºåÊàë‰ª¨ÂæóÈ©¨‰∏äÂú®componentWillUnmount‰∏≠Ôºå‰πüÂ∞±ÊòØÁªÑ‰ª∂Ë¢´Ê≥®ÈîÄ‰πãÂâçÊ∏ÖÈô§ÊéâÊàë‰ª¨Ê∑ªÂä†ÁöÑÊ≥®ÂÜåÔºåÂê¶ÂàôÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÈóÆÈ¢òÂ∞±Âá∫Áé∞‰∫Ü„ÄÇ ÊÄé‰πàÊ∏ÖÈô§Âë¢ÔºüËÆ©Êàë‰ª¨‰º†ÁªôuseEffectÁöÑÂâØ‰ΩúÁî®ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞Âç≥ÂèØ„ÄÇËøô‰∏™Êñ∞ÁöÑÂáΩÊï∞Â∞Ü‰ºöÂú®ÁªÑ‰ª∂‰∏ã‰∏ÄÊ¨°ÈáçÊñ∞Ê∏≤Êüì‰πãÂêéÊâßË°å„ÄÇËøôÁßçÊ®°ÂºèÂú®‰∏Ä‰∫õpubsubÊ®°ÂºèÁöÑÂÆûÁé∞‰∏≠ÂæàÂ∏∏ËßÅ„ÄÇÁúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö import { useState, useEffect } from &apos;react&apos;; function FriendStatus(props) { const [isOnline, setIsOnline] = useState(null); function handleStatusChange(status) { setIsOnline(status.isOnline); } useEffect(() =&gt; { ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); // ‰∏ÄÂÆöÊ≥®ÊÑè‰∏ãËøô‰∏™È°∫Â∫èÔºöÂëäËØâreactÂú®‰∏ãÊ¨°ÈáçÊñ∞Ê∏≤ÊüìÁªÑ‰ª∂‰πãÂêéÔºåÂêåÊó∂ÊòØ‰∏ãÊ¨°Ë∞ÉÁî®ChatAPI.subscribeToFriendStatus‰πãÂâçÊâßË°åcleanup returnfunctioncleanup() { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); if (isOnline === null) { return&apos;Loading...&apos;; } return isOnline ? &apos;Online&apos; : &apos;Offline&apos;; } ËøôÈáåÊúâ‰∏Ä‰∏™ÁÇπÈúÄË¶ÅÈáçËßÜÔºÅËøôÁßçËß£ÁªëÁöÑÊ®°ÂºèË∑ücomponentWillUnmount‰∏ç‰∏ÄÊ†∑„ÄÇcomponentWillUnmountÂè™‰ºöÂú®ÁªÑ‰ª∂Ë¢´ÈîÄÊØÅÂâçÊâßË°å‰∏ÄÊ¨°ËÄåÂ∑≤ÔºåËÄåuseEffectÈáåÁöÑÂáΩÊï∞ÔºåÊØèÊ¨°ÁªÑ‰ª∂Ê∏≤ÊüìÂêéÈÉΩ‰ºöÊâßË°å‰∏ÄÈÅçÔºåÂåÖÊã¨ÂâØ‰ΩúÁî®ÂáΩÊï∞ËøîÂõûÁöÑËøô‰∏™Ê∏ÖÁêÜÂáΩÊï∞‰πü‰ºöÈáçÊñ∞ÊâßË°å‰∏ÄÈÅç„ÄÇÊâÄ‰ª•Êàë‰ª¨‰∏ÄËµ∑Êù•Áúã‰∏Ä‰∏ã‰∏ãÈù¢Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅËÆ©ÂâØ‰ΩúÁî®ÂáΩÊï∞ÊØèÊ¨°ÁªÑ‰ª∂Êõ¥Êñ∞ÈÉΩÊâßË°å‰∏ÄÈÅçÔºüÊàë‰ª¨ÂÖàÁúã‰ª•ÂâçÁöÑÊ®°ÂºèÔºö componentDidMount() { ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange ); } componentWillUnmount() { ChatAPI.unsubscribeFromFriendStatus( this.props.friend.id, this.handleStatusChange ); } ÂæàÊ∏ÖÈô§ÔºåÊàë‰ª¨Âú®componentDidMountÊ≥®ÂÜåÔºåÂÜçÂú®componentWillUnmountÊ∏ÖÈô§Ê≥®ÂÜå„ÄÇ‰ΩÜÂÅáÂ¶ÇËøôÊó∂ÂÄôprops.friend.idÂèò‰∫ÜÊÄé‰πàÂäûÔºüÊàë‰ª¨‰∏çÂæó‰∏çÂÜçÊ∑ªÂä†‰∏Ä‰∏™componentDidUpdateÊù•Â§ÑÁêÜËøôÁßçÊÉÖÂÜµÔºö ... componentDidUpdate(prevProps) { // ÂÖàÊää‰∏ä‰∏Ä‰∏™friend.idËß£Áªë ChatAPI.unsubscribeFromFriendStatus( prevProps.friend.id, this.handleStatusChange ); // ÂÜçÈáçÊñ∞Ê≥®ÂÜåÊñ∞‰ΩÜfriend.id ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange ); } ... ÁúãÂà∞‰∫ÜÂêóÔºüÂæàÁπÅÁêêÔºåËÄåÊàë‰ª¨‰ΩÜuseEffectÂàôÊ≤°Ëøô‰∏™ÈóÆÈ¢òÔºåÂõ†‰∏∫ÂÆÉÂú®ÊØèÊ¨°ÁªÑ‰ª∂Êõ¥Êñ∞ÂêéÈÉΩ‰ºöÈáçÊñ∞ÊâßË°å‰∏ÄÈÅç„ÄÇÊâÄ‰ª•‰ª£Á†ÅÁöÑÊâßË°åÈ°∫Â∫èÊòØËøôÊ†∑ÁöÑÔºö 1.È°µÈù¢È¶ñÊ¨°Ê∏≤Êüì 2.Êõøfriend.id=1ÁöÑÊúãÂèãÊ≥®ÂÜå 3.Á™ÅÁÑ∂friend.idÂèòÊàê‰∫Ü2 4.È°µÈù¢ÈáçÊñ∞Ê∏≤Êüì 5.Ê∏ÖÈô§friend.id=1ÁöÑÁªëÂÆö 6.Êõøfriend.id=2ÁöÑÊúãÂèãÊ≥®ÂÜå ... ÊÄé‰πàË∑≥Ëøá‰∏Ä‰∫õ‰∏çÂøÖË¶ÅÁöÑÂâØ‰ΩúÁî®ÂáΩÊï∞ÊåâÁÖß‰∏ä‰∏ÄËäÇÁöÑÊÄùË∑ØÔºåÊØèÊ¨°ÈáçÊñ∞Ê∏≤ÊüìÈÉΩË¶ÅÊâßË°å‰∏ÄÈÅçËøô‰∫õÂâØ‰ΩúÁî®ÂáΩÊï∞ÔºåÊòæÁÑ∂ÊòØ‰∏çÁªèÊµéÁöÑ„ÄÇÊÄé‰πàË∑≥Ëøá‰∏Ä‰∫õ‰∏çÂøÖË¶ÅÁöÑËÆ°ÁÆóÂë¢ÔºüÊàë‰ª¨Âè™ÈúÄË¶ÅÁªôuseEffect‰º†Á¨¨‰∫å‰∏™ÂèÇÊï∞Âç≥ÂèØ„ÄÇÁî®Á¨¨‰∫å‰∏™ÂèÇÊï∞Êù•ÂëäËØâreactÂè™ÊúâÂΩìËøô‰∏™ÂèÇÊï∞ÁöÑÂÄºÂèëÁîüÊîπÂèòÊó∂ÔºåÊâçÊâßË°åÊàë‰ª¨‰º†ÁöÑÂâØ‰ΩúÁî®ÂáΩÊï∞ÔºàÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Ôºâ„ÄÇ useEffect(() =&gt; { document.title = `You clicked ${count}times`; }, [count]); // Âè™ÊúâÂΩìcountÁöÑÂÄºÂèëÁîüÂèòÂåñÊó∂ÔºåÊâç‰ºöÈáçÊñ∞ÊâßË°å`document.title`Ëøô‰∏ÄÂè• ÂΩìÊàë‰ª¨Á¨¨‰∫å‰∏™ÂèÇÊï∞‰º†‰∏Ä‰∏™Á©∫Êï∞ÁªÑ[]Êó∂ÔºåÂÖ∂ÂÆûÂ∞±Áõ∏ÂΩì‰∫éÂè™Âú®È¶ñÊ¨°Ê∏≤ÊüìÁöÑÊó∂ÂÄôÊâßË°å„ÄÇ‰πüÂ∞±ÊòØcomponentDidMountÂä†componentWillUnmountÁöÑÊ®°Âºè„ÄÇ‰∏çËøáËøôÁßçÁî®Ê≥ïÂèØËÉΩÂ∏¶Êù•bugÔºåÂ∞ëÁî®„ÄÇ ËøòÊúâÂì™‰∫õËá™Â∏¶ÁöÑEffect Hooks?Èô§‰∫Ü‰∏äÊñáÈáçÁÇπ‰ªãÁªçÁöÑuseStateÂíåuseEffectÔºåreactËøòÁªôÊàë‰ª¨Êèê‰æõÊù•ÂæàÂ§öÊúâÁî®ÁöÑhooksÔºö useContextuseReduceruseCallbackuseMemouseRefuseImperativeMethodsuseMutationEffectuseLayoutEffect Êàë‰∏çÂÜç‰∏Ä‰∏Ä‰ªãÁªçÔºåÂ§ßÂÆ∂Ëá™Ë°åÂéªÊü•ÈòÖÂÆòÊñπÊñáÊ°£„ÄÇ ÊÄé‰πàÂÜôËá™ÂÆö‰πâÁöÑEffect Hooks?‰∏∫‰ªÄ‰πàË¶ÅËá™Â∑±ÂéªÂÜô‰∏Ä‰∏™Effect Hooks? ËøôÊ†∑Êàë‰ª¨ÊâçËÉΩÊääÂèØ‰ª•Â§çÁî®ÁöÑÈÄªËæëÊäΩÁ¶ªÂá∫Êù•ÔºåÂèòÊàê‰∏Ä‰∏™‰∏™ÂèØ‰ª•ÈöèÊÑèÊèíÊãîÁöÑ‚ÄúÊèíÈîÄ‚ÄùÔºåÂì™‰∏™ÁªÑ‰ª∂Ë¶ÅÁî®Êù•ÔºåÊàëÂ∞±ÊèíËøõÂì™‰∏™ÁªÑ‰ª∂ÈáåÔºåso easyÔºÅÁúã‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ‰æãÂ≠êÔºå‰Ω†Â∞±ÊòéÁôΩ‰∫Ü„ÄÇ ÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Êää‰∏äÈù¢ÂÜôÁöÑFriendStatusÁªÑ‰ª∂‰∏≠Âà§Êñ≠ÊúãÂèãÊòØÂê¶Âú®Á∫øÁöÑÂäüËÉΩÊäΩÂá∫Êù•ÔºåÊñ∞Âª∫‰∏Ä‰∏™useFriendStatusÁöÑhook‰∏ìÈó®Áî®Êù•Âà§Êñ≠Êüê‰∏™idÊòØÂê¶Âú®Á∫ø„ÄÇ import { useState, useEffect } from &apos;react&apos;; function useFriendStatus(friendID) { const [isOnline, setIsOnline] = useState(null); function handleStatusChange(status) { setIsOnline(status.isOnline); } useEffect(() =&gt; { ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange); return () =&gt; { ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange); }; }); return isOnline; } ËøôÊó∂ÂÄôFriendStatusÁªÑ‰ª∂Â∞±ÂèØ‰ª•ÁÆÄÂÜô‰∏∫Ôºö function FriendStatus(props) { const isOnline = useFriendStatus(props.friend.id); if (isOnline === null) { return &apos;Loading...&apos;; } return isOnline ? &apos;Online&apos; : &apos;Offline&apos;; } ÁÆÄÁõ¥PerfectÔºÅÂÅáÂ¶ÇËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèàÊúâ‰∏Ä‰∏™ÊúãÂèãÂàóË°®‰πüÈúÄË¶ÅÊòæÁ§∫ÊòØÂê¶Âú®Á∫øÁöÑ‰ø°ÊÅØÔºö function FriendListItem(props) { const isOnline = useFriendStatus(props.friend.id); return ( &lt;li style={{ color: isOnline ? 'green' : 'black' }}&gt; {props.friend.name} &lt;/li&gt; ); } DEMO123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141// import React from &apos;react&apos;;import logo from &apos;./logo.svg&apos;;import &apos;./App.css&apos;;import React, &#123; // useHooks, useState, useEffect, useContext, useReducer, useRef&#125; from &apos;react&apos;const ThemeContext = React.createContext(&#123; background: &apos;#282c34&apos;, color: &apos;#61dafb&apos;&#125;);/** * ÁõëÊéßÊµèËßàÂô®ÂèòÂåñ * @return &#123;number&#125; innerWidth ËøîÂõûÂΩìÂâçÁ™óÂè£ÂÆΩÂ∫¶ * **/const useWindowWith = () =&gt; &#123; const [innerWidth, setInnerWidth] = useState(window.innerWidth); const handleResize = () =&gt; setInnerWidth(window.innerWidth) useEffect(() =&gt; &#123; window.addEventListener(&apos;resize&apos;, handleResize) return() =&gt; &#123; window.removeEventListener(&apos;resize&apos;, handleResize) &#125; &#125;) return innerWidth&#125;/** * ËÆ°Êï∞ * @param &#123;number&#125; initialState ÂàùÂßãÂÄº * @return &#123;number&#125; count ÂÄº * @return &#123;function&#125; setCount ÊîπÂèòÂÄºÁöÑÊñπÊ≥ï * */const useCount = (initialState) =&gt; &#123; const [count, setCount] = useState(initialState); useEffect(() =&gt; &#123; console.log(&apos;change&apos;) &#125;, [count]) return [count, setCount]&#125;/** * count-reducer * * */const initialState = &#123; count: 0&#125;;function reducer(state, action) &#123; switch(action.type) &#123; case &apos;reset&apos;: return initialState; case &apos;increment&apos;: return &#123; count: state.count + 1 &#125;; case &apos;decrement&apos;: return &#123; count: state.count - 1 &#125;; default: return state &#125;&#125;/** * ÁÇπÂáªËé∑ÂèñÁÑ¶ÁÇπ * @param &#123;number&#125; initial ÂàùÂßãÂÄº * @return &#123;object&#125; ref ÂΩìÂâçÁöÑrefÂØπË±° * @return &#123;function&#125; focusHandle ‰ΩøÁî®ËØ•refÂØπË±°ÁöÑÂáΩÊï∞ * */function useRefHandle(initial) &#123; let ref = useRef(initial) let focusHandle = () =&gt; ref.current.focus(); return [ref, focusHandle]&#125;const App = (props) =&gt; &#123; const innerWidth = useWindowWith() const [count, setCount] = useCount(0); const &#123; color, background &#125; = useContext(ThemeContext); const [state, dispatch] = useReducer(reducer, initialState) let [inputEl, focusHandle] = useRefHandle(null); console.log(&apos;render number&apos;) return( &lt;div className=&quot;App&quot;&gt; &#123;/* useContext demo */&#125; &lt;header className=&quot;App-header&quot; style=&#123;&#123;backgroundColor:background&#125;&#125;&gt; &lt;img src=&#123;logo&#125; className=&quot;App-logo&quot; alt=&quot;logo&quot; /&gt; &lt;p&gt; react hook demo &lt;/p&gt; &#123;/* useState demo */&#125; &lt;p&gt;count:&#123;count&#125;&lt;/p&gt; &lt;button onClick=&#123;()=&gt;setCount(count+1)&#125; className=&quot;App-button&quot; &gt;ÁÇπÂáª&lt;/button&gt; &#123;/* useReducer demo */&#125; &lt;p&gt;reducer count:&#123;state.count&#125;&lt;/p&gt; &lt;div className=&quot;App-button-group&quot; &gt; &lt;button onClick=&#123;()=&gt;dispatch(&#123;type: &apos;increment&apos;&#125;)&#125; &gt;increment&lt;/button&gt; &lt;button onClick=&#123;()=&gt;dispatch(&#123;type: &apos;decrement&apos;&#125;)&#125; &gt;decrement&lt;/button&gt; &lt;button onClick=&#123;()=&gt;dispatch(&#123;type: &apos;reset&apos;&#125;)&#125; &gt;reset&lt;/button&gt; &lt;/div&gt; &#123;/* useEffect demo */&#125; &lt;p&gt;ÂΩìÂâçÂ±èÂπïÂÆΩÂ∫¶Ôºö&#123;innerWidth&#125;&lt;/p&gt; &#123;/* useRef demo */&#125; &lt;p&gt; useRef: &lt;input type=&apos;text&apos; ref=&#123;inputEl&#125;/&gt;&lt;button onClick=&#123;focusHandle&#125;&gt;ÊêúÁ¥¢&lt;/button&gt; &lt;/p&gt; &#123;/* useContext demo */&#125; &lt;a className=&quot;App-link&quot; href=&quot;https://reactjs.org&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; style=&#123;&#123;color:color&#125;&#125; &gt; Learn React &lt;/a&gt; &lt;/header&gt; &lt;/div&gt; );&#125;export default App]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ReduxÊ∫êÁ†ÅÂàÜÊûê]]></title>
    <url>%2F2018%2F11%2F05%2FRedux%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÊäõÂºÄReact‰∏çË∞àÔºåReduxÂÖ∂ÂÆûÂ∞±Âè™ÊòØ‰∏Ä‰∏™ÁÆ°ÁêÜÁä∂ÊÄÅÁöÑÊï∞ÊçÆ‰∏≠ÂøÉÔºåÁÑ∂ËÄå‰Ωú‰∏∫‰∏Ä‰∏™Êï∞ÊçÆ‰∏≠ÂøÉÂÆÉÁöÑÁâπËâ≤Âú®‰∫éÊàë‰ª¨‰∏çËÉΩÂ§üÁõ¥Êé•‰øÆÊîπÊï∞ÊçÆ‰∏≠ÂøÉÈáåÈù¢ÁöÑÊï∞ÊçÆÔºåÊàë‰ª¨ÈúÄË¶ÅËá™Ë°åÂÆö‰πâÊìç‰ΩúÈÄªËæëreducerÔºå‰ª•ÂèäÊìç‰ΩúÁ±ªÂûãaction,ÈÄöËøáÂàÜÂèë‰∏çÂêåÁöÑactionÊù•ÂåπÈÖçreducerÈáåÈù¢ÂØπÂ∫îÁöÑÊìç‰ΩúÔºåÊâçËÉΩËææÂà∞‰øÆÊîπÊï∞ÊçÆÁöÑÁõÆÁöÑ„ÄÇ ‰∏ÄËà¨Êù•ËØ¥Êàë‰ª¨‰ºöÈÄöËøá‰ª•‰∏ãÊñπÂºèÊù•ÂàõÂª∫‰∏Ä‰∏™Êï∞ÊçÆ‰∏≠ÂøÉ12import &#123; createStore &#125; from&apos;redux&apos;const store = createStore(...blablabla) ËøôÈáåÊúÄ‰∏∫ÂÖ≥ÈîÆÁöÑÂ∞±ÊòØcreateStoreËøô‰∏™ÂáΩÊï∞ÔºåÊé•‰∏ãÊù•ÊàëÊÉ≥ËØ¶ÁªÜÂú∞ÂØπÂÆÉÂÅö‰∏™ÂàÜÊûê„ÄÇ createStoreÊñπÊ≥ïÂâñÊûêcreateStore.jsËøô‰∏™Êñá‰ª∂Á∫Ø‰ª£Á†ÅÁöÑÈÉ®ÂàÜÂ§ßÊ¶ÇÊúâ100Â§öË°åÔºåÂ¶ÇÊûúÊää‰ªñ‰ª¨ÂÖ®ÈÉ®Ë¥¥Âá∫Êù•ÂÜç‰∏Ä‰∏ÄÂàÜÊûêÂπ∂ÈùûÊòéÊô∫‰πã‰∏æÔºåÊàëËÆ§‰∏∫Âè™ÂØπÂÖ≥ÈîÆÁöÑÈÉ®ÂàÜËøõË°åÂàÜÊûêÊòØÊõ¥ÊÅ∞ÂΩìÁöÑÂÅöÊ≥ï„ÄÇË¶ÅÂàÜÊûê‰∏Ä‰∏™ÊñπÊ≥ïÊàëËßâÂæóÊØîËæÉÊúâÊÑè‰πâÁöÑÊòØÁúãÂÆÉÊé•Êî∂‰∫Ü‰ªÄ‰πàÔºå‰ª•ÂèäËøîÂõû‰∫Ü‰ªÄ‰πà„ÄÇ Êé•Êî∂ÁöÑÂèÇÊï∞123export default function createStore(reducer, preloadedState, enhancer) &#123; ...&#125; Ëøô‰∏™ÊñπÊ≥ïÊé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØreducer, preloadedState, enhancer„ÄÇ‰ª•‰∏äÈÉΩÂàÜÂà´ÂèØ‰ª•Áî±ÂºÄÂèëËÄÖËøõË°åÂÆö‰πâÔºåreducerÂ∞±ÊòØÁî±ÂºÄÂèëËÄÖÂÆö‰πâÁöÑ‰∏Ä‰∏™Êìç‰ΩúÊñπÊ≥ïÔºåÂÆÉ‰ºö‰ª•ÊóßÁöÑÁä∂ÊÄÅ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂ§ÑÁêÜËøáÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÁä∂ÊÄÅ„ÄÇpreloadedStateÂàôÂèØ‰ª•ÁêÜËß£ÊàêÊï∞ÊçÆ‰∏≠ÂøÉÁöÑÂàùÂßãÁä∂ÊÄÅÔºåÂÆÉÊòØ‰∏™ÂèØÈÄâÂÄº„ÄÇ ÊúÄÂêéÁöÑenhancerÂèàÊòØ‰ªÄ‰πàÂë¢Ôºü‰ªéÂ≠óÈù¢‰∏äÁêÜËß£ÂÆÉÊòØ‰∏Ä‰∏™Â¢ûÂº∫Âô®ÔºåÁî®‰∫éÂ¢ûÂº∫createStore„ÄÇ‰ªéÊ∫êÁ†ÅÁúãÂÆÉÁöÑÂ∑•‰ΩúÊñπÂºè12345678910111213141516export default function createStore(reducer, preloadedState, enhancer) &#123; ..... if (typeof preloadedState === &apos;function&apos; &amp;&amp; typeof enhancer === &apos;undefined&apos;) &#123; // ÂèÇÊï∞ÂΩí‰∏Ä enhancer = preloadedState preloadedState = undefined &#125; if (typeof enhancer !== &apos;undefined&apos;) &#123; if (typeof enhancer !== &apos;function&apos;) &#123; throw new Error(&apos;Expected the enhancer to be a function.&apos;) &#125; return enhancer(createStore)(reducer, preloadedState) // Áõ¥Êé•ËøîÂõû‰∏Ä‰∏™Â¢ûÂº∫ÂêéÁöÑ`createStore &#125; .....&#125; ÂèØËßÅÔºåÂÆÉÊé•Êî∂‰∫ÜÂéüÊù•ÁöÑcreateStore‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂‰∏îËøîÂõû‰∫Ü‰∏Ä‰∏™Â¢ûÂº∫‰∫ÜÁöÑÊñπÊ≥ïÔºåÊúÄÂêéÁî®Â¢ûÂº∫ËøáÁöÑÊñπÊ≥ïÊù•Ë∞ÉÁî®ÂéüÊù•‰º†ÂÖ•ÁöÑÂèÇÊï∞„ÄÇ‰∫ÜËß£ÂéüÁêÜ‰πãÂêéÊàë‰ª¨ÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÂÜôÂá∫‰∏Ä‰∏™Áä∂ÊÄÅÊâìÂç∞Â¢ûÂº∫Âô®ÔºåÁî®‰∫éÊâìÂç∞dispatchÂâçÂêéÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ„ÄÇ123456789101112131415161718192021.....function enhancer(createStore) &#123; return (reducer, initialState, enhancer) =&gt; &#123; const store = createStore(reducer, initialState, enhancer) function dispatch(action) &#123; console.log(&apos;old&apos;, store.getState()) const res = store.dispatch(action); console.log(&apos;new&apos;, store.getState()) return res &#125; // Áî®ÂøÉÁöÑdispatchÊñπÊ≥ïÊù•ÊõøÊç¢ÂéüÊúâÁöÑdispatchÊñπÊ≥ï return &#123; ...store, dispatch &#125; &#125;&#125;const store = createStore(reducers, undefined, enhancer) Âè¶Â§ñÔºå‰ªéReduxÁöÑÊ∫êÁ†ÅÂèØ‰ª•ÁúãÂà∞createStoreÂÅö‰∫Ü‰∏ÄÁßçÂè´ÂÅöÂèÇÊï∞ÂΩí‰∏ÄÁöÑÂ§ÑÁêÜÔºåÂú®ËÆ∏Â§öJSÂ∫ì‰∏≠ÈÉΩ‰ºöÈááÁî®ËøôÁßçÊñπÂºèÂÖºÂÆπ‰∏çÂêåÊÉÖÂÜµ‰∏ãÁöÑÂèÇÊï∞‰º†ÂÖ•„ÄÇÂΩìÊàë‰ª¨‰∏çÈúÄË¶Å‰º†ÂÖ•ÂàùÂßãÁä∂ÊÄÅÔºåËÄåÂè™ÈúÄË¶Å‰ΩøÁî®enhancerÂ¢ûÂº∫Âô®ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ËøòÂèØ‰ª•Êää‰ª£Á†ÅÂÜôÊàêËøôÊ†∑1const store = createStore(reducers, enhancer) 2) ËøîÂõûÂÄºÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãËøîÂõûÂÄº„ÄÇcreateStoreÊúÄÁªà‰ºöËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´ÁöÑ‰∏úË•øÂ¶Ç‰∏ã123456789101112import $$observable from &apos;symbol-observable&apos;export default function createStore(reducer, preloadedState, enhancer) &#123; ..... return &#123; dispatch, subscribe, getState, replaceReducer, [$$observable]: observable &#125;&#125; Ëøô‰∫õ‰æøÊòØÊàë‰ª¨Êï∞ÊçÆ‰∏≠ÂøÉ‰∏∫Â§ñÈÉ®Êèê‰æõÁöÑÂÖ®ÈÉ®Êé•Âè£‰∫Ü„ÄÇÊúÄÂêé‰∏Ä‰∏™ÁúãËµ∑Êù•ÊúâÁÇπÂ•áÊÄ™ÔºåÂÖ∂‰ªñÁöÑ‰ªéÂ≠óÈù¢‰∏äÂ∫îËØ•ÈÉΩÊØîËæÉÂÆπÊòìÁêÜËß£ÔºåÂÆπËÆ∏ËÆ∏Êàë‰∏Ä‰∏ÄÂàÜÊûê„ÄÇ a. getState‚ÄìËøîÂõûÂΩìÂâçÁä∂ÊÄÅReduxÁöÑÊ†∏ÂøÉÁêÜÂøµ‰πã‰∏ÄÂ∞±ÊòØ‰∏çÊîØÊåÅÁõ¥Êé•‰øÆÊîπÁä∂ÊÄÅÔºåÂÆÉÊòØÈÄöËøáÈó≠ÂåÖÊù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇ12345678export default function createStore(reducer, preloadedState, enhancer) &#123; let currentState = preloadedState function getState() &#123; ..... return currentState &#125;&#125; ÂÆÉÂÖàÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÁöÑÂèòÈáècurrentStateÔºåÁÑ∂ÂêéÈÄöËøá‰∏Ä‰∏™Âêç‰∏∫getStateÁöÑÊñπÊ≥ïÊù•ËøîÂõûÂÆÉÁöÑÂÄº„ÄÇËøôÂ∞±ÈÄ†Êàê‰∫ÜcurrentStateËøô‰∏™Áä∂ÊÄÅÂØπÊàë‰ª¨ËÄåË®ÄÊòØÂè™ËØªÁöÑÔºåÊàë‰ª¨Ê≤°ÂäûÊ≥ïÁõ¥Êé•‰øÆÊîπÂÆÉÁöÑÂÄº„ÄÇÂú®‰ª£Á†ÅÈáåÈù¢Êàë‰ª¨ÂèØ‰ª•ÈÄöËøágetStateËøô‰∏™ÊñπÊ≥ïÊù•ËøîÂõûÂΩìÂâçÁä∂ÊÄÅ1console.log(store.getState()) b. subscribe‚ÄìÊûÑÈÄ†ÁõëÂê¨ËÄÖÈòüÂàóÊØè‰∏™storeÊú¨Ë∫´‰ºöÁª¥Êä§‰∏Ä‰∏™ÁõëÂê¨ËÄÖÈòüÂàóÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÊÉ≥Ë±°Êàê‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÈòüÂàóÔºåÂú®ÊØèÊ¨°ÂàÜÂèëactionÁöÑÊó∂ÂÄôÈÉΩ‰ºö‰æùÊ¨°Ë∞ÉÁî®ÁõëÂê¨ËÄÖÈòüÂàó‰∏≠ÊâÄÊúâÊñπÊ≥ï„ÄÇÈÄöËøáËøô‰∏™subscribeÊñπÊ≥ïÂèØ‰ª•ÊâãÂä®Âú∞Êää‰∏Ä‰∫õÂõûË∞ÉÂáΩÊï∞Ê∑ªÂä†Âà∞ÁõëÂê¨ËÄÖÈòüÂàó‰∏≠12345678910111213141516171819202122232425262728293031323334353637383940export default function createStore(reducer, preloadedState, enhancer) &#123; .... let currentListeners = [] let nextListeners = currentListeners ... function ensureCanMutateNextListeners() &#123; if (nextListeners === currentListeners) &#123; nextListeners = currentListeners.slice() &#125; &#125; ... function subscribe(listener) &#123; ..... let isSubscribed = true ensureCanMutateNextListeners() nextListeners.push(listener) return function unsubscribe() &#123; if (!isSubscribed) &#123; return &#125; .... isSubscribed = false ensureCanMutateNextListeners() const index = nextListeners.indexOf(listener) nextListeners.splice(index, 1) &#125; &#125;&#125; ÈÄªËæëÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºå‰∏∫‰∫ÜÂáèÂ∞ëÁØáÂπÖÊàëÊää‰∏Ä‰∫õÁ±ªÂûãÊ£ÄÊü•ÁöÑ‰ª£Á†ÅÂéªÊéâ‰∫Ü„ÄÇÊØèÊ¨°Ë∞ÉÁî®subscribeÁöÑÊó∂ÂÄô‰º†ÂÖ•‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Ôºåsubscribe‰ºöÊääÂÆÉÊîæÂà∞‰∏Ä‰∏™ÁõëÂê¨ËÄÖÈòüÂàó‰∏≠ÂéªÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™unsubscribeÁöÑÊñπÊ≥ï„ÄÇËøô‰∏™unsubscribeÊñπÊ≥ïÊòØËÆ©ÂºÄÂèëËÄÖÂèØ‰ª•Êñπ‰æøÂú∞‰ªéÂàóË°®‰∏≠Âà†Èô§ÂØπÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÊ≠§Â§ñËØ•ÊñπÊ≥ïËøòÁª¥Êä§ÁùÄ‰∏Ä‰∏™isSubscribedÊ†áËØÜËÆ¢ÈòÖÁä∂ÊÄÅ„ÄÇ ËøôÈáåÈù¢Êúâ‰∏Ä‰∏™ÊØîËæÉÊúâÊÑèÊÄùÁöÑensureCanMutateNextListenersÁöÑÊñπÊ≥ïÔºåÊåâÁÖß‰ª£Á†ÅÁöÑÈÄªËæëÔºåÂÆÉÊòØË¶Å‰øùËØÅÁõëÂê¨ËÄÖÁöÑÊ∑ªÂä†‰∏éÂà†Èô§Âπ∂‰∏çÂú®currentListenersËøô‰∏™ÂéüÂßãÁöÑÈòüÂàóÈáåÈù¢ËøõË°åÁõ¥Êé•Êìç‰ΩúÔºåÊàë‰ª¨Êìç‰ΩúÁöÑÂè™ÊòØÂÆÉÁöÑ‰∏Ä‰∏™ÂâØÊú¨„ÄÇÁõ¥Âà∞Êàë‰ª¨Ë∞ÉÁî®dispatchÊñπÊ≥ïËøõË°åÂàÜÂèëÁöÑÊó∂ÂÄôÔºåcurrentListeners‰∏énextListenersÊâç‰ºöÂÜç‰∏ÄÊ¨°ÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±°ÔºåËøô‰∏™Âú®ÂêéÈù¢ÁöÑ‰ª£Á†ÅÈáåÈù¢‰ºöÁúãÂà∞„ÄÇ c. dispatch‚Äì‰ΩéË∞ÉÁöÑactionÂàÜÂèëËÄÖdispatchÊñπÊ≥ïÊòØÁî®Êù•ÂàÜÂèëactionÁöÑÔºåÂèØ‰ª•ÊääÂÆÉÁêÜËß£ÊàêÁî®‰∫éËß¶ÂèëÊï∞ÊçÆÊõ¥Êñ∞ÁöÑÊñπÊ≥ï„ÄÇÂÆÉÁöÑÊ†∏ÂøÉÂÆûÁé∞‰πüÊØîËæÉÁÆÄÂçï 1234567891011121314151617181920212223export default function createStore(reducer, preloadedState, enhancer) &#123; ... function dispatch(action) &#123; .... // Ë∞ÉÁî®reducer try &#123; isDispatching = true currentState = currentReducer(currentState, action) &#125; finally &#123; isDispatching = false &#125; // Ë∞ÉÁî®ÁõëÂê¨ËÄÖ const listeners = (currentListeners = nextListeners) for (let i = 0; i &lt; listeners.length; i++) &#123; const listener = listeners[i] listener() &#125; return action &#125;&#125; Êàë‰æùÊóßÊää‰∏Ä‰∫õÁ±ªÂûãÊ£ÄÊü•ÁöÑ‰ª£Á†ÅÂéªÊéâÔºåÈ¶ñÂÖàdispatchÊñπÊ≥ï‰ºö‰ª•ÂΩìÂâçÁöÑÁä∂ÊÄÅcurrentState‰ª•ÂèäÊàë‰ª¨ÂÆö‰πâÁöÑÂä®‰Ωúaction‰Ωú‰∏∫ÂèÇÊï∞Êù•Ë∞ÉÁî®ÂΩìÂâçÁöÑreducerÊñπÊ≥ï„ÄÇÂè¶Â§ñÂÆÉ‰ΩøÁî®isDispatchingÂèòÈáèÊù•ËÆ∞ÂΩïÂàÜÂèëÁöÑÁä∂ÊÄÅÔºåÊ≠£Âú®ÂàÜÂèëÂàôËÆæÁΩÆ‰∏∫true„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÊàë‰ª¨ÁöÑreducerÊñπÊ≥ïÂ∞Ü‰ºöË¢´ËÆæÁΩÆÊàê‰∏Ä‰∏™Á∫ØÂáΩÊï∞‚ÄìÂÆÉ‰∏ç‰ºö‰∫ßÁîüÂâØ‰ΩúÁî®ÔºåÂπ∂‰∏îÂØπ‰∫éÂêåÊ†∑ÁöÑËæìÂÖ•ÂÆÉ‰ºöËøîÂõûÂêåÊ†∑ÁöÑËæìÂá∫„ÄÇÊç¢Âè•ËØùËØ¥ÂÆÉ‰∏ç‰ºöÁõ¥Êé•Âú®ÂéüÊù•Áä∂ÊÄÅÁöÑÂü∫Á°Ä‰∏äËøõË°å‰øÆÊîπÔºåËÄåÊòØ‰ºöÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÁä∂ÊÄÅÔºåÂπ∂ÂØπÂéüÊúâÁä∂ÊÄÅËøõË°åÊõøÊç¢„ÄÇ ÂÆåÊàê‰∫Ü‰∏äÈù¢Ëøô‰∫õ‰πãÂêéÊàë‰ª¨‰ºö‰æùÊ¨°ÈÅçÂéÜÊâÄÊúâÁöÑÁõëÂê¨ËÄÖÔºåÂπ∂‰∏îÊâãÂä®Ë∞ÉÁî®ÊâÄÊúâÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰πãÂâçÊúâËÆ≤ËøáÁöÑÔºåËÆ¢ÈòÖ/ÂèñÊ∂àËÆ¢ÈòÖÁöÑÊó∂ÂÄôÊàë‰ª¨‰ºöÁîüÊàê‰∏Ä‰∏™currentLIstenersÁöÑÂâØÊú¨nextListenersÂπ∂Âú®ÂÆÉ‰∏äÈù¢Ê∑ªÂä†/Âà†Èô§ÂõûË∞ÉÂáΩÊï∞„ÄÇÁÑ∂ËÄåÂà∞‰∫ÜdispatchËøô‰∏ÄÊ≠•‰ªñ‰ª¨‰ºöÂÅö‰∏ÄÊ¨°ÂêåÊ≠•ÔºåËøôÊ†∑‰ªñ‰ª¨Â∞±Âèà‰ºöÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±°‰∫Ü„ÄÇ d. replaceReducer‚ÄìÊõøÊç¢ÂΩìÂâçÁöÑreducerreplaceReducerËøô‰∏™ÊñπÊ≥ïÂÅöÁöÑ‰∫ãÊÉÖÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÂÆÉÂèØ‰ª•Áî®Êñ∞ÁöÑreducerÊõøÊç¢ÊéâÂΩìÂâçÁöÑreducerÔºåÂπ∂‰∏îÂàÜÂèë‰∏Ä‰∏™ÊõøÊç¢ÁöÑactionÔºå‰∏ãÈù¢ÊòØÊ∫ê‰ª£Á†Å 123456789export default function createStore(reducer, preloadedState, enhancer) &#123; ..... function replaceReducer(nextReducer) &#123; ..... currentReducer = nextReducer dispatch(&#123; type: ActionTypes.REPLACE &#125;) &#125;&#125; ÊçÆËØ¥ËøôÁßçÊñπÂºèÂú®Ë∞ÉËØïÁéØÂ¢É‰∏ã‰ºöÁî®ÂæóÊØîËæÉÂ§ö„ÄÇÂú®Ê≠£ÂºèÁéØÂ¢É‰∏ã‰∏ÄËà¨ÈÉΩ‰∏ç‰ºöÂú®‰∏≠ÈÄîÊõ¥ÊõøreducerÔºå‰ª•ÂÖçÂæóÂ¢ûÂä†Áª¥Êä§ÊàêÊú¨„ÄÇ e. observable‚ÄìËßÇÂØüËÄÖËøô‰∏™ÊòØÊØîËæÉËÆ©ÊàëË¥πËß£ÁöÑ‰∏Ä‰∏™ÂäüËÉΩ‰∫ÜÔºåÁÑ∂ËÄåReduxÁöÑÊï∞ÊçÆ‰∏≠ÂøÉÂ±ÖÁÑ∂ÊääÂÆÉ‰Ωú‰∏∫apiÂºÄÊîæÂá∫Êù•ÔºåÂí±Èó®ÂÖàË¥¥Ê∫êÁ†Å12345678910111213141516171819202122232425export default function createStore(reducer, preloadedState, enhancer) &#123; .... function observable() &#123; const outerSubscribe = subscribe return &#123; ... subscribe(observer) &#123; .... function observeState() &#123; if (observer.next) &#123; observer.next(getState()) &#125; &#125; observeState() const unsubscribe = outerSubscribe(observeState) return &#123; unsubscribe &#125; &#125;, [$$observable]() &#123; return this &#125; &#125; &#125;&#125; Â¶ÇÊûúÁõ¥Êé•Ë∞ÉÁî®Ëøô‰∏™Êé•Âè£ÔºåÂÆÉ‰ºöËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËÄåÂØπË±°ÈáåÈù¢ÂåÖÂê´‰∫ÜsubscribeÊñπÊ≥ïÔºåÂπ∂‰∏îÊàë‰ª¨ÂèØ‰ª•Êää‰∏Ä‰∏™ÂåÖÂê´nextÂ≠óÊÆµ(ÂÆÉÊòØ‰∏Ä‰∏™ÂáΩÊï∞)ÁöÑÂØπË±°‰Ωú‰∏∫subscribeÊñπÊ≥ïÁöÑÂèÇÊï∞ÔºåÂ∞±ÂèØ‰ª•Âú®ÊØèÊ¨°Êï∞ÊçÆÂèòÂä®ÁöÑÊó∂ÂÄô‰ª•ÂΩìÂâçÁä∂ÊÄÅgetState()‰Ωú‰∏∫ÂèÇÊï∞Ë∞ÉÁî®nextÊâÄÊê∫Â∏¶ÁöÑÂáΩÊï∞„ÄÇ Ëøô‰πàËØ¥ÊúâÁÇπÊãóÂè£ÔºåÂèØËÉΩÁªô‰∏™‰æãÂ≠ê‰ºöÊØîËæÉÁõ¥ËßÇ 1234567891011import $$observable from &apos;symbol-observable&apos;......const store = createStore(reducer)const subObject = store[$$observable]()subObject.subscribe(&#123; next: (a) =&gt; &#123; console.log(a) &#125;&#125;) ËøôÊ†∑Â∞±ÂèØ‰ª•ÂÅöÂà∞ÊØèÊ¨°Âä®‰ΩúË¢´ÂàÜÂèëÁöÑÊó∂ÂÄôÈÉΩ‰ºöË∞ÉÁî®nextÊâÄÊê∫Â∏¶ÁöÑÊñπÊ≥ïÔºåÂπ∂ÊâìÂç∞Âá∫getState()ÁöÑÂÄº„ÄÇËøôÁßçËßÇÂØüËÄÖÊ®°ÂºèÁöÑÂÜôÊ≥ïÊúâ‰ªÄ‰πàÁâπÊÆäÁöÑÊÑè‰πâÊàë‰πüËøòÊ≤°ÊúâÊó∂Èó¥ÂéªÊ∑±Á©∂Ôºå‰ºº‰πéÊòØËçâÊ°àÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰º∞ËÆ°ÁõÆÂâçÁî®ÁöÑ‰πü‰∏çÂ§öÔºåÂÖà‰∏çÊ∑±ÂÖ•Êé¢Á©∂‰∫Ü„ÄÇ 1. ‰∏≠Èó¥‰ª∂‰∏≠Èó¥‰ª∂Ëøô‰∏™Ê¶ÇÂøµÂ≠òÂú®‰∫éËÆ∏Â§öÊµÅË°åÁöÑWebÊ°ÜÊû∂‰∏≠ÔºåÂèØ‰ª•ÊääÂÆÉÊÉ≥Ë±°ÊàêÊòØËØ∑Ê±Ç/ÂìçÂ∫îÂàÜÂèëÁöÑ‰∏≠Èó¥Â±ÇÔºåÁî®‰∫éÂØπËØ∑Ê±Ç/ÂìçÂ∫îÂÅöËøõ‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜÔºåËÄåÊó†ÈúÄÊîπÂèòÂéüÊúâÁöÑ‰ª£Á†ÅÈÄªËæë„ÄÇÂú®node.jsÁ§æÂå∫ÁöÑKOAËΩªÈáèÁ∫ßÊ°ÜÊû∂ÂæàÂá∫Ëâ≤Âú∞‰ΩìÁé∞‰∫ÜËøô‰∏ÄÁÇπ(ÂΩìÁÑ∂ÂÆÉËÇØÂÆö‰∏çÊòØÁ¨¨‰∏Ä‰∏™ËøôÊ†∑Âπ≤ÁöÑ‰∫∫)„ÄÇkoaÊú¨Ë∫´Âè™Êèê‰æõ‰∫ÜÊúÄÂü∫Á°ÄÁöÑËØ∑Ê±Ç/ÂìçÂ∫îÂäüËÉΩÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÊõ¥Âº∫Â§ßÁöÑÂäüËÉΩ(ÊØîÂ¶ÇËØ¥Êó•ÂøóÔºåÊó∂Èó¥ËÆ∞ÂΩïÁ≠âÂäüËÉΩ)ÂàôÈúÄË¶ÅËá™Â∑±Ê∑ªÂä†Áõ∏Â∫îÁöÑ‰∏≠Èó¥‰ª∂„ÄÇ ReduxÁªßÊâø‰∫ÜËøô‰∏ÄÁêÜÂøµÔºåÂÆÉÊää‰∏≠Èó¥‰ª∂Â∫îÁî®Âà∞‰∫ÜdispatchÊñπÊ≥ïÁöÑÊâ©Â±ï‰∏≠ÔºåËÆ©Êàë‰ª¨ÂèØ‰ª•‰ºòÈõÖÂú∞Êâ©Â±ïdispatchÊñπÊ≥ïÔºåËÄå‰∏çÈúÄË¶ÅÈáçÂÜôÂéüÊúâÁöÑdispatchÊñπÊ≥ïÔºåÊé•‰∏ãÊù•Êàë‰ª¨Â•ΩÂ•Ω‰Ωì‰ºö‰∏Ä‰∏ãÂÆÉÁöÑÁ≤æÂ¶ô‰πãÂ§Ñ„ÄÇ 2. ‰∏≠Èó¥‰ª∂Âú®Redux‰∏≠ÁöÑÂ∫îÁî®Âú®ÂàÜÊûêÊ∫êÁ†Å‰πãÂâçÂÖàÊù•ÁúãÁúãÂú®ReduxÈáåÈù¢Â¶Ç‰Ωï‰ΩøÁî®‰∏≠Èó¥‰ª∂ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊòØapplyMiddlewareËøô‰∏™ÊñπÊ≥ï1234567891011121314import &#123; createStore, applyMiddleware &#125; from &apos;redux&apos;// Add thunkimport thunk from &apos;redux-thunk&apos;import logger from &apos;redux-logger&apos;const reducer = (state) =&gt; statelet newCreateStore = applyMiddleware( logger, thunk)(createStore)// ÂàõÂª∫storeÔºåÊï∞ÊçÆ‰∏≠ÂøÉlet store = newCreateStore(reducer) ÂÖ∂‰∏≠thunkË∑üloggerÂ∞±ÊòØÊàë‰ª¨ÊèêÂà∞ÁöÑ‰∏≠Èó¥‰ª∂Ôºå‰æùÊ¨°ÊääÂÆÉ‰ª¨‰º†ÂÖ•applyMiddlewareÂáΩÊï∞‰∏≠ÔºåÂ∞±‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÁÑ∂ÂêéÂÜçÁî®Ëøô‰∏™ÂáΩÊï∞Â§ÑÁêÜÂéüÂßãÁöÑcreateStoreÊñπÊ≥ïÂ∞±‰ºöËøîÂõû‰∏Ä‰∏™Â¢ûÂº∫ËøáÁöÑcreateStoreÊñπÊ≥ï„ÄÇ Âè¶Â§ñÔºåËøòËÆ∞ÂæócreateStoreÂáΩÊï∞ÂèØ‰ª•Êé•Êî∂enhancerËøô‰∏™ÂèÇÊï∞‰∏çÔºüÂÖ∂ÂÆûapplyMiddlewareËøô‰∏™ÊñπÊ≥ïÁªèËøáË∞ÉÁî®ÂêéÊâÄÂæóÂà∞ÁöÑÂ∞±ÊòØ‰∏Ä‰∏™Â¢ûÂº∫Âô®„ÄÇ‰∏∫Ê≠§Êàë‰ª¨ËøòÂèØ‰ª•ËøôÊ†∑Ë∞ÉÁî®createStoreÔºåÂπ∂ÁîüÊàêstore„ÄÇ1234567....let enhancer = applyMiddleware( logger, thunk)let store = createStore(reducer, enhancer) ËøôÁßçÂÅöÊ≥ïË∑üÂâçÈù¢ÁöÑÊâ©Â±ïÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ 3. Ê∫êÁ†ÅÂàÜÊûê1) ‰∏≠Èó¥‰ª∂ÂéüÁêÜÂú®Ê∫êÁ†ÅÂàÜÊûê‰πãÂâçÔºåÂÖà‰∏æ‰∏™‰æãÂ≠êÊù•ÁúãÁúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰∏≠Èó¥‰ª∂ÂÜÖÈÉ®Â∫îËØ•ÊòØ‰ªÄ‰πàÊ†∑Â≠êÁöÑÔºåÊàëÂàÜÂà´ÂÆö‰πâmiddleware1Ôºåmiddleware2‰∏§‰∏™‰∏≠Èó¥‰ª∂(‰ªñ‰ª¨Êú¨Ë¥®ÊòØÈ´òÈò∂ÂáΩÊï∞)ÔºåÂπ∂Áî®Êù•Êâ©Â±ïoriginDispatchÂáΩÊï∞ let originDispatch = (...args) =&gt; { console.log(...args) } const middleware1 = (dispatch) =&gt; { return(...args) =&gt; { console.log(&apos;middleware1 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware1 after dispatch&apos;) } } const middleware2 = (dispatch) =&gt; { return(...args) =&gt; { console.log(&apos;middleware2 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware2 before dispatch&apos;) } } originDispatch = middleware2(middleware1(originDispatch)) originDispatch(&apos;ruby&apos;, &apos;cool&apos;, &apos;language&apos;) ÁªìÊûúÂ¶Ç‰∏ã middleware2 before dispatch middleware1 before dispatch ruby cool language middleware1 after dispatch middleware2 before dispatch ÊòØ‰∏çÊòØËøêË°åËøáÁ®ãÊòØ‰∏çÊòØÊúâÁÇπÂÉèÊ¥ãËë±ÔºüÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏≠Èó¥‰ª∂Êù•ÂØπÂéüÊúâÁöÑÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â¢ûÂº∫‰∫ÜÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÂÜçÁî®Âè¶‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Êù•ÂØπËøô‰∏™Â∑≤ÁªèÂ¢ûÂº∫ËøáÁöÑÊñπÊ≥ïÂÜçËøõ‰∏ÄÊ≠•Â¢ûÂº∫ÔºåÊ®°ÂûãÁ§∫ÊÑèÂõæÂ¶Ç‰∏ã 2) compose‚ÄìÊñπÊ≥ïÂ∞ÅÈìæËæÖÂä©ÂáΩÊï∞‰ªé‰∏äÈù¢ÁöÑÊ¥ãËë±Ê®°ÂûãÂèØ‰ª•ÁúãÂá∫Êàë‰ª¨Â¶ÇÊûúË¶ÅÂ¢ûÂº∫‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂÆÉÁöÑÊ≠•È™§Â¶Ç‰∏ã newFunc = f1(f2(func)) ÂèØ‰ª•ÁÆÄÂçïÂú∞Êääf1,f2ÁêÜËß£ÊàêÊàë‰ª¨ÈúÄË¶ÅÂêÑËá™ÂÆö‰πâÁöÑ‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºåÁÑ∂ËÄåÂ¶ÇÊûúÊàë‰ª¨ÊØèÊ¨°ÈÉΩË¶ÅÊâãÂä®Ë∞ÉÁî®Ëøô‰∫õÊñπÊ≥ïÁöÑËØù‰ºº‰πéÂπ∂‰∏çÂ§™‰ºòÈõÖÔºåËøô‰∏™Êó∂ÂÄôÂèØ‰ª•‰ΩøÁî®composeÂáΩÊï∞Êù•ÂÆåÊàêËøôÁßç‰∫ãÊÉÖ„ÄÇ composeÂú®‰∏≠ÊñáÈáåÈù¢ÊòØÁªÑÂêàÁöÑÊÑèÊÄùÔºåReduxÊâÄÂÆö‰πâÁöÑcomposeÂáΩÊï∞ÂèØ‰ª•ÊääÂáΩÊï∞ÁöÑÂèÇÊï∞ÂàóË°®ÊûÑÈÄ†Êàê‰æùÊ¨°Ë∞ÉÁî®ÁöÑÂΩ¢ÂºèÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞„ÄÇÂÆÉÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ã export default functioncompose(...funcs) { ... // ‰ª•‰∏äÈÉΩÊòØÂà§Êñ≠ return funcs.reduce((a, b) =&gt; (...args) =&gt; a(b(...args))) } ÊñáÂ≠óËß£ÈáäÂèØËÉΩËøò‰∏çÂ¶ÇÊµÅÁ®ãÂõæÊù•ÂæóÁõ¥ËßÇÔºå‰∏ãÈù¢ÁÆÄÂçïÂú∞ÂàÜÊûê‰∏Ä‰∏ãcompose(f1, f2, f3, f4)ÁöÑË∞ÉÁî®ËøáÁ®ã a: f1, b: f2, return: (...args) =&gt; f1(f2(...args)) a: (...args) =&gt; f1(f2(...args)), b: f3, return: (...args) =&gt; f1(f2(f3(...args))) a: (...args) =&gt; f1(f2(f3(...args))), b: f4, return: (...args) =&gt; f1(f2(f3(f4(...args)))) ÊääËøô‰∏™ÊñπÊ≥ïÂ∫îÁî®Âú®ÊúÄÂàùÁöÑ‰æãÂ≠ê‰∏≠ &gt; newfunc = compose(middleware2, middleware1)(originDispatch) [Function] &gt; newfunc(&apos;node&apos;, &apos;good&apos;, &apos;languate&apos;) middleware2 before dispatch middleware1 before dispatch node good languate middleware1 after dispatch middleware2 before dispatch ÁªìÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËÄå‰∏î‰ªéËøô‰∏™‰æãÂ≠êËøòÂèØ‰ª•ÁúãÂá∫Âú®composeÂáΩÊï∞ÁöÑÂèÇÊï∞ÂàóË°®‰∏≠Ë∂äÈù†ÂêéÁöÑÂáΩÊï∞ÔºåÂú®ÊûÑÈÄ†ÂÆåÊàê‰πãÂêéÔºåË∑ùÁ¶ªÂéüÂßãÂáΩÊï∞Â∞±Ë∂äËøë„ÄÇ 3) applyMiddleware‚ÄìÊî∂ÈõÜ‰∏≠Èó¥‰ª∂ÔºåÊâ©Â±ïcreateStoreapplyMiddleware.jsËøô‰∏™Êñá‰ª∂ÈáåÈù¢Â∞±ÂåÖÂê´ÁùÄÂÆÉÁöÑÊ∫êÁ†Å export default function applyMiddleware(...middlewares) { return createStore =&gt; (...args) =&gt; { const store = createStore(...args) let dispatch = () =&gt; { throw new Error( `Dispatching while constructing your middleware is not allowed. ` + `Other middleware would not be applied to this dispatch.` ) } const middlewareAPI = { getState: store.getState, dispatch: (...args) =&gt; dispatch(...args) } // #1 ‰∏≠Èó¥‰ª∂Â∫îËØ•Êé•Êî∂store const chain = middlewares.map(middleware =&gt; middleware(middlewareAPI)) // #2 ËøîÂõûÁöÑÂáΩÊï∞Áî®‰∫éÂ§ÑÁêÜdispatchÂáΩÊï∞ dispatch = compose(...chain)(store.dispatch) // #3 ÊõøÊç¢dispatchreturn { ...store, dispatch } } } ‰ª£Á†ÅÁâáÊÆµ#2‰∏≠Êàë‰ª¨‰º†ÂÖ•composeÂáΩÊï∞ÈáåÁöÑÊâÄÊúâÂáΩÊï∞ÈÉΩÊòØÁî®‰∫éÊâ©Â±ïdispatchÁöÑÔºåËøô‰∫õÂáΩÊï∞‰ºöË¢´ÂÆö‰πâ‰∏∫ËøôÁßçÂΩ¢Âºè (dispatch) =&gt; { return function(...args) { // do something before dispatch(...args) // do something after } } Ëøô‰∫õÂáΩÊï∞‰ºöÊé•Êî∂‰∏Ä‰∏™dispatchÊñπÊ≥ï‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â¢ûÂº∫ÁöÑdispatchÊñπÊ≥ï„ÄÇÁÑ∂ËÄåÊàë‰ª¨ÈúÄË¶ÅÁºñÂÜôÁöÑ‰∏≠Èó¥‰ª∂Âç¥‰∏ç‰ªÖÂ¶ÇÊ≠§ÔºåÊé•‰∏ãÊù•ÂÜçÁúãÁúã‰ª£Á†ÅÁâáÊÆµ#1Ôºå‰ª•ÂèäÁõ∏ÂÖ≥ÁöÑ‰∏ä‰∏ãÊñáÈÄªËæë export default function applyMiddleware(...middlewares) { .... const middlewareAPI = { getState: store.getState, dispatch: (...args) =&gt; dispatch(...args) } // #1 ‰∏≠Èó¥‰ª∂Â∫îËØ•Êé•Êî∂store const chain = middlewares.map(middleware =&gt; middleware(middlewareAPI)) // #2 ËøîÂõûÁöÑÂáΩÊï∞Áî®‰∫éÂ§ÑÁêÜdispatchÂáΩÊï∞ dispatch = compose(...chain)(store.dispatch) ... } Êàë‰ª¨ÈÄöËøámapÊñπÊ≥ïÊù•Â§ÑÁêÜapplyMiddlewareÊâÄÊé•Êî∂ÁöÑÊâÄÊúâ‰∏≠Èó¥‰ª∂ÔºåËÆ©‰ªñ‰ª¨ÂàÜÂà´‰ª•middlewareAPIËøô‰∏™ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞Ë∞ÉÁî®ËøáÂêé‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÂàóË°®ÔºåËÄåËøô‰∏™ÂáΩÊï∞ÂàóË°®ÊâçÊòØÁúüÊ≠£Áî®Êù•Â¢ûÂº∫dispatchÁöÑ„ÄÇ middlewareAPIÊòØ‰ªÖ‰ªÖÂåÖÂê´‰∫ÜgetState‰∏édispatchËøô‰∏§‰∏™Â≠óÊÆµÁöÑÂØπË±°ÔºåÂèØ‰ª•ÊääÂÆÉÁúãÊàêÊòØ‰∏Ä‰∏™Á≤æÁÆÄÁâàÁöÑstore„ÄÇÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁºñÂÜôÁöÑ‰∏≠Èó¥‰ª∂Â∫îËØ•ÊòØ‰ª•store‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂‰∏îËøîÂõû‰∏Ä‰∏™Áî®‰∫éÂ¢ûÂº∫dispatchÊñπÊ≥ïÁöÑÂáΩÊï∞ÔºåËÄåËøô‰∏™storeÊàë‰ª¨Âè™ËÉΩÂ§ü‰ΩøÁî®getStateÔºådispatchËøô‰∏§‰∏™Êé•Âè£„ÄÇÂê¨Ëµ∑Êù•ÊúâÁÇπÊãóÂè£Ôºå‰∏ãÈù¢Êàë‰ª¨Ëá™Ë°åÁºñÂÜô‰∏Ä‰∏™Áî®‰∫éÊâìÂç∞Áä∂ÊÄÅÊó•ÂøóÁöÑ‰∏≠Èó¥‰ª∂„ÄÇ const Logger = (store) =&gt; (dispatch) =&gt; { return function(...args) { const wrappedDispatch = store.dispatch const getState = store.getState console.log(&apos;before dispatch&apos;, getState()) dispatch(...args) console.log(&apos;after dispatch&apos;, getState()) console.info(dispatch) console.info(wrappedDispatch) } } ÂÖ∂‰∏≠dispatch‰∏éwrappedDispatchÊâÄÊåá‰ª£ÁöÑÂàÜÂèëÊñπÊ≥ïÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ dispatchÊòØ‰ªéÂèÇÊï∞‰∏≠‰º†ÂÖ•ÔºåÂ¶ÇÊûúÂΩìÂâç‰∏≠Èó¥‰ª∂ÊòØÁ¨¨‰∏Ä‰∏™ÂØπdispatchÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÂàôÂΩìÂâçÁöÑdispatchÊâÄÊåáÂêëÁöÑÂ∞±ÊòØReduxÂéüÁîüÂÆö‰πâÁöÑdispatchÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂΩìÂâç‰∏≠Èó¥‰ª∂ÂâçÈù¢Â∑≤ÁªèÊúâËã•Âπ≤‰∏≠Èó¥‰ª∂ÁöÑË∞ÉÁî®ÔºåÂàôÂΩìÂâçdispatchÊâÄÊåá‰ª£ÁöÑÊòØÁªèËøáÂâçÈù¢‰∏≠Èó¥‰ª∂Âä†Âº∫ËøáÁöÑÊñ∞ÁöÑdispatchÊñπÊ≥ï„ÄÇÊàë‰ª¨ÂèØ‰ª•Êù•È™åËØÅ‰∏Ä‰∏ã let enhancer = applyMiddleware( Logger, // Êàë‰ª¨Ëá™Â∑±ÁºñÂÜôÁöÑLogger thunk ) dispatchÁöÑÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏ã ∆í(action) { if (typeof action === &apos;function&apos;) { return action(dispatch, getState, extraArgument); } return next(action); } ÂèØËßÅÔºåËøôÊòØ‰∏Ä‰∏™ÁªèËøáthunk‰∏≠Èó¥‰ª∂Â§ÑÁêÜÂêéËøîÂõûÁöÑÊñπÊ≥ï„ÄÇ wrappedDispatchÂõ†‰∏∫ÂåøÂêçÂáΩÊï∞(...args) =&gt; dispatch(...args)ÁöÑÂÖ≥Á≥ªÔºåÂú®applyMiddlewareÂáΩÊï∞ËøêË°åÂÆåÊàêÂπ∂ËøîÂõû‰πãÂêéÔºåÂåøÂêçÂáΩÊï∞ÂÜÖÈÉ®ÁöÑdispatch‰ºöÂßãÁªàÊåáÂêëÁªèËøáÊàë‰ª¨Â¢ûÂº∫ÁöÑdispatchÊñπÊ≥ï„ÄÇ‰πüÂ∞±ÊòØËØ¥Âú®‰∏≠Èó¥‰ª∂ÈáåÈù¢ÊâßË°åstore.dispatchÂ∞±‰ºöÂßãÁªàËøêË°åÊúÄÂ§ñÂ±ÇÁöÑË¢´Â¢ûÂº∫ËøáÁöÑdispatchÊñπÊ≥ï„ÄÇÊ®°ÂûãÂ¶Ç‰∏ãwrappedDispatchÊâìÂç∞ÁªìÊûúËôΩÁÑ∂Áúã‰∏çÂá∫‰ªÄ‰πàÔºå‰ΩÜÊàë‰πüÈ°∫ÊâãË¥¥‰∏Ä‰∏ãÂêß ∆í dispatch() { return _dispatch.apply(undefined, arguments); } Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÁúãapplyMiddlewareÁöÑËøîÂõûÂÄºÔºåÂÆÉ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰ºö‰ª•createStore‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂ§ÑÁêÜËøáÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑcreateStoreÊñπÊ≥ïÔºåÂÆÉÁöÑÊ®°ÂºèÂ§ßÊ¶ÇÊòØËøôÊ†∑Â≠ê (createStore) =&gt; (...args) =&gt; { // createStoreÊñπÊ≥ïÁî®Êù•ÂàõÂª∫store return { ... getState: ... dispatch: ... } } ËÄåÂú®applyMiddleware‰∏≠ÂÆûÈôÖ‰∏äÊàë‰ª¨Âè™ÈúÄË¶ÅÂ¢ûÂº∫dispatchÊñπÊ≥ïÔºå‰∏∫Ê≠§Êàë‰ª¨Âè™ÈúÄË¶ÅÁî®Êñ∞ÁöÑdispatchÊñπÊ≥ïÊù•ÊõøÊç¢ÂéüÊù•ÁöÑ‰æøÂèØ„ÄÇ‰ª£Á†ÅÁâáÊÆµ#3Â∞±ÊòØÁî®Êñ∞ÁöÑdispatchÊñπÊ≥ïÂèñ‰ª£ÂéüÊù•store‰∏≠ÁöÑdispatchÊñπÊ≥ï„ÄÇ .... return { ...store, dispatch } .... 1. Ê®°ÂùóÂåñreducerÊàë‰ª¨ÂÜô‰ª£Á†ÅÁöÑÊó∂ÂÄô‰πüÊúâËøôÁßçÊÉÖÂÜµÂΩì‰∏Ä‰∏™Êñá‰ª∂ÂåÖÂê´ÁöÑ‰ª£Á†ÅÂ§™Â§öÁöÑÊó∂ÂÄôÊàë‰ª¨‰ºöËÄÉËôëÊåâÈÄªËæëÊääÂÆÉ‰ª¨ÊãÜÂàÜÊàêÂá†‰∏™Ê®°ÂùóÔºåËÄåÂΩìÊàë‰ª¨ÈÅáÂà∞‰∏Ä‰∫õÁªÜÁ≤íÂ∫¶ÂêåÁ±ªÊ®°ÂùóÁöÑÈõÜÂêàÊó∂ÔºåÂàô‰ºöËÄÉËôëÊää‰ªñ‰ª¨Ê±áÊÄª‰∏∫‰∏Ä‰∏™ÁöÑÊ®°Âùó„ÄÇËá≥‰∫é‰ªÄ‰πàÊó∂ÂÄôËØ•ÊãÜÔºå‰ªÄ‰πàÊó∂ÂÄôËØ•ÂêàÔºåÂèØËÉΩ‰∏çÂêåÁöÑÈ¢ÜÂüüËá™ÊúâÂÆÉÁöÑÊùÉË°°ÊñπÂºè„ÄÇ ‰ªäÂ§©‰∏ªË¶ÅË∞àË∞àReduxÈáåÈù¢Â¶Ç‰ΩïÊ®°ÂùóÂåñÁÆ°ÁêÜÂ§ö‰∏™reducerÂáΩÊï∞„ÄÇÂú®ReduxÂ∫îÁî®ÈáåreducerÂáΩÊï∞ÂèØ‰ª•ÁêÜËß£Êàê‰∏Ä‰∏™Â§ÑÁêÜÁä∂ÊÄÅÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Áä∂ÊÄÅÔºå‰ª•Âèä‰∏Ä‰∏™Âä®‰ΩúÔºåÂ§ÑÁêÜ‰πãÂêéËøîÂõû‰∏Ä‰∏™Êõ¥Êñ∞ÂêéÁöÑÁä∂ÊÄÅ„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑreducerÂáΩÊï∞Â§ßÊ¶ÇÂ¶Ç‰∏ã function reducerExample(state={}, action) { switch (action.type) { case&apos;INCREMENT&apos;: return Object.assign({}, state, {counter: state.counter + 1}) case&apos;DECREMENT&apos;: return Object.assign({}, state, {counter: state.counter - 1}) default: return state } } ÁÑ∂ËÄåËøô‰∏™ÂáΩÊï∞ÊâÄÂåÖÂê´ÁöÑÈÄªËæë‰ªÖ‰ªÖÊòØÂØπÁä∂ÊÄÅÁöÑcounterÂ≠óÊÆµËøõË°åÂä†‰∏Ä‰ª•ÂèäÂáè‰∏ÄÊìç‰Ωú„ÄÇReduxÊòØÊï∞ÊçÆ‰∏≠ÂøÉÔºåÂÆÉÊâÄÁÆ°ÁêÜÁöÑÁä∂ÊÄÅÂèØËÉΩ‰ºöÂåÖÂê´ÂæàÂ§ö‰∏™Â≠óÊÆµÔºåÂΩìÂ≠óÊÆµÁõ∏ÂΩìÂ§öÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®reducerExampleÂáΩÊï∞‰∏≠ÂÆö‰πâÁöÑÊìç‰Ωú‰πü‰ºöÊ∏êÊ∏êÂ§öËµ∑Êù• function reducerExample(state={}, action) { switch (action.type) { case&apos;INCREMENT&apos;: return Object.assign({}, state, {counter: state.counter + 1}) case&apos;DECREMENT&apos;: return Object.assign({}, state, {counter: state.counter - 1}) case&apos;MULTI&apos;: return Object.assign({}, state, {otherCounter: state.otherCounter * 2}) .... // Ê≠§Â§ÑÁúÅÁï•100Ë°å‰ª£Á†Å .... default: return state } } ÈöèÁùÄÁä∂ÊÄÅË∂äÊù•Ë∂äÂ§öÔºåÊìç‰ΩúÂáΩÊï∞‰πüÂ∞Ü‰ºöË∂äÊù•Ë∂äÂ§çÊùÇÔºåÂçï‰∏ÄÁöÑreducerÂáΩÊï∞Âπ∂ÈùûÈïø‰πÖ‰πãËÆ°„ÄÇËøô‰πüÊòØRedux‰∏∫‰ΩïÊèê‰æõcombineReducersÁöÑÂéüÂõ†ÔºåÂÆÉ‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•‰ª•Ê®°ÂùóÁöÑÊñπÂºèÊù•ÁÆ°ÁêÜÂ§ö‰∏™reducerÂáΩÊï∞„ÄÇ ÁÆÄÂçïËÆ≤Ëß£ËØ•ÂáΩÊï∞ÁöÑ‰ΩøÁî®ÔºåÂÅáËÆæReduxÁÆ°ÁêÜÁöÑÂ∫îÁî®Áä∂ÊÄÅÂ¶Ç‰∏ã { counter: 0, article: { title: &quot;&quot;, content: &quot;&quot; } } ÂàôÊàë‰ª¨ÂèØ‰ª•ÂàÜÂà´ÂÆö‰πâ‰∏§‰∏™reducerÂáΩÊï∞counterReducer‰∏éarticleReducer function counterReducer(counter=0, action) { ... } function articleReducer(article={}, action) { ... } Âú®counterReducerÈáåÈù¢Âè™ÂÆö‰πâ‰∏écounterÂ≠óÊÆµÊúâÂÖ≥ÁöÑÊï∞ÊçÆÊìç‰ΩúÔºåËÄåÂú®articleReducerÈáåÈù¢Âè™ÂÆö‰πâ‰∏éarticleÂ≠óÊÆµÊúâÂÖ≥ÁöÑÊï∞ÊçÆÊìç‰ΩúÔºåÊúÄÂêéÈÄöËøácombineReducersÊù•ÂêàÂπ∂‰∏§‰∏™reducerÂáΩÊï∞ÔºåÂπ∂ÁîüÊàêÊñ∞ÁöÑÂáΩÊï∞reducerÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊääËøô‰∏™Êñ∞ÁöÑÂáΩÊï∞reducer‰∏éÁ≥ªÁªüËøõË°åÈõÜÊàêÂç≥ÂèØ„ÄÇ const reducer = combineReducers({ counter: counterReducer, article: articleReducer }) Êàë‰ª¨ÁîöËá≥ÂèØ‰ª•ÊääcounterReducer‰∏éarticleReducer‰∏§‰∏™ÂáΩÊï∞ÊîæÂú®‰∏çÂêåÁöÑÊñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÂú®Âêå‰∏Ä‰∏™Âú∞ÊñπÊ±áÊÄª(ÈÄöËøácombineReducers)„ÄÇÂΩìÊàë‰ª¨ÂàÜÂèëÊåáÂÆöÁöÑÂä®‰Ωú‰πãÂêéÂè™ÊúâÂÆö‰πâ‰∫ÜËØ•Âä®‰ΩúÁöÑÂáΩÊï∞‰ºöÊîπÂèòÂÆÉÊâÄÂØπÂ∫îÂ≠óÊÆµÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ„ÄÇ 2. Ê∫êÁ†ÅÂàÜÊûêÊé•‰∏ãÊù•ÂàÜÊûê‰∏Ä‰∏ãcombineReducersÂáΩÊï∞ÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇcombineReducers.jsËøô‰∏™Êñá‰ª∂‰ª£Á†ÅÂä†Ê≥®ÈáäÂ§ßÊ¶Ç100Â§öË°åÔºåÁÑ∂ËÄåÊàë‰ª¨ÁúüÊ≠£ÈúÄË¶Å‰∫ÜËß£ÁöÑÊ†∏ÂøÉÂ∞±‰ªÖ‰ªÖÊòØËØ•ËÑöÊú¨‰∏≠ÈúÄË¶ÅÂØºÂá∫ÁöÑcombineReducersËøô‰∏™ÂáΩÊï∞ÔºåÂÖ∂‰ªñ‰ª£Á†ÅÂ§ßÂ§öÊòØÁî®‰∫éÊñ≠Ë®ÄÔºåÊöÇ‰∏îÁï•Ëøá‰∏çË∞à„ÄÇ 1) Êî∂ÈõÜreducersÊàë‰ª¨ÈÉΩÁü•ÈÅìÂáΩÊï∞Êé•Êî∂ÂØπË±°ÁöÑÊØè‰∏™ÈîÆÊâÄÂØπÂ∫îÁöÑÂÄºÈÉΩÂ∫îËØ•ÊòØ‰∏Ä‰∏™ÂèØ‰ª•Áî®‰∫éÊîπÂèòÁä∂ÊÄÅÁöÑreducerÂáΩÊï∞Ôºå‰∏∫Ê≠§Êàë‰ª¨‰ºöÂÖàÈÅçÂéÜcombineReducersÂáΩÊï∞ÊâÄÊé•Êî∂ÁöÑÂØπË±°ÔºåÊéíÈô§ÂÖ∂‰∏≠‰∏çÊòØÂáΩÊï∞ÁöÑÂ≠óÊÆµ„ÄÇ export default function combineReducers(reducers) { const reducerKeys = Object.keys(reducers) const finalReducers = {} for (let i = 0; i &lt; reducerKeys.length; i++) { // #1 const key = reducerKeys[i] .... if (typeof reducers[key] === &apos;function&apos;) { // #2 finalReducers[key] = reducers[key] } } ...... } ‰ª£Á†ÅÁâáÊÆµ#1ÈÅçÂéÜÂáΩÊï∞Êé•Êî∂ÁöÑÂØπË±°ÁöÑÊâÄÊúâÈîÆÔºå‰ª£Á†ÅÁâáÊÆµ#2Âà§Êñ≠ËØ•ÈîÆÂú®ÂéüÂØπË±°‰∏≠ÊåáÂêëÁöÑÂÜÖÂÆπÊòØÂê¶ÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇÂ¶ÇÊûúÊòØÂáΩÊï∞ÁöÑËØùÔºåÂàôÊääËØ•ÂáΩÊï∞‰ª•ÂêåÊ†∑ÁöÑÈîÆÂ≠òÂÇ®Âà∞finalReducersËøô‰∏™ÂØπË±°‰∏≠ÔºåÁ≠âÂæ™ÁéØÁªìÊùü‰ª•ÂêéfinalReducersÂØπË±°ÁöÑÊØè‰∏Ä‰∏™ÈîÆÊâÄÂØπÂ∫îÁöÑÂÄºÂàôÈÉΩÊòØ‰∏Ä‰∏™ÂáΩÊï∞‰∫Ü„ÄÇ 2) ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑreducerÂáΩÊï∞combineReducersÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™reducerÂáΩÊï∞ÁöÑÂ∑•ÂéÇÔºåÂú®Êî∂ÈõÜ‰∏çÂêåÊ®°ÂùóÁöÑreducerÂáΩÊï∞‰πãÂêéÔºåÂÆÉÁöÑË¥£‰ªªÂ∞±ÊòØËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑreducerÔºåËÄåËøô‰∏™Êñ∞ÁöÑreducerÂáΩÊï∞ËÉΩÂ§üË∞ÉÂ∫¶ÂÖàÂâçÊî∂ÈõÜÁöÑÊâÄÊúâreducer„ÄÇÊàëÊääÂêéÁª≠Ê∫êÁ†Å‰∏≠ÁöÑÊñ≠Ë®ÄÈÉΩÂéªÊéâ‰πãÂêéÂ∞±Ââ©‰∏ã‰∏ãÂàó‰ª£Á†Å export default function combineReducers(reducers) { ... const finalReducerKeys = Object.keys(finalReducers) // # 1 return function combination(state = {}, action) { ..... let hasChanged = false const nextState = {} for (let i = 0; i &lt; finalReducerKeys.length; i++) { const key = finalReducerKeys[i] const reducer = finalReducers[key] // #2 const previousStateForKey = state[key] // #3 const nextStateForKey = reducer(previousStateForKey, action) // #4 .... nextState[key] = nextStateForKey hasChanged = hasChanged || nextStateForKey !== previousStateForKey } return hasChanged ? nextState : state } } È¶ñÂÖà‰ºöÂú®‰ª£Á†ÅÁâáÊÆµ#1Ëé∑ÂèñÂÖàÂâçËøáÊª§Â•ΩÁöÑfinalReducersÂØπË±°ÁöÑÊâÄÊúâÈîÆÔºåÂπ∂Â≠òÂÇ®Âà∞finalReducerKeys‰∏≠„ÄÇÁÑ∂ÂêéÂΩìÂâçÂáΩÊï∞‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑreducerÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ËÉΩÂ§üËÆøÈóÆfinalReducersÂΩ¢Êàê‰∏Ä‰∏™Èó≠ÂåÖ„ÄÇ ÂΩìË∞ÉÁî®Ëøô‰∏™Êñ∞ÁöÑreducerÂáΩÊï∞ÁöÑÊó∂ÔºåÂÆÉ‰ºöÈÅçÂéÜfinalReducerKeysËøô‰∏™Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÈîÆÔºåÂú®‰ª£Á†Å#2Â§ÑËé∑ÂèñÂΩìÂâçÈîÆÊâÄÂØπÂ∫îÁöÑreducerÂáΩÊï∞Âπ∂Â≠òÂÇ®Âà∞Â∏∏ÈáèreducerÔºåÁÑ∂ÂêéÂú®‰ª£Á†Å#3Â§ÑËé∑ÂèñÂΩìÂâçÈîÆÊâÄÂØπÂ∫îÁöÑÁä∂ÊÄÅpreviousStateForKey„ÄÇ Êé•‰∏ãÊù•Âú®‰ª£Á†Å#4Â§Ñ‰ª•ÂΩìÂâçÁä∂ÊÄÅpreviousStateForKey‰ª•Âèäaction‰Ωú‰∏∫ÂèÇÊï∞Êù•Ë∞ÉÁî®reducerÂáΩÊï∞ÔºåËøîÂõûËØ•ÈîÆÊâÄÂØπÂ∫îÁöÑÊñ∞Áä∂ÊÄÅnextStateForKey„ÄÇÂú®ÊØèÊ¨°Ëø≠‰ª£‰∏≠ÈÉΩ‰ºöÊääÂΩìÂâçÈîÆkey‰Ωú‰∏∫Â≠óÊÆµÔºåÊääÊñ∞ÁöÑÁä∂ÊÄÅÂ≠òÂÇ®Âà∞nextStateËøô‰∏™ÂØπË±°‰∏≠ÂéªÔºåÂæ™ÁéØÁªìÊùü‰πãÂêéÔºåÊàë‰ª¨Â∞±ËÉΩÂ§ü‰øùËØÅactionË¢´ÂÖÖÂàÜË∞ÉÂ∫¶‰∫Ü„ÄÇ Âè¶Â§ñÔºåËøòËÆ∞ÂæóÂí±Èó®ÁºñÂÜôreducerÂáΩÊï∞ÁöÑÊó∂ÂÄô‰ºöÁªèÂ∏∏‰ΩøÁî®ËøôÁßçËØ≠Ê≥ïÂêóÔºü Object.assign({}, state, {counter: state.counter + 1}) ËøôË°®Êòé‰∫ÜÊàë‰ª¨‰∏ç‰ºöÂú®ÂéüÊù•ÁöÑstateÂü∫Á°Ä‰∏äËøõË°å‰øÆÊîπÊìç‰ΩúÔºåËÄåÊòØÁîüÊàê‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑstateÔºåÂéüÁêÜÂ§ßÊ¶ÇÂ¶Ç‰∏ã &gt; a = {} {} &gt; b = Object.assign(a, {counter: 1}) { counter: 1 } &gt; c = Object.assign({}, a, {counter: 1}) { counter: 1 } &gt; a === b true &gt; a === c false ËÄåÂú®Redux‰∏≠ÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÂ¶ÇÊûúreducerÊñπÊ≥ïË¢´Ë∞ÉÁî®ÂêéÂπ∂Ê≤°Êúâ‰∫ßÁîüÊñ∞ÁöÑÂØπË±°ÔºåËÄåÂè™ÊòØÂú®ÂéüÊúâÁöÑÂØπË±°‰∏≠ËøõË°åÊìç‰ΩúÁöÑËØùÔºåÂàôÂú®ÁªëÂÆöÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåÁä∂ÊÄÅÁöÑ‰øÆÊîπÂ∞ÜÊúâÂèØËÉΩ‰∏ç‰ºöÂºïËµ∑ÁªÑ‰ª∂ÁöÑÊõ¥Êñ∞„ÄÇreducerÂáΩÊï∞ÁöÑÂÆö‰ΩçÊòØÁ∫ØÂáΩÊï∞Ôºå‰∏çÂ∫îËØ•ÈÄ†Êàê‰ªª‰ΩïÂâØ‰ΩúÁî®Ôºå‰∏∫Ê≠§ÔºåreducerÂáΩÊï∞ÈÉΩÂ∫îËØ•Ë¶ÅÁîüÊàêÊñ∞ÁöÑÂØπË±°„ÄÇ Âú®combineReducersËøô‰∏™ÂáΩÊï∞Èáå‰πü‰ºöÊúâÁõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåËøôÈáåÈúÄË¶ÅÁùÄÈáçÂÖ≥Ê≥®hasChangedËøô‰∏™ÂèòÈáè ... return hasChanged ? nextState : state ... ÂΩì‰∏î‰ªÖÂΩìÔºåËøô‰∏™ÂèòÈáè‰∏∫ÁúüÂÄºÁöÑÊó∂ÂÄôÊàë‰ª¨Êâç‰ºöËøîÂõûÊñ∞ÁöÑÁä∂ÊÄÅÔºå‰∏çÁÑ∂ÁöÑËØù‰æùÊóßËøîÂõûÂéüÊúâÁöÑÁä∂ÊÄÅ„ÄÇËøô‰∏™hasChangedÊòØÁî±‰ª•‰∏ã‰ª£Á†ÅÊéßÂà∂ÁöÑ ... for (let i = 0; i &lt; finalReducerKeys.length; i++) { .... hasChanged = hasChanged || nextStateForKey !== previousStateForKey } ‰πüÂ∞±ÊòØËØ¥Âú®ÊâÄÊúâÁöÑËø≠‰ª£‰∏≠Ëá≥Â∞ëÊúâ‰∏ÄÊ¨°Ëø≠‰ª£Á¨¶ÂêànextStateForKey !== previousStateForKeyËøô‰∏™Êù°‰ª∂ÁöÑÊó∂ÂÄô(ÊâÄÂØπÂ∫îÁöÑreducerËøîÂõû‰∫ÜÊñ∞ÁöÑÂØπË±°)hasChangedÊâç‰ºö‰∏∫ÁúüÔºåÊñ∞ÁöÑreducerÂáΩÊï∞Êâç‰ºöËøîÂõûÊñ∞ÁöÑÁä∂ÊÄÅÂØπË±°nextState„ÄÇÂê¶ÂàôÂ∞ÜËøîÂõûÂéüÊúâÁöÑÁä∂ÊÄÅÂØπË±°stateÔºåËøôÊ†∑Âú®ÁªëÂÆöReactÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÂàôÊúâÂèØËÉΩ‰ºöÂá∫Áé∞Áä∂ÊÄÅÊï∞ÊçÆÊõ¥Êñ∞‰∫ÜÔºåÁªÑ‰ª∂Âç¥Ê≤°ÊúâÂìçÂ∫îÁöÑÊÉÖÂÜµ„ÄÇ ‰∏∫‰ªÄ‰πàRedux ÈúÄË¶Å reducersÊòØÁ∫ØÂáΩÊï∞Ôºü1. ActionCreatorÂàõÂª∫Âä®‰ΩúÂú®Ê∑±ÂÖ•ÂàÜÊûêÊ∫êÁ†Å‰πãÂâçÊàë‰ª¨ÂÖàÊù•ËÅäËÅäActionCreator„ÄÇ‰ªéÂ≠óÈù¢‰∏äÁêÜËß£ÔºåÂÆÉÊòØ‰∏Ä‰∏™Âä®‰ΩúÁöÑÂàõÈÄ†ËÄÖÔºåÊàñËÄÖËØ¥ÊòØÂä®‰ΩúÁöÑÂ∑•ÂéÇ„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ê†πÊçÆ‰∏çÂêåÁöÑÂèÇÊï∞Êù•ÁîüÊàê‰∏çÂêåÊ≠•ÈïøÁöÑËÆ°Êï∞Âô®Âä®‰ΩúÔºåÂàôÂèØ‰ª•ÊääÂ∑•ÂéÇÂáΩÊï∞Â£∞Êòé‰∏∫ const counterIncActionCreator = function(step) { return { type: &apos;INCREMENT&apos;, step: step || 1 } } ÈöèÁùÄ‰∏öÂä°ÈÄªËæëË∂äÊù•Ë∂äÂ§çÊùÇÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆö‰πâÊõ¥Âä†Â§çÊùÇÁöÑÂ∑•ÂéÇÂáΩÊï∞Êù•ÁîüÊàêÊõ¥Â§öÊ†∑ÂåñÁöÑÂä®‰ΩúÁ±ªÂûã„ÄÇ 2. bindActionCreatorÈ´òÈò∂ÂáΩÊï∞‰ªé‰∏äËø∞ÁöÑ‰æãÂ≠êÂá∫ÂèëÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Áîü‰∫ßÂá∫‰∏çÂêåÊ≠•ÈïøÁöÑËÆ°Êï∞Âô®Âä®‰ΩúÔºåÂπ∂ÂàÜÂèë‰ªñ‰ª¨ÔºåÂàôÈúÄË¶ÅÊää‰ª£Á†ÅÂÜôÊàê‰∏ãÈù¢ËøôÊ†∑Â≠ê // ‰∏∫‰∫ÜÁÆÄÂåñ‰ª£Á†ÅÊàëÊäädispatchÂáΩÊï∞ÂÆö‰πâ‰∏∫Âè™ÊúâÊâìÂç∞ÂäüËÉΩÁöÑÂáΩÊï∞ const dispatch = function(action) { console.log(action) } const action1 = counterIncActionCreator() dispatch(action1) // { type: &apos;INCREMENT&apos;, step: 1 } const action2 = counterIncActionCreator(2) dispatch(action2) // { type: &apos;INCREMENT&apos;, step: 2 } const action3 = counterIncActionCreator(3) dispatch(action3) // { type: &apos;INCREMENT&apos;, step: 3 } ÂèØËßÅÊØèÊ¨°ÂàÜÂèëÂä®‰Ωú‰πãÂâçÊàë‰ª¨ÈÉΩÂæóÊâãÂä®Ë∞ÉÁî®counterIncActionCreatorÊù•Áîü‰∫ßÁõ∏Â∫îÁöÑÂä®‰ΩúÔºåËøôÁßçÊñπÂºèÂπ∂‰∏çÊòØÈÇ£‰πàÁöÑ‰ºòÈõÖ„ÄÇËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â∞±ÂèØ‰ª•ÈááÁî®bindActionCreatorsËøô‰∏™Êñá‰ª∂ÈáåÈù¢ÁöÑbindActionCreatorÂ∑•ÂÖ∑ÂáΩÊï∞Êù•‰ºòÂåñ‰ª£Á†Å‰∫ÜÔºåËØ•ÂáΩÊï∞ÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ã function bindActionCreator(actionCreator, dispatch) { return function() { return dispatch(actionCreator.apply(this, arguments)) } } bindActionCreatorÂ∞Ü‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞‰ºöÁî®Ëá™Ë∫´ÊâÄÊé•Êî∂ÁöÑÂèÇÊï∞Êù•Ë∞ÉÁî®actionCreatorÂπ∂ÁîüÊàêÂØπÂ∫îÂä®‰ΩúÔºåÂπ∂‰∏îËøô‰∏™ÁîüÊàêÁöÑÂä®‰ΩúÂ∞Ü‰ºö‰Ωú‰∏∫dispatchÂáΩÊï∞ÁöÑÂèÇÊï∞„ÄÇ‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Êää ÁîüÊàêÂä®‰Ωú Ë∞ÉÂ∫¶Âä®‰Ωú Ëøô‰∏§‰∏™Ê≠•È™§ÈÉΩÂ∞ÅË£ÖÂà∞‰∏Ä‰∏™ÂáΩÊï∞ÈáåÈù¢‰∫ÜÔºå‰∫éÊòØ‰æøÂæóÂà∞‰∫ÜÊõ¥‰∏∫‰ºòÈõÖÁöÑË∞ÉÂ∫¶ËøáÁ®ã ... const increment = bindActionCreator(counterIncActionCreator, dispatch) increment() // { type: &apos;INCREMENT&apos;, step: 1 } increment(2) // { type: &apos;INCREMENT&apos;, step: 2 } increment(3) // { type: &apos;INCREMENT&apos;, step: 3 } 3. bindActionCreatorsÊé•‰∏ãÊù•ÁúãÁúãbindActionCreatorsËøô‰∏™ÂáΩÊï∞ÔºåÂÆÉÊòØbindActionCreatorÂáΩÊï∞ÁöÑÂä†Âº∫Áâà„ÄÇÂà†Êéâ‰∏Ä‰∫õÊñ≠Ë®ÄËØ≠Âè•‰πãÂêéÊ∫êÁ†ÅÂ¶Ç‰∏ã export default functionbindActionCreators(actionCreators, dispatch) { if (typeof actionCreators === &apos;function&apos;) { // #1 return bindActionCreator(actionCreators, dispatch) // #2 } .... const keys = Object.keys(actionCreators) const boundActionCreators = {} for (let i = 0; i &lt; keys.length; i++) { const key = keys[i] const actionCreator = actionCreators[key] if (typeof actionCreator === &apos;function&apos;) { // #3 boundActionCreators[key] = bindActionCreator(actionCreator, dispatch) } } return boundActionCreators } ‰ª£Á†Å#1ÁöÑÂà§Êñ≠ËØ≠Âè•ÊòØ‰∏∫‰∫ÜÂÅöÂÖºÂÆπÂ§ÑÁêÜÔºåÂΩìÊé•Êî∂ÁöÑÂèÇÊï∞actionCreators‰∏∫‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂàôËÆ§‰∏∫ÂÆÉÊòØÂçï‰∏ÄÁöÑÂä®‰ΩúÂ∑•ÂéÇÔºå‰æøÂú®‰ª£Á†Å#2Â§ÑÁõ¥Êé•Ë∞ÉÁî®bindActionCreatorÂ∑•ÂÖ∑ÂáΩÊï∞Êù•Â∞ÅË£ÖË∞ÉÂ∫¶ËøáÁ®ã„ÄÇ Âè¶‰∏ÄÊÉÖÂÜµÊòØÂΩìactionCreatorsÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂØπË±°ÁöÑÊó∂ÂÄôÔºåÂàôÈÅçÂéÜËøô‰∏™ÂØπË±°„ÄÇ‰ª£Á†Å#3‰ºöÂà§Êñ≠ÊØè‰∏™ÈîÆÂú®ÂéüÂßãÂØπË±°‰∏≠ÁöÑÂÄºÊòØÂê¶ÊòØ‰∏™ÂáΩÊï∞ÔºåÂ¶ÇÊûúÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂàôËÆ§‰∏∫ÂÆÉÊòØ‰∏Ä‰∏™Âä®‰ΩúÂ∑•ÂéÇÔºåÂπ∂‰ΩøÁî®bindActionCreatorÂáΩÊï∞Êù•Â∞ÅË£ÖË∞ÉÂ∫¶ËøáÁ®ãÔºåÊúÄÂêéÊääÁîüÊàêÁöÑÊñ∞ÂáΩÊï∞‰ª•ÂêåÊ†∑ÁöÑÈîÆkeyÂ≠òÂÇ®Âà∞boundActionCreatorsÂØπË±°‰∏≠„ÄÇÂú®ÂáΩÊï∞ÁöÑÊú´Â∞æ‰ºöËøîÂõûboundActionCreatorsÂØπË±°„ÄÇ ‰∏æ‰∏™ÁÆÄÂçïÂ∫îÁî®‰æãÂ≠êÔºåÈ¶ñÂÖà‰ΩøÁî®‰∏Ä‰∏™ÂØπË±°Êù•Â≠òÂÇ®‰∏§‰∏™‰∫ã‰ª∂Â∑•ÂéÇ const MyActionCreators = { increment: function(step) { return { type: &apos;INCREMENT&apos;, step: step || 1 } }, decrement: function(step) { return { type: &apos;DECREMENT&apos;, step: - (step || 1) } } } ÁÑ∂ÂêéÈÄöËøábindActionCreatorsÊù•Â∞ÅË£ÖË∞ÉÂ∫¶ËøáÁ®ãÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±° const dispatch = function(action) { console.log(action) } const MyNewActionCreators = bindActionCreators(MyActionCreators, dispatch) ÊúÄÂêéÊàë‰ª¨‰æøÂèØ‰ª•Áî®Êñ∞ÁöÑÂØπË±°Êù•‰∏ªÂØºË∞ÉÂ∫¶ËøáÁ®ã‰∫Ü MyNewActionCreators.increment() // { type: &apos;INCREMENT&apos;, step: 1 } MyNewActionCreators.increment(2) // { type: &apos;INCREMENT&apos;, step: 2 } MyNewActionCreators.increment(3) // { type: &apos;INCREMENT&apos;, step: 3 } MyNewActionCreators.decrement() // { type: &apos;DECREMENT&apos;, step: -1 } MyNewActionCreators.decrement(2) // { type: &apos;DECREMENT&apos;, step: -2 } MyNewActionCreators.decrement(3) // { type: &apos;DECREMENT&apos;, step: -3 } ËøôÁßçË∞ÉÂ∫¶ÊñπÂºèÊòæÁÑ∂ÊØîÂéüÂßãÁöÑ‰æùÊ¨°Ë∞ÉÁî®ÁöÑÊñπÂºèÊõ¥‰∏∫‰ºòÈõÖ // ÂéüÂßãÁöÑË∞ÉÂ∫¶ÊñπÂºè dispatch(MyActionCreators.increment()) // { type: &apos;INCREMENT&apos;, step: 1 } dispatch(MyActionCreators.increment(2)) // { type: &apos;INCREMENT&apos;, step: 2 } dispatch(MyActionCreators.increment(3)) // { type: &apos;INCREMENT&apos;, step: 3 } dispatch(MyActionCreators.decrement()) // { type: &apos;DECREMENT&apos;, step: -1 } dispatch(MyActionCreators.decrement(2)) // { type: &apos;DECREMENT&apos;, step: -2 } dispatch(MyActionCreators.decrement(3)) // { type: &apos;DECREMENT&apos;, step: -3 } ÈáçÁÇπËØ¥ËØ¥redux middlewaremiddleware ÁöÑÁî±Êù•Âú®‰∏öÂä°‰∏≠ÈúÄË¶ÅÊâìÂç∞ÊØè‰∏Ä‰∏™ action ‰ø°ÊÅØÊù•Ë∞ÉËØïÔºåÂèàÊàñËÄÖÂ∏åÊúõ dispatch Êàñ reducer Êã•ÊúâÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÂäüËÉΩ„ÄÇÈù¢ÂØπËøô‰∫õÂú∫ÊôØÊó∂Ôºå‰∏Ä‰∏™‰∏™‰øÆÊîπ dispatch Êàñ reducer ‰ª£Á†ÅÊúâ‰∫õ‰πèÂäõÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ÂèØÁªÑÂêàÁöÑ„ÄÅËá™Áî±Â¢ûÂáèÁöÑÊèí‰ª∂Êú∫Âà∂ÔºåRedux ÂÄüÈâ¥‰∫Ü Koa ‰∏≠ middleware ÁöÑÊÄùÊÉ≥ÔºåÂà©Áî®ÂÆÉÊàë‰ª¨ÂèØ‰ª•Âú®ÂâçÁ´ØÂ∫îÁî®‰∏≠‰æøÊç∑Âú∞ÂÆûÁé∞Â¶ÇÊó•ÂøóÊâìÂç∞„ÄÅÂºÇÊ≠•ËØ∑Ê±ÇÁ≠âÂäüËÉΩ„ÄÇ ÊØîÂ¶ÇÂú®È°πÁõÆ‰∏≠ÔºåËøõË°å‰∫ÜÂ¶Ç‰∏ãË∞ÉÁî®ÂêéÔºåredux Â∞±ÈõÜÊàê‰∫Ü thunk ÂáΩÊï∞Ë∞ÉÁî®‰ª•ÂèäÊâìÂç∞Êó•ÂøóÁöÑÂäüËÉΩ„ÄÇ import thunk from&apos;redux-thunk&apos; import logger from&apos;../middleware/logger&apos; const enhancer = applyMiddleware(thunk, logger), // ‰ª• redux-thunk„ÄÅlogger ‰∏≠Èó¥‰ª∂‰∏∫‰æã‰ªãÁªç‰∏≠Èó¥‰ª∂ÁöÑ‰ΩøÁî® const store = createStore(rootReducer, enhancer) ‰∏ãÈù¢ËøΩÊú¨Ê∫ØÊ∫êÔºåÊù•ÂàÜÊûê‰∏ãÊ∫êÁ†Å„ÄÇ applyMiddleware Ë∞ÉÁî®ÂÖ•Âè£export default function createStore(reducer, preloadedState, enhancer) { // ÈÄöËøá‰∏ãÈù¢‰ª£Á†ÅÂèØ‰ª•ÂèëÁé∞ÔºåÂ¶ÇÊûú createStore ‰º†ÂÖ• 2 ‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞Áõ∏ÂΩì‰∫éÂ∞±ÊòØ enhancer if (typeof preloadedState === &apos;function&apos; &amp;&amp; typeof enhancer === &apos;undefined&apos;) { enhancer = preloadedState preloadedState = undefined } if (typeof enhancer !== &apos;undefined&apos;) { return enhancer(createStore)(reducer, preloadedState) } ... } Áî±‰∏äËø∞ createStore ÂèëÁé∞ÔºåapplyMiddleware ‰ºöËøõË°å applyMiddleware(thunk, logger)(createStore)(reducer, preloadedState) ÁöÑË∞ÉÁî®„ÄÇ applyMiddleware Ê∫êÁ†Å Â¶Ç‰∏ã export default function applyMiddleware(...middlewares) { return createStore =&gt; (...args) =&gt; { const store = createStore(...args) let dispatch = store.dispatch let chain = [] const middlewareAPI = { getState: store.getState, // Ë∞ÉÁî® redux ÂéüÁîüÊñπÊ≥ïÔºåËé∑ÂèñÁä∂ÊÄÅ dispatch: (...args) =&gt; dispatch(...args) // Ë∞ÉÁî® redux ÂéüÁîü dispatch ÊñπÊ≥ï } // ‰∏≤Ë°å middleware chain = middlewares.map(middleware =&gt; middleware(middlewareAPI)) dispatch = compose(...chain)(store.dispatch) return { ...store, dispatch // ËøîÂõûÂä†Â∑•ËøáÁöÑ dispatch } } } ÂèØ‰ª•ÂèëÁé∞ applyMiddleware ÁöÑ‰ΩúÁî®ÂÖ∂ÂÆûÂ∞±ÊòØËøîÂõûÂä†Â∑•ËøáÁöÑ dispatchÔºå‰∏ãÈù¢‰ºöÁùÄÈáçÂàÜÊûê middlewares ÊòØÂ¶Ç‰Ωï‰∏≤Ë°åËµ∑Êù•ÁöÑ‰ª•Âèä dispatch ÊòØÂ¶Ç‰ΩïË¢´Âä†Â∑•ÁöÑ„ÄÇ ‰∏≤Ë°å middlewareconst middlewareAPI = { getState: store.getState, dispatch: (...args) =&gt; dispatch(...args) } chain = middlewares.map(middleware =&gt; middleware(middlewareAPI)) dispatch = compose(...chain)(store.dispatch) ËßÇÂØü‰∏äËø∞‰ª£Á†ÅÂêéÂèëÁé∞ÊØè‰∏™ middleware ÈÉΩ‰ºö‰º†ÂÖ•ÂèÇÊï∞ middlewareAPIÔºåÊù•Áúã‰∏ã‰∏≠Èó¥‰ª∂ logger ÁöÑÊ∫êÁ†Å ‰ª•Âèä redux-thunk ÁöÑÊ∫êÁ†Å, ÂèëÁé∞‰∏≠Èó¥‰ª∂Êé•ÂèóÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Ê≠£ÊòØ ({ dispatch, getState }) // logger Ê∫êÁ†Å export default ({ dispatch, getState }) =&gt; next =&gt; action =&gt; { console.log(action) return next(action) // Áªè compose Ê∫êÁ†ÅÂàÜÊûêÔºåÊ≠§Â§Ñ next ‰∏∫ Store.dispatch } // redux-thunk Ê∫êÁ†Å export default ({ dispatch, getState }) =&gt; next =&gt; action =&gt; { if (typeof action === &apos;function&apos;) { return action(dispatch,getState); } //ËøôÈáåÂèØ‰ª•ÁêÜËß£‰∏∫dispatch(action),Êú¨Ë¥®‰∏äÂ∞±ÊòØË∞ÉÁî® middleware Èìæ‰∏≠‰∏ã‰∏Ä‰∏™ middleware ÁöÑ dispatch„ÄÇ return next(action) // Ê≠§Â§Ñ next ‰∏∫ logger ‰∏≠Èó¥‰ª∂ËøîÂõûÁöÑ (actionÔºâ =&gt; {} ÂáΩÊï∞ } //‰ΩøÁî®redux-thunk const store = createStore( reducer, applyMiddleware(thunk) ); //ÁÑ∂ÂêéÊàë‰ª¨ÂÆûÁé∞‰∏Ä‰∏™thunkActionCreator //Ëøá‰∏ÄÁßíÂä†1 export function thunkActionCreator(payload){ return function(dispatch,getState){ setTimeout(function(){ dispatch({type:types.INCREMENT,payload:payload}); },1000); } }, //ÊúÄÂêéÔºåÂú®ÁªÑ‰ª∂‰∏≠dispatch thunk this.dispatch(thunkActionCreator(payload)); DEMO: export const getNav = () =&gt; async (dispatch, getState) =&gt; { try { let response = await instance.get(`book/navigation`) await dispatch(receiveNav(response.data)) } catch (error) { console.log(&apos;error: &apos;, error) } } dispatch ÊòØÂ¶Ç‰ΩïË¢´Âä†Â∑•ÁöÑÊé•ÁùÄ‰∏ä‰∏™Â∞èËäÇÔºåÂú® dispatch = compose(...chain)(store.dispatch) ‰∏≠ÂèëÁé∞‰∫Ü compose ÂáΩÊï∞ÔºåÊù•Áúã‰∏ã compose ÁöÑÊ∫êÁ†Å export default function compose(...funcs) { // ... return funcs.reduce((a, b) =&gt; (...args) =&gt; a(b(...args))) } compose Ê∫êÁ†Å‰∏≠ÁöÑ funcs.reduce((a, b) =&gt; (...args) =&gt; a(b(...args))) ÁÆóÊòØÊØîËæÉÈáçË¶ÅÁöÑ‰∏ÄÂè•ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØËøîÂõûÁªÑÂêàÂèÇÊï∞ÂêéÁöÑÂáΩÊï∞ÔºåÊØîÂ¶Ç compose(f, g, h) Á≠â‰ª∑‰∫é (‚Ä¶args) =&gt; f(g(h(‚Ä¶args)))ÔºåÊïàÊûúÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºåË∞ÉÁî® this.props.dispatch() ÂêéÔºå‰ºöË∞ÉÁî®Áõ∏Â∫îÁöÑ‰∏≠Èó¥‰ª∂ÔºåÊúÄÁªà‰ºöË∞ÉÁî® redux ÂéüÁîüÁöÑ store.dispatch()ÔºåÂπ∂‰∏îÂèØ‰ª•ÁúãÂà∞‰∏≠Èó¥‰ª∂Ë∞ÉÁî®ÁöÑÂΩ¢ÂºèÁ±ª‰ººÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÊ†à(ÂÖàËøõÂêéÂá∫)„ÄÇÊãø‰∏ä‰∏™Â∞èËäÇÊèêÂà∞ÁöÑ logger„ÄÅredux-thunk ‰∏≠Èó¥‰ª∂‰∏∫‰æãÔºåÂÖ∂ middleware ÁöÑÂÜÖÈÉ®‰∏≤Ë°åË∞ÉÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºå‰ªéËÄåÂÆåÊàê‰∫Ü dispatch ÂäüËÉΩÁöÑÂ¢ûÂº∫(ÊîØÊåÅÂ¶Ç this.props.dispatch(func) ÁöÑË∞ÉÁî®‰ª•ÂèäÊó•ÂøóÂäüËÉΩ)„ÄÇÂÖ∑‰ΩìÂèØ‰ª•Áúã È°πÁõÆ‰∏≠ÁöÑËøêÁî® action =&gt; { if (typeof action === &apos;function&apos;) { return action(dispatch) } return (action =&gt; { console.log(action) return store.dispatch(action) })(action) } redux-promiseredux-promise‰πüÊòØÂª∂ËøüÊâßË°åÁöÑË°®ËææÂºèÔºåÂÆÉÊòØËß£ÂÜ≥ÂºÇÊ≠•ÁöÑÂè¶Â§ñ‰∏ÄÁßçÊñπÊ°à„ÄÇ redux-thunkÂíåÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÊääactionÂèòÊàêthunkÔºåËÄåredux-promiseÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØËÆ©actionËøîÂõû‰∏Ä‰∏™promiseÂØπË±°„ÄÇ Ëøô‰∏™‰∏≠Èó¥‰ª∂‰ΩøÂæóstore.dispatchÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂PromiseÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøôÊó∂ Ôºåaction Êúâ‰∏§ÁßçÂÜôÊ≥ï: ÂÜôÊ≥ï‰∏Ä„ÄÅËøîÂõûÂÄºÊòØ‰∏Ä‰∏™PromiseÂØπË±°„ÄÇ12345678function promiseIncrement(payload)&#123; // return &#123;type:types.INCREMENT,payload:payload&#125; ‰ª•ÂâçÊòØËøôÁßçÂÜôÊ≥ï return new Promise(function(resolve,reject)&#123; setTimeout(function()&#123; resolve(&#123;type:types.INCREMENT,payload:payload&#125;); &#125;,1000); &#125;); &#125;, ÂÜôÊ≥ï‰∫åÔºåaction ÂØπË±°ÁöÑpayloadÂ±ûÊÄßÊòØ‰∏Ä‰∏™PromiseÂØπË±°ÔºåËøôÈúÄË¶Å‰ªé1234567891011121314function payloadIncrement()&#123; return &#123; type:types.INCREMENT, payload: new Promise(function(resolve,reject)&#123; setTimeout(function()&#123; if(Math.random()&gt;.5)&#123; resolve(100); &#125;else&#123; reject(-100); &#125; &#125;,1000) &#125;) &#125;&#125; ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúã redux-promiseÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºåÂ∞±‰ºöÊòéÁôΩÂÆÉÂÜÖÈÉ®ÊòØÊÄé‰πàÊìç‰ΩúÁöÑ.12345678910let promise = (&#123;dispatch,getState&#125;)=&gt;next=&gt;action=&gt;&#123; if(action.then &amp;&amp; typeof action.then == &apos;function&apos;)&#123; action.then(dispatch); // ËøôÈáåÁöÑdispatchÂ∞±ÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºådispatch(action)&#123;state:reducer(state,action)&#125;; &#125;else if(action.payload&amp;&amp; action.payload.then&amp;&amp; typeof action.payload.then == &apos;function&apos;)&#123; action.payload.then(payload=&gt;dispatch(&#123;...action,payload&#125;),payload=&gt;dispatch(&#123;...action,payload&#125;)); &#125;else&#123; next(action); &#125;&#125; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁúãÂá∫ÔºåÂ¶ÇÊûúActionÊú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™PromiseÔºåÂÆÉresolve‰ª•ÂêéÁöÑÂÄºÂ∫îËØ•ÊòØ‰∏Ä‰∏™ActionÂØπË±°Ôºå‰ºöË¢´dispatchÊñπÊ≥ïÈÄÅÂá∫action.then(dispatch)ÔºõÂ¶ÇÊûúActionÂØπË±°ÁöÑ payloadÂ±ûÊÄßÊòØ‰∏Ä‰∏™PromiseÂØπË±°ÔºåÈÇ£‰πàÊó†ËÆ∫resolveÂíåreject,dispatch ÊñπÊ≥ïÈÉΩ‰ºöÂèëÂá∫Action„ÄÇ ÁêÜËß£ funcs.reduce((a, b) =&gt; (args) =&gt; a(b(args)))123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; function originDispatch(...args) &#123; console.log(...args) &#125; function middleware1(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware1 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware1 after dispatch&apos;) &#125; &#125; function middleware2(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware2 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware2 after dispatch&apos;) &#125; &#125; function middleware3(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware3 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware3 after dispatch&apos;) &#125; &#125; // originDispatch = middleware2(middleware1(originDispatch)) // originDispatch(&apos;redux&apos;, &apos;is&apos;, &apos;cool&apos;); function compose(...funcs) &#123; return funcs.reduce((a, b) =&gt; (args) =&gt; a(b(args))) &#125; //console.log(compose(middleware2, middleware1)) //(args) =&gt; middleware2(middleware1(args)) //(originDispatch)=&gt;middleware2(middleware1(originDispatch)) compose(middleware2, middleware1)(originDispatch)(&apos;redux&apos;, &apos;is&apos;, &apos;cool&apos;); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; compose(middleware2, middleware1)ËøîÂõû(args) =&gt; middleware2(middleware1(args)); compose(middleware2, middleware1)(originDispatch) ËøîÂõûmiddleware2(middleware1(originDispatch)) Â∞Ümiddleware1(originDispatch)ÂΩìÂÅö‰∏Ä‰∏™Êï¥‰Ωì,middleware2(middleware1(originDispatch))‰∏≠ÁöÑmiddleware2ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁ≠âÁùÄÊé•Âèó...args;ÂΩìcompose(middleware2, middleware1)(originDispatch)(&#39;redux&#39;, &#39;is&#39;, &#39;cool&#39;),...args‰∏∫(&#39;redux&#39;, &#39;is&#39;, &#39;cool&#39;)„ÄÇ]]></content>
      <tags>
        <tag>redux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Koa2ÂØπMongoDBËøûÊé•ÁöÑÂçï‰æãÊ®°ÂºèÁöÑÂ∞ÅË£Ö]]></title>
    <url>%2F2018%2F11%2F01%2FKoa2%E5%AF%B9MongoDB%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B0%81%E8%A3%85%2F</url>
    <content type="text"><![CDATA[Âçï‰æãÊ®°ÂºèÊòØÊúÄÂ∏∏Áî®Âà∞ÁöÑËÆæËÆ°Ê®°Âºè‰πã‰∏ÄÔºåÁÜüÊÇâËÆæËÆ°Ê®°ÂºèÁöÑÊúãÂèãÂØπÂçï‰æãÊ®°ÂºèÈÉΩ‰∏ç‰ºöÈôåÁîü„ÄÇ‰∏ÄËà¨‰ªãÁªçÂçï‰æãÊ®°ÂºèÁöÑ‰π¶Á±çÈÉΩ‰ºöÊèêÂà∞ È•øÊ±âÂºè Âíå ÊáíÊ±âÂºè Ëøô‰∏§ÁßçÂÆûÁé∞ÊñπÂºè„ÄÇ‰ΩÜÊòØÈô§‰∫ÜËøô‰∏§ÁßçÊñπÂºèÔºåÊú¨ÊñáËøò‰ºö‰ªãÁªçÂÖ∂‰ªñÂá†ÁßçÂÆûÁé∞Âçï‰æãÁöÑÊñπÂºèÔºåËÆ©Êàë‰ª¨Êù•‰∏ÄËµ∑ÁúãÁúãÂêß„ÄÇ ÁÆÄ‰ªãÂçï‰æãÊ®°ÂºèÊòØ‰∏ÄÁßçÂ∏∏Áî®ÁöÑËΩØ‰ª∂ËÆæËÆ°Ê®°ÂºèÔºåÂÖ∂ÂÆö‰πâÊòØÂçï‰æãÂØπË±°ÁöÑÁ±ªÂè™ËÉΩÂÖÅËÆ∏‰∏Ä‰∏™ÂÆû‰æãÂ≠òÂú®„ÄÇ ËÆ∏Â§öÊó∂ÂÄôÊï¥‰∏™Á≥ªÁªüÂè™ÈúÄË¶ÅÊã•Êúâ‰∏Ä‰∏™ÁöÑÂÖ®Â±ÄÂØπË±°ÔºåËøôÊ†∑ÊúâÂà©‰∫éÊàë‰ª¨ÂçèË∞ÉÁ≥ªÁªüÊï¥‰ΩìÁöÑË°å‰∏∫„ÄÇÊØîÂ¶ÇÂú®Êüê‰∏™ÊúçÂä°Âô®Á®ãÂ∫è‰∏≠ÔºåËØ•ÊúçÂä°Âô®ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÂ≠òÊîæÂú®‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÔºåËøô‰∫õÈÖçÁΩÆÊï∞ÊçÆÁî±‰∏Ä‰∏™Âçï‰æãÂØπË±°Áªü‰∏ÄËØªÂèñÔºåÁÑ∂ÂêéÊúçÂä°ËøõÁ®ã‰∏≠ÁöÑÂÖ∂‰ªñÂØπË±°ÂÜçÈÄöËøáËøô‰∏™Âçï‰æãÂØπË±°Ëé∑ÂèñËøô‰∫õÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇËøôÁßçÊñπÂºèÁÆÄÂåñ‰∫ÜÂú®Â§çÊùÇÁéØÂ¢É‰∏ãÁöÑÈÖçÁΩÆÁÆ°ÁêÜ„ÄÇ Âü∫Êú¨ÁöÑÂÆûÁé∞ÊÄùË∑ØÂçï‰æãÊ®°ÂºèË¶ÅÊ±ÇÁ±ªËÉΩÂ§üÊúâËøîÂõûÂØπË±°‰∏Ä‰∏™ÂºïÁî®(Ê∞∏ËøúÊòØÂêå‰∏Ä‰∏™)Âíå‰∏Ä‰∏™Ëé∑ÂæóËØ•ÂÆû‰æãÁöÑÊñπÊ≥ïÔºàÂøÖÈ°ªÊòØÈùôÊÄÅÊñπÊ≥ïÔºåÈÄöÂ∏∏‰ΩøÁî®ES6 class staticËøô‰∏™ÂÖ≥ÈîÆÂ≠óÔºâ„ÄÇ Âçï‰æãÁöÑÂÆûÁé∞‰∏ªË¶ÅÊòØÈÄöËøá‰ª•‰∏ã‰∏§‰∏™Ê≠•È™§Ôºö Â∞ÜËØ•Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂÆö‰πâ‰∏∫ÁßÅÊúâÊñπÊ≥ïÔºåËøôÊ†∑ÂÖ∂‰ªñÂ§ÑÁöÑ‰ª£Á†ÅÂ∞±Êó†Ê≥ïÈÄöËøáË∞ÉÁî®ËØ•Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊù•ÂÆû‰æãÂåñËØ•Á±ªÁöÑÂØπË±°ÔºåÂè™ÊúâÈÄöËøáËØ•Á±ªÊèê‰æõÁöÑÈùôÊÄÅÊñπÊ≥ïÊù•ÂæóÂà∞ËØ•Á±ªÁöÑÂîØ‰∏ÄÂÆû‰æãÔºõ Âú®ËØ•Á±ªÂÜÖÊèê‰æõ‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºåÂΩìÊàë‰ª¨Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÊó∂ÔºåÂ¶ÇÊûúÁ±ªÊåÅÊúâÁöÑÂºïÁî®‰∏ç‰∏∫Á©∫Â∞±ËøîÂõûËøô‰∏™ÂºïÁî®ÔºåÂ¶ÇÊûúÁ±ª‰øùÊåÅÁöÑÂºïÁî®‰∏∫Á©∫Â∞±ÂàõÂª∫ËØ•Á±ªÁöÑÂÆû‰æãÂπ∂Â∞ÜÂÆû‰æãÁöÑÂºïÁî®Ëµã‰∫àËØ•Á±ª‰øùÊåÅÁöÑÂºïÁî®„ÄÇ Âçï‰æãÊ®°ÂºèÁâπÁÇπÔºö1„ÄÅÂçï‰æãÁ±ªÂè™ËÉΩÊúâ‰∏Ä‰∏™ÂÆû‰æã„ÄÇ2„ÄÅÂçï‰æãÁ±ªÂøÖÈ°ªËá™Â∑±ÂàõÂª∫Ëá™Â∑±ÁöÑÂîØ‰∏ÄÂÆû‰æã„ÄÇ3„ÄÅÂçï‰æãÁ±ªÂøÖÈ°ªÁªôÊâÄÊúâÂÖ∂‰ªñÂØπË±°Êèê‰æõËøô‰∏ÄÂÆû‰æã„ÄÇ Âçï‰æãÊ®°Âºè‰øùËØÅ‰∫ÜÂÖ®Â±ÄÂØπË±°ÁöÑÂîØ‰∏ÄÊÄßÔºåÊØîÂ¶ÇÁ≥ªÁªüÂêØÂä®ËØªÂèñÈÖçÁΩÆÊñá‰ª∂Â∞±ÈúÄË¶ÅÂçï‰æã‰øùËØÅÈÖçÁΩÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ ‰ºòÁÇπÁ≥ªÁªüÂÜÖÂ≠ò‰∏≠ËØ•Á±ªÂè™Â≠òÂú®‰∏Ä‰∏™ÂØπË±°ÔºåËäÇÁúÅ‰∫ÜÁ≥ªÁªüËµÑÊ∫êÔºåÂØπ‰∫é‰∏Ä‰∫õÈúÄË¶ÅÈ¢ëÁπÅÂàõÂª∫ÈîÄÊØÅÁöÑÂØπË±°Ôºå‰ΩøÁî®Âçï‰æãÊ®°ÂºèÂèØ‰ª•ÊèêÈ´òÁ≥ªÁªüÊÄßËÉΩ„ÄÇ Áº∫ÁÇπÂΩìÊÉ≥ÂÆû‰æãÂåñ‰∏Ä‰∏™Âçï‰æãÁ±ªÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªË¶ÅËÆ∞‰Ωè‰ΩøÁî®Áõ∏Â∫îÁöÑËé∑ÂèñÂØπË±°ÁöÑÊñπÊ≥ïÔºåËÄå‰∏çÊòØ‰ΩøÁî®newÔºåÂèØËÉΩ‰ºöÁªôÂÖ∂‰ªñÂºÄÂèë‰∫∫ÂëòÈÄ†ÊàêÂõ∞Êâ∞ÔºåÁâπÂà´ÊòØÁúã‰∏çÂà∞Ê∫êÁ†ÅÁöÑÊó∂ÂÄô„ÄÇ ÈÄÇÁî®Âú∫Âêà ÈúÄË¶ÅÈ¢ëÁπÅÁöÑËøõË°åÂàõÂª∫ÂíåÈîÄÊØÅÁöÑÂØπË±°Ôºõ ÂàõÂª∫ÂØπË±°Êó∂ËÄóÊó∂ËøáÂ§öÊàñËÄóË¥πËµÑÊ∫êËøáÂ§öÔºå‰ΩÜÂèàÁªèÂ∏∏Áî®Âà∞ÁöÑÂØπË±°Ôºõ Â∑•ÂÖ∑Á±ªÂØπË±°Ôºõ È¢ëÁπÅËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñÊñá‰ª∂ÁöÑÂØπË±°„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143/** * http://mongodb.github.io/node-mongodb-native * http://mongodb.github.io/node-mongodb-native/3.0/api/ *///DBÂ∫ìvar MongoDB=require(&apos;mongodb&apos;);var MongoClient =MongoDB.MongoClient;const ObjectID = MongoDB.ObjectID;var Config=require(&apos;./config.js&apos;);class Db&#123; static getInstance()&#123; /*1„ÄÅÂçï‰æã Â§öÊ¨°ÂÆû‰æãÂåñÂÆû‰æã‰∏çÂÖ±‰∫´ÁöÑÈóÆÈ¢ò*/ if(!Db.instance)&#123; Db.instance=new Db(); &#125; return Db.instance; &#125; constructor()&#123; this.dbClient=&apos;&apos;; /*Â±ûÊÄß ÊîædbÂØπË±°*/ this.connect(); /*ÂÆû‰æãÂåñÁöÑÊó∂ÂÄôÂ∞±ËøûÊé•Êï∞ÊçÆÂ∫ì*/ &#125; connect()&#123; /*ËøûÊé•Êï∞ÊçÆÂ∫ì*/ let _that=this; return new Promise((resolve,reject)=&gt;&#123; if(!_that.dbClient)&#123; /*1„ÄÅËß£ÂÜ≥Êï∞ÊçÆÂ∫ìÂ§öÊ¨°ËøûÊé•ÁöÑÈóÆÈ¢ò*/ MongoClient.connect(Config.dbUrl,(err,client)=&gt;&#123; if(err)&#123; reject(err) &#125;else&#123; _that.dbClient=client.db(Config.dbName); resolve(_that.dbClient) &#125; &#125;) &#125;else&#123; resolve(_that.dbClient); &#125; &#125;) &#125; find(collectionName,json)&#123; return new Promise((resolve,reject)=&gt;&#123; this.connect().then((db)=&gt;&#123; var result=db.collection(collectionName).find(json); result.toArray(function(err,docs)&#123; if(err)&#123; reject(err); return; &#125; resolve(docs); &#125;) &#125;) &#125;) &#125; update(collectionName,json1,json2)&#123; return new Promise((resolve,reject)=&gt;&#123; this.connect().then((db)=&gt;&#123; //db.user.update(&#123;&#125;,&#123;$set:&#123;&#125;&#125;) db.collection(collectionName).updateOne(json1,&#123; $set:json2 &#125;,(err,result)=&gt;&#123; if(err)&#123; reject(err); &#125;else&#123; resolve(result); &#125; &#125;) &#125;) &#125;) &#125; insert(collectionName,json)&#123; return new Promise((resolve,reject)=&gt;&#123; this.connect().then((db)=&gt;&#123; db.collection(collectionName).insertOne(json,function(err,result)&#123; if(err)&#123; reject(err); &#125;else&#123; resolve(result); &#125; &#125;) &#125;) &#125;) &#125; remove(collectionName,json)&#123; return new Promise((resolve,reject)=&gt;&#123; this.connect().then((db)=&gt;&#123; db.collection(collectionName).removeOne(json,function(err,result)&#123; if(err)&#123; reject(err); &#125;else&#123; resolve(result); &#125; &#125;) &#125;) &#125;) &#125; getObjectId(id)&#123; /*mongodbÈáåÈù¢Êü•ËØ¢ _id ÊääÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÂØπË±°*/ return new ObjectID(id); &#125;&#125;module.exports=Db.getInstance();]]></content>
      <tags>
        <tag>Koa</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue-cli3ÈÄöÁî®Â§öÈ°µÈù¢ËÑöÊâãÊû∂]]></title>
    <url>%2F2018%2F10%2F29%2FVue-cli3%E9%80%9A%E7%94%A8%E5%A4%9A%E9%A1%B5%E9%9D%A2%E8%84%9A%E6%89%8B%E6%9E%B6%2F</url>
    <content type="text"><![CDATA[ÁõÆÂâç vue-cli3 ÁîüÊàêÁöÑÈÖçÁΩÆÊòØÂÅöÂçïÈ°µÈù¢ÁöÑÔºåÁÑ∂ËÄåÔºåÊàë‰ª¨ÊúâÊó∂‰πü‰ºöÊúâÂ§öÈ°µÈù¢ÁöÑÈúÄÊ±Ç „ÄÇÊØîÂ¶ÇÊàë‰ª¨ÊúÄÂ∏∏ËßÅÁöÑ‰∏Ä‰∏™È°πÁõÆË∑ëÂ§ö‰∏™Áã¨Á´ãÁöÑÂ∞èÂûãÁöÑH5È°µÈù¢ÔºåËøô‰∫õÈ°µÈù¢‰∏çÂèØËÉΩÊØè‰∏ÄÊ¨°ÈÉΩÂºÄ‰∏Ä‰∏™Êñ∞È°πÁõÆ.‰ΩÜÊòØÂú®ÂÆûÈôÖÁöÑÈ°πÁõÆ‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅËøôÊ†∑ÁöÑËÑöÊâãÊû∂ÔºåÂèÇËÄÉ‰∫ÜÂæàÂ§öÂ§ßÁâõÁöÑËÑöÊâãÊû∂ÔºåËøôÈáåÊèê‰æõ‰∫Ü‰∏ÄÁßçÊàëÁöÑÂçïÈ°µÈù¢ËÑöÊâãÊû∂ËΩ¨Êç¢‰∏∫Â§öÈ°µÈù¢ËÑöÊâãÊû∂ÁöÑÊñπÊ°àÔºå‰æõÂ§ßÂÆ∂ÂèÇËÄÉ„ÄÇ Ë¶ÅÊ±ÇÔºö 1.È¶ñÈ°µÊòæÁ§∫È°πÁõÆÊâÄÊúâÁöÑH5ÈìæÊé•ÂàóË°®Ôºõ 2.ÊîØÊåÅÂ∞èÂûãÊú¨Âú∞Êî∂ÊçÆmock,Êñπ‰æøÊú¨Âú∞ÊµãËØïÊé•Âè£„ÄêÊàë‰∏™‰∫∫‰∏çÊé®ËçêÔºåÂª∫ËÆÆmockÂíåÈ°πÁõÆÂàÜÁ¶ª„Äë ÂáÜÂ§á‰ΩøÁî®vue-cliÁîüÊàê‰∏Ä‰∏™‰Ω†ÈúÄË¶ÅÁöÑÂçïÈ°µÈù¢È°πÁõÆËÑöÊâãÊû∂ÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•‰∏∫ÊâÄÊ¨≤‰∏∫‰∫ÜÔºåÁõÆÂΩïÊàëÂ∞±‰∏çËØ¥Êòé‰∫ÜÔºåÈªòËÆ§Â§ßÂÆ∂ÈÉΩÁü•ÈÅì„ÄÇ ÊØè‰∏ÄÊ¨°Êñ∞ÂºÄÁöÑÈ°µÈù¢ÈÉΩÂú®pagesÈáåÈù¢Ëµ∑‰∏Ä‰∏™Êñá‰ª∂Â§π,Êñá‰ª∂Â§πÂêçÂ≠óÂ∞±ÊòØH5È°µÈù¢ÂêçÂ≠ó,ÂÖ•Âè£Êñá‰ª∂ÊòØÊñá‰ª∂Â§πÁöÑindex.htmlÂíåindex.js„ÄÇ ‰øÆÊîπvue.config.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182let path = require(&apos;path&apos;)let glob = require(&apos;glob&apos;)let mock = require(&apos;./src/mock/index.json&apos;);var BundleAnalyzerPlugin = require(&apos;webpack-bundle-analyzer&apos;).BundleAnalyzerPlugin;//ÈÖçÁΩÆpagesÂ§öÈ°µÈù¢Ëé∑ÂèñÂΩìÂâçÊñá‰ª∂Â§π‰∏ãÁöÑhtmlÂíåjsfunction getEntry(globPath) &#123; let entries = &#123;&#125;; glob.sync(globPath).forEach(function(entry) &#123; var tmp = entry.split(&apos;/&apos;).splice(-3); entries[tmp[1]] = &#123; entry: &apos;src/&apos; + tmp[0] + &apos;/&apos; + tmp[1] + &apos;/&apos; + &apos;index.js&apos;, template: &apos;src/&apos; + tmp[0] + &apos;/&apos; + tmp[1] + &apos;/&apos; + &apos;index.html&apos;, filename: tmp[1] &#125;; &#125;); return entries;&#125;let pages = getEntry(&apos;./src/pages/**?/*.html&apos;);module.exports = &#123; lintOnSave: false, baseUrl: process.env.NODE_ENV === &quot;production&quot; ? &apos;https://www.baidu.com/&apos; : &apos;/&apos;, productionSourceMap: false, pages, devServer: &#123; index: &apos;/&apos;, open: process.platform === &apos;darwin&apos;, host: &apos;&apos;, port: 9527, https: false, hotOnly: false, proxy: &#123; &apos;/xrf/&apos;: &#123; target: &apos;http://reg.tool.hexun.com/&apos;, changeOrigin: true, pathRewrite: &#123; &apos;^/xrf&apos;: &apos;&apos; &#125; &#125;, &#125;, // ËÆæÁΩÆ‰ª£ÁêÜ before: app =&gt; &#123; app.get(&apos;/&apos;, (req, res, next) =&gt; &#123; for(let i in pages)&#123; res.write(`&lt;a target=&quot;_self&quot; href=&quot;/$&#123;i&#125;&quot;&gt;/$&#123;i&#125;&lt;/a&gt;&lt;/br&gt;`); &#125; res.end() &#125;); app.get(&apos;/goods/list&apos;, (req, res, next) =&gt; &#123; //mockÊï∞ÊçÆ res.status(299).json(mock) &#125;) &#125; &#125;, chainWebpack: config =&gt; &#123; config.module .rule(&apos;images&apos;) .use(&apos;url-loader&apos;) .loader(&apos;url-loader&apos;) .tap(options =&gt; &#123; // ‰øÆÊîπÂÆÉÁöÑÈÄâÈ°π... options.limit = 100 return options &#125;) Object.keys(pages).forEach(entryName =&gt; &#123; config.plugins.delete(`prefetch-$&#123;entryName&#125;`); &#125;); if(process.env.NODE_ENV === &quot;production&quot;) &#123; config.plugin(&quot;extract-css&quot;).tap(() =&gt; [&#123; path: path.join(__dirname, &quot;./dist&quot;), filename: &quot;css/[name].[contenthash:8].css&quot; &#125;]); &#125; &#125;, configureWebpack: config =&gt; &#123; // if(process.env.NODE_ENV === &quot;production&quot;) &#123; // config.output = &#123; // path: path.join(__dirname, &quot;./dist&quot;), // filename: &quot;js/[name].[contenthash:8].js&quot; // &#125;; // &#125; &#125;&#125; ÂêØÂä®È°πÁõÆÔºåÊòæÁ§∫È°πÁõÆÊâÄÊúâH5ËøûÊé• ÊúÄ‰∏ªË¶ÅÁöÑÊòØ‰øÆÊîπÔºö beforeÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞expressÂÆû‰æã„ÄÇ 1234567891011before: app =&gt; &#123; app.get(&apos;/&apos;, (req, res, next) =&gt; &#123; for(let i in pages)&#123; //ÈÅçÂéÜÈ°πÁõÆÈìæÊé• res.write(`&lt;a target=&quot;_self&quot; href=&quot;/$&#123;i&#125;&quot;&gt;/$&#123;i&#125;&lt;/a&gt;&lt;/br&gt;`); &#125; res.end() &#125;); app.get(&apos;/goods/list&apos;, (req, res, next) =&gt; &#123; //mockÊï∞ÊçÆ res.status(299).json(mock) &#125;) &#125;]]></content>
      <tags>
        <tag>Vue-cli</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂâñÊûênodeÁöÑCommon.JS]]></title>
    <url>%2F2018%2F10%2F27%2F%E5%89%96%E6%9E%90node%E7%9A%84Common-JS%2F</url>
    <content type="text"><![CDATA[JavascriptÊúÄÂºÄÂßãÊòØÊÄéÊ†∑ÂÆûÁé∞Ê®°ÂùóÂåñÂë¢ÔºüÊàë‰ª¨Áü•ÈÅìjavascriptÊúÄÂºÄÂßãÊòØÈù¢ÂêëËøáÁ®ãÁöÑÊÄùÁª¥ÁºñÁ®ãÔºåÈöèÁùÄ‰ª£Á†ÅË∂äÊù•Ë∂äÂ∫ûÂ§ß„ÄÅÂ§çÊùÇÔºåÂú®ËøôÁßçÂÆûÈôÖÈÅáÂà∞ÁöÑÈóÆÈ¢ò‰∏≠ÔºåÂ§ß‰Ω¨‰ª¨ÈÄêÊ∏êÊääÈù¢ÂêëÂØπË±°„ÄÅÊ®°ÂùóÂåñÁöÑÊÄùÊÉ≥Áî®Âú®javascriptÂΩì‰∏≠„ÄÇ ‰∏ÄÂºÄÂßãÔºåÊàë‰ª¨ÊòØÊää‰∏çÂêåÂäüËÉΩÂÜôÂú®‰∏çÂêåÂáΩÊï∞ÂΩì‰∏≠// ÊØîÂ¶ÇgetCssAttrÂáΩÊï∞Êù•Ëé∑ÂèñCssÂ±ûÊÄßÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅËé∑ÂèñCssÂ±ûÊÄßÁöÑÊó∂ÂÄôÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ËØ•ÊñπÊ≥ï function getCssAttr(obj, attr) { if (obj.currentStyle) { return obj.currentStyle[attr]; } else { return window.getComputedStyle(obj, null)[attr]; } } // ÊØîÂ¶ÇtoJSONÂáΩÊï∞ËÉΩÂ§üÊääurlÁöÑqueryËΩ¨‰∏∫JSONÂØπË±° function toJSON(str) { var obj = {}, allArr = [], splitArr = []; str = str.indexOf(&apos;?&apos;) &gt;= 0 ? str.substr(1) : str; allArr = str.split(&apos;&amp;&apos;); for (var i = 0; i &lt; allArr.length; i++) { splitArr = allArr[i].split(&apos;=&apos;); obj[splitArr[0]] = splitArr[1]; } return obj; } ËøôÊ†∑getCssAttrÂáΩÊï∞ÂíåtoJSONÁªÑÊàê‰∫ÜÊ®°ÂùóÔºåÂΩìÈúÄË¶Å‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØÔºå‰ΩÜÊòØÈöèÁùÄÈ°πÁõÆ‰ª£Á†ÅÈáèË∂äÊù•Ë∂äÂ∫ûÂ§ßÂíåÂ§çÊùÇÔºåËÄå‰∏îËøôÁßçÊñπÂºè‰ºöÂØπÂÖ®Â±ÄÂèòÈáèÈÄ†Êàê‰∫ÜÊ±°Êüì„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥‰∏äÈù¢ÁöÑÈóÆÈ¢òÔºå‰ºöÊÉ≥Âà∞ÊääËøô‰∫õÊñπÊ≥ï„ÄÅÂèòÈáèÊîæÂà∞ÂØπË±°‰∏≠let utils = new Object({ getCssAttr:function(){...}, toJSON:function(){...} }) ÂΩìÈúÄË¶ÅË∞ÉÁî®Áõ∏Â∫îÂáΩÊï∞Êó∂ÔºåÊàë‰ª¨ÈÄöËøáÂØπË±°Ë∞ÉÁî®Âç≥ÂèØÔºåutils.getCssAttr()„ÄÅutils.toJSON()Ôºå‰ΩÜÊòØËøôÊ†∑‰ºöÂ≠òÂú®‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÂ§ñÈÉ®‰øÆÊîπÂÜÖÈÉ®ÊñπÊ≥ïÂ±ûÊÄß„ÄÇ utils.getCssAttr = null ÈÇ£‰πàÊàë‰ª¨ÊúâÂäûÊ≥ïËÆ©ÂÜÖÈÉ®ÊñπÊ≥ïÂ±ûÊÄß‰∏çË¢´‰øÆÊîπÂêóÔºüÁ≠îÊ°àÊòØÂèØ‰ª•ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈó≠ÂåÖÁöÑÊñπÂºèÔºå‰ΩøÁßÅÊúâÊàêÂëò‰∏çÊö¥Èú≤Âú®Â§ñÈÉ®„ÄÇ let utils = (function(){ let getCssAttr = function(){...} let toJSON = function(){...} return { getCssAttr, toJSON } })() ËøôÊ†∑ÁöÑËØùÔºåÂ§ñÈÉ®Â∞±Êó†Ê≥ïÊîπÂèòÂÜÖÈÉ®ÁöÑÁßÅÊúâÊàêÂëò‰∫Ü„ÄÇ CMDÂíåAMDËßÑËåÉËØïÊÉ≥‰∏Ä‰∏ãÔºåÂ¶ÇÊûú‰∏Ä‰∏™È°πÁõÆÔºåÊâÄÊúâËΩÆÂ≠êÈÉΩËá™Â∑±ÈÄ†ÔºåÂú®Áé∞Âú®ËøΩÊ±ÇÊïèÊç∑ÂºÄÂèëÁöÑÁéØÂ¢É‰∏ãÔºåÊàë‰ª¨ÊúâÂøÖË¶ÅÊâÄÊúâËΩÆÂ≠êÈÉΩËá™Â∑±ÈÄ†ÂêóÔºü‰∏Ä‰∫õÂ∏∏Áî®ÈÄöÁî®ÁöÑÂäüËÉΩÔºåÊòØÂê¶ÂèØ‰ª•ÊèêÂèñÂá∫Êù•Ôºå‰æõÂ§ßÂÆ∂‰ΩøÁî®ÔºåÊèêÈ´òÂºÄÂèëÊïàÁéáÔºü Ê≠£ÊâÄË∞ìÔºåÊó†ËßÑÁü©‰∏çÊàêÊñπÂúÜÔºåÊØè‰∏™Á®ãÂ∫èÁåøÁöÑ‰ª£Á†ÅÈ£éÊ†ºËÇØÂÆöÊòØÊúâÂ∑ÆÂºÇÁöÑÔºå‰Ω†ÂÜô‰Ω†ÁöÑÔºåÊàëÂÜôÊàëÁöÑÔºåËøôÊ†∑Â∞±ÂæàÈöæÊµÅÈÄö‰∫ÜÔºå‰ΩÜÊòØÂ¶ÇÊûúÂ§ßÂÆ∂ÈÉΩÈÅµÂæ™‰∏Ä‰∏™ËßÑËåÉÁºñÂÜô‰ª£Á†ÅÔºåÂΩ¢Êàê‰∏Ä‰∏™‰∏™Ê®°ÂùóÔºåÂ∞±ÊòæÂæóÈùûÂ∏∏ÈáçË¶Å‰∫Ü„ÄÇ Âú®ËøôÊ†∑ÁöÑËÉåÊôØ‰∏ãÔºåÂΩ¢Êàê‰∫Ü‰∏§ÁßçËßÑËåÉÔºå‰∏ÄÁßçÊòØ‰ª•sea.js‰∏∫‰ª£Ë°®ÁöÑCMDËßÑËåÉÔºåÂè¶Â§ñ‰∏ÄÁßçÊòØ‰ª•require.js‰∏∫‰ª£Ë°®ÁöÑAMDËßÑËåÉ„ÄÇ CMDËßÑËåÉÔºàCommon Module Definition ÈÄöÁî®Ê®°ÂùóÂÆö‰πâÔºâ AMDËßÑËåÉÔºàAsynchronous Module Definition ÂºÇÊ≠•Ê®°ÂùóÂÆö‰πâÔºâ Âú®node.js‰∏≠ÊòØÈÅµÂæ™commonJSËßÑËåÉÁöÑÔºåÂú®ÂØπÊ®°ÂùóÁöÑÂØºÂÖ•ÊòØÂêåÊ≠•ÁöÑÔºå‰∏∫‰ªÄ‰πàËøôÊ†∑ËØ¥ÔºüÂõ†‰∏∫Âú®ÊúçÂä°Âô®‰∏≠ÔºåÊ®°ÂùóÈÉΩÊòØÂ≠òÂú®Êú¨Âú∞ÁöÑÔºåÂç≥‰ΩøË¶ÅÂØºÂÖ•Ê®°ÂùóÔºå‰πüÂè™ÊòØËÄóË¥π‰∫Ü‰ªéÁ°¨ÁõòËØªÂèñÊ®°ÂùóÁöÑÊó∂Èó¥ÔºåËÄå‰∏îÂèØÊéß„ÄÇ ‰ΩÜÊòØÂú®ÊµèËßàÂô®‰∏≠ÔºåÊ®°ÂùóÊòØÈúÄË¶ÅÈÄöËøáÁΩëÁªúËØ∑Ê±ÇËé∑ÂèñÁöÑÔºåÂ¶ÇÊûúÊòØÂêåÊ≠•Ëé∑ÂèñÁöÑËØùÔºåÈÇ£‰πàÁΩëÁªúËØ∑Ê±ÇÁöÑÊó∂Èó¥Ê≤°ÂäûÊ≥ï‰øùËØÅÔºå‰ºöÈÄ†ÊàêÊµèËßàÂô®ÂÅáÊ≠ªÁöÑÔºå‰ΩÜÊòØÂºÇÊ≠•ÁöÑËØùÔºåÊòØ‰∏ç‰ºöÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºåÊâÄ‰ª•‰∏çÁÆ°ÊòØCMDËøòÊòØAMDÔºåÈÉΩÊòØÂ±û‰∫éÂºÇÊ≠•ÁöÑÔºåCMDÂíåAMDÈÉΩÊòØÂ±û‰∫éÂºÇÊ≠•Âä†ËΩΩÊ®°ÂùóÔºåÂΩìÊâÄÈúÄË¶Å‰æùËµñÁöÑÊ®°ÂùóÂä†ËΩΩÂÆåÊØïÂêéÔºåÊâçÈÄöËøá‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂÜôÊàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑ‰∏öÂä°ÈÄªËæë„ÄÇ CMDÂíåAMDÁöÑÂºÇÂêå CMDÊòØÂª∂ËøüÊâßË°åÔºå‰æùËµñÂ∞±ËøëÔºåËÄåAMDÊòØÊèêÂâçÊâßË°åÔºå‰æùËµñÂâçÁΩÆÔºàrequire2.0ÂºÄÂßãÂèØ‰ª•ÊîπÊàêÂª∂ËøüÊâßË°åÔºâÔºåÊÄé‰πàÁêÜËß£Âë¢ÔºüÁúãÁúã‰∏ãÈù¢‰ª£Á†Å1234567891011121314// CMDdefine(function(require,exports,module)&#123; var a = require(&apos;./a&apos;) a.run() var b = require(&apos;./b&apos;) b.eat()&#125;)// AMDdefine([&apos;./a&apos;,&apos;./b&apos;],function(a,b)&#123; a.run() b.eat()&#125;) CMD,AMDÊâßË°åÂØπÊØî ‚Äî CMD AMD ÊâßË°åÂõûË∞ÉÂáΩÊï∞ÁöÑÊó∂Êú∫ Âø´ ÊÖ¢ ÊâßË°åÂõûË∞ÉÂáΩÊï∞ÂÜÖÁöÑ‰∏öÂä° ÊÖ¢ Âø´ node.jsÈÅµÂæ™ÁöÑcommonJsËßÑËåÉÈ¶ñÂÖàÔºåÊàë‰ª¨Êù•ÂâñÊûê‰∏Ä‰∏ãcommonJsÁöÑÊ∫êÁ†ÅÊàë‰ª¨ÂàÜÂà´ÂàõÂª∫‰∏§‰∏™Êñá‰ª∂useModule.js„ÄÅmodule.jsÔºåÂπ∂‰∏îÊâì‰∏äÊñ≠ÁÇπ„ÄÇ12345678910111213// useModule.jslet utils = require(&apos;./module&apos;)utils = require(&apos;./module&apos;)utils.sayhello()// module.jslet utils = &#123; sayhello:function()&#123; console.log(&apos;hello swr&apos;) &#125;&#125;module.exports = utils ÁÑ∂ÂêéÂºÄÂßãÊâßË°åÔºåÊàë‰ª¨È¶ñÂÖà‰ºöËøõÂÖ•commonJsÁöÑÊ∫êÁ†Å‰∫Ü Âú®ÊúÄ‰∏äÈù¢ÂèØ‰ª•ÁúãÂá∫ÊòØ‰∏Ä‰∏™Èó≠ÂåÖÁöÑÂΩ¢Âºè 123(function(exports,require,module,__filename,__dirname))&#123; //...&#125; ÔºåËøôÈáåÂèØ‰ª•ÁúãÂá∫__dirnameÂíå__filenameÂπ∂ÈùûÊòØglobal‰∏äÁöÑÂ±ûÊÄßÔºåËÄåÊòØÊØè‰∏™Ê®°ÂùóÂØπÂ∫îÁöÑË∑ØÂæÑ„ÄÇ ËÄå‰∏îÊàë‰ª¨Âú®Ê®°ÂùóÂΩì‰∏≠thisÂπ∂‰∏çÊòØÊåáÂêëglobalÁöÑÔºåËÄåÊòØÊåáÂêëmodule.exportsÔºåËá≥‰∫é‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Âë¢Ôºü‰∏ãÈù¢‰ºöËÆ≤Âà∞„ÄÇ Âú®Á∫¢Ê°Ü‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞requireÂáΩÊï∞Ôºåexports.requireDepthÂèØ‰ª•ÊöÇÊó∂‰∏çÁî®ÁÆ°ÔºåÊòØ‰∏Ä‰∏™ÂºïÁî®Ê∑±Â∫¶ÁöÑÂèòÈáèÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÂæÄ‰∏ãÁúãÔºåreturn mod.require(path)ÔºåËøôÈáåÁöÑmodÂ∞±ÊòØÊØè‰∏Ä‰∏™Êñá‰ª∂„ÄÅÊ®°ÂùóÔºåËÄåÈáåÈù¢ÈÉΩÊúâ‰∏Ä‰∏™requireÊñπÊ≥ïÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãmod.requireÂáΩÊï∞ÂÜÖÈÉ®ÊòØÊÄé‰πàÂÜôÁöÑ„ÄÇËøõÊù•ÂêéÔºåÊàë‰ª¨‰ºöÁúãÂà∞2‰∏™assertÊñ≠Ë®ÄÔºåÁî®Êù•Âà§Êñ≠pathÂèÇÊï∞ÊòØÂê¶‰º†ÈÄí‰∫ÜÔºåpathÊòØÂê¶Â≠óÁ¨¶‰∏≤Á±ªÂûãÁ≠âÁ≠â„ÄÇ return Module._load(path,this,false)Ôºåpath‰∏∫Êàë‰ª¨‰º†ÂÖ•ÁöÑÊ®°ÂùóË∑ØÂæÑÔºåthisÂàôÊòØËøô‰∏™Ê®°ÂùóÔºåfalseÂàô‰∏çÊòØ‰∏ªË¶ÅÊ®°ÂùóÔºå‰∏ªË¶ÅÊ®°ÂùóÁöÑÊÑèÊÄùÊòØÔºåÂ¶ÇÊûúa.jsÂä†ËΩΩ‰∫Üb.jsÔºåÈÇ£‰πàa.jsÊòØ‰∏ªË¶ÅÊ®°ÂùóÔºåËÄåb.jsÂàôÊòØÈùû‰∏ªË¶ÅÊ®°Âùó„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãModule._loadËøô‰∏™ÈùôÊÄÅÊñπÊ≥ï123456789101112131415161718192021222324252627282930313233Module._load = function(request, parent, isMain) &#123; // ËÆ°ÁÆóÁªùÂØπË∑ØÂæÑ var filename = Module._resolveFilename(request, parent); // Á¨¨‰∏ÄÊ≠•ÔºöÂ¶ÇÊûúÊúâÁºìÂ≠òÔºåÂèñÂá∫ÁºìÂ≠ò var cachedModule = Module._cache[filename]; if (cachedModule) &#123; return cachedModule.exports; &#125; // Á¨¨‰∫åÊ≠•ÔºöÊòØÂê¶‰∏∫ÂÜÖÁΩÆÊ®°Âùó if (NativeModule.exists(filename)) &#123; return NativeModule.require(filename); &#125; // Á¨¨‰∏âÊ≠•ÔºöÁîüÊàêÊ®°ÂùóÂÆû‰æãÔºåÂ≠òÂÖ•ÁºìÂ≠ò var module = new Module(filename, parent); Module._cache[filename] = module; // Á¨¨ÂõõÊ≠•ÔºöÂä†ËΩΩÊ®°Âùó try &#123; module.load(filename); hadException = false; &#125; finally &#123; if (hadException) &#123; delete Module._cache[filename]; &#125; &#125; // Á¨¨‰∫îÊ≠•ÔºöËæìÂá∫Ê®°ÂùóÁöÑexportsÂ±ûÊÄß return module.exports;&#125;; var filename = Module._resolveFilename(request, parent, isMain)ÔºåËøôÈáåÁöÑÁõÆÁöÑÊòØËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑÔºåÊàë‰ª¨ÂèØ‰ª•ËøõÂéªÁúãÁúãModule._resolveFilenameÂáΩÊï∞ÊòØÊÄé‰πàÂÜôÁöÑ123456789101112131415161718192021Module._resolveFilename = function(request, parent) &#123; // Á¨¨‰∏ÄÊ≠•ÔºöÂ¶ÇÊûúÊòØÂÜÖÁΩÆÊ®°ÂùóÔºå‰∏çÂê´Ë∑ØÂæÑËøîÂõû if (NativeModule.exists(request)) &#123; return request; &#125; // Á¨¨‰∫åÊ≠•ÔºöÁ°ÆÂÆöÊâÄÊúâÂèØËÉΩÁöÑË∑ØÂæÑ var resolvedModule = Module._resolveLookupPaths(request, parent); var id = resolvedModule[0]; var paths = resolvedModule[1]; // Á¨¨‰∏âÊ≠•ÔºöÁ°ÆÂÆöÂì™‰∏Ä‰∏™Ë∑ØÂæÑ‰∏∫Áúü var filename = Module._findPath(request, paths); if (!filename) &#123; var err = new Error(&quot;Cannot find module &apos;&quot; + request + &quot;&apos;&quot;); err.code = &apos;MODULE_NOT_FOUND&apos;; throw err; &#125; return filename;&#125;; ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂú® Module.resolveFilrename ÊñπÊ≥ïÂÜÖÈÉ®ÔºåÂèàË∞ÉÁî®‰∫Ü‰∏§‰∏™ÊñπÊ≥ï Module.reqolveLookPaths()Âíå Module._findPath(),ÂâçËÄÖÁî®Êù•ÂàóÂá∫ÂèØËÉΩÁöÑË∑ØÂæÑÔºåÂêéËÄÖÁî®Êù•Á°ÆËÆ§Âì™‰∏Ä‰∏™Ë∑ØÂæÑ‰∏∫Áúü„ÄÇÊúâ‰∫ÜÂèØËÉΩÁöÑË∑ØÂæÑ‰ª•ÂêéÔºå‰∏ãÈù¢Â∞±ÊòØ Module._findPath()ÁöÑÊ∫êÁ†ÅÔºåÁî®Êù•Á°ÆÂÆöÂà∞Â∫ïÂì™‰∏Ä‰∏™ÊòØÊ≠£Á°ÆË∑ØÂæÑ„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354Module._findPath = function(request, paths) &#123; // ÂàóÂá∫ÊâÄÊúâÂèØËÉΩÁöÑÂêéÁºÄÂêçÔºö.jsÔºå.json, .node var exts = Object.keys(Module._extensions); // Â¶ÇÊûúÊòØÁªùÂØπË∑ØÂæÑÔºåÂ∞±‰∏çÂÜçÊêúÁ¥¢ if (request.charAt(0) === &apos;/&apos;) &#123; paths = [&apos;&apos;]; &#125; // ÊòØÂê¶ÊúâÂêéÁºÄÁöÑÁõÆÂΩïÊñúÊù† var trailingSlash = (request.slice(-1) === &apos;/&apos;); // Á¨¨‰∏ÄÊ≠•ÔºöÂ¶ÇÊûúÂΩìÂâçË∑ØÂæÑÂ∑≤Âú®ÁºìÂ≠ò‰∏≠ÔºåÂ∞±Áõ¥Êé•ËøîÂõûÁºìÂ≠ò var cacheKey = JSON.stringify(&#123;request: request, paths: paths&#125;); if (Module._pathCache[cacheKey]) &#123; return Module._pathCache[cacheKey]; &#125; // Á¨¨‰∫åÊ≠•Ôºö‰æùÊ¨°ÈÅçÂéÜÊâÄÊúâË∑ØÂæÑ for (var i = 0, PL = paths.length; i &lt; PL; i++) &#123; var basePath = path.resolve(paths[i], request); var filename; if (!trailingSlash) &#123; // Á¨¨‰∏âÊ≠•ÔºöÊòØÂê¶Â≠òÂú®ËØ•Ê®°ÂùóÊñá‰ª∂ filename = tryFile(basePath); if (!filename &amp;&amp; !trailingSlash) &#123; // Á¨¨ÂõõÊ≠•ÔºöËØ•Ê®°ÂùóÊñá‰ª∂Âä†‰∏äÂêéÁºÄÂêçÔºåÊòØÂê¶Â≠òÂú® filename = tryExtensions(basePath, exts); &#125; &#125; // Á¨¨‰∫îÊ≠•ÔºöÁõÆÂΩï‰∏≠ÊòØÂê¶Â≠òÂú® package.json if (!filename) &#123; filename = tryPackage(basePath, exts); &#125; if (!filename) &#123; // Á¨¨ÂÖ≠Ê≠•ÔºöÊòØÂê¶Â≠òÂú®ÁõÆÂΩïÂêç + index + ÂêéÁºÄÂêç filename = tryExtensions(path.resolve(basePath, &apos;index&apos;), exts); &#125; // Á¨¨‰∏ÉÊ≠•ÔºöÂ∞ÜÊâæÂà∞ÁöÑÊñá‰ª∂Ë∑ØÂæÑÂ≠òÂÖ•ËøîÂõûÁºìÂ≠òÔºåÁÑ∂ÂêéËøîÂõû if (filename) &#123; Module._pathCache[cacheKey] = filename; return filename; &#125; &#125; // Á¨¨ÂÖ´Ê≠•ÔºöÊ≤°ÊúâÊâæÂà∞Êñá‰ª∂ÔºåËøîÂõûfalse return false;&#125;; ÊúâÊó∂Âú®È°πÁõÆ‰ª£Á†Å‰∏≠ÔºåÈúÄË¶ÅË∞ÉÁî®Ê®°ÂùóÁöÑÁªùÂØπË∑ØÂæÑÔºåÈÇ£‰πàÈô§‰∫Ü module.filename ÔºåNode ËøòÊèê‰æõ‰∏Ä‰∏™ require.resolve ÊñπÊ≥ïÔºå‰æõÂ§ñÈÉ®Ë∞ÉÁî®ÔºåÁî®‰∫é‰ªéÊ®°ÂùóÂêçÂèñÂà∞ÁªùÂØπË∑ØÂæÑ„ÄÇ1234567require.resolve = function(request) &#123; return Module._resolveFilename(request, self);&#125;;// Áî®Ê≥ïrequire.resolve(&apos;a.js&apos;)// ËøîÂõû /Users/danlan/workspace/node-stu/ree/a.js Module._resolveFilenameÂáΩÊï∞‰πüÊ≤°‰ªÄ‰πàÂ•ΩËØ¥ÁöÑÔºåÂ∞±ÊòØÂà§Êñ≠ÂêÑÁßçÊÉÖÂÜµÔºåÁÑ∂ÂêéËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑÂá∫Êù•ÔºåÊàë‰ª¨Ë∑≥Âá∫Ëøô‰∏™ÂáΩÊï∞ÔºåÂõûÂà∞Module._load‰∏≠.ÁÑ∂ÂêéÊàë‰ª¨ÁúãÂà∞var cachedModule = Module._cache[filename]ÔºåËøôÊòØÊàë‰ª¨Âä†ËΩΩÊ®°ÂùóÁöÑÁºìÂ≠òÊú∫Âà∂ÔºåÂ∞±ÊòØËØ¥Êàë‰ª¨Âä†ËΩΩËøá‰∏ÄÊ¨°Ê®°ÂùóÂêéÔºå‰ºöÁºìÂ≠òÂà∞Module._cacheËøô‰∏™ÂØπË±°‰∏≠ÔºåÂπ∂‰∏îÊòØ‰ª•filename‰Ωú‰∏∫ÈîÆÂêçÔºåÂõ†‰∏∫Ë∑ØÂæÑÊòØÂîØ‰∏ÄÁöÑÔºåÊâÄ‰ª•‰ª•Ë∑ØÂæÑ‰Ωú‰∏∫ÂîØ‰∏ÄÊ†áËØÜÔºåÂ¶ÇÊûúÂ∑≤ÁªèÁºìÂ≠òËøáÔºåÂàô‰ºöÁõ¥Êé•ËøîÂõûËøô‰∏™ÁºìÂ≠òËøáÁöÑÊ®°Âùó„ÄÇ NativeModule.nonInternalExists(filename)Âà§Êñ≠ÊòØÂê¶ÂéüÁîüÊ®°ÂùóÔºåÊòØÁöÑËØùÂàôÁõ¥Êé•ËøîÂõûÊ®°Âùó„ÄÇ ÁªèËøá‰∏äÈù¢‰∏§‰∏™Âà§Êñ≠ÔºåÂü∫Êú¨ÂèØ‰ª•Âà§ÂÆöËøô‰∏™Ê®°ÂùóÊ≤°Ë¢´Âä†ËΩΩËøáÔºåÈÇ£‰πàÊé•‰∏ãÊù•ÁúãÂà∞var module = new Module(filename, parent)ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Ê®°ÂùóÔºåÊàë‰ª¨ÁúãÁúãModuleËøô‰∏™ÊûÑÈÄ†ÂáΩÊï∞Êúâ‰ªÄ‰πàÂÜÖÂÆπ123456module.id Ê®°ÂùóÁöÑËØÜÂà´Á¨¶ÔºåÈÄöÂ∏∏ÊòØÂ∏¶ÊúâÁªùÂØπË∑ØÂæÑÁöÑÊ®°ÂùóÊñá‰ª∂Âêç„ÄÇmodule.filename Ê®°ÂùóÁöÑÊñá‰ª∂ÂêçÔºåÂ∏¶ÊúâÁªùÂØπË∑ØÂæÑ„ÄÇmodule.loaded ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫Ê®°ÂùóÊòØÂê¶Â∑≤ÁªèÂÆåÊàêÂä†ËΩΩ„ÄÇmodule.parent ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåË°®Á§∫Ë∞ÉÁî®ËØ•Ê®°ÂùóÁöÑÊ®°Âùó„ÄÇmodule.children ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåË°®Á§∫ËØ•Ê®°ÂùóË¶ÅÁî®Âà∞ÁöÑÂÖ∂‰ªñÊ®°Âùó„ÄÇmodule.exports Ë°®Á§∫Ê®°ÂùóÂØπÂ§ñËæìÂá∫ÁöÑÂÄº„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Á§∫‰æãÊñá‰ª∂ÔºåÊúÄÂêé‰∏ÄË°åËæìÂá∫moduleÂèòÈáè„ÄÇ 1234// example.jsvar jquery = require(&apos;jquery&apos;);exports.$ = jquery;console.log(module); ÊâßË°åËøô‰∏™Êñá‰ª∂ÔºåÂëΩ‰ª§Ë°å‰ºöËæìÂá∫Â¶Ç‰∏ã‰ø°ÊÅØ„ÄÇ 12345678910111213141516171819&#123; id: &apos;.&apos;, exports: &#123; &apos;$&apos;: [Function] &#125;, parent: null, filename: &apos;/path/to/example.js&apos;, loaded: false, children: [ &#123; id: &apos;/path/to/node_modules/jquery/dist/jquery.js&apos;, exports: [Function], parent: [Circular], filename: &apos;/path/to/node_modules/jquery/dist/jquery.js&apos;, loaded: true, children: [], paths: [Object] &#125; ], paths: [ &apos;/home/user/deleted/node_modules&apos;, &apos;/home/user/node_modules&apos;, &apos;/home/node_modules&apos;, &apos;/node_modules&apos; ]&#125; ËøôÈáåÁöÑidÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØfilenameÂîØ‰∏ÄË∑ØÂæÑÔºåÂè¶Â§ñ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÊòØthis.exportsÔºå‰πüÂ∞±ÊòØÂ∞ÜÊù•Áî®‰∫éÊö¥Èú≤Ê®°ÂùóÁöÑ„ÄÇÊàë‰ª¨Êé•ÁùÄÂæÄ‰∏ãÁúãÔºåÂú®ÂàõÂª∫‰∏Ä‰∏™ÂÆû‰æãÂêéÔºåÊé•‰∏ãÊù•ÊääËøô‰∏™ÂÆû‰æãÂ≠òÂú®ÁºìÂ≠òÂΩì‰∏≠ÔºåModule._cache[filename] = moduleÁÑ∂ÂêéÊâßË°åtryModuleLoad(module, filename)ÔºåËøô‰∏™ÂáΩÊï∞ÈùûÂ∏∏ÈáçË¶ÅÔºåÊòØÁî®Êù•Âä†ËΩΩÊ®°ÂùóÁöÑÔºåÊàë‰ª¨ÁúãÁúãÊòØÊÄé‰πàÂÜôÁöÑ ËøôÈáåÊúâ‰∏™module.loadÔºåÊàë‰ª¨ÂÜçÂæÄÈáåÈù¢ÁúãÁúãÊòØÊÄé‰πàÂÜôÁöÑ123456Module.prototype.load = function (filename) &#123; var extension = path.extname(filename) || &apos;js&apos; if(!Module._extensions[extensions]) extension = &apos;.js&apos; Module._extensions[extension](this, filename) this.loaded = true&#125; ÂÖúÂÖúËΩ¨ËΩ¨ÔºåÁªà‰∫éÊù•Âà∞ÊúÄÊ†∏ÂøÉÁöÑÂú∞Êñπ‰∫Üthis.paths = Module._nodeModulePaths(path.dirname(filename))ÔºåÊàë‰ª¨Áü•ÈÅìÔºåÊàë‰ª¨ÂÆâË£ÖnpmÂåÖÊó∂Ôºånode‰ºöÁî±ÈáåÂà∞Â§ñ‰∏ÄÂ±ÇÂ±ÇÊâænode_modulesÊñá‰ª∂Â§πÔºåËÄåËøô‰∏ÄÊ≠•ÔºåÂàôÊòØË∑ØÂæÑ‰∏ÄÂ±ÇÂ±Ç‰∏¢ËøõÊï∞ÁªÑÈáåÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãthis.pathsÁöÑÊï∞ÁªÑ CommonJS Ê®°ÂùóÊü•ÊâæËßÑËåÉ Êñ∞Âª∫‰∏Ä‰∏™b.js 1var a = require(&apos;./a.js&apos;) ËøêË°å‰∏Ä‰∏ãÔºö 123456789101112131415161718192021222324252627282930313233module.id: /Users/danlan/workspace/node-stu/ree/a.jsmodule.exports: &#123;&#125;module.parent: Module &#123; id: &apos;.&apos;, exports: &#123;&#125;, parent: null, filename: &apos;/Users/danlan/workspace/node-stu/ree/b.js&apos;, loaded: false, children: [ Module &#123; id: &apos;/Users/danlan/workspace/node-stu/ree/a.js&apos;, exports: &#123;&#125;, parent: [Circular], filename: &apos;/Users/danlan/workspace/node-stu/ree/a.js&apos;, loaded: false, children: [], paths: [Array] &#125; ], paths: [ &apos;/Users/danlan/workspace/node-stu/ree/node_modules&apos;, &apos;/Users/danlan/workspace/node-stu/node_modules&apos;, &apos;/Users/danlan/workspace/node_modules&apos;, &apos;/Users/danlan/node_modules&apos;, &apos;/Users/node_modules&apos;, &apos;/node_modules&apos; ] &#125;module.filename: /Users/danlan/workspace/node-stu/ree/a.jsmodule.loaded: falsemodule.children: []module.paths: [ &apos;/Users/danlan/workspace/node-stu/ree/node_modules&apos;, &apos;/Users/danlan/workspace/node-stu/node_modules&apos;, &apos;/Users/danlan/workspace/node_modules&apos;, &apos;/Users/danlan/node_modules&apos;, &apos;/Users/node_modules&apos;, &apos;/node_modules&apos; ] ‰∏æ‰æãÊù•ËØ¥ÔºåËÑöÊú¨/home/user/projects/foo.jsÊâßË°å‰∫Ürequire(‚Äòbar.js‚Äô)ÂëΩ‰ª§ÔºåNode‰ºö‰æùÊ¨°ÊêúÁ¥¢‰ª•‰∏ãÊñá‰ª∂„ÄÇ 12345/usr/local/lib/node/bar.js/home/user/projects/node_modules/bar.js/home/user/node_modules/bar.js/home/node_modules/bar.js/node_modules/bar.js ËøôÊ†∑ËÆæËÆ°ÁöÑÁõÆÁöÑÊòØÔºå‰ΩøÂæó‰∏çÂêåÁöÑÊ®°ÂùóÂèØ‰ª•Â∞ÜÊâÄ‰æùËµñÁöÑÊ®°ÂùóÊú¨Âú∞Âåñ„ÄÇ Â¶ÇÊûúÂèÇÊï∞Â≠óÁ¨¶‰∏≤‰∏ç‰ª•‚Äú./‚ÄúÊàñ‚Äù/‚ÄúÂºÄÂ§¥ÔºåËÄå‰∏îÊòØ‰∏Ä‰∏™Ë∑ØÂæÑÔºåÊØîÂ¶Çrequire(‚Äòexample-module/path/to/file‚Äô)ÔºåÂàôÂ∞ÜÂÖàÊâæÂà∞example-moduleÁöÑ‰ΩçÁΩÆÔºåÁÑ∂ÂêéÂÜç‰ª•ÂÆÉ‰∏∫ÂèÇÊï∞ÔºåÊâæÂà∞ÂêéÁª≠Ë∑ØÂæÑ„ÄÇ Â¶ÇÊûúÊåáÂÆöÁöÑÊ®°ÂùóÊñá‰ª∂Ê≤°ÊúâÂèëÁé∞ÔºåNode‰ºöÂ∞ùËØï‰∏∫Êñá‰ª∂ÂêçÊ∑ªÂä†.js„ÄÅ.json„ÄÅ.nodeÂêéÔºåÂÜçÂéªÊêúÁ¥¢„ÄÇ.js‰ª∂‰ºö‰ª•ÊñáÊú¨Ê†ºÂºèÁöÑJavaScriptËÑöÊú¨Êñá‰ª∂Ëß£ÊûêÔºå.jsonÊñá‰ª∂‰ºö‰ª•JSONÊ†ºÂºèÁöÑÊñáÊú¨Êñá‰ª∂Ëß£ÊûêÔºå.nodeÊñá‰ª∂‰ºö‰ª•ÁºñËØëÂêéÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Ëß£Êûê„ÄÇ Â¶ÇÊûúÊÉ≥ÂæóÂà∞requireÂëΩ‰ª§Âä†ËΩΩÁöÑÁ°ÆÂàáÊñá‰ª∂ÂêçÔºå‰ΩøÁî®require.resolve()ÊñπÊ≥ï„ÄÇ ÁõÆÂΩïÁöÑÂä†ËΩΩËßÑÂàô Âú®ÁõÆÂΩï‰∏≠ÊîæÁΩÆ‰∏Ä‰∏™package.jsonÊñá‰ª∂ÔºåÂπ∂‰∏îÂ∞ÜÂÖ•Âè£Êñá‰ª∂ÂÜôÂÖ•mainÂ≠óÊÆµ„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰æãÂ≠ê„ÄÇ 12345// package.json&#123; &quot;name&quot; : &quot;some-library&quot;, &quot;main&quot; : &quot;./lib/some-library.js&quot; &#125; ÁªßÁª≠ÂæÄ‰∏ãÁúãÔºåvar extension = path.extname(filename) || &#39;.js&#39;ÊòØËé∑ÂèñÂêéÁºÄÂêçÔºåÂ¶ÇÊûúÊ≤°ÊúâÂêéÁºÄÂêçÁöÑËØùÔºåÊöÇÊó∂ÈªòËÆ§Ê∑ªÂä†‰∏Ä‰∏™.jsÂêéÁºÄÂêç„ÄÇÁªßÁª≠ÂæÄ‰∏ãÁúãÔºåif (!Module._extensions[extension]) extension = &#39;.js&#39;ÊòØÂà§Êñ≠Module._extensionsËøô‰∏™ÂØπË±°ÔºåÊòØÂê¶ÊúâËøô‰∏™Â±ûÊÄßÔºåÂ¶ÇÊûúÊ≤°ÊúâÁöÑËØùÔºåÂàôËÆ©Ëøô‰∏™ÂêéÁºÄÂêç‰∏∫.jsÁªßÁª≠ÂæÄ‰∏ãÁúãÔºåModule._extensions[extension](this, filename)ÔºåÊ†πÊçÆÂêéÁºÄÂêçÔºåÊâßË°åÂØπÂ∫îÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàÊàë‰ª¨Áúã‰∏Ä‰∏ãModule._extensionsÂØπË±°ÊúâÂì™Âá†‰∏™ÂáΩÊï∞ ‰ªéËøôÈáåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåModule._extensions‰∏≠Êúâ3‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´ÊòØ.js„ÄÅ.json„ÄÅ.nodeÂáΩÊï∞ÔºåÊÑèÊÄùÊòØÊ†πÊçÆ‰∏çÂêåÁöÑÂêéÁºÄÂêçÔºåÊâßË°å‰∏çÂêåÁöÑÂáΩÊï∞ÔºåÊù•Ëß£Êûê‰∏çÂêåÁöÑÂÜÖÂÆπÔºåÊàë‰ª¨ÂèØ‰ª•ÁïôÊÑèÂà∞ËØªÂèñÊñá‰ª∂ÈÉΩÊòØÁî®fs.readFileSyncÂêåÊ≠•ËØªÂèñÔºåÂõ†‰∏∫Ëøô‰∫õÊñá‰ª∂ÈÉΩÊòØ‰øùÂ≠òÂú®ÊúçÂä°Âô®Á°¨Áõò‰∏≠ÔºåËØªÂèñËøô‰∫õÊñá‰ª∂ËÄóË¥πÊó∂Èó¥ÈùûÂ∏∏Áü≠ÔºåÊâÄ‰ª•ÈááÁî®‰∫ÜÂêåÊ≠•ËÄå‰∏çÊòØÂºÇÊ≠•ÂÖ∂‰∏≠.jsonÊúÄ‰∏∫ÁÆÄÂçïÔºåËØªÂèñÂá∫Êñá‰ª∂ÂêéÔºåÂÜçÈÄöËøáJSON.parseÊääÂ≠óÁ¨¶‰∏≤ËΩ¨Âåñ‰∏∫JSONÂØπË±°ÔºåÁÑ∂ÂêéÊääÁªìÊûúËµãÂÄºÁªômodule.exportsÊé•‰∏ãÊù•ÁúãÁúã.jsÔºå‰πüÊòØ‰∏ÄÊ†∑ÂÖàËØªÂèñÂá∫Êñá‰ª∂ÂÜÖÂÆπÔºåÁÑ∂ÂêéÈÄöËøámodule._compileËøô‰∏™ÂáΩÊï∞Êù•Ëß£Êûê.jsÁöÑÂÜÖÂÆπÔºåÊàë‰ª¨Áúã‰∏Ä‰∏ãmodule._compileÂáΩÊï∞ÊÄé‰πàÂÜôÁöÑ var wrapper = Module.wrap(content)ËøôÈáåÂØπ.jsÊñá‰ª∂ÁöÑÂÜÖÂÆπËøõË°å‰∫Ü‰∏ÄÂ±ÇÂ§ÑÁêÜÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãModule.wrapÊÄé‰πàÂÜôÁöÑ Âú®ËøôÈáåÂèØ‰ª•ÁúãÂá∫ÔºåNativeModule.wrapperÊï∞ÁªÑ‰∏≠Êúâ‰∏§‰∏™Êï∞ÁªÑÊàêÂëòÔºåÊòØ‰∏çÊòØÁúãËµ∑Êù•‰ººÊõæÁõ∏ËØÜÔºüÊ≤°ÈîôÔºåËøôÂ∞±ÊòØÈó≠ÂåÖÁöÑÂΩ¢ÂºèÔºåËÄåModule.wrap‰∏≠ÔºåÊòØÁõ¥Êé•ÊääjsÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºåÂíåËøô‰∏™Èó≠ÂåÖÊãºÊé•Êàê‰∏ÄÊÆµÂ≠óÁ¨¶‰∏≤ÔºåÂØπÔºåÂ∞±ÊòØÂú®ËøôÈáåÔºåÊää‰∏Ä‰∏™‰∏™Ê®°ÂùóÔºåÂ•ó‰∏ÄÂ±ÇÈó≠ÂåÖÔºÅÂÆûÈôÖ‰∏äÊãºÊé•Âá∫Êù•ÁöÑÊòØ // Â≠óÁ¨¶‰∏≤ &quot;(function(exports,require,module,__filename,__dirname){ let utils = { sayhello:function(){ console.log(&apos;hello swr&apos;) } } })&quot; Êàë‰ª¨Ë∑≥Âá∫Êù•ÔºåÂõûÂà∞Module.prototype._compileÁúãÁúãÔºåÊé•‰∏ãÊù•ÁúãÂà∞var compiledWrapper = vm.runInThisContext(wrapper,{...})Ôºå12//ËôöÊãüÊú∫ÔºåÂ∏ÆÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÈªëÁÆ±ÊâßË°å‰ª£Á†ÅÔºåÈò≤Ê≠¢ÂèòÈáèÊ±°Êüìconst vm = require(&quot;vm&quot;); Âú®nodejs‰∏≠ÊòØÈÄöËøávmËøô‰∏™ËôöÊãüÊú∫ÔºåÊâßË°åÂ≠óÁ¨¶‰∏≤ÔºåËÄå‰∏îËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØ‰ΩøÂÜÖÈÉ®ÂÆåÂÖ®ÊòØÂ∞ÅÈó≠ÁöÑÔºå‰∏ç‰ºöË¢´Â§ñÂú®ÂèòÈáèÊ±°ÊüìÔºåËÄåÂú®ÂâçÁ´ØÁöÑÂ≠óÁ¨¶‰∏≤Ê®°ÊùøÂàôÊòØÈÄöËøánew Function()Êù•ÊâßË°åÂ≠óÁ¨¶‰∏≤ÔºåËææÂà∞‰∏çË¢´Â§ñÂú®ÂèòÈáèÊ±°Êüì ÁªßÁª≠ÂæÄ‰∏ãÁúãÔºåresult = compiledWrapper.call(this.exports, this.exports, require, this,filename, dirname)ÔºåÂÖ∂‰∏≠compiledWrapperÂ∞±ÊòØÊàë‰ª¨ÈÄöËøávmËôöÊãüÊú∫ÊâßË°åÁöÑÂ≠óÁ¨¶‰∏≤ÂêéËøîÂõûÁöÑÈó≠ÂåÖÔºåËÄå‰∏îÈÄöËøácallÊù•ÊääËøô‰∏™Ê®°Âùó‰∏≠ÁöÑthisÊåáÂêëÊõ¥Êîπ‰∏∫ÂΩìÂâçÊ®°ÂùóÔºåËÄå‰∏çÊòØÂÖ®Â±ÄÁöÑglobalÔºåËøôÈáåÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÊàë‰ª¨Âú®Ê®°ÂùóÂΩì‰∏≠ÊâìÂç∞thisÊó∂ÔºåÊåáÂêëÁöÑÊòØÂΩìÂâçÁöÑmodule.exportsËÄå‰∏çÊòØglobalÔºåÁÑ∂ÂêéÂêéÈù¢‰æùÊ¨°ÊääÁõ∏Â∫îÁöÑÂèÇÊï∞‰º†ÈÄíËøáÂéª ÊúÄÁªà‰∏ÄÂ±ÇÂ±ÇË∑≥Âá∫ÂêéModule._load‰∏≠ÔºåÊúÄÂêéÊòØreturn module.exportsÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÈÄöËøárequireÂØºÂÖ•ÁöÑÊ®°ÂùóÔºåÂèñÁöÑÊòØmodule.exports ÈÄöËøáÂâñÊûêcommonJsÊ∫êÁ†ÅÔºåÊàë‰ª¨Êî∂Ëé∑‰∫Ü‰ªÄ‰πàÔºü ÊáÇÂæó‰∫ÜÊ®°ÂùóÂä†ËΩΩÁöÑÊï¥‰∏™ÊµÅÁ®ã Á¨¨‰∏ÄÊ≠•ÔºöËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑ,Â¶ÇÊûúÊòØÊ†∏ÂøÉÊ®°ÂùóÔºåÊØîÂ¶ÇfsÔºåÂ∞±Áõ¥Êé•ËøîÂõûÊ®°Âùó Á¨¨‰∫åÊ≠•ÔºöÂ¶ÇÊñá‰ª∂Ê≤°Ê∑ªÂä†ÂêéÁºÄÔºåÂàôÊ∑ªÂä†.js„ÄÅ.json„ÄÅ.node‰Ωú‰∏∫ÂêéÁºÄÔºåÁÑ∂ÂêéÈÄöËøáfs.existsSyncÊù•Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú® .js Ëß£Êûê‰∏∫JavaScript ÊñáÊú¨Êñá‰ª∂ .jsonËß£ÊûêJSONÂØπË±° .nodeËß£Êûê‰∏∫‰∫åËøõÂà∂Êèí‰ª∂Ê®°Âùó Á¨¨‰∏âÊ≠•ÔºöÂà∞ÁºìÂ≠ò‰∏≠ÊâæËØ•Ê®°ÂùóÊòØÂê¶Ë¢´Âä†ËΩΩËøá(Â¶ÇÊûúÊòØÂ∏¶ÊúâË∑ØÂæÑÁöÑÂ¶Ç/,./Á≠âÁ≠âÔºåÂàôÊãºÊé•Âá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑÔºåÁÑ∂ÂêéÂÖàËØªÂèñÁºìÂ≠òrequire.cacheÂÜçËØªÂèñÊñá‰ª∂„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂä†ÂêéÁºÄÔºåÂàôËá™Âä®Âä†ÂêéÁºÄÁÑ∂Âêé‰∏Ä‰∏ÄËØÜÂà´„ÄÇ) Á¨¨ÂõõÊ≠•Ôºönew‰∏Ä‰∏™Ê®°ÂùóÂÆû‰æã Á¨¨‰∫îÊ≠•ÔºöÊääÊ®°ÂùóÂ≠òÂà∞ÁºìÂ≠òÂΩì‰∏≠(È¶ñÊ¨°Âä†ËΩΩÂêéÁöÑÊ®°Âùó‰ºöÁºìÂ≠òÂú®require.cache‰πã‰∏≠ÔºåÊâÄ‰ª•Â§öÊ¨°Âä†ËΩΩrequireÔºåÂæóÂà∞ÁöÑÂØπË±°ÊòØÂêå‰∏Ä‰∏™„ÄÇ) Á¨¨ÂÖ≠Ê≠•ÔºöÊ†πÊçÆÂêéÁºÄÂêçÔºåÂä†ËΩΩËøô‰∏™Ê®°Âùó Âú®ÊâßË°åÊ®°Âùó‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºå‰ºöÂ∞ÜÊ®°ÂùóÂåÖË£ÖÊàêÂ¶Ç‰∏ãÊ®°ÂºèÔºå‰ª•‰æø‰∫é‰ΩúÁî®ÂüüÂú®Ê®°ÂùóËåÉÂõ¥‰πãÂÜÖ„ÄÇ123 (function(exports, require, module, __filename, __dirname) &#123; // Ê®°ÂùóÁöÑ‰ª£Á†ÅÂÆûÈôÖ‰∏äÂú®ËøôÈáå&#125;); Áü•ÈÅìÂ¶Ç‰ΩïÂÆûÁé∞Áî±ÈáåÂà∞Â§ñ‰∏ÄÂ±ÇÂ±ÇÊü•Êâænode_modules Áü•ÈÅìÈíàÂØπ.jsÂíå.jsonÊòØÊÄé‰πàËß£ÊûêÁöÑ .jsÊòØÈÄöËøáÊãºÊé•Â≠óÁ¨¶‰∏≤ÔºåÂΩ¢Êàê‰∏Ä‰∏™Èó≠ÂåÖÂΩ¢ÂºèÁöÑÂ≠óÁ¨¶‰∏≤ .jsonÂàôÊòØÈÄöËøáJSON.parseËΩ¨‰∏∫JSONÂØπË±° Áü•ÈÅìÂ¶Ç‰ΩïÊâßË°åÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂‰∏î‰∏çÂèóÂ§ñÈÉ®ÂèòÈáèÊ±°Êüì nodejs‰∏≠ÈÄöËøávmËôöÊãüÊú∫Êù•ÊâßË°åÂ≠óÁ¨¶‰∏≤ 123 let vm=require(&quot;vm&quot;) let a=&apos;console.log(&quot;a&quot;)&apos;vm.runInThisContext(a) ÂâçÁ´ØÂàôÊòØÈÄöËøánew Function()Êù•ÊâßË°åÂ≠óÁ¨¶‰∏≤ 12var f = new Function(&apos;x&apos;, &apos;y&apos;, &apos;return x+y&apos;); f( 3, 4 ) Áü•ÈÅì‰∏∫‰ªÄ‰πàÊ®°Âùó‰∏≠ÁöÑthisÊåáÂêëÁöÑÊòØthis.exportsËÄå‰∏çÊòØglobal ÈÄöËøácallÊääÊåáÈíàÊåáÂêë‰∫Üthis.exports Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÊâãÂÜô‰∏Ä‰∏™ÁÆÄÈôãÁâàÁöÑcommonJsÊ∫êÁ†ÅcommonJsÂÖ∂ÂÆûÂú®Âä†ËΩΩÊ®°ÂùóÁöÑÊó∂ÂÄôÔºåÂÅö‰∫Ü‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ Á¨¨‰∏ÄÊ≠•ÔºöËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑ Á¨¨‰∫åÊ≠•ÔºöÂ¶ÇÊñá‰ª∂Ê≤°Ê∑ªÂä†ÂêéÁºÄÔºåÂàôÊ∑ªÂä†.js„ÄÅ.json„ÄÅ.node‰Ωú‰∏∫ÂêéÁºÄÔºåÁÑ∂ÂêéÈÄöËøáfs.existsSyncÊù•Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú® Á¨¨‰∏âÊ≠•ÔºöÂà∞ÁºìÂ≠ò‰∏≠ÊâæËØ•Ê®°ÂùóÊòØÂê¶Ë¢´Âä†ËΩΩËøá Á¨¨ÂõõÊ≠•Ôºönew‰∏Ä‰∏™Ê®°ÂùóÂÆû‰æã Á¨¨‰∫îÊ≠•ÔºöÊääÊ®°ÂùóÂ≠òÂà∞ÁºìÂ≠òÂΩì‰∏≠ Á¨¨ÂÖ≠Ê≠•ÔºöÊ†πÊçÆÂêéÁºÄÂêçÔºåÂä†ËΩΩËøô‰∏™Ê®°Âùó ÈÇ£‰πàÊàë‰ª¨Ê†πÊçÆËøôÂá†‰∏™Ê≠•È™§ÔºåÊù•ÊâãÂÜô‰∏Ä‰∏ãÊ∫êÁ†Å~ // module.js let utils = { sayhello: function () { console.log(&apos;hello swr&apos;) } } console.log(&apos;ÊâßË°å‰∫Ü&apos;) module.exports = utils È¶ñÂÖàÂÜôÂá∫Ëß£Êûê‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑ‰ª•ÂèäÂ¶ÇÊñá‰ª∂Ê≤°Ê∑ªÂä†ÂêéÁºÄÔºåÂàôÊ∑ªÂä†.js„ÄÅ.json‰Ωú‰∏∫ÂêéÁºÄÔºåÁÑ∂ÂêéÈÄöËøáfs.existsSyncÊù•Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú®Ôºà .. ÊØè‰∏™Ê≠•È™§ÊàëÈÉΩ‰ºöÊ†áËØÜ1„ÄÅ2„ÄÅ3‚Ä¶ // useModule.js // 1.ÂºïÂÖ•Ê†∏ÂøÉÊ®°Âùó let fs = require(&apos;fs&apos;) let path = require(&apos;path&apos;) // 3.Â£∞Êòé‰∏Ä‰∏™ModuleÊûÑÈÄ†ÂáΩÊï∞ function Module(id) { this.id = id this.exports = {} // Â∞ÜÊù•Êö¥Èú≤Ê®°ÂùóÁöÑÂÜÖÂÆπ } // 8.ÊîØÊåÅÁöÑÂêéÁºÄÂêçÁ±ªÂûã Module._extensions = { &quot;.js&quot;:function(){}, &quot;.json&quot;:function(){} } // 5.Ëß£ÊûêÂá∫ÁªùÂØπË∑ØÂæÑÔºå_resolveFilenameÊòØModuleÁöÑÈùôÊÄÅÊñπÊ≥ï Module._resolveFilename = function (relativePath) { // 6.ËøîÂõû‰∏Ä‰∏™Ë∑ØÂæÑ let p = path.resolve(__dirname,relativePath) // 7.ËØ•Ë∑ØÂæÑÊòØÂê¶Â≠òÂú®Êñá‰ª∂ÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÁõ¥Êé•ËøîÂõû // ËøôÁßçÊÉÖÂÜµ‰∏ªË¶ÅËÄÉËôëÁî®Êà∑Ëá™Ë°åÊ∑ªÂä†‰∫ÜÂêéÁºÄÂêç // Â¶Ç&apos;./module.js&apos;let exists = fs.existsSync(p) if(exists) return p // 9.Â¶ÇÊûúrelativePath‰º†ÂÖ•ÁöÑÂ¶Ç&apos;./module&apos;ÔºåÊ≤°ÊúâÊ∑ªÂä†ÂêéÁºÄ // ÈÇ£‰πàÊàë‰ª¨ÁªôÂÆÉÊ∑ªÂä†ÂêéÁºÄÔºåÂπ∂‰∏îÂà§Êñ≠Ê∑ªÂä†ÂêéÁºÄÂêéÊòØÂê¶Â≠òÂú®ËØ•Êñá‰ª∂ let keys = Object.keys(Module._extensions) let r = falsefor(let val of keys){ // ËøôÈáåÁî®forÂæ™ÁéØÔºåÊòØÂΩìÊâæÂà∞Êñá‰ª∂ÂêéÂèØ‰ª•Áõ¥Êé•breakË∑≥Âá∫Âæ™ÁéØ let realPath = p + val // ÊãºÊé•ÂêéÁºÄ let exists = fs.existsSync(realPath) if(exists){ r = realPath break } } if(!r){ // Â¶ÇÊûúÊâæ‰∏çÂà∞Êñá‰ª∂ÔºåÂàôÊäõÂá∫ÈîôËØØ throw new Error(&apos;file not exists&apos;) } return r } // 2.‰∏∫‰∫Ü‰∏ç‰∏érequireÂÜ≤Á™ÅÔºåËøô‰∏™ÂáΩÊï∞ÂëΩÂêç‰∏∫req // ‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞p Ë∑ØÂæÑ function req(p) { // 10.Âõ†‰∏∫Module._resolveFilenameÂ≠òÂú®Êâæ‰∏çÂà∞Êñá‰ª∂ // Êâæ‰∏çÂà∞Êñá‰ª∂Êó∂‰ºöÊäõÂá∫ÈîôËØØÔºåÊâÄ‰ª•Êàë‰ª¨ËøôÈáåÊçïËé∑ÈîôËØØ try { // 4.ÈÄöËøáModule._resolveFilenameËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑ let filename = Module._resolveFilename(p) } catch (e) { console.log(e) } } // ÂØºÂÖ•Ê®°ÂùóÔºåÂπ∂‰∏îÂØºÂÖ•‰∏§Ê¨°Ôºå‰∏ªË¶ÅÊòØÊ†°È™åÊòØÂê¶Âä†ËΩΩËøá‰∏ÄÊ¨°Âêé // Âú®ÊúâÁºìÂ≠òÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºö‰∏ç‰ºöÁõ¥Êé•ËøîÂõûÁºìÂ≠òÁöÑÊ®°Âùó // ‰∏∫Ê≠§ÁâπÊÑèÂú®module.js‰∏≠Ê∑ªÂä†‰∫Üconsole.log(&quot;ÊâßË°å‰∫Ü&quot;) // Êù•ÁúãÊâìÂç∞‰∫ÜÂá†Ê¨° let utils = req(&apos;./module&apos;) utils = req(&apos;./module&apos;) utils.sayhello() ÁÑ∂ÂêéÂà∞ÁºìÂ≠ò‰∏≠ÊâæËØ•Ê®°ÂùóÊòØÂê¶Ë¢´Âä†ËΩΩËøáÔºåÂ¶ÇÊûúÊ≤°ÊúâÂä†ËΩΩËøáÂàônew‰∏Ä‰∏™Ê®°ÂùóÂÆû‰æãÔºåÊääÊ®°ÂùóÂ≠òÂà∞ÁºìÂ≠òÂΩì‰∏≠ÔºåÊúÄÂêéÊ†πÊçÆÂêéÁºÄÂêçÔºåÂä†ËΩΩËøô‰∏™Ê®°ÂùóÔºà .. ÊØè‰∏™Ê≠•È™§ÊàëÈÉΩ‰ºöÊ†áËØÜ1„ÄÅ2„ÄÅ3‚Ä¶ // useModule.js // 1.ÂºïÂÖ•Ê†∏ÂøÉÊ®°Âùó let fs = require(&apos;fs&apos;) let path = require(&apos;path&apos;) // 3.Â£∞Êòé‰∏Ä‰∏™ModuleÊûÑÈÄ†ÂáΩÊï∞ function Module(id) { this.id = id this.exports = {} // Â∞ÜÊù•Êö¥Èú≤Ê®°ÂùóÁöÑÂÜÖÂÆπ } // * 21.Âõ†‰∏∫Â§ÑÁêÜjsÊñá‰ª∂Êó∂ÔºåÈúÄË¶ÅÂåÖË£π‰∏Ä‰∏™Èó≠ÂåÖÔºåÊàë‰ª¨ÂÜô‰∏Ä‰∏™Êï∞ÁªÑ Module.wrapper = [ &quot;(function(exports,require,module){&quot;, &quot;\n})&quot; ] // * 22.ÈÄöËøáModule.wrapÂåÖË£πÊàêÈó≠ÂåÖÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè Module.wrap = function(script){ return Module.wrapper[0] + script + Module.wrapper[1] } // 8.ÊîØÊåÅÁöÑÂêéÁºÄÂêçÁ±ªÂûã Module._extensions = { &quot;.js&quot;:function(module){ // * 20.ÂÖ∂Ê¨°ÁúãÁúãjsÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑ let str = fs.readFileSync(module.id,&apos;utf8&apos;) // * 23.ÈÄöËøáModule.wrapÂáΩÊï∞ÊääÂÜÖÂÆπÂåÖË£πÊàêÈó≠ÂåÖ let fnStr = Module.wrap(str) // * 24.ÂºïÂÖ•vmËôöÊãüÊú∫Êù•ÊâßË°åÂ≠óÁ¨¶‰∏≤ let vm = require(&apos;vm&apos;) let fn = vm.runInThisContext(fnStr) // ËÆ©‰∫ßÁîüÁöÑfnÊâßË°åÔºåÂπ∂‰∏îÊääthisÊåáÂêëÊõ¥Êîπ‰∏∫ÂΩìÂâçÁöÑmodule.exports fn.call(this.exports,this.exports,req,module) }, &quot;.json&quot;:function(module){ // * 18.È¶ñÂÖàÁúãÁúãjsonÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑ let str = fs.readFileSync(module.id,&apos;utf8&apos;) // * 19.ÈÄöËøáJSON.parseÂ§ÑÁêÜÔºåÂπ∂‰∏îËµãÂÄºÁªômodule.exports let json = JSON.parse(str) module.exports = json } } // * 15.Âä†ËΩΩ Module.prototype._load = function(filename){ // * 16.Ëé∑ÂèñÂêéÁºÄÂêç let extension = path.extname(filename) // * 17.Ê†πÊçÆ‰∏çÂêåÂêéÁºÄÂêç ÊâßË°å‰∏çÂêåÁöÑÊñπÊ≥ï Module._extensions[extension](this) } // 5.Ëß£ÊûêÂá∫ÁªùÂØπË∑ØÂæÑÔºå_resolveFilenameÊòØModuleÁöÑÈùôÊÄÅÊñπÊ≥ï Module._resolveFilename = function (relativePath) { // 6.ËøîÂõû‰∏Ä‰∏™Ë∑ØÂæÑ let p = path.resolve(__dirname,relativePath) // 7.ËØ•Ë∑ØÂæÑÊòØÂê¶Â≠òÂú®Êñá‰ª∂ÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÁõ¥Êé•ËøîÂõû // ËøôÁßçÊÉÖÂÜµ‰∏ªË¶ÅËÄÉËôëÁî®Êà∑Ëá™Ë°åÊ∑ªÂä†‰∫ÜÂêéÁºÄÂêç // Â¶Ç&apos;./module.js&apos;let exists = fs.existsSync(p) if(exists) return p // 9.Â¶ÇÊûúrelativePath‰º†ÂÖ•ÁöÑÂ¶Ç&apos;./module&apos;ÔºåÊ≤°ÊúâÊ∑ªÂä†ÂêéÁºÄ // ÈÇ£‰πàÊàë‰ª¨ÁªôÂÆÉÊ∑ªÂä†ÂêéÁºÄÔºåÂπ∂‰∏îÂà§Êñ≠Ê∑ªÂä†ÂêéÁºÄÂêéÊòØÂê¶Â≠òÂú®ËØ•Êñá‰ª∂ let keys = Object.keys(Module._extensions) let r = falsefor(let val of keys){ // ËøôÈáåÁî®forÂæ™ÁéØÔºåÊòØÂΩìÊâæÂà∞Êñá‰ª∂ÂêéÂèØ‰ª•Áõ¥Êé•breakË∑≥Âá∫Âæ™ÁéØ let realPath = p + val // ÊãºÊé•ÂêéÁºÄ let exists = fs.existsSync(realPath) if(exists){ r = realPath break } } if(!r){ // Â¶ÇÊûúÊâæ‰∏çÂà∞Êñá‰ª∂ÔºåÂàôÊäõÂá∫ÈîôËØØ throw new Error(&apos;file not exists&apos;) } return r } // * 11.ÁºìÂ≠òÂØπË±° Module._cache = {} // 2.‰∏∫‰∫Ü‰∏ç‰∏érequireÂÜ≤Á™ÅÔºåËøô‰∏™ÂáΩÊï∞ÂëΩÂêç‰∏∫req // ‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞p Ë∑ØÂæÑ function req(p) { // 10.Âõ†‰∏∫Module._resolveFilenameÂ≠òÂú®Êâæ‰∏çÂà∞Êñá‰ª∂ // Êâæ‰∏çÂà∞Êñá‰ª∂Êó∂‰ºöÊäõÂá∫ÈîôËØØÔºåÊâÄ‰ª•Êàë‰ª¨ËøôÈáåÊçïËé∑ÈîôËØØ try { // 4.ÈÄöËøáModule._resolveFilenameËß£ÊûêÂá∫‰∏Ä‰∏™ÁªùÂØπË∑ØÂæÑ let filename = Module._resolveFilename(p) // * 12.Âà§Êñ≠ÊòØÂê¶ÊúâÁºìÂ≠òÔºåÂ¶ÇÊûúÊúâÁºìÂ≠òÁöÑËØùÔºåÂàôÁõ¥Êé•ËøîÂõûÁºìÂ≠ò if(Module._cache[filename]){ // * Âõ†‰∏∫ÂÆû‰æãÁöÑexportsÊâçÊòØÊúÄÁªàÊö¥Èú≤Âá∫ÁöÑÂÜÖÂÆπ return Module._cache[filename].exports } // * 13.new‰∏Ä‰∏™ModuleÂÆû‰æã let module = new Module(filename) // * 14.Âä†ËΩΩËøô‰∏™Ê®°Âùó module._load(filename) // * 25.ÊäämoduleÂ≠òÂà∞ÁºìÂ≠ò Module._cache[filename] = module // * 26.ËøîÂõûmodule.exprots return module.exports } catch (e) { console.log(e) } } // ÂØºÂÖ•Ê®°ÂùóÔºåÂπ∂‰∏îÂØºÂÖ•‰∏§Ê¨°Ôºå‰∏ªË¶ÅÊòØÊ†°È™åÊòØÂê¶Âä†ËΩΩËøá‰∏ÄÊ¨°Âêé // Âú®ÊúâÁºìÂ≠òÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºö‰∏ç‰ºöÁõ¥Êé•ËøîÂõûÁºìÂ≠òÁöÑÊ®°Âùó // ‰∏∫Ê≠§ÁâπÊÑèÂú®module.js‰∏≠Ê∑ªÂä†‰∫Üconsole.log(&quot;ÊâßË°å‰∫Ü&quot;) // Êù•ÁúãÊâìÂç∞‰∫ÜÂá†Ê¨° let utils = req(&apos;./module&apos;) utils = req(&apos;./module&apos;) utils.sayhello() ËøôÊ†∑Êàë‰ª¨Â∞±ÂÆåÊàê‰∫Ü‰∏Ä‰∏™ÁÆÄÈôãÁâàÁöÑcommonJsÔºåËÄå‰∏îÊàë‰ª¨Â§öÊ¨°ÂØºÂÖ•Ëøô‰∏™Ê®°ÂùóÔºåÂè™‰ºöÊâìÂç∞Âá∫‰∏ÄÊ¨°ÊâßË°å‰∫ÜÔºåËØ¥Êòé‰∫ÜÂè™Ë¶ÅÁºìÂ≠ò‰∏≠ÊúâÁöÑÔºåÂ∞±Áõ¥Êé•ËøîÂõûÔºåËÄå‰∏çÊòØÈáçÊñ∞Âä†ËΩΩËøô‰∏™Ê®°ÂùóËøôÈáåÂª∫ËÆÆÂ§ßÂÆ∂‰∏Ä‰∏™Ê≠•È™§‰∏Ä‰∏™Ê≠•È™§ÂéªÁêÜËß£ÔºåÂ∞ùËØïÊï≤‰∏Ä‰∏ã‰ª£Á†ÅÔºåËøôÊ†∑ÊÑüÊÇü‰ºöÊõ¥Âä†Ê∑± ÈÇ£‰πà‰∏∫‰ªÄ‰πàexports = xxx Âç¥Â§±Êïà‰∫ÜÂë¢Ôºü// ‰ªé‰∏äÈù¢Ê∫êÁ†ÅÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÔºåÂÆûÈôÖ‰∏ä // exports = module.exports = {} // ‰ΩÜÊòØÂΩìÊàë‰ª¨exports = {name:&quot;CommonJS&quot;}Êó∂Ôºå // requireÂá∫Êù•Âç¥Ëé∑Âèñ‰∏çÂà∞Ëøô‰∏™ÂØπË±°ÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®‰∏äÈù¢Ê∫êÁ†Å‰∏≠Ôºå // reqÂáΩÊï∞ÔºàÂç≥requireÔºâÂÜÖÈÉ®returnÂá∫ÁöÑÊòØmodule.exportsÔºåËÄå‰∏çÊòØexportsÔºå // ÂΩìÊàë‰ª¨exports = { name:&quot;CommonJS&quot; }Êó∂ÔºåÂÆûÈôÖ‰∏äËøô‰∏™exportsÊåáÂêë‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°Ôºå // ËÄå‰∏çÊòØmodule.exports // ÈÇ£‰πàÊàë‰ª¨ÁöÑexportsÊòØ‰∏çÊòØÂ§ö‰ΩôÁöÑÂë¢ÔºüËÇØÂÆö‰∏çÊòØÂ§ö‰ΩôÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÂÜô exports.name = &quot;CommonJS&quot; // ËøôÊ†∑ÂÜôÊ≤°ÊúâÊîπÂèòexportsÁöÑÊåáÂêëÔºåËÄåÊòØÂú®exportsÊåáÂêëÁöÑmodule.exportsÂØπË±°‰∏äÊñ∞Â¢û‰∫ÜÂ±ûÊÄß // ÈÇ£‰πà‰ªÄ‰πàÊó∂ÂÄôÁî®exportsÔºå‰ªÄ‰πàÊó∂ÂÄôÁî®module.exportsÂë¢Ôºü // Â¶ÇÊûúÂØºÂá∫ÁöÑ‰∏úË•øÊòØ‰∏Ä‰∏™ÔºåÈÇ£‰πàÂèØ‰ª•Áî®module.exportsÔºåÂ¶ÇÊûúÂØºÂá∫Â§ö‰∏™Â±ûÊÄßÂèØ‰ª•Áî®exportsÔºå // ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊòØÁî®module.exports // ËøòÊúâ‰∏ÄÁßçÊñπÂºèÔºåÂ∞±ÊòØÊääÂ±ûÊÄßÊåÇËΩΩÂà∞global‰∏ä‰æõÂÖ®Â±ÄËÆøÈóÆÔºå‰∏çËøá‰∏çÊé®Ëçê„ÄÇ CommonJSÊ®°ÂùóÊÄªÁªìCommonJSÊ®°ÂùóÂè™ËÉΩËøêË°åÂÜçÊîØÊåÅÊ≠§ËßÑËåÉÁöÑÁéØÂ¢É‰πã‰∏≠ÔºånodejsÊòØÂü∫‰∫éCommonJSËßÑËåÉÂºÄÂèëÁöÑÔºåÂõ†Ê≠§ÂèØ‰ª•ÂæàÂÆåÁæéÂú∞ËøêË°åCommonJSÊ®°ÂùóÔºåÁÑ∂Âêénodejs‰∏çÊîØÊåÅES6ÁöÑÊ®°ÂùóËßÑËåÉÔºåÊâÄ‰ª•nodejsÁöÑÊúçÂä°Âô®ÂºÄÂèëÂ§ßÂÆ∂‰∏ÄËà¨‰ΩøÁî®CommonJSËßÑËåÉÊù•ÂÜô„ÄÇCommonJSÊ®°ÂùóÂØºÂÖ•Áî®requireÔºåÂØºÂá∫Áî®module.exports„ÄÇÂØºÂá∫ÁöÑÂØπË±°ÈúÄÊ≥®ÊÑèÔºåÂ¶ÇÊûúÊòØÈùôÊÄÅÂÄºÔºåËÄå‰∏îÈùûÂ∏∏ÈáèÔºåÂêéÊúüÂèØËÉΩ‰ºöÊúâÊâÄÊîπÂä®ÁöÑÔºåËØ∑‰ΩøÁî®ÂáΩÊï∞Âä®ÊÄÅËé∑ÂèñÔºåÂê¶ÂàôÊó†Ê≥ïËé∑Âèñ‰øÆÊîπÂÄº„ÄÇÂØºÂÖ•ÁöÑÂèÇÊï∞ÔºåÊòØÂèØ‰ª•ÈöèÊÑèÊîπÂä®ÁöÑÔºåÊâÄ‰ª•Â§ßÂÆ∂‰ΩøÁî®Êó∂Ë¶ÅÂ∞èÂøÉ„ÄÇ ÂºÄÂèëËÄÖÈúÄË¶Å‰∫ÜËß£ÁöÑnodejs‰∏≠requireÁöÑÊú∫Âà∂]]></content>
      <tags>
        <tag>Common.JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£ÂØÜwebpack tree-starking]]></title>
    <url>%2F2018%2F10%2F25%2F%E8%A7%A3%E5%AF%86webpack-tree-starking%2F</url>
    <content type="text"><![CDATA[Tree-Shaking ÁÆÄ‰ªãÊúÄËøëÁúã‰∫Ü‰∏ÄÁØá ‰Ω†ÁöÑTree-ShakingÂπ∂Ê≤°‰ªÄ‰πàÂçµÁî® ÂêìÂæóÊàëËµ∂Á¥ßÂ•ΩÂ•ΩÁ†îÁ©∂Tree-Shaking„ÄÇ tree-sharking ÊòØ Webpack 2 ÂêéÁª≠ÁâàÊú¨ÁöÑ‰ºòÂåñÂäüËÉΩÔºåÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÂ∞ÜÂ§ö‰ΩôÁöÑ‰ª£Á†ÅÁªô ‚ÄúÊëáÊôÉ‚Äù ÊéâÔºåÂú®ÂºÄÂèë‰∏≠Êàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®‰∏Ä‰∫õÁ¨¨‰∏âÊñπÂ∫ìÔºåËÄåËøô‰∫õÁ¨¨‰∏âÊñπÂ∫ìÂè™‰ΩøÁî®‰∫ÜËøô‰∏™Â∫ìÁöÑ‰∏ÄÈÉ®Èó®ÂäüËÉΩÊàñ‰ª£Á†ÅÔºåÊú™‰ΩøÁî®ÁöÑ‰ª£Á†Å‰πüË¶ÅË¢´ÊâìÂåÖËøõÊù•ÔºåËøôÊ†∑Âá∫Âè£Êñá‰ª∂‰ºöÈùûÂ∏∏Â§ßÔºåtree-sharking Â∏ÆÊàë‰ª¨Ëß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÂèØ‰ª•Â∞ÜÂêÑ‰∏™Ê®°Âùó‰∏≠Ê≤°Êúâ‰ΩøÁî®ÁöÑÊñπÊ≥ïËøáÊª§ÊéâÔºåÂè™ÂØπÊúâÊïà‰ª£Á†ÅËøõË°åÊâìÂåÖ„ÄÇ Tree-ShakingÂú®ÂâçÁ´ØÁïåÁî±rollupÈ¶ñÂÖàÊèêÂá∫Âπ∂ÂÆûÁé∞ÔºåÂêéÁª≠webpackÂú®2.xÁâàÊú¨‰πüÂÄüÂä©‰∫éUglifyJSÂÆûÁé∞‰∫Ü„ÄÇËá™ÈÇ£‰ª•ÂêéÔºåÂú®ÂêÑÁ±ªËÆ®ËÆ∫‰ºòÂåñÊâìÂåÖÁöÑÊñáÁ´†‰∏≠ÔºåÈÉΩËÉΩÁúãÂà∞Tree-ShakingÁöÑË∫´ÂΩ±„ÄÇ Tree-ShakingÁöÑÂéüÁêÜËøôÈáåÊàë‰∏çÂ§öÂÜó‰ΩôÈòêËø∞ÔºåÁõ¥Êé•Ë¥¥ÁôæÂ∫¶Â§ñÂçñÂâçÁ´ØÁöÑ‰∏ÄÁØáÊñáÁ´†Ôºö Tree-ShakingÊÄßËÉΩ‰ºòÂåñÂÆûË∑µ - ÂéüÁêÜÁØá „ÄÇ AST ËØ≠Ê≥ïÊ†ëÂàÜÊûê AST ÊäΩË±°ËØ≠Ê≥ïÊ†ëÁÆÄ‰ªã ASTÔºàAbstract Syntax TreeÔºâÊòØÊ∫ê‰ª£Á†ÅÁöÑÊäΩË±°ËØ≠Ê≥ïÁªìÊûÑÊ†ëÁä∂Ë°®Áé∞ÂΩ¢ÂºèÔºåWebpack„ÄÅESLint„ÄÅJSX„ÄÅTypeScript ÁöÑÁºñËØëÂíåÊ®°ÂùóÂåñËßÑÂàô‰πãÈó¥ÁöÑËΩ¨ÂåñÈÉΩÊòØÈÄöËøá AST Êù•ÂÆûÁé∞ÂØπ‰ª£Á†ÅÁöÑÊ£ÄÊü•„ÄÅÂàÜÊûê‰ª•ÂèäÁºñËØëÁ≠âÊìç‰Ωú„ÄÇ JavaScript ËØ≠Ê≥ïÁöÑ AST ËØ≠Ê≥ïÊ†ë JavaScript ‰∏≠ÊÉ≥Ë¶Å‰ΩøÁî® AST ËøõË°åÂºÄÂèëÔºåË¶ÅÁü•ÈÅìÊäΩË±°ÊàêËØ≠Ê≥ïÊ†ë‰πãÂêéÁöÑÁªìÊûÑÊòØ‰ªÄ‰πàÔºåÈáåÈù¢ÁöÑÂ≠óÊÆµÂêçÁß∞ÈÉΩ‰ª£Ë°®‰ªÄ‰πàÂê´‰πâ‰ª•ÂèäÈÅçÂéÜÁöÑËßÑÂàôÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂú®Á∫øËΩ¨Êç¢ÁΩëÁ´ôhttp://esprima.org/demo/parse.htmlÂ∞Ü JS ‰ª£Á†ÅË£ÖÊç¢Êàê AST ËØ≠Ê≥ïÊ†ë„ÄÇ ÈÄöËøáÂú®Á∫øÁºñËØëÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∞Ü function fn(a, b) {}ÁºñËØë‰∏∫‰∏ãÈù¢ÁöÑÁªìÊûÑ„ÄÇ123456789101112131415161718192021222324252627282930&#123; &quot;type&quot;: &quot;Program&quot;, &quot;body&quot;: [ &#123; &quot;type&quot;: &quot;FunctionDeclaration&quot;, &quot;id&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;fn&quot; &#125;, &quot;params&quot;: [ &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;a&quot; &#125;, &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;b&quot; &#125; ], &quot;body&quot;: &#123; &quot;type&quot;: &quot;BlockStatement&quot;, &quot;body&quot;: [] &#125;, &quot;generator&quot;: false, &quot;expression&quot;: false, &quot;async&quot;: false &#125; ], &quot;sourceType&quot;: &quot;script&quot;&#125; Â∞Ü JavaScript ËØ≠Ê≥ïÁºñËØëÊàêÊäΩË±°ËØ≠Ê≥ïÊ†ëÂêéÔºåÈúÄË¶ÅÂØπÂÆÉËøõË°åÈÅçÂéÜ„ÄÅ‰øÆËØ•Âπ∂ÈáçÊñ∞ÁºñËØëÔºåÈÅçÂéÜÊ†ëÁªìÊûÑÁöÑËøáÁ®ã‰∏∫ ‚ÄúÂÖàÂ∫èÊ∑±Â∫¶‰ºòÂÖà‚Äù„ÄÇ esprima„ÄÅestraverse Âíå escodegenesprima„ÄÅestraverse Âíå escodegen Ê®°ÂùóÊòØÊìç‰Ωú AST ÁöÑ‰∏â‰∏™ÈáçË¶ÅÊ®°ÂùóÔºå‰πüÊòØÂÆûÁé∞ babel ÁöÑÊ†∏ÂøÉ‰æùËµñÔºå‰∏ãÈù¢ÊòØÂàÜÂà´‰ªãÁªç‰∏â‰∏™Ê®°ÂùóÁöÑ‰ΩúÁî®„ÄÇ 1„ÄÅesprima Â∞Ü JS ËΩ¨Êç¢Êàê ASTesprima Ê®°ÂùóÁöÑÁî®Ê≥ïÂ¶Ç‰∏ãÔºö Êñá‰ª∂Ôºöesprima-test.js const esprima = require(&quot;esprima&quot;); let code = &quot;function fn() {}&quot;; // ÁîüÊàêËØ≠Ê≥ïÊ†ë let tree = esprima.parseScript(code); console.log(tree); // Script { // type: &apos;Program&apos;, // body: // [ FunctionDeclaration { // type: &apos;FunctionDeclaration&apos;, // id: [Identifier], // params: [], // body: [BlockStatement], // generator: false, // expression: false, // async: false } ], // sourceType: &apos;script&apos; } ÈÄöËøá‰∏äÈù¢ÁöÑÊ°à‰æãÂèØ‰ª•ÁúãÂá∫ÔºåÈÄöËøá esprima Ê®°ÂùóÁöÑ parseScript ÊñπÊ≥ïÂ∞Ü JS ‰ª£Á†ÅÂùóËΩ¨Êç¢ÊàêËØ≠Ê≥ïÊ†ëÔºå‰ª£Á†ÅÂùóÈúÄË¶ÅËΩ¨Êç¢ÊàêÂ≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•ÈÄöËøá parseModule ÊñπÊ≥ïËΩ¨Êç¢‰∏Ä‰∏™Ê®°Âùó„ÄÇ 2„ÄÅestraverse ÈÅçÂéÜÂíå‰øÆÊîπ ASTÊü•ÁúãÈÅçÂéÜËøáÁ®ãÔºö Êñá‰ª∂Ôºöestraverse-test.js const esprima = require(&quot;esprima&quot;); const estraverse = require(&quot;estraverse&quot;); let code = &quot;function fn() {}&quot;; // ÈÅçÂéÜËØ≠Ê≥ïÊ†ë estraverse.traverse(esprima.parseScript(code), { enter(node) { console.log(&quot;enter&quot;, node.type); }, leave() { console.log(&quot;leave&quot;, node.type); } }); // enter Program // enter FunctionDeclaration // enter Identifier // leave Identifier // enter BlockStatement // leave BlockStatement // leave FunctionDeclaration // leave Program ‰∏äÈù¢‰ª£Á†ÅÈÄöËøá estraverse Ê®°ÂùóÁöÑ traverse ÊñπÊ≥ïÂ∞Ü esprima Ê®°ÂùóËΩ¨Êç¢ÁöÑ AST ËøõË°å‰∫ÜÈÅçÂéÜÔºåÂπ∂ÊâìÂç∞‰∫ÜÊâÄÊúâÁöÑ type Â±ûÊÄßÂπ∂ÊâìÂç∞ÔºåÊØèÂê´Êúâ‰∏Ä‰∏™ type Â±ûÊÄßÁöÑÂØπË±°Ë¢´Âè´ÂÅö‰∏Ä‰∏™ËäÇÁÇπÔºå‰øÆÊîπÊòØËé∑ÂèñÂØπÂ∫îÁöÑÁ±ªÂûãÂπ∂‰øÆÊîπËØ•ËäÇÁÇπ‰∏≠ÁöÑÂ±ûÊÄßÂç≥ÂèØ„ÄÇ ÂÖ∂ÂÆûÊ∑±Â∫¶ÈÅçÂéÜ AST Â∞±ÊòØÂú®ÈÅçÂéÜÊØè‰∏ÄÂ±ÇÁöÑ type Â±ûÊÄßÔºåÊâÄ‰ª•ÈÅçÂéÜ‰ºöÂàÜ‰∏∫‰∏§‰∏™Èò∂ÊÆµÔºåËøõÂÖ•Èò∂ÊÆµÂíåÁ¶ªÂºÄÈò∂ÊÆµÔºåÂú® estraverse ÁöÑ traverse ÊñπÊ≥ï‰∏≠ÂàÜÂà´Áî®ÂèÇÊï∞ÊåáÂÆöÁöÑ entry Âíå leave ‰∏§‰∏™ÂáΩÊï∞ÁõëÂê¨Ôºå‰ΩÜÊòØÊàë‰ª¨‰∏ÄËà¨Âè™‰ΩøÁî® entry„ÄÇ 3„ÄÅescodegen Â∞Ü AST ËΩ¨Êç¢Êàê JS‰∏ãÈù¢ÁöÑÊ°à‰æãÊòØ‰∏Ä‰∏™ÊÆµ JS ‰ª£Á†ÅÂùóË¢´ËΩ¨Êç¢Êàê ASTÔºåÂπ∂Â∞ÜÈÅçÂéÜ„ÄÅ‰øÆÊîπÂêéÁöÑ AST ÈáçÊñ∞ËΩ¨Êç¢Êàê JS ÁöÑÂÖ®ËøáÁ®ã„ÄÇ Êñá‰ª∂Ôºöescodegen-test.js const esprima = require(&quot;esprima&quot;); const estraverse = require(&quot;estraverse&quot;); const escodegen = require(&quot;escodegen&quot;); let code = &quot;function fn() {}&quot;; // ÁîüÊàêËØ≠Ê≥ïÊ†ë let tree = esprima.parseScript(code); // ÈÅçÂéÜËØ≠Ê≥ïÊ†ë estraverse.traverse(tree, { enter(node) { // ‰øÆÊîπÂáΩÊï∞Âêç if (node.type === &quot;FunctionDeclaration&quot;) { node.id.name = &quot;ast&quot;; } } }); // ÁºñËØëËØ≠Ê≥ïÊ†ë let result = escodegen.generate(tree); console.log(result); // function ast() { // } Âú®ÈÅçÂéÜ AST ÁöÑËøáÁ®ã‰∏≠ params ÂÄº‰∏∫Êï∞ÁªÑÔºåÊ≤°Êúâ type Â±ûÊÄß„ÄÇ ÂÆûÁé∞ Babel ËØ≠Ê≥ïËΩ¨Êç¢Êèí‰ª∂ÂÆûÁé∞ËØ≠Ê≥ïËΩ¨Êç¢Êèí‰ª∂ÈúÄË¶ÅÂÄüÂä© babel-core Âíå babel-types ‰∏§‰∏™Ê®°ÂùóÔºåÂÖ∂ÂÆûËøô‰∏§‰∏™Ê®°ÂùóÂ∞±ÊòØ‰æùËµñ esprima„ÄÅestraverse Âíå escodegen ÁöÑ„ÄÇ ‰ΩøÁî®Ëøô‰∏§‰∏™Ê®°ÂùóÈúÄË¶ÅÂÆâË£ÖÔºåÂëΩ‰ª§Â¶Ç‰∏ãÔºö 1npm install babel-core babel-types 1„ÄÅplugin-transform-arrow-functionsplugin-transform-arrow-functions ÊòØ Babel ÂÆ∂ÊóèÊàêÂëò‰πã‰∏ÄÔºåÁî®‰∫éÂ∞ÜÁÆ≠Â§¥ÂáΩÊï∞ËΩ¨Êç¢ ES5 ËØ≠Ê≥ïÁöÑÂáΩÊï∞Ë°®ËææÂºè„ÄÇ Êñá‰ª∂Ôºöplugin-transform-arrow-functions.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556const babel = require(&quot;babel-core&quot;);const types = require(&quot;babel-types&quot;);// ÁÆ≠Â§¥ÂáΩÊï∞‰ª£Á†ÅÂùólet sumCode = `const sum = (a, b) =&gt; &#123; return a + b;&#125;`;let minusCode = `const minus = (a, b) =&gt; a - b;`;// ËΩ¨Âåñ ES5 Êèí‰ª∂let ArrowPlugin = &#123;// ËÆøÈóÆËÄÖÔºàËÆøÈóÆËÄÖÊ®°ÂºèÔºâ visitor: &#123;// path ÊòØÊ†ëÁöÑË∑ØÂæÑ ArrowFunctionExpression(path) &#123;// Ëé∑ÂèñÊ†ëËäÇÁÇπlet node = path.node;// Ëé∑ÂèñÂèÇÊï∞ÂíåÂáΩÊï∞‰Ωìlet params = node.params;let body = node.body;// Âà§Êñ≠ÂáΩÊï∞‰ΩìÊòØÂê¶ÊòØ‰ª£Á†ÅÂùóÔºå‰∏çÊòØ‰ª£Á†ÅÂùóÂàôÊ∑ªÂä† return Âíå &#123;&#125;if (!types.isBlockStatement(body)) &#123;let returnStatement = types.returnStatement(body); body = types.blockStatement([returnStatement]); &#125;// ÁîüÊàê‰∏Ä‰∏™ÂáΩÊï∞Ë°®ËææÂºèÊ†ëÁªìÊûÑlet func = types.functionExpression(null, params, body, false, false);// Áî®Êñ∞ÁöÑÊ†ëÁªìÊûÑÊõøÊç¢ÊéâÊóßÁöÑÊ†ëÁªìÊûÑ types.replaceWith(func); &#125; &#125;&#125;;// ÁîüÊàêËΩ¨Êç¢ÂêéÁöÑ‰ª£Á†ÅÂùólet sumResult = babel.transform(sumCode, &#123; plugins: [ArrowPlugin]&#125;);let minusResult = babel.transform(minusCode, &#123; plugins: [ArrowPlugin]&#125;);console.log(sumResult.code);console.log(minusResult.code);// let sum = function (a, b) &#123;// return a + b;// &#125;;// let minus = function (a, b) &#123;// return a - b;// &#125;; Êàë‰ª¨‰∏ªË¶Å‰ΩøÁî® babel-core ÁöÑ transform ÊñπÊ≥ïÂ∞Ü AST ËΩ¨ÂåñÊàê‰ª£Á†ÅÂùóÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ËΩ¨Êç¢ÂâçÁöÑ‰ª£Á†ÅÂùóÔºàÂ≠óÁ¨¶‰∏≤ÔºâÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÈÖçÁΩÆÈ°πÔºåÂÖ∂‰∏≠ plugins ÂÄº‰∏∫Êï∞ÁªÑÔºåÂ≠òÂÇ®‰øÆÊîπ babal-core ËΩ¨Êç¢ÁöÑ AST ÁöÑÊèí‰ª∂ÔºàÂØπË±°ÔºâÔºå‰ΩøÁî® transform ÊñπÊ≥ïÂ∞ÜÊóßÁöÑ AST Â§ÑÁêÜÊàêÊñ∞ÁöÑ‰ª£Á†ÅÂùóÂêéÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂØπË±°ÁöÑ code Â±ûÊÄß‰∏∫ËΩ¨Êç¢ÂêéÁöÑ‰ª£Á†ÅÂùóÔºàÂ≠óÁ¨¶‰∏≤Ôºâ„ÄÇ ÂÜÖÈÉ®‰øÆÊîπÈÄöËøá babel-types Ê®°ÂùóÊèê‰æõÁöÑÊñπÊ≥ïÂÆûÁé∞ÔºåAPI ÂèØ‰ª•Âà∞ https://github.com/babel/babel/tree/6.x/packages/babel-types ‰∏≠Êü•Áúã„ÄÇ ArrowPlugin Â∞±ÊòØ‰º†ÂÖ• transform ÊñπÊ≥ïÁöÑÊèí‰ª∂ÔºåÂøÖÈ°ªÂê´Êúâ visitor Â±ûÊÄßÔºàÂõ∫ÂÆöÔºâÔºåÂÄºÂêå‰∏∫ÂØπË±°ÔºåÁî®‰∫éÂ≠òÂÇ®‰øÆÊîπËØ≠Ê≥ïÊ†ëÁöÑÊñπÊ≥ïÔºåÊñπÊ≥ïÂêçË¶Å‰∏•Ê†ºÊåâÁÖß APIÔºåÂØπÂ∫îÁöÑÊñπÊ≥ï‰ºö‰øÆÊîπ AST ÂØπÂ∫îÁöÑËäÇÁÇπ„ÄÇ Âú® types.functionExpression ÊñπÊ≥ï‰∏≠ÂèÇÊï∞ÂàÜÂà´‰ª£Ë°®ÔºåÂáΩÊï∞ÂêçÔºàÂåøÂêçÂáΩÊï∞‰∏∫ nullÔºâ„ÄÅÂáΩÊï∞ÂèÇÊï∞ÔºàÂøÖÂ°´Ôºâ„ÄÅÂáΩÊï∞‰ΩìÔºàÂøÖÂ°´Ôºâ„ÄÅÊòØÂê¶‰∏∫ generator ÂáΩÊï∞ÔºàÈªòËÆ§ falseÔºâ„ÄÅÊòØÂê¶‰∏∫ async ÂáΩÊï∞ÔºàÈªòËÆ§ falseÔºâÔºåËøîÂõûÂÄº‰∏∫‰øÆÊîπÂêéÁöÑ ASTÔºåtypes.replaceWith ÊñπÊ≥ïÁî®‰∫éÊõøÊç¢ ASTÔºåÂèÇÊï∞‰∏∫Êñ∞ÁöÑ AST„ÄÇ 2„ÄÅplugin-transform-classesplugin-transform-classes ‰πüÊòØ Babel ÂÆ∂Êóè‰∏≠ÁöÑÊàêÂëò‰πã‰∏ÄÔºåÁî®‰∫éÂ∞Ü ES6 ÁöÑ class Á±ªËΩ¨Êç¢Êàê ES5 ÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇ Êñá‰ª∂Ôºöplugin-transform-classes.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485const babel = require(&quot;babel-core&quot;);const types = require(&quot;babel-types&quot;);// Á±ªlet code = `class Person &#123; constructor(name) &#123; this.name = name; &#125; getName () &#123; return this.name; &#125;&#125;`;// Â∞ÜÁ±ªËΩ¨Âåñ ES5 ÊûÑÈÄ†ÂáΩÊï∞Êèí‰ª∂let ClassPlugin = &#123; visitor: &#123; ClassDeclaration(path) &#123;let node = path.node;let classList = node.body.body;// Â∞ÜÂèñÂà∞ÁöÑÁ±ªÂêçËΩ¨Êç¢ÊàêÊ†áËØÜÁ¨¶ &#123; type: &apos;Identifier&apos;, name: &apos;Person&apos; &#125;let className = types.identifier(node.id.name);let body = types.blockStatement([]);let func = types.functionDeclaration(className, [], body, false, false); path.replaceWith(func);// Áî®‰∫éÂ≠òÂÇ®Â§ö‰∏™ÂéüÂûãÊñπÊ≥ïlet es5Func = [];// Ëé∑Âèñ class ‰∏≠ÁöÑ‰ª£Á†Å‰Ωì classList.forEach((item, index) =&gt; &#123;// ÂáΩÊï∞ÁöÑ‰ª£Á†Å‰Ωìlet body = classList[index].body;// Ëé∑ÂèñÂèÇÊï∞let params = item.params.length ? item.params.map(val =&gt; val.name) : [];// ËΩ¨ÂåñÂèÇÊï∞‰∏∫Ê†áËØÜÁ¨¶ params = types.identifier(params);// Âà§Êñ≠ÊòØÂê¶ÊòØ constructorÔºåÂ¶ÇÊûúÊûÑÈÄ†ÂáΩÊï∞ÈÇ£Â∞±ÁîüÊàêÊñ∞ÁöÑÂáΩÊï∞ÊõøÊç¢if (item.kind === &quot;constructor&quot;) &#123;// ÁîüÊàê‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞Ê†ëÁªìÊûÑ func = types.functionDeclaration(className, [params], body, false, false); &#125; else &#123;// ÂÖ∂‰ªñÊÉÖÂÜµÊòØÂéüÂûãÊñπÊ≥ïlet proto = types.memberExpression(className, types.identifier(&quot;prototype&quot;));// Â∑¶‰æßÂ±ÇÂ±ÇÂÆö‰πâÊ†áËØÜÁ¨¶ Person.prototype.getNamelet left = types.memberExpression(proto, types.identifier(item.key.name));// Âè≥‰æßÂÆö‰πâÂåøÂêçÂáΩÊï∞let right = types.functionExpression(null, [params], body, false, false);// Â∞ÜÂ∑¶‰æßÂíåÂè≥‰æßËøõË°åÂêàÂπ∂Âπ∂Â≠òÂÖ•Êï∞ÁªÑ es5Func.push(types.assignmentExpression(&quot;=&quot;, left, right)); &#125; &#125;);// Â¶ÇÊûúÊ≤°ÊúâÂéüÂûãÊñπÊ≥ïÔºåÁõ¥Êé•ÊõøÊç¢if (es5Func.length === 0) &#123; path.replaceWith(func); &#125; else &#123; es5Func.push(func);// ÊõøÊç¢ n ‰∏™ËäÇÁÇπ path.replaceWithMultiple(es5Func); &#125; &#125; &#125;&#125;;// ÁîüÊàêËΩ¨Êç¢ÂêéÁöÑ‰ª£Á†ÅÂùóresult = babel.transform(code, &#123; plugins: [ClassPlugin]&#125;);console.log(result.code);// Person.prototype.getName = function () &#123;// return this.name;// &#125;// function Person(name) &#123;// this.name = name;// &#125; ‰∏äÈù¢Ëøô‰∏™Êèí‰ª∂ÁöÑÂÆûÁé∞Ë¶ÅÊØî plugin-transform-arrow-functions Â§çÊùÇ‰∏Ä‰∫õÔºåÂΩíÊ†πÁªìÂ∫ïËøòÊòØÂ∞ÜË¶Å‰∫íÁõ∏ËΩ¨Êç¢ÁöÑ ES6 Âíå ES5 ËØ≠Ê≥ïÊ†ëÂÅöÂØπÊØîÔºåÊâæÂà∞‰ªñ‰ª¨ÁöÑ‰∏çÂêåÔºåÂπ∂‰ΩøÁî® babel-types Êèê‰æõÁöÑ API ÂØπËØ≠Ê≥ïÊ†ëÂØπÂ∫îÁöÑËäÇÁÇπÂ±ûÊÄßËøõË°å‰øÆÊîπÂπ∂ÊõøÊç¢ËØ≠Ê≥ïÊ†ëÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØ path.replaceWithMultiple ‰∏é path.replaceWith ‰∏çÂêåÔºåÂèÇÊï∞‰∏∫‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑÊîØÊåÅÂ§ö‰∏™ËØ≠Ê≥ïÊ†ëÁªìÊûÑÔºåÂèØÊ†πÊçÆÂÖ∑‰Ωì‰øÆÊîπËØ≠Ê≥ïÊ†ëÁöÑÂú∫ÊôØÈÄâÊã©‰ΩøÁî®Ôºå‰πüÂèØÊ†πÊçÆ‰∏çÂêåÊÉÖÂÜµ‰ΩøÁî®‰∏çÂêåÁöÑÊõøÊç¢ÊñπÊ≥ï„ÄÇ ÈÄöËøáÊú¨ËäÇÊàë‰ª¨‰∫ÜËß£‰∫Ü‰ªÄ‰πàÊòØ AST ÊäΩË±°ËØ≠Ê≥ïÊ†ë„ÄÅÊäΩË±°ËØ≠Ê≥ïÊ†ëÂú® JavaScript ‰∏≠ÁöÑ‰ΩìÁé∞‰ª•ÂèäÂú® NodeJS ‰∏≠Áî®‰∫éÁîüÊàê„ÄÅÈÅçÂéÜÂíå‰øÆÊîπ AST ÊäΩË±°ËØ≠Ê≥ïÊ†ëÁöÑÊ†∏ÂøÉ‰æùËµñÔºåÂπ∂ÈÄöËøá‰ΩøÁî® babel-core Âíå babel-types ‰∏§‰∏™Ê®°ÂùóÁÆÄÊòìÊ®°Êãü‰∫Ü ES6 Êñ∞ÁâπÊÄßËΩ¨Êç¢‰∏∫ ES5 ËØ≠Ê≥ïÁöÑËøáÁ®ãÔºåÂ∏åÊúõÂèØ‰ª•‰∏∫ÂêéÈù¢Ëá™Â∑±ÂÆûÁé∞‰∏Ä‰∫õÁºñËØëÊèí‰ª∂Êèê‰æõ‰∫ÜÊÄùË∑Ø„ÄÇ ÂÅáËÆæÊàë‰ª¨Áé∞Âú®‰ΩøÁî®‰∫Ü ElementUI Â∫ìÁöÑ‰∏§‰∏™ÁªÑ‰ª∂ÔºåÈÄöÂ∏∏‰ºö‰ΩøÁî®Ëß£ÊûÑËµãÂÄºÊù•ÂºïÂÖ•„ÄÇ ‰ºòÂåñÂâç import { Button, Alert } from&quot;element-ui&quot;; ËøôÊ†∑ÂºïÁî®ËµÑÊ∫êÔºå Webpack Âú®ÊâìÂåÖÁöÑÊó∂ÂÄô‰ºöÊâæÂà∞ element-ui Âπ∂ÊääÈáåÈù¢ÊâÄÊúâÁöÑ‰ª£Á†ÅÂÖ®ÈÉ®ÊâìÂåÖÂà∞Âá∫Âè£Êñá‰ª∂ÔºåÊàë‰ª¨Âè™‰ΩøÁî®‰∫Ü‰∏§‰∏™ÁªÑ‰ª∂ÔºåÂÖ®ÈÉ®ÊâìÂåÖ‰∏çÊòØÊàë‰ª¨ÊâÄÂ∏åÊúõÁöÑÔºåtree-sharking ÊòØÈÄöËøáÂú® Webpack ‰∏≠ÈÖçÁΩÆ babel-plugin-import Êèí‰ª∂Êù•ÂÆûÁé∞ÁöÑÔºåÂÆÉÂèØ‰ª•Â∞ÜËß£ÊûÑÁöÑ‰ª£Á†ÅËΩ¨Êç¢Êàê‰∏ãÈù¢ÁöÑÂΩ¢Âºè„ÄÇ ‰ºòÂåñÂêé import Button from&quot;element-ui/lib/button&quot;; import Alert from&quot;element-ui/lib/Alert&quot;; ËΩ¨ÂåñÂêé‰ºöÂéª node_modules ‰∏≠ÁöÑ element-ui Ê®°ÂùóÊâæÂà∞ Button Âíå Alert ‰∏§‰∏™ÁªÑ‰ª∂ÂØπÂ∫îÁöÑÊñá‰ª∂ÔºåÂπ∂ÊâìÂåÖÂà∞Âá∫Âè£Êñá‰ª∂‰∏≠„ÄÇ ÈÄöËøá‰∏äÈù¢ÁöÑËΩ¨Êç¢ÂèØ‰ª•ÁúãÂá∫ÔºåÂÖ∂ÂÆû tree-sharking ÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÈÄöËøáÊîπÂèò AST ËØ≠Ê≥ïÊ†ëÁöÑÁªìÊûÑÊù•ÂÆûÁé∞ÁöÑÔºåÂ¶ÇÊûú‰∏ç‰∫ÜËß£ÊäΩË±°ËØ≠Ê≥ïÊ†ëÂèØ‰ª•ÂèÇËÄÉ AST ÊäΩË±°ËØ≠Ê≥ïÊ†ëÔºå ‰ºòÂåñÂâçÁöÑ AST ËØ≠Ê≥ïÊ†ë 1234567891011121314151617181920212223242526272829303132333435363738&#123; &quot;type&quot;: &quot;Program&quot;, &quot;body&quot;: [ &#123; &quot;type&quot;: &quot;ImportDeclaration&quot;, &quot;specifiers&quot;: [ &#123; &quot;type&quot;: &quot;ImportSpecifier&quot;, &quot;local&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Button&quot; &#125;, &quot;imported&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Button&quot; &#125; &#125;, &#123; &quot;type&quot;: &quot;ImportSpecifier&quot;, &quot;local&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Alert&quot; &#125;, &quot;imported&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Alert&quot; &#125; &#125; ], &quot;source&quot;: &#123; &quot;type&quot;: &quot;Literal&quot;, &quot;value&quot;: &quot;element-ui&quot;, &quot;raw&quot;: &quot;\&quot;element-ui\&quot;&quot; &#125; &#125; ], &quot;sourceType&quot;: &quot;module&quot;&#125; ‰ºòÂåñÂêéÁöÑ AST ËØ≠Ê≥ïÊ†ë 12345678910111213141516171819202122232425262728293031323334353637383940 &#123; &quot;type&quot;: &quot;Program&quot;, &quot;body&quot;: [ &#123; &quot;type&quot;: &quot;ImportDeclaration&quot;, &quot;specifiers&quot;: [ &#123; &quot;type&quot;: &quot;ImportDefaultSpecifier&quot;, &quot;local&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Button&quot; &#125; &#125; ], &quot;source&quot;: &#123; &quot;type&quot;: &quot;Literal&quot;, &quot;value&quot;: &quot;element-ui/lib/button&quot;, &quot;raw&quot;: &quot;\&quot;element-ui/lib/button\&quot;&quot; &#125; &#125;, &#123; &quot;type&quot;: &quot;ImportDeclaration&quot;, &quot;specifiers&quot;: [ &#123; &quot;type&quot;: &quot;ImportDefaultSpecifier&quot;, &quot;local&quot;: &#123; &quot;type&quot;: &quot;Identifier&quot;, &quot;name&quot;: &quot;Alert&quot; &#125; &#125; ], &quot;source&quot;: &#123; &quot;type&quot;: &quot;Literal&quot;, &quot;value&quot;: &quot;element-ui/lib/Alert&quot;, &quot;raw&quot;: &quot;\&quot;element-ui/lib/Alert\&quot;&quot; &#125; &#125; ], &quot;sourceType&quot;: &quot;module&quot;&#125; ‰ªé‰∏äÈù¢ÁöÑËØ≠Ê≥ïÊ†ëÂØπÊØîÔºåÂèØ‰ª•ÁúãÂá∫Âú®‰ºòÂåñÂâç body ÈáåÈù¢Âè™Êúâ‰∏Ä‰∏™ÂØπË±°Ôºå‰ΩøÁî®ÁöÑÁªÑ‰ª∂‰ø°ÊÅØÂ≠òÂú® specifiers ÈáåÔºåsource ÊåáÂêë‰∫Ü element-uiÔºåËÄåÂú®‰ºòÂåñÂêéÔºåÂ∞Ü‰∏§‰∏™ÁªÑ‰ª∂ÂàÜÂà´ÊãÜÊàê‰∫Ü‰∏§‰∏™ÂØπË±°Â≠òÂú® body ‰∏≠ÔºåÊØè‰∏™ÂØπË±°ÁöÑÁöÑ specifiers Âè™Â≠òÂÇ®‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÂπ∂Âú® source ÈáåÈù¢ÊåáÂêë‰∫ÜÂΩìÂâçÁªÑ‰ª∂ÂØπÂ∫îÁöÑË∑ØÂæÑ„ÄÇ Ê®°Êãü tree-starkingÊó¢ÁÑ∂Êàë‰ª¨Â∑≤ÁªèÊ∏ÖÊ•öË¶Å‰øÆÊîπËØ≠Ê≥ïÊ†ëÁöÑ‰ΩçÁΩÆÔºå‰∏ãÈù¢Â∞±‰ΩøÁî® AST Êù•Ê®°Êãü tree-sharking ÂäüËÉΩÔºåÂØπËØ≠Ê≥ïÊ†ëÁöÑÊìç‰ΩúÊòØ‰æùËµñ‰∫é babel-core Âíå babel-types ‰∏§‰∏™Ê†∏ÂøÉÊ®°ÂùóÁöÑÔºå‰∏ãÈù¢ÂÖàÂÆâË£Ö‰æùËµñ„ÄÇ1npm install babel-core babel-types Êñá‰ª∂Ôºöbabel-plugin-my-import.js 1234567891011121314151617181920212223242526272829303132333435363738const babel = require(&quot;babel-core&quot;);const types = require(&quot;babel-types&quot;);let code = `import &#123; Button, Alert &#125; from &quot;element-ui&quot;`;let importPlugin = &#123; visitor: &#123; ImportDeclaration(path) &#123; let node = path.node; let source = node.source.value; let specifiers = node.specifiers; // Âà§Êñ≠ÊòØÂê¶ÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™‰∏çÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂàôÈÉΩ‰∏çÊòØÈªòËÆ§ÂØºÂá∫ if (!types.isImportDefaultSpecifier(specifiers[0])) &#123; // Â¶ÇÊûú‰∏çÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂàôÈúÄË¶ÅËΩ¨Êç¢ specifiers = specifiers.map(specifier =&gt; &#123; // Êï∞ÁªÑÂÜÖÂÆπÔºöÂΩìÂâçÈªòËÆ§ÂØºÂá∫ÁöÑÊ†áËØÜ„ÄÅ‰ªéÂì™ÈáåÂØºÂÖ• return types.importDeclaration( [types.importDefaultSpecifier(specifier.local)], types.stringLiteral(`$&#123;source&#125;/lib/$&#123;specifier.local.name.toLowerCase()&#125;`) ); &#125;); // ÊõøÊç¢Ê†ëÁªìÊûÑ path.replaceWithMultiple(specifiers); &#125; &#125; &#125;&#125;;let result = babel.transform(code, &#123; plugins: [importPlugin]&#125;);console.log(result.code);// import Button from &quot;element-ui/lib/button&quot;;// import Alert from &quot;element-ui/lib/alert&quot;; ÈÄöËøá‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÂèëÁé∞Êàë‰ª¨‰ΩøÁî® babel-core Âíå babel-types ‰∏§‰∏™Ê®°ÂùóÁöÑÊ†∏ÂøÉÊñπÊ≥ïÂØπËØ≠Ê≥ï‰π¶ËøõË°å‰∫ÜÈÅçÂéÜ„ÄÅ‰øÆÊîπÂíåÊõøÊç¢ÔºåÊõ¥ËØ¶ÁªÜÁöÑ API ÂèØ‰ª•Êü•Áúã https://github.com/babel/babel/tree/6.x/packages/babel-types„ÄÇ ÁªìÂêà Webpack ‰ΩøÁî®Êèí‰ª∂ÂâçÈù¢Âè™ÊòØÈ™åËØÅ‰∫Ü tree-sharking ‰∏≠ JS ËØ≠Ê≥ïÁöÑËΩ¨Êç¢ËøáÁ®ãÔºåÊé•‰∏ãÊù•Â∞Ü‰∏äÈù¢ÁöÑ‰ª£Á†ÅËΩ¨Êç¢ÊàêÊèí‰ª∂ÈÖçÂêà Webpack ‰ΩøÁî®ÔºåÊù•ÂΩªÂ∫ïÊÑüÂèó tree-sharking ÁöÑÂ∑•‰ΩúËøáÁ®ã„ÄÇ Êñá‰ª∂Ôºö~node_modules/babel-plugin-my-import.js 1234567891011121314151617181920212223242526272829const babel = require(&quot;babel-core&quot;);const types = require(&quot;babel-types&quot;);let importPlugin = &#123; visitor: &#123; ImportDeclaration(path) &#123; let node = path.node; let source = node.source.value; let specifiers = node.specifiers; // Âà§Êñ≠ÊòØÂê¶ÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™‰∏çÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂàôÈÉΩ‰∏çÊòØÈªòËÆ§ÂØºÂá∫ if (!types.isImportDefaultSpecifier(specifiers[0])) &#123; // Â¶ÇÊûú‰∏çÊòØÈªòËÆ§ÂØºÂá∫ÔºåÂàôÈúÄË¶ÅËΩ¨Êç¢ specifiers = specifiers.map(specifier =&gt; &#123; // Êï∞ÁªÑÂÜÖÂÆπÔºöÂΩìÂâçÈªòËÆ§ÂØºÂá∫ÁöÑÊ†áËØÜ„ÄÅ‰ªéÂì™ÈáåÂØºÂÖ• return types.importDeclaration( [types.importDefaultSpecifier(specifier.local)], types.stringLiteral(`$&#123;source&#125;/lib/$&#123;specifier.local.name.toLowerCase()&#125;`) ); &#125;); // ÊõøÊç¢Ê†ëËß£ÊûÑ path.replaceWithMultiple(specifiers); &#125; &#125; &#125;&#125;;module.exports = importPlugin; ‰∏äÈù¢Âà†Êéâ‰∫ÜÂ§ö‰ΩôÁöÑÊµãËØï‰ª£Á†ÅÔºåÂ∞ÜÊ®°Âùó‰∏≠ÁöÑ importPlugin Êèí‰ª∂ÂØºÂá∫ÔºåÂπ∂Êää babel-plugin-my-import.js ÁßªÂÖ•‰∫Ü node_modules ÂΩì‰∏≠„ÄÇ Êé•‰∏ãÊù•ÂÆâË£ÖÈúÄË¶ÅÁöÑ‰æùËµñÔºö12npm install webpack webpack-cli babel-loader babel-presets-envnpm install vue element-ui --save ÂÆâË£ÖÂÆå‰æùËµñÔºåÂÜô‰∏Ä‰∏™Ë¶ÅÁºñËØëÁöÑÊñá‰ª∂Ôºå‰ΩøÁî® Webpack ËøõË°åÊâìÂåÖÔºåÊü•Áúã‰ΩøÁî®Êèí‰ª∂ÂâçÂíå‰ΩøÁî®Êèí‰ª∂ÂêéÂá∫Âè£Êñá‰ª∂ÁöÑÂ§ßÂ∞è„ÄÇÊñá‰ª∂Ôºöimport.js12import Vue from&quot;vue&quot;;import &#123; Button, Alert &#125; from&quot;element-ui&quot;; ‰∏ãÈù¢Êù•ÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Webpack ÈÖçÁΩÆÊñá‰ª∂„ÄÇ Êñá‰ª∂Ôºöwebpcak.config.js 1234567891011121314151617181920212223242526 module.exports = &#123; mode: &quot;development&quot;, entry: &quot;import.js&quot;, output: &#123; filename: &quot;bundle.js&quot;, path: __dirname &#125;, module: &#123; rules: [&#123; test: /\.js$/, use: &#123; loader: &quot;babel-loader&quot;, options: &#123; presets: [ &quot;env&quot;, ], plugins: [ // Êèí‰ª∂Ôºö‰∏ç‰ΩøÁî®Êèí‰ª∂ÊâìÂåÖÊ≥®ÈáäÊéâËØ•Ë°åÂç≥ÂèØ [&quot;my-import&quot;, &#123; libararyName: &quot;element-ui&quot; &#125;] ] &#125; &#125;, exclude: /node_modules/ &#125;] &#125;&#125;; ‰∏∫‰∫ÜÈò≤Ê≠¢ babel Áõ∏ÂÖ≥ÁöÑ‰æùËµñÂçáÁ∫ß 7.0 ÂêéÂá∫Áé∞‰∏Ä‰∫õÈóÆÈ¢òÂØºËá¥ Webpack Êó†Ê≥ïÂêØÂä®ÔºåÂÜçÊ≠§Ë¥¥Âá∫ package.json Êñá‰ª∂ÔºåÊåâÁÖßÂØπÂ∫îÁâàÊú¨‰∏ãËΩΩ‰æùËµñ‰øùËØÅ‰∏äÈù¢ Webpack ÈÖçÁΩÆÁîüÊïà„ÄÇ Êñá‰ª∂Ôºöpackage.json 123456789101112131415161718192021222324252627&#123; &quot;name&quot;: &quot;ast-lesson&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;tree-starking&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot; &#125;, &quot;keywords&quot;: [], &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;dependencies&quot;: &#123; &quot;babel-core&quot;: &quot;^6.26.3&quot;, &quot;babel-loader&quot;: &quot;^7.1.5&quot;, &quot;babel-preset-env&quot;: &quot;^1.7.0&quot;, &quot;babel-types&quot;: &quot;^6.26.0&quot;, &quot;escodegen&quot;: &quot;^1.10.0&quot;, &quot;esprima&quot;: &quot;^4.0.0&quot;, &quot;estraverse&quot;: &quot;^4.2.0&quot;, &quot;webpack&quot;: &quot;^4.16.0&quot;, &quot;webpack-cli&quot;: &quot;^3.0.8&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;vue&quot;: &quot;^2.5.17&quot;, &quot;element-ui&quot;: &quot;^2.4.6&quot; &#125;&#125; ÂØπÊØî‰ΩøÁî®Êèí‰ª∂ÂâçÂêéÁöÑÂá∫Âè£Êñá‰ª∂Êé•‰∏ãÊù•ÂàÜÂà´Âú®‰ΩøÁî®Êèí‰ª∂Âíå‰∏ç‰ΩøÁî®Êèí‰ª∂Êó∂ÊâßË°åÊâìÂåÖÂëΩ‰ª§ÔºåÊü•ÁúãÂá∫Âè£Êñá‰ª∂ bondle.js ÁöÑÂ§ßÂ∞è„ÄÇ1npx webpack ‰ΩøÁî® babel-plugin-my-import ÂâçÔºö ‰ΩøÁî® babel-plugin-my-import ÂêéÔºö ÈÄöËøáÂØπÊØîÔºåÂèØ‰ª•ÁúãÂà∞‰ΩøÁî® tree-sharking Âç≥Êàë‰ª¨Ëá™Â∑±ÂÆûÁé∞ÁöÑ babel-plugin-my-import Êèí‰ª∂ÂêéÔºåÊâìÂåÖÁöÑÂá∫Âè£Êñá‰ª∂Â§ßÂ§ßÂáèÂ∞èÔºåÂÖ∂ÂéüÂõ†ÊòØÂ∞ÜÂºïÂÖ•Á¨¨‰∏âÊñπÂ∫ìÊ≤°Êúâ‰ΩøÁî®ÁöÑ‰ª£Á†ÅÂÖ®ÈÉΩËøáÊª§Êéâ‰∫ÜÔºåÂè™ÊâìÂåÖ‰∫ÜÊúâÊïà‰ª£Á†Å„ÄÇ ÊÄªÁªì‰∏äÈù¢ÂØπ Webpack ÁöÑ tree-sharking ËøõË°å‰∫ÜÂàÜÊûêÔºåÂπ∂Ê®°Êãü babel-plugin-import ÁÆÄÊòìÁöÑÂÆûÁé∞‰∫Ü‰∏ÄÁâà tree-sharking ÁöÑ‰ºòÂåñÊèí‰ª∂ÔºåËøô‰∏™ËøáÁ®ã‰∏≠Áõ∏‰ø°Â§ßÂÆ∂Â∑≤Áªè‰∫ÜËß£‰∫Ü tree-sharking ÁöÑÂéüÁêÜ‰ª•ÂèäÂÆûÁé∞Á±ª‰ººÊèí‰ª∂ÁöÑÊÄùË∑ØÔºåÂπ∂Â∑≤ÁªèÂÖ∑Â§á‰∫ÜÂºÄÂèëÁ±ª‰ººÊèí‰ª∂ÁöÑÂü∫Êú¨Êù°‰ª∂ÔºåÊúÄÂêéËøòÊúâ‰∏ÄÁÇπÈúÄË¶ÅË°•ÂÖÖÔºåtree-sharking ‰ºòÂåñÁöÑÊñπÂºèÊòØÊ†πÊçÆ ES6 ËØ≠Ê≥ï import ‚ÄúÈùôÊÄÅ‚Äù ÂºïÂÖ•ÁöÑÁâπÊÄßÂÆûÁé∞ÁöÑÔºåÂ¶ÇÊûúË¶ÅËØ¥ tree-sharking ÂæàÂº∫Â§ßÔºåËøò‰∏çÂ¶ÇËØ¥ ES6 Ê®°ÂùóÂåñËßÑËåÉ ‚ÄúÈùôÊÄÅ‚Äù ÂºïÂÖ•ÁöÑÁâπÊÄßÂº∫Â§ßÔºåÊ≠£Áî±‰∫éÊòØÂü∫‰∫é ‚ÄúÈùôÊÄÅ‚Äù ÂºïÂÖ•ÔºåÊâÄ‰ª•ÁõÆÂâç tree-sharking Âè™ÊîØÊåÅÈÅçÂéÜ‰∏ÄÂ±Ç import ÂÖ≥ÈîÆÂ≠ó„ÄÇ]]></content>
      <tags>
        <tag>Tree-Shaking</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[koa-bodyparser‰∏≠Èó¥‰ª∂Ê®°Êãü]]></title>
    <url>%2F2018%2F10%2F10%2Fkoa-bodyparser%E4%B8%AD%E9%97%B4%E4%BB%B6%E6%A8%A1%E6%8B%9F%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄKoa 2.x ÁâàÊú¨ÊòØÂΩì‰∏ãÊúÄÊµÅË°åÁöÑ NodeJS Ê°ÜÊû∂ÔºåKoa 2.0 ÁöÑÊ∫êÁ†ÅÁâπÂà´Á≤æÁÆÄÔºå‰∏çÂÉè Express Â∞ÅË£ÖÁöÑÂäüËÉΩÈÇ£‰πàÂ§öÔºåÊâÄ‰ª•Â§ßÈÉ®ÂàÜÁöÑÂäüËÉΩÈÉΩÊòØÁî± Koa ÂºÄÂèëÂõ¢ÈòüÔºàÂêå Express ÊòØ‰∏ÄÂÆ∂Âá∫ÂìÅÔºâÂíåÁ§æÂå∫Ë¥°ÁåÆËÄÖÈíàÂØπ Koa ÂØπ NodeJS ÁöÑÂ∞ÅË£ÖÁâπÊÄßÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂Êù•Êèê‰æõÁöÑÔºåÁî®Ê≥ïÈùûÂ∏∏ÁÆÄÂçïÔºåÂ∞±ÊòØÂºïÂÖ•‰∏≠Èó¥‰ª∂ÔºåÂπ∂Ë∞ÉÁî® Koa ÁöÑ use ÊñπÊ≥ï‰ΩøÁî®Âú®ÂØπÂ∫îÁöÑ‰ΩçÁΩÆÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈÄöËøáÂú®ÂÜÖÈÉ®Êìç‰Ωú ctx ÂÆûÁé∞‰∏Ä‰∫õÂäüËÉΩÔºåÊàë‰ª¨Êé•‰∏ãÊù•Â∞±ËÆ®ËÆ∫Â∏∏Áî®‰∏≠Èó¥‰ª∂ÁöÑÂÆûÁé∞ÂéüÁêÜ‰ª•ÂèäÊàë‰ª¨Â∫îËØ•Â¶Ç‰ΩïÂºÄÂèë‰∏Ä‰∏™ Koa ‰∏≠Èó¥‰ª∂‰æõËá™Â∑±ÂíåÂà´‰∫∫‰ΩøÁî®„ÄÇ Koa ÁöÑÊ¥ãËë±Ê®°Âûã‰ªãÁªçÊàë‰ª¨Êú¨Ê¨°‰∏çÂØπÊ¥ãËë±Ê®°ÂûãÁöÑÂÆûÁé∞ÂéüÁêÜËøõË°åËøáÂ§öÁöÑÂà®ÊûêÔºå‰∏ªË¶ÅÊ†πÊçÆ API ÁöÑ‰ΩøÁî®ÊñπÂºèÂèäÊ¥ãËë±Ê®°ÂûãÂàÜÊûê‰∏≠Èó¥‰ª∂ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑ„ÄÇ // Ê¥ãËë±Ê®°ÂûãÁâπÁÇπ// ÂºïÂÖ• Koa const Koa = require(&quot;koa&quot;); // ÂàõÂª∫ÊúçÂä° const app = new Koa(); app.use(async (ctx, next) =&gt; { console.log(1); await next(); console.log(2); }); app.use(async (ctx, next) =&gt; { console.log(3); await next(); console.log(4); }); app.use(async (ctx, next) =&gt; { console.log(5); await next(); console.log(6); }); // ÁõëÂê¨ÊúçÂä° app.listen(3000); // 1 // 3 // 5 // 6 // 4 // 2 Êàë‰ª¨Áü•ÈÅì Koa ÁöÑ use ÊñπÊ≥ïÊòØÊîØÊåÅÂºÇÊ≠•ÁöÑÔºåÊâÄ‰ª•‰∏∫‰∫Ü‰øùËØÅÊ≠£Â∏∏ÁöÑÊåâÁÖßÊ¥ãËë±Ê®°ÂûãÁöÑÊâßË°åÈ°∫Â∫èÊâßË°å‰ª£Á†ÅÔºåÈúÄË¶ÅÂú®Ë∞ÉÁî® next ÁöÑÊó∂ÂÄôËÆ©‰ª£Á†ÅÁ≠âÂæÖÔºåÁ≠âÂæÖÂºÇÊ≠•ÁªìÊùüÂêéÂÜçÁªßÁª≠Âêë‰∏ãÊâßË°åÔºåÊâÄ‰ª•Êàë‰ª¨Âú® Koa ‰∏≠ÈÉΩÊòØÂª∫ËÆÆ‰ΩøÁî® async/await ÁöÑÔºåÂºïÂÖ•ÁöÑ‰∏≠Èó¥‰ª∂ÈÉΩÊòØÂú® use ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®ÔºåÁî±Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂàÜÊûêÂá∫ÊØè‰∏Ä‰∏™ Koa ÁöÑ‰∏≠Èó¥‰ª∂ÈÉΩÊòØËøîÂõû‰∏Ä‰∏™ async ÂáΩÊï∞ÁöÑ„ÄÇ koa-bodyparser ‰∏≠Èó¥‰ª∂Ê®°ÊãüÊÉ≥Ë¶ÅÂàÜÊûê koa-bodyparser ÁöÑÂéüÁêÜÈ¶ñÂÖàÈúÄË¶ÅÁü•ÈÅìÁî®Ê≥ïÂíå‰ΩúÁî®Ôºåkoa-bodyparser ‰∏≠Èó¥‰ª∂ÊòØÂ∞ÜÊàë‰ª¨ÁöÑ post ËØ∑Ê±ÇÂíåË°®ÂçïÊèê‰∫§ÁöÑÊü•ËØ¢Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÂØπË±°ÔºåÂπ∂ÊåÇÂú® ctx.request.body ‰∏äÔºåÊñπ‰æøÊàë‰ª¨Âú®ÂÖ∂‰ªñ‰∏≠Èó¥‰ª∂ÊàñÊé•Âè£Â§ÑÂèñÂÄºÔºå‰ΩøÁî®ÂâçÈúÄÊèêÂâçÂÆâË£Ö„ÄÇ npm install koa koa-bodyparser koa-bodyparser ÂÖ∑‰ΩìÁî®Ê≥ïÂ¶Ç‰∏ãÔºö // koa-bodyparser ÁöÑÁî®Ê≥ï const Koa = require(&quot;koa&quot;); const bodyParser = require(&quot;koa-bodyparser&quot;); const app = new Koa(); // ‰ΩøÁî®‰∏≠Èó¥‰ª∂ app.use(bodyParser()); app.use(async (ctx, next) =&gt; { if (ctx.path === &quot;/&quot; &amp;&amp; ctx.method === &quot;POST&quot;) { // ‰ΩøÁî®‰∏≠Èó¥‰ª∂Âêé ctx.request.body Â±ûÊÄßËá™Âä®Âä†‰∏ä‰∫Ü post ËØ∑Ê±ÇÁöÑÊï∞ÊçÆ console.log(ctx.request.body); } }); app.listen(3000); Ê†πÊçÆÁî®Ê≥ïÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ koa-bodyparser ‰∏≠Èó¥‰ª∂ÂºïÂÖ•ÁöÑÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊàë‰ª¨ÊääÂÆÉÊîæÂú®‰∫Ü use ‰∏≠ÊâßË°åÔºåÊ†πÊçÆ Koa ÁöÑÁâπÁÇπÔºåÊàë‰ª¨Êé®Êñ≠Âá∫ koa-bodyparser ÁöÑÂáΩÊï∞ÊâßË°åÂêéÂ∫îËØ•ÁªôÊàë‰ª¨ËøîÂõû‰∫Ü‰∏Ä‰∏™ async ÂáΩÊï∞Ôºå‰∏ãÈù¢ÊòØÊàë‰ª¨Ê®°ÊãüÂÆûÁé∞ÁöÑ‰ª£Á†Å„ÄÇ // Êñá‰ª∂Ôºömy-koa-bodyparser.js const querystring = require(&quot;querystring&quot;); module.exports = functionbodyParser() { returnasync (ctx, next) =&gt; { await new Promise((resolve, reject) =&gt; { // Â≠òÂÇ®Êï∞ÊçÆÁöÑÊï∞ÁªÑ let dataArr = []; // Êé•Êî∂Êï∞ÊçÆ ctx.req.on(&quot;data&quot;, data =&gt; dataArr.push(data)); // Êï¥ÂêàÊï∞ÊçÆÂπ∂‰ΩøÁî® Promise ÊàêÂäü ctx.req.on(&quot;end&quot;, () =&gt; { // Ëé∑ÂèñËØ∑Ê±ÇÊï∞ÊçÆÁöÑÁ±ªÂûã json ÊàñË°®Âçï let contentType = ctx.get(&quot;Content-Type&quot;); // Ëé∑ÂèñÊï∞ÊçÆ Buffer Ê†ºÂºè let data = Buffer.concat(dataArr).toString(); if (contentType === &quot;application/x-www-form-urlencoded&quot;) { // Â¶ÇÊûúÊòØË°®ÂçïÊèê‰∫§ÔºåÂàôÂ∞ÜÊü•ËØ¢Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÂØπË±°ËµãÂÄºÁªô ctx.request.body ctx.request.body = querystring.parse(data); } elseif (contentType === &quot;applaction/json&quot;) { // Â¶ÇÊûúÊòØ jsonÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÁöÑÂØπË±°ËΩ¨Êç¢ÊàêÂØπË±°ËµãÂÄºÁªô ctx.request.body ctx.request.body = JSON.parse(data); } // ÊâßË°åÊàêÂäüÁöÑÂõûË∞É resolve(); }); }); // ÁªßÁª≠Âêë‰∏ãÊâßË°å await next(); }; }; Âú®‰∏äÈù¢‰ª£Á†Å‰∏≠Áî±Âá†ÁÇπÊòØÈúÄË¶ÅÊàë‰ª¨Ê≥®ÊÑèÁöÑÔºåÂç≥ next ÁöÑË∞ÉÁî®‰ª•Âèä‰∏∫‰ªÄ‰πàÈÄöËøáÊµÅÊé•Êî∂Êï∞ÊçÆ„ÄÅÂ§ÑÁêÜÊï∞ÊçÆÂíåÂ∞ÜÊï∞ÊçÆÊåÇÂú® ctx.request.body Ë¶ÅÂú® Promise ‰∏≠ËøõË°å„ÄÇ È¶ñÂÖàÊòØ next ÁöÑË∞ÉÁî®ÔºåÊàë‰ª¨Áü•ÈÅì Koa ÁöÑ next ÊâßË°åÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂú®ÊâßË°å‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑÂáΩÊï∞ÔºåÂç≥‰∏ã‰∏Ä‰∏™ use ‰∏≠ÁöÑ async ÂáΩÊï∞Ôºå‰∏∫‰∫Ü‰øùËØÅÂêéÈù¢ÁöÑÂºÇÊ≠•‰ª£Á†ÅÊâßË°åÂÆåÊØïÂêéÂÜçÁªßÁª≠ÊâßË°åÂΩìÂâçÁöÑ‰ª£Á†ÅÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰ΩøÁî® await ËøõË°åÁ≠âÂæÖÔºåÂÖ∂Ê¨°Â∞±ÊòØÊï∞ÊçÆ‰ªéÊé•Êî∂Âà∞ÊåÇÂú® ctx.request.body ÈÉΩÂú® Promise ‰∏≠ÊâßË°åÔºåÊòØÂõ†‰∏∫Âú®Êé•Êî∂Êï∞ÊçÆÁöÑÊìç‰ΩúÊòØÂºÇÊ≠•ÁöÑÔºåÊï¥‰∏™Â§ÑÁêÜÊï∞ÊçÆÁöÑËøáÁ®ãÈúÄË¶ÅÁ≠âÂæÖÂºÇÊ≠•ÂÆåÊàêÂêéÔºåÂÜçÊääÊï∞ÊçÆÊåÇÂú® ctx.request.body ‰∏äÔºåÂèØ‰ª•‰øùËØÅÊàë‰ª¨Âú®‰∏ã‰∏Ä‰∏™ use ÁöÑ async ÂáΩÊï∞‰∏≠ÂèØ‰ª•Âú® ctx.request.body ‰∏äÊãøÂà∞Êï∞ÊçÆÔºåÊâÄ‰ª•Êàë‰ª¨‰ΩøÁî® await Á≠âÂæÖ‰∏Ä‰∏™ Promise ÊàêÂäüÂêéÂÜçÊâßË°å next„ÄÇ]]></content>
      <tags>
        <tag>koa</tag>
        <tag>‰∏≠Èó¥‰ª∂</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âü∫‰∫éIntersectionObserverÁöÑÂõæÁâáÊáíÂä†ËΩΩÂÆûÁé∞]]></title>
    <url>%2F2018%2F10%2F08%2F%E5%9F%BA%E4%BA%8EIntersectionObserver%E7%9A%84%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;ÂõæÁâáÊáíÂä†ËΩΩ&lt;/title&gt; &lt;link href=&quot;./css/style.css&quot; rel=&quot;stylesheet&quot;/&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;view&quot;&gt; &lt;img data-src=&quot;http://img.pconline.com.cn/images/upload/upc/tx/wallpaper/1301/05/c0/17135331_1357355776882.jpg&quot; class=&quot;lazy-image&quot;/&gt; &lt;img data-src=&quot;http://f.hiphotos.baidu.com/zhidao/pic/item/eac4b74543a982267a3d54978a82b9014b90eb86.jpg&quot; class=&quot;lazy-image&quot;/&gt; &lt;img data-src=&quot;http://pic1.win4000.com/wallpaper/2/58b61f7dc6c1d.jpg&quot; class=&quot;lazy-image&quot;/&gt; &lt;img data-src=&quot;http://file03.16sucai.com/2017/1100/16sucai_p20161106032_0c2.JPG&quot; class=&quot;lazy-image&quot;/&gt; &lt;img data-src=&quot;http://imgsrc.baidu.com/image/c0%3Dpixel_huitu%2C0%2C0%2C294%2C40/sign=5a7938d38acb39dbd5cd6f16b96e6c48/aec379310a55b3196c79de4c48a98226cffc1702.jpg&quot; class=&quot;lazy-image&quot;/&gt; &lt;img data-src=&quot;http://c.hiphotos.baidu.com/zhidao/pic/item/8d5494eef01f3a2987a8062f9f25bc315d607ceb.jpg&quot; class=&quot;lazy-image&quot;/&gt; &lt;/div&gt;&lt;/body&gt;&lt;link href=&quot;./css/style.css&quot; rel=&quot;stylesheet&quot;/&gt;&lt;script src=&quot;js/lazy-image.js&quot;&gt;&lt;/script&gt;&lt;script&gt; console.log(document.documentElement.clientHeight) new LazyImage(&apos;.lazy-image&apos;)&lt;/script&gt;&lt;/html&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475class LazyImage &#123; constructor(selector) &#123; // ÊáíËÆ∞ËΩΩÂõæÁâáÂàóË°®ÔºåÂ∞Ü‰º™Êï∞ÁªÑËΩ¨‰∏∫Êï∞ÁªÑÔºå‰ª•‰æøÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÁöÑapi this.lazyImages = Array.prototype.slice.call(document.querySelectorAll(selector)) this.init() &#125; inViewShow() &#123; // ‰∏çÊîØÊåÅIntersectionObserver apiÁöÑÊÉÖÂÜµ‰∏ãÂà§Êñ≠ÂõæÁâáÊòØÂê¶Âá∫Áé∞Âú®ÂèØËßÜÂå∫ÂüüÂÜÖ let len = this.lazyImages.length for(let i = 0; i &lt; len; i++) &#123; let lazyImage = this.lazyImages[i] const rect = lazyImage.getBoundingClientRect() // Âá∫Áé∞Âú®ËßÜÈáéÁöÑÊó∂ÂÄôÂä†ËΩΩÂõæÁâá if(rect.top &lt; document.documentElement.clientHeight) &#123; lazyImage.src = lazyImage.dataset.src // ÁßªÈô§ÊéâÂ∑≤ÁªèÊòæÁ§∫ÁöÑ this.lazyImages.splice(i, 1) len-- i-- if(this.lazyImages.length === 0) &#123; // Â¶ÇÊûúÂÖ®ÈÉ®ÈÉΩÂä†ËΩΩÂÆå ÂàôÂéªÊéâÊªöÂä®‰∫ã‰ª∂ÁõëÂê¨ document.removeEventListener(&apos;scroll&apos;, this._throttleFn) &#125; &#125; &#125; &#125; throttle(fn, delay = 15, mustRun = 30) &#123; let t_start = null let timer = null let context = this return function() &#123; let t_current = +(new Date()) let args = Array.prototype.slice.call(arguments) clearTimeout(timer) if(!t_start) &#123; t_start = t_current &#125; if(t_current - t_start &gt; mustRun) &#123; fn.apply(context, args) t_start = t_current &#125; else &#123; timer = setTimeout(() =&gt; &#123; fn.apply(context, args) &#125;, delay) &#125; &#125; &#125; init() &#123; // ÈÄöËøáIntersectionObserver apiÂà§Êñ≠ÂõæÁâáÊòØÂê¶Âá∫Áé∞Âú®ÂèØËßÜÂå∫ÂüüÂÜÖÔºå‰∏çÈúÄË¶ÅÁõëÂê¨ScrollÊù•Âà§Êñ≠ if (&quot;IntersectionObserver&quot; in window) &#123; let lazyImageObserver = new IntersectionObserver((entries, observer) =&gt; &#123; entries.forEach((entry, index) =&gt; &#123; // Â¶ÇÊûúÂÖÉÁ¥†ÂèØËßÅ if (entry.isIntersecting) &#123; let lazyImage = entry.target lazyImage.src = lazyImage.dataset.src lazyImageObserver.unobserve(lazyImage) // this.lazyImages.splice(index, 1) &#125; &#125;) &#125;) this.lazyImages.forEach(function(lazyImage) &#123; lazyImageObserver.observe(lazyImage); &#125;) &#125; else &#123; this.inViewShow() this._throttleFn = this.throttle(this.inViewShow) document.addEventListener(&apos;scroll&apos;, this._throttleFn) &#125; &#125; &#125; 1234567891011121314151617181920212223html,body &#123; height: 100%; width: 100%; margin: 0;&#125;#view &#123; color: red; width: 200px; height: 300px&#125;.lazy-image &#123; background: url(&apos;../img/loading.gif&apos;) no-repeat center;&#125;img&#123; margin-top: 100px; background-size: cover; background-position: center; width: 490px; height: 242px;&#125;]]></content>
      <tags>
        <tag>ÊáíÂä†ËΩΩ</tag>
        <tag>IntersectionObserver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Babel Â∞Ü Generator ÁºñËØëÊàê‰∫Ü‰ªÄ‰πà]]></title>
    <url>%2F2018%2F10%2F05%2FBabel-%E5%B0%86-Generator-%E7%BC%96%E8%AF%91%E6%88%90%E4%BA%86%E4%BB%80%E4%B9%88%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÊú¨ÊñáÂ∞±ÊòØÁÆÄÂçï‰ªãÁªç‰∏ã Generator ËØ≠Ê≥ïÁºñËØëÂêéÁöÑ‰ª£Á†Å„ÄÇ Generatorfunction* helloWorldGenerator() { yield&apos;hello&apos;; yield&apos;world&apos;; return&apos;ending&apos;; } Êàë‰ª¨ÊâìÂç∞‰∏ãÊâßË°åÁöÑÁªìÊûúÔºö var hw = helloWorldGenerator(); console.log(hw.next()); // {value: &quot;hello&quot;, done: false}console.log(hw.next()); // {value: &quot;world&quot;, done: false}console.log(hw.next()); // {value: &quot;ending&quot;, done: true}console.log(hw.next()); // {value: undefined, done: true} BabelÂÖ∑‰ΩìÁöÑÊâßË°åËøáÁ®ãÂ∞±‰∏çËØ¥‰∫ÜÔºåÊàë‰ª¨Áõ¥Êé•Âú® Babel ÂÆòÁΩëÁöÑ Try it out Á≤òË¥¥‰∏äËø∞‰ª£Á†ÅÔºåÁÑ∂ÂêéÊü•Áúã‰ª£Á†ÅË¢´ÁºñËØëÊàê‰∫Ü‰ªÄ‰πàÊ†∑Â≠êÔºö /** * Êàë‰ª¨Â∞±Áß∞ÂëºËøô‰∏™ÁâàÊú¨‰∏∫ÁÆÄÂçïÁºñËØëÁâàÊú¨Âêß */var _marked = /*#__PURE__*/ regeneratorRuntime.mark(helloWorldGenerator); functionhelloWorldGenerator() { return regeneratorRuntime.wrap( functionhelloWorldGenerator$(_context) { while (1) { switch ((_context.prev = _context.next)) { case0: _context.next = 2; return&quot;hello&quot;; case2: _context.next = 4; return&quot;world&quot;; case4: return _context.abrupt(&quot;return&quot;, &quot;ending&quot;); case5: case&quot;end&quot;: return _context.stop(); } } }, _marked, this ); } Áåõ‰∏ÄÁúãÔºåÂ•ΩÂÉèÁºñËØëÂêéÁöÑ‰ª£Á†ÅËøòËõÆÂ∞ëÁöÑÔºå‰ΩÜÊòØÁªÜÁªÜ‰∏ÄÁúãÔºåÁºñËØëÂêéÁöÑ‰ª£Á†ÅËÇØÂÆöÊòØ‰∏çËÉΩÁî®ÁöÑÂëÄÔºåregeneratorRuntime ÊòØ‰∏™‰ªÄ‰πàÈ¨ºÔºüÂì™ÈáåÊúâÂ£∞ÊòéÂëÄÔºümark Âíå wrap ÊñπÊ≥ïÂèàÈÉΩÂÅö‰∫Ü‰ªÄ‰πàÔºü ÈöæÈÅìÂ∞±‰∏çËÉΩÁºñËØë‰∏Ä‰∏™ÂÆåÊï¥ÂèØÁî®ÁöÑ‰ª£Á†ÅÂêóÔºü regeneratorÂ¶ÇÊûú‰Ω†ÊÉ≥ÁúãÂà∞ÂÆåÊï¥ÂèØÁî®ÁöÑ‰ª£Á†ÅÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® regeneratorÔºåËøôÊòØ facebook ‰∏ãÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑ÔºåÁî®‰∫éÁºñËØë ES6 ÁöÑ generator ÂáΩÊï∞„ÄÇ Êàë‰ª¨ÂÖàÂÆâË£Ö‰∏Ä‰∏ã regeneratorÔºö npm install -g regenerator ÁÑ∂ÂêéÊñ∞Âª∫‰∏Ä‰∏™ generator.js Êñá‰ª∂ÔºåÈáåÈù¢ÁöÑ‰ª£Á†ÅÂ∞±ÊòØÊñáÁ´†ÊúÄ‰∏ÄÂºÄÂßãÁöÑ‰ª£Á†ÅÔºåÊàë‰ª¨ÊâßË°åÂëΩ‰ª§Ôºö regenerator --include-runtime generator.js &gt; generator-es5.js Êàë‰ª¨Â∞±ÂèØ‰ª•Âú® generator-es5.js Êñá‰ª∂ÁúãÂà∞ÁºñËØëÂêéÁöÑÂÆåÊï¥ÂèØÁî®ÁöÑ‰ª£Á†Å„ÄÇ ËÄåËøô‰∏ÄÁºñËØëÂ∞±ÁºñËØë‰∫Ü 700 Â§öË°å‚Ä¶‚Ä¶ ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÂèØ‰ª•Êü•Áúã 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757/** * Copyright (c) 2014-present, Facebook, Inc. * * This source code is licensed under the MIT license found in the * LICENSE file in the root directory of this source tree. */!(function(global) &#123; &quot;use strict&quot;; var Op = Object.prototype; var hasOwn = Op.hasOwnProperty; var undefined; // More compressible than void 0. var $Symbol = typeof Symbol === &quot;function&quot; ? Symbol : &#123;&#125;; var iteratorSymbol = $Symbol.iterator || &quot;@@iterator&quot;; var asyncIteratorSymbol = $Symbol.asyncIterator || &quot;@@asyncIterator&quot;; var toStringTagSymbol = $Symbol.toStringTag || &quot;@@toStringTag&quot;; var inModule = typeof module === &quot;object&quot;; var runtime = global.regeneratorRuntime; if (runtime) &#123; if (inModule) &#123; // If regeneratorRuntime is defined globally and we&apos;re in a module, // make the exports object identical to regeneratorRuntime. module.exports = runtime; &#125; // Don&apos;t bother evaluating the rest of this file if the runtime was // already defined globally. return; &#125; // Define the runtime globally (as expected by generated code) as either // module.exports (if we&apos;re in a module) or a new, empty object. runtime = global.regeneratorRuntime = inModule ? module.exports : &#123;&#125;; function wrap(innerFn, outerFn, self, tryLocsList) &#123; // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator. var protoGenerator = outerFn &amp;&amp; outerFn.prototype instanceof Generator ? outerFn : Generator; var generator = Object.create(protoGenerator.prototype); var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next, // .throw, and .return methods. generator._invoke = makeInvokeMethod(innerFn, self, context); return generator; &#125; runtime.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion // record like context.tryEntries[i].completion. This interface could // have been (and was previously) designed to take a closure to be // invoked without arguments, but in all the cases we care about we // already have an existing method we want to call, so there&apos;s no need // to create a new function object. We can even get away with assuming // the method takes exactly one argument, since that happens to be true // in every case, so we don&apos;t have to touch the arguments object. The // only additional allocation required is the completion record, which // has a stable shape and so hopefully should be cheap to allocate. function tryCatch(fn, obj, arg) &#123; try &#123; return &#123; type: &quot;normal&quot;, arg: fn.call(obj, arg) &#125;; &#125; catch (err) &#123; return &#123; type: &quot;throw&quot;, arg: err &#125;; &#125; &#125; var GenStateSuspendedStart = &quot;suspendedStart&quot;; var GenStateSuspendedYield = &quot;suspendedYield&quot;; var GenStateExecuting = &quot;executing&quot;; var GenStateCompleted = &quot;completed&quot;; // Returning this object from the innerFn has the same effect as // breaking out of the dispatch switch statement. var ContinueSentinel = &#123;&#125;; // Dummy constructor functions that we use as the .constructor and // .constructor.prototype properties for functions that return Generator // objects. For full spec compliance, you may wish to configure your // minifier not to mangle the names of these two functions. function Generator() &#123;&#125; function GeneratorFunction() &#123;&#125; function GeneratorFunctionPrototype() &#123;&#125; // This is a polyfill for %IteratorPrototype% for environments that // don&apos;t natively support it. var IteratorPrototype = &#123;&#125;; IteratorPrototype[iteratorSymbol] = function () &#123; return this; &#125;; var getProto = Object.getPrototypeOf; var NativeIteratorPrototype = getProto &amp;&amp; getProto(getProto(values([]))); if (NativeIteratorPrototype &amp;&amp; NativeIteratorPrototype !== Op &amp;&amp; hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) &#123; // This environment has a native %IteratorPrototype%; use it instead // of the polyfill. IteratorPrototype = NativeIteratorPrototype; &#125; var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype; GeneratorFunctionPrototype.constructor = GeneratorFunction; GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = &quot;GeneratorFunction&quot;; // Helper for defining the .next, .throw, and .return methods of the // Iterator interface in terms of a single ._invoke method. function defineIteratorMethods(prototype) &#123; [&quot;next&quot;, &quot;throw&quot;, &quot;return&quot;].forEach(function(method) &#123; prototype[method] = function(arg) &#123; return this._invoke(method, arg); &#125;; &#125;); &#125; runtime.isGeneratorFunction = function(genFun) &#123; var ctor = typeof genFun === &quot;function&quot; &amp;&amp; genFun.constructor; return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can // do is to check its .name property. (ctor.displayName || ctor.name) === &quot;GeneratorFunction&quot; : false; &#125;; runtime.mark = function(genFun) &#123; if (Object.setPrototypeOf) &#123; Object.setPrototypeOf(genFun, GeneratorFunctionPrototype); &#125; else &#123; genFun.__proto__ = GeneratorFunctionPrototype; if (!(toStringTagSymbol in genFun)) &#123; genFun[toStringTagSymbol] = &quot;GeneratorFunction&quot;; &#125; &#125; genFun.prototype = Object.create(Gp); return genFun; &#125;; // Within the body of any async function, `await x` is transformed to // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test // `hasOwn.call(value, &quot;__await&quot;)` to determine if the yielded value is // meant to be awaited. runtime.awrap = function(arg) &#123; return &#123; __await: arg &#125;; &#125;; function AsyncIterator(generator) &#123; function invoke(method, arg, resolve, reject) &#123; var record = tryCatch(generator[method], generator, arg); if (record.type === &quot;throw&quot;) &#123; reject(record.arg); &#125; else &#123; var result = record.arg; var value = result.value; if (value &amp;&amp; typeof value === &quot;object&quot; &amp;&amp; hasOwn.call(value, &quot;__await&quot;)) &#123; return Promise.resolve(value.__await).then(function(value) &#123; invoke(&quot;next&quot;, value, resolve, reject); &#125;, function(err) &#123; invoke(&quot;throw&quot;, err, resolve, reject); &#125;); &#125; return Promise.resolve(value).then(function(unwrapped) &#123; // When a yielded Promise is resolved, its final value becomes // the .value of the Promise&lt;&#123;value,done&#125;&gt; result for the // current iteration. result.value = unwrapped; resolve(result); &#125;, function(error) &#123; // If a rejected Promise was yielded, throw the rejection back // into the async generator function so it can be handled there. return invoke(&quot;throw&quot;, error, resolve, reject); &#125;); &#125; &#125; var previousPromise; function enqueue(method, arg) &#123; function callInvokeWithMethodAndArg() &#123; return new Promise(function(resolve, reject) &#123; invoke(method, arg, resolve, reject); &#125;); &#125; return previousPromise = // If enqueue has been called before, then we want to wait until // all previous Promises have been resolved before calling invoke, // so that results are always delivered in the correct order. If // enqueue has not been called before, then it is important to // call invoke immediately, without waiting on a callback to fire, // so that the async generator function has the opportunity to do // any necessary setup in a predictable way. This predictability // is why the Promise constructor synchronously invokes its // executor callback, and why async functions synchronously // execute code before the first await. Since we implement simple // async functions in terms of async generators, it is especially // important to get this right, even though it requires care. previousPromise ? previousPromise.then( callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later // invocations of the iterator. callInvokeWithMethodAndArg ) : callInvokeWithMethodAndArg(); &#125; // Define the unified helper method that is used to implement .next, // .throw, and .return (see defineIteratorMethods). this._invoke = enqueue; &#125; defineIteratorMethods(AsyncIterator.prototype); AsyncIterator.prototype[asyncIteratorSymbol] = function () &#123; return this; &#125;; runtime.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of // AsyncIterator objects; they just return a Promise for the value of // the final result produced by the iterator. runtime.async = function(innerFn, outerFn, self, tryLocsList) &#123; var iter = new AsyncIterator( wrap(innerFn, outerFn, self, tryLocsList) ); return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator. : iter.next().then(function(result) &#123; return result.done ? result.value : iter.next(); &#125;); &#125;; function makeInvokeMethod(innerFn, self, context) &#123; var state = GenStateSuspendedStart; return function invoke(method, arg) &#123; if (state === GenStateExecuting) &#123; throw new Error(&quot;Generator is already running&quot;); &#125; if (state === GenStateCompleted) &#123; if (method === &quot;throw&quot;) &#123; throw arg; &#125; // Be forgiving, per 25.3.3.3.3 of the spec: // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume return doneResult(); &#125; context.method = method; context.arg = arg; while (true) &#123; var delegate = context.delegate; if (delegate) &#123; var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) &#123; if (delegateResult === ContinueSentinel) continue; return delegateResult; &#125; &#125; if (context.method === &quot;next&quot;) &#123; // Setting context._sent for legacy support of Babel&apos;s // function.sent implementation. context.sent = context._sent = context.arg; &#125; else if (context.method === &quot;throw&quot;) &#123; if (state === GenStateSuspendedStart) &#123; state = GenStateCompleted; throw context.arg; &#125; context.dispatchException(context.arg); &#125; else if (context.method === &quot;return&quot;) &#123; context.abrupt(&quot;return&quot;, context.arg); &#125; state = GenStateExecuting; var record = tryCatch(innerFn, self, context); if (record.type === &quot;normal&quot;) &#123; // If an exception is thrown from innerFn, we leave state === // GenStateExecuting and loop back for another invocation. state = context.done ? GenStateCompleted : GenStateSuspendedYield; if (record.arg === ContinueSentinel) &#123; continue; &#125; return &#123; value: record.arg, done: context.done &#125;; &#125; else if (record.type === &quot;throw&quot;) &#123; state = GenStateCompleted; // Dispatch the exception by looping back around to the // context.dispatchException(context.arg) call above. context.method = &quot;throw&quot;; context.arg = record.arg; &#125; &#125; &#125;; &#125; // Call delegate.iterator[context.method](context.arg) and handle the // result, either by returning a &#123; value, done &#125; result from the // delegate iterator, or by modifying context.method and context.arg, // setting context.delegate to null, and returning the ContinueSentinel. function maybeInvokeDelegate(delegate, context) &#123; var method = delegate.iterator[context.method]; if (method === undefined) &#123; // A .throw or .return when the delegate iterator has no .throw // method always terminates the yield* loop. context.delegate = null; if (context.method === &quot;throw&quot;) &#123; if (delegate.iterator.return) &#123; // If the delegate iterator has a return method, give it a // chance to clean up. context.method = &quot;return&quot;; context.arg = undefined; maybeInvokeDelegate(delegate, context); if (context.method === &quot;throw&quot;) &#123; // If maybeInvokeDelegate(context) changed context.method from // &quot;return&quot; to &quot;throw&quot;, let that override the TypeError below. return ContinueSentinel; &#125; &#125; context.method = &quot;throw&quot;; context.arg = new TypeError( &quot;The iterator does not provide a &apos;throw&apos; method&quot;); &#125; return ContinueSentinel; &#125; var record = tryCatch(method, delegate.iterator, context.arg); if (record.type === &quot;throw&quot;) &#123; context.method = &quot;throw&quot;; context.arg = record.arg; context.delegate = null; return ContinueSentinel; &#125; var info = record.arg; if (! info) &#123; context.method = &quot;throw&quot;; context.arg = new TypeError(&quot;iterator result is not an object&quot;); context.delegate = null; return ContinueSentinel; &#125; if (info.done) &#123; // Assign the result of the finished delegate to the temporary // variable specified by delegate.resultName (see delegateYield). context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield). context.next = delegate.nextLoc; // If context.method was &quot;throw&quot; but the delegate handled the // exception, let the outer generator proceed normally. If // context.method was &quot;next&quot;, forget context.arg since it has been // &quot;consumed&quot; by the delegate iterator. If context.method was // &quot;return&quot;, allow the original .return call to continue in the // outer generator. if (context.method !== &quot;return&quot;) &#123; context.method = &quot;next&quot;; context.arg = undefined; &#125; &#125; else &#123; // Re-yield the result returned by the delegate method. return info; &#125; // The delegate iterator is finished, so forget it and continue with // the outer generator. context.delegate = null; return ContinueSentinel; &#125; // Define Generator.prototype.&#123;next,throw,return&#125; in terms of the // unified ._invoke helper method. defineIteratorMethods(Gp); Gp[toStringTagSymbol] = &quot;Generator&quot;; // A Generator should always return itself as the iterator object when the // @@iterator function is called on it. Some browsers&apos; implementations of the // iterator prototype chain incorrectly implement this, causing the Generator // object to not be returned from this call. This ensures that doesn&apos;t happen. // See https://github.com/facebook/regenerator/issues/274 for more details. Gp[iteratorSymbol] = function() &#123; return this; &#125;; Gp.toString = function() &#123; return &quot;[object Generator]&quot;; &#125;; function pushTryEntry(locs) &#123; var entry = &#123; tryLoc: locs[0] &#125;; if (1 in locs) &#123; entry.catchLoc = locs[1]; &#125; if (2 in locs) &#123; entry.finallyLoc = locs[2]; entry.afterLoc = locs[3]; &#125; this.tryEntries.push(entry); &#125; function resetTryEntry(entry) &#123; var record = entry.completion || &#123;&#125;; record.type = &quot;normal&quot;; delete record.arg; entry.completion = record; &#125; function Context(tryLocsList) &#123; // The root entry object (effectively a try statement without a catch // or a finally block) gives us a place to store values thrown from // locations where there is no enclosing try statement. this.tryEntries = [&#123; tryLoc: &quot;root&quot; &#125;]; tryLocsList.forEach(pushTryEntry, this); this.reset(true); &#125; runtime.keys = function(object) &#123; var keys = []; for (var key in object) &#123; keys.push(key); &#125; keys.reverse(); // Rather than returning an object with a next method, we keep // things simple and return the next function itself. return function next() &#123; while (keys.length) &#123; var key = keys.pop(); if (key in object) &#123; next.value = key; next.done = false; return next; &#125; &#125; // To avoid creating an additional object, we just hang the .value // and .done properties off the next function object itself. This // also ensures that the minifier will not anonymize the function. next.done = true; return next; &#125;; &#125;; function values(iterable) &#123; if (iterable) &#123; var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) &#123; return iteratorMethod.call(iterable); &#125; if (typeof iterable.next === &quot;function&quot;) &#123; return iterable; &#125; if (!isNaN(iterable.length)) &#123; var i = -1, next = function next() &#123; while (++i &lt; iterable.length) &#123; if (hasOwn.call(iterable, i)) &#123; next.value = iterable[i]; next.done = false; return next; &#125; &#125; next.value = undefined; next.done = true; return next; &#125;; return next.next = next; &#125; &#125; // Return an iterator with no values. return &#123; next: doneResult &#125;; &#125; runtime.values = values; function doneResult() &#123; return &#123; value: undefined, done: true &#125;; &#125; Context.prototype = &#123; constructor: Context, reset: function(skipTempReset) &#123; this.prev = 0; this.next = 0; // Resetting context._sent for legacy support of Babel&apos;s // function.sent implementation. this.sent = this._sent = undefined; this.done = false; this.delegate = null; this.method = &quot;next&quot;; this.arg = undefined; this.tryEntries.forEach(resetTryEntry); if (!skipTempReset) &#123; for (var name in this) &#123; // Not sure about the optimal order of these conditions: if (name.charAt(0) === &quot;t&quot; &amp;&amp; hasOwn.call(this, name) &amp;&amp; !isNaN(+name.slice(1))) &#123; this[name] = undefined; &#125; &#125; &#125; &#125;, stop: function() &#123; this.done = true; var rootEntry = this.tryEntries[0]; var rootRecord = rootEntry.completion; if (rootRecord.type === &quot;throw&quot;) &#123; throw rootRecord.arg; &#125; return this.rval; &#125;, dispatchException: function(exception) &#123; if (this.done) &#123; throw exception; &#125; var context = this; function handle(loc, caught) &#123; record.type = &quot;throw&quot;; record.arg = exception; context.next = loc; if (caught) &#123; // If the dispatched exception was caught by a catch block, // then let that catch block handle the exception normally. context.method = &quot;next&quot;; context.arg = undefined; &#125; return !! caught; &#125; for (var i = this.tryEntries.length - 1; i &gt;= 0; --i) &#123; var entry = this.tryEntries[i]; var record = entry.completion; if (entry.tryLoc === &quot;root&quot;) &#123; // Exception thrown outside of any try block that could handle // it, so set the completion value of the entire function to // throw the exception. return handle(&quot;end&quot;); &#125; if (entry.tryLoc &lt;= this.prev) &#123; var hasCatch = hasOwn.call(entry, &quot;catchLoc&quot;); var hasFinally = hasOwn.call(entry, &quot;finallyLoc&quot;); if (hasCatch &amp;&amp; hasFinally) &#123; if (this.prev &lt; entry.catchLoc) &#123; return handle(entry.catchLoc, true); &#125; else if (this.prev &lt; entry.finallyLoc) &#123; return handle(entry.finallyLoc); &#125; &#125; else if (hasCatch) &#123; if (this.prev &lt; entry.catchLoc) &#123; return handle(entry.catchLoc, true); &#125; &#125; else if (hasFinally) &#123; if (this.prev &lt; entry.finallyLoc) &#123; return handle(entry.finallyLoc); &#125; &#125; else &#123; throw new Error(&quot;try statement without catch or finally&quot;); &#125; &#125; &#125; &#125;, abrupt: function(type, arg) &#123; for (var i = this.tryEntries.length - 1; i &gt;= 0; --i) &#123; var entry = this.tryEntries[i]; if (entry.tryLoc &lt;= this.prev &amp;&amp; hasOwn.call(entry, &quot;finallyLoc&quot;) &amp;&amp; this.prev &lt; entry.finallyLoc) &#123; var finallyEntry = entry; break; &#125; &#125; if (finallyEntry &amp;&amp; (type === &quot;break&quot; || type === &quot;continue&quot;) &amp;&amp; finallyEntry.tryLoc &lt;= arg &amp;&amp; arg &lt;= finallyEntry.finallyLoc) &#123; // Ignore the finally entry if control is not jumping to a // location outside the try/catch block. finallyEntry = null; &#125; var record = finallyEntry ? finallyEntry.completion : &#123;&#125;; record.type = type; record.arg = arg; if (finallyEntry) &#123; this.method = &quot;next&quot;; this.next = finallyEntry.finallyLoc; return ContinueSentinel; &#125; return this.complete(record); &#125;, complete: function(record, afterLoc) &#123; if (record.type === &quot;throw&quot;) &#123; throw record.arg; &#125; if (record.type === &quot;break&quot; || record.type === &quot;continue&quot;) &#123; this.next = record.arg; &#125; else if (record.type === &quot;return&quot;) &#123; this.rval = this.arg = record.arg; this.method = &quot;return&quot;; this.next = &quot;end&quot;; &#125; else if (record.type === &quot;normal&quot; &amp;&amp; afterLoc) &#123; this.next = afterLoc; &#125; return ContinueSentinel; &#125;, finish: function(finallyLoc) &#123; for (var i = this.tryEntries.length - 1; i &gt;= 0; --i) &#123; var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) &#123; this.complete(entry.completion, entry.afterLoc); resetTryEntry(entry); return ContinueSentinel; &#125; &#125; &#125;, &quot;catch&quot;: function(tryLoc) &#123; for (var i = this.tryEntries.length - 1; i &gt;= 0; --i) &#123; var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) &#123; var record = entry.completion; if (record.type === &quot;throw&quot;) &#123; var thrown = record.arg; resetTryEntry(entry); &#125; return thrown; &#125; &#125; // The context.catch method must only be called with a location // argument that corresponds to a known catch block. throw new Error(&quot;illegal catch attempt&quot;); &#125;, delegateYield: function(iterable, resultName, nextLoc) &#123; this.delegate = &#123; iterator: values(iterable), resultName: resultName, nextLoc: nextLoc &#125;; if (this.method === &quot;next&quot;) &#123; // Deliberately forget the last sent value so that we don&apos;t // accidentally pass it on to the delegate. this.arg = undefined; &#125; return ContinueSentinel; &#125; &#125;;&#125;)( // In sloppy mode, unbound `this` refers to the global object, fallback to // Function constructor if we&apos;re in global strict mode. That is sadly a form // of indirect eval which violates Content Security Policy. (function() &#123; return this || (typeof self === &quot;object&quot; &amp;&amp; self); &#125;)() || Function(&quot;return this&quot;)());var _marked =/*#__PURE__*/regeneratorRuntime.mark(helloWorldGenerator);function helloWorldGenerator() &#123; return regeneratorRuntime.wrap(function helloWorldGenerator$(_context) &#123; while (1) &#123; switch (_context.prev = _context.next) &#123; case 0: _context.next = 2; return &apos;hello&apos;; case 2: _context.next = 4; return &apos;world&apos;; case 4: return _context.abrupt(&quot;return&quot;, &apos;ending&apos;); case 5: case &quot;end&quot;: return _context.stop(); &#125; &#125; &#125;, _marked, this);&#125;var hw = helloWorldGenerator();console.log(hw.next()); // &#123;value: &quot;hello&quot;, done: false&#125;console.log(hw.next()); // &#123;value: &quot;world&quot;, done: false&#125;console.log(hw.next()); // &#123;value: &quot;ending&quot;, done: true&#125;console.log(hw.next()); // &#123;value: undefined, done: true&#125; ÊÄª‰πãÁºñËØëÂêéÁöÑ‰ª£Á†ÅËøòËõÆÂ§çÊùÇÔºåÊàë‰ª¨ÂèØ‰ª•‰ªé‰∏≠ÊäΩÁ¶ªÂá∫Â§ßËá¥ÁöÑÈÄªËæëÔºåËá≥Â∞ëËÆ©ÁÆÄÂçïÁºñËØëÁöÑÈÇ£ÊÆµ‰ª£Á†ÅËÉΩÂ§üË∑ëËµ∑Êù•„ÄÇ mark ÂáΩÊï∞ÁÆÄÂçïÁºñËØëÂêéÁöÑ‰ª£Á†ÅÁ¨¨‰∏ÄÊÆµÊòØËøôÊ†∑ÁöÑÔºö var _marked = /*#__PURE__*/ regeneratorRuntime.mark(helloWorldGenerator); Êàë‰ª¨Êü•ÁúãÂÆåÊï¥ÁºñËØëÁâàÊú¨‰∏≠ mark ÂáΩÊï∞ÁöÑÊ∫êÁ†ÅÔºö runtime.mark = function(genFun) { genFun.__proto__ = GeneratorFunctionPrototype; genFun.prototype = Object.create(Gp); return genFun; }; ËøôÂÖ∂‰∏≠ÂèàÊ∂âÂèä‰∫Ü GeneratorFunctionPrototype Âíå Gp ÂèòÈáèÔºåÊàë‰ª¨‰πüÊü•Áúã‰∏ãÂØπÂ∫îÁöÑ‰ª£Á†ÅÔºö functionGenerator() {} functionGeneratorFunction() {} functionGeneratorFunctionPrototype() {} ... var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype; GeneratorFunctionPrototype.constructor = GeneratorFunction; GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = &quot;GeneratorFunction&quot;; ËøôÊÆµ‰ª£Á†ÅÊûÑÂª∫‰∫Ü‰∏ÄÂ†ÜÁúãËµ∑Êù•ÂæàÂ§çÊùÇÁöÑÂÖ≥Á≥ªÈìæÔºåÂÖ∂ÂÆûËøôÊòØÂèÇÁÖßÁùÄ ES6 ËßÑËåÉÊûÑÂª∫ÁöÑÂÖ≥Á≥ªÈìæ:Âõæ‰∏≠ +@@toStringTag:s = &#39;Generator&#39; ÁöÑÂ∞±ÊòØ GpÔºå+@@toStringTag:s = &#39;GeneratorFunction&#39; ÁöÑÂ∞±ÊòØ GeneratorFunctionPrototype„ÄÇ ÊûÑÂª∫ÂÖ≥Á≥ªÈìæÁöÑÁõÆÁöÑÂú®‰∫éÂà§Êñ≠ÂÖ≥Á≥ªÁöÑÊó∂ÂÄôËÉΩÂ§üË∑üÂéüÁîüÁöÑ‰øùÊåÅ‰∏ÄËá¥ÔºåÂ∞±ÊØîÂ¶ÇÔºö function* f() {} var g = f(); console.log(g.__proto__ === f.prototype); // trueconsole.log(g.__proto__.__proto__ === f.__proto__.prototype); // true ‰∏∫‰∫ÜÁÆÄÂåñËµ∑ËßÅÔºåÊàë‰ª¨ÂèØ‰ª•Êää Gp ÂÖàËÆæÁΩÆ‰∏∫‰∏Ä‰∏™Á©∫ÂØπË±°Ôºå‰∏çËøáÊ≠£Â¶Ç‰Ω†Âú®‰∏äÂõæ‰∏≠ÁúãÂà∞ÁöÑÔºånext()„ÄÅ throw()„ÄÅreturn() ÂáΩÊï∞ÈÉΩÊòØÊåÇËΩΩÂú® Gp ÂØπË±°‰∏äÔºåÂÆûÈôÖ‰∏äÔºåÂú®ÂÆåÊï¥ÁöÑÁºñËØë‰ª£Á†Å‰∏≠ÔºåÁ°ÆÂÆûÊúâ‰∏∫ Gp Ê∑ªÂä†Ëøô‰∏â‰∏™ÂáΩÊï∞ÁöÑÊñπÊ≥ïÔºö // 117 Ë°åfunctiondefineIteratorMethods(prototype) { [&quot;next&quot;, &quot;throw&quot;, &quot;return&quot;].forEach(function(method) { prototype[method] = function(arg) { returnthis._invoke(method, arg); }; }); } // 406 Ë°å defineIteratorMethods(Gp); ‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨Â∞ÜÊï¥‰∏™ mark ÂáΩÊï∞ÁÆÄÂåñ‰∏∫Ôºö runtime.mark = function(genFun) { var generator = Object.create({ next: function(arg) { returnthis._invoke(&apos;next&apos;, arg) } }); genFun.prototype = generator; return genFun; }; wrap ÂáΩÊï∞Èô§‰∫ÜËÆæÁΩÆÂÖ≥Á≥ªÈìæ‰πãÂ§ñÔºåmark ÂáΩÊï∞ÁöÑËøîÂõûÂÄº genFun Ëøò‰Ωú‰∏∫‰∫Ü wrap ÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÂÖ•Ôºö functionhelloWorldGenerator() { return regeneratorRuntime.wrap( functionhelloWorldGenerator$(_context) { ... }, _marked, this ); } Êàë‰ª¨ÂÜçÁúã‰∏ã wrap ÂáΩÊï∞Ôºö functionwrap(innerFn, outerFn, self) { var generator = Object.create(outerFn.prototype); var context = new Context([]); generator._invoke = makeInvokeMethod(innerFn, self, context); return generator; } ÊâÄ‰ª•ÂΩìÊâßË°å var hw = helloWorldGenerator(); ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÊâßË°åÁöÑÊòØ wrap ÂáΩÊï∞Ôºåwrap ÂáΩÊï∞ËøîÂõû‰∫Ü generatorÔºågenerator ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂéüÂûãÊòØ outerFn.prototype, outerFn.prototype ÂÖ∂ÂÆûÂ∞±ÊòØ genFun.prototypeÔºå genFun.prototype ÊòØ‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂéüÂûã‰∏äÊúâ next() ÊñπÊ≥ï„ÄÇ ÊâÄ‰ª•ÂΩì‰Ω†ÊâßË°å hw.next() ÁöÑÊó∂ÂÄôÔºåÊâßË°åÁöÑÂÖ∂ÂÆûÊòØ hw ÂéüÂûãÁöÑÂéüÂûã‰∏äÁöÑ next ÂáΩÊï∞Ôºånext ÂáΩÊï∞ÊâßË°åÁöÑÂèàÊòØ hw ÁöÑ _invoke ÂáΩÊï∞Ôºö generator._invoke = makeInvokeMethod(innerFn, self, context); innerFn Â∞±ÊòØ wrap ÂåÖË£πÁöÑÈÇ£‰∏™ÂáΩÊï∞ÔºåÂÖ∂ÂÆûÂ∞±ÊòØ helloWordGenerato$ ÂáΩÊï∞ÔºåÂëêÔºåÂ∞±ÊòØËøô‰∏™ÂáΩÊï∞Ôºö functionhelloWorldGenerator$(_context) { while (1) { switch ((_context.prev = _context.next)) { case0: _context.next = 2; return&quot;hello&quot;; case2: _context.next = 4; return&quot;world&quot;; case4: return _context.abrupt(&quot;return&quot;, &quot;ending&quot;); case5: case&quot;end&quot;: return _context.stop(); } } } ËÄå context ‰Ω†ÂèØ‰ª•Áõ¥Êé•ÁêÜËß£‰∏∫ËøôÊ†∑‰∏Ä‰∏™ÂÖ®Â±ÄÂØπË±°Ôºö var ContinueSentinel = {}; var context = { done: false, method: &quot;next&quot;, next: 0, prev: 0, abrupt: function(type, arg) { var record = {}; record.type = type; record.arg = arg; returnthis.complete(record); }, complete: function(record, afterLoc) { if (record.type === &quot;return&quot;) { this.rval = this.arg = record.arg; this.method = &quot;return&quot;; this.next = &quot;end&quot;; } return ContinueSentinel; }, stop: function() { this.done = true; returnthis.rval; } }; ÊØèÊ¨° hw.next ÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºö‰øÆÊîπ next Âíå prev Â±ûÊÄßÁöÑÂÄºÔºåÂΩìÂú® generator ÂáΩÊï∞‰∏≠ return ÁöÑÊó∂ÂÄô‰ºöÊâßË°å abruptÔºåabrupt ‰∏≠Âèà‰ºöÊâßË°å completeÔºåÊâßË°åÂÆå completeÔºåÂõ†‰∏∫ this.next = end ÁöÑÁºòÊïÖÔºåÂÜçÊâßË°åÂ∞±‰ºöÊâßË°å stop ÂáΩÊï∞„ÄÇ Êàë‰ª¨Êù•Áúã‰∏ã makeInvokeMethod ÂáΩÊï∞Ôºö var ContinueSentinel = {}; functionmakeInvokeMethod(innerFn, self, context) { var state = &apos;start&apos;; returnfunctioninvoke(method, arg) { if (state === &apos;completed&apos;) { return { value: undefined, done: true }; } context.method = method; context.arg = arg; while (true) { state = &apos;executing&apos;; var record = { type: &apos;normal&apos;, arg: innerFn.call(self, context) }; if (record.type === &quot;normal&quot;) { state = context.done ? &apos;completed&apos; : &apos;yield&apos;; if (record.arg === ContinueSentinel) { continue; } return { value: record.arg, done: context.done }; } } }; } Âü∫Êú¨ÁöÑÊâßË°åËøáÁ®ãÂ∞±‰∏çÂàÜÊûê‰∫ÜÔºåÊàë‰ª¨ÈáçÁÇπÁúãÁ¨¨‰∏âÊ¨°ÊâßË°å hw.next() ÁöÑÊó∂ÂÄô: Á¨¨‰∏âÊ¨°ÊâßË°å hw.next() ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÊâßË°å‰∫Ü this._invoke(&quot;next&quot;, undefined); Êàë‰ª¨Âú® invoke ÂáΩÊï∞‰∏≠ÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ record ÂØπË±°Ôºö var record = { type: &quot;normal&quot;, arg: innerFn.call(self, context) }; ËÄåÂú® innerFn.call(self, context) ‰∏≠ÔºåÂõ†‰∏∫ _context.next ‰∏∫ 4 ÁöÑÁºòÊïÖÔºåÂÖ∂ÂÆûÊâßË°å‰∫Ü: _context.abrupt(&quot;return&quot;, &apos;ending&apos;); ËÄåÂú® abrupt ‰∏≠ÔºåÊàë‰ª¨ÂèàÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ record ÂØπË±°Ôºö var record = {}; record.type = &apos;return&apos;; record.arg = &apos;ending&apos;; ÁÑ∂ÂêéÊâßË°å‰∫Ü this.complete(record)Ôºå Âú® complete ‰∏≠ÔºåÂõ†‰∏∫ record.type === &quot;return&quot; this.rval = &apos;ending&apos;; this.method = &quot;return&quot;; this.next = &quot;end&quot;; ÁÑ∂ÂêéËøîÂõû‰∫ÜÂÖ®Â±ÄÂØπË±° ContinueSentinelÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ®Â±ÄÁ©∫ÂØπË±°„ÄÇ ÁÑ∂ÂêéÂú® invoke ÂáΩÊï∞‰∏≠ÔºåÂõ†‰∏∫ record.arg === ContinueSentinel ÁöÑÁºòÊïÖÔºåÊ≤°ÊúâÊâßË°åÂêéÈù¢ÁöÑ return ËØ≠Âè•ÔºåÂ∞±Áõ¥Êé•ËøõÂÖ•‰∏ã‰∏Ä‰∏™Âæ™ÁéØ„ÄÇ ‰∫éÊòØÂèàÊâßË°å‰∫Ü‰∏ÄÈÅç innerFn.call(self, context)ÔºåÊ≠§Êó∂ _context.next ‰∏∫ end, ÊâßË°å‰∫Ü _context.stop(), Âú® stop ÂáΩÊï∞‰∏≠Ôºö this.done = true; returnthis.rval; // this.rval ÂÖ∂ÂÆûÂ∞±ÊòØ `ending` ÊâÄ‰ª•ÊúÄÁªàËøîÂõûÁöÑÂÄº‰∏∫: { value: &apos;ending&apos;, done: true }; ‰πãÂêéÔºåÊàë‰ª¨ÂÜçÊâßË°å hw.next() ÁöÑÊó∂ÂÄôÔºåÂõ†‰∏∫ state Â∑≤ÁªèÊòØ ‚Äòcompleted‚Äô ÁöÑÁºòÊïÖÔºåÁõ¥Êé•Â∞±ËøîÂõû { value: undefined, done: true} ‰∏çÂÆåÊï¥‰ΩÜÂèØÁî®ÁöÑÊ∫êÁ†ÅÂΩìÁÑ∂Ëøô‰∏™ËøáÁ®ãÔºåÁúãÊñáÂ≠óÁêÜËß£Ëµ∑Êù•ÂèØËÉΩÊúâ‰∫õÈöæÂ∫¶Ôºå‰∏çÂÆåÊï¥‰ΩÜÂèØÁî®ÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºå‰Ω†ÂèØ‰ª•Êñ≠ÁÇπË∞ÉËØïÊü•ÁúãÂÖ∑‰ΩìÁöÑËøáÁ®ãÔºö (function() { var ContinueSentinel = {}; var mark = function(genFun) { var generator = Object.create({ next: function(arg) { returnthis._invoke(&quot;next&quot;, arg); } }); genFun.prototype = generator; return genFun; }; functionwrap(innerFn, outerFn, self) { var generator = Object.create(outerFn.prototype); var context = { done: false, method: &quot;next&quot;, next: 0, prev: 0, abrupt: function(type, arg) { var record = {}; record.type = type; record.arg = arg; returnthis.complete(record); }, complete: function(record, afterLoc) { if (record.type === &quot;return&quot;) { this.rval = this.arg = record.arg; this.method = &quot;return&quot;; this.next = &quot;end&quot;; } return ContinueSentinel; }, stop: function() { this.done = true; returnthis.rval; } }; generator._invoke = makeInvokeMethod(innerFn, context); return generator; } functionmakeInvokeMethod(innerFn, context) { var state = &quot;start&quot;; returnfunctioninvoke(method, arg) { if (state === &quot;completed&quot;) { return { value: undefined, done: true }; } context.method = method; context.arg = arg; while (true) { state = &quot;executing&quot;; var record = { type: &quot;normal&quot;, arg: innerFn.call(self, context) }; if (record.type === &quot;normal&quot;) { state = context.done ? &quot;completed&quot; : &quot;yield&quot;; if (record.arg === ContinueSentinel) { continue; } return { value: record.arg, done: context.done }; } } }; } window.regeneratorRuntime = {}; regeneratorRuntime.wrap = wrap; regeneratorRuntime.mark = mark; })(); var _marked = regeneratorRuntime.mark(helloWorldGenerator); functionhelloWorldGenerator() { return regeneratorRuntime.wrap( functionhelloWorldGenerator$(_context) { while (1) { switch ((_context.prev = _context.next)) { case0: _context.next = 2; return&quot;hello&quot;; case2: _context.next = 4; return&quot;world&quot;; case4: return _context.abrupt(&quot;return&quot;, &quot;ending&quot;); case5: case&quot;end&quot;: return _context.stop(); } } }, _marked, this ); } var hw = helloWorldGenerator(); console.log(hw.next()); console.log(hw.next()); console.log(hw.next()); console.log(hw.next());]]></content>
      <tags>
        <tag>Generator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆÄÂçïÁêÜËß£async„ÄÅawaitËØ≠Ê≥ïÂÆûÁé∞ÂéüÁêÜ]]></title>
    <url>%2F2018%2F10%2F04%2F%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3async%E3%80%81await%E8%AF%AD%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[Áé∞Âú®ÊúÄÊñ∞ÁöÑÂâçÁ´ØÊ°ÜÊû∂ÁîüÊÄÅÈÉΩÂºÄÂßãÁî®‰∏ä‰∫ÜGeneratorÂíåyieldÔºåÊúâÁöÑÁîöËá≥Â∑≤ÁªèÂºÄÂßã‰ΩøÁî®ÊúÄÊñ∞ÁöÑasync„ÄÅawaitËØ≠Ê≥ï‰∫ÜÔºåËøô‰∏§Ê†∑ÈÉΩÊòØÂü∫‰∫éGeneratorËá™Âä®ÊâßË°åÁöÑÂéüÁêÜ„ÄÇ ÈòÆ‰∏ÄÂ≥∞ async-ÂáΩÊï∞ÁöÑÂÆûÁé∞ÂéüÁêÜasync ÂáΩÊï∞ÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂ∞±ÊòØÂ∞Ü Generator ÂáΩÊï∞ÂíåËá™Âä®ÊâßË°åÂô®ÔºåÂåÖË£ÖÂú®‰∏Ä‰∏™ÂáΩÊï∞Èáå„ÄÇ12345678910async function fn(args) &#123; // ...&#125;// Á≠âÂêå‰∫éfunction fn(args) &#123; return spawn(function* () &#123; // ... &#125;);&#125; ÊâÄÊúâÁöÑasyncÂáΩÊï∞ÈÉΩÂèØ‰ª•ÂÜôÊàê‰∏äÈù¢ÁöÑÁ¨¨‰∫åÁßçÂΩ¢ÂºèÔºåÂÖ∂‰∏≠ÁöÑspawnÂáΩÊï∞Â∞±ÊòØËá™Âä®ÊâßË°åÂô®„ÄÇ ‰∏ãÈù¢ÁªôÂá∫spawnÂáΩÊï∞ÁöÑÂÆûÁé∞ÔºåÂü∫Êú¨Â∞±ÊòØÂâçÊñáËá™Âä®ÊâßË°åÂô®ÁöÑÁøªÁâà„ÄÇ12345678910111213141516171819202122function spawn(genF) &#123; return new Promise(function(resolve, reject) &#123; const gen = genF(); function step(nextF) &#123; let next; try &#123; next = nextF(); &#125; catch(e) &#123; return reject(e); &#125; if(next.done) &#123; return resolve(next.value); &#125; Promise.resolve(next.value).then(function(v) &#123; step(function() &#123; return gen.next(v); &#125;); &#125;, function(e) &#123; step(function() &#123; return gen.throw(e); &#125;); &#125;); &#125; step(function() &#123; return gen.next(undefined); &#125;); &#125;);&#125; DEMO123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; function timeout(ms) &#123; return &#123; text: &apos;done&apos; &#125; &#125; function* start() &#123; const res = yield timeout(1000); return res; &#125;; function fn(args) &#123; return spawn(start); &#125; function spawn(genF) &#123; return new Promise(function(resolve, reject) &#123; const gen = genF(); function step(nextF) &#123; let next; try &#123; next = nextF(); &#125; catch(e) &#123; return reject(e); &#125; if(next.done) &#123; return resolve(next.value); &#125; Promise.resolve(next.value).then(function(v) &#123; step(function() &#123; return gen.next(v); &#125;); &#125;, function(e) &#123; step(function() &#123; return gen.throw(e); &#125;); &#125;); &#125; step(function() &#123; return gen.next(); &#125;); &#125;); &#125; fn().then((data)=&gt;&#123; console.log(data) &#125;) &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt;&lt;/html&gt; Áúã‰∏ãbabelËΩ¨Êç¢ÂêéÁöÑ1234async function fns(args) &#123; const res = await fetch(&apos;google.com&apos;); return res.text(); &#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&apos;use strict&apos;; var fns = function() &#123; var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(args) &#123; var res; return regeneratorRuntime.wrap(function _callee$(_context) &#123; while(1) &#123; switch(_context.prev = _context.next) &#123; case 0: _context.next = 2; return fetch(&apos;google.com&apos;); case 2: res = _context.sent; return _context.abrupt(&apos;return&apos;, res.text()); case 4: case&apos;end&apos;: return _context.stop(); &#125; &#125; &#125;, _callee, this); &#125;)); returnfunction fns(_x) &#123; return _ref.apply(this, arguments); &#125;; &#125;(); function _asyncToGenerator(fn) &#123; //GeneratorÂáΩÊï∞Ëá™Âä®ÊâßË°å returnfunction() &#123; var gen = fn.apply(this, arguments); return new Promise(function(resolve, reject) &#123; function step(key, arg) &#123; try &#123; var info = gen[key](arg); var value = info.value; &#125; catch(error) &#123; reject(error); return; &#125; if(info.done) &#123; resolve(value); &#125; else &#123; return Promise.resolve(value).then(function(value) &#123; step(&quot;next&quot;, value); &#125;, function(err) &#123; step(&quot;throw&quot;, err); &#125;); &#125; &#125; return step(&quot;next&quot;); &#125;); &#125;; &#125; ‰∏Ä„ÄÅthunkÂáΩÊï∞thunkÂáΩÊï∞ÊåáÁöÑÊòØËÉΩÂ∞ÜÊâßË°åÁªìÊûú‰º†ÂÖ•ÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂Â∞ÜËØ•ÂõûË∞ÉÂáΩÊï∞ËøîÂõûÁöÑÂáΩÊï∞„ÄÇÊòØ‰∏çÊòØÊúâÁÇπÊäΩË±°Ôºå‰∏æ‰∏™‰æãÂ≠ê:12345var readFile = function (fileName) &#123; returnfunction (callback) &#123; return fs.readFile(fileName, callback) &#125;&#125; ‰∏ãÈù¢Êàë‰ª¨Êù•Áúã‰∏ãthunkÂáΩÊï∞ÊÄéÊ†∑ÊâßË°å123readFile(&apos;./package.json&apos;)((err, str) =&gt; &#123; console.log(str.toString())&#125;) ÈóÆ: thunkÁöÑÊâßË°åÊØîÊôÆÈÄöÂáΩÊï∞Ë¶ÅÈ∫ªÁÉ¶‰∏çÂ∞ëÔºåÈÇ£‰πàÂÆÉÊúâ‰ªÄ‰πà‰ºòÂäøÂë¢Ôºü thunkÂáΩÊï∞ÁöÑ‰ºòÂäøÂú®‰∫éÂÆÉËÉΩÂ∞ÜÂºÇÊ≠•Êìç‰ΩúËøîÂõûÁªìÊûúÁöÑËé∑ÂèñÊùÉ‰∫§ÁªôthunkÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºåËÄå‰∏çÊòØÂ∞ÜÂºÇÊ≠•Êìç‰ΩúÁªìÊûú‰º†ÂÖ•thunkÂáΩÊï∞Êú¨Ë∫´ÁöÑ‰ΩúÁî®ÂüüÂÜÖÔºåËøôÁÇπÂæàÈáçË¶ÅÔºåÂõ†‰∏∫ÂÆÉËÉΩÁªìÂêàGeneratorËØ≠Ê≥ïËÆ©GeneratorÂáΩÊï∞Ëá™Âä®ÊâßË°å ‰∫å„ÄÅGeneratores6ÁöÑGeneratorÂáΩÊï∞ÔºåÂÖ∑‰ΩìËØ≠Ê≥ïËøôÈáåÂ∞±‰∏ç‰ªãÁªç‰∫ÜÔºå Êàë‰ª¨Êù•ÁºñÂÜô‰∏Ä‰∏™Âü∫‰∫éthunkÂáΩÊï∞ÁöÑGeneratorÔºö123456let gen = function* () &#123; let r1 = yield readFile(&apos;./package.json&apos;) console.log(r1.toString()) let r2 = yield readFile(&apos;./index.js&apos;) console.log(r2.toString())&#125; Êàë‰ª¨Êù•ÊâãÂä®ÊâßË°å‰∏Ä‰∏ãËøô‰∏™Generator:1234567891011121314let g = gen()let r1 = g.next()r1.value(function (err, data) &#123; if (err) &#123; throw err &#125; let r2 = g.next(data) r2.value(function (err, data) &#123; if (err) &#123; throw err &#125; g.next(data) &#125;)&#125;) ÂèØ‰ª•Ê≥®ÊÑèÂà∞ÔºåÂú®Êàë‰ª¨ÊâãÂä®ÊâßË°åÂü∫‰∫éthunkÂáΩÊï∞ÁöÑGeneratorÊó∂ÔºåÊúâÂæàÂ§ö‰ª£Á†ÅÊòØÂèØ‰ª•Â§çÁî®ÁöÑÔºåÊ≤°ÈîôÔºåÊâÄË∞ìÁöÑGeneratorËá™Âä®ÊâßË°åÂ∞±ÊòØÊääËøô‰∫õÂèØÂ§çÁî®ÁöÑÈÉ®ÂàÜÂ∞ÅË£ÖÊàêÂáΩÊï∞ÔºåÁÑ∂ÂêéËÆ©ÂÆÉ‰ª¨ÈÄíÂΩíÊâßË°åÔºåÁõ¥Âà∞ÊâßË°åÂÆåÊâÄÊúâÁöÑyield„ÄÇ ‰∏â„ÄÅGeneratorËá™Âä®ÊâßË°åÂô®‰∏ãÈù¢Â∞±ÊòØGeneratorËá™Âä®ÊâßË°åÁöÑÊ†∏ÂøÉ‰ª£Á†Å1234567891011function run(fn) &#123; let gen = fn() function next(err, data) &#123; let result = gen.next(data) if (result.done) &#123; return &#125; result.value(next) &#125; next()&#125; ÂèØ‰ª•ÁúãÂà∞Êó†ÈùûÂ∞±ÊòØÊääÂèØÂ§çÁî®ÁöÑÈÉ®ÂàÜÂ∞ÅË£ÖÊàênextÂáΩÊï∞ÔºåÁÑ∂ÂêéËÆ©ÂÖ∂ÈÄíÂΩíÊâßË°åÔºåÁõ¥Âà∞ÊâßË°åÂÆåÊâÄÊúâÁöÑyield ÂÖ∂Ë∞ÉÁî®‰ª£Á†Å‰∏∫:1run(gen) ËøôÊ†∑Â∞±Â∞ÜÂéüÊú¨ÁπÅÊùÇÁöÑÂºÇÊ≠•Êìç‰ΩúÂ∞ÅË£ÖÁöÑÂçÅÂàÜÁÆÄÂçï‰∫Ü Âü∫‰∫éPromiseÁöÑGeneratorÁöÑËá™Âä®ÊâßË°å‰∏äÈù¢ÁöÑ‰æãÂ≠êÊòØÂü∫‰∫éthunkÂáΩÊï∞ÁöÑÔºåËÄåÂç≥Â∞ÜÂá∫Áé∞ÁöÑes7ÁöÑasync„ÄÅawaitËØ≠Ê≥ïÊòØÂü∫‰∫éPromiseÁöÑ ËøôÈáåÂÜç‰∏ä‰∏Ä‰∏™Âü∫‰∫éPromiseÁöÑGeneratorÁöÑËá™Âä®ÊâßË°å123456789101112131415161718192021222324252627282930313233343536//ÂåÖË£ÖËøîÂõûPromiseÂØπË±°ÁöÑÂáΩÊï∞functionreadFile(fileName) &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(fileName, (error, data) =&gt; &#123; if (error) &#123; reject(error) &#125; else &#123; resolve(data) &#125; &#125;) &#125;)&#125; // ÁºñÂÜôGeneratorlet gen = function* () &#123; let r1 = yield readFile(&apos;./package.json&apos;) console.log(r1.toString()) let r2 = yield readFile(&apos;./index.js&apos;) console.log(r2.toString())&#125;// ÁºñÂÜôGeneratorÊâßË°åÂô®function run(gen) &#123; let g = gen() function next(data) &#123; let result = g.next(data) if (result.done) &#123; return result.value &#125; result.value.then((data) =&gt; next(data)) &#125; next()&#125;//Áî®GeneratorÊâßË°åÂô®Ëá™Âä®ÊâßË°årun(gen) Ëøô‰∏™ÂíåÂü∫‰∫éthunkÂáΩÊï∞ÁöÑÂ§ßÂêåÂ∞èÂºÇÔºåÂè™ÊòØÊääÂáΩÊï∞ËøîÂõûÂÄºÁöÑËé∑ÂèñÊùÉ‰ª•PromiseÁöÑÊñπÂºè‰∫§Âá∫ ÂèÇËÄÉ ÁÆÄÂçïÁêÜËß£GeneratorËá™ÊâßË°åÂèäasync„ÄÅawaitËØ≠Ê≥ïÂéüÁêÜ]]></content>
      <tags>
        <tag>async</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6‰πã Generator ÁöÑÊÉ∞ÊÄßÊâßË°å]]></title>
    <url>%2F2018%2F10%2F04%2FES6%E4%B9%8B-Generator-%E7%9A%84%E6%83%B0%E6%80%A7%E6%89%A7%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[Âçï‰∏™ÂºÇÊ≠•‰ªªÂä°var fetch = require(&apos;node-fetch&apos;); function* gen(){ var url = &apos;https://api.github.com/users/github&apos;; var result = yield fetch(url); console.log(result.bio); } ‰∏∫‰∫ÜËé∑ÂæóÊúÄÁªàÁöÑÊâßË°åÁªìÊûúÔºå‰Ω†ÈúÄË¶ÅËøôÊ†∑ÂÅöÔºö var g = gen(); var result = g.next(); result.value.then(function(data){ return data.json(); }).then(function(data){ g.next(data); }); È¶ñÂÖàÊâßË°å Generator ÂáΩÊï∞ÔºåËé∑ÂèñÈÅçÂéÜÂô®ÂØπË±°„ÄÇ ÁÑ∂Âêé‰ΩøÁî® next ÊñπÊ≥ïÔºåÊâßË°åÂºÇÊ≠•‰ªªÂä°ÁöÑÁ¨¨‰∏ÄÈò∂ÊÆµÔºåÂç≥ fetch(url)„ÄÇ Ê≥®ÊÑèÔºåÁî±‰∫é fetch(url) ‰ºöËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÊâÄ‰ª• result ÁöÑÂÄº‰∏∫Ôºö { value: Promise { &lt;pending&gt; }, done: false } ÊúÄÂêéÊàë‰ª¨‰∏∫Ëøô‰∏™ Promise ÂØπË±°Ê∑ªÂä†‰∏Ä‰∏™ then ÊñπÊ≥ïÔºåÂÖàÂ∞ÜÂÖ∂ËøîÂõûÁöÑÊï∞ÊçÆÊ†ºÂºèÂåñ(data.json())ÔºåÂÜçË∞ÉÁî® g.nextÔºåÂ∞ÜËé∑ÂæóÁöÑÊï∞ÊçÆ‰º†ËøõÂéªÔºåÁî±Ê≠§ÂèØ‰ª•ÊâßË°åÂºÇÊ≠•‰ªªÂä°ÁöÑÁ¨¨‰∫åÈò∂ÊÆµÔºå‰ª£Á†ÅÊâßË°åÂÆåÊØï„ÄÇ Â§ö‰∏™ÂºÇÊ≠•‰ªªÂä°‰∏äËäÇÊàë‰ª¨Âè™Ë∞ÉÁî®‰∫Ü‰∏Ä‰∏™Êé•Âè£ÔºåÈÇ£Â¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®‰∫ÜÂ§ö‰∏™Êé•Âè£Ôºå‰ΩøÁî®‰∫ÜÂ§ö‰∏™ yieldÔºåÊàë‰ª¨Â≤Ç‰∏çÊòØË¶ÅÂú® then ÂáΩÊï∞‰∏≠‰∏çÊñ≠ÁöÑÂµåÂ•ó‰∏ãÂéª‚Ä¶‚Ä¶ ÊâÄ‰ª•Êàë‰ª¨Êù•ÁúãÁúãÊâßË°åÂ§ö‰∏™ÂºÇÊ≠•‰ªªÂä°ÁöÑÊÉÖÂÜµÔºö var fetch = require(&apos;node-fetch&apos;); function* gen() { var r1 = yield fetch(&apos;https://api.github.com/users/github&apos;); var r2 = yield fetch(&apos;https://api.github.com/users/github/followers&apos;); var r3 = yield fetch(&apos;https://api.github.com/users/github/repos&apos;); console.log([r1.bio, r2[0].login, r3[0].full_name].join(&apos;\n&apos;)); } ‰∏∫‰∫ÜËé∑ÂæóÊúÄÁªàÁöÑÊâßË°åÁªìÊûúÔºå‰Ω†ÂèØËÉΩË¶ÅÂÜôÊàêÔºö var g = gen(); var result1 = g.next(); result1.value.then(function(data){ return data.json(); }) .then(function(data){ return g.next(data).value; }) .then(function(data){ return data.json(); }) .then(function(data){ return g.next(data).value }) .then(function(data){ return data.json(); }) .then(function(data){ g.next(data) }); ‰ΩÜÊàëÁü•ÈÅì‰Ω†ËÇØÂÆö‰∏çÊÉ≥ÂÜôÊàêËøôÊ†∑‚Ä¶‚Ä¶ ÂÖ∂ÂÆûÔºåÂà©Áî®ÈÄíÂΩíÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö functionrun(gen) { var g = gen(); function next(data) { var result = g.next(data); if (result.done) return; result.value.then(function(data) { return data.json(); }).then(function(data) { next(data); }); } next(); } run(gen); ÂÖ∂‰∏≠ÁöÑÂÖ≥ÈîÆÂ∞±ÊòØ yield ÁöÑÊó∂ÂÄôËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÁªôËøô‰∏™ Promise ÂØπË±°Ê∑ªÂä† then ÊñπÊ≥ïÔºåÂΩìÂºÇÊ≠•Êìç‰ΩúÊàêÂäüÊó∂ÊâßË°å then ‰∏≠ÁöÑ onFullfilled ÂáΩÊï∞ÔºåonFullfilled ÂáΩÊï∞‰∏≠ÂèàÂéªÊâßË°å g.nextÔºå‰ªéËÄåËÆ© Generator ÁªßÁª≠ÊâßË°åÔºåÁÑ∂ÂêéÂÜçËøîÂõû‰∏Ä‰∏™ PromiseÔºåÂÜçÂú®ÊàêÂäüÊó∂ÊâßË°å g.nextÔºåÁÑ∂ÂêéÂÜçËøîÂõû‚Ä¶‚Ä¶ ÂêØÂä®Âô®ÂáΩÊï∞Âú® run Ëøô‰∏™ÂêØÂä®Âô®ÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨Âú® then ÂáΩÊï∞‰∏≠Â∞ÜÊï∞ÊçÆÊ†ºÂºèÂåñ data.json()Ôºå‰ΩÜÂú®Êõ¥ÂπøÊ≥õÁöÑÊÉÖÂÜµ‰∏ãÔºåÊØîÂ¶Ç yield Áõ¥Êé•Ë∑ü‰∏Ä‰∏™ PromiseÔºåËÄåÈùû‰∏Ä‰∏™ fetch ÂáΩÊï∞ËøîÂõûÁöÑ PromiseÔºåÂõ†‰∏∫Ê≤°Êúâ json ÊñπÊ≥ïÔºå‰ª£Á†ÅÂ∞±‰ºöÊä•Èîô„ÄÇÊâÄ‰ª•‰∏∫‰∫ÜÊõ¥ÂÖ∑Â§áÈÄöÁî®ÊÄßÔºåËøûÂêåËøô‰∏™‰æãÂ≠êÂíåÂêØÂä®Âô®ÔºåÊàë‰ª¨‰øÆÊîπ‰∏∫Ôºö var fetch = require(&apos;node-fetch&apos;); function* gen() { var r1 = yield fetch(&apos;https://api.github.com/users/github&apos;); var json1 = yield r1.json(); var r2 = yield fetch(&apos;https://api.github.com/users/github/followers&apos;); var json2 = yield r2.json(); var r3 = yield fetch(&apos;https://api.github.com/users/github/repos&apos;); var json3 = yield r3.json(); console.log([json1.bio, json2[0].login, json3[0].full_name].join(&apos;\n&apos;)); } function run(gen) { var g = gen(); functionnext(data) { var result = g.next(data); if (result.done) return; result.value.then(function(data) { next(data); }); } next(); } run(gen); Âè™Ë¶Å yield ÂêéË∑üÁùÄ‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Âà©Áî®Ëøô‰∏™ run ÂáΩÊï∞Â∞Ü Generator ÂáΩÊï∞Ëá™Âä®ÊâßË°å„ÄÇ ÂõûË∞ÉÂáΩÊï∞yield Âêé‰∏ÄÂÆöË¶ÅË∑üÁùÄ‰∏Ä‰∏™ Promise ÂØπË±°ÊâçËÉΩ‰øùËØÅ Generator ÁöÑËá™Âä®ÊâßË°åÂêóÔºüÂ¶ÇÊûúÂè™ÊòØ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Âë¢ÔºüÊàë‰ª¨Êù•Áúã‰∏™‰æãÂ≠êÔºö È¶ñÂÖàÊàë‰ª¨Êù•Ê®°Êãü‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÔºö function fetchData(url, cb) { setTimeout(function(){ cb({status: 200, data: url}) }, 1000) } Êàë‰ª¨Â∞ÜËøôÁßçÂáΩÊï∞ÊîπÈÄ†ÊàêÔºö function fetchData(url) { returnfunction(cb){ setTimeout(function(){ cb({status: 200, data: url}) }, 1000) } } ÂØπ‰∫éËøôÊ†∑ÁöÑ Generator ÂáΩÊï∞Ôºö function* gen() { var r1 = yield fetchData(&apos;https://api.github.com/users/github&apos;); var r2 = yield fetchData(&apos;https://api.github.com/users/github/followers&apos;); console.log([r1.data, r2.data].join(&apos;\n&apos;)); } Â¶ÇÊûúË¶ÅËé∑ÂæóÊúÄÁªàÁöÑÁªìÊûúÔºö var g = gen(); var r1 = g.next(); r1.value(function(data) { var r2 = g.next(data); r2.value(function(data) { g.next(data); }); }); Â¶ÇÊûúÂÜôÊàêËøôÊ†∑ÁöÑËØùÔºåÊàë‰ª¨‰ºöÈù¢‰∏¥Ë∑üÁ¨¨‰∏ÄËäÇÂêåÊ†∑ÁöÑÈóÆÈ¢òÔºåÈÇ£Â∞±ÊòØÂΩì‰ΩøÁî®Â§ö‰∏™ yield Êó∂Ôºå‰ª£Á†Å‰ºöÂæ™ÁéØÂµåÂ•óËµ∑Êù•‚Ä¶‚Ä¶ ÂêåÊ†∑Âà©Áî®ÈÄíÂΩíÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ÊîπÈÄ†‰∏∫Ôºö functionrun(gen) { var g = gen(); functionnext(data) { var result = g.next(data); if (result.done) return; result.value(next); } next(); } run(gen); runÁî±Ê≠§ÂèØ‰ª•ÁúãÂà∞ Generator ÂáΩÊï∞ÁöÑËá™Âä®ÊâßË°åÈúÄË¶Å‰∏ÄÁßçÊú∫Âà∂ÔºåÂç≥ÂΩìÂºÇÊ≠•Êìç‰ΩúÊúâ‰∫ÜÁªìÊûúÔºåËÉΩÂ§üËá™Âä®‰∫§ÂõûÊâßË°åÊùÉ„ÄÇ ËÄå‰∏§ÁßçÊñπÊ≥ïÂèØ‰ª•ÂÅöÂà∞Ëøô‰∏ÄÁÇπ„ÄÇ Ôºà1ÔºâÂõûË∞ÉÂáΩÊï∞„ÄÇÂ∞ÜÂºÇÊ≠•Êìç‰ΩúËøõË°åÂåÖË£ÖÔºåÊö¥Èú≤Âá∫ÂõûË∞ÉÂáΩÊï∞ÔºåÂú®ÂõûË∞ÉÂáΩÊï∞ÈáåÈù¢‰∫§ÂõûÊâßË°åÊùÉ„ÄÇ Ôºà2ÔºâPromise ÂØπË±°„ÄÇÂ∞ÜÂºÇÊ≠•Êìç‰ΩúÂåÖË£ÖÊàê Promise ÂØπË±°ÔºåÁî® then ÊñπÊ≥ï‰∫§ÂõûÊâßË°åÊùÉ„ÄÇ Âú®‰∏§ÁßçÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂêÑÂÜô‰∫Ü‰∏Ä‰∏™ run ÂêØÂä®Âô®ÂáΩÊï∞ÔºåÈÇ£Êàë‰ª¨ËÉΩ‰∏çËÉΩÂ∞ÜËøô‰∏§ÁßçÊñπÂºèÁªìÂêàÂú®‰∏Ä‰∫õÔºåÂÜô‰∏Ä‰∏™ÈÄöÁî®ÁöÑ run ÂáΩÊï∞Âë¢ÔºüÊàë‰ª¨Â∞ùËØï‰∏Ä‰∏ãÔºö // Á¨¨‰∏ÄÁâàfunctionrun(gen) { var gen = gen(); functionnext(data) { var result = gen.next(data); if (result.done) return; if (isPromise(result.value)) { result.value.then(function(data) { next(data); }); } else { result.value(next) } } next() } functionisPromise(obj) { return&apos;function&apos; == typeof obj.then; } module.exports = run; ÂÖ∂ÂÆûÂÆûÁé∞ÁöÑÂæàÁÆÄÂçïÔºåÂà§Êñ≠ result.value ÊòØÂê¶ÊòØ PromiseÔºåÊòØÂ∞±Ê∑ªÂä† then ÂáΩÊï∞Ôºå‰∏çÊòØÂ∞±Áõ¥Êé•ÊâßË°å„ÄÇ return PromiseÊàë‰ª¨Â∑≤ÁªèÂÜô‰∫Ü‰∏Ä‰∏™‰∏çÈîôÁöÑÂêØÂä®Âô®ÂáΩÊï∞ÔºåÊîØÊåÅ yield ÂêéË∑üÂõûË∞ÉÂáΩÊï∞ÊàñËÄÖ Promise ÂØπË±°„ÄÇ Áé∞Âú®Êúâ‰∏Ä‰∏™ÈóÆÈ¢òÈúÄË¶ÅÊÄùËÄÉÔºåÂ∞±ÊòØÊàë‰ª¨Â¶Ç‰ΩïËé∑Âæó Generator ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÂë¢ÔºüÂèàÂ¶ÇÊûú Generator ÂáΩÊï∞‰∏≠Âá∫Áé∞‰∫ÜÈîôËØØÔºåÂ∞±ÊØîÂ¶Ç fetch ‰∫Ü‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÊé•Âè£ÔºåËøô‰∏™ÈîôËØØËØ•Â¶Ç‰ΩïÊçïËé∑Âë¢Ôºü ËøôÂæàÂÆπÊòìËÆ©‰∫∫ÊÉ≥Âà∞ PromiseÔºåÂ¶ÇÊûúËøô‰∏™ÂêØÂä®Âô®ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ PromiseÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÁªôËøô‰∏™ Promise ÂØπË±°Ê∑ªÂä† then ÂáΩÊï∞ÔºåÂΩìÊâÄÊúâÁöÑÂºÇÊ≠•Êìç‰ΩúÊâßË°åÊàêÂäüÂêéÔºåÊàë‰ª¨ÊâßË°å onFullfilled ÂáΩÊï∞ÔºåÂ¶ÇÊûúÊúâ‰ªª‰ΩïÂ§±Ë¥•ÔºåÂ∞±ÊâßË°å onRejected ÂáΩÊï∞„ÄÇ Êàë‰ª¨ÂÜô‰∏ÄÁâàÔºö // Á¨¨‰∫åÁâàfunctionrun(gen) { var gen = gen(); returnnewPromise(function(resolve, reject) { functionnext(data) { try { var result = gen.next(data); } catch (e) { return reject(e); } if (result.done) { return resolve(result.value) }; var value = toPromise(result.value); value.then(function(data) { next(data); }, function(e) { reject(e) }); } next() }) } functionisPromise(obj) { return&apos;function&apos; == typeof obj.then; } functiontoPromise(obj) { if (isPromise(obj)) return obj; if (&apos;function&apos; == typeof obj) return thunkToPromise(obj); return obj; } functionthunkToPromise(fn) { returnnewPromise(function(resolve, reject) { fn(function(err, res) { if (err) return reject(err); resolve(res); }); }); } module.exports = run; ‰∏éÁ¨¨‰∏ÄÁâàÊúâÂæàÂ§ßÁöÑ‰∏çÂêåÔºö È¶ñÂÖàÔºåÊàë‰ª¨ËøîÂõû‰∫Ü‰∏Ä‰∏™ PromiseÔºåÂΩì result.done ‰∏∫ true ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞ÜËØ•ÂÄº resolve(result.value)ÔºåÂ¶ÇÊûúÊâßË°åÁöÑËøáÁ®ã‰∏≠Âá∫Áé∞ÈîôËØØÔºåË¢´ catch ‰ΩèÔºåÊàë‰ª¨‰ºöÂ∞ÜÂéüÂõ† reject(e)„ÄÇ ÂÖ∂Ê¨°ÔºåÊàë‰ª¨‰ºö‰ΩøÁî® thunkToPromise Â∞ÜÂõûË∞ÉÂáΩÊï∞ÂåÖË£ÖÊàê‰∏Ä‰∏™ PromiseÔºåÁÑ∂ÂêéÁªü‰∏ÄÁöÑÊ∑ªÂä† then ÂáΩÊï∞„ÄÇÂú®ËøôÈáåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú® thunkToPromise ÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨ÈÅµÂæ™‰∫Ü error first ÁöÑÂéüÂàôÔºåËøôÊÑèÂë≥ÁùÄÂΩìÊàë‰ª¨Â§ÑÁêÜÂõûË∞ÉÂáΩÊï∞ÁöÑÊÉÖÂÜµÊó∂Ôºö // Ê®°ÊãüÊï∞ÊçÆËØ∑Ê±ÇfunctionfetchData(url) { returnfunction(cb) { setTimeout(function() { cb(null, { status: 200, data: url }) }, 1000) } } Âú®ÊàêÂäüÊó∂ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∫îËØ•ËøîÂõû nullÔºåË°®Á§∫Ê≤°ÊúâÈîôËØØÂéüÂõ†„ÄÇ ‰ºòÂåñÊàë‰ª¨Âú®Á¨¨‰∫åÁâàÁöÑÂü∫Á°Ä‰∏äÂ∞Ü‰ª£Á†ÅÂÜôÁöÑÊõ¥Âä†ÁÆÄÊ¥Å‰ºòÈõÖ‰∏ÄÁÇπÔºåÊúÄÁªàÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö // Á¨¨‰∏âÁâàfunctionrun(gen) { returnnewPromise(function(resolve, reject) { if (typeof gen == &apos;function&apos;) gen = gen(); // Â¶ÇÊûú gen ‰∏çÊòØ‰∏Ä‰∏™Ëø≠‰ª£Âô®if (!gen || typeof gen.next !== &apos;function&apos;) return resolve(gen) onFulfilled(); functiononFulfilled(res) { var ret; try { ret = gen.next(res); } catch (e) { return reject(e); } next(ret); } functiononRejected(err) { var ret; try { ret = gen.throw(err); } catch (e) { return reject(e); } next(ret); } functionnext(ret) { if (ret.done) return resolve(ret.value); var value = toPromise(ret.value); if (value &amp;&amp; isPromise(value)) return value.then(onFulfilled, onRejected); return onRejected(newTypeError(&apos;You may only yield a function, promise &apos; + &apos;but the following object was passed: &quot;&apos; + String(ret.value) + &apos;&quot;&apos;)); } }) } functionisPromise(obj) { return&apos;function&apos; == typeof obj.then; } functiontoPromise(obj) { if (isPromise(obj)) return obj; if (&apos;function&apos; == typeof obj) return thunkToPromise(obj); return obj; } functionthunkToPromise(fn) { returnnewPromise(function(resolve, reject) { fn(function(err, res) { if (err) return reject(err); resolve(res); }); }); } module.exports = run; coÂ¶ÇÊûúÊàë‰ª¨ÂÜçÂ∞ÜËøô‰∏™ÂêØÂä®Âô®ÂáΩÊï∞ÂÜôÁöÑÂÆåÂñÑ‰∏Ä‰∫õÔºåÊàë‰ª¨Â∞±Áõ∏ÂΩì‰∫éÂÜô‰∫Ü‰∏Ä‰∏™ coÔºåÂÆûÈôÖ‰∏äÔºå‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁ°ÆÂÆûÊòØÊù•Ëá™‰∫é co‚Ä¶‚Ä¶ ËÄå co ÊòØ‰ªÄ‰πàÔºü co ÊòØÂ§ßÁ•û TJ Holowaychuk ‰∫é 2013 Âπ¥ 6 ÊúàÂèëÂ∏ÉÁöÑ‰∏Ä‰∏™Â∞èÊ®°ÂùóÔºåÁî®‰∫é Generator ÂáΩÊï∞ÁöÑËá™Âä®ÊâßË°å„ÄÇ Â¶ÇÊûúÁõ¥Êé•‰ΩøÁî® co Ê®°ÂùóÔºåËøô‰∏§Áßç‰∏çÂêåÁöÑ‰æãÂ≠êÂèØ‰ª•ÁÆÄÂÜô‰∏∫Ôºö // yield ÂêéÊòØ‰∏Ä‰∏™ Promisevar fetch = require(&apos;node-fetch&apos;); var co = require(&apos;co&apos;); function* gen() { var r1 = yield fetch(&apos;https://api.github.com/users/github&apos;); var json1 = yield r1.json(); var r2 = yield fetch(&apos;https://api.github.com/users/github/followers&apos;); var json2 = yield r2.json(); var r3 = yield fetch(&apos;https://api.github.com/users/github/repos&apos;); var json3 = yield r3.json(); console.log([json1.bio, json2[0].login, json3[0].full_name].join(&apos;\n&apos;)); } co(gen); // yield ÂêéÊòØ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞var co = require(&apos;co&apos;); functionfetchData(url) { returnfunction(cb) { setTimeout(function() { cb(null, { status: 200, data: url }) }, 1000) } } function* gen() { var r1 = yield fetchData(&apos;https://api.github.com/users/github&apos;); var r2 = yield fetchData(&apos;https://api.github.com/users/github/followers&apos;); console.log([r1.data, r2.data].join(&apos;\n&apos;)); } co(gen); ÊòØ‰∏çÊòØÁâπÂà´ÁöÑÂ•ΩÁî®Ôºü ES6 Á≥ªÂàóES6 Á≥ªÂàóÈ¢ÑËÆ°ÂÜô‰∫åÂçÅÁØáÂ∑¶Âè≥ÔºåÊó®Âú®Âä†Ê∑± ES6 ÈÉ®ÂàÜÁü•ËØÜÁÇπÁöÑÁêÜËß£ÔºåÈáçÁÇπËÆ≤Ëß£ÂùóÁ∫ß‰ΩúÁî®Âüü„ÄÅÊ†áÁ≠æÊ®°Êùø„ÄÅÁÆ≠Â§¥ÂáΩÊï∞„ÄÅSymbol„ÄÅSet„ÄÅMap ‰ª•Âèä Promise ÁöÑÊ®°ÊãüÂÆûÁé∞„ÄÅÊ®°ÂùóÂä†ËΩΩÊñπÊ°à„ÄÅÂºÇÊ≠•Â§ÑÁêÜÁ≠âÂÜÖÂÆπ„ÄÇ Â¶ÇÊûúÊúâÈîôËØØÊàñËÄÖ‰∏ç‰∏•Ë∞®ÁöÑÂú∞ÊñπÔºåËØ∑Âä°ÂøÖÁªô‰∫àÊåáÊ≠£ÔºåÂçÅÂàÜÊÑüË∞¢„ÄÇÂ¶ÇÊûúÂñúÊ¨¢ÊàñËÄÖÊúâÊâÄÂêØÂèëÔºåÊ¨¢Ëøé starÔºåÂØπ‰ΩúËÄÖ‰πüÊòØ‰∏ÄÁßçÈºìÂä±„ÄÇ]]></content>
      <tags>
        <tag>es6</tag>
        <tag>Generator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÊùÉÈôêÊéßÂà∂addRoutes]]></title>
    <url>%2F2018%2F10%2F03%2FVue%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6addRoutes%2F</url>
    <content type="text"><![CDATA[ËØ¥Âà∞VueÊùÉÈôêÊéßÂà∂Ôºå‰Ω†ÂèØËÉΩ‰ºöÁ¨¨‰∏Ä‰∏™ÊÉ≥Âà∞123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * Created by superman on 17/2/16. * httpÈÖçÁΩÆ */import axios from &apos;axios&apos;import store from &apos;./store/store&apos;import * as types from &apos;./store/types&apos;import router from &apos;./router&apos;// axios ÈÖçÁΩÆaxios.defaults.timeout = 5000;axios.defaults.baseURL = &apos;https://api.github.com&apos;;// http request Êã¶Êà™Âô®axios.interceptors.request.use( config =&gt; &#123; if (store.state.token) &#123; config.headers.Authorization = `token $&#123;store.state.token&#125;`; &#125; return config; &#125;, err =&gt; &#123; return Promise.reject(err); &#125;);// http response Êã¶Êà™Âô®axios.interceptors.response.use( response =&gt; &#123; return response; &#125;, error =&gt; &#123; if (error.response) &#123; switch (error.response.status) &#123; case 401: // 401 Ê∏ÖÈô§token‰ø°ÊÅØÂπ∂Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ store.commit(types.LOGOUT); router.replace(&#123; path: &apos;login&apos;, query: &#123;redirect: router.currentRoute.fullPath&#125; &#125;) &#125; &#125; // console.log(JSON.stringify(error));//console : Error: Request failed with status code 402 return Promise.reject(error.response.data) &#125;);export default axios; VueRouter12345678910111213141516const router = new VueRouter(&#123; routes&#125;)router.beforeEach((to, from, next) =&gt; &#123; if (to.path == &apos;/login&apos;) &#123; //Ê∏ÖÈô§token ... &#125; let token = get(&apos;token&apos;); //Ëé∑Âèñtoken if (!token &amp;&amp; to.path != &apos;/login&apos;) &#123; next(&#123; path: &apos;/login&apos; &#125;) &#125; else &#123; next() &#125;&#125;) ‰ΩÜ‰∏äÈù¢ÁöÑÂè™ËÉΩÂØπÁôªÂΩïÊã¶Êà™,Ë∑≥ËΩ¨Êã¶Êà™Ôºå‰∏çËÉΩÊéßÂà∂userÊùÉÈôêÔºåÊúÄÂ•ΩÁöÑÊñπÂºèÊòØÂä®ÊÄÅÊ≥®ÂÖ•Ë∑ØÁî±addRoutes1234import router from &apos;./router&apos;router.addRoutes(routes)ÊàñËÄÖthis.$router.addRoutes(routers)]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê®°ÊãüÂÆûÁé∞callÂíåapply]]></title>
    <url>%2F2018%2F10%2F01%2F%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0call%E5%92%8Capply%2F</url>
    <content type="text"><![CDATA[Ê¶ÇËø∞JS ÂáΩÊï∞ call Âíå apply Áî®Êù•ÊâãÂä®ÊîπÂèò this ÁöÑÊåáÂêëÔºåcall Âíå apply ÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±Âú®‰∫éÂáΩÊï∞ÂèÇÊï∞ÁöÑ‰º†ÈÄíÊñπÂºè‰∏çÂêåÔºåcall ÊòØ‰ª•ÈÄóÂè∑ÁöÑÂΩ¢ÂºèÔºåapply ÊòØ‰ª•Êï∞ÁªÑÁöÑÂΩ¢ÂºèÔºö let person1 = { name: &quot;person1&quot;, say: function(age, sex) { console.log(this.name + &apos; age: &apos; + age + &apos; sex: &apos; + sex); } } let person2 = { name: &quot;person&quot; } person1.say.call(person2, 20, &quot;Áî∑&quot;); person1.say.apply(person2, [20, &quot;Áî∑&quot;]); Êú¨ÊñáÂ∞±Â∞ùËØïÁî®ÂÖ∂‰ªñÊñπÂºèÊù•Ê®°ÊãüÂÆûÁé∞ call Âíå apply„ÄÇ È¶ñÂÖàËßÇÂØü call Âíå apply Êúâ‰ªÄ‰πàÁâπÁÇπÔºü Ë¢´ÂáΩÊï∞Ë∞ÉÁî®ÔºàÂáΩÊï∞‰πüÊòØÂØπË±°ÔºâÔºåÁõ∏ÂΩì‰∫é call Âíå apply ÊòØÂáΩÊï∞ÁöÑÂ±ûÊÄß Â¶ÇÊûúÊ≤°Êúâ‰º†ÂÖ•ÈúÄË¶Å this ÊåáÂêëÂØπË±°ÔºåÈÇ£‰πà this ÊåáÂêëÂÖ®Â±ÄÂØπË±° ÂáΩÊï∞ÊâßË°å‰∫Ü ÊúÄÂêéÈÉΩÊîπÂèò‰∫Ü this ÁöÑÊåáÂêë ‰∏Ä„ÄÅÂàùÊ≠•ÂÆûÁé∞Âü∫‰∫é call ÂáΩÊï∞ÊòØË∞ÉÁî®ÂáΩÊï∞ÁöÑÂ±ûÊÄßÁöÑÁâπÁÇπÔºåcall ÁöÑ this ÊåáÂêëË∞ÉÁî®ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïÊääË∞ÉÁî®ÂáΩÊï∞ÁöÑ‰Ωú‰∏∫‰º†ÂÖ•ÁöÑÊñ∞ÂØπË±°ÁöÑ‰∏Ä‰∏™Â±ûÊÄßÔºåÊâßË°åÂêéÔºåÂÜçÂà†Èô§Ëøô‰∏™Â±ûÊÄßÂ∞±Â•Ω‰∫Ü„ÄÇ Function.prototype.newCall = function (context) { context.fn = this; // this ÊåáÁöÑÊòØ say ÂáΩÊï∞ context.fn(); delete context.fn; } var person = { name: &quot;jayChou&quot; }; var say = function() { console.log(this.name); } say.newCall(person); // jayChou ÊòØ‰∏çÊòØÂ∞±ÂàùÊ≠•Ê®°ÊãüÂÆûÁé∞‰∫Ü call ÂáΩÊï∞Âë¢ÔºåÁî±‰∫é call ËøòÊ∂âÂèäÂà∞‰º†ÂèÇÁöÑÈóÆÈ¢òÔºåÊâÄ‰ª•Êàë‰ª¨ËøõÂÖ•Âà∞‰∏ã‰∏ÄÁéØËäÇ„ÄÇ ‰∫å„ÄÅeval ÊñπÂºèÂú®ÁªôÂØπË±°‰∏¥Êó∂‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂπ∂ÊâßË°åÊó∂Ôºå‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØÈô§‰∫Ü context ÂÖ∂‰ΩôÁöÑÂèÇÊï∞„ÄÇÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Êà™Âèñ arguments ÂèÇÊï∞Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂêéÔºåÂ∞ÜÂâ©‰ΩôÁöÑÂèÇÊï∞‰º†ÂÖ•‰∏¥Êó∂Êï∞ÁªÑ„ÄÇ Âú®ÂâçÈù¢ÊàëÊúâËÆ≤ËøáÂáΩÊï∞ arguments Á±ªÊï∞ÁªÑÂØπË±°ÁöÑÁâπÁÇπÔºåarguments ÊòØ‰∏çÊîØÊåÅÊï∞ÁªÑÁöÑÂ§ßÂ§öÊï∞ÊñπÊ≥ï, ‰ΩÜÊòØÊîØÊåÅfor Âæ™ÁéØÊù•ÈÅçÂéÜÊï∞ÁªÑ„ÄÇ Function.prototype.newCall = function (context) { context.fn = this; let args = []; for(let i=1; i&lt; arguments.length; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } // args =&gt; [arguments[1], arguments[2], arguments[3], ...] context.fn(args.join(&apos;,&apos;)); // ÔºüÔºüÔºüdelete context.fn; } var person = { name: &quot;jayChou&quot; }; var say = function(age, sex) { console.log(`name: ${this.name},age: ${age}, sex: ${sex}`); } say.newCall(person); ‰∏äÈù¢‰º†ÈÄíÂèÇÊï∞ÁöÑÊñπÂºèÊúÄÂêéËÇØÂÆöÊòØÂ§±Ë¥•ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØï eval ÁöÑÊñπÂºèÔºåÂ∞ÜÂèÇÊï∞Ê∑ªÂä†Â≠êÂáΩÊï∞ÁöÑ‰ΩúÁî®Âüü‰∏≠„ÄÇ eval() ÂáΩÊï∞ÂèØËÆ°ÁÆóÊüê‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂ÊâßË°åÂÖ∂‰∏≠ÁöÑÁöÑ JavaScript ‰ª£Á†Å Function.prototype.newCall = function (context) { context.fn = this; let args = []; for(var i=1; i&lt; arguments.length; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } // args =&gt; [arguments[1], arguments[2], arguments[3], ...]eval(&apos;context.fn(&apos; + args + &apos;)&apos;); delete context.fn; } var person = { name: &quot;jayChou&quot; }; functionsay(age, sex) { console.log(`name: ${this.name},age: ${age}, sex: ${sex}`); } say.newCall(person, 18, &apos;Áî∑&apos;); // name: jayChou,age: 18, sex: Áî∑ ÊàêÂäüÂï¶ÔºÅ ÂÆûÁé∞‰∫ÜÂáΩÊï∞ÂèÇÊï∞ÁöÑ‰º†ÈÄíÔºåÈÇ£‰πàÂáΩÊï∞ËøîÂõûÂÄºÊÄé‰πàÂ§ÑÁêÜÂë¢„ÄÇËÄå‰∏îÔºåÂ¶ÇÊûú‰º†ÂÖ•ÁöÑÂØπË±°ÊòØ nullÔºåÂèàËØ•Â¶Ç‰ΩïÂ§ÑÁêÜÔºüÊâÄ‰ª•ËøòÈúÄË¶ÅÂÜçÂÅö‰∏Ä‰∫õÂ∑•‰ΩúÔºö Function.prototype.newCall = function (context) { if (typeof context === &apos;object&apos;) { context = context || window } else { context = Object.create(null); } context.fn = this; let args = []; for(var i=1; i&lt; arguments.length; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } // args =&gt; [arguments[1], arguments[2], arguments[3], ...]var result = eval(&apos;context.fn(&apos; + args + &apos;)&apos;); // Â§ÑÁêÜËøîÂõûÂÄºdelete context.fn; return result; // ËøîÂõûËøîÂõûÂÄº } var person = { name: &quot;jayChou&quot; }; functionsay(age, sex) { console.log(`name: ${this.name},age: ${age}, sex: ${sex}`); return age + sex; } var check = say.newCall(person, 18, &apos;Áî∑&apos;); console.log(check); // 18Áî∑ Âà§Êñ≠‰º†ÂÖ•ÂØπË±°ÁöÑÁ±ªÂûãÔºåÂ¶ÇÊûú‰∏∫ null Â∞±ÊåáÂêë window ÂØπË±°„ÄÇÂà©Áî® eval Êù•ÊâßË°åÂ≠óÁ¨¶‰∏≤‰ª£Á†ÅÔºåÂπ∂ËøîÂõûÂ≠óÁ¨¶‰∏≤‰ª£Á†ÅÊâßË°åÁöÑÁªìÊûúÔºåÂ∞±ÂÆåÊàê‰∫ÜÊ®°Êãü call„ÄÇÂ§ßÂäüÂëäÊàêÔºÅ ‰∏â„ÄÅES 6 ÂÆûÁé∞ÂâçÈù¢Êàë‰ª¨Áî®ÁöÑ eval ÊñπÂºèÂèØ‰ª•Áî® ES6 ÁöÑËß£ÂÜ≥ËøòÂ≠òÂú®ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåÊúâÊ≤°ÊúâÊ≥®ÊÑèÂà∞ÔºåËøôÊÆµ‰ª£Á†ÅÊòØÊúâÈóÆÈ¢òÁöÑ„ÄÇ context.fn = this; ÂÅáÂ¶ÇÂØπË±°Âú®Ë¢´ call Ë∞ÉÁî®ÂâçÔºåÂ∑≤ÁªèÊúâ fn Â±ûÊÄßÊÄé‰πàÂäûÔºü ES6 ‰∏≠Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåSymbolÔºåË°®Á§∫Áã¨‰∏ÄÊó†‰∫åÁöÑÂÄºÔºåÂè¶Â§ñÔºåSymbol ‰Ωú‰∏∫Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰∏çËÉΩ‰ΩøÁî®ÁÇπËøêÁÆóÁ¨¶„ÄÇÊâÄ‰ª•ÂÜçÂä†‰∏ä ES ÁöÑ rest Ââ©‰ΩôÂèÇÊï∞Êõø‰ª£ arguments ÈÅçÂéÜÁöÑÂ∑•‰ΩúÂ∞±ÊúâÔºö Function.prototype.newCall = function (context,...params) { if (typeof context === &apos;object&apos;) { context = context || window } else { context = Object.create(null); } let fn = Symbol(); context[fn] = thisvar result = context[fn](...params); delete context.fn; return result; } var person = { name: &quot;jayChou&quot; }; functionsay(age, sex) { console.log(`name: ${this.name},age: ${age}, sex: ${sex}`); return age + sex; } var check = say.newCall(person, 18, &apos;Áî∑&apos;); console.log(check); // 18Áî∑ Âõõ„ÄÅapplyapply Âíå call ÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂü∫Êú¨Á±ª‰ººÔºåÂå∫Âà´Âú®‰∫é apply ÁöÑÂèÇÊï∞ÊòØ‰ª•Êï∞ÁªÑÁöÑÂΩ¢Âºè‰º†ÂÖ•„ÄÇ Function.prototype.newApply = function (context, arr) { if (typeof context === &apos;object&apos;) { context = context || window } else { context = Object.create(null); } context.fn = this; var result; if (!arr) { // Âà§Êñ≠ÂáΩÊï∞ÂèÇÊï∞ÊòØÂê¶‰∏∫Á©∫ result = context.fn(); } else { var args = []; for (var i = 0; i &lt; arr.length; i++) { args.push(&apos;arr[&apos; + i + &apos;]&apos;); } result = eval(&apos;context.fn(&apos; + args + &apos;)&apos;); } delete context.fn; return result; } es6 ÂÆûÁé∞ Function.prototype.newApply = function(context, parameter) { if (typeof context === &apos;object&apos;) { context = context || window } else { context = Object.create(null) } let fn = Symbol() context[fn] = this; var result = context[fn](...parameter); delete context[fn]; return result; }]]></content>
      <tags>
        <tag>ES6</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Koa2 compose-‰∏≤ËÅî‰∏≠Èó¥‰ª∂ÂÆûÁé∞(Ê¥ãËë±Ê®°Âûã)]]></title>
    <url>%2F2018%2F09%2F30%2Fcompose-%E4%B8%B2%E8%81%94%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E6%B4%8B%E8%91%B1%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[koa2 ‰∏ÄÁΩëÊâìÂ∞ΩÔºàÂü∫Êú¨‰ΩøÁî®ÔºåÊ¥ãËë±ÂúàÔºå‰∏≠Èó¥‰ª∂Êú∫Âà∂ÂíåÊ®°ÊãüÔºåÊ∫êÁ†ÅÂàÜÊûêÔºåÊ†∏ÂøÉÁÇπÔºåÁîüÊÄÅÔºâÂâçË®ÄKoa ÊòØÂΩì‰∏ã‰∏ªÊµÅ NodeJS Ê°ÜÊû∂Ôºå‰ª•ËΩªÈáèËßÅÈïøÔºåËÄåÂÆÉ‰∏≠Èó¥‰ª∂Êú∫Âà∂‰∏éÁõ∏ÂØπ‰º†ÁªüÁöÑ Express ÊîØÊåÅ‰∫ÜÂºÇÊ≠•ÔºåÊâÄ‰ª•ÁºñÁ†ÅÊó∂ÁªèÂ∏∏‰ΩøÁî® async/awaitÔºåÊèêÈ´ò‰∫ÜÂèØËØªÊÄßÔºå‰Ωø‰ª£Á†ÅÂèòÂæóÊõ¥‰ºòÈõÖÔºå‰∏ä‰∏ÄÁØáÊñáÁ´† NodeJS ËøõÈò∂ ‚Äî‚Äî Koa Ê∫êÁ†ÅÂàÜÊûêÔºå‰πüÂØπ ‚ÄúÊ¥ãËë±Ê®°Âûã‚Äù ÂíåÂÆûÁé∞ÂÆÉÁöÑ compose ËøõË°åÂàÜÊûêÔºåÁî±‰∫é‰∏™‰∫∫ËßâÂæó compose ÁöÑÁºñÁ®ãÊÄùÊÉ≥ÊØîËæÉÈáçË¶ÅÔºåÂ∫îÁî®ÂπøÊ≥õÔºåÊâÄ‰ª•Êú¨ÁØáÂÄüÁùÄ ‚ÄúÊ¥ãËë±Ê®°Âûã‚Äù ÁöÑËØùÈ¢òÔºåÊâìÁÆóÁî®ÂõõÁßçÊñπÂºèÊù•ÂÆûÁé∞ compose„ÄÇ Ê¥ãËë±Ê®°ÂûãÊ°à‰æãÂ¶ÇÊûú‰Ω†Â∑≤Áªè‰ΩøÁî® Koa ÂØπ ‚ÄúÊ¥ãËë±Ê®°Âûã‚Äù Ëøô‰∏™ËØç‰∏ÄÂÆö‰∏çÈôåÁîüÔºåÂÆÉÂ∞±ÊòØ Koa ‰∏≠Èó¥‰ª∂ÁöÑ‰∏ÄÁßç‰∏≤Ë°åÊú∫Âà∂ÔºåÂπ∂‰∏îÊòØÊîØÊåÅÂºÇÊ≠•ÁöÑÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Ë°®Ëææ ‚ÄúÊ¥ãËë±Ê®°Âûã‚Äù ÁöÑÁªèÂÖ∏Ê°à‰æã„ÄÇ const Koa = require(&quot;koa&quot;); const app = new Koa(); app.use(asycn (ctx, next) =&gt; { console.log(1); await next(); console.log(2); }); app.use(asycn (ctx, next) =&gt; { console.log(3); await next(); console.log(4); }); app.use(asycn (ctx, next) =&gt; { console.log(5); await next(); console.log(6); }); app.listen(3000); // 1 // 3 // 5 // 6 // 4 // 2 ‰∏äÈù¢ÁöÑÂÜôÊ≥ïÊàë‰ª¨ÊåâÁÖßÂÆòÊñπÊé®ËçêÔºå‰ΩøÁî®‰∫Ü async/awaitÔºå‰ΩÜÂ¶ÇÊûúÊòØÂêåÊ≠•‰ª£Á†Å‰∏ç‰ΩøÁî®‰πüÊ≤°ÊúâÂÖ≥Á≥ªÔºåËøôÈáåÁÆÄÂçïÁöÑÂàÜÊûê‰∏Ä‰∏ãÊâßË°åÊú∫Âà∂ÔºåÁ¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞‰∏≠Â¶ÇÊûúÊâßË°å‰∫Ü nextÔºåÂàô‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂‰ºöË¢´ÊâßË°åÔºå‰æùÊ¨°Á±ªÊé®ÔºåÂ∞±Êúâ‰∫ÜÊàë‰ª¨‰∏äÈù¢ÁöÑÁªìÊûúÔºåËÄåÂú® Koa Ê∫êÁ†Å‰∏≠ÔºåËøô‰∏ÄÂäüËÉΩÊòØÈù†‰∏Ä‰∏™ compose ÊñπÊ≥ïÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨Êú¨ÊñáÂõõÁßçÂÆûÁé∞ compose ÁöÑÊñπÂºè‰∏≠ÂÆûÁé∞ÂêåÊ≠•ÂíåÂºÇÊ≠•ÔºåÂπ∂ÈôÑÂ∏¶ÂØπÂ∫îÁöÑÊ°à‰æãÊù•È™åËØÅ„ÄÇ ÂáÜÂ§áÂ∑•‰ΩúÂú®ÁúüÊ≠£ÂàõÂª∫ compose ÊñπÊ≥ï‰πãÂâçÂ∫îËØ•ÂÖàÂÅö‰∫õÂáÜÂ§áÂ∑•‰ΩúÔºåÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™ app ÂØπË±°Êù•È°∂Êõø Koa ÂàõÂª∫Âá∫ÁöÑÂÆû‰æãÂØπË±°ÔºåÂπ∂Ê∑ªÂä† use ÊñπÊ≥ïÂíåÁÆ°ÁêÜ‰∏≠Èó¥‰ª∂ÁöÑÊï∞ÁªÑ middlewares„ÄÇ Êñá‰ª∂Ôºöapp.js // Ê®°Êãü Koa ÂàõÂª∫ÁöÑÂÆû‰æã const app = { middlewares: [] }; // ÂàõÂª∫ use ÊñπÊ≥ï app.use = function(fn) { app.middlewares.push(fn); }; // app.compose..... module.exports = app; ‰∏äÈù¢ÁöÑÊ®°Âùó‰∏≠ÂØºÂá∫‰∫Ü app ÂØπË±°ÔºåÂπ∂ÂàõÂª∫‰∫ÜÂ≠òÂÇ®‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÁöÑ middlewares ÂíåÊ∑ªÂä†‰∏≠Èó¥‰ª∂ÁöÑ use ÊñπÊ≥ïÔºåÂõ†‰∏∫Êó†ËÆ∫Áî®Âì™ÁßçÊñπÂºèÂÆûÁé∞ compose Ëøô‰∫õÈÉΩÊòØÈúÄË¶ÅÁöÑÔºåÂè™ÊòØ compose ÈÄªËæëÁöÑ‰∏çÂêåÔºåÊâÄ‰ª•ÂêéÈù¢ÁöÑ‰ª£Á†ÅÂùó‰∏≠‰ºöÂè™ÂÜô compose ÊñπÊ≥ï„ÄÇ Koa ‰∏≠ compose ÁöÑÂÆûÁé∞ÊñπÂºèÈ¶ñÂÖà‰ªãÁªçÁöÑÊòØ Koa Ê∫êÁ†Å‰∏≠ÁöÑÂÆûÁé∞ÊñπÂºèÔºåÂú® Koa Ê∫êÁ†Å‰∏≠ÂÖ∂ÂÆûÊòØÈÄöËøá koa-compose ‰∏≠Èó¥‰ª∂Êù•ÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨Âú®ËøôÈáåÂ∞ÜËøô‰∏™Ê®°ÂùóÁöÑÊ†∏ÂøÉÈÄªËæëÊäΩÂèñÂá∫Êù•ÔºåÁî®Êàë‰ª¨Ëá™Â∑±ÁöÑÊñπÂºèÂÆûÁé∞ÔºåÁî±‰∫éÈáçÁÇπÂú®‰∫éÂàÜÊûê compose ÁöÑÂéüÁêÜÔºåÊâÄ‰ª• ctx ÂèÇÊï∞Â∞±Ë¢´ÂéªÊéâ‰∫ÜÔºåÂõ†‰∏∫Êàë‰ª¨‰∏ç‰ºö‰ΩøÁî®ÂÆÉÔºåÈáçÁÇπÊòØ next ÂèÇÊï∞„ÄÇ 1„ÄÅÂêåÊ≠•ÁöÑÂÆûÁé∞Êñá‰ª∂Ôºöapp.js app.compose = function() { // ÈÄíÂΩíÂáΩÊï∞ function dispatch(index) { // Â¶ÇÊûúÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩÊâßË°åÂÆåË∑≥Âá∫ if (index === app.middlewares.length) return; // ÂèñÂá∫Á¨¨ index ‰∏™‰∏≠Èó¥‰ª∂Âπ∂ÊâßË°å const route = app.middlewares[index]; return route(() =&gt; dispatch(index + 1)); } // ÂèñÂá∫Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÊâßË°å dispatch(0); }; ‰∏äÈù¢ÊòØÂêåÊ≠•ÁöÑÂÆûÁé∞ÔºåÈÄöËøáÈÄíÂΩíÂáΩÊï∞ dispatch ÁöÑÊâßË°åÂèñÂá∫‰∫ÜÊï∞ÁªÑ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞Âπ∂ÊâßË°åÔºåÂú®ÊâßË°åÊó∂‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂπ∂ÈÄíÂΩíÊâßË°å‰∫Ü dispatchÔºå‰º†ÂÖ•ÁöÑÂèÇÊï∞ +1ÔºåËøôÊ†∑Â∞±ÊâßË°å‰∫Ü‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞Ôºå‰æùÊ¨°Á±ªÊé®ÔºåÁõ¥Âà∞ÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩÊâßË°åÂÆåÊØïÔºå‰∏çÊª°Ë∂≥‰∏≠Èó¥‰ª∂ÊâßË°åÊù°‰ª∂Êó∂Ôºå‰ºöË∑≥Âá∫ÔºåËøôÊ†∑Â∞±ÊåâÁÖß‰∏äÈù¢Ê°à‰æã‰∏≠ 1 3 5 6 4 2 ÁöÑÊÉÖÂÜµÊâßË°åÔºåÊµãËØï‰æãÂ≠êÂ¶Ç‰∏ãÔºàÂêåÊ≠•‰∏ä„ÄÅÂºÇÊ≠•‰∏ãÔºâ„ÄÇ Êñá‰ª∂Ôºösync-test.js const app = require(&quot;./app&quot;); app.use(next =&gt; { console.log(1); next(); console.log(2); }); app.use(next =&gt; { console.log(3); next(); console.log(4); }); app.use(next =&gt; { console.log(5); next(); console.log(6); }); app.compose(); // 1 // 3 // 5 // 6 // 4 // 2 Êñá‰ª∂Ôºöasync-test.js const app = require(&quot;./app&quot;); // ÂºÇÊ≠•ÂáΩÊï∞ functionfn() { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(); console.log(&quot;hello&quot;); }, 3000); }); } app.use(async next =&gt; { console.log(1); await next(); console.log(2); }); app.use(async next =&gt; { console.log(3); await fn(); // Ë∞ÉÁî®ÂºÇÊ≠•ÂáΩÊï∞ await next(); console.log(4); }); app.use(async next =&gt; { console.log(5); await next(); console.log(6); }); app.compose(); Êàë‰ª¨ÂèëÁé∞Â¶ÇÊûúÊ°à‰æã‰∏≠ÊåâÁÖß Koa ÁöÑÊé®ËçêÂÜôÊ≥ïÔºåÂç≥‰ΩøÁî® async ÂáΩÊï∞ÔºåÈÉΩ‰ºöÈÄöËøáÔºå‰ΩÜÊòØÂú®Áªô use ‰º†ÂèÇÊó∂ÂèØËÉΩ‰ºö‰º†ÂÖ•ÊôÆÈÄöÂáΩÊï∞Êàñ async ÂáΩÊï∞ÔºåÊàë‰ª¨Ë¶ÅÂ∞ÜÊâÄÊúâ‰∏≠Èó¥‰ª∂ÁöÑËøîÂõûÂÄºÈÉΩÂåÖË£ÖÊàê Promise Êù•ÂÖºÂÆπ‰∏§ÁßçÊÉÖÂÜµÔºåÂÖ∂ÂÆûÂú® Koa ‰∏≠ compose ÊúÄÂêéËøîÂõûÁöÑ‰πüÊòØ PromiseÔºåÊòØ‰∏∫‰∫ÜÂêéÁª≠ÁöÑÈÄªËæëÁöÑÁºñÂÜôÔºå‰ΩÜÊòØÁé∞Âú®Âπ∂‰∏çÊîØÊåÅÔºå‰∏ãÈù¢Êù•Ëß£ÂÜ≥Ëøô‰∏§‰∏™ÈóÆÈ¢ò„ÄÇ Ê≥®ÊÑèÔºöÂêéÈù¢ compose ÁöÑÂÖ∂‰ªñÂÆûÁé∞ÊñπÂºè‰∏≠ÔºåÈÉΩÊòØ‰ΩøÁî® sync-test.js Âíå async-test.js È™åËØÅÔºåÊâÄ‰ª•ÂêéÈù¢Â∞±‰∏çÂÜçÈáçÂ§ç‰∫Ü„ÄÇ 2„ÄÅÂçáÁ∫ß‰∏∫ÊîØÊåÅÂºÇÊ≠•Êñá‰ª∂Ôºöapp.js app.compose = function() { // ÈÄíÂΩíÂáΩÊï∞ function dispatch(index) { // Â¶ÇÊûúÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩÊâßË°åÂÆåË∑≥Âá∫ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ Promise if (index === app.middlewares.length) return Promise.resolve(); // ÂèñÂá∫Á¨¨ index ‰∏™‰∏≠Èó¥‰ª∂Âπ∂ÊâßË°å const route = app.middlewares[index]; // ÊâßË°åÂêéËøîÂõûÊàêÂäüÊÄÅÁöÑ Promise return Promise.resolve(route(() =&gt; dispatch(index + 1))); } // ÂèñÂá∫Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÊâßË°å dispatch(0); }; Êàë‰ª¨Áü•ÈÅì async ÂáΩÊï∞‰∏≠ await ÂêéÈù¢ÊâßË°åÁöÑÂºÇÊ≠•‰ª£Á†ÅË¶ÅÂÆûÁé∞Á≠âÂæÖÔºåÂ∏¶ÂºÇÊ≠•ÊâßË°åÂêéÁªßÁª≠Âêë‰∏ãÊâßË°åÔºåÈúÄË¶ÅÁ≠âÂæÖ PromiseÔºåÊâÄ‰ª•Êàë‰ª¨Â∞ÜÊØè‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞Âú®Ë∞ÉÁî®Êó∂ÊúÄÂêéÈÉΩËøîÂõû‰∫Ü‰∏Ä‰∏™ÊàêÂäüÊÄÅÁöÑ PromiseÔºå‰ΩøÁî® async-test.jsËøõË°åÊµãËØïÔºåÂèëÁé∞ÁªìÊûú‰∏∫ 1 3 hello(3sÂêé) 5 6 4 2„ÄÇ Redux ÊóßÁâàÊú¨ compose ÁöÑÂÆûÁé∞ÊñπÂºè1„ÄÅÂêåÊ≠•ÁöÑÂÆûÁé∞Êñá‰ª∂Ôºöapp.js app.compose = function() { return app.middlewares.reduceRight((a, b) =&gt; () =&gt; b(a), () =&gt; {})(); }; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁúãËµ∑Êù•‰∏çÂ§™Â•ΩÁêÜËß£ÔºåÊàë‰ª¨‰∏çÂ¶®Ê†πÊçÆÊ°à‰æãÊääËøôÊÆµ‰ª£Á†ÅÊãÜËß£ÂºÄÔºåÂÅáËÆæ middlewares ‰∏≠Â≠òÂÇ®ÁöÑ‰∏â‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÂàÜÂà´‰∏∫ fn1„ÄÅfn2 Âíå fn3ÔºåÁî±‰∫é‰ΩøÁî®ÁöÑÊòØ reduceRight ÊñπÊ≥ïÔºåÊâÄ‰ª•ÊòØÈÄÜÂ∫èÂΩíÂπ∂ÔºåÁ¨¨‰∏ÄÊ¨° a ‰ª£Ë°®ÂàùÂßãÂÄºÔºàÁ©∫ÂáΩÊï∞ÔºâÔºåb ‰ª£Ë°® fn3ÔºåËÄåÊâßË°å fn3 ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÂÜç‰Ωú‰∏∫‰∏ã‰∏ÄÊ¨°ÂΩíÂπ∂ÁöÑ aÔºåËÄå fn2 ‰Ωú‰∏∫ bÔºå‰æùÊ¨°Á±ªÊé®ÔºåËøáÁ®ãÂ¶Ç‰∏ã„ÄÇ // Á¨¨ 1 Ê¨° reduceRight ÁöÑËøîÂõûÂÄºÔºå‰∏ã‰∏ÄÊ¨°Â∞Ü‰Ωú‰∏∫ a () =&gt; fn3(() =&gt; {}); // Á¨¨ 2 Ê¨° reduceRight ÁöÑËøîÂõûÂÄºÔºå‰∏ã‰∏ÄÊ¨°Â∞Ü‰Ωú‰∏∫ a () =&gt; fn2(() =&gt; fn3(() =&gt; {})); // Á¨¨ 3 Ê¨° reduceRight ÁöÑËøîÂõûÂÄºÔºå‰∏ã‰∏ÄÊ¨°Â∞Ü‰Ωú‰∏∫ a () =&gt; fn1(() =&gt; fn2(() =&gt; fn3(() =&gt; {}))); Áî±‰∏äÈù¢ÁöÑÊãÜËß£ËøáÁ®ãÂèØ‰ª•ÁúãÂá∫ÔºåÂ¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®‰∫ÜËøô‰∏™ÂáΩÊï∞‰ºöÂÖàÊâßË°å fn1ÔºåÂ¶ÇÊûúË∞ÉÁî® next Âàô‰ºöÊâßË°å fn2ÔºåÂ¶ÇÊûúÂêåÊ†∑Ë∞ÉÁî® next Âàô‰ºöÊâßË°å fn3Ôºåfn3 Â∑≤ÁªèÊòØÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞‰∫ÜÔºåÂÜçÊ¨°Ë∞É next ‰ºöÊâßË°åÊàë‰ª¨ÊúÄÂàù‰º†ÂÖ•ÁöÑÁ©∫ÂáΩÊï∞ÔºåËøô‰πüÊòØ‰∏∫‰ªÄ‰πàË¶ÅÂ∞Ü reduceRight ÁöÑÂàùÂßãÂÄºËÆæÁΩÆÊàê‰∏Ä‰∏™Á©∫ÂáΩÊï∞ÔºåÂ∞±ÊòØÈò≤Ê≠¢ÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ë∞ÉÁî® next ËÄåÊä•Èîô„ÄÇ ÁªèËøáÊµãËØï‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏ç‰ºöÂá∫Áé∞È°∫Â∫èÈîô‰π±ÁöÑÊÉÖÂÜµÔºå‰ΩÜÊòØÂú® compose ÊâßË°åÂêéÔºåÊàë‰ª¨Â∏åÊúõËøõË°å‰∏Ä‰∫õÂêéÁª≠ÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•Â∏åÊúõËøîÂõûÁöÑÊòØ PromiseÔºåËÄåÊàë‰ª¨ÂèàÂ∏åÊúõ‰º†ÂÖ•Áªô use ÁöÑ‰∏≠Èó¥‰ª∂ÂáΩÊï∞Êó¢ÂèØ‰ª•ÊòØÊôÆÈÄöÂáΩÊï∞ÔºåÂèàÂèØ‰ª•ÊòØ async ÂáΩÊï∞ÔºåËøôÂ∞±Ë¶ÅÊàë‰ª¨ÁöÑ compose ÂÆåÂÖ®ÊîØÊåÅÂºÇÊ≠•„ÄÇ 2„ÄÅÂçáÁ∫ß‰∏∫ÊîØÊåÅÂºÇÊ≠•Êñá‰ª∂Ôºöapp.js app.compose = function() { return Promise.resolve( app.middlewares.reduceRight( (a, b) =&gt; () =&gt; Promise.resolve(b(a)), () =&gt; Promise.resolve(); )() ); }; ÂèÇËÄÉÂêåÊ≠•ÁöÑÂàÜÊûêËøáÁ®ãÔºåÁî±‰∫éÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÊâßË°åÂêéÊâßË°åÁöÑÁ©∫ÂáΩÊï∞ÂÜÖ‰∏ÄÂÆöÊ≤°Êúâ‰ªª‰ΩïÈÄªËæëÔºå‰ΩÜ‰∏∫ÈÅáÂà∞ÂºÇÊ≠•‰ª£Á†ÅÂèØ‰ª•ÁªßÁª≠ÊâßË°åÔºàÊØîÂ¶ÇÊâßË°å next ÂêéÂèàË∞ÉÁî®‰∫Ü thenÔºâÔºåÈÉΩÂ§ÑÁêÜÊàê‰∫Ü PromiseÔºå‰øùËØÅ‰∫Ü reduceRight ÊØè‰∏ÄÊ¨°ÂΩíÂπ∂ÁöÑÊó∂ÂÄôËøîÂõûÁöÑÂáΩÊï∞ÂÜÖÈÉΩËøîÂõû‰∫Ü‰∏Ä‰∏™ PromiseÔºåËøôÊ†∑Â∞±ÂÆåÂÖ®ÂÖºÂÆπ‰∫Ü async ÂíåÊôÆÈÄöÂáΩÊï∞ÔºåÂΩìÊâÄÊúâ‰∏≠Èó¥‰ª∂ÊâßË°åÂÆåÊØïÔºå‰πüËøîÂõû‰∫Ü‰∏Ä‰∏™ PromiseÔºåËøôÊ†∑ compose Â∞±ÂèØ‰ª•Ë∞ÉÁî® then ÊñπÊ≥ïÊâßË°åÂêéÁª≠ÈÄªËæë„ÄÇ Redux Êñ∞ÁâàÊú¨ compose ÁöÑÂÆûÁé∞ÊñπÂºè1„ÄÅÂêåÊ≠•ÁöÑÂÆûÁé∞Êñá‰ª∂Ôºöapp.js app.compose = function() { return app.middlewares.reduce((a, b) =&gt; arg =&gt; a(() =&gt; b(arg)))(() =&gt; {}); }; Redux Êñ∞ÁâàÊú¨‰∏≠Â∞Ü compose ÁöÑÈÄªËæëÂÅö‰∫Ü‰∫õÊîπÂä®ÔºåÂ∞ÜÂéüÊú¨ÁöÑ reduceRight Êç¢Êàê reduceÔºå‰πüÂ∞±ÊòØËØ¥Â∞ÜÈÄÜÂ∫èÂΩíÂπ∂Êîπ‰∏∫‰∫ÜÊ≠£Â∫èÔºåÊàë‰ª¨‰∏ç‰∏ÄÂÆöÂíå Redux Ê∫êÁ†ÅÂÆåÂÖ®Áõ∏ÂêåÔºåÊòØÊ†πÊçÆÁõ∏ÂêåÁöÑÊÄùË∑ØÊù•ÂÆûÁé∞‰∏≤Ë°å‰∏≠Èó¥‰ª∂ÁöÑÈúÄÊ±Ç„ÄÇ ‰∏™‰∫∫ËßâÂæóÊîπÊàêÊ≠£Â∫èÂΩíÂπ∂ÂêéÊõ¥ÈöæÁêÜËß£ÔºåÊâÄ‰ª•ËøòÊòØÂ∞Ü‰∏äÈù¢‰ª£Á†ÅÁªìÂêàÊ°à‰æãËøõË°åÊãÜÂàÜÔºå‰∏≠Èó¥‰ª∂‰æùÁÑ∂ÊòØ fn1„ÄÅfn2 Âíå fn3ÔºåÁî±‰∫é reduce Âπ∂Ê≤°Êúâ‰º†ÂÖ•ÂàùÂßãÂÄºÔºåÊâÄ‰ª•Ê≠§Êó∂ a ‰∏∫ fn1Ôºåb ‰∏∫ fn2„ÄÇ // Á¨¨ 1 Ê¨° reduce ÁöÑËøîÂõûÂÄºÔºå‰∏ã‰∏ÄÊ¨°Â∞Ü‰Ωú‰∏∫ a arg =&gt; fn1(() =&gt; fn2(arg)); // Á¨¨ 2 Ê¨° reduce ÁöÑËøîÂõûÂÄºÔºå‰∏ã‰∏ÄÊ¨°Â∞Ü‰Ωú‰∏∫ a arg =&gt; (arg =&gt; fn1(() =&gt; fn2(arg)))(() =&gt; fn3(arg)); // Á≠â‰ª∑‰∫é... arg =&gt; fn1(() =&gt; fn2(() =&gt; fn3(arg))); // ÊâßË°åÊúÄÂêéËøîÂõûÁöÑÂáΩÊï∞ËøûÊé•‰∏≠Èó¥‰ª∂ÔºåËøîÂõûÂÄºÁ≠â‰ª∑‰∫é... fn1(() =&gt; fn2(() =&gt; fn3(() =&gt; {}))); ÊâÄ‰ª•Âú®Ë∞ÉÁî® reduce ÊúÄÂêéËøîÂõûÁöÑÂáΩÊï∞Êó∂Ôºå‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™Á©∫ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÖ∂ÂÆûËøô‰∏™ÂèÇÊï∞ÊúÄÂêé‰º†ÈÄíÁªô‰∫Ü fn3Ôºå‰πüÂ∞±ÊòØÁ¨¨‰∏â‰∏™‰∏≠Èó¥‰ª∂ÔºåËøôÊ†∑‰øùËØÅ‰∫ÜÂú®ÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ë∞ÉÁî® next Êó∂‰∏ç‰ºöÊä•Èîô„ÄÇ 2„ÄÅÂçáÁ∫ß‰∏∫ÊîØÊåÅÂºÇÊ≠•‰∏ãÈù¢Êúâ‰∏™Êõ¥Ëâ∞Â∑®ÁöÑ‰ªªÂä°ÔºåÂ∞±ÊòØÂ∞Ü‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊõ¥Êîπ‰∏∫ÊîØÊåÅÂºÇÊ≠•ÔºåÂÆûÁé∞Â¶Ç‰∏ã„ÄÇ Êñá‰ª∂Ôºöapp.js app.compose = function() { return Promise.resolve( app.middlewares.reduce((a, b) =&gt; arg =&gt; Promise.resolve(a(() =&gt; b(arg))) )(() =&gt; Promise.resolve()) ); }; ÂÆûÁé∞ÂºÇÊ≠•ÂÖ∂ÂÆû‰∏éÈÄÜÂ∫èÂΩíÂπ∂ÊòØ‰∏Ä‰∏™Â•óË∑ØÔºåÂ∞±ÊòØËÆ©ÊØè‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÈÉΩÊòØ PromiseÔºåÂπ∂ËÆ© compose ‰πüËøîÂõû Promise„ÄÇ DEMO123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; function originDispatch(...args) &#123; console.log(...args) &#125; function middleware1(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware1 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware1 after dispatch&apos;) &#125; &#125; function middleware2(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware2 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware2 after dispatch&apos;) &#125; &#125; function middleware3(dispatch) &#123; return (...args) =&gt; &#123; console.log(&apos;middleware3 before dispatch&apos;) dispatch(...args) console.log(&apos;middleware3 after dispatch&apos;) &#125; &#125; // originDispatch = middleware2(middleware1(originDispatch)) // originDispatch(&apos;redux&apos;, &apos;is&apos;, &apos;cool&apos;); function compose(...funcs) &#123; return funcs.reduce((a, b) =&gt; (args) =&gt; a(b(args))) &#125; //console.log(compose(middleware2, middleware1)) //(args) =&gt; middleware2(middleware1(args)) //(originDispatch)=&gt;middleware2(middleware1(originDispatch)) compose(middleware2, middleware1)(originDispatch)(&apos;redux&apos;, &apos;is&apos;, &apos;cool&apos;); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ‰ΩøÁî® async ÂáΩÊï∞ÂÆûÁé∞Ëøô‰∏™ÁâàÊú¨ÊòØÊàëÂú®‰πãÂâçÂú®Â≠¶‰π† Koa Ê∫êÁ†ÅÊó∂ÂÅ∂ÁÑ∂Âú®‰∏Ä‰ΩçÂ§ß‰Ω¨ÁöÑ‰∏ÄÁØáÂàÜÊûê Koa ÂéüÁêÜÁöÑÊñáÁ´†‰∏≠ÁúãÂà∞ÁöÑÔºàÁøª‰∫ÜÂçäÂ§©ÂÆûÂú®Ê≤°ÊâæÂà∞ÈìæÊé•ÔºâÔºåÂú®ËøôÈáå‰πüÊãøÂá∫Êù•ÂíåÂ§ßÂÆ∂ÂàÜ‰∫´‰∏Ä‰∏ãÔºåÁî±‰∫éÊòØÂà©Áî® async ÂáΩÊï∞ÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•ÈªòËÆ§Â∞±ÊòØÊîØÊåÅÂºÇÊ≠•ÁöÑÔºåÂõ†‰∏∫ async ÂáΩÊï∞‰ºöËøîÂõû‰∏Ä‰∏™ Promise„ÄÇ Êñá‰ª∂Ôºöapp.js app.compose = function() { // Ëá™ÊâßË°å async ÂáΩÊï∞ËøîÂõû Promise return (async function () { // ÂÆö‰πâÈªòËÆ§ÁöÑ nextÔºåÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂÜÖÊâßË°åÁöÑ next let next = async () =&gt; Promise.resolve(); // middleware ‰∏∫ÊØè‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºåoldNext ‰∏∫ÊØè‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞‰∏≠ÁöÑ next // ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ async ‰Ωú‰∏∫Êñ∞ÁöÑ nextÔºåasync ÊâßË°åËøîÂõû PromiseÔºåËß£ÂÜ≥ÂºÇÊ≠•ÈóÆÈ¢ò function createNext(middleware, oldNext) { return async () =&gt; { await middleware(oldNext); } } // ÂèçÂêëÈÅçÂéÜ‰∏≠Èó¥‰ª∂Êï∞ÁªÑÔºåÂÖàÊää next ‰º†ÁªôÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ // Â∞ÜÊñ∞ÁöÑ‰∏≠Èó¥‰ª∂ÂáΩÊï∞Â≠òÂÖ• next ÂèòÈáè // Ë∞ÉÁî®‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºåÂ∞ÜÊñ∞ÁîüÊàêÁöÑ next ‰º†ÂÖ• for (let i = app.middlewares.length - 1; i &gt;= 0; i--) { next = createNext(app.middlewares[i], next); } await next(); })(); }; ‰∏äÈù¢‰ª£Á†Å‰∏≠ÁöÑ next ÊòØ‰∏Ä‰∏™Âè™ËøîÂõûÊàêÂäüÊÄÅ Promise ÁöÑÂáΩÊï∞ÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ÂÖ∂‰ªñÂÆûÁé∞ÊñπÂºè‰∏≠ÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ë∞ÉÁî®ÁöÑ nextÔºåËÄåÊï∞ÁªÑ middlewares ÂàöÂ•ΩÊòØÂèçÂêëÈÅçÂéÜÁöÑÔºåÂèñÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂÄºÂ∞±ÊòØÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÔºåËÄåË∞ÉÁî® createNext‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂèØ‰ª•ÊâßË°åÊï∞ÁªÑ‰∏≠ÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑ async ÂáΩÊï∞ÔºåÂπ∂‰º†ÂÖ•‰∫ÜÂàùÂßãÁöÑ nextÔºåËøô‰∏™ËøîÂõûÁöÑ async ÂáΩÊï∞‰Ωú‰∏∫Êñ∞ÁöÑ nextÔºåÂÜçÂèñÂà∞ÂÄíÊï∞Á¨¨‰∫å‰∏™‰∏≠Èó¥‰ª∂ÔºåË∞ÉÁî® createNextÔºåÂèàËøîÂõû‰∫Ü‰∏Ä‰∏™ async ÂáΩÊï∞ÔºåÂáΩÊï∞ÂÜÖ‰æùÁÑ∂ÊòØÂÄíÊï∞Á¨¨‰∫å‰∏™‰∏≠Èó¥‰ª∂ÁöÑÊâßË°åÔºå‰º†ÂÖ•ÁöÑ next Â∞±ÊòØ‰∏äÊ¨°Êñ∞ÁîüÊàêÁöÑ nextÔºåËøôÊ†∑‰æùÊ¨°Á±ªÊé®Âà∞Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂„ÄÇ Âõ†Ê≠§ÊâßË°åÁ¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ËøîÂõûÁöÑ next Âàô‰ºöÊâßË°å‰º†ÂÖ•ÁöÑ‰∏ä‰∏Ä‰∏™ÁîüÊàêÁöÑ next ÂáΩÊï∞ÔºåÂ∞±‰ºöÊâßË°åÁ¨¨‰∫å‰∏™‰∏≠Èó¥‰ª∂ÔºåÂ∞±‰ºöÊâßË°åÁ¨¨‰∫å‰∏™‰∏≠Èó¥‰ª∂‰∏≠ÁöÑ nextÔºåÂ∞±ËøôÊ†∑Áõ¥Âà∞ÊâßË°åÂÆåÊúÄÂàùÂÆö‰πâÁöÑÁöÑ nextÔºåÈÄöËøáÊ°à‰æãÁöÑÈ™åËØÅÔºåÊâßË°åÁªìÊûú‰∏éÊ¥ãËë±Ê®°ÂûãÂÆåÂÖ®Áõ∏Âêå„ÄÇ Ëá≥‰∫éÂºÇÊ≠•ÁöÑÈóÆÈ¢òÔºåÊØèÊ¨°ÊâßË°åÁöÑ next ÈÉΩÊòØ async ÂáΩÊï∞ÔºåÊâßË°åÂêéËøîÂõûÁöÑÈÉΩÊòØ PromiseÔºåËÄåÊúÄÂ§ñÂ±ÇÁöÑËá™ÊâßË°å async ÂáΩÊï∞ËøîÂõûÁöÑ‰πüÊòØ PromiseÔºå‰πüÂ∞±ÊòØËØ¥ compose ÊúÄÂêéËøîÂõûÁöÑÊòØ PromiseÔºåÂõ†Ê≠§ÂÆåÂÖ®ÊîØÊåÅÂºÇÊ≠•„ÄÇ Ëøô‰∏™ÊñπÂºè‰πãÊâÄÊîæÂú®ÊúÄÂêéÔºåÊòØÂõ†‰∏∫‰∏™‰∫∫ËßâÂæó‰∏çÂ•ΩÁêÜËß£ÔºåÊàëÊòØÊåâÁÖßËá™Â∑±ÂØπËøôÂá†ÁßçÊñπÂºèÁêÜËß£ÁöÑÈöæÊòìÁ®ãÂ∫¶Áî±‰∏äËá≥‰∏ãÊéíÂ∫èÁöÑ„ÄÇ KoaÁ¨¨‰∏ÄÁâà123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; // Ê®°Êãü Koa ÂàõÂª∫ÁöÑÂÆû‰æã const app = &#123; middlewares: [] &#125;; // ÂàõÂª∫ use ÊñπÊ≥ï app.use = function(fn) &#123; app.middlewares.push(fn); &#125;; app.use(next =&gt; &#123; console.log(1); next(); console.log(2); &#125;); app.use(next =&gt; &#123; console.log(3); next(); console.log(4); &#125;); app.use(next =&gt; &#123; console.log(5); next(); console.log(6); &#125;); app.compose = function() &#123; // ÈÄíÂΩíÂáΩÊï∞ function dispatch(index) &#123; // Â¶ÇÊûúÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩÊâßË°åÂÆåË∑≥Âá∫ if(index === app.middlewares.length) return; // ÂèñÂá∫Á¨¨ index ‰∏™‰∏≠Èó¥‰ª∂Âπ∂ÊâßË°å const route = app.middlewares[index]; return route(() =&gt; dispatch(index + 1)); &#125; // ÂèñÂá∫Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÊâßË°å dispatch(0); &#125;; app.compose(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; KoaÁ¨¨‰∫åÁâà1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; // Ê®°Êãü Koa ÂàõÂª∫ÁöÑÂÆû‰æã const app = &#123; middlewares: [] &#125;; // ÂºÇÊ≠•ÂáΩÊï∞ function fn() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(); console.log(&quot;hello&quot;); &#125;, 3000); &#125;); &#125; // ÂàõÂª∫ use ÊñπÊ≥ï app.use = function(fn) &#123; app.middlewares.push(fn); &#125;; app.use(async next =&gt; &#123; console.log(1); await next(); console.log(2); &#125;); app.use(async next =&gt; &#123; console.log(3); await fn(); // Ë∞ÉÁî®ÂºÇÊ≠•ÂáΩÊï∞ await next(); console.log(4); &#125;); app.use(async next =&gt; &#123; console.log(5); await next(); console.log(6); &#125;); app.compose = function() &#123; // ÈÄíÂΩíÂáΩÊï∞ function dispatch(index) &#123; // Â¶ÇÊûúÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩÊâßË°åÂÆåË∑≥Âá∫ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ Promise if(index === app.middlewares.length) return Promise.resolve(); // ÂèñÂá∫Á¨¨ index ‰∏™‰∏≠Èó¥‰ª∂Âπ∂ÊâßË°å const route = app.middlewares[index]; // ÊâßË°åÂêéËøîÂõûÊàêÂäüÊÄÅÁöÑ Promise return Promise.resolve(route(() =&gt; dispatch(index + 1))); &#125; // ÂèñÂá∫Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÊâßË°å dispatch(0); &#125;; app.compose(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; KoaÁ¨¨‰∏âÁâà12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; // Ê®°Êãü Koa ÂàõÂª∫ÁöÑÂÆû‰æã const app = &#123; middlewares: [] &#125;; // ÂºÇÊ≠•ÂáΩÊï∞ function fn() &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(); console.log(&quot;hello&quot;); &#125;, 3000); &#125;); &#125; // ÂàõÂª∫ use ÊñπÊ≥ï app.use = function(fn) &#123; app.middlewares.push(fn); &#125;; app.use(async next =&gt; &#123; console.log(1); await next(); console.log(2); &#125;); app.use(async next =&gt; &#123; console.log(3); await fn(); // Ë∞ÉÁî®ÂºÇÊ≠•ÂáΩÊï∞ await next(); console.log(4); &#125;); app.use(async next =&gt; &#123; console.log(5); await next(); console.log(6); &#125;); app.compose = function() &#123; // Ëá™ÊâßË°å async ÂáΩÊï∞ËøîÂõû Promise return(async function() &#123; // ÂÆö‰πâÈªòËÆ§ÁöÑ nextÔºåÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂÜÖÊâßË°åÁöÑ next let next = async() =&gt; Promise.resolve(); // middleware ‰∏∫ÊØè‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºåoldNext ‰∏∫ÊØè‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞‰∏≠ÁöÑ next // ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ async ‰Ωú‰∏∫Êñ∞ÁöÑ nextÔºåasync ÊâßË°åËøîÂõû PromiseÔºåËß£ÂÜ≥ÂºÇÊ≠•ÈóÆÈ¢ò function createNext(middleware, oldNext) &#123; return async() =&gt; &#123; await middleware(oldNext); &#125; &#125; // ÂèçÂêëÈÅçÂéÜ‰∏≠Èó¥‰ª∂Êï∞ÁªÑÔºåÂÖàÊää next ‰º†ÁªôÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ // Â∞ÜÊñ∞ÁöÑ‰∏≠Èó¥‰ª∂ÂáΩÊï∞Â≠òÂÖ• next ÂèòÈáè // Ë∞ÉÁî®‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºåÂ∞ÜÊñ∞ÁîüÊàêÁöÑ next ‰º†ÂÖ• for(let i = app.middlewares.length - 1; i &gt;= 0; i--) &#123; next = createNext(app.middlewares[i], next); &#125; await next(); &#125;)(); &#125;; app.compose(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; Log‰∏≠Èó¥‰ª∂12345678910function log(ctx) &#123; console.log(ctx.method, ctx.header.host + ctx.url)&#125;module.exports = function() &#123; return async function(ctx, next) &#123; log(ctx); await next() &#125;&#125; ‰ΩøÁî® 12345678910111213141516171819202122232425262728const Koa = require(&apos;koa&apos;) // koa v2const loggerAsync = require(&apos;./log&apos;)const app = new Koa()app.use(loggerAsync())app.use(async(ctx) =&gt; &#123; let url = ctx.url // ‰ªé‰∏ä‰∏ãÊñáÁöÑrequestÂØπË±°‰∏≠Ëé∑Âèñ let request = ctx.request let req_query = request.query let req_querystring = request.querystring // ‰ªé‰∏ä‰∏ãÊñá‰∏≠Áõ¥Êé•Ëé∑Âèñ let ctx_query = ctx.query let ctx_querystring = ctx.querystring ctx.body = &#123; url, req_query, req_querystring, ctx_query, ctx_querystring &#125;&#125;)app.listen(3000)console.log(&apos;the server is starting at port 3000&apos;) Á≤æÁÆÄÁâà koa ÁÆÄÂçïÂ∞ÅË£ÖApplication Ê®°ÂùóÁöÑÁÆÄÂçïÂ∞ÅË£Ö È¶ñÂÖàÊàë‰ª¨ÂÖàÁÆÄÂçïÂ∞ÅË£Ö‰∏Ä‰∏™Ê®°Âùó Application ‰øùËØÅÊúçÂä°ÁöÑÊ≠£Â∏∏ËøêË°åÔºõ ÂàùÂßãÂåñ‰∏Ä‰∏™È°πÁõÆ 12$ npm init -y... ÂàõÂª∫Êñá‰ª∂ application.js Âπ∂Âπ∂ÁºñÂÜôÂ¶Ç‰∏ã‰ª£Á†Å; 123456789101112131415161718192021const http = require(&apos;http&apos;);classApplication&#123; // ÂàùÂßãÂåñconstructor()&#123; this.callback = () =&gt; &#123;&#125; &#125; // ËÆæÁΩÆÂõûË∞ÉÂáΩÊï∞ use(callback)&#123; this.callback = callback; &#125; // listen ÂàõÂª∫ÊúçÂä°Âπ∂ÂØπÊúçÂä°ËøõË°åÁõëÂê¨ listen(...args)&#123; const server = http.createServer((req, res) =&gt; &#123; this.callback(req, res); &#125;); server.listen(...args); &#125;&#125;module.exports = Application; ÂàõÂª∫ server.js Êñá‰ª∂ÔºåË∞ÉÁî® Application Ê®°ÂùóËµ∑‰∏Ä‰∏™ÊúçÂä°Ôºö 123456789101112const Application = require(&apos;./application.js&apos;);const app = new Application();app.use((req, res) =&gt; &#123; res.writeHead(200); res.end(&apos;hello world&apos;);&#125;);app.listen(3000, () =&gt; &#123; console.log(&apos;ÁõëÂê¨Á´ØÂè£Ôºö3000&apos;);&#125;); Application Ê®°ÂùóÊåÇËΩΩ context È¶ñÂÖàÊàë‰ª¨ÂÅáËÆæÊàë‰ª¨ÁöÑ context ÊòØËøô‰πà‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑ: context ‰∏≠ÊåÇËΩΩ‰∫Ü request response req res, ÂêåÊó∂ËøòÊúâÊäΩÁ¶ªÁöÑÈ¢ùÂ§ñÂ±ûÊÄß url body request ‰∏≠ÊåÇËΩΩ‰∫Ü req, ÂêåÊó∂ËøòÊúâÊäΩÁ¶ªÁöÑÈ¢ùÂ§ñÂ±ûÊÄß url response ‰∏≠ÊåÇËΩΩ‰∫Ü res, ÂêåÊó∂ËøòÊúâÊäΩÁ¶ªÁöÑÈ¢ùÂ§ñÂ±ûÊÄß body 1234567891011121314context: &#123; url: String, body: String, request: &#123; url: String, req: Object &#125;, response: &#123; body: String, res: Object &#125;, req: Object, res: Object&#125; ÊîπÂÜô Application ËÆæËÆ° context request response ÂéüÂûãÊï∞ÊçÆÁªìÊûÑÔºõ Â∞Ü context request response ÂéüÂûãÊï∞ÊçÆÁªìÊûÑÊåÇËΩΩÂà∞ Application ÁºñÂÜôÂáΩÊï∞ÂàõÂª∫ context ÊîπÂÜôÂõûË∞ÉÂáΩÊï∞ÁöÑË∞ÉÁî®ÊñπÂºèÔºõ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263const http = require(&apos;http&apos;);// [1]ÊûÑÂª∫Êï∞ÊçÆÁªìÊûÑÔºà‰Ωú‰∏∫ÂéüÂûã‰ΩøÁî®Ôºâconst request = &#123; // Âõ†‰∏∫ÂêéÊúü request Â∞Ü‰ºöÊåÇËΩΩ‰∏ä req ÊâÄ‰ª•Â≠òÂú® this.req get url()&#123; returnthis.req.url; &#125;&#125;;const response = &#123; get body()&#123; returnthis._body; &#125;, set body(val)&#123; this._body = val; &#125;&#125;;const context = &#123; // Âõ†‰∏∫ÂêéÊúü context Â∞Ü‰ºöÊåÇËΩΩ‰∏ä request response ÊâÄ‰ª•Â≠òÂú® this.request Âíå this.response get url()&#123; returnthis.request.url; &#125;, get body()&#123; returnthis.response.body; &#125;, set body(val)&#123; this.response.body = val; &#125;&#125;classApplication&#123; constructor()&#123; this.callback = () =&gt; &#123;&#125;, // [2]Â∞ÜÂéüÂûãÊåÇËΩΩÂà∞ Application this.context = context; this.request = request; this.response = response; &#125; use(callback)&#123; this.callback = callback; &#125; // [3]ÂàõÂª∫ context ÂáΩÊï∞ÔºåÊåÇËΩΩ‰∏ä request response req res createCtx(req, res)&#123; const ctx = Object.create(this.context); ctx.request = Object.create(this.request); ctx.response = Object.create(this.response); ctx.req = ctx.request = req; ctx.res = ctx.response = res; return ctx; &#125; listen(...args)&#123; const server = http.createServer((req, res) =&gt; &#123; // [4]ÂàõÂª∫ context, Âπ∂ËøõË°åÁÆÄÂçï‰øÆÊîπ const ctx = this.createCtx(req, res); this.callback(ctx); ctx.res.end(ctx.body); &#125;); server.listen(...args); &#125;&#125;module.exports = Application; ‰øÆÊîπ server.js ‰∏≠ Application ÁöÑÂºïÁî® 1234567891011const Application = require(&apos;./application.js&apos;);const app = new Application();app.use( ctx =&gt; &#123; ctx.body = &apos;hello world&apos;&#125;);app.listen(3000, () =&gt; &#123; console.log(&apos;ÁõëÂê¨Á´ØÂè£Ôºö3000&apos;);&#125;); ‰∏≠Èó¥‰ª∂ÁöÑÂÆûÁé∞Ê¥ãËë±Ê®°ÂûãÂÆûÁé∞1234567891011121314151617181920212223242526272829303132333435363738// Âú∫ÊôØÊ®°Êãü// ÂºÇÊ≠• promise Ê®°Êãüconst delay = async () =&gt; &#123; returnnewPromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(); &#125;, 2000); &#125;);&#125;// ‰∏≠Èó¥Èó¥Ê®°Êãüconst fn1 = async (ctx, next) =&gt; &#123; console.log(1); await next(); console.log(2);&#125;const fn2 = async (ctx, next) =&gt; &#123; console.log(3); await delay(); await next(); console.log(4);&#125;const fn3 = async (ctx, next) =&gt; &#123; console.log(5);&#125;const middlewares = [fn1, fn2, fn3];// compose ÂÆûÁé∞Ê¥ãËë±Ê®°Âûãconst compose = (middlewares, ctx) =&gt; &#123; const dispatch = (i) =&gt; &#123; let fn = middlewares[i]; if(!fn)&#123; return Promise.resolve() &#125; return Promise.resolve(fn(ctx, () =&gt; &#123; return dispatch(i+1); &#125;)); &#125; return dispatch(0);&#125;compose(middlewares, 1); compose ÂáΩÊï∞Âú® Application Ê®°Âùó‰∏≠ÁöÑ‰ΩøÁî®Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677const http = require(&apos;http&apos;);const request = &#123; get url()&#123; returnthis.req.url; &#125;&#125;;const response = &#123; get body()&#123; returnthis._body; &#125;, set body(val)&#123; this._body = val; &#125;&#125;;const context = &#123; get url()&#123; returnthis.request.url; &#125;, get body()&#123; returnthis.response.body; &#125;, set body(val)&#123; this.response.body = val; &#125;&#125;class Application&#123; constructor()&#123; this.context = context; this.request = request; this.response = response; // ÂàùÂßãÂåñ‰∏≠Èó¥‰ª∂Êï∞ÁªÑ this.middlewares = []; &#125; // ÈÄöËøápushÁöÑÊñπÂºèËøõË°åÊ∑ªÂä†‰∏≠Èó¥‰ª∂ use(middleware)&#123; this.middlewares.push(middleware); &#125; create Ctx(req, res)&#123; const ctx = Object.create(this.context); ctx.request = Object.create(this.request); ctx.response = Object.create(this.response); ctx.req = ctx.request = req; ctx.res = ctx.response = res; return ctx; &#125; // compose ÂáΩÊï∞ compose(middlewares, ctx)&#123; const dispatch = (i) =&gt; &#123; const fn = middlewares[i]; if(!fn)&#123; return Promise.resolve(); &#125;else&#123; return Promise.resolve(fn(ctx, () =&gt; &#123; dispatch(i +1 ); &#125;)); &#125; &#125; return dispatch(0); &#125; listen(...args)&#123; // ÊîπÁî® async await Âπ∂Ë∞ÉÁî® compose const server = http.createServer(async (req, res) =&gt; &#123; const ctx = this.createCtx(req, res); await this.compose(this.middlewares, ctx); ctx.res.end(ctx.body); &#125;); server.listen(...args); &#125;&#125;module.exports = Application; ÊÄªÁªìÊàñËÆ∏‰Ω†ÁúãÂÆåËøôÂá†ÁßçÊñπÂºè‰ºöËßâÂæóÔºåËøòÊòØ Koa ÂØπ‰∫é compose ÁöÑÂÆûÁé∞ÊñπÂºèÊúÄÂÆπÊòìÁêÜËß£Ôºå‰Ω†‰πüÂèØËÉΩÂíåÊàë‰∏ÄÊ†∑Âú®ÊÑüÊÖ® Redux ÁöÑ‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÂíå async ÂáΩÊï∞ÂÆûÁé∞ÊñπÂºèÊòØÂ¶ÇÊ≠§ÁöÑÂ∑ßÂ¶ôÔºåÊÅ∞ÊÅ∞ JavaScript Âú®Ë¢´Âà´‰∫∫ËØüÁóÖ ‚ÄúÂº±Á±ªÂûã‚Äù„ÄÅ‚Äú‰∏ç‰∏•Ë∞®‚Äù ÁöÑÂêåÊó∂ÔºåÂ∞±ÊòØÂ¶ÇÊ≠§ÁöÑÂÖ∑ÊúâÁÅµÊ¥ªÊÄßÂíåÂàõÈÄ†ÊÄßÔºåÊàë‰ª¨Êó†Ê≥ïÂà§Êñ≠ËøôÊòØ‰ºòÁÇπËøòÊòØÁº∫ÁÇπÔºà‰ªÅËÄÖËßÅ‰ªÅÔºåÊô∫ËÄÖËßÅÊô∫ÔºâÔºå‰ΩÜÊúâ‰∏ÄÁÇπÊòØËÇØÂÆöÁöÑÔºåÂ≠¶‰π† JavaScript ‰∏çË¶ÅË¢´Âº∫Á±ªÂûãËØ≠Ë®ÄÁöÑ ‚ÄúÂ¢®ÂÆàÊàêËßÑ‚Äù ÊâÄÊùüÁºöÔºà‰∏™‰∫∫ËßÇÁÇπÔºåÂº∫Á±ªÂûãËØ≠Ë®ÄÂºÄÂèëËÄÖÂãøÂñ∑ÔºâÔºåÂ∞±ÊòØË¶ÅÂê∏Êî∂ËøôÊ†∑Â∑ßÂ¶ôÁöÑÁºñÁ®ãÊÄùÊÉ≥ÔºåÂÜôÂá∫ compose ËøôÁßç‰ºòÈõÖÂèàÈ´òÈÄºÊ†ºÁöÑ‰ª£Á†ÅÔºåË∑ØÊº´Êº´ÂÖ∂‰øÆËøúÂÖÆÔºåÊÑø‰Ω†Âú®ÊäÄÊúØÁöÑË∑Ø‰∏ä ‚Äú‰∏ÄÂéª‰∏çÂ§çËøî‚Äù„ÄÇ]]></content>
      <tags>
        <tag>koa</tag>
        <tag>node</tag>
        <tag>express</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueË∂ÖÁÆÄÊ¥ÅÂèåÊó•ÂéÜÁªÑ‰ª∂]]></title>
    <url>%2F2018%2F09%2F24%2Fvue%E8%B6%85%E7%AE%80%E6%B4%81%E5%8F%8C%E6%97%A5%E5%8E%86%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Áúã‰∫ÜÈÇ£‰πàÂ§öÁöÑÊó•ÂéÜÁªÑ‰ª∂ÔºåÊ≤°Êúâ‰∏Ä‰∏™Êª°ÊÑèÁöÑ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;template&gt; &lt;div&gt; &lt;!--&lt;div class=&quot;hide&quot;&gt; &lt;mcalendar :child=&quot;date0&quot;&gt;&lt;/mcalendar&gt; &lt;mcalendar :child=&quot;date1&quot;&gt;&lt;/mcalendar&gt; &lt;/div&gt;--&gt; &lt;div&gt; &lt;mdatapick :child=&apos;mdatapickdata&apos; @cllback=&quot;callback&quot;&gt;&lt;/mdatapick&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &apos;@/assets/css/reset.less&apos; import mcalendar from &apos;./mdata&apos; import mdatapick from &apos;./mdatapick&apos; export default &#123; data() &#123; return &#123; // date0: &#123; // now: &quot;2018-09-05&quot;, // end: &quot;2018-09-28&quot;, // callback: function(d) &#123; // console.log(d); // &#125; // &#125;, // date1: &#123; // now: &quot;2018-11-25&quot;, // start: &quot;2018-11-05&quot;, // callback: function(d) &#123; // console.log(d); // &#125; // &#125;, mdatapickdata: &#123; start: &quot;2018-09-29&quot;, end: &quot;2018-10-18&quot; &#125; &#125; &#125;, methods: &#123; callback(startDate, endDate) &#123; this.mdatapickdata.start=startDate; this.mdatapickdata.end=endDate; &#125; &#125;, components: &#123; mcalendar, mdatapick &#125; &#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409&lt;template&gt; &lt;div class=&quot;m_calender&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;date_input&quot; readonly=&quot;readonly&quot; v-model=&quot;dataMsg&quot; @click=&quot;toggleShow&quot;&gt; &lt;div class=&quot;datamain&quot; v-if=&quot;open&quot;&gt; &lt;div class=&quot;datacon&quot;&gt; &lt;div class=&quot;con&quot;&gt; &lt;div class=&quot;date_main&quot;&gt; &lt;div class=&quot;title&quot;&gt; &lt;div class=&quot;time&quot;&gt;ÂºÄÂßãÊó•Êúü&lt;/div&gt; &lt;div class=&quot;timenum&quot;&gt;&#123;&#123;start&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;date_top&quot;&gt; &lt;em class=&quot;prev_month hoverhands&quot; @click=&quot;prev(&apos;start&apos;)&quot;&gt;&lt;/em&gt; &lt;p&gt; &lt;span class=&quot;top_month&quot;&gt;&#123;&#123;getMonthText(startMonth)&#125;&#125;&lt;/span&gt; &lt;span class=&quot;top_year&quot;&gt;&#123;&#123;startYear&#125;&#125;&lt;/span&gt; &lt;/p&gt; &lt;em v-if=&quot;startNext&quot; class=&quot;next_month hoverhands&quot; @click=&quot;next(&apos;start&apos;)&quot;&gt;&lt;/em&gt; &lt;/div&gt; &lt;div class=&quot;date_week&quot;&gt; &lt;em&gt;Âë®Êó•&lt;/em&gt; &lt;em&gt;Âë®‰∏Ä&lt;/em&gt; &lt;em&gt;Âë®‰∫å&lt;/em&gt; &lt;em&gt;Âë®‰∏â&lt;/em&gt; &lt;em&gt;Âë®Âõõ&lt;/em&gt; &lt;em&gt;Âë®‰∫î&lt;/em&gt; &lt;em&gt;Âë®ÂÖ≠&lt;/em&gt; &lt;/div&gt; &lt;div class=&quot;date_day&quot;&gt; &lt;em v-for=&quot;s in startlist&quot; :class=&quot;s.className&quot; @click=&quot;clickDate(s,&apos;start&apos;)&quot;&gt;&#123;&#123; s.num &#125;&#125;&lt;/em&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;con&quot;&gt; &lt;div class=&quot;date_main&quot;&gt; &lt;div class=&quot;title&quot;&gt; &lt;div class=&quot;time&quot;&gt;ÁªìÊùüÊó•Êúü&lt;/div&gt; &lt;div class=&quot;timenum&quot;&gt;&#123;&#123;end&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;date_top&quot;&gt; &lt;em v-if=&quot;endPrev&quot; class=&quot;prev_month hoverhands&quot; @click=&quot;prev(&apos;end&apos;)&quot;&gt;&lt;/em&gt; &lt;p&gt; &lt;span class=&quot;top_month&quot;&gt;&#123;&#123;getMonthText(endMonth)&#125;&#125;&lt;/span&gt; &lt;span class=&quot;top_year&quot;&gt;&#123;&#123;endYear&#125;&#125;&lt;/span&gt; &lt;/p&gt; &lt;em class=&quot;next_month hoverhands&quot; @click=&quot;next(&apos;end&apos;)&quot;&gt;&lt;/em&gt; &lt;/div&gt; &lt;div class=&quot;date_week&quot;&gt; &lt;em&gt;Âë®Êó•&lt;/em&gt; &lt;em&gt;Âë®‰∏Ä&lt;/em&gt; &lt;em&gt;Âë®‰∫å&lt;/em&gt; &lt;em&gt;Âë®‰∏â&lt;/em&gt; &lt;em&gt;Âë®Âõõ&lt;/em&gt; &lt;em&gt;Âë®‰∫î&lt;/em&gt; &lt;em&gt;Âë®ÂÖ≠&lt;/em&gt; &lt;/div&gt; &lt;div class=&quot;date_day&quot;&gt; &lt;em v-for=&quot;s in endlist&quot; :class=&quot;s.className&quot; @click=&quot;clickDate(s,&apos;end&apos;)&quot;&gt;&#123;&#123; s.num &#125;&#125;&lt;/em&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;databtn&quot;&gt; &lt;div class=&quot;btn hoverhands&quot; @click=&quot;toggleShow&quot;&gt;ÂèñÊ∂à&lt;/div&gt; &lt;div class=&quot;btn active hoverhands&quot; @click=&quot;Determine&quot;&gt;Á°ÆÂÆö&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; props: [&quot;child&quot;], data: function() &#123; return &#123; open: false, start: this.child.start, startYear: &apos;&apos;, startMonth: &apos;&apos;, startFirstWeek: &apos;&apos;, startDaySum: &apos;&apos;, startlist: [], startNext:true, end: this.child.end, endYear: &apos;&apos;, endMonth: &apos;&apos;, endFirstWeek: &apos;&apos;, endDaySum: &apos;&apos;, endlist: [], endPrev:true &#125; &#125;, computed: &#123; activeStartData() &#123; return new Date(this.start).getTime(); &#125;, activeEndData() &#123; return new Date(this.end).getTime(); &#125;, dataMsg() &#123; if(this.child) &#123; return `$&#123;this.child.start&#125; ~ $&#123;this.child.end&#125;` &#125; &#125;, check(tag) &#123; var startTime = new Date(`$&#123;this.startYear&#125;-$&#123;this.checkVal(this.startMonth)&#125;-01`).getTime(); var endTime = new Date(`$&#123;this.endYear&#125;-$&#123;this.checkVal(this.endMonth)&#125;-01`).getTime(); if(endTime &lt;= startTime) &#123; return false; &#125; return true; &#125; &#125;, mounted() &#123; var startDate = new Date(this.start); this.startYear = startDate.getFullYear(); this.startMonth = startDate.getMonth() + 1; var endDate = new Date(this.end); this.endYear = endDate.getFullYear(); this.endMonth = endDate.getMonth() + 1; this.init(); &#125;, methods: &#123; toggleShow() &#123; this.open = !this.open; &#125;, init() &#123; this.startFirstWeek = new Date(`$&#123;this.startYear&#125;-$&#123;this.checkVal(this.startMonth)&#125;-01`).getDay(); this.startDaySum = this.getMonthDaySum(`$&#123;this.startYear&#125;-$&#123;this.checkVal(this.startMonth)&#125;-01`); this.startlist = this.initDate(this.startFirstWeek, this.startDaySum, this.startYear, this.startMonth, this.activeStartData); this.endFirstWeek = new Date(`$&#123;this.endYear&#125;-$&#123;this.checkVal(this.endMonth)&#125;-01`).getDay(); this.endDaySum = this.getMonthDaySum(`$&#123;this.endYear&#125;-$&#123;this.checkVal(this.endMonth)&#125;-1`); this.endlist = this.initDate(this.endFirstWeek, this.endDaySum, this.endYear, this.endMonth, this.activeEndData) &#125;, prev(tag) &#123; if(tag == &apos;end&apos;) &#123; if(!this.check) &#123; return false; &#125; &#125; this[tag + &apos;Month&apos;]--; if(!this[tag + &apos;Month&apos;]) &#123; this[tag + &apos;Month&apos;] = 12; this[tag + &apos;Year&apos;]--; &#125; this.$nextTick(() =&gt; &#123; this.init(); &#125;) &#125;, next(tag) &#123; if(tag == &apos;start&apos;) &#123; if(!this.check) &#123; return false; &#125; &#125; this[tag + &apos;Month&apos;]++; if(this[tag + &apos;Month&apos;] &gt; 12) &#123; this[tag + &apos;Month&apos;] = 1; this[tag + &apos;Year&apos;]++; &#125; this.$nextTick(() =&gt; &#123; this.init(); &#125;) &#125;, getMonthDaySum(val) &#123; //Ëé∑ÂèñÂΩìÂâçÊúàÊúâÂ§öÂ∞ëÂ§© var curDate = new Date(val); var curMonth = curDate.getMonth(); curDate.setMonth(curMonth + 1); curDate.setDate(0); return curDate.getDate(); &#125;, initDate(FirstWeek, DaySum, Year, Month, activeData) &#123; var list = []; for(var i = 1; i &lt;= FirstWeek; i++) &#123; var Dates = new Date(`$&#123;Year&#125;-$&#123;this.checkVal(Month)&#125;-01`); Dates.setDate(i - FirstWeek); list.push(&#123; &quot;className&quot;: &quot;disabled&quot;, &quot;num&quot;: Dates.getDate(), &quot;date&quot;: `$&#123;Year&#125;-$&#123;this.checkVal(Month-1)&#125;-$&#123;Dates.getDate()&#125;` &#125;) &#125; for(var i = 1; i &lt;= DaySum; i++) &#123; var isActive = new Date(`$&#123;Year&#125;-$&#123;this.checkVal(Month)&#125;-$&#123;this.checkVal(i)&#125;`).getTime() == activeData; list.push(&#123; &quot;className&quot;: isActive ? &apos;on&apos; : &apos;&apos;, &quot;num&quot;: i, &quot;date&quot;: `$&#123;Year&#125;-$&#123;this.checkVal(Month)&#125;-$&#123;this.checkVal(i)&#125;` &#125;) &#125; var nextData = new Date(`$&#123;Year&#125;-$&#123;this.checkVal(Month)&#125;-$&#123;DaySum&#125;`).getDay(); for(var i = 1; i &lt;= 6 - nextData; i++) &#123; list.push(&#123; &quot;className&quot;: &quot;disabled&quot;, &quot;num&quot;: i, &quot;date&quot;: `$&#123;Year&#125;-$&#123;this.checkVal(Month+1)&#125;-$&#123;this.checkVal(i)&#125;` &#125;) &#125; return list; &#125;, checkVal(num) &#123; num = +num; return +num &lt; 10 ? &quot;0&quot; + num : &apos;&apos; + num; &#125;, clickDate(val, tag) &#123; if(val.className !== &apos;disabled&apos;) &#123; this[tag] = val.date; this.$nextTick(() =&gt; &#123; this.init(); &#125;) &#125; &#125;, Determine() &#123; this.toggleShow(); this.$emit(&quot;cllback&quot;, this.start, this.end) &#125;, getMonthText(m) &#123; return [&apos;&apos;, &apos;‰∏ÄÊúà&apos;, &apos;‰∫åÊúà&apos;, &apos;‰∏âÊúà&apos;, &apos;ÂõõÊúà&apos;, &apos;‰∫îÊúà&apos;, &apos;ÂÖ≠Êúà&apos;, &apos;‰∏ÉÊúà&apos;, &apos;ÂÖ´Êúà&apos;, &apos;‰πùÊúà&apos;, &apos;ÂçÅÊúà&apos;, &apos;ÂçÅ‰∏ÄÊúà&apos;, &apos;ÂçÅ‰∫åÊúà&apos;][m] &#125; &#125; &#125;&lt;/script&gt;&lt;style lang=&quot;less&quot; scoped&gt; .m_calender &#123; position: relative; display: block; margin: 0 auto; .date_input &#123; margin: 0 auto; width: 200px; border: 1px solid red; text-align: center; height: 20px; line-height: 20px; cursor: pointer; display: block; color: #484848; font-size: 12px; &#125; .datamain &#123; border: 1px solid #E6E6E6; position: absolute; left: 50%; top: 30px; transform: translateX(-50%); &amp;::before &#123; content: &apos;&apos;; position: absolute; left: 50%; transform: translateX(-50%); top: -18px; width: 0; height: 0; border-top: 9px solid rgba(0, 0, 0, 0); border-right: 9px solid rgba(0, 0, 0, 0); border-bottom: 9px solid #E6E6E6; border-left: 9px solid rgba(0, 0, 0, 0); &#125; &amp;::after &#123; content: &apos;&apos;; position: absolute; left: 50%; transform: translateX(-50%); top: -15px; width: 0; height: 0; border-top: 8px solid rgba(0, 0, 0, 0); border-right: 8px solid rgba(0, 0, 0, 0); border-bottom: 8px solid white; border-left: 8px solid rgba(0, 0, 0, 0); &#125; .datacon &#123; display: flex; .con &#123; margin: 5px 10px; .date_main &#123; width: 232px; background: #FFFFFF; z-index: 20; .title &#123; padding: 8px 4px; display: flex; justify-content: space-between; align-items: center; font-size: 14px; .time &#123; color: #939393; &#125; .timenum &#123; color: #333333; &#125; &#125; .date_top &#123; height: 28px; line-height: 28px; padding: 0 6px; display: flex; justify-content: space-around; align-items: center; em &#123; width: 14px; font-style: normal; margin: 9px 4px; &amp;.prev_month &#123; width: 0px; height: 0px; border-top: 7px solid rgba(0, 0, 0, 0); border-bottom: 7px solid rgba(0, 0, 0, 0); border-right: 7px solid #A1A1A1; border-left: 7px solid rgba(0, 0, 0, 0); &#125; &amp;.next_month &#123; width: 0px; height: 0px; border-top: 7px solid rgba(0, 0, 0, 0); border-bottom: 7px solid rgba(0, 0, 0, 0); border-left: 7px solid #A1A1A1; border-right: 7px solid rgba(0, 0, 0, 0); &#125; &#125; p &#123; width: 100px; flex: 1; font-size: 12px; font-weight: 700; text-align: center; span &#123; width: 40px; display: inline-block; text-align: center; &#125; &#125; &#125; .date_week &#123; height: 24px; em &#123; box-sizing: border-box; font-style: normal; width: 33px; height: 24px; line-height: 24px; display: block; float: left; color: #484848; font-size: 12px; text-align: center; &#125; &#125; .date_day &#123; overflow: hidden; border: 1px solid #E6E6E6; em &#123; font-style: normal; width: 32px; height: 20px; line-height: 20px; display: block; float: left; color: #484848; font-size: 12px; text-align: center; border-right: 1px solid #E6E6E6; cursor: pointer; &amp;:nth-child(7n) &#123; border-right: 0px solid #E6E6E6; &#125; &amp;.on &#123; color: #FFFFFF; background-color: #E76E00; &#125; &amp;.disabled &#123; color: #CCCCCC; background-color: #FFFFFF; cursor: default; &#125; &#125; &#125; &#125; &#125; &#125; .databtn &#123; text-align: right; display: flex; justify-content: flex-end; align-items: center; padding: 5px 0px 11px; .btn &#123; display: flex; justify-content: center; align-items: center; box-sizing: border-box; width: 56px; height: 24px; border: 1px solid red; font-size: 12px; border: 1px solid #E6E6E6; border-radius: 2px; &amp;.active &#123; color: wheat; margin: 0px 8px; background: #EE6E25; &#125; &#125; &#125; &#125; &#125;&lt;/style&gt;]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Server-Sent Events:ÊúçÂä°Âô®Êé®ÈÄÅ‰∫ã‰ª∂,‰ΩøÁî®ÈïøÈìæÊé•ËøõË°åÈÄöËÆØ]]></title>
    <url>%2F2018%2F09%2F11%2FServer-Sent-Events-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A8%E9%80%81%E4%BA%8B%E4%BB%B6-%E4%BD%BF%E7%94%A8%E9%95%BF%E9%93%BE%E6%8E%A5%E8%BF%9B%E8%A1%8C%E9%80%9A%E8%AE%AF%2F</url>
    <content type="text"><![CDATA[Ê¶ÇËø∞‰º†ÁªüÁöÑÁΩëÈ°µÈÉΩÊòØÊµèËßàÂô®ÂêëÊúçÂä°Âô®‚ÄúÊü•ËØ¢‚ÄùÊï∞ÊçÆÔºå‰ΩÜÊòØÂæàÂ§öÂú∫ÂêàÔºåÊúÄÊúâÊïàÁöÑÊñπÂºèÊòØÊúçÂä°Âô®ÂêëÊµèËßàÂô®‚ÄúÂèëÈÄÅ‚ÄùÊï∞ÊçÆ„ÄÇÊØîÂ¶ÇÔºåwebpackÁöÑHRMÔºåÊØèÂΩìÊî∂Âà∞Êñ∞ÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÔºåÊúçÂä°Âô®Â∞±ÂêëÊµèËßàÂô®ÂèëÈÄÅ‰∏Ä‰∏™‚ÄúÈÄöÁü•‚ÄùÔºåËøôË¶ÅÊØîÊµèËßàÂô®ÊåâÊó∂ÂêëÊúçÂä°Âô®Êü•ËØ¢ÔºàpollingÔºâÊõ¥ÊúâÊïàÁéá„ÄÇ ÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºàServer-Sent EventsÔºåÁÆÄÁß∞SSEÔºâÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåËÄåÊèêÂá∫ÁöÑ‰∏ÄÁßçÊñ∞APIÔºåÈÉ®ÁΩ≤Âú®EventSourceÂØπË±°‰∏ä„ÄÇÁõÆÂâçÔºåÈô§‰∫ÜIEÔºåÂÖ∂‰ªñ‰∏ªÊµÅÊµèËßàÂô®ÈÉΩÊîØÊåÅ„ÄÇ ÁÆÄÂçïËØ¥ÔºåÊâÄË∞ìSSEÔºåÂ∞±ÊòØÊµèËßàÂô®ÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™HTTPËØ∑Ê±ÇÔºåÁÑ∂ÂêéÊúçÂä°Âô®‰∏çÊñ≠ÂçïÂêëÂú∞ÂêëÊµèËßàÂô®Êé®ÈÄÅ‚Äú‰ø°ÊÅØ‚ÄùÔºàmessageÔºâ„ÄÇËøôÁßç‰ø°ÊÅØÂú®Ê†ºÂºè‰∏äÂæàÁÆÄÂçïÔºåÂ∞±ÊòØ‚Äú‰ø°ÊÅØ‚ÄùÂä†‰∏äÂâçÁºÄ‚Äúdata: ‚ÄùÔºåÁÑ∂Âêé‰ª•‚Äú\n\n‚ÄùÁªìÂ∞æ„ÄÇ $ curl http://example.com/dates data: 1394572346452 data: 1394572347457 data: 1394572348463 SSE‰∏éWebSocketÊúâÁõ∏‰ººÂäüËÉΩÔºåÈÉΩÊòØÁî®Êù•Âª∫Á´ãÊµèËßàÂô®‰∏éÊúçÂä°Âô®‰πãÈó¥ÁöÑÈÄö‰ø°Ê∏†ÈÅì„ÄÇ‰∏§ËÄÖÁöÑÂå∫Âà´Âú®‰∫éÔºö WebSocketÊòØÂÖ®ÂèåÂ∑•ÈÄöÈÅìÔºåÂèØ‰ª•ÂèåÂêëÈÄö‰ø°ÔºåÂäüËÉΩÊõ¥Âº∫ÔºõSSEÊòØÂçïÂêëÈÄöÈÅìÔºåÂè™ËÉΩÊúçÂä°Âô®ÂêëÊµèËßàÂô®Á´ØÂèëÈÄÅ„ÄÇ WebSocketÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÂçèËÆÆÔºåÈúÄË¶ÅÊúçÂä°Âô®Á´ØÊîØÊåÅÔºõSSEÂàôÊòØÈÉ®ÁΩ≤Âú®HTTPÂçèËÆÆ‰πã‰∏äÁöÑÔºåÁé∞ÊúâÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÈÉΩÊîØÊåÅ„ÄÇ SSEÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÂçèËÆÆÔºåÁõ∏ÂØπÁÆÄÂçïÔºõWebSocketÊòØ‰∏ÄÁßçËæÉÈáçÁöÑÂçèËÆÆÔºåÁõ∏ÂØπÂ§çÊùÇ„ÄÇ SSEÈªòËÆ§ÊîØÊåÅÊñ≠Á∫øÈáçËøûÔºåWebSocketÂàôÈúÄË¶ÅÈ¢ùÂ§ñÈÉ®ÁΩ≤„ÄÇ SSEÊîØÊåÅËá™ÂÆö‰πâÂèëÈÄÅÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ ‰ªé‰∏äÈù¢ÁöÑÊØîËæÉÂèØ‰ª•ÁúãÂá∫Ôºå‰∏§ËÄÖÂêÑÊúâÁâπÁÇπÔºåÈÄÇÂêà‰∏çÂêåÁöÑÂú∫Âêà„ÄÇ ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÊ¶ÇËø∞È¶ñÂÖàÔºå‰ΩøÁî®‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºåÊ£ÄÊµãÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅSSE„ÄÇ if (!!window.EventSource) { // ... } ÁÑ∂ÂêéÔºåÈÉ®ÁΩ≤SSEÂ§ßÊ¶ÇÂ¶Ç‰∏ã„ÄÇ var source = new EventSource(&apos;/dates&apos;); source.onmessage = function(e){ console.log(e.data); }; // ÊàñËÄÖ source.addEventListener(&apos;message&apos;, function(e){}) Âª∫Á´ãËøûÊé•È¶ñÂÖàÔºåÊµèËßàÂô®ÂêëÊúçÂä°Âô®ÂèëËµ∑ËøûÊé•ÔºåÁîüÊàê‰∏Ä‰∏™EventSourceÁöÑÂÆû‰æãÂØπË±°„ÄÇ var source = new EventSource(url); ÂèÇÊï∞urlÂ∞±ÊòØÊúçÂä°Âô®ÁΩëÂùÄÔºåÂøÖÈ°ª‰∏éÂΩìÂâçÁΩëÈ°µÁöÑÁΩëÂùÄÂú®Âêå‰∏Ä‰∏™ÁΩëÂüüÔºàdomainÔºâÔºåËÄå‰∏îÂçèËÆÆÂíåÁ´ØÂè£ÈÉΩÂøÖÈ°ªÁõ∏Âêå„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Âª∫Á´ãËøûÊé•ÁöÑÂÆû‰æã„ÄÇ if (!!window.EventSource) { var source = new EventSource(&apos;http://127.0.0.1/sses/&apos;); } Êñ∞ÁîüÊàêÁöÑEventSourceÂÆû‰æãÂØπË±°ÔºåÊúâ‰∏Ä‰∏™readyStateÂ±ûÊÄßÔºåË°®ÊòéËøûÊé•ÊâÄÂ§ÑÁöÑÁä∂ÊÄÅ„ÄÇ source.readyState ÂÆÉÂèØ‰ª•Âèñ‰ª•‰∏ãÂÄºÔºö 0ÔºåÁõ∏ÂΩì‰∫éÂ∏∏ÈáèEventSource.CONNECTINGÔºåË°®Á§∫ËøûÊé•ËøòÊú™Âª∫Á´ãÔºåÊàñËÄÖËøûÊé•Êñ≠Á∫ø„ÄÇ 1ÔºåÁõ∏ÂΩì‰∫éÂ∏∏ÈáèEventSource.OPENÔºåË°®Á§∫ËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•Êé•ÂèóÊï∞ÊçÆ„ÄÇ 2ÔºåÁõ∏ÂΩì‰∫éÂ∏∏ÈáèEventSource.CLOSEDÔºåË°®Á§∫ËøûÊé•Â∑≤Êñ≠Ôºå‰∏î‰∏ç‰ºöÈáçËøû„ÄÇ open‰∫ã‰ª∂ËøûÊé•‰∏ÄÊó¶Âª∫Á´ãÔºåÂ∞±‰ºöËß¶Âèëopen‰∫ã‰ª∂ÔºåÂèØ‰ª•ÂÆö‰πâÁõ∏Â∫îÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ source.onopen = function(event) { // handle open event }; // ÊàñËÄÖ source.addEventListener(&quot;open&quot;, function(event) { // handle open event }, false); message‰∫ã‰ª∂Êî∂Âà∞Êï∞ÊçÆÂ∞±‰ºöËß¶Âèëmessage‰∫ã‰ª∂„ÄÇ source.onmessage = function(event) { var data = event.data; var origin = event.origin; var lastEventId = event.lastEventId; // handle message }; // ÊàñËÄÖ source.addEventListener(&quot;message&quot;, function(event) { var data = event.data; var origin = event.origin; var lastEventId = event.lastEventId; // handle message }, false); ÂèÇÊï∞ÂØπË±°eventÊúâÂ¶Ç‰∏ãÂ±ûÊÄßÔºö dataÔºöÊúçÂä°Âô®Á´Ø‰º†ÂõûÁöÑÊï∞ÊçÆÔºàÊñáÊú¨Ê†ºÂºèÔºâ„ÄÇ originÔºö ÊúçÂä°Âô®Á´ØURLÁöÑÂüüÂêçÈÉ®ÂàÜÔºåÂç≥ÂçèËÆÆ„ÄÅÂüüÂêçÂíåÁ´ØÂè£„ÄÇ lastEventIdÔºöÊï∞ÊçÆÁöÑÁºñÂè∑ÔºåÁî±ÊúçÂä°Âô®Á´ØÂèëÈÄÅ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÁºñÂè∑ÔºåËøô‰∏™Â±ûÊÄß‰∏∫Á©∫„ÄÇ error‰∫ã‰ª∂Â¶ÇÊûúÂèëÁîüÈÄö‰ø°ÈîôËØØÔºàÊØîÂ¶ÇËøûÊé•‰∏≠Êñ≠ÔºâÔºåÂ∞±‰ºöËß¶Âèëerror‰∫ã‰ª∂„ÄÇ source.onerror = function(event) { // handle error event }; // ÊàñËÄÖ source.addEventListener(&quot;error&quot;, function(event) { // handle error event }, false); Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÊúçÂä°Âô®ÂèØ‰ª•‰∏éÊµèËßàÂô®Á∫¶ÂÆöËá™ÂÆö‰πâ‰∫ã‰ª∂„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂèëÈÄÅÂõûÊù•ÁöÑÊï∞ÊçÆ‰∏ç‰ºöËß¶Âèëmessage‰∫ã‰ª∂„ÄÇ source.addEventListener(&quot;foo&quot;, function(event) { var data = event.data; var origin = event.origin; var lastEventId = event.lastEventId; // handle message }, false); ‰∏äÈù¢‰ª£Á†ÅË°®Á§∫ÔºåÊµèËßàÂô®ÂØπfoo‰∫ã‰ª∂ËøõË°åÁõëÂê¨„ÄÇ closeÊñπÊ≥ïcloseÊñπÊ≥ïÁî®‰∫éÂÖ≥Èó≠ËøûÊé•„ÄÇ source.close(); Êï∞ÊçÆÊ†ºÂºèÊ¶ÇËø∞ÊúçÂä°Âô®Á´ØÂèëÈÄÅÁöÑÊï∞ÊçÆÁöÑHTTPÂ§¥‰ø°ÊÅØÂ¶Ç‰∏ãÔºö Content-Type: text/event-stream Cache-Control: no-cache Connection: keep-alive ÂêéÈù¢ÁöÑË°åÈÉΩÊòØÂ¶Ç‰∏ãÊ†ºÂºèÔºö field: value\n fieldÂèØ‰ª•ÂèñÂõõ‰∏™ÂÄºÔºö‚Äúdata‚Äù, ‚Äúevent‚Äù, ‚Äúid‚Äù, or ‚Äúretry‚ÄùÔºå‰πüÂ∞±ÊòØËØ¥ÊúâÂõõÁ±ªÂ§¥‰ø°ÊÅØ„ÄÇÊØèÊ¨°HTTPÈÄö‰ø°ÂèØ‰ª•ÂåÖÂê´ËøôÂõõÁ±ªÂ§¥‰ø°ÊÅØ‰∏≠ÁöÑ‰∏ÄÁ±ªÊàñÂ§öÁ±ª„ÄÇ\n‰ª£Ë°®Êç¢Ë°åÁ¨¶„ÄÇ ‰ª•ÂÜíÂè∑ÂºÄÂ§¥ÁöÑË°åÔºåË°®Á§∫Ê≥®Èáä„ÄÇÈÄöÂ∏∏ÔºåÊúçÂä°Âô®ÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥Â∞±‰ºöÂêëÊµèËßàÂô®ÂèëÈÄÅ‰∏Ä‰∏™Ê≥®ÈáäÔºå‰øùÊåÅËøûÊé•‰∏ç‰∏≠Êñ≠„ÄÇ : This is a comment ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õ‰æãÂ≠ê„ÄÇ : this is a test stream\n\n data: some text\n\n data: another message\n data: with two lines \n\n dataÔºöÊï∞ÊçÆÊ†èÊï∞ÊçÆÂÜÖÂÆπÁî®dataË°®Á§∫ÔºåÂèØ‰ª•Âç†Áî®‰∏ÄË°åÊàñÂ§öË°å„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÂè™Êúâ‰∏ÄË°åÔºåÂàôÂÉè‰∏ãÈù¢ËøôÊ†∑Ôºå‰ª•‚Äú\n\n‚ÄùÁªìÂ∞æ„ÄÇ data: message\n\n Â¶ÇÊûúÊï∞ÊçÆÊúâÂ§öË°åÔºåÂàôÊúÄÂêé‰∏ÄË°åÁî®‚Äú\n\n‚ÄùÁªìÂ∞æÔºåÂâçÈù¢Ë°åÈÉΩÁî®‚Äú\n‚ÄùÁªìÂ∞æ„ÄÇ data: begin message\n data: continue message\n\n ÊÄª‰πãÔºåÊúÄÂêé‰∏ÄË°åÁöÑdataÔºåÁªìÂ∞æË¶ÅÁî®‰∏§‰∏™Êç¢Ë°åÁ¨¶Âè∑ÔºåË°®Á§∫Êï∞ÊçÆÁªìÊùü„ÄÇ ‰ª•ÂèëÈÄÅJSONÊ†ºÂºèÁöÑÊï∞ÊçÆ‰∏∫‰æã„ÄÇ data: {\n data: &quot;foo&quot;: &quot;bar&quot;,\n data: &quot;baz&quot;, 555\n data: }\n\n idÔºöÊï∞ÊçÆÊ†áËØÜÁ¨¶Êï∞ÊçÆÊ†áËØÜÁ¨¶Áî®idË°®Á§∫ÔºåÁõ∏ÂΩì‰∫éÊØè‰∏ÄÊù°Êï∞ÊçÆÁöÑÁºñÂè∑„ÄÇ id: msg1\n data: message\n\n ÊµèËßàÂô®Áî®lastEventIdÂ±ûÊÄßËØªÂèñËøô‰∏™ÂÄº„ÄÇ‰∏ÄÊó¶ËøûÊé•Êñ≠Á∫øÔºåÊµèËßàÂô®‰ºöÂèëÈÄÅ‰∏Ä‰∏™HTTPÂ§¥ÔºåÈáåÈù¢ÂåÖÂê´‰∏Ä‰∏™ÁâπÊÆäÁöÑ‚ÄúLast-Event-ID‚ÄùÂ§¥‰ø°ÊÅØÔºåÂ∞ÜËøô‰∏™ÂÄºÂèëÈÄÅÂõûÊù•ÔºåÁî®Êù•Â∏ÆÂä©ÊúçÂä°Âô®Á´ØÈáçÂª∫ËøûÊé•„ÄÇÂõ†Ê≠§ÔºåËøô‰∏™Â§¥‰ø°ÊÅØÂèØ‰ª•Ë¢´ËßÜ‰∏∫‰∏ÄÁßçÂêåÊ≠•Êú∫Âà∂„ÄÇ eventÊ†èÔºöËá™ÂÆö‰πâ‰ø°ÊÅØÁ±ªÂûãeventÂ§¥‰ø°ÊÅØË°®Á§∫Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊàñËÄÖËØ¥Êï∞ÊçÆÁöÑÂêçÂ≠ó„ÄÇ event: foo\n data: a foo event\n\n data: an unnamed event\n\n event: bar\n data: a bar event\n\n ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂàõÈÄ†‰∫Ü‰∏âÊù°‰ø°ÊÅØ„ÄÇÁ¨¨‰∏ÄÊù°ÊòØfooÔºåËß¶ÂèëÊµèËßàÂô®Á´ØÁöÑfoo‰∫ã‰ª∂ÔºõÁ¨¨‰∫åÊù°Êú™ÂèñÂêçÔºåË°®Á§∫ÈªòËÆ§Á±ªÂûãÔºåËß¶ÂèëÊµèËßàÂô®Á´ØÁöÑmessage‰∫ã‰ª∂ÔºõÁ¨¨‰∏âÊù°ÊòØbarÔºåËß¶ÂèëÊµèËßàÂô®Á´ØÁöÑbar‰∫ã‰ª∂„ÄÇ retryÔºöÊúÄÂ§ßÈó¥ÈöîÊó∂Èó¥ÊµèËßàÂô®ÈªòËÆ§ÁöÑÊòØÔºåÂ¶ÇÊûúÊúçÂä°Âô®Á´Ø‰∏âÁßíÂÜÖÊ≤°ÊúâÂèëÈÄÅ‰ªª‰Ωï‰ø°ÊÅØÔºåÂàôÂºÄÂßãÈáçËøû„ÄÇÊúçÂä°Âô®Á´ØÂèØ‰ª•Áî®retryÂ§¥‰ø°ÊÅØÔºåÊåáÂÆöÈÄö‰ø°ÁöÑÊúÄÂ§ßÈó¥ÈöîÊó∂Èó¥„ÄÇ retry: 10000\n ÊúçÂä°Âô®‰ª£Á†ÅÊúçÂä°Âô®Á´ØÂèëÈÄÅ‰∫ã‰ª∂ÔºåË¶ÅÊ±ÇÊúçÂä°Âô®‰∏éÊµèËßàÂô®‰øùÊåÅËøûÊé•„ÄÇÂØπ‰∫é‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂Êù•ËØ¥ÔºåÊâÄÊ∂àËÄóÁöÑËµÑÊ∫êÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇApacheÊúçÂä°Âô®ÔºåÊØè‰∏™ËøûÊé•Â∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÂ¶ÇÊûúË¶ÅÁª¥ÊåÅÂ§ßÈáèËøûÊé•ÔºåÂäøÂøÖË¶ÅÊ∂àËÄóÂ§ßÈáèËµÑÊ∫ê„ÄÇNode.jsÂàôÊòØÊâÄÊúâËøûÊé•ÈÉΩ‰ΩøÁî®Âêå‰∏Ä‰∏™Á∫øÁ®ãÔºåÂõ†Ê≠§Ê∂àËÄóÁöÑËµÑÊ∫ê‰ºöÂ∞èÂæóÂ§öÔºå‰ΩÜÊòØËøôË¶ÅÊ±ÇÊØè‰∏™ËøûÊé•‰∏çËÉΩÂåÖÂê´ÂæàËÄóÊó∂ÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÁ£ÅÁõòÁöÑIOËØªÂÜô„ÄÇ ‰∏ãÈù¢ÊòØNode.jsÁöÑÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÁöÑ‰ª£Á†ÅÂÆû‰æã„ÄÇ var http = require(&quot;http&quot;); http.createServer(function (req, res) { var fileName = &quot;.&quot; + req.url; if (fileName === &quot;./stream&quot;) { res.writeHead(200, {&quot;Content-Type&quot;:&quot;text/event-stream&quot;, &quot;Cache-Control&quot;:&quot;no-cache&quot;, &quot;Connection&quot;:&quot;keep-alive&quot;}); res.write(&quot;retry: 10000\n&quot;); res.write(&quot;event: connecttime\n&quot;); res.write(&quot;data: &quot; + (new Date()) + &quot;\n\n&quot;); res.write(&quot;data: &quot; + (new Date()) + &quot;\n\n&quot;); interval = setInterval(function() { res.write(&quot;data: &quot; + (new Date()) + &quot;\n\n&quot;); }, 1000); req.connection.addListener(&quot;close&quot;, function () { clearInterval(interval); }, false); } }).listen(80, &quot;127.0.0.1&quot;);]]></content>
      <tags>
        <tag>Server-Sent Events</tag>
        <tag>ÊúçÂä°Âô®Êé®ÈÄÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÊâãÂäøÂ∫ì]]></title>
    <url>%2F2018%2F09%2F03%2FVue%E6%89%8B%E5%8A%BF%E5%BA%93%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111function vueTouch(el, binding, type) &#123; var _this = this; this.obj = el; this.binding = binding; this.touchType = type; this.vueTouches = &#123; x: 0, y: 0 &#125;; this.vueMoves = true; this.vueLeave = true; this.longTouch = true; this.vueCallBack = typeof(binding.value) == &quot;object&quot; ? binding.value.fn : binding.value; this.obj.addEventListener(&quot;touchstart&quot;, function(e) &#123; _this.start(e); &#125;, false); this.obj.addEventListener(&quot;touchmove&quot;, function(e) &#123; _this.move(e); &#125;, false); this.obj.addEventListener(&quot;touchend&quot;, function(e) &#123; _this.end(e); &#125;, false);&#125;;vueTouch.prototype = &#123; start(e) &#123; this.vueMoves = true; this.vueLeave = true; this.longTouch = true; this.vueTouches = &#123; x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY &#125;; this.time = setTimeout(function() &#123; if(this.vueLeave &amp;&amp; this.vueMoves) &#123; this.touchType == &quot;longtap&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); this.longTouch = false; &#125;; &#125;.bind(this), 1000); &#125;, end(e) &#123; var disX = e.changedTouches[0].pageX - this.vueTouches.x; var disY = e.changedTouches[0].pageY - this.vueTouches.y; clearTimeout(this.time); if(Math.abs(disX) &gt; 10 || Math.abs(disY) &gt; 100) &#123; this.touchType == &quot;swipe&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); if(Math.abs(disX) &gt; Math.abs(disY)) &#123; if(disX &gt; 10) &#123; this.touchType == &quot;swiperight&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); &#125;; if(disX &lt; -10) &#123; this.touchType == &quot;swipeleft&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); &#125;; &#125; else &#123; if(disY &gt; 10) &#123; this.touchType == &quot;swipedown&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); &#125;; if(disY &lt; -10) &#123; this.touchType == &quot;swipeup&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); &#125;; &#125;; &#125; else &#123; if(this.longTouch &amp;&amp; this.vueMoves) &#123; this.touchType == &quot;tap&quot; &amp;&amp; this.vueCallBack(this.binding.value, e); this.vueLeave = false &#125;; &#125;; &#125;, move(e) &#123; this.vueMoves = false; &#125;&#125;;Vue.directive(&quot;tap&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;tap&quot;); &#125;&#125;);Vue.directive(&quot;swipe&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;swipe&quot;); &#125;&#125;);Vue.directive(&quot;swipeleft&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;swipeleft&quot;); &#125;&#125;);Vue.directive(&quot;swiperight&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;swiperight&quot;); &#125;&#125;);Vue.directive(&quot;swipedown&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;swipedown&quot;); &#125;&#125;);Vue.directive(&quot;swipeup&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;swipeup&quot;); &#125;&#125;);Vue.directive(&quot;longtap&quot;, &#123; bind: function(el, binding) &#123; new vueTouch(el, binding, &quot;longtap&quot;); &#125;&#125;); ÊµãËØï1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;!DOCTYPE html&gt;&lt;html id=&quot;html&quot;&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;&lt;/title&gt; &lt;style&gt; .box &#123; width: 250px; height: 250px; background-color: red; color: #FFFFFF; text-align: center; line-height: 250px; font-size: 30px; position: absolute; margin: auto; left: 0; right: 0; top: 0; bottom: 0; &#125; &lt;/style&gt; &lt;script src=&quot;js/vue.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;js/vue-touch.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot; class=&quot;box&quot; v-tap=&quot;&#123;fn:vuetap,name:&apos;ÁÇπÂáª&apos;&#125;&quot; v-longtap=&quot;&#123;fn:vuetap,name:&apos;ÈïøÊåâ&apos;&#125;&quot; v-swipeleft=&quot;&#123;fn:vuetap,name:&apos;Â∑¶Êªë&apos;&#125;&quot; v-swiperight=&quot;&#123;fn:vuetap,name:&apos;Âè≥Êªë&apos;&#125;&quot; v-swipeup=&quot;&#123;fn:vuetap,name:&apos;‰∏äÊªë&apos;&#125;&quot; v-swipedown=&quot;&#123;fn:vuetap,name:&apos;‰∏ãÊªë&apos;&#125;&quot;&gt; &#123;&#123; name &#125;&#125; &lt;/div&gt; &lt;!-- vuetouch‰∏∫ÂáΩÊï∞ÂêçÔºåÂ¶ÇÊ≤°ÊúâÂèÇÊï∞ÔºåÂèØÁõ¥Êé•ÂÜôÂáΩÊï∞Âêç,ÊØîÂ¶ÇÔºöv-tap=&quot;vuetap&quot; Â¶ÇÊûúÊúâÂèÇÊï∞‰ª•ÂØπË±°ÂΩ¢Âºè‰º†Ôºåfn ‰∏∫ÂáΩÊï∞Âêç--&gt; &lt;script&gt; kim = new Vue(&#123; el: &quot;#app&quot;, data: &#123; name: &quot;ÂºÄÂßã&quot; &#125;, methods: &#123; vuetap: function(s, e) &#123; console.log(e) this.name = s.name; &#125; &#125; &#125;); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁêÜËß£ HTTPS]]></title>
    <url>%2F2018%2F09%2F02%2F%E7%90%86%E8%A7%A3-HTTPS%2F</url>
    <content type="text"><![CDATA[HTTP2 SSLÔºåÊòØÂà©Áî®Êï∞ÊçÆÂä†ÂØÜÊäÄÊúØÔºåÁî®‰ª•‰øùÈöúÂú®Internet‰∏äÊï∞ÊçÆ‰º†ËæìÂÆâÂÖ®ÁöÑÂçèËÆÆÔºåsslËØÅ‰π¶Â∞±ÊòØÈÅµÂÆàSSLÂçèËÆÆÁöÑ‰∏ÄÁßçÊï∞Â≠óËØÅ‰π¶ÔºåÈ™åËØÅÁΩëÁ´ô‰∏ª‰ΩìË∫´‰ªΩÂíåÊï∞ÊçÆ‰º†ËæìÂä†ÂØÜ„ÄÇTLSÔºåÂÆâÂÖ®‰º†ËæìÂ±ÇÂçèËÆÆÔºåÁî®‰∫éÂú®‰∏§‰∏™ÈÄö‰ø°Â∫îÁî®Á®ãÂ∫è‰πãÈó¥Êèê‰æõ‰øùÂØÜÊÄßÂíåÊï∞ÊçÆÂÆåÊï¥ÊÄß„ÄÇTLSÂä†ÂØÜ‰∫éTLSÂä†ÂØÜÂå∫Âà´Âú®‰∫éÔºåÂä†ÂØÜÁÆóÊ≥ï‰∏çÂêå„ÄÇÁé∞Âú®ËøòÊòØSSLÂä†ÂØÜÊØîËæÉÂ§öÔºåGDCAÁöÑSSLËØÅ‰π¶ÊØîËæÉÂ∏∏ËßÅÔºÅ http2 ÁöÑÂâçË∫´ÊòØÁî± google È¢ÜÂØºÂºÄÂèëÁöÑ SPDYÔºåÂêéÊù• google ÊääÊï¥‰∏™ÊàêÊûú‰∫§Áªô IETFÔºåIETF Êää SPDY Ê†áÂáÜÂåñ‰πãÂêéÂèòÊàê http2„ÄÇgoogle ‰πüÂæàÂ§ßÊñπÁöÑÂ∫üÂºÉÊéâ SPDYÔºåËΩ¨ÂêëÊîØÊåÅ http2„ÄÇhttp2 ÊòØÂÆåÂÖ®ÂÖºÂÆπ http/1.x ÁöÑÔºåÂú®Ê≠§Âü∫Á°Ä‰∏äÊ∑ªÂä†‰∫Ü 4 ‰∏™‰∏ªË¶ÅÊñ∞ÁâπÊÄßÔºö12345‰∫åËøõÂà∂ÂàÜÂ∏ßÂ§¥ÈÉ®ÂéãÁº©ÊúçÂä°Á´ØÊé®ÈÄÅÂ§öË∑ØÂ§çÁî®‰ºòÂåñÊâãÊÆµ http2 ÁÆÄ‰ªã Â≠òÂú®Âç≥ÂêàÁêÜhttpÊòØÈùûÂ∏∏Â∏∏ËßÅÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆÔºåÊòØË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÁöÑÁÆÄÁß∞ÔºåÂÖ∂‰º†ËæìÁöÑÂÜÖÂÆπÈÉΩÊòØÊòéÊñáÁöÑ„ÄÇ Âú®Ëøô‰∏™Ê∑∑‰π±ÁöÑ‰∏ñÁïåÔºåÊòéÊñá‰º†Ëæì‰ø°ÊÅØÊÉ≥ÊÉ≥Â∞±ÂèØÊÄïÔºåÁΩëÁªú‚ÄúÂ∞èÊ∑∑Ê∑∑‚ÄùÁöÑÊâãÊÆµËøúÊØîÊàë‰ª¨Ëøô‰∫õÂá°‰∫∫È´òÊòéÂæóÂ§öÔºå‰ªñ‰ª¨Êúâ‰∏Ä‰∏áÁßçÊñπÂºèÂä´ÊåÅÔºåÁØ°ÊîπÊàë‰ª¨ÁöÑÊï∞ÊçÆ„ÄÇÂØπ‰∫é‰∏Ä‰∏™ÁΩëÁ´ôÊàñËÄÖÊúçÂä°ÔºåÂ¶ÇÊûú‰Ω†Áªô‰Ω†ÁöÑÁî®Êà∑‰∏§‰∏™ÈÄâÊã©Ôºö ÈÄöËÆØÊï∞ÊçÆÊòéÊñá‰º†ËæìÔºåÈÄüÂ∫¶Âø´Ôºõ ÈÄöËÆØÊï∞ÊçÆÂä†ÂØÜ‰º†ËæìÔºå‰ΩÜÊòØÈÄüÂ∫¶ÂèØËÉΩ‰ºöÁ®çÂæÆÊÖ¢‰∏ÄÁÇπ.ÊàëÊÉ≥ÔºåÂè™Ë¶ÅËÑëË¢ãÊ≤°ÊúâÈïøÊ≠™ÁöÑÁî®Êà∑ÈÉΩÂÆÅÊÑøÁâ∫Áâ≤‰∏ÄÁÇπÈÄüÂ∫¶ÂéªÊç¢ÂèñÊï∞ÊçÆ‰º†ËæìÁöÑÂÆâÂÖ®„ÄÇ ËøôÊ†∑ÔºåhttpsÁöÑÂ≠òÂú®Â∞±ÂÖ∑Â§á‰∫ÜÂêàÁêÜÊÄßÔºåhttps‰∏≠ÁöÑsË°®Á§∫SSLÊàñËÄÖTLSÔºåÂ∞±ÊòØÂú®ÂéühttpÁöÑÂü∫Á°Ä‰∏äÂä†‰∏ä‰∏ÄÂ±ÇÁî®‰∫éÊï∞ÊçÆÂä†ÂØÜ„ÄÅËß£ÂØÜ„ÄÅË∫´‰ªΩËÆ§ËØÅÁöÑÂÆâÂÖ®Â±Ç„ÄÇ HTTPÂçèËÆÆÁöÑÁº∫ÁÇπ ÈÄö‰ø°‰ΩøÁî®ÊòéÊñáÔºõ ‰∏çÈ™åËØÅÈÄö‰ø°ÊñπÁöÑË∫´‰ªΩÔºõ Êó†Ê≥ïÈ™åËØÅÊä•ÊñáÁöÑÂÆåÊï¥ÊÄßÔºõ ÈÄö‰ø°‰ΩøÁî®ÊòéÊñá: ÈÄö‰ø°‰ΩøÁî®ÊòéÊñáÊÑèÂë≥ÁùÄÂÆâÂÖ®ÊÄßÂ§ßÂ§ßÈôç‰ΩéÔºåÂΩìÈÄö‰ø°ËøáÁ®ãË¢´Á™ÉÂê¨ÂêéÔºåÊó†ÈúÄËä±Ë¥πÈ¢ùÂ§ñÁöÑÊäïÂÖ•Â∞±ÂèØÁúãÂà∞‰º†ËæìÁöÑÊï∞ÊçÆ„ÄÇ‰æãÂ¶Ç‰ΩøÁî®ÊäìÂåÖÂ∑•ÂÖ∑ÔºåÊó†ÈúÄ‰ªª‰ΩïÈÖçÁΩÆÂ∞±ÂèØÊü•Áúã‰ªª‰Ωï‰ΩøÁî®HTTPÂçèËÆÆÁöÑÈÄö‰ø°Êï∞ÊçÆÔºõ‰∏çÈ™åËØÅÈÄö‰ø°ÊñπË∫´‰ªΩ :‰∏çÈ™åËØÅÈÄö‰ø°ÊñπÁöÑË∫´‰ªΩÔºåÂ∞ÜÂØºËá¥ÈÄö‰ø°ËøáÁ®ãË¢´Á™ÉÂê¨ÂêéÔºåÂèØËÉΩ‰ºöÈÅ≠ÈÅá‰º™Ë£ÖÔºå‰æãÂ¶Ç‰ΩøÁî®ÊäìÂåÖÂ∑•ÂÖ∑ÊäìÂèñÊï∞ÊçÆÂêéÔºåÂ∞±ÂèØÊåâÁÖßÊï∞ÊçÆÂåÖÁöÑÊ†ºÂºèÊûÑÈÄ†HTTPËØ∑Ê±ÇÔºõÊó†Ê≥ïÈ™åËØÅÊä•ÊñáÁöÑÂÆåÊï¥ÊÄß:‰∏çÈ™åËØÅÊä•ÊñáÁöÑÂÆåÊï¥ÊÄßÔºåÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Â∞±ÂèØËÉΩË¢´ÁØ°ÊîπÔºåÊú¨Êù•ÊÉ≥ÁúãÂñúÊ¥ãÊ¥ãÂë¢ÔºåÁªìÊûúÊï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠Ë¢´Êç¢Êàê‰∫ÜÂÖâÂ§¥Âº∫„ÄÇ ‰∏∫Ëß£ÂÜ≥‰∫ÜHTTPÁöÑ‰ª•‰∏äÈóÆÈ¢òÔºåHTTPSÂçèËÆÆÂ∞±ËØûÁîü‰∫ÜÔºö12345Https = Http + Âä†ÂØÜ + ËÆ§ËØÅ + ÂÆåÊï¥ÊÄßÈ™åËØÅ ||Https = Http + SSL ||HTTPS=Êï∞ÊçÆÂä†ÂØÜ+ÁΩëÁ´ôËÆ§ËØÅ+ÂÆåÊï¥ÊÄßÈ™åËØÅ+HTTP HTTP ‰∏é HTTPS ÁöÑÂå∫Âà´ HTTP ÊòØÊòéÊñá‰º†ËæìÔºåHTTPS ÈÄöËøá SSL\TLS ËøõË°å‰∫ÜÂä†ÂØÜ HTTP ÁöÑÁ´ØÂè£Âè∑ÊòØ 80ÔºåHTTPS ÊòØ 443 HTTPS ÈúÄË¶ÅÂà∞ CA Áî≥ËØ∑ËØÅ‰π¶Ôºå‰∏ÄËà¨ÂÖçË¥πËØÅ‰π¶ÂæàÂ∞ëÔºåÈúÄË¶Å‰∫§Ë¥π HTTPS ÁöÑËøûÊé•ÂæàÁÆÄÂçïÔºåÊòØÊó†Áä∂ÊÄÅÁöÑÔºõHTTPS ÂçèËÆÆÊòØÁî± SSL+HTTP ÂçèËÆÆÊûÑÂª∫ÁöÑÂèØËøõË°åÂä†ÂØÜ‰º†Ëæì„ÄÅË∫´‰ªΩËÆ§ËØÅÁöÑÁΩëÁªúÂçèËÆÆÔºåÊØî HTTP ÂçèËÆÆÂÆâÂÖ®„ÄÇ HTTPS‰∏ªË¶ÅÁº∫ÁÇπÔºö ÁΩëÁªúËÄóÊó∂ÔºàÊØîHTTPÂ§ö‰∫Ü‰∫§‰∫íÊ¨°Êï∞Ôºâ„ÄÇ Âä†Ëß£ÂØÜËÄóÊó∂„ÄÇ ÊØîHTTPÊÖ¢Âá†ÁôæÊØ´Áßí‰ª•‰∏äÔºåÈ°µÈù¢Âä†ËΩΩÊó∂Èó¥Â¢ûÂä†‰∫Ü50%ÔºåÂ¢ûÂä†10%Âà∞20%ÁöÑËÄóÁîµ HTTPSÂ∑•‰ΩúÊµÅÁ®ãÔºö1.ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºåÂπ∂ÂëäËØâÊúçÂä°Âô®ÊîØÊåÅÁöÑÁÆóÊ≥ïÂàóË°®Ôºõ2.ÊúçÂä°Âô®ÈÄâÊã©‰∏ÄÁßçÁÆóÊ≥ïÔºåÂπ∂Â∞ÜËá™Â∑±ÁöÑËØÅ‰π¶ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåËØÅ‰π¶ÂåÖÂê´ÊúçÂä°Âô®ÂüüÂêçÂíåÂÖ¨Èí•Á≠â‰ø°ÊÅØÔºõ3.ÂÆ¢Êà∑Á´ØÂæóÂà∞ËØÅ‰π¶ÂêéËøõË°åÈ™åËØÅÔºåÈ™åËØÅÈÄöËøáÁöÑËØùÂ∞±ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫ÂÄºÔºåÂπ∂Áî®ËØÅ‰π¶‰∏≠ÁöÑÂÖ¨Èí•ËøõË°åÂä†ÂØÜ4.‰º†ÈÄíÂä†ÂØÜ‰ø°ÊÅØÔºåÁõÆÁöÑÂ∞±ÊòØËÆ©ÊúçÂä°Âô®ÂæóÂà∞Ëøô‰∏™ÈöèÊú∫ÂÄºÔºå‰ª•ÂêéÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®ÁöÑÈÄö‰ø°Â∞±ÂèØ‰ª•ÈÄöËøáËøô‰∏™ÈöèÊú∫ÂÄºÊù•ËøõË°åÂä†ÂØÜËß£ÂØÜÔºõ5.ÊúçÂä°Âô®Áî®Ëá™Â∑±ÁöÑÁßÅÈí•Ëß£ÂØÜÂÆ¢Êà∑Á´Ø‰º†ËøáÊù•ÁöÑÈöèÊú∫ÂÄºÔºåÁÑ∂ÂêéÊääÂÜÖÂÆπËøõË°åÂØπÁß∞Âä†ÂØÜÔºåÂç≥Â∞Ü‰ø°ÊÅØÂíåÁßÅÈí•ÈÄöËøáÂä†ÂØÜÁÆóÊ≥ïÊ∑∑Âú®‰∏ÄËµ∑ÔºåËøôÊ†∑Èô§ÈùûÁü•ÈÅìÁßÅÈí•Ôºå‰∏çÁÑ∂Êó†Ê≥ïËé∑ÂèñÂà∞ÂÜÖÂÆπÔºåËÄåÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®ÈÉΩÁü•ÈÅìËøô‰∏™ÁßÅÈí•ÔºåÊâÄ‰ª•Âè™Ë¶ÅÂä†ÂØÜÁÆóÊ≥ïÂ§üÂº∫Â§ßÔºåÁßÅÈí•Â§üÂ§çÊùÇÔºåÊï∞ÊçÆÂ∞±ÂæàÂÆâÂÖ®‰∫ÜÔºõ6.Â∞ÜÂä†ÂØÜÂêéÁöÑ‰ø°ÊÅØÂèëÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØËøòÂéü‰ø°ÊÅØ7.ÂÆ¢Êà∑Á´ØÁî®‰πãÂâçÁîüÊàêÁöÑÁßÅÈí•Ëß£ÂØÜÊúçÂä°Âô®ÂèëËøáÊù•ÁöÑ‰ø°ÊÅØÔºå‰æøËé∑ÂèñÂà∞‰∫ÜËß£ÂØÜÂêéÁöÑÂÜÖÂÆπÔºõ ÈÇ£‰πàÂä†ÂØÜÁöÑ‰ø°ÊÅØÈÄöÈÅìÂèàÂä†ÂØÜ‰∫ÜÂì™‰∫õ‰ø°ÊÅØÂë¢Ôºü Á≠æÂèëËØÅ‰π¶ÁöÑ CA ‰∏≠ÂøÉ‰ºöÂèëÂ∏É‰∏ÄÁßçÊùÉÂ®ÅÊÄßÁöÑÁîµÂ≠êÊñáÊ°£‚Äî‚ÄîÊï∞Â≠óËØÅ‰π¶ÔºåÂÆÉÂèØ‰ª•ÈÄöËøáÂä†ÂØÜÊäÄÊúØÔºàÂØπÁß∞Âä†ÂØÜ‰∏éÈùûÂØπÁß∞Âä†ÂØÜÔºâÂØπÊàë‰ª¨Âú®ÁΩë‰∏ä‰º†ËæìÁöÑ‰ø°ÊÅØËøõË°åÂä†ÂØÜÔºåÊØîÂ¶ÇÊàëÂú® Pornhub ‰∏äËæìÂÖ•Ôºö12Ë¥¶Âè∑ÔºöcbssfawÂØÜÁ†ÅÔºö123djaosid ÂèØÊòØËøô‰∏™Êï∞ÊçÆË¢´ÈªëÂÆ¢Êã¶Êà™ÁõóÁ™É‰∫ÜÔºåÈÇ£‰πàÂä†ÂØÜÂêéÔºåÈªëÂÆ¢ÂæóÂà∞ÁöÑÊï∞ÊçÆÂèØËÉΩÂ∞±ÊòØËøôÊ†∑ÁöÑÔºö12Ë¥¶Âè∑Ôºö√ß¬µ√∏‚Ä¶‚â§¬•∆í‚àÇ√∏‚Ä†¬Æ‚àÇÀô‚àÜ¬¨ÂØÜÁ†ÅÔºö‚àÜ√∏¬•¬ß¬Æ‚Ä†∆í¬©¬Æ‚Ä†¬©Àö¬¨ ÊÉ≥Ë¶ÅÁêÜËß£ HTTPS Âä†ÂØÜ„ÄÇÈúÄË¶ÅÁêÜËß£Âá†‰∏™Ê¶ÇÂøµÔºö ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï CA(Certificate Authority) Êï∞Â≠óËØÅ‰π¶ ÊëòË¶ÅÁÆóÊ≥ï Â∏∏Áî®ÁöÑÂä†ÂØÜÊñπÂºèÂàÜ‰∏∫‰∏§ÁßçÔºö ÂØπÁß∞Âä†ÂØÜÔºö Âä†ÂØÜÂíåËß£ÂØÜ‰ΩøÁî®ÁöÑÊòØÁõ∏ÂêåÁöÑÂØÜÈí•„ÄÇ ÈùûÂØπÁß∞Âä†ÂØÜÔºö Âä†ÂØÜÂíåËß£ÂØÜ‰ΩøÁî®ÁöÑ‰∏çÊòØÁõ∏ÂêåÁöÑÂØÜÈí•ÔºåËÄåÊòØ‰∏ÄÂØπÂØÜÈí•ÂØπÔºåÂàÜÂà´Áß∞‰∏∫ÂÖ¨Èí•ÂíåÁßÅÈí•„ÄÇ HTTPS Áî®‰∫ÜÂì™ÁßçÂä†ÂØÜÊñπÊ≥ïÔºü Âú® HTTPS ‰∏≠ÔºåÂØπÁß∞Âä†ÂØÜÂíåÈùûÂØπÁß∞Âä†ÂØÜÈÉΩÁî®Âà∞‰∫Ü„ÄÇÈùûÂØπÁß∞Âä†ÂØÜÂèØ‰ª•Âú®‰∏çÂÆâÂÖ®ÁöÑ‰ø°ÈÅì‰∏ä‰º†ÈÄíÁßòÂØÜÂÜÖÂÆπÔºå‰ΩÜÊòØÁî±‰∫éÈÄöÂ∏∏‰ΩøÁî®ÁöÑÈùûÂØπÁß∞Âä†ÂØÜÊñπÊ≥ïÁõ∏ËæÉ‰∫éÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊÖ¢ÂæàÂ§öÔºåÂõ†Ê≠§Âú® HTTPS ‰∏≠‰ªÖ‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‰∫§Êç¢ÂØπÁß∞ÂØÜÈí•Ôºå‰∫§Êç¢ÂØÜÈí•‰πãÂêéÁöÑÈÄö‰ø°ÂÜÖÂÆπÂùá‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†ÂØÜÂíåËß£ÂØÜÔºåËøôÊ†∑Êó¢ÂèØ‰ª•‰øùËØÅÂØÜÈí•ÁöÑÂÆâÂÖ®‰πüÂèØ‰ª•‰øùËØÅÂÜÖÂÆπÁöÑÂä†Ëß£ÂØÜÈÄüÂ∫¶ÔºåËøôÂØπ‰∫éÁßªÂä®Á´ØËÆæÂ§áÊù•ËØ¥Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇ Áé∞Âú®ÁöÑÈóÆÈ¢òÊòØÔºåÂ¶Ç‰ΩïÂú®ÂÆûÁé∞ HTTP ÂçèËÆÆÁöÑÊÉÖÂÜµ‰∏ãÔºåÂØπ‰º†ËæìÁöÑ‰ø°ÊÅØËøõË°åÂä†ÂØÜËß£ÂØÜÔºüÊúÄÂºÄÂßã‰ΩøÁî®Âà∞ÁöÑÊòØÊúÄÁÆÄÂçïÁöÑÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï„ÄÇ ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™Ë¶ÅÂä†ÂØÜÊñπÂíåËß£ÂØÜÊñπÈÉΩÊã•ÊúâÂêå‰∏ÄÂØÜÈí•ÔºàÂèØ‰∏∫128Ôºå192Ôºå256 bit Â§ßÂ∞èÁöÑÂØÜÈí•ÔºåÂØÜÈí•Ë∂äÈïøÔºåÂä†ÂØÜËß£ÂØÜÊó∂Èó¥Ë∂äÈïøÔºåËß£ÂØÜÈöæÂ∫¶‰πüË∂äÈ´òÔºâÔºåÂç≥ÂèØÂÆåÊàêÂä†ÂØÜËß£ÂØÜËøáÁ®ãÔºå‰∏îÂÅáËÆæÊó†Ê≥ïÂº∫Âà∂ÂØπÂä†ÂØÜËøáÁöÑÊòéÊñáËøõË°åËß£ÂØÜ„ÄÇ ÈóÆÈ¢òÔºöÂØπ‰∫éÈúÄË¶Å‰º†ÈÄíÂä†ÂØÜ‰ø°ÊÅØÁöÑÂèåÊñπËÄåË®ÄÔºåÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÁî®‰∫éÂä†ÂØÜËß£ÂØÜÊ≤°Êúâ‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØÂØÜÈí•ÁöÑ‰º†ËæìÂ∞±Êàê‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÇÂõ†‰∏∫ÂØÜÈí•‰πüÈúÄË¶Å‰º†ËæìÊâçËÉΩ‰ΩøÂèåÊñπÈÄö‰ø°ÔºåÂØÜÈí•ÊòéÊñá‰º†ËæìÂá∫ÂéªÔºåË¢´‰∫∫ËΩªÊòìÊà™ÂèñÔºåÂ∞±ËÉΩÂà©Áî®ÂØÜÈí•Á†¥Ëß£Âä†ÂØÜÁöÑÂØÜÊñá„ÄÇ ÊâÄ‰ª•ÂºïÂá∫‰∫Ü‰∏ãÈù¢ÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊù•‰º†ËæìÂØÜÈí•„ÄÇ ÂÖ¨ÂºÄÂØÜÈí•Âä†ÂØÜ(Public-Key Cryptography)ÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂØπ‰∫é‰ΩøÁî®ÊúÄÂπøÊ≥õÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‚Äî‚ÄîRSAÔºåRSA ÁÆóÊ≥ïÂü∫‰∫é‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊï∞ËÆ∫ÁêÜËÆ∫ÔºöÂ∞Ü‰∏§‰∏™Â§ßÁ¥†Êï∞Áõ∏‰πòÂçÅÂàÜÂÆπÊòìÔºå‰ΩÜÊòØÊÉ≥Ë¶ÅÂØπÂÖ∂‰πòÁßØËøõË°åÂõ†ÂºèÂàÜËß£Âç¥ÊûÅÂÖ∂Âõ∞ÈöæÔºåÂõ†Ê≠§ÂèØ‰ª•Â∞Ü‰πòÁßØÂÖ¨ÂºÄ‰Ωú‰∏∫Âä†ÂØÜÂØÜÈí•„ÄÇ RSA ÁÆóÊ≥ïÂæóÂá∫‰∫Ü‰∏ãÈù¢ÁöÑËßÑÂàôÔºöÈÄöËÆØ‰∏§Êñπ A, B ÂàÜÂà´ÈÉΩÊúâÂêÑËá™ÁöÑ‰∏ÄÂ•óÂÖ¨Èí•ÂíåÁßÅÈí•„ÄÇÂêå‰∏ÄÂ•óÂÖ¨Èí•ÁßÅÈí•ÂΩì‰∏≠ÔºåÂÖ¨Èí•ÁöÑÂä†ÂØÜÈúÄË¶ÅÁßÅÈí•ÊâçËÉΩËß£ÂØÜÔºåÁßÅÈí•ÁöÑÂä†ÂØÜÈúÄË¶ÅÂÖ¨Èí•ÊâçËÉΩËß£ÂØÜ„ÄÇ ÂÅáËÆæ A ÊääËá™Â∑±ÁöÑÂÖ¨Èí•ÂÖ¨ÂºÄÂá∫ÂéªÔºåB ÂæóÂà∞‰∫Ü A ÁöÑÂÖ¨Èí•ÔºåÁÑ∂Âêé B Áî® A ÁöÑÂÖ¨Èí•Âä†ÂØÜ‰∫ÜÊòéÊñáÔºå‰º†Áªô AÔºåA Áî®ÁßÅÈí•Ëß£ÂØÜÔºåÂç≥ÂèØËé∑ÂæóÊòéÊñá„ÄÇÊâÄ‰ª•ÔºåËøáÁ®ã‰∏≠ÂÖ¨ÂºÄÁöÑ‰ø°ÊÅØ‰ªª‰ΩïÁ¨¨‰∏âÊñπÂæóÂà∞ÈÉΩ‰∏çÂèØ‰ª•Á†¥Ëß£ A Âíå B Ë¶Å‰º†ÈÄíÁöÑ‰ø°ÊÅØ„ÄÇÊúâ‰∫ÜËøô‰∏™ÁÆóÊ≥ï‰πãÂêéÔºåÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊâÄÁî®Âà∞ÁöÑÂØÜÈí•‰º†ËæìÂÆâÂÖ®ÊÄßÂ∞±Ê≤°ÈóÆÈ¢ò‰∫Ü„ÄÇ‰ΩÜÊòØÂõ†‰∏∫Âä†ÂØÜËß£ÂØÜËøáÁ®ãÊó∂Èó¥ÊØîËæÉÈïøÔºåÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‰∏çÈÄÇÂêàÂ∫îÁî®‰∫éÊï∞ÊçÆÈáèÂ§ßÁöÑ‰ø°ÊÅØ‰º†ÈÄíÔºåÂè™ÈÄÇÁî®‰∫éÂØÜÈí•ÁöÑ‰º†ÈÄí„ÄÇÔºàËøô‰∏™ÈóÆÈ¢òËß£Èáä‰∫ÜÂØπ‰∫éÊï∞Â≠óÁ≠æÂêçÁöÑÊëòË¶ÅÁÆóÊ≥ïÁöÑÂøÖË¶ÅÊÄßÔºâ ÈóÆÈ¢òÔºöËôΩÁÑ∂ RSA ÁÆóÊ≥ï‰πüÊ≤°Êúâ‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØÂç¥Êúâ‰∫∫ÊÉ≥Âá∫Êõ¥ÁªùÁöÑÊñπÊ≥ïÁ†¥Ëß£Âä†Ëß£ÂØÜÁöÑËøáÁ®ã„ÄÇËøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØ‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇÂú®Áî®ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‰º†ÈÄíÂØÜÈí•ÁöÑËøáÁ®ã‰∏≠ÔºåÂõ†‰∏∫ÂÖ¨Èí•ÈÉΩÊòØÂÖ¨ÂºÄÁöÑÔºåÂπ∂Ê≤°Êúâ‰ªª‰Ωï‰∏úË•øÂèØ‰ª•ËÆ§ËØÅËøô‰∏™ÂÖ¨Èí•ÊòØ A ÁöÑËøòÊòØ B ÁöÑ„ÄÇÁé∞Âú®Âá∫Áé∞‰∫Ü‰∏≠Èó¥‰∫∫ MÔºåM ÈááÂèñÊüêÁßçÊâãÊÆµÂú® A Âíå B ÁöÑÈÄöËÆØËøáÁ®ãÊàê‰∏∫‰∏≠Èó¥‰∫∫„ÄÇÂú® B ÊÉ≥Ë¶ÅÂæóÂà∞ A ÁöÑÂÖ¨Èí•ÁöÑÊó∂ÂÄôÔºåM Âêë B Ë∞éÁß∞Ëá™Â∑±ÁöÑËøô‰∏™ÂÖ¨Èí•ÊòØ A ÁöÑÂÖ¨Èí•ÔºåB ÊãøÂà∞Áî® M ÁöÑÂÖ¨Èí•Âä†ÂØÜ‰ø°ÊÅØÂêéÔºå‰º†Âá∫ M Êâã‰∏≠ÔºåÁÑ∂Âêé M ÊãøÂä†ÂØÜËøáÁöÑ‰ø°ÊÅØÔºåÁÑ∂ÂêéÁî®Ëá™Â∑±ÁöÑÁßÅÈí•ÊääËøô‰∏™‰ø°ÊÅØËß£ÂØÜÔºåÂæóÂà∞ÊòéÊñá„ÄÇÊó¢ÁÑ∂Â∑≤ÁªèÁü•ÈÅì‰∫ÜÊòéÊñáÔºåËøòÊòØÁî® A ÁöÑÂÖ¨Èí•Âä†ÂØÜËøô‰∏™‰ø°ÊÅØÔºåÁªßÁª≠Áªô AÔºåËøôÊ†∑ A ËøòÊòØ‰ª•‰∏∫Ëøô‰∏™‰ø°ÊÅØÊòØÂÆâÂÖ®ÁöÑÔºåÁªßÁª≠Áî®ÁßÅÈí•Ëß£ÂºÄ„ÄÇËÄåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåM Êó¢Ëé∑Âæó‰∫Ü‰ø°ÊÅØÔºåÂèàÊ≤°ÊúâËÆ© AÔºåB ÂèåÊñπÁü•ÈÅì„ÄÇËá≥‰∫éËøô‰∏™ M ÊòØÊÄé‰πàÊ¨∫È™ó AÔºåB ÁöÑÔºåÂèàÊòØÂè¶Â§ñ‰∏Ä‰∏™ÂÆâÂÖ®ÁöÑÈóÆÈ¢ò„ÄÇÊÄª‰πãÔºåÂÅáÂ¶Ç M Âè™Ë¶ÅËÆ© B Áõ∏‰ø°Ëøô‰∏™ÂÖ¨Èí•ÊòØ A ÁöÑÔºåÂ∞±ÂèØ‰ª•‰Ωú‰∏≠Èó¥‰∫∫ÊîªÂáª„ÄÇ ÂÅáÂ¶Ç‰∏äÈù¢ÁöÑ A ÊòØÊúçÂä°Âô®ÔºåB ÊòØÁî®Êà∑ÔºåÈÇ£‰πà‰∏≠Èó¥‰∫∫Â∞±ÂæàÂÆπÊòìËé∑ÂèñÂíå‰øÆÊîπ AÔºåB ÈúÄË¶Å‰º†ËæìÁöÑ‰ø°ÊÅØ„ÄÇÊâÄ‰ª•‰∏∫‰∫ÜËÆ© M ‰∏çÂÜçÂæóÈÄûÔºåÂá∫Áé∞‰∏Ä‰∏™ÂÖ∑ÊúâÂÖ¨‰ø°ÂäõÁöÑÁ¨¨‰∏âÊñπ‚Äî‚ÄîCA„ÄÇ CA(Certificate Authority) Á¨¨‰∏âÊñπËÆ§ËØÅÊú∫ÊûÑÁÆÄÂçïÊù•ËØ¥ÔºåCA Ë¶ÅÂÅöÁöÑÂ∞±ÊòØÔºåËÆ© B Áõ∏‰ø°ÊãøÂà∞ÁöÑ A ÁöÑÂÖ¨Èí•ÁúüÊ≠£Â±û‰∫é AÔºåËÄå‰∏çÊòØÂÖ∂‰ªñ‰∏≠Èó¥‰∫∫ M ‰º™ÈÄ†„ÄÇ ËÄåÂú® CA Âú®ÂÅöËøô‰ª∂‰∫ãÁöÑËøáÁ®ã‰∏≠Â¶Ç‰ΩïÊâçËÉΩËÆ© B ËÆ§ËØÅËøô‰∏™ÂÖ¨Èí•ÊòØ A ÁöÑÂë¢Ôºü ËøôÈáåÈúÄË¶ÅÂè¶Â§ñ‰∏Ä‰∏™Ê¶ÇÂøµÔºöÊï∞Â≠óËØÅ‰π¶„ÄÇ ÊôÆÈÄöËØÅ‰π¶‰∫ßÁîüÁöÑËøáÁ®ãÂ∞±ÊòØÔºöÂ∞Ü‰∏™‰∫∫Êèê‰∫§ÁöÑ‰ø°ÊÅØËøõË°åÁ¨¨‰∏âÊñπÂÖ∑ÊúâÊùÉÂ®ÅÊÄßÈÉ®Èó®ÁöÑËÆ§ËØÅÔºåÁÑ∂ÂêéÁ¨¨‰∏âÊñπÊùÉÂ®ÅÈÉ®Èó®Á°ÆËÆ§‰∏™‰∫∫‰ø°ÊÅØÂêàÊ≥ïÊó†ËØØÂêéÂú®Ëá™Â∑±ÁöÑÁ≥ªÁªü‰∏≠ÁôªËÆ∞ÔºåÂÜçÊääËÆ§ËØÅËØÅ‰π¶ÁõñÁ´†Á≠æÂêçÁªôÂà∞‰∏™‰∫∫Êâã‰∏äÔºåÁÑ∂Âêé‰∏™‰∫∫Â∞±ÂèØ‰ª•Áî®ËØÅ‰π¶‰ªé‰∫ãÂêÑÁ±ªËØÅÊòéÊ¥ªÂä®„ÄÇÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÂÅöÊ≥ïÊòØÂú®‰∏™‰∫∫Êèê‰∫§ÁöÑ‰ø°ÊÅØ‰∏äÁõñÁ´†Ôºå‰æãÂ¶Ç4Ôºå6Á∫ßÁöÑËØÅ‰π¶ËÆ§ËØÅ„ÄÇÂÅáËÆæ‰Ω†ÁöÑÊàêÁª©Áî≥ËØ∑Êó†ËØØËÄåÂêàÊ≥ïÔºåÊïôËÇ≤Â±ÄÂ∞±‰ºöÂ∞Ü‰Ω†ÁöÑÊàêÁª©ËÆ∞ÂΩïÔºåÁÑ∂ÂêéÁªô‰Ω†‰∏ÄÂº†ÁõñËøáÁ´†ÁöÑËØÅ‰π¶„ÄÇ Êï∞Â≠óËØÅ‰π¶ÂêåÁêÜ„ÄÇ‰∏çËøáÔºå‰∏éÁé∞ÂÆû‰∏ç‰∏ÄÊ†∑ÔºåÂú®‰∫íËÅîÁΩë‰∏äÂÆåÊàê‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÈ™åËØÅËøáÁ®ãÔºåÈúÄË¶ÅÂÖºÈ°æÂà∞ÂæàÂ§öËøáÁ®ã‰∏≠ÁöÑÁ∫∞Êºè„ÄÇ ‰æãÂ¶ÇÔºö ÈóÆÈ¢òÔºöËØÅ‰π¶‰∏äÁöÑÁ´†ÊòØ‰∏Ä‰∏™‰∏çÂèØ‰ø°‰ªªÁöÑÊú∫ÊûÑÁöÑÔºåËØ•Â¶Ç‰ΩïËÆ§ËØÅÂì™‰∫õÊú∫ÊûÑÊâçÊòØÂèØ‰ø°‰ªªÊú∫ÊûÑÔºüÁé∞ÂÆû‰∏≠Â∞±ÊòØÂêëÊîøÂ∫úÈÉ®Èó®ËÆ§ËØÅÂì™‰∫õÊòØÁôªËÆ∞ËøáÁöÑÂèØ‰ø°‰ªªÁöÑÈÉ®Èó®ÔºåÂÉè4Ôºå6Á∫ßËØÅ‰π¶È¢ÅÂèëÁöÑÈÉ®Èó®‚Äî‚ÄîÂÖ®ÂõΩÂ§ßÂ≠¶Ëã±ËØ≠ÂõõÂÖ≠Á∫ßËÄÉËØïÂßîÂëò‰ºöÔºåÊòØÂÖ®ÂõΩÁöÑÊïôËÇ≤Â±ÄÁöÑ‰∏ãÁ∫ßÂíåÂÜÖÈÉ®ÈÉ®Èó®ÔºåÊòØËÆ§ËØÅËøáÁöÑ„ÄÇËÄåÂú®‰∫íËÅîÁΩë‰∏≠ÔºåÂ∞±ÈúÄË¶ÅÈ°∂Á∫ßÁöÑÊúÄÂÖ∑ÊúâÂÖ¨‰ø°ÂäõÁöÑ CAÔºåËøô‰∏™ CA È¢ÅÂèëÁöÑËØÅ‰π¶ÊòØÊúÄÂèó‰ø°‰ªªÁöÑÔºåËøô‰∏™Â∞±ÊòØÊ†πËØÅ‰π¶„ÄÇ‰∏∫‰∫Ü‰∏çËÆ©ÊâÄÊúâÈ∏°ËõãÈÉΩÊîæÂú®‰∏Ä‰∏™ÁØÆÂ≠êÈáåÔºåÂÖ∂‰ªñÁöÑ CA Êú∫ÊûÑÂèØ‰ª•Âêë‰∏ä‰∏ÄÁ∫ßÁöÑ CA Êú∫ÊûÑÁî≥ËØ∑Êàê‰∏∫‰∏≠Èó¥ CAÔºåËé∑ÂèñËá™Â∑±ÁöÑ‰∏≠Èó¥ËØÅ‰π¶ÔºåÊúÄÁªà‰∏™‰∫∫ÂÉè A ÂêëÊüê‰∏Ä‰∏™‰∏≠Èó¥ CA Áî≥ËØ∑ÁöÑËØÅ‰π¶Â∞±ÊòØÊúÄÁªàÁöÑÁªàÁ´ØÊôÆÈÄöÊï∞Â≠óËØÅ‰π¶„ÄÇËøô‰∏™ËøáÁ®ãÁöÑÁ≠æÂèëÂÖ≥Á≥ªÂ∞±ÊòØËØÅ‰π¶Èìæ„ÄÇÂΩì B ÂæóÂà∞ A ÁöÑÊï∞Â≠óËØÅ‰π¶‰πãÂêéÔºå‰ºöÂú®ËØÅ‰π¶ÁöÑ‰ø°ÊÅØ‰∏≠ÊâæÂà∞ A Áî≥ËØ∑ÁöÑ CAÔºåËÄåËøô‰∏™ CA Âàô‰ºöÊ†πÊçÆËá™Â∑±‰∏≠Èó¥ËØÅ‰π¶ÊâæÂà∞ÁöÑËá™Â∑±Áî≥ËØ∑ÁöÑ CAÔºåÂ∞±ËøôÊ†∑Ê≤øÁùÄËØÅ‰π¶ÈìæÊâæËØÅ‰π¶ÔºåÂÅáÂ¶ÇÊüê‰∏™‰∏≠Èó¥ËØÅ‰π¶ÊàñËÄÖÊ†πËØÅ‰π¶Âú®Êú¨Êú∫‰∏≠ÂÆâË£ÖÊúâÔºåÂàôËÆ§ËØÅÁöÑÊó∂ÂÄô‰ºöÂ∞Ü A ÁöÑËØÅ‰π¶ËÆæÁΩÆ‰∏∫ÂèØË¢´‰ø°‰ªªÁöÑ„ÄÇ Â¶Ç‰ΩïËØÜÂà´ÂèØ‰ø°‰ªªÊú∫ÊûÑÁöÑËøô‰∏™ÈóÆÈ¢òÂ∞±Ëß£ÂÜ≥‰∫Ü„ÄÇ ÈóÆÈ¢òÔºöÂèØ‰ª•ËΩªÊòìÂÅöÂà∞Áî®‰∏éÊîøÂ∫úÂêåÊ†∑ÁöÑÁ´†Âú®ËØÅ‰π¶‰∏äÁõñÁ´†‰º™ÈÄ†ÔºåËØ•Â¶Ç‰ΩïËÆ§ËØÅËøô‰∏™ËØÅ‰π¶‰∏çÊòØ‰∏™‰∫∫ÁõñÁ´†Á≠æÂêç‰º™ÈÄ†ÁöÑÔºüÁé∞ÂÆû‰∏≠ÂèØ‰ª•Âú®Ëøô‰∏™Â∑≤ÁªèË¢´ËÆ§ËØÅÁöÑÁ¨¨‰∏âÊñπÊú∫ÊûÑÁ≥ªÁªü‰∏≠Êü•ËØ¢ÔºåÂÉè4Ôºå6Á∫ßÔºåÂèØ‰ª•Âà∞ÊïôËÇ≤Â±ÄÁöÑÁΩë‰∏äÂÖ¨ÂºÄÁ≥ªÁªü‰∏≠Êü•ËØ¢„ÄÇËÄåÂú®‰∫íËÅîÁΩë‰∏≠ÔºåÂàôÈúÄË¶Å‰∏Ä‰∏™Á±ª‰ººÁöÑÊü•ËØ¢È™åËØÅËøáÁ®ã‚Äî‚ÄîÊï∞Â≠óÁ≠æÂêç„ÄÇ‰∏∫‰∫ÜÂØπËøô‰∏™ËØÅ‰π¶ÁöÑÈ™åËØÅÔºåÁ°Æ‰øùËøô‰∏™Á≠æÂêçÊòØÊù•Ëá™ÂèØ‰ø°‰ªªÁöÑ CAÔºåËÄå‰∏çÊòØÂÖ∂‰ªñ‰∏çÂèØ‰ø°ÁöÑ CA„ÄÇCA Âú®Áªô A ÁöÑÊï∞Â≠óËØÅ‰π¶‰∏≠Êúâ‰∏Ä‰∏™Êï∞Â≠óÁ≠æÂêç„ÄÇËØ•Á≠æÂêçÊòØ CA Áî®Ëá™Â∑±ÁöÑÁßÅÈí•ÂØπ A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØËøõË°åÈùûÂØπÁß∞Âä†ÂØÜÂæóÂà∞ÁöÑÂä†ÂØÜ‰ø°ÊÅØ„ÄÇÂΩì B ÂæóÂà∞ A Êèê‰æõÁöÑÊï∞Â≠óËØÅ‰π¶Ôºå‰ºöÊãøÂà∞ÂÖ∂‰∏≠ÁöÑÊï∞Â≠óÁ≠æÂêçÂíå A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÁî® CA ÁöÑÂÖ¨Èí•ÂØπËøô‰∏™Êï∞Â≠óÁ≠æÂêçËøõË°åÈùûÂØπÁß∞Ëß£ÂØÜÔºåÂæóÂá∫ÁöÑ‰ø°ÊÅØÂÅáÂ¶ÇÂíå A ÁöÑÊï∞Â≠óËØÅ‰π¶‰∏≠ A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØ‰∏ÄÊ†∑ÁöÑËØùÔºåÂ∞±Áõ∏‰ø°Ëøô‰∏™Êï∞Â≠óËØÅ‰π¶Á°ÆÂÆûÊòØ CA ËÆ§ËØÅËøáÁöÑ„ÄÇ Â¶Ç‰ΩïËÆ§ËØÅËøô‰∏™Á≠æÂêçÊòØ‰∏çÊòØ‰º™ÈÄ†ÁöÑËøô‰∏™ÈóÆÈ¢ò‰πüËß£ÂÜ≥‰∫Ü„ÄÇ‰ΩÜÊòØËøô‰∏™ÈóÆÈ¢òÂèàÂºïÂá∫‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÔºöÊï∞Â≠óËØÅ‰π¶‰∏≠ A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÊï∞ÊçÆÊØîËæÉÂ§ßÔºåËÄåÈùûÂØπÊàêÂä†ÂØÜÁÆóÊ≥ïÁöÑÂä†ÂØÜËß£ÂØÜÈÄüÂ∫¶ÈùûÂ∏∏ÊÖ¢Ôºå‰ΩøÂæóËÆ§ËØÅËøáÁ®ã‰∏≠ÂØπ‰∏™‰∫∫‰ø°ÊÅØÁöÑÈùûÂØπÁß∞Âä†ÂØÜËß£ÂØÜÈùûÂ∏∏ËÄóÂç†Êó∂Èó¥„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÁî®Âà∞Âè¶Â§ñ‰∏ÄÁßçÁÆóÊ≥ïÊù•Âä†Âø´Ëøô‰∏™È™åËØÅËøáÁ®ãÔºåËøô‰∏™ÁÆóÊ≥ïÂ∞±ÊòØÊëòË¶ÅÁÆóÊ≥ï„ÄÇÔºà‰∏ÄÁõ¥ÂæàÁñëÊÉë‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂà∞ÊëòË¶ÅÁÆóÊ≥ïÔºåÊÄªÁÆóÊâæÂà∞‰∫Ü‰∏Ä‰∏™ÂéüÂõ†Ôºâ ÊëòË¶ÅÁÆóÊ≥ïÂèØ‰ª•Â∞Ü‰ªªÊÑèÂ§ßÂ∞èÁöÑÂéüÊñáÊ∂àÊÅØÂä†ÂØÜÂπ∂ÊëòË¶ÅÊàêÂõ∫ÂÆöÈïøÂ∫¶ÁöÑÁÆÄÁü≠ÂØÜÊñá„ÄÇÂØπ‰∫é‰∏çÂêåÁöÑÂéüÊñáÊ∂àÊÅØÔºåÁî®Âêå‰∏ÄÁßçÊëòË¶ÅÁÆóÊ≥ïÔºåÈÉΩÂèØ‰ª•ÂæóÂà∞‰∏çÂêå‰ΩÜÊòØÂõ∫ÂÆöÈïøÂ∫¶ÁöÑÂØÜÊñáÔºåËÄåÁõ∏ÂêåÁöÑÂéüÊñáÊ∂àÊÅØÔºåÁî®Âêå‰∏ÄÁßçÊëòË¶ÅÁÆóÊ≥ïÔºåÂàôÂèØ‰ª•ÂæóÂà∞Áõ∏ÂêåÂõ∫ÂÆöÈïøÂ∫¶ÁöÑÂØÜÊñá„ÄÇËøôÂ∞±Ëß£ÂÜ≥‰∫ÜÊï∞Â≠óÁ≠æÂêçËøáÁ®ã‰∏≠ÔºåÂØπÊï∞ÊçÆÂ§ßÁöÑ‰∏™‰∫∫‰ø°ÊÅØÊñá‰ª∂ÁöÑÈùûÂØπÁß∞Âä†ÂØÜËß£ÂØÜÁöÑÊó∂Èó¥ÊÖ¢ÁöÑÈóÆÈ¢ò„ÄÇCA Áî® A ‰∏™‰∫∫‰ø°ÊÅØËøõË°åÊëòË¶ÅÁÆóÊ≥ïÁöÑÂ§ÑÁêÜÔºåÁÑ∂ÂêéÁªßÁª≠Áî®ÁßÅÈí•Âä†ÂØÜÔºå‰Ωú‰∏∫Êï∞Â≠óËØÅ‰π¶ÁöÑÊï∞Â≠óÁ≠æÂêçÁªôÂà∞ A„ÄÇB ÊãøÂà∞ A Êèê‰æõÁöÑÊï∞Â≠óÁ≠æÂêçÂíå A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÁî® CA ÁöÑÂÖ¨Èí•Ëß£ÂØÜ A ÁöÑÊï∞Â≠óÁ≠æÂêçÔºåÂæóÂà∞ A ‰∏™‰∫∫‰ø°ÊÅØÁöÑÊëòË¶Å„ÄÇÂÜçÁî®Âêå‰∏ÄÁßçÊëòË¶ÅÁÆóÊ≥ïÂØπ A ÁöÑ‰∏™‰∫∫‰ø°ÊÅØËøõË°åÂ§ÑÁêÜÔºåÂæóÂà∞ A ‰∏™‰∫∫‰ø°ÊÅØÁöÑÊëòË¶ÅÔºåÂÜç‰∏éËß£ÂØÜÂæóÂà∞ÁöÑ A ‰∏™‰∫∫‰ø°ÊÅØÊëòË¶ÅÂØπÊØîÔºåÂ∞±ÂèØ‰ª•Á°ÆËÆ§ÊîπÊï∞Â≠óÁ≠æÂêçÂíå‰∏™‰∫∫‰ø°ÊÅØÊòØÂåπÈÖçÁöÑ„ÄÇ Âà∞Ëøô‰∏ÄÊ≠•Ôºå‰∏≠Èó¥‰∫∫ÊîªÂáªÂ∑≤ÁªèÂæàÈöæÂèØ‰ª•ÂèëÁîü‰∫ÜÔºåÂÅáËÆæ M ÊÉ≥Ë¶ÅÂú® A Âíå B ‰πãÈó¥ÂÖÖÂΩì‰∏≠Èó¥‰∫∫ÔºåÊúâ‰∏âÁßçÊâãÊÆµÔºö ÈúÄË¶Å‰ªé A ÊúçÂä°Âô®‰∏≠Áõ¥Êé•Ëé∑ÂèñÂüüÂêçÊï∞Â≠óËØÅ‰π¶Ôºõ ÂæóÂà∞ A ÁöÑÂüüÂêçÁÆ°ÁêÜÔºåÂêë CA Áî≥ËØ∑ËØÅ‰π¶ Ëá™Â∑±Á≠æÂèëËØÅ‰π¶ÔºåÁÑ∂ÂêéË¶ÅÊ±Ç B ÂÆâË£ÖËá™Â∑±ÁöÑËØÅ‰π¶„ÄÇ ÂØπ‰∫éÁ¨¨‰∏ÄÁ¨¨‰∫å‰∏™ÈóÆÈ¢òÁöÑÈò≤ËåÉÔºåÂú®ÊúçÂä°Âô®Á´ØÔºåÂè™Ë¶ÅË¶Å‰øùÊä§Â•ΩÁßÅÈí•ÂíåÊúçÂä°Âô®ÂíåÂüüÂêçÁöÑÂÆâÂÖ®ÔºåÂ∞±‰∏ç‰ºöÂá∫Áé∞Â§ßÈóÆÈ¢ò„ÄÇ ÂØπ‰∫éÁ¨¨‰∏â‰∏™ÈóÆÈ¢òÔºåÂú®ÂÆ¢Êà∑Á´ØÔºåÊúâ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑ‰æãÂ≠êÔºö12306„ÄÇ12306 ÁöÑËØÅ‰π¶Â∞±ÊòØ‰∏≠ÈìÅÂ±ÄËá™Â∑±ÊêûÁöÑËÆ§ËØÅÊú∫ÊûÑÈ¢ÅÂèëÁöÑ„ÄÇÂΩì‰Ω†ÊµèËßà 12306 ÁöÑÊó∂ÂÄôÔºåËôΩÁÑ∂ËØ∑Ê±ÇÊòØÂ∏¶ HTTPSÔºå‰ΩÜÊòØÊµèËßàÂô®Ê£ÄÊü•ÁöÑÊó∂ÂÄôÂèëÁé∞Ëøô‰∏™‰∏≠ÈìÅÂ±ÄÁöÑËÆ§ËØÅÊú∫ÊûÑÊ≤°ÊúâÂú®ËØÅ‰π¶ÈìæÂΩì‰∏≠Ôºå‰ºöÊèêÁ§∫‚ÄúÂèØËÉΩ‰ºöË¢´ÊîªÂáª‚ÄùÔºåÂΩìÁÑ∂ 12306 ‰ºöË¶ÅÊ±Ç‰Ω†Áõ¥Êé•ÂÆâË£Ö‰ªñ‰ª¨ÁöÑËØÅ‰π¶„ÄÇËøôÂ∞±Ë¶ÅÊ±Ç‰Ω†Ëá™Â∑±ÁöÑÊòéÂØüÁßãÊØ´‰∫ÜÔºå‰Ω†ÊòØÈÄâÊã©Áõ∏‰ø° ZF ÁöÑËØÅ‰π¶ÔºåÁÑ∂ÂêéÂèØËÉΩ‰ª•Âêé ZF ÁöÑÊüê‰∫õÁΩëÁ´ôÂèØËÉΩ‰ºöÂú®‰∏≠ÈìÅÂ±ÄÁöÑËÆ§ËØÅÊú∫ÊûÑËÆ§ËØÅËØÅ‰π¶ÔºåÁÑ∂ÂêéÂÅáË£ÖÊòØ HTTPSÔºåÂπ∂‰∏îÂèØËÉΩ‰ºö‰º™Ë£ÖÁ™ÉÂèñ‰Ω†ÁöÑ‰∏™‰∫∫‰ø°ÊÅØ„ÄÇÊâÄ‰ª•Âú®ÂÆ¢Êà∑Á´ØÔºåÂÆâË£ÖËØÅ‰π¶ÈúÄË¶ÅË∞®ÊÖéÔºå‰∏çË¶ÅÈöèÊÑèÂÆâË£Ö‰∏ç‰ø°‰ªªÁöÑËØÅ‰π¶„ÄÇ]]></content>
      <tags>
        <tag>http</tag>
        <tag>https</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTP‰∏âÁßçÁºìÂ≠òÊñπÂºè]]></title>
    <url>%2F2018%2F09%2F01%2FHTTP%E4%B8%89%E7%A7%8D%E7%BC%93%E5%AD%98%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[‰æùÁÑ∂Âú®Â≠¶‰π†nodeÁöÑËâ∞ËæõËøáÁ®ã‰∏≠ÔºåÊúÄËøëÂ≠¶‰π†‰∫ÜhttpÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºåÂ≠¶Âà∞‰∫Ü‰∏úË•øÂΩìÁÑ∂Á¨¨‰∏ÄÊó∂Èó¥Â∞±Êù•ÂíåÂ§ßÂÆ∂ÂàÜ‰∫´ÂàÜ‰∫´Ôºå‰ªäÂ§©Âë¢Â∞±ÊïôÂ§ßÂÆ∂Êù•ÁúãÁúãÂà©Áî®node‰∏≠ÁöÑhttpÊ®°ÂùóÂéªÂÆûÁé∞‰∏çÂêåÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºÅÔºÅÔºÅ Êàë‰ª¨ÈÉΩÁü•ÈÅìÔºåÂØπ‰∫éÊàë‰ª¨ÂâçÁ´ØÂºÄÂèëÊù•ËØ¥ÔºåÁºìÂ≠òÊòØ‰∏Ä‰∏™ÂçÅÂàÜÈáçË¶ÅÁöÑ‰∏úË•øÔºåÂç≥Â∏åÊúõÁî®Êà∑‰∏çËÉΩÊØèÊ¨°ËØ∑Ê±ÇËøáÊù•ÈÉΩË¶ÅÈáçÂ§ç‰∏ãËΩΩÊàë‰ª¨ÁöÑÈ°µÈù¢ÂÜÖÂÆπÔºåÂ∏åÊúõ‰∏∫Áî®Êà∑ËäÇÁúÅÊµÅÈáèÔºåÂπ∂‰∏îËÉΩÊèêÈ´òÊàë‰ª¨È°µÈù¢ÁöÑÊµèËßàÊµÅÁïÖÂ∫¶Ôºå‰ΩÜÊòØÂêåÊó∂ÂΩìÊàë‰ª¨‰øÆÊîπ‰∫Ü‰∏Ä‰∏™bugÂêéÔºåÂèàÂ∏åÊúõÁ∫ø‰∏äËÉΩÂ§üÂèäÊó∂Êõ¥Êñ∞ÔºåËøôÊó∂ÂÄôÂ∞±Ë¶ÅÊ±ÇÁà∑Áà∑ÂëäÂ•∂Â•∂ËÆ©ËøêÁª¥Â∞èÂì•Âì•Â∏ÆÊàë‰ª¨Âà∑Êñ∞‰∏Ä‰∏ãÁºìÂ≠ò‰∫ÜÔºåÈÇ£‰πàÊúâÊ≤°Êúâ‰∏Ä‰∫õÊØîËæÉÂ•ΩÁöÑÁºìÂ≠òÁ≠ñÁï•ÂèØ‰ª•ÈíàÂØπÊàë‰ª¨‰øÆÊîπbugÂèàËÉΩ‰∏çÈ∫ªÁÉ¶ËøêÁª¥ÂèäÊó∂Êõ¥Êñ∞Âë¢Ôºå‰ªäÂ§©Êàë‰ª¨Â∞±Âà©Áî®nodeÊù•Áúã‰∏Ä‰∏ãÂêéÁ´Ø‰∏≠ÁöÑÁºìÂ≠òÁ≠ñÁï•ÊòØÂ¶Ç‰ΩïËÆæÁΩÆÁöÑ„ÄÇ Âº∫Âà∂ÁºìÂ≠òÈÄöÂ∏∏Êàë‰ª¨ÂØπ‰∫éÂº∫Âà∂ÁºìÂ≠òÁöÑËÆæÁΩÆÊòØÊúçÂä°Á´ØÂëäËØâÂÆ¢Êà∑Á´Ø‰Ω†ÂàöÂàöÂ∑≤ÁªèËØ∑Ê±ÇËøá‰∏ÄÊ¨°‰∫ÜÔºåÊàë‰ª¨Á∫¶ÂÆöÂ•ΩÂçÅÂàÜÈíüÂÜÖ‰Ω†ÂÜçËøáÊù•ËØ∑Ê±ÇÈÉΩÁõ¥Êé•ËØªÂèñÁºìÂ≠òÂêßÔºåÊÑèÊÄù‰πüÂ∞±ÊòØÂΩìÂÆ¢Êà∑Á´ØÂú®ÂçÅÂàÜÈíüÂÜÖÂ§öÊ¨°ËØ∑Ê±ÇÁöÑËØùÂè™ÊúâÁ¨¨‰∏ÄÊ¨°‰ºö‰∏ãËΩΩÈ°µÈù¢ÂÜÖÂÆπÔºåÂÖ∂‰ªñÁöÑËØ∑Ê±ÇÈÉΩÊòØÁõ¥Êé•Ëµ∞ÁºìÂ≠òÔºå‰∏çÁÆ°Êàë‰ª¨È°µÈù¢Âú®ËøôÊúüÈó¥ÊúâÊ≤°ÊúâÂèòÂåñÈÉΩ‰∏ç‰ºöÂΩ±ÂìçÂÆ¢Êà∑Á´ØËØªÂèñÁºìÂ≠ò„ÄÇÈÇ£Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ã‰ª£Á†ÅÁöÑÂÆûÁé∞ let http = require(&apos;http&apos;); let path = require(&apos;path&apos;); let fs = require(&apos;fs&apos;); let url = require(&apos;url&apos;); // ÂàõÂª∫‰∏Ä‰∏™ÊúçÂä° let server = http.createServer(); // ÁõëÂê¨ËØ∑Ê±Ç server.on(&apos;request&apos;,(req,res)=&gt;{ // Ëé∑ÂèñÂà∞ËØ∑Ê±ÇÁöÑË∑ØÂæÑ let {pathname,query} = url.parse(req.url,true); // Â∞ÜË∑ØÂæÑÊãºÊé•ÊàêÊúçÂä°Âô®‰∏äÂØπÂ∫îÂæóÊñá‰ª∂Ë∑ØÂæÑ let readPath = path.join(__dirname, &apos;public&apos;,pathname); console.log(readPath) try { // Ëé∑ÂèñË∑ØÂæÑÁä∂ÊÄÅ let statObj = fs.statSync(readPath); // ÊúçÂä°Á´ØËÆæÁΩÆÂìçÂ∫îÂ§¥ Cache-Control ‰πüÂ∞±ÊòØÁºìÂ≠òÂ§ö‰πÖ‰ª•Áßí‰∏∫Âçï‰Ωç res.setHeader(&apos;Cache-Control&apos;,&apos;max-age=10&apos;); // ÊúçÂä°Âô®ËÆæÁΩÆÂìçÂ∫îÂ§¥Expires ËøáÊúüÊó∂Èó¥ Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥Âä†‰∏äÂàöÂàöËÆæÁΩÆÁöÑÁºìÂ≠òÁßíÊï∞ res.setHeader(&apos;Expires&apos;,new Date(Date.now()+10*1000).toGMTString()); //Âà§Êñ≠Â¶ÇÊûúË∑ØÂæÑÊòØ‰∏Ä‰ª∂Êñá‰ª∂Â§π Â∞±ÈªòËÆ§Êü•ÊâæËØ•Êñá‰ª∂‰∏ãÁöÑindex.html if(statObj.isDirectory()){ let p = path.join(readPath,&apos;index.html&apos;); console.log(p); // Âà§Êñ≠ÊòØÂê¶Êúâindex.html Ê≤°ÊúâÂ∞±ËøîÂõû404 fs.statSync(p); // ÂàõÂª∫Êñá‰ª∂ÂèØËØªÊµÅ Âπ∂‰∏îpipeÂà∞ÂìçÂ∫îresÂèØÂÜôÊµÅ‰∏≠ fs.createReadStream(p).pipe(res) }else{ // Â¶ÇÊûúËØ∑Ê±ÇÁöÑÂ∞±ÊòØ‰∏Ä‰∏™Êñá‰ª∂ ÈÇ£‰πà‰πÖÁõ¥Êé•ËøîÂõû fs.createReadStream(readPath).pipe(res) } } catch (error) { // ËØªÂèñ‰∏çÂà∞ ËøîÂõû404 console.log(error) res.setHeader(&apos;Content-Type&apos;,&apos;text/html;charset=utf8&apos;) res.statusCode = 404; res.end(`Êú™ÂèëÁé∞Êñá‰ª∂`) } }) // ÁõëÂê¨3000Á´ØÂè£ server.listen(3000) Â§çÂà∂‰ª£Á†Å ÈÄöËøá‰∏äÈù¢‰ª£Á†ÅÊµãËØïÊàë‰ª¨‰ºöÂèëÁé∞ÂΩìÊàë‰ª¨Âú®10ÁßíÂÜÖËøõË°åÂØπÂêå‰∏ÄÊñá‰ª∂ÁöÑËØ∑Ê±ÇÔºåÈÇ£‰πàÊàë‰ª¨ÊµèËßàÂô®Â∞±‰ºöÁõ¥Êé•Ëµ∞ÁºìÂ≠ò ÈÄöËøá‰∏äÂõæÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÈáçÂ§çËØ∑Ê±ÇÁöÑÊó∂ÂÄôÊàë‰ª¨‰ºöÁúãÂà∞cssÂèòÊàêfrom memory cacheÔºåÊàë‰ª¨‰πüÁúãÂà∞Êàë‰ª¨ÂàöÂàöÁöÑÂìçÂ∫îÂ§¥‰πüË¢´ËÆæÁΩÆ‰∏ä‰∫Ü ÂçèÂïÜÁºìÂ≠ò‰∏äÈù¢ÁöÑÂº∫Âà∂ÁºìÂ≠òÊàë‰ª¨Â∞±ÂèëÁé∞‰∫Ü Â∞±ÊòØÊàë‰ª¨Âπ≥Êó∂ÊîπÂÆåbug‰∏äÁ∫øË¶ÅËã¶Ëã¶Á≠âÂæÖÁöÑ‰∏Ä‰∏™ÂéüÂõ†‰∫ÜÔºåÈÇ£‰πàÊúâÊ≤°ÊúâÂÖ∂‰ªñÁöÑÂ•ΩÁöÑÁºìÂ≠òÂ§ÑÁêÜÊñπÊ≥ïÂë¢ÔºåÊàë‰ª¨ËÆæÊÉ≥‰∏Ä‰∏ã ÂÅáÂ¶ÇÊàë‰ª¨ËÉΩÂ§üÁü•ÈÅìÊàë‰ª¨Êñá‰ª∂ÊúâÊ≤°Êúâ‰øÆÊîπÔºåÂÅáÂ¶ÇÊàë‰ª¨‰øÆÊîπ‰∫ÜÊúçÂä°Âô®Â∞±ËøîÂõûÊúÄÊñ∞ÁöÑÂÜÖÂÆπÂÅáÂ¶ÇÊ≤°Êúâ‰øÆÊîπ Â∞±‰∏ÄÁõ¥ÈªòËÆ§ÁºìÂ≠ò ÔºåËøôÊ†∑ÊòØ‰∏çÊòØÂê¨Ëµ∑Êù•ÂçÅÂàÜÁöÑÊ£íÔºÅÈÇ£Êàë‰ª¨Â∞±ÊÉ≥Â¶ÇÊûúÊàë‰ª¨ËÉΩÂ§üÁü•ÈÅìÊñá‰ª∂ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥ÊòØ‰∏çÊòØÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∫ÜÔºÅ ÈÄöËøáÊñá‰ª∂ÊúÄÂêé‰øÆÊîπÊó∂Èó¥Êù•ÁºìÂ≠òlet http = require(&apos;http&apos;); let path = require(&apos;path&apos;); let fs = require(&apos;fs&apos;); let url = require(&apos;url&apos;); let server = http.createServer(); server.on(&apos;request&apos;,(req,res)=&gt;{ // Ëé∑ÂèñÂà∞ËØ∑Ê±ÇÁöÑË∑ØÂæÑ let {pathname,query} = url.parse(req.url,true); // Â∞ÜË∑ØÂæÑÊãºÊé•ÊàêÊúçÂä°Âô®‰∏äÂØπÂ∫îÂæóÊñá‰ª∂Ë∑ØÂæÑ let readPath = path.join(__dirname, &apos;public&apos;,pathname); try { // Ëé∑ÂèñË∑ØÂæÑÁä∂ÊÄÅ let statObj = fs.statSync(readPath); // ‰∏∫‰∫ÜÊñπ‰æøÊµãËØï Êàë‰ª¨ÂëäËØâÂÆ¢Êà∑Á´Ø‰∏çË¶ÅËµ∞Âº∫Âà∂ÁºìÂ≠ò‰∫Ü res.setHeader(&apos;Cache-Control&apos;,&apos;no-cache&apos;); if(statObj.isDirectory()){ let p = path.join(readPath,&apos;index.html&apos;); let statObj = fs.statSync(p); // Êàë‰ª¨ÈÄöËøáËé∑ÂèñÂà∞Êñá‰ª∂Áä∂ÊÄÅÊù•ÊãøÂà∞Êñá‰ª∂ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥ ‰πüÂ∞±ÊòØctime Êàë‰ª¨ÊääËøô‰∏™Êó∂Èó¥ÈÄöËøáÂìçÂ∫îÂ§¥Last-ModifiedÊù•ÂëäËØâÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂÜç‰∏ã‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰ºöÈÄöËøáËØ∑Ê±ÇÂ§¥If-Modified-SinceÊääËøô‰∏™ÂÄºÂ∏¶ÁªôÊúçÂä°Á´ØÔºåÊàë‰ª¨Âè™Ë¶ÅÂà§Êñ≠Ëøô‰∏§‰∏™ÂÄºÊòØÂê¶Áõ∏Á≠âÔºåÂÅáÂ¶ÇÁõ∏Á≠âÈÇ£‰πà‰πüÂ∞±ÊòØËØ¥ Êñá‰ª∂Ê≤°ÊúâË¢´‰øÆÊîπÈÇ£‰πàÊàë‰ª¨Â∞±ÂëäËØâÂÆ¢Êà∑Á´Ø304 ‰Ω†Áõ¥Êé•ËØªÁºìÂ≠òÂêß res.setHeader(&apos;Last-Modified&apos;,statObj.ctime.toGMTString()); if(req.headers[&apos;if-modified-since&apos;] === statObj.ctime.toGMTString()){ res.statusCode = 304; res.end(); return } // ‰øÆÊîπ‰∫ÜÈÇ£‰πàÊàë‰ª¨Â∞±Áõ¥Êé•ËøîÂõûÊñ∞ÁöÑÂÜÖÂÆπ fs.createReadStream(p).pipe(res) }else{ res.setHeader(&apos;Last-Modified&apos;,statObj.ctime.toGMTString()); if(req.headers[&apos;if-modified-since&apos;] === statObj.ctime.toGMTString()){ res.statusCode = 304; res.end(); return } fs.createReadStream(readPath).pipe(res) } } catch (error) { console.log(error) res.setHeader(&apos;Content-Type&apos;,&apos;text/html;charset=utf8&apos;) res.statusCode = 404; res.end(`Êú™ÂèëÁé∞Êñá‰ª∂`) } }) server.listen(3000) Â§çÂà∂‰ª£Á†Å Êàë‰ª¨ÈÄöËøáËØ∑Ê±ÇÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÊàë‰ª¨Á¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇËøáÂêéÔºåÊó†ËÆ∫ÊÄé‰πàÂà∑Êñ∞ËØ∑Ê±ÇÈÉΩÊòØ304 Áõ¥Êé•ËØªÂèñÁöÑÁºìÂ≠òÔºåÂÅáÂ¶ÇÊàë‰ª¨Âú®ÊúçÂä°Á´ØÊääËøô‰∏™Êñá‰ª∂‰øÆÊîπ‰∫Ü ÈÇ£‰πàÊàë‰ª¨Â∞±ËÉΩÁúãÂà∞ÂèàËÉΩËØ∑Ê±ÇÂà∞ÊúÄÊñ∞ÁöÑÂÜÖÂÆπ‰∫ÜÔºåËøôÂ∞±ÊòØÊàë‰ª¨ÈÄöËøáÂçèÂïÜÁºìÂ≠òÊù•Â§ÑÁêÜÁöÑÔºåÊàë‰ª¨ÈÄöËøáËé∑ÂèñÂà∞Êñá‰ª∂Áä∂ÊÄÅÊù•ÊãøÂà∞Êñá‰ª∂ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥ ‰πüÂ∞±ÊòØctime Êàë‰ª¨ÊääËøô‰∏™Êó∂Èó¥ÈÄöËøáÂìçÂ∫îÂ§¥Last-ModifiedÊù•ÂëäËØâÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂÜç‰∏ã‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰ºöÈÄöËøáËØ∑Ê±ÇÂ§¥If-Modified-SinceÊääËøô‰∏™ÂÄºÂ∏¶ÁªôÊúçÂä°Á´ØÔºåÊàë‰ª¨Âè™Ë¶ÅÂà§Êñ≠Ëøô‰∏§‰∏™ÂÄºÊòØÂê¶Áõ∏Á≠âÔºåÂÅáÂ¶ÇÁõ∏Á≠âÈÇ£‰πà‰πüÂ∞±ÊòØËØ¥ Êñá‰ª∂Ê≤°ÊúâË¢´‰øÆÊîπÈÇ£‰πàÊàë‰ª¨Â∞±ÂëäËØâÂÆ¢Êà∑Á´Ø304 ‰Ω†Áõ¥Êé•ËØªÁºìÂ≠òÂêß ÈÄöËøáÊñá‰ª∂ÂÜÖÂÆπÊù•ÁºìÂ≠òÂÜçÂÜçÂÜçÂÜçÂÜçÂÅáÂ¶ÇÊàë‰ª¨Âú®Êñá‰ª∂‰∏≠Âà†Èô§‰∫ÜÂ≠óÁ¨¶aÁÑ∂ÂêéÂèàËøòÂéü‰∫ÜÔºåÈÇ£‰πàËøôÊó∂ÂÄô‰øùÂ≠òÊàë‰ª¨ÁöÑÊñá‰ª∂ÁöÑ‰øÆÊîπÊó∂Èó¥ÂÖ∂ÂÆû‰πüÂèëÁîü‰∫ÜÂèòÂåñÔºå‰ΩÜÊòØÂÖ∂ÂÆûÊàë‰ª¨Êñá‰ª∂ÁöÑÁúüÊ≠£ÂÜÖÂÆπÂπ∂Ê≤°ÊúâÂèëÁîüÂèòÂåñÔºåÊâÄ‰ª•ËøôÊó∂ÂÄôÂÖ∂ÂÆûÂÆ¢Êà∑Á´ØÁªßÁª≠Ëµ∞ÁºìÂ≠ò‰πüÊòØÂèØ‰ª•ÁöÑ ÔºåÊàë‰ª¨Êù•ÁúãÁúãËøôÊ†∑ÁöÑÁºìÂ≠òÁ≠ñÁï•Â¶Ç‰ΩïÂÆûÁé∞„ÄÇ let http = require(&apos;http&apos;); let path = require(&apos;path&apos;); let fs = require(&apos;fs&apos;); let url = require(&apos;url&apos;); let crypto = require(&apos;crypto&apos;); let server = http.createServer(); server.on(&apos;request&apos;,(req,res)=&gt;{ // Ëé∑ÂèñÂà∞ËØ∑Ê±ÇÁöÑË∑ØÂæÑ let {pathname,query} = url.parse(req.url,true); // Â∞ÜË∑ØÂæÑÊãºÊé•ÊàêÊúçÂä°Âô®‰∏äÂØπÂ∫îÂæóÊñá‰ª∂Ë∑ØÂæÑ let readPath = path.join(__dirname, &apos;public&apos;,pathname); try { // Ëé∑ÂèñË∑ØÂæÑÁä∂ÊÄÅ let statObj = fs.statSync(readPath); // ‰∏∫‰∫ÜÊñπ‰æøÊµãËØï Êàë‰ª¨ÂëäËØâÂÆ¢Êà∑Á´Ø‰∏çË¶ÅËµ∞Âº∫Âà∂ÁºìÂ≠ò‰∫Ü res.setHeader(&apos;Cache-Control&apos;,&apos;no-cache&apos;); if(statObj.isDirectory()){ let p = path.join(readPath,&apos;index.html&apos;); let statObj = fs.statSync(p); // Êàë‰ª¨ÈÄöËøáÊµÅÊääÊñá‰ª∂ËØªÂèñÂá∫Êù• ÁÑ∂ÂêéÂØπËØªÂèñÈóÆÊù•ÁöÑÂÜÖÂÆπËøõË°åmd5Âä†ÂØÜ ÂæóÂà∞‰∏Ä‰∏™base64Âä†ÂØÜhashÂÄº let rs = fs.createReadStream(p); let md5 = crypto.createHash(&apos;md5&apos;); let arr = []; rs.on(&apos;data&apos;,(data)=&gt;{ arr.push(data); md5.update(data); }) rs.on(&apos;end&apos;,(data)=&gt;{ let r = md5.digest(&apos;base64&apos;); // ÁÑ∂ÂêéÊàë‰ª¨Â∞ÜËøô‰∏™hashÂÄºÈÄöËøáÂìçÂ∫îÂ§¥Etag‰º†ÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂÜç‰∏ã‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰ºöÊää‰∏ä‰∏ÄÊ¨°ÁöÑEtagÂÄºÈÄöËøáËØ∑Ê±ÇÂ§¥if-none-matchÂ∏¶ËøáÊù•ÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•ÁªßÁª≠ÊØîÂØπÊñá‰ª∂ÁîüÊàêÁöÑhashÂÄºÂíå‰∏äÊ¨°‰∫ßÁîüÁöÑhashÊòØÂê¶‰∏ÄÊ†∑ Â¶ÇÊûú‰∏ÄÊ†∑ËØ¥ÊòéÊñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâÂèëÁîüÂèòÂåñ Â∞±ÂëäËØâÂÆ¢Êà∑Á´Ø304 ËØªÂèñÁºìÂ≠ò res.setHeader(&apos;Etag&apos;,r); if(req.headers[&apos;if-none-match&apos;]===r){ res.statusCode=304; res.end(); return; } res.end(Buffer.concat(arr)) }) }else{ let rs = fs.createReadStream(readPath); let md5 = crypto.createHash(&apos;md5&apos;); let arr = []; rs.on(&apos;data&apos;,(data)=&gt;{ arr.push(data); md5.update(data); }) rs.on(&apos;end&apos;,(data)=&gt;{ let r = md5.digest(&apos;base64&apos;); res.setHeader(&apos;Etag&apos;,r); if(req.headers[&apos;if-none-match&apos;]===r){ res.statusCode=304; res.end(); return; } res.end(Buffer.concat(arr)) }) } } catch (error) { console.log(error) res.setHeader(&apos;Content-Type&apos;,&apos;text/html;charset=utf8&apos;) res.statusCode = 404; res.end(`Êú™ÂèëÁé∞Êñá‰ª∂`) } }) server.listen(3000) Â§çÂà∂‰ª£Á†Å ÈÄöËøáÊéßÂà∂Âè∞Êàë‰ª¨ÂèØ‰ª•ÁúãÂá∫Êù• ËØ∑Ê±ÇÂ§¥ÂíåÂìçÂ∫îÂ§¥‰∏≠ÈÉΩÊúâÊàë‰ª¨‰∏äÈù¢ÊâÄËØ¥ÁöÑÂØπÂ∫îÁöÑÂÄºÔºå‰ΩÜÊòØ‰ªé‰ª£Á†ÅÈáåÊàë‰ª¨‰πüËÉΩÁúãÂá∫Êù•ÔºåÊàë‰ª¨ÊØèÊ¨°Âú®ËØ∑Ê±ÇÂà∞Êù•ÁöÑÊó∂ÂÄôÈÉΩ‰ºöÊääÊñá‰ª∂ÂÖ®ÈÉ®ËØªÂèñÂá∫Êù•Âπ∂‰∏îËøõË°åÂä†ÂØÜÁîü‰∫ßhashÁÑ∂ÂêéÂÜçÂÅöÂØπÊØîÔºåËøôÊ†∑ÂÖ∂ÂÆûÂçÅÂàÜÁöÑÊ∂àËÄóÊÄßËÉΩÔºåÂõ†Ê≠§ËøôÁßçÁºìÂ≠òÊñπÂºè‰πüÊúâ‰ªñËá™Â∑±ÁöÑÁº∫ÁÇπ ÊÄªÁªìÊàë‰ª¨ÈÄöËøánodeÊù•‰∫≤Ëá™ÂÆûÁé∞‰∫Ü‰∏âÁßçÁºìÂ≠òÊñπÂºèÔºåÊàë‰ª¨ÂèØ‰ª•ÊÄªÁªìÂá∫ÊØèÁßçÁºìÂ≠òÊñπÂºèÂØπÂ∫îÁöÑÂÆûÁé∞Ôºö Âº∫Âà∂ÁºìÂ≠ò ÊúçÂä°Á´ØËÆæÁΩÆÂìçÂ∫îÂ§¥Cache-Control:max-age=xxxÔºåÂπ∂‰∏îËÆæÁΩÆExpiresÂìçÂ∫îÂ§¥ËøáÊúüÊó∂Èó¥ÔºåÂÆ¢Êà∑Á´ØËá™Ë°åÂà§Êñ≠ÊòØÂê¶ËØªÂèñÁºìÂ≠ò ÂçèÂïÜÁºìÂ≠ò ÈÄöËøáÁä∂ÊÄÅÁ†Å304ÂëäËØâÂÆ¢Êà∑Á´ØËØ•Ëµ∞ÁºìÂ≠ò ‰øÆÊîπÊó∂Èó¥ÔºöÈÄöËøáÊñá‰ª∂ÁöÑÊúÄÂêé‰øÆÊîπÊó∂Èó¥Âà§Êñ≠ËØ•‰∏çËØ•ËØªÂèñÁºìÂ≠òÔºåÊúçÂä°Á´ØËÆæÁΩÆÂìçÂ∫îÂ§¥Last-Modified,ÂÆ¢Êà∑Á´ØÊää‰∏äÊ¨°ÊúçÂä°Á´ØÂìçÂ∫îÂ§¥‰∏≠ÁöÑLast-modifiedÂÄºÈÄöËøáif-modified-since ‰º†ÈÄíÁªôÊúçÂä°Á´Ø Ôºå ÊúçÂä°Á´ØÈÄöËøáÊØîËæÉÂΩìÂâçÊñá‰ª∂ÁöÑ‰øÆÊîπÊó∂Èó¥Âíå‰∏äÊ¨°‰øÆÊîπÊó∂Èó¥(‰∏äÊ¨°‰º†ÁªôÂÆ¢Êà∑Á´ØÁöÑÂÄº),Â¶ÇÊûúÁõ∏Á≠âÈÇ£‰πàËØ¥ÊòéÊñá‰ª∂‰øÆÊîπÊó∂Èó¥Ê≤°Âèò‰πüÂ∞±ÊòØÊ≤°ÂèòÂåñ Êñá‰ª∂ÂÜÖÂÆπÔºöÈÄöËøáÊñá‰ª∂ÁöÑÂÜÖÂÆπÊù•Âà§Êñ≠ËØ•‰∏çËØ•ËØªÂèñÁºìÂ≠òÔºåÊúçÂä°Á´ØÈÄöËøáÊääÊñá‰ª∂ÂÜÖÂÆπËØªÂèñÂá∫Êù•ÔºåÈÄöËøámd5ËøõË°åbase64Âä†ÂØÜÂæóÂá∫hashÂÄºÔºåÊääËøô‰∏™ÂÄºËÆæÁΩÆÂìçÂ∫îÂ§¥EtagÔºåÂÆ¢Êà∑Á´Ø‰∏ã‰∏ÄÊ¨°ËØ∑Ê±ÇÈÄöËøáif-none-matchÂ∏¶ËøáÊù•ÔºåÊúçÂä°Á´ØÂÜçÊØîÂØπÂΩìÂâçÊñá‰ª∂ÂÜÖÂÆπÂä†ÂØÜÂæóÂá∫ÁöÑhashÂÄºÂíå‰∏äÊ¨°ÊòØÂê¶‰∏ÄÊ†∑ÔºåÂ¶ÇÊûú‰∏ÄÊ†∑ËØ¥ÊòéÊñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâÂèëÁîüÊîπÂèòÔºåËøôÁßçÊñπÂºèÊòØÊúÄÂáÜÁ°ÆÁöÑÊñπÂºèÔºå‰ΩÜÊòØ‰πüÊòØÊúÄËÄóÊÄßËÉΩ]]></content>
      <tags>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSBridgeÁöÑÂéüÁêÜ]]></title>
    <url>%2F2018%2F08%2F28%2FJSBridge%E7%9A%84%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫é JSBridgeÔºåÁªùÂ§ßÂ§öÊï∞ÂêåÂ≠¶ÊúÄÊó©ÈÅáÂà∞ÁöÑÊòØÂæÆ‰ø°ÁöÑ WeiXinJSBridgeÔºàÁé∞Âú®Ë¢´Â∞ÅË£ÖÊàê JSSDKÔºâÔºåÂêÑÁßç Web È°µÈù¢ÂèØ‰ª•ÈÄöËøá Bridge Ë∞ÉÁî®ÂæÆ‰ø°Êèê‰æõÁöÑ‰∏Ä‰∫õÂéüÁîüÂäüËÉΩÔºå‰∏∫Áî®Êà∑Êèê‰æõÁõ∏ÂÖ≥ÁöÑÂäüËÉΩ„ÄÇÂÖ∂ÂÆûÔºåJSBridge ÂæàÊó©Â∞±Âá∫Áé∞Âú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÂú®‰∏Ä‰∫õÊ°åÈù¢ËΩØ‰ª∂‰∏≠ÂæàÊó©Â∞±ËøêÁî®‰∫ÜËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÂ§öÁî®Âú®ÈÄöÁü•„ÄÅ‰∫ßÂìÅËØ¶ÊÉÖ„ÄÅÂπøÂëäÁ≠âÊ®°Âùó‰∏≠ÔºåÁÑ∂ÂêéËøô‰∫õÊ®°Âùó‰∏≠Ôºå‰ΩøÁî®ÁöÑÊòØ Web UIÔºåËÄåÁõ∏ÂÖ≥ÊåâÈíÆÁÇπÂáªÂêéÔºåË∞ÉÁî®ÁöÑÊòØ Native ÂäüËÉΩ„ÄÇÁé∞Âú®ÁßªÂä®Á´ØÁõõË°åÔºå‰∏çÁÆ°ÊòØ Hybrid Â∫îÁî®ÔºåËøòÊòØ React-Native ÈÉΩÁ¶ª‰∏çÂºÄ JSBridgeÔºåÂΩìÁÑ∂‰πüÂåÖÊã¨Âú®ÂõΩÂÜÖ‰∏æË∂≥ËΩªÈáçÁöÑÂæÆ‰ø°Â∞èÁ®ãÂ∫è„ÄÇÈÇ£‰πàÔºåJSBridge Âà∞Â∫ïÊòØ‰ªÄ‰πàÔºüÂÆÉÁöÑÂá∫Áé∞ÊòØ‰∏∫‰∫Ü‰ªÄ‰πàÔºüÂÆÉÁ©∂Á´üÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºüÂú®ËøôÁØáÊñáÁ´†‰∏≠Ôºå‰ºöÂú®ÁßªÂä®Ê∑∑ÂêàÂºÄÂèëÁöÑËåÉÁï¥ÂÜÖÔºåÂ∞ÜÁªôÂ§ßÂÆ∂Â∏¶Êù• JSBridge ÁöÑÊ∑±ÂÖ•ÂâñÊûê„ÄÇ ÂΩìÁÑ∂ÔºåËøôÊÆµ‰ª£Á†ÅÁâáÊÆµÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰∏ªË¶ÅÁî®‰∫éÂâñÊûê JSBridge ÁöÑÂéüÁêÜÂíåÊµÅÁ®ãÔºåÈáåÈù¢Â≠òÂú®ËØ∏Â§öÁúÅÁï•Âíå‰∏çÂÆåÂñÑÁöÑ‰ª£Á†ÅÈÄªËæëÔºåËØªËÄÖ‰ª¨ÂèØ‰ª•Ëá™Ë°åÂÆåÂñÑ„ÄÇ 1 ÂâçË®ÄÊúâ‰∫õÁ´•ÈûãÂê¨Âà∞ JSBridge Ëøô‰∏™ÂêçËØçÔºåÂ∞±ÊòØËßâÂæóÈùûÂ∏∏È´ò‰∏äÂ§ßÔºåÊúâ‰∫ÜÂÆÉ Web Âíå Native ÂèØ‰ª•ËøõË°å‰∫§‰∫íÔºåÂ∞±ÂÉè„ÄéËøõÂåñËçØÊ∞¥„ÄèÔºåËÆ© Web ÊëáË∫´‰∏ÄÂèòÔºåÊàê‰∏∫ÁßªÂä®ÊàòÂú∫ÁöÑ„Äé‰∏äÂ∞Ü‰∏ÄÂêç„Äè„ÄÇÂÖ∂ÂÆûÂπ∂ÈùûÂ¶ÇÊ≠§ÔºåJSBridge ÂÖ∂ÂÆûÁúüÊòØ‰∏Ä‰∏™ÂæàÁÆÄÂçïÁöÑ‰∏úË•øÔºåÊõ¥Â§öÁöÑÊòØ‰∏ÄÁßçÂΩ¢Âºè„ÄÅ‰∏ÄÁßçÊÄùÊÉ≥„ÄÇ 2 JSBridge ÁöÑËµ∑Ê∫ê‰∏∫‰ªÄ‰πàÊòØ JSBridge ÔºüËÄå‰∏çÊòØ PythonBridge ÊàñÊòØ RubyBridge Ôºü ÂΩìÁÑ∂‰∏çÊòØÂõ†‰∏∫ JavaScript ËØ≠Ë®ÄÈ´ò‰∫∫‰∏ÄÁ≠âÔºàËôΩÁÑ∂ÊñØÂù¶Á¶èÂ§ßÂ≠¶Â∑≤ÁªèÊääÁÆóÊ≥ïÂØºËÆ∫ÁöÑËØ≠Ë®Ä‰ªé Java ÊîπÊàê JavaScriptÔºåÂ∞èÂæóÊÑè‰∏Ä‰∏ãÔºåÂòªÂòªÔºâÔºå‰∏ªË¶ÅÁöÑÂéüÂõ†ËøòÊòØÂõ†‰∏∫ JavaScript ‰∏ªË¶ÅËΩΩ‰Ωì Web ÊòØÂΩìÂâç‰∏ñÁïå‰∏äÁöÑ ÊúÄÊòìÁºñÂÜô „ÄÅ ÊúÄÊòìÁª¥Êä§ „ÄÅÊúÄÊòìÈÉ®ÁΩ≤ ÁöÑ UI ÊûÑÂª∫ÊñπÂºè„ÄÇÂ∑•Á®ãÂ∏àÂèØ‰ª•Áî®ÂæàÁÆÄÂçïÁöÑ HTML Ê†áÁ≠æÂíå CSS Ê†∑ÂºèÂø´ÈÄüÁöÑÊûÑÂª∫Âá∫‰∏Ä‰∏™È°µÈù¢ÔºåÂπ∂‰∏îÂú®ÊúçÂä°Á´ØÈÉ®ÁΩ≤ÂêéÔºåÁî®Êà∑‰∏çÈúÄË¶Å‰∏ªÂä®Êõ¥Êñ∞ÔºåÂ∞±ËÉΩÁúãÂà∞ÊúÄÊñ∞ÁöÑ UI Â±ïÁé∞„ÄÇ Âõ†Ê≠§ÔºåÂºÄÂèëÁª¥Êä§ÊàêÊú¨ Âíå Êõ¥Êñ∞ÊàêÊú¨ ËæÉ‰ΩéÁöÑ Web ÊäÄÊúØÊàê‰∏∫Ê∑∑ÂêàÂºÄÂèë‰∏≠Âá†‰πé‰∏ç‰∫åÁöÑÈÄâÊã©ÔºåËÄå‰Ωú‰∏∫ Web ÊäÄÊúØÈÄªËæëÊ†∏ÂøÉÁöÑ JavaScript ‰πüÁêÜÊâÄÂ∫îÂΩìËÇ©Ë¥üËµ∑‰∏éÂÖ∂‰ªñÊäÄÊúØ„ÄéÊ°•Êé•„ÄèÁöÑËÅåË¥£ÔºåÂπ∂‰∏î‰Ωú‰∏∫ÁßªÂä®‰∏çÂèØÁº∫Â∞ëÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ªª‰Ωï‰∏Ä‰∏™ÁßªÂä®Êìç‰ΩúÁ≥ªÁªü‰∏≠ÈÉΩÂåÖÂê´ÂèØËøêË°å JavaScript ÁöÑÂÆπÂô®Ôºå‰æãÂ¶Ç WebView Âíå JSCore„ÄÇÊâÄ‰ª•ÔºåËøêË°å JavaScript ‰∏çÁî®ÂÉèËøêË°åÂÖ∂‰ªñËØ≠Ë®ÄÊó∂ÔºåË¶ÅÈ¢ùÂ§ñÊ∑ªÂä†ËøêË°åÁéØÂ¢É„ÄÇÂõ†Ê≠§ÔºåÂü∫‰∫é‰∏äÈù¢ÁßçÁßçÂéüÂõ†ÔºåJSBridge Â∫îËøêËÄåÁîü„ÄÇ PhoneGapÔºàCodova ÁöÑÂâçË∫´Ôºâ‰Ωú‰∏∫ Hybrid ÈºªÁ•ñÊ°ÜÊû∂ÔºåÂ∫îËØ•ÊòØÊúÄÂÖàË¢´ÂºÄÂèëËÄÖÂπøÊ≥õËÆ§Áü•ÁöÑ JSBridge ÁöÑÂ∫îÁî®Âú∫ÊôØÔºõËÄåÂØπ‰∫é JSBridge ÁöÑÂ∫îÁî®Âú®ÂõΩÂÜÖÁúüÊ≠£ÂÖ¥ÁõõËµ∑Êù•ÔºåÂàôÊòØÂõ†‰∏∫ÊùÄÊâãÁ∫ßÂ∫îÁî®ÂæÆ‰ø°ÁöÑÂá∫Áé∞Ôºå‰∏ªË¶ÅÁî®ÈÄîÊòØÂú®ÁΩëÈ°µ‰∏≠ÈÄöËøá JSBridge ËÆæÁΩÆÂàÜ‰∫´ÂÜÖÂÆπ„ÄÇ ÁßªÂä®Á´ØÊ∑∑ÂêàÂºÄÂèë‰∏≠ÁöÑ JSBridgeÔºå‰∏ªË¶ÅË¢´Â∫îÁî®Âú®‰∏§ÁßçÂΩ¢ÂºèÁöÑÊäÄÊúØÊñπÊ°à‰∏äÔºö Âü∫‰∫é Web ÁöÑ Hybrid Ëß£ÂÜ≥ÊñπÊ°àÔºö‰æãÂ¶ÇÂæÆ‰ø°ÊµèËßàÂô®„ÄÅÂêÑÂÖ¨Âè∏ÁöÑ Hybrid ÊñπÊ°à ÈùûÂü∫‰∫é Web UI ‰ΩÜ‰∏öÂä°ÈÄªËæëÂü∫‰∫é JavaScript ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö‰æãÂ¶Ç React-Native „ÄêÊ≥®„ÄëÔºöÂæÆ‰ø°Â∞èÁ®ãÂ∫èÂü∫‰∫é Web UIÔºå‰ΩÜÊòØ‰∏∫‰∫ÜËøΩÊ±ÇËøêË°åÊïàÁéáÔºåÂØπ UI Â±ïÁé∞ÈÄªËæëÂíå‰∏öÂä°ÈÄªËæëÁöÑ JavaScript ËøõË°å‰∫ÜÈöîÁ¶ª„ÄÇÂõ†Ê≠§Â∞èÁ®ãÂ∫èÁöÑÊäÄÊúØÊñπÊ°à‰ªã‰∫é‰∏äÈù¢ÊèèËø∞ÁöÑ‰∏§ÁßçÊñπÂºè‰πãÈó¥„ÄÇ 3 JSBridge ÁöÑÁî®ÈÄîJSBridge ÁÆÄÂçïÊù•ËÆ≤Ôºå‰∏ªË¶ÅÊòØ Áªô JavaScript Êèê‰æõË∞ÉÁî® Native ÂäüËÉΩÁöÑÊé•Âè£ÔºåËÆ©Ê∑∑ÂêàÂºÄÂèë‰∏≠ÁöÑ„ÄéÂâçÁ´ØÈÉ®ÂàÜ„ÄèÂèØ‰ª•Êñπ‰æøÂú∞‰ΩøÁî®Âú∞ÂùÄ‰ΩçÁΩÆ„ÄÅÊëÑÂÉèÂ§¥ÁîöËá≥ÊîØ‰ªòÁ≠â Native ÂäüËÉΩ„ÄÇ Êó¢ÁÑ∂ÊòØ„ÄéÁÆÄÂçïÊù•ËÆ≤„ÄèÔºåÈÇ£‰πà JSBridge ÁöÑÁî®ÈÄîËÇØÂÆö‰∏çÂè™„ÄéË∞ÉÁî® Native ÂäüËÉΩ„ÄèËøô‰πàÁÆÄÂçïÂÆΩÊ≥õ„ÄÇÂÆûÈôÖ‰∏äÔºåJSBridge Â∞±ÂÉèÂÖ∂ÂêçÁß∞‰∏≠ÁöÑ„ÄéBridge„ÄèÁöÑÊÑè‰πâ‰∏ÄÊ†∑ÔºåÊòØ Native ÂíåÈùû Native ‰πãÈó¥ÁöÑÊ°•Ê¢ÅÔºåÂÆÉÁöÑÊ†∏ÂøÉÊòØ ÊûÑÂª∫ Native ÂíåÈùû Native Èó¥Ê∂àÊÅØÈÄö‰ø°ÁöÑÈÄöÈÅìÔºåËÄå‰∏îÊòØ ÂèåÂêëÈÄö‰ø°ÁöÑÈÄöÈÅì„ÄÇÊâÄË∞ì ÂèåÂêëÈÄö‰ø°ÁöÑÈÄöÈÅì: JS Âêë Native ÂèëÈÄÅÊ∂àÊÅØ : Ë∞ÉÁî®Áõ∏ÂÖ≥ÂäüËÉΩ„ÄÅÈÄöÁü• Native ÂΩìÂâç JS ÁöÑÁõ∏ÂÖ≥Áä∂ÊÄÅÁ≠â„ÄÇ Native Âêë JS ÂèëÈÄÅÊ∂àÊÅØ : ÂõûÊ∫ØË∞ÉÁî®ÁªìÊûú„ÄÅÊ∂àÊÅØÊé®ÈÄÅ„ÄÅÈÄöÁü• JS ÂΩìÂâç Native ÁöÑÁä∂ÊÄÅÁ≠â„ÄÇ ËøôÈáåÊúâ‰∫õÂêåÂ≠¶ÊúâÁñëÈóÆ‰∫ÜÔºöÊ∂àÊÅØÈÉΩÊòØÂçïÂêëÁöÑÔºåÈÇ£‰πàË∞ÉÁî® Native ÂäüËÉΩÊó∂ Callback ÊÄé‰πàÂÆûÁé∞ÁöÑÔºüÂØπ‰∫éËøô‰∏™ÈóÆÈ¢òÔºåÂú®‰∏ã‰∏ÄËäÇÈáå‰ºöÁªôÂá∫Ëß£Èáä„ÄÇ 4 JSBridge ÁöÑÂÆûÁé∞ÂéüÁêÜJavaScript ÊòØËøêË°åÂú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑ JS Context ‰∏≠Ôºà‰æãÂ¶ÇÔºåWebView ÁöÑ Webkit ÂºïÊìé„ÄÅJSCoreÔºâ„ÄÇÁî±‰∫éËøô‰∫õ Context ‰∏éÂéüÁîüËøêË°åÁéØÂ¢ÉÁöÑÂ§©ÁÑ∂ÈöîÁ¶ªÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËøôÁßçÊÉÖÂÜµ‰∏é RPCÔºàRemote Procedure CallÔºåËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºâÈÄö‰ø°ËøõË°åÁ±ªÊØîÔºåÂ∞Ü Native ‰∏é JavaScript ÁöÑÊØèÊ¨°‰∫íÁõ∏Ë∞ÉÁî®ÁúãÂÅö‰∏ÄÊ¨° RPC Ë∞ÉÁî®„ÄÇ Âú® JSBridge ÁöÑËÆæËÆ°‰∏≠ÔºåÂèØ‰ª•ÊääÂâçÁ´ØÁúãÂÅö RPC ÁöÑÂÆ¢Êà∑Á´ØÔºåÊää Native Á´ØÁúãÂÅö RPC ÁöÑÊúçÂä°Âô®Á´ØÔºå‰ªéËÄå JSBridge Ë¶ÅÂÆûÁé∞ÁöÑ‰∏ªË¶ÅÈÄªËæëÂ∞±Âá∫Áé∞‰∫ÜÔºöÈÄö‰ø°Ë∞ÉÁî®ÔºàNative ‰∏é JS ÈÄö‰ø°Ôºâ Âíå Âè•ÊüÑËß£ÊûêË∞ÉÁî®„ÄÇÔºàÂ¶ÇÊûú‰Ω†ÊòØ‰∏™ÂâçÁ´ØÔºåËÄå‰∏îÂπ∂‰∏çÁÜüÊÇâ RPC ÁöÑËØùÔºå‰Ω†‰πüÂèØ‰ª•ÊääËøô‰∏™ÊµÅÁ®ãÁ±ªÊØîÊàê JSONP ÁöÑÊµÅÁ®ãÔºâ ÈÄöËøá‰ª•‰∏äÁöÑÂàÜÊûêÔºåÂèØ‰ª•Ê∏ÖÊ•öÂú∞Áü•Êôì JSBridge ‰∏ªË¶ÅÁöÑÂäüËÉΩÂíåËÅåË¥£ÔºåÊé•‰∏ãÊù•Â∞±‰ª• Hybrid ÊñπÊ°à ‰∏∫Ê°à‰æã‰ªéËøôÂá†ÁÇπÊù•ÂâñÊûê JSBridge ÁöÑÂÆûÁé∞ÂéüÁêÜ„ÄÇ 4.1 JSBridge ÁöÑÈÄö‰ø°ÂéüÁêÜHybrid ÊñπÊ°àÊòØÂü∫‰∫é WebView ÁöÑÔºåJavaScript ÊâßË°åÂú® WebView ÁöÑ Webkit ÂºïÊìé‰∏≠„ÄÇÂõ†Ê≠§ÔºåHybrid ÊñπÊ°à‰∏≠ JSBridge ÁöÑÈÄö‰ø°ÂéüÁêÜ‰ºöÂÖ∑Êúâ‰∏Ä‰∫õ Web ÁâπÊÄß„ÄÇ 4.1.1 JavaScript Ë∞ÉÁî® NativeJavaScript Ë∞ÉÁî® Native ÁöÑÊñπÂºèÔºå‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºöÊ≥®ÂÖ• API Âíå Êã¶Êà™ URL SCHEME „ÄÇ 4.1.1.1 Ê≥®ÂÖ•APIÊ≥®ÂÖ• API ÊñπÂºèÁöÑ‰∏ªË¶ÅÂéüÁêÜÊòØÔºåÈÄöËøá WebView Êèê‰æõÁöÑÊé•Âè£ÔºåÂêë JavaScript ÁöÑ ContextÔºàwindowÔºâ‰∏≠Ê≥®ÂÖ•ÂØπË±°ÊàñËÄÖÊñπÊ≥ïÔºåËÆ© JavaScript Ë∞ÉÁî®Êó∂ÔºåÁõ¥Êé•ÊâßË°åÁõ∏Â∫îÁöÑ Native ‰ª£Á†ÅÈÄªËæëÔºåËææÂà∞ JavaScript Ë∞ÉÁî® Native ÁöÑÁõÆÁöÑ„ÄÇ ÂØπ‰∫é iOS ÁöÑ UIWebViewÔºåÂÆû‰æãÂ¶Ç‰∏ãÔºö JSContext *context = [uiWebView valueForKeyPath:@&quot;documentView.webView.mainFrame.javaScriptContext&quot;]; context[@&quot;postBridgeMessage&quot;] = ^(NSArray&lt;NSArray *&gt; *calls) { // Native ÈÄªËæë }; ÂâçÁ´ØË∞ÉÁî®ÊñπÂºèÔºö window.postBridgeMessage(message); ÂØπ‰∫é iOS ÁöÑ WKWebView ÂèØ‰ª•Áî®‰ª•‰∏ãÊñπÂºèÔºö @interface WKWebVIewVC ()&lt;WKScriptMessageHandler&gt; @implementation WKWebVIewVC - (void)viewDidLoad { [super viewDidLoad]; WKWebViewConfiguration* configuration = [[WKWebViewConfiguration alloc] init]; configuration.userContentController = [[WKUserContentController alloc] init]; WKUserContentController *userCC = configuration.userContentController; // Ê≥®ÂÖ•ÂØπË±°ÔºåÂâçÁ´ØË∞ÉÁî®ÂÖ∂ÊñπÊ≥ïÊó∂ÔºåNative ÂèØ‰ª•ÊçïËé∑Âà∞ [userCC addScriptMessageHandler:self name:@&quot;nativeBridge&quot;]; WKWebView wkWebView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:configuration]; // TODO ÊòæÁ§∫ WebView } - (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message { if ([message.name isEqualToString:@&quot;nativeBridge&quot;]) { NSLog(@&quot;ÂâçÁ´Ø‰º†ÈÄíÁöÑÊï∞ÊçÆ %@: &quot;,message.body); // Native ÈÄªËæë } } ÂâçÁ´ØË∞ÉÁî®ÊñπÂºèÔºö window.webkit.messageHandlers.nativeBridge.postMessage(message); ÂØπ‰∫é Android ÂèØ‰ª•ÈááÁî®‰∏ãÈù¢ÁöÑÊñπÂºèÔºö publicclassJavaScriptInterfaceDemoActivityextendsActivity{ private WebView Wv; @Override publicvoidonCreate(Bundle savedInstanceState){ super.onCreate(savedInstanceState); Wv = (WebView)findViewById(R.id.webView); final JavaScriptInterface myJavaScriptInterface = new JavaScriptInterface(this); Wv.getSettings().setJavaScriptEnabled(true); Wv.addJavascriptInterface(myJavaScriptInterface, &quot;nativeBridge&quot;); // TODO ÊòæÁ§∫ WebView } publicclassJavaScriptInterface{ Context mContext; JavaScriptInterface(Context c) { mContext = c; } publicvoidpostMessage(String webMessage){ // Native ÈÄªËæë } } } ÂâçÁ´ØË∞ÉÁî®ÊñπÂºèÔºö window.nativeBridge.postMessage(message); Âú® 4.2 ‰πãÂâçÔºåAndroid Ê≥®ÂÖ• JavaScript ÂØπË±°ÁöÑÊé•Âè£ÊòØ addJavascriptInterfaceÔºå‰ΩÜÊòØËøô‰∏™Êé•Âè£ÊúâÊºèÊ¥ûÔºåÂèØ‰ª•Ë¢´‰∏çÊ≥ïÂàÜÂ≠êÂà©Áî®ÔºåÂç±ÂÆ≥Áî®Êà∑ÁöÑÂÆâÂÖ®ÔºåÂõ†Ê≠§Âú® 4.2 ‰∏≠ÂºïÂÖ•Êñ∞ÁöÑÊé•Âè£ @JavascriptInterfaceÔºà‰∏äÈù¢‰ª£Á†Å‰∏≠‰ΩøÁî®ÁöÑÔºâÊù•Êõø‰ª£Ëøô‰∏™Êé•Âè£ÔºåËß£ÂÜ≥ÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇÊâÄ‰ª• Android Ê≥®ÂÖ•ÂØπÂØπË±°ÁöÑÊñπÂºèÊòØ ÊúâÂÖºÂÆπÊÄßÈóÆÈ¢òÁöÑ„ÄÇÔºà4.2 ‰πãÂâçÂæàÂ§öÊñπÊ°àÈÉΩÈááÁî®Êã¶Êà™ prompt ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÔºåÂõ†‰∏∫ÁØáÂπÖÊúâÈôêÔºåËøôÈáåÂ∞±‰∏çÂ±ïÂºÄ‰∫Ü„ÄÇÔºâ 4.1.1.2 Êã¶Êà™ URL SCHEMEÂÖàËß£Èáä‰∏Ä‰∏ã URL SCHEMEÔºöURL SCHEMEÊòØ‰∏ÄÁßçÁ±ª‰ºº‰∫éurlÁöÑÈìæÊé•ÔºåÊòØ‰∏∫‰∫ÜÊñπ‰æøappÁõ¥Êé•‰∫íÁõ∏Ë∞ÉÁî®ËÆæËÆ°ÁöÑÔºåÂΩ¢ÂºèÂíåÊôÆÈÄöÁöÑ url Ëøë‰ººÔºå‰∏ªË¶ÅÂå∫Âà´ÊòØ protocol Âíå host ‰∏ÄËà¨ÊòØËá™ÂÆö‰πâÁöÑÔºå‰æãÂ¶Ç: qunarhy://hy/url?url=ymfe.techÔºåprotocol ÊòØ qunarhyÔºåhost ÂàôÊòØ hy„ÄÇ Êã¶Êà™ URL SCHEME ÁöÑ‰∏ªË¶ÅÊµÅÁ®ãÊòØÔºöWeb Á´ØÈÄöËøáÊüêÁßçÊñπÂºèÔºà‰æãÂ¶Ç iframe.srcÔºâÂèëÈÄÅ URL Scheme ËØ∑Ê±ÇÔºå‰πãÂêé Native Êã¶Êà™Âà∞ËØ∑Ê±ÇÂπ∂Ê†πÊçÆ URL SCHEMEÔºàÂåÖÊã¨ÊâÄÂ∏¶ÁöÑÂèÇÊï∞ÔºâËøõË°åÁõ∏ÂÖ≥Êìç‰Ωú„ÄÇ Âú®Êó∂Èó¥ËøáÁ®ã‰∏≠ÔºåËøôÁßçÊñπÂºèÊúâ‰∏ÄÂÆöÁöÑ Áº∫Èô∑Ôºö ‰ΩøÁî® iframe.src ÂèëÈÄÅ URL SCHEME ‰ºöÊúâ url ÈïøÂ∫¶ÁöÑÈöêÊÇ£„ÄÇ ÂàõÂª∫ËØ∑Ê±ÇÔºåÈúÄË¶Å‰∏ÄÂÆöÁöÑËÄóÊó∂ÔºåÊØîÊ≥®ÂÖ• API ÁöÑÊñπÂºèË∞ÉÁî®ÂêåÊ†∑ÁöÑÂäüËÉΩÔºåËÄóÊó∂‰ºöËæÉÈïø„ÄÇ ‰ΩÜÊòØ‰πãÂâç‰∏∫‰ªÄ‰πàÂæàÂ§öÊñπÊ°à‰ΩøÁî®ËøôÁßçÊñπÂºèÂë¢ÔºüÂõ†‰∏∫ÂÆÉ ÊîØÊåÅ iOS6„ÄÇËÄåÁé∞Âú®ÁöÑÂ§ßÁéØÂ¢É‰∏ãÔºåiOS6 Âç†ÊØîÂæàÂ∞èÔºåÂü∫Êú¨‰∏äÂèØ‰ª•ÂøΩÁï•ÔºåÊâÄ‰ª•Âπ∂‰∏çÊé®Ëçê‰∏∫‰∫Ü iOS6 ‰ΩøÁî®ËøôÁßç Âπ∂‰∏ç‰ºòÈõÖ ÁöÑÊñπÂºè„ÄÇ „ÄêÊ≥®„ÄëÔºöÊúâ‰∫õÊñπÊ°à‰∏∫‰∫ÜËßÑÈÅø url ÈïøÂ∫¶ÈöêÊÇ£ÁöÑÁº∫Èô∑ÔºåÂú® iOS ‰∏äÈááÁî®‰∫Ü‰ΩøÁî® Ajax ÂèëÈÄÅÂêåÂüüËØ∑Ê±ÇÁöÑÊñπÂºèÔºåÂπ∂Â∞ÜÂèÇÊï∞ÊîæÂà∞ head Êàñ body Èáå„ÄÇËøôÊ†∑ÔºåËôΩÁÑ∂ËßÑÈÅø‰∫Ü url ÈïøÂ∫¶ÁöÑÈöêÊÇ£Ôºå‰ΩÜÊòØ WKWebView Âπ∂‰∏çÊîØÊåÅËøôÊ†∑ÁöÑÊñπÂºè„ÄÇ „ÄêÊ≥®2„ÄëÔºö‰∏∫‰ªÄ‰πàÈÄâÊã© iframe.src ‰∏çÈÄâÊã© locaiton.href ÔºüÂõ†‰∏∫Â¶ÇÊûúÈÄöËøá location.href ËøûÁª≠Ë∞ÉÁî® NativeÔºåÂæàÂÆπÊòì‰∏¢Â§±‰∏Ä‰∫õË∞ÉÁî®„ÄÇ 4.1.2 Native Ë∞ÉÁî® JavaScriptÁõ∏ÊØî‰∫é JavaScript Ë∞ÉÁî® NativeÔºå Native Ë∞ÉÁî® JavaScript ËæÉ‰∏∫ÁÆÄÂçïÔºåÊØïÁ´ü‰∏çÁÆ°ÊòØ iOS ÁöÑ UIWebView ËøòÊòØ WKWebViewÔºåËøòÊòØ Android ÁöÑ WebView ÁªÑ‰ª∂ÔºåÈÉΩ‰ª•Â≠êÁªÑ‰ª∂ÁöÑÂΩ¢ÂºèÂ≠òÂú®‰∫é View/Activity ‰∏≠ÔºåÁõ¥Êé•Ë∞ÉÁî®Áõ∏Â∫îÁöÑ API Âç≥ÂèØ„ÄÇ Native Ë∞ÉÁî® JavaScriptÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊâßË°åÊãºÊé• JavaScript Â≠óÁ¨¶‰∏≤Ôºå‰ªéÂ§ñÈÉ®Ë∞ÉÁî® JavaScript ‰∏≠ÁöÑÊñπÊ≥ïÔºåÂõ†Ê≠§ JavaScript ÁöÑÊñπÊ≥ïÂøÖÈ°ªÂú®ÂÖ®Â±ÄÁöÑ window ‰∏ä„ÄÇÔºàÈó≠ÂåÖÈáåÁöÑÊñπÊ≥ïÔºåJavaScript Ëá™Â∑±ÈÉΩË∞ÉÁî®‰∏ç‰∫ÜÔºåÊõ¥‰∏çÁî®ÊÉ≥ËÆ© Native ÂéªË∞ÉÁî®‰∫ÜÔºâ ÂØπ‰∫é iOS ÁöÑ UIWebViewÔºåÁ§∫‰æãÂ¶Ç‰∏ãÔºö result = [uiWebview stringByEvaluatingJavaScriptFromString:javaScriptString]; ÂØπ‰∫é iOS ÁöÑ WKWebViewÔºåÁ§∫‰æãÂ¶Ç‰∏ãÔºö [wkWebView evaluateJavaScript:javaScriptString completionHandler:completionHandler]; ÂØπ‰∫é AndroidÔºåÂú® KitkatÔºà4.4Ôºâ‰πãÂâçÂπ∂Ê≤°ÊúâÊèê‰æõ iOS Á±ª‰ººÁöÑË∞ÉÁî®ÊñπÂºèÔºåÂè™ËÉΩÁî® loadUrl ‰∏ÄÊÆµ JavaScript ‰ª£Á†ÅÔºåÊù•ÂÆûÁé∞Ôºö webView.loadUrl(&quot;javascript:&quot; + javaScriptString); ËÄå Kitkat ‰πãÂêéÁöÑÁâàÊú¨Ôºå‰πüÂèØ‰ª•Áî® evaluateJavascript ÊñπÊ≥ïÂÆûÁé∞Ôºö webView.evaluateJavascript(javaScriptString, new ValueCallback&lt;String&gt;() { @Override publicvoidonReceiveValue(String value){ } }); „ÄêÊ≥®„ÄëÔºö‰ΩøÁî® loadUrl ÁöÑÊñπÂºèÔºåÂπ∂‰∏çËÉΩËé∑Âèñ JavaScript ÊâßË°åÂêéÁöÑÁªìÊûú„ÄÇ 4.1.3 ÈÄö‰ø°ÂéüÁêÜÂ∞èÊÄªÁªìÈÄö‰ø°ÂéüÁêÜÊòØ JSBridge ÂÆûÁé∞ÁöÑÊ†∏ÂøÉÔºåÂÆûÁé∞ÊñπÂºèÂèØ‰ª•ÂêÑÁßçÂêÑÊ†∑Ôºå‰ΩÜÊòØ‰∏áÂèò‰∏çÁ¶ªÂÖ∂ÂÆó„ÄÇËøôÈáåÔºåÁ¨îËÄÖÊé®ËçêÁöÑÂÆûÁé∞ÊñπÂºèÂ¶Ç‰∏ãÔºö JavaScript Ë∞ÉÁî® Native Êé®Ëçê‰ΩøÁî® Ê≥®ÂÖ• API ÁöÑÊñπÂºèÔºàiOS6 ÂøΩÁï•ÔºåAndroid 4.2‰ª•‰∏ã‰ΩøÁî® WebViewClient ÁöÑ onJsPrompt ÊñπÂºèÔºâ„ÄÇ Native Ë∞ÉÁî® JavaScript ÂàôÁõ¥Êé•ÊâßË°åÊãºÊé•Â•ΩÁöÑ JavaScript ‰ª£Á†ÅÂç≥ÂèØ„ÄÇ ÂØπ‰∫éÂÖ∂‰ªñÊñπÂºèÔºåËØ∏Â¶Ç React Native„ÄÅÂæÆ‰ø°Â∞èÁ®ãÂ∫è ÁöÑÈÄö‰ø°ÊñπÂºèÈÉΩ‰∏é‰∏äÊèèËø∞ÁöÑËøë‰ººÔºåÂπ∂Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµËøõË°å‰ºòÂåñ„ÄÇ ‰ª• React Native ÁöÑ iOS Á´Ø‰∏æ‰æãÔºöJavaScript ËøêË°åÂú® JSCore ‰∏≠ÔºåÂÆûÈôÖ‰∏äÂèØ‰ª•‰∏é‰∏äÈù¢ÁöÑÊñπÂºè‰∏ÄÊ†∑ÔºåÂà©Áî®Ê≥®ÂÖ• API Êù•ÂÆûÁé∞ JavaScript Ë∞ÉÁî® Native ÂäüËÉΩ„ÄÇ‰∏çËøá React Native Âπ∂Ê≤°ÊúâËÆæËÆ°Êàê JavaScript Áõ¥Êé•Ë∞ÉÁî® Object-CÔºåËÄåÊòØ ‰∏∫‰∫Ü‰∏é Native ÂºÄÂèëÈáå‰∫ã‰ª∂ÂìçÂ∫îÊú∫Âà∂‰∏ÄËá¥ÔºåËÆæËÆ°Êàê ÈúÄË¶ÅÂú® Object-C ÂéªË∞É JavaScript Êó∂ÊâçÈÄöËøáËøîÂõûÂÄºËß¶ÂèëË∞ÉÁî®„ÄÇÂéüÁêÜÂü∫Êú¨‰∏ÄÊ†∑ÔºåÂè™ÊòØÂÆûÁé∞ÊñπÂºè‰∏çÂêå„ÄÇ ÂΩìÁÑ∂‰∏ç‰ªÖ‰ªÖ iOS Âíå AndroidÔºåÂÖ∂‰ªñÊâãÊú∫Êìç‰ΩúÁ≥ªÁªü‰πüÁî®Áõ∏Â∫îÁöÑ APIÔºå‰æãÂ¶Ç WMPÔºàWin 10Ôºâ‰∏ãÂèØ‰ª•Áî® window.external.notify Âíå WebView.InvokeScript/InvokeScriptAsync ËøõË°åÂèåÂêëÈÄö‰ø°„ÄÇÂÖ∂‰ªñÁ≥ªÁªü‰πüÁ±ª‰ºº„ÄÇ 4.2 JSBridge Êé•Âè£ÂÆûÁé∞‰ªé‰∏äÈù¢ÁöÑÂâñÊûê‰∏≠ÔºåÂèØ‰ª•ÂæóÁü•ÔºåJSBridge ÁöÑÊé•Âè£‰∏ªË¶ÅÂäüËÉΩÊúâ‰∏§‰∏™ÔºöË∞ÉÁî® NativeÔºàÁªô Native ÂèëÊ∂àÊÅØÔºâ Âíå Êé•Ë¢´ Native Ë∞ÉÁî®ÔºàÊé•Êî∂ Native Ê∂àÊÅØÔºâ„ÄÇÂõ†Ê≠§ÔºåJSBridge ÂèØ‰ª•ËÆæËÆ°Â¶Ç‰∏ãÔºö window.JSBridge = { // Ë∞ÉÁî® Native invoke: function(msg) { // Âà§Êñ≠ÁéØÂ¢ÉÔºåËé∑Âèñ‰∏çÂêåÁöÑ nativeBridge nativeBridge.postMessage(msg); }, receiveMessage: function(msg) { // Â§ÑÁêÜ msg } }; Âú®‰∏äÈù¢ÁöÑÊñáÁ´†‰∏≠ÔºåÊèêÂà∞Ëøá RPC ‰∏≠Êúâ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁéØËäÇÊòØ Âè•ÊüÑËß£ÊûêË∞ÉÁî® ÔºåËøôÁÇπÂú® JSBridge ‰∏≠‰ΩìÁé∞‰∏∫ Âè•ÊüÑ‰∏éÂäüËÉΩÂØπÂ∫îÂÖ≥Á≥ª„ÄÇÂêåÊó∂ÔºåÊàë‰ª¨Â∞ÜÂè•ÊüÑÊäΩË±°‰∏∫ Ê°•ÂêçÔºàBridgeNameÔºâÔºåÊúÄÁªàÊºîÂåñ‰∏∫ ‰∏Ä‰∏™ BridgeName ÂØπÂ∫î‰∏Ä‰∏™ Native ÂäüËÉΩÊàñËÄÖ‰∏ÄÁ±ª Native Ê∂àÊÅØ„ÄÇ Âü∫‰∫éÊ≠§ÁÇπÔºåJSBridge ÁöÑÂÆûÁé∞ÂèØ‰ª•‰ºòÂåñ‰∏∫Â¶Ç‰∏ãÔºö window.JSBridge = { // Ë∞ÉÁî® Native invoke: function(bridgeName, data) { // Âà§Êñ≠ÁéØÂ¢ÉÔºåËé∑Âèñ‰∏çÂêåÁöÑ nativeBridge nativeBridge.postMessage({ bridgeName: bridgeName, data: data || {} }); }, receiveMessage: function(msg) { var bridgeName = msg.bridgeName, data = msg.data || {}; // ÂÖ∑‰ΩìÈÄªËæë } }; JSBridge Â§ßÊ¶ÇÁöÑÈõèÂΩ¢Âá∫Áé∞‰∫Ü„ÄÇÁé∞Âú®Áªà‰∫éÂèØ‰ª•ÁùÄÊâãËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò‰∫ÜÔºöÊ∂àÊÅØÈÉΩÊòØÂçïÂêëÁöÑÔºåÈÇ£‰πàË∞ÉÁî® Native ÂäüËÉΩÊó∂ Callback ÊÄé‰πàÂÆûÁé∞ÁöÑÔºü ÂØπ‰∫é JSBridge ÁöÑ Callback ÔºåÂÖ∂ÂÆûÂ∞±ÊòØ RPC Ê°ÜÊû∂ÁöÑÂõûË∞ÉÊú∫Âà∂„ÄÇÂΩìÁÑ∂‰πüÂèØ‰ª•Áî®Êõ¥ÁÆÄÂçïÁöÑ JSONP Êú∫Âà∂Ëß£ÈáäÔºö ÂΩìÂèëÈÄÅ JSONP ËØ∑Ê±ÇÊó∂Ôºåurl ÂèÇÊï∞Èáå‰ºöÊúâ callback ÂèÇÊï∞ÔºåÂÖ∂ÂÄºÊòØ ÂΩìÂâçÈ°µÈù¢ÂîØ‰∏Ä ÁöÑÔºåËÄåÂêåÊó∂‰ª•Ê≠§ÂèÇÊï∞ÂÄº‰∏∫ key Â∞ÜÂõûË∞ÉÂáΩÊï∞Â≠òÂà∞ window ‰∏äÔºåÈöèÂêéÔºåÊúçÂä°Âô®ËøîÂõû script ‰∏≠Ôºå‰πü‰ºö‰ª•Ê≠§ÂèÇÊï∞ÂÄº‰Ωú‰∏∫Âè•ÊüÑÔºåË∞ÉÁî®Áõ∏Â∫îÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ Áî±Ê≠§ÂèØËßÅÔºåcallback ÂèÇÊï∞Ëøô‰∏™ ÂîØ‰∏ÄÊ†áËØÜ ÊòØËøô‰∏™ÂõûË∞ÉÈÄªËæëÁöÑÂÖ≥ÈîÆ„ÄÇËøôÊ†∑ÔºåÊàë‰ª¨ÂèØ‰ª•ÂèÇÁÖßËøô‰∏™ÈÄªËæëÊù•ÂÆûÁé∞ JSBridgeÔºöÁî®‰∏Ä‰∏™Ëá™Â¢ûÁöÑÂîØ‰∏Ä idÔºåÊù•Ê†áËØÜÂπ∂Â≠òÂÇ®ÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂ÊääÊ≠§ id ‰ª•ÂèÇÊï∞ÂΩ¢Âºè‰º†ÈÄíÁªô NativeÔºåËÄå Native ‰πü‰ª•Ê≠§ id ‰Ωú‰∏∫ÂõûÊ∫ØÁöÑÊ†áËØÜ„ÄÇËøôÊ†∑ÔºåÂç≥ÂèØÂÆûÁé∞ Callback ÂõûË∞ÉÈÄªËæë„ÄÇ (function () { var id = 0, callbacks = {}; window.JSBridge = { // Ë∞ÉÁî® Native invoke: function(bridgeName, callback, data) { // Âà§Êñ≠ÁéØÂ¢ÉÔºåËé∑Âèñ‰∏çÂêåÁöÑ nativeBridge var thisId = id ++; // Ëé∑ÂèñÂîØ‰∏Ä id callbacks[thisId] = callback; // Â≠òÂÇ® Callback nativeBridge.postMessage({ bridgeName: bridgeName, data: data || {}, callbackId: thisId // ‰º†Âà∞ Native Á´Ø }); }, receiveMessage: function(msg) { var bridgeName = msg.bridgeName, data = msg.data || {}, callbackId = msg.callbackId; // Native Â∞Ü callbackId ÂéüÂ∞Å‰∏çÂä®‰º†Âõû // ÂÖ∑‰ΩìÈÄªËæë // bridgeName Âíå callbackId ‰∏ç‰ºöÂêåÊó∂Â≠òÂú® if (callbackId) { if (callbacks[callbackId]) { // ÊâæÂà∞Áõ∏Â∫îÂè•ÊüÑ callbacks[callbackId](msg.data); // ÊâßË°åË∞ÉÁî® } } elseif (bridgeName) { } } }; })(); ÊúÄÂêéÁî®ÂêåÊ†∑ÁöÑÊñπÂºèÂä†‰∏ä Native Ë∞ÉÁî®ÁöÑÂõûË∞ÉÈÄªËæëÔºåÂêåÊó∂ÂØπ‰ª£Á†ÅËøõË°å‰∏Ä‰∫õ‰ºòÂåñÔºåÂ∞±Â§ßÊ¶ÇÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÂäüËÉΩÊØîËæÉÂÆåÊï¥ÁöÑ JSBridge„ÄÇÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ãÔºö (function () { var id = 0, callbacks = {}, registerFuncs = {}; window.JSBridge = { // Ë∞ÉÁî® Native invoke: function(bridgeName, callback, data) { // Âà§Êñ≠ÁéØÂ¢ÉÔºåËé∑Âèñ‰∏çÂêåÁöÑ nativeBridge var thisId = id ++; // Ëé∑ÂèñÂîØ‰∏Ä id callbacks[thisId] = callback; // Â≠òÂÇ® Callback nativeBridge.postMessage({ bridgeName: bridgeName, data: data || {}, callbackId: thisId // ‰º†Âà∞ Native Á´Ø }); }, receiveMessage: function(msg) { var bridgeName = msg.bridgeName, data = msg.data || {}, callbackId = msg.callbackId, // Native Â∞Ü callbackId ÂéüÂ∞Å‰∏çÂä®‰º†Âõû responstId = msg.responstId; // ÂÖ∑‰ΩìÈÄªËæë // bridgeName Âíå callbackId ‰∏ç‰ºöÂêåÊó∂Â≠òÂú® if (callbackId) { if (callbacks[callbackId]) { // ÊâæÂà∞Áõ∏Â∫îÂè•ÊüÑ callbacks[callbackId](msg.data); // ÊâßË°åË∞ÉÁî® } } elseif (bridgeName) { if (registerFuncs[bridgeName]) { // ÈÄöËøá bridgeName ÊâæÂà∞Âè•ÊüÑ var ret = {}, flag = false; registerFuncs[bridgeName].forEach(function(callback) =&gt; { callback(data, function(r) { flag = true; ret = Object.assign(ret, r); }); }); if (flag) { nativeBridge.postMessage({ // ÂõûË∞É Native responstId: responstId, ret: ret }); } } } }, register: function(bridgeName, callback) { if (!registerFuncs[bridgeName]) { registerFuncs[bridgeName] = []; } registerFuncs[bridgeName].push(callback); // Â≠òÂÇ®ÂõûË∞É } }; })(); ÂΩìÁÑ∂ÔºåËøôÊÆµ‰ª£Á†ÅÁâáÊÆµÂè™ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºå‰∏ªË¶ÅÁî®‰∫éÂâñÊûê JSBridge ÁöÑÂéüÁêÜÂíåÊµÅÁ®ãÔºåÈáåÈù¢Â≠òÂú®ËØ∏Â§öÁúÅÁï•Âíå‰∏çÂÆåÂñÑÁöÑ‰ª£Á†ÅÈÄªËæëÔºåËØªËÄÖ‰ª¨ÂèØ‰ª•Ëá™Ë°åÂÆåÂñÑ„ÄÇ „ÄêÊ≥®„ÄëÔºöËøô‰∏ÄËäÇ‰∏ªË¶ÅËÆ≤ÁöÑÊòØÔºåJavaScript Á´ØÁöÑ JSBridge ÁöÑÂÆûÁé∞ÔºåÂØπ‰∫é Native Á´ØÊ∂âÂèäÁöÑÂπ∂‰∏çÂ§ö„ÄÇÂú® Native Á´ØÈÖçÂêàÂÆûÁé∞ JSBridge ÁöÑ JavaScript Ë∞ÉÁî® Native ÈÄªËæë‰πüÂæàÁÆÄÂçïÔºå‰∏ªË¶ÅÁöÑ‰ª£Á†ÅÈÄªËæëÊòØÔºöÊé•Êî∂Âà∞ JavaScript Ê∂àÊÅØ =&gt; Ëß£ÊûêÂèÇÊï∞ÔºåÊãøÂà∞ bridgeName„ÄÅdata Âíå callbackId =&gt; Ê†πÊçÆ bridgeName ÊâæÂà∞ÂäüËÉΩÊñπÊ≥ïÔºå‰ª• data ‰∏∫ÂèÇÊï∞ÊâßË°å =&gt; ÊâßË°åËøîÂõûÂÄºÂíå callbackId ‰∏ÄËµ∑Âõû‰º†ÂâçÁ´Ø„ÄÇ Native Ë∞ÉÁî® JavaScript ‰πüÂêåÊ†∑ÁÆÄÂçïÔºåÁõ¥Êé•Ëá™Âä®ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ ResponseIdÔºåÂπ∂Â≠òÂÇ®Âè•ÊüÑÔºåÁÑ∂ÂêéÂíå data ‰∏ÄËµ∑ÂèëÈÄÅÁªôÂâçÁ´ØÂç≥ÂèØ„ÄÇ 5 JSBridge Â¶Ç‰ΩïÂºïÁî®ÂØπ‰∫é JSBridge ÁöÑÂºïÁî®ÔºåÂ∏∏Áî®Êúâ‰∏§ÁßçÊñπÂºèÔºåÂêÑÊúâÂà©Âºä„ÄÇ 5.1 Áî± Native Á´ØËøõË°åÊ≥®ÂÖ•Ê≥®ÂÖ•ÊñπÂºèÂíå Native Ë∞ÉÁî® JavaScript Á±ª‰ººÔºåÁõ¥Êé•ÊâßË°åÊ°•ÁöÑÂÖ®ÈÉ®‰ª£Á†Å„ÄÇ ÂÆÉÁöÑ‰ºòÁÇπÂú®‰∫éÔºöÊ°•ÁöÑÁâàÊú¨ÂæàÂÆπÊòì‰∏é Native ‰øùÊåÅ‰∏ÄËá¥ÔºåNative Á´Ø‰∏çÁî®ÂØπ‰∏çÂêåÁâàÊú¨ÁöÑ JSBridge ËøõË°åÂÖºÂÆπÔºõ‰∏éÊ≠§ÂêåÊó∂ÔºåÂÆÉÁöÑÁº∫ÁÇπÊòØÔºöÊ≥®ÂÖ•Êó∂Êú∫‰∏çÁ°ÆÂÆöÔºåÈúÄË¶ÅÂÆûÁé∞Ê≥®ÂÖ•Â§±Ë¥•ÂêéÈáçËØïÁöÑÊú∫Âà∂Ôºå‰øùËØÅÊ≥®ÂÖ•ÁöÑÊàêÂäüÁéáÔºåÂêåÊó∂ JavaScript Á´ØÂú®Ë∞ÉÁî®Êé•Âè£Êó∂ÔºåÈúÄË¶Å‰ºòÂÖàÂà§Êñ≠ JSBridge ÊòØÂê¶Â∑≤ÁªèÊ≥®ÂÖ•ÊàêÂäü„ÄÇ 5.2 Áî± JavaScript Á´ØÂºïÁî®Áõ¥Êé•‰∏é JavaScript ‰∏ÄËµ∑ÊâßË°å„ÄÇ ‰∏éÁî± Native Á´ØÊ≥®ÂÖ•Ê≠£Â•ΩÁõ∏ÂèçÔºåÂÆÉÁöÑ‰ºòÁÇπÂú®‰∫éÔºöJavaScript Á´ØÂèØ‰ª•Á°ÆÂÆö JSBridge ÁöÑÂ≠òÂú®ÔºåÁõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØÔºõÁº∫ÁÇπÊòØÔºöÂ¶ÇÊûúÊ°•ÁöÑÂÆûÁé∞ÊñπÂºèÊúâÊõ¥ÊîπÔºåJSBridge ÈúÄË¶ÅÂÖºÂÆπÂ§öÁâàÊú¨ÁöÑ Native Bridge ÊàñËÄÖ Native Bridge ÂÖºÂÆπÂ§öÁâàÊú¨ÁöÑ JSBridge„ÄÇ Â¶Ç‰ΩïË∞ÉÁî®‰∏âÁßçÂî§Á´ØÂ™í‰ªãÊó†ËÆ∫ÊòØ URL Scheme ËøòÊòØ Intent ÊàñËÄÖ Universal Link Ôºå‰ªñ‰ª¨ÈÉΩÁÆóÊòØ URL ÔºåÂè™ÊòØ URL Scheme Âíå Intent ÁÆóÊòØÁâπÊÆäÁöÑ URL„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Êãø‰ΩøÁî® URL ÁöÑÊñπÊ≥ïÊù•‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ iframe 1&lt;iframe src=&quot;sinaweibo://qrcode&quot;&gt; Âú®Âè™Êúâ URL Scheme ÁöÑÊó•Â≠êÈáåÔºåiframe ÊòØ‰ΩøÁî®ÊúÄÂ§öÁöÑ‰∫Ü„ÄÇÂõ†‰∏∫Âú®Êú™ÂÆâË£Ö app ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ç‰ºöÂéªË∑≥ËΩ¨ÈîôËØØÈ°µÈù¢„ÄÇ‰ΩÜÊòØ iframe Âú®ÂêÑ‰∏™Á≥ªÁªü‰ª•ÂèäÂêÑ‰∏™Â∫îÁî®‰∏≠ÁöÑÂÖºÂÆπÈóÆÈ¢òËøòÊòØÊå∫Â§öÁöÑÔºå‰∏çËÉΩÂÖ®ÈÉ®‰ΩøÁî® URL Scheme„ÄÇ a Ê†áÁ≠æ 1&lt;a href=&quot;intent://scan/#Intent;scheme=zxing;package=com.google.zxing.client.android;end&quot;&quot;&gt;Êâ´‰∏ÄÊâ´&lt;/a&gt; ÂØπ‰∫éÂä®ÊÄÅÁîüÊàêÁöÑ a Ê†áÁ≠æÔºå‰ΩøÁî® dispatch Êù•Ê®°ÊãüËß¶ÂèëÁÇπÂáª‰∫ã‰ª∂ÔºåÂèëÁé∞ÂæàÂ§öÁßç event ‰º†ÈÄíËøáÂéªÈÉΩÊó†ÊïàÔºõ‰ΩøÁî® click() Êù•Ê®°ÊãüËß¶ÂèëÔºåÈÉ®ÂàÜÂú∫ÊôØ‰∏ãÂ≠òÂú®ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåÁ¨¨‰∏ÄÊ¨°ÁÇπÂáªËøáÂêéÔºåÂõûÂà∞ÂéüÂÖàÈ°µÈù¢ÔºåÂÜçÊ¨°ÁÇπÂáªÔºåÁÇπÂáª‰ΩçÁΩÆÂíåÈ°µÈù¢ÊâÄËØÜÂà´‰ΩçÁΩÆÊúâ‰∏çÂ∞èÁöÑÂÅèÁßªÔºåÊâÄ‰ª• Intent ÂçèËÆÆ‰ªé a Ê†áÁ≠æÊç¢Êàê‰∫Ü window.location„ÄÇ window.location URL Scheme Âú® ios 9+ ‰∏äËØ∏Â¶Ç safari„ÄÅUC„ÄÅQQÊµèËßàÂô®‰∏≠Ôºå iframe ÂùáÊó†Ê≥ïÊàêÂäüÂî§Ëµ∑ APPÔºåÂè™ËÉΩÈÄöËøá window.location ÊâçËÉΩÊàêÂäüÂî§Á´Ø„ÄÇÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑ app ÊîØÊåÅ Universal LinkÔºåios 9+ Â∞±Áî®‰∏çÂà∞ URL Scheme ‰∫Ü„ÄÇËÄå Universal Link Âú®‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊàëÂèëÁé∞Âú® qq ‰∏≠ÔºåÊó†ËÆ∫ÊòØ iframe ÂØºËà™ ËøòÊòØ a Ê†áÁ≠æÊâìÂºÄ ÂèàÊàñËÄÖ window.location ÈÉΩÊó†Ê≥ïÊàêÂäüÂî§Á´ØÔºå‰∏ÄÂºÄÂßãÊàë‰ª•‰∏∫ÊòØ qq ÂíåÂæÆ‰ø°‰∏ÄÊ†∑Á¶ÅÊ≠¢‰∫Ü Universal Link Âî§Á´ØÁöÑÂäüËÉΩÔºåÂÖ∂ÂÆû‰∏çÁÑ∂ÔºåÁôæËà¨ËØïÈ™å‰∏ãÔºåÈÄöËøá top.location Âî§Á´ØÊàêÂäü‰∫Ü„ÄÇ Âà§Êñ≠Âî§Á´ØÊòØÂê¶ÊàêÂäü1234567891011121314151617181920212223const initialTime = new Date();let counter = 0;let waitTime = 0;const checkOpen = setInterval(() =&gt; &#123; count++; waitTime = new Date() - initialTime; if (waitTime &gt; 2500) &#123; clearInterval(checkOpen); cb(); &#125; if (counter &lt; 100) return; clearInterval(checkOpen); const hide = document.hidden || document.webkitHidden; if (!hide) &#123; cb(); // Âî§Á´ØÂ§±Ë¥•ÁöÑÂõûË∞ÉÂáΩÊï∞ &#125;&#125;, 20); APP Â¶ÇÊûúË¢´Âî§Ëµ∑ÁöÑËØùÔºåÈ°µÈù¢Â∞±‰ºöËøõÂÖ•ÂêéÂè∞ËøêË°åÔºåsetInterval Âú® ios ‰∏≠‰∏ç‰ºöÂÅúÊ≠¢ËøêË°åÔºåÂú® android ‰∏≠ÂÅúÊ≠¢ËøêË°å„ÄÇÊØè 20ms ÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°å 100Ê¨° Âú®È°µÈù¢‰∏≠ÂÆûÈôÖËÄóË¥π‰∏é 2000 ms ‰∏ç‰ºöÁõ∏Â∑ÆÂ§öÂ∞ë„ÄÇÊàë‰ª¨ÁöÑÂà§Êñ≠Êù°‰ª∂ÊØîÈ¢ÑÊúüÊó∂Èó¥Â§öËÆæÁΩÆ‰∫Ü 500msÔºåÊâÄ‰ª•Â¶ÇÊûúÂÆâÂçì‰∏≠ setInterval ÂÜÖÁöÑÂáΩÊï∞ÊâßË°å 100 Ê¨°‰ª•ÂÜÖÊâÄË¥πÊó∂Èó¥Ë∂ÖËøá 2500msÔºåÂàôËØ¥Êòé APP Âî§Ëµ∑ÊàêÂäüÔºåÂèç‰πãÂàô‰ª£Ë°®Â§±Ë¥•„ÄÇÊàë‰ª¨ÈÄöËøá document.hidden Âíå document.webkitHidden Â±ûÊÄßÊù•Âà§Êñ≠ APP Âú® ios ‰∏≠ÊòØÂê¶Ë¢´Ê≠£Â∏∏Âî§Ëµ∑Ôºå2000ms ÂÜÖÔºåÈ°µÈù¢ËΩ¨ÂÖ•ÂêéÂè∞ËøêË°åÔºådocument.hidden ‰ºöËøîÂõû trueÔºå‰ª£Ë°®Âî§Á´ØÊàêÂäüÔºåÂèç‰πãÂàô‰ª£Ë°®Â§±Ë¥•„ÄÇ Âà§Êñ≠ÊòØÂê¶ÂÆâË£ÖappÂπ∂ÊâìÂºÄ,Âê¶ÂàôË∑≥ËΩ¨‰∏ãËΩΩÁöÑÊñπÊ≥ï Â∫îÁî®Âú∫ÊôØ App‰∫ßÂìÅÂú®ËøêËê•Êé®Âπø‰∏äÊúâ‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÂ∞±ÊòØË¶ÅÊ±ÇÂèØ‰ª•ËÆ©Áî®Êà∑Âú®ËÆøÈóÆÊàë‰ª¨ÁöÑÊé®ÂπøÁΩëÈ°µÊó∂ÔºåÂ∞±ÂèØ‰ª•Âà§Êñ≠Âá∫Ëøô‰∏™Áî®Êà∑ÊâãÊú∫‰∏äÊòØÂê¶ÂÆâË£Ö‰∫ÜÊàë‰ª¨ÁöÑAppÔºåÂ¶ÇÊûúÂÆâË£Ö‰∫ÜÂàôÂèØ‰ª•Áõ¥Êé•Âú®ÁΩëÈ°µ‰∏äÊâìÂºÄÔºåÂê¶ÂàôÂ∞±ÂºïÂØºÁî®Êà∑ÂâçÂæÄ‰∏ãËΩΩ„ÄÇ‰ªéËÄåÂΩ¢Êàê‰∏Ä‰∏™Êé®Âπø‰∏äÁöÑÈó≠ÁéØ„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï ËÄåÂØπ‰∫éÁÇπÂáªÈìæÊé•ÂêéÔºåËÉΩÂê¶Áõ¥Êé•ÊâìÂºÄÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊù•ÂÆûÁé∞„ÄÇÂâçÊèêÊù°‰ª∂Ôºö‰Ω†ÂæóÁü•ÈÅì‰Ω†ÁöÑAPPÂØπÂ∫îÁöÑÊâìÂºÄÂçèËÆÆÔºåÂ¶ÇË¥¥ÂêßAPPÔºåÂçèËÆÆ‰∏∫Ôºöcom.baidu.tieba:// ÔºåÂæÆ‰ø°ÁöÑÔºöweixin:// ÔºåÁ≠âÁ≠â 12345678910111213141516&lt;!-- aÊ†áÁ≠æÁÇπÂáªÊâìÂºÄÁöÑÂä®‰ΩúÔºåÂú®click‰∫ã‰ª∂‰∏≠Ê≥®ÂÜå --&gt;&lt;a href=&quot;javascript:;&quot; id=&quot;openApp&quot;&gt;Ë¥¥ÂêßÂÆ¢Êà∑Á´Ø&lt;/a&gt;&lt;script type=&quot;text/javascript&quot;&gt; document.getElementById(&apos;openApp&apos;).onclick = function(e)&#123; // ÈÄöËøáiframeÁöÑÊñπÂºèËØïÂõæÊâìÂºÄAPPÔºåÂ¶ÇÊûúËÉΩÊ≠£Â∏∏ÊâìÂºÄÔºå‰ºöÁõ¥Êé•ÂàáÊç¢Âà∞APPÔºåÂπ∂Ëá™Âä®ÈòªÊ≠¢jsÂÖ∂‰ªñË°å‰∏∫ var ifr = document.createElement(&apos;iframe&apos;); ifr.src = &apos;com.baidu.tieba://&apos;;//ÊâìÂºÄappÁöÑÂçèËÆÆÔºåÊúâappÂêå‰∫ãÊèê‰æõ ifr.style.display = &apos;none&apos;; document.body.appendChild(ifr); window.setTimeout(function()&#123; document.body.removeChild(ifr); window.location.href = &quot;https://itunes.apple.com/cn/app/id477927812&quot;;//ÊâìÂºÄapp‰∏ãËΩΩÂú∞ÂùÄÔºåÊúâappÂêå‰∫ãÊèê‰æõ &#125;,2000) &#125;;&lt;/script&gt; Ê≠§ÊñπÊ≥ïÊúâ‰∫õÊµèËßàÂô®‰∏çÂÖºÂÆπiframeÔºåÂèØ‰ª•window.locationÁöÑÊñπÊ≥ïËß£ÂÜ≥123456789&lt;a href=&quot;javascript:;&quot; id=&quot;openApp&quot;&gt;Ë¥¥ÂêßÂÆ¢Êà∑Á´Ø&lt;/a&gt;&lt;script type=&quot;text/javascript&quot;&gt; document.getElementById(&apos;openApp&apos;).onclick = function(e)&#123; window.location.href = &quot;com.baidu.tieba://&quot;; window.setTimeout(function()&#123; window.location.href = &quot;https://itunes.apple.com/cn/app/id477927812&quot;;//ÊâìÂºÄapp‰∏ãËΩΩÂú∞ÂùÄÔºåÊúâappÂêå‰∫ãÊèê‰æõ &#125;,2000) &#125;;&lt;/script&gt; jsÂà§Êñ≠Êú¨Âú∞ÊòØÂê¶ÂÆâË£Öapp123456789101112131415161718192021222324252627&lt;script language=&quot;javascript&quot;&gt; document.getElementById(&apos;openApp&apos;).onclick = function(e)&#123; if(navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) &#123; var loadDateTime = new Date(); window.setTimeout(function() &#123; var timeOutDateTime = new Date(); if(timeOutDateTime - loadDateTime &lt; 5000) &#123; window.location = &quot;https://itunes.apple.com/cn/app/id477927812&quot;; &#125; else &#123; window.close(); &#125; &#125;, 25); window.location = &quot;weixin:// &quot;; &#125; else if(navigator.userAgent.match(/android/i)) &#123; var state = null; try &#123; state = window.open(&quot;weixin://&quot;); &#125; catch(e) &#123;&#125; if(state) &#123; window.close(); &#125; else &#123; window.location = &quot;http://dldir1.qq.com/weixin/android/weixin656android1020.apk&quot;; &#125; &#125; &#125; &lt;/script&gt; Â¶ÇÊûúÊú¨Âú∞ÂÆâË£Ö‰∫ÜappÈÇ£‰πàÁõ¥Êé•ÊâìÂºÄÔºåÂê¶ÂàôËãπÊûúË¶ÅË∑≥ËΩ¨Âà∞app-storeÔºåÂÆâÂçìÂàôË¶ÅË∑≥Âà∞ÂØπÂ∫îÁöÑÂ∏ÇÂú∫ Ëß£ÂÜ≥ÊñπÊ°à ‰∏Ä 123456789101112131415161718192021222324//html‰ª£Á†Å‰∏≠ ÁöÑ a Ê†áÁ≠æÔºå‰ª•ÂæÆ‰ø°‰∏∫‰æãÔºåÈªòËÆ§ÁöÑÊòØË∞ÉÁî®weixin schemeÔºåÂéªÊâìÂºÄÊú¨Êú∫ÁöÑÂæÆ‰ø°ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôË∑≥ËΩ¨Âà∞Áõ∏Â∫îËøûÊé• &lt;a href=&quot;weixin://&quot; class=&quot;btn-download&quot;&gt;Á´ãÂç≥ÊâìÂºÄ&lt;/a&gt; // ‰∏∫btn-download ÁªëÂÆö‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÂú®500msÂÜÖÔºåÊ≤°ÊúâËß£ÊûêÂà∞ÂçèËÆÆÔºåÈÇ£‰πàÂ∞±‰ºöË∑≥ËΩ¨Âà∞‰∏ãËΩΩÈìæÊé• var appstore, ua = navigator.userAgent; if(ua.match(/Android/i))&#123; appstore = &apos;market://search?q=com.singtel.travelbuddy.android&apos;; &#125; if(ua.match(/iphone|ipod|ipad/))&#123; appstore = &quot;https://itunes.apple.com/cn/app/wei-xin/id414478124?mt=8&amp;ign-mpt=uo%3D4&quot;; &#125; function applink(fail)&#123; return function()&#123; var clickedAt = +new Date; // During tests on 3g/3gs this timeout fires immediately if less than 500ms. setTimeout(function()&#123; // To avoid failing on return to MobileSafari, ensure freshness! if (+new Date - clickedAt &lt; 2000)&#123; window.location = fail; &#125; &#125;, 500); &#125;; &#125; $(&apos;.icon-download, .btn-download&apos;)[0].onclick = applink(appstore); Ëß£ÂÜ≥ÊñπÊ°à‰∫å ÈÄöËøáÂú®È°µÈù¢‰∏≠ÁîüÊàê‰∏Ä‰∏™ÈöêËóèÁöÑiframeÔºåiframeÁöÑsrcÊåáÂêë app ÂçèËÆÆÔºå‰æãÂ¶Ç weixin schemeÔºåÂπ∂ÁõëÂê¨onerror‰∫ã‰ª∂ÔºåÊÑèÊÄùÊòØÂ¶ÇÊûúÊó†Ê≥ïËß£ÊûêÂçèËÆÆÔºåÂ∞±‰ºöËß¶Âèëonerror‰∫ã‰ª∂Ôºå‰ΩÜÊòØÊàëÂ∞ùËØï‰∫Ü‰∏Ä‰∏ãÔºåÊú™Êûú„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºåÂèØÂèÇËÄÉ‰∏Ä‰∏ã 12345678910111213141516// È°µÈù¢‰∏≠Êúâdiv#iframe-box Áî®Êù•ÊèíÂÖ•ÁîüÊàêÁöÑiframeÔºåËøòÊòØ‰ª•ÂæÆ‰ø°‰∏∫‰æã var ifm = document.createElement(&apos;iframe&apos;), isInstalled; ifm.style.display = &apos;none&apos;; ifm.src = &apos;wixin://&apos;; ifm.onload = function(e)&#123; var e = e || window.event; e.preventDefault(); &#125; ifm.onerror = function()&#123; //isInstalled = false; alert(1); &#125; document.getElementById(&apos;iframe-box&apos;).appendChild(ifm); // ‰ΩÜËøôÊó∂ÁöÑÈóÆÈ¢òÊòØÔºåiframeÁöÑsrcÊàêÂäüËß£ÊûêÂà∞‰∫ÜÂçèËÆÆÔºåÂàô‰ºöÁõ¥Êé•Ë∑≥ËΩ¨Ôºå‰ΩÜÊòØËß£Êûê‰∏çÂà∞ÁöÑËØùÔºå‰πü‰∏ç‰ºöËß¶Âèëerror‰∫ã‰ª∂ÔºåËøô‰∏™ËøòË¶ÅÁªßÁª≠Á†îÁ©∂ // ÂèØ‰ª•Êää‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºåÊîæÂà∞ÂáΩÊï∞‰∏≠ÔºåÁÑ∂Âêé‰Ωú‰∏∫Êüê‰∏™ÊåâÈíÆÁöÑÂìçÂ∫îÂáΩÊï∞„ÄÇ Ëß£ÂÜ≥ÊñπÊ°à‰∏â ÂØπ‰∫éiosÊâãÊú∫Ôºå‰ºöÊúâÂ¶Ç‰∏ãÂÜôÊ≥ï1&lt;meta name=&quot;apple-itunes-app&quot; content=&quot;app-id=414478124&quot; /&gt; Â∞Ü‰∏äÈù¢‰ª£Á†ÅÊîæÂà∞head‰∏≠ÔºåÊ†πÊçÆname‰πü‰ºöÁü•ÈÅìÊÑèÊÄùÔºåapp-idÊòØÂæÆ‰ø°ÁöÑapp-idÔºåÁî®iosÊâãÊú∫Áúã‰ºöÁúãÂà∞ÊèêÁ§∫ÔºåandriodÊØîÂèØ‰ª•ÔºåÁªìÊûúËá™Ë°åÂÆûÈ™å„ÄÇÔºàiosÂ∞±ÊòØÂº∫Â§ßÔºâ H5Âî§Ëµ∑ÂÆ¢Êà∑Á´ØÈÄöÁî®Êú∫ÊñπÊ°àH5Âî§Ëµ∑ÂÆ¢Êà∑Á´Ø6 ÊÄªÁªìËøôÁØáÊñáÁ´†‰∏ªË¶ÅÂâñÊûêÁöÑ JSBridge ÁöÑÂÆûÁé∞ÂèäÂ∫îÁî®ÔºåÂåÖÊã¨ JavaScript ‰∏é Native Èó¥ÁöÑÈÄö‰ø°ÂéüÁêÜÔºåJSBridge ÁöÑ JavaScript Á´ØÂÆûÁé∞ ‰ª•Âèä ÂºïÁî®ÊñπÂºèÔºåÂπ∂ÁªôÂá∫‰∫Ü‰∏Ä‰∫õÁ§∫‰æã‰ª£Á†ÅÔºåÂ∏åÊúõÂØπËØªËÄÖÊúâ‰∏ÄÂÆöÁöÑÂ∏ÆÂä©„ÄÇ JSBridgeÂÆûÊàò]]></content>
      <tags>
        <tag>JSBridge</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Koa sessionÂíåcookie]]></title>
    <url>%2F2018%2F08%2F25%2FKoa-session%E5%92%8Ccookie%2F</url>
    <content type="text"><![CDATA[‰ªéhttpÂçèËÆÆÁöÑÊó†Áä∂ÊÄÅÊÄßËØ¥Ëµ∑HTTPÊòØ‰∏ÄÁßçÊó†Áä∂ÊÄÅÂçèËÆÆ„ÄÇÂÖ≥‰∫éËøô‰∏™Êó†Áä∂ÊÄÅ‰πãÂâçÊàë‰πü‰∏çÂ§™ÁêÜËß£ÔºåÂõ†‰∏∫HTTPÂ∫ïÂ±ÇÊòØTCPÔºåÊó¢ÁÑ∂ÊòØTCPÔºåÂ∞±ÊòØÈïøËøûÊé•ÔºåËøô‰∏™ËøáÁ®ãÊòØ‰øùÊåÅËøûÊé•Áä∂ÊÄÅÁöÑÔºåÂèà‰∏∫‰ªÄ‰πàËØ¥httpÊòØÊó†Áä∂ÊÄÅÁöÑÂë¢ÔºüÂÖàÊù•ÊêûÊ∏ÖÊ•öËøô‰∏§‰∏™Ê¶ÇÂøµÔºö Êó†ËøûÊé•ÂíåÊó†Áä∂ÊÄÅ Êó†ËøûÊé• ÊØèÊ¨°ËøûÊé•Âè™Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÊúçÂä°Á´ØÂ§ÑÁêÜÂÆåÂÆ¢Êà∑Á´Ø‰∏ÄÊ¨°ËØ∑Ê±ÇÔºåÁ≠âÂà∞ÂÆ¢Êà∑Á´Ø‰ΩúÂá∫ÂõûÂ∫î‰πãÂêé‰æøÊñ≠ÂºÄËøûÊé•Ôºõ Êó†Áä∂ÊÄÅ ÊòØÊåáÊúçÂä°Á´ØÂØπ‰∫éÂÆ¢Êà∑Á´ØÊØèÊ¨°ÂèëÈÄÅÁöÑËØ∑Ê±ÇÈÉΩËÆ§‰∏∫ÂÆÉÊòØ‰∏Ä‰∏™Êñ∞ÁöÑËØ∑Ê±ÇÔºå‰∏ä‰∏ÄÊ¨°‰ºöËØùÂíå‰∏ã‰∏ÄÊ¨°‰ºöËØùÊ≤°ÊúâËÅîÁ≥ªÔºõ Êó†ËøûÊé•ÁöÑÁª¥Â∫¶ÊòØËøûÊé•ÔºåÊó†Áä∂ÊÄÅÁöÑÁª¥Â∫¶ÊòØËØ∑Ê±ÇÔºõhttpÊòØÂü∫‰∫étcpÁöÑÔºåËÄå‰ªéhttp1.1ÂºÄÂßãÈªòËÆ§‰ΩøÁî®ÊåÅ‰πÖËøûÊé•ÔºõÂú®Ëøô‰∏™ËøûÊé•ËøáÁ®ã‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•ÂêëÊúçÂä°Á´ØÂèëÈÄÅÂ§öÊ¨°ËØ∑Ê±ÇÔºå‰ΩÜÊòØÂêÑ‰∏™ËØ∑Ê±Ç‰πãÈó¥ÁöÑÂπ∂Ê≤°Êúâ‰ªÄ‰πàËÅîÁ≥ªÔºõËøôÊ†∑Êù•ËÄÉËôëÔºåÂ∞±ÂæàÂ•ΩÁêÜËß£Êó†Áä∂ÊÄÅËøô‰∏™Ê¶ÇÂøµ‰∫Ü„ÄÇ ÊåÅ‰πÖËøûÊé• ÊåÅ‰πÖËøûÊé•ÔºåÊú¨Ë¥®‰∏äÊòØÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®ÈÄö‰ø°ÁöÑÊó∂ÂÄôÔºåÂª∫Á´ã‰∏Ä‰∏™ÊåÅ‰πÖÂåñÁöÑTCPËøûÊé•ÔºåËøô‰∏™ËøûÊé•‰∏ç‰ºöÈöèÁùÄËØ∑Ê±ÇÁªìÊùüËÄåÂÖ≥Èó≠ÔºåÈÄöÂ∏∏‰ºö‰øùÊåÅËøûÊé•‰∏ÄÊÆµÊó∂Èó¥„ÄÇ` Áé∞ÊúâÁöÑÊåÅ‰πÖËøûÊé•Á±ªÂûãÊúâ‰∏§ÁßçÔºöHTTP/1.0+ÁöÑ keep-alive ÂíåHTTP/1.1ÁöÑ persistent „ÄÇ HTTP/1.0+ÁöÑkeep-alive ÂÖàÊù•ÂºÄ‰∏ÄÂº†ÂõæÔºöËøôÂº†ÂõæÊòØËØ∑Ê±Çwww.baidu.comÊó∂ÁöÑËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ„ÄÇËøôÈáåÈù¢Êàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö1connection: keep-alive Êàë‰ª¨ÊØèÊ¨°ÂèëÈÄÅ‰∏Ä‰∏™HTTPËØ∑Ê±ÇÔºå‰ºöÈôÑÂ∏¶‰∏Ä‰∏™connection:keep-aliveÔºåËøô‰∏™ÂèÇÊï∞Â∞±ÊòØÂ£∞Êòé‰∏Ä‰∏™ÊåÅ‰πÖËøûÊé•„ÄÇ HTTP/1.1ÁöÑpersistent HTTP/1.1ÁöÑÊåÅ‰πÖËøûÊé•ÈªòËÆ§ÊòØÂºÄÂêØÁöÑÔºåÂè™ÊúâÈ¶ñÈÉ®‰∏≠ÂåÖÂê´connectionÔºöcloseÔºåÊâç‰ºö‰∫ãÂä°ÁªìÊùü‰πãÂêéÂÖ≥Èó≠ËøûÊé•„ÄÇÂΩìÁÑ∂ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´Ø‰ªçÂèØ‰ª•ÈöèÊó∂ÂÖ≥Èó≠ÊåÅ‰πÖËøûÊé•„ÄÇ ÂΩìÂèëÈÄÅ‰∫ÜconnectionÔºöcloseÈ¶ñÈÉ®‰πãÂêéÂÆ¢Êà∑Á´ØÂ∞±Ê≤°ÊúâÂäûÊ≥ïÂú®ÈÇ£Êù°ËøûÊé•‰∏äÂèëÈÄÅÊõ¥Â§öÁöÑËØ∑Ê±Ç‰∫Ü„ÄÇÂΩìÁÑ∂Ê†πÊçÆÊåÅ‰πÖËøûÊé•ÁöÑÁâπÊÄßÔºå‰∏ÄÂÆöË¶Å‰º†ËæìÊ≠£Á°ÆÁöÑcontent-length„ÄÇ ËøòÊúâÊ†πÊçÆHTTP/1.1ÁöÑÁâπÊÄßÔºåÊòØ‰∏çÂ∫îËØ•ÂíåHTTP/1.0ÂÆ¢Êà∑Á´ØÂª∫Á´ãÊåÅ‰πÖËøûÊé•ÁöÑ„ÄÇÊúÄÂêéÔºå‰∏ÄÂÆöË¶ÅÂÅöÂ•ΩÈáçÂèëÁöÑÂáÜÂ§á„ÄÇ httpÊó†Áä∂ÊÄÅOKÔºåÈ¶ñÂÖàÊù•ÊòéÁ°Æ‰∏ãÔºåËøô‰∏™Áä∂ÊÄÅÁöÑ‰∏ª‰ΩìÊåáÁöÑÊòØ‰ªÄ‰πàÔºüÂ∫îËØ•ÊòØ‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÊòØÁî±ÊúçÂä°Á´ØÊâÄÁª¥Êä§ÁöÑ‰∏éÂÆ¢Êà∑Á´Ø‰∫§‰∫íÁöÑ‰ø°ÊÅØÔºà‰πüÁß∞‰∏∫Áä∂ÊÄÅ‰ø°ÊÅØÔºâÔºõÂõ†‰∏∫HTTPÊú¨Ë∫´ÊòØ‰∏ç‰øùÂ≠ò‰ªª‰ΩïÁî®Êà∑ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÁöÑÔºåÊâÄ‰ª•HTTPÊòØÊó†Áä∂ÊÄÅÁöÑÂçèËÆÆ„ÄÇ Â¶Ç‰Ωï‰øùÊåÅÁä∂ÊÄÅ‰ø°ÊÅØÂú®ËÅäËøô‰∏™Ëøô‰∏™ÈóÆÈ¢ò‰πãÂâçÔºåÊàë‰ª¨Êù•ËÄÉËôë‰∏ã‰∏∫‰ªÄ‰πàhttpËá™Â∑±‰∏çÊù•ÂÅöËøô‰∏™‰∫ãÊÉÖÔºö‰πüÂ∞±ÊòØËÆ©httpÂèòÊàêÊúâÁä∂ÊÄÅÁöÑ„ÄÇ httpÊú¨Ë∫´Êù•ÂÆûÁé∞Áä∂ÊÄÅÁª¥Êä§ ‰ªé‰∏äÈù¢ÂÖ≥‰∫éÊó†Áä∂ÊÄÅÁöÑÁêÜËß£ÔºåÂ¶ÇÊûúÁé∞Âú®ÈúÄË¶ÅËÆ©httpËá™Â∑±ÂèòÊàêÊúâÁä∂ÊÄÅÁöÑÔºåÂ∞±ÊÑèÂë≥ÁùÄhttpÂçèËÆÆÈúÄË¶Å‰øùÂ≠ò‰∫§‰∫íÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÔºõÊöÇ‰∏î‰∏çËØ¥ËøôÁßçÊñπÂºèÊòØÂê¶ÂêàÈÄÇÔºå‰ΩÜ‰ªéÁª¥Êä§Áä∂ÊÄÅ‰ø°ÊÅØËøô‰∏ÄÁÇπÊù•ËØ¥Ôºå‰ª£‰ª∑Â∞±ÂæàÈ´òÔºåÂõ†‰∏∫Êó¢ÁÑ∂‰øùÂ≠ò‰∫ÜÁä∂ÊÄÅ‰ø°ÊÅØÔºåÈÇ£ÂêéÁª≠ÁöÑ‰∏Ä‰∫õË°å‰∏∫ÂøÖÂÆö‰πü‰ºöÂèóÂà∞Áä∂ÊÄÅ‰ø°ÊÅØÁöÑÂΩ±Âìç„ÄÇ ‰ªéÂéÜÂè≤ËßíÂ∫¶Êù•ËØ¥ÔºåÊúÄÂàùÁöÑhttpÂçèËÆÆÂè™ÊòØÁî®Êù•ÊµèËßàÈùôÊÄÅÊñá‰ª∂ÁöÑÔºåÊó†Áä∂ÊÄÅÂçèËÆÆÂ∑≤ÁªèË∂≥Â§üÔºåËøôÊ†∑ÂÆûÁé∞ÁöÑË¥üÊãÖ‰πüÂæàËΩª„ÄÇ‰ΩÜÊòØÈöèÁùÄwebÊäÄÊúØÁöÑ‰∏çÊñ≠ÂèëÂ±ïÔºåË∂äÊù•Ë∂äÂ§öÁöÑÂú∫ÊôØÈúÄË¶ÅÁä∂ÊÄÅ‰ø°ÊÅØËÉΩÂ§üÂæó‰ª•‰øùÂ≠òÔºõ‰∏ÄÊñπÈù¢ÊòØhttpÊú¨Ë∫´‰∏ç‰ºöÂéªÊîπÂèòÂÆÉÁöÑËøôÁßçÊó†Áä∂ÊÄÅÁöÑÁâπÊÄßÔºàËá≥Â∞ëÁõÆÂâçÊòØËøôÊ†∑ÁöÑÔºâÔºåÂè¶‰∏ÄÊñπÈù¢‰∏öÂä°Âú∫ÊôØÂèàËø´ÂàáÁöÑÈúÄË¶Å‰øùÊåÅÁä∂ÊÄÅÔºõÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊù•‚ÄúË£ÖÈ•∞‚Äù‰∏Ä‰∏ãhttpÔºåÂºïÂÖ•‰∏Ä‰∫õÂÖ∂‰ªñÊú∫Âà∂Êù•ÂÆûÁé∞ÊúâÁä∂ÊÄÅ„ÄÇ cookieÂíåsession‰ΩìÁ≥ª ÈÄöËøáÂºïÂÖ•cookieÂíåsession‰ΩìÁ≥ªÊú∫Âà∂Êù•Áª¥Êä§Áä∂ÊÄÅ‰ø°ÊÅØ„ÄÇÂç≥Áî®Êà∑Á¨¨‰∏ÄÊ¨°ËÆøÈóÆÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåÊúçÂä°Âô®ÂìçÂ∫îÊä•Â§¥ÈÄöÂ∏∏‰ºöÂá∫Áé∞‰∏Ä‰∏™Set-CookieÂìçÂ∫îÂ§¥ÔºåËøôÈáåÂÖ∂ÂÆûÂ∞±ÊòØÂú®Êú¨Âú∞ËÆæÁΩÆ‰∏Ä‰∏™cookieÔºåÂΩìÁî®Êà∑ÂÜçÊ¨°ËÆøÈóÆÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåhttp‰ºöÈôÑÂ∏¶Ëøô‰∏™cookieËøáÂéªÔºåcookie‰∏≠Â≠òÊúâsessionIdËøôÊ†∑ÁöÑ‰ø°ÊÅØÊù•Âà∞ÊúçÂä°Âô®ËøôËæπÁ°ÆËÆ§ÊòØÂê¶Â±û‰∫éÂêå‰∏ÄÊ¨°‰ºöËØù„ÄÇ CookiecookieÊòØÁî±ÊúçÂä°Âô®ÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®ÔºâÁöÑÂ∞èÈáè‰ø°ÊÅØÔºå‰ª•{keyÔºövalue}ÁöÑÂΩ¢ÂºèÂ≠òÂú®„ÄÇ CookieÊú∫Âà∂ÂéüÁêÜÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊúçÂä°Âô®Êó∂ÔºåÂ¶ÇÊûúÊúçÂä°Âô®ÈúÄË¶ÅËÆ∞ÂΩïËØ•Áî®Êà∑Áä∂ÊÄÅÔºåÂ∞±‰ΩøÁî®responseÂêëÂÆ¢Êà∑Á´ØÊµèËßàÂô®È¢ÅÂèë‰∏Ä‰∏™Cookie„ÄÇËÄåÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰ºöÊääCookie‰øùÂ≠òËµ∑Êù•„ÄÇÂΩìÊµèËßàÂô®ÂÜçËØ∑Ê±Ç ÊúçÂä°Âô®Êó∂ÔºåÊµèËßàÂô®ÊääËØ∑Ê±ÇÁöÑÁΩëÂùÄËøûÂêåËØ•Cookie‰∏ÄÂêåÊèê‰∫§ÁªôÊúçÂä°Âô®„ÄÇÊúçÂä°Âô®ÈÄöËøáÊ£ÄÊü•ËØ•CookieÊù•Ëé∑ÂèñÁî®Êà∑Áä∂ÊÄÅ„ÄÇ cookie ÊòØÂ≠òÂÇ®‰∫éËÆøÈóÆËÄÖÁöÑËÆ°ÁÆóÊú∫‰∏≠ÁöÑÂèòÈáè„ÄÇÂèØ‰ª•ËÆ©Êàë‰ª¨Áî®Âêå‰∏Ä‰∏™ÊµèËßàÂô®ËÆøÈóÆÂêå‰∏Ä‰∏™ÂüüÂêçÁöÑÊó∂ÂÄôÂÖ±‰∫´Êï∞ÊçÆ„ÄÇ HTTP ÊòØÊó†Áä∂ÊÄÅÂçèËÆÆ„ÄÇÁÆÄÂçïÂú∞ËØ¥ÔºåÂΩì‰Ω†ÊµèËßà‰∫Ü‰∏Ä‰∏™È°µÈù¢ÔºåÁÑ∂ÂêéËΩ¨Âà∞Âêå‰∏Ä‰∏™ÁΩëÁ´ôÁöÑÂè¶‰∏Ä‰∏™È°µÈù¢ÔºåÊúçÂä°Âô®Êó†Ê≥ïËÆ§ËØÜÂà∞ËøôÊòØÂêå‰∏Ä‰∏™ÊµèËßàÂô®Âú®ËÆøÈóÆÂêå‰∏Ä‰∏™ÁΩëÁ´ô„ÄÇÊØè‰∏ÄÊ¨°ÁöÑËÆøÈóÆÔºåÈÉΩÊòØÊ≤°Êúâ‰ªª‰Ωï ÂÖ≥Á≥ªÁöÑ„ÄÇ Koa Cookie ÁöÑ‰ΩøÁî®1„ÄÅKoa ‰∏≠ËÆæÁΩÆ Cookie ÁöÑÂÄº1ctx.cookies.set(name, value, [options]) ÈÄöËøáoptions ËÆæÁΩÆ cookie name ÁöÑvalue : options ÂêçÁß∞ options ÂÄº maxAge ‰∏Ä‰∏™Êï∞Â≠óË°®Á§∫‰ªé Date.now() ÂæóÂà∞ÁöÑÊØ´ÁßíÊï∞ expires cookie ËøáÊúüÁöÑDate path cookie Ë∑ØÂæÑ, ÈªòËÆ§ÊòØ‚Äô/‚Äò domain cookie ÂüüÂêç,ÂèØ‰ª•ËÆøÈóÆËØ•CookieÁöÑÂüüÂêç„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫‚Äú.baidu.com‚ÄùÔºåÂàôÊâÄÊúâ‰ª•‚Äúbaidu.com‚ÄùÁªìÂ∞æÁöÑÂüüÂêçÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•CookieÔºõÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÂøÖÈ°ª‰∏∫‚Äú.‚Äù secure ÂÆâÂÖ® cookie ÈªòËÆ§ falseÔºåËÆæÁΩÆÊàê true Ë°®Á§∫Âè™Êúâ https ÂèØ‰ª•ËÆøÈóÆ httpOnly ÊòØÂê¶Âè™ÊòØÊúçÂä°Âô®ÂèØËÆøÈóÆ cookie, ÈªòËÆ§ÊòØtrue overwrite ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÊòØÂê¶Ë¶ÜÁõñ‰ª•ÂâçËÆæÁΩÆÁöÑÂêåÂêçÁöÑ cookie (ÈªòËÆ§ÊòØ false). Â¶ÇÊûúÊòØ true, Âú®Âêå‰∏Ä‰∏™ËØ∑Ê±Ç‰∏≠ËÆæÁΩÆÁõ∏ÂêåÂêçÁß∞ÁöÑÊâÄÊúâ CookieÔºà‰∏çÁÆ°Ë∑ØÂæÑÊàñÂüüÔºâ ÊòØÂê¶Âú®ËÆæÁΩÆÊ≠§ Cookie Êó∂‰ªéSet-Cookie Ê†áÂ§¥‰∏≠ËøáÊª§Êéâ„ÄÇ CookieÂ±ûÊÄß name cookieÁöÑÂêçÂ≠óÔºåCookie‰∏ÄÊó¶ÂàõÂª∫ÔºåÂêçÁß∞‰æø‰∏çÂèØÊõ¥Êîπ value cookieÂÄº comment ËØ•CookieÁöÑÁî®Â§ÑËØ¥Êòé„ÄÇÊµèËßàÂô®ÊòæÁ§∫Cookie‰ø°ÊÅØÁöÑÊó∂ÂÄôÊòæÁ§∫ËØ•ËØ¥Êòé maxAge CookieÂ§±ÊïàÁöÑÊó∂Èó¥ÔºåÂçï‰ΩçÁßí„ÄÇ Ê≠£Êï∞ÔºåÂàôË∂ÖËøámaxAgeÁßí‰πãÂêéÂ§±Êïà„ÄÇ Ë¥üÊï∞ÔºåËØ•Cookie‰∏∫‰∏¥Êó∂CookieÔºåÂÖ≥Èó≠ÊµèËßàÂô®Âç≥Â§±ÊïàÔºåÊµèËßàÂô®‰πü‰∏ç‰ºö‰ª•‰ªª‰ΩïÂΩ¢Âºè‰øùÂ≠òËØ•Cookie„ÄÇ ‰∏∫0ÔºåË°®Á§∫Âà†Èô§ËØ•Cookie„ÄÇ path ËØ•CookieÁöÑ‰ΩøÁî®Ë∑ØÂæÑ„ÄÇ‰æãÂ¶ÇÔºö path=/ÔºåËØ¥ÊòéÊú¨ÂüüÂêç‰∏ãcontextPathÈÉΩÂèØ‰ª•ËÆøÈóÆËØ•Cookie„ÄÇ path=/app/ÔºåÂàôÂè™ÊúâcontextPath‰∏∫‚Äú/app‚ÄùÁöÑÁ®ãÂ∫èÂèØ‰ª•ËÆøÈóÆËØ•Cookie pathËÆæÁΩÆÊó∂ÔºåÂÖ∂‰ª•‚Äú/‚ÄùÁªìÂ∞æ. secure ËØ•CookieÊòØÂê¶‰ªÖË¢´‰ΩøÁî®ÂÆâÂÖ®ÂçèËÆÆ‰º†Ëæì„ÄÇËøôÈáåÁöÑÂÆâÂÖ®ÂçèËÆÆÂåÖÊã¨HTTPSÔºåSSLÁ≠â„ÄÇÈªòËÆ§‰∏∫false„ÄÇ ‰ªéËØ∑Ê±Ç‰∏≠Ëé∑ÂèñCookie1ctx.cookies.get(&apos;name&apos;); CookieÂêåÊ∫ê‰∏éË∑®ÂüüÊàë‰ª¨Áü•ÈÅìÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•Ôºö URLÁî±ÂçèËÆÆ„ÄÅÂüüÂêç„ÄÅÁ´ØÂè£ÂíåË∑ØÂæÑÁªÑÊàêÔºåÂ¶ÇÊûú‰∏§‰∏™URLÁöÑÂçèËÆÆ„ÄÅÂüüÂêçÂíåÁ´ØÂè£Áõ∏ÂêåÔºåÂàôË°®Á§∫‰ªñ‰ª¨ÂêåÊ∫ê„ÄÇÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•ÔºåÈôêÂà∂‰∫ÜÊù•Ëá™‰∏çÂêåÊ∫êÁöÑ‚Äùdocument‚ÄùÊàñËÑöÊú¨ÔºåÂØπÂΩìÂâç‚Äùdocument‚ÄùËØªÂèñÊàñËÆæÁΩÆÊüê‰∫õÂ±ûÊÄß„ÄÇ ÂØπ‰∫éCookieÊù•ËØ¥ÔºåCookieÁöÑÂêåÊ∫êÂè™ÂÖ≥Ê≥®ÂüüÂêçÔºåÊòØÂøΩÁï•ÂçèËÆÆÂíåÁ´ØÂè£ÁöÑ„ÄÇÊâÄ‰ª•‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåhttps://localhost:80/Âíåhttp://localhost:8080/ÁöÑCookieÊòØÂÖ±‰∫´ÁöÑ„ÄÇ CookieÊòØ‰∏çÂèØË∑®ÂüüÁöÑÔºõÂú®Ê≤°ÊúâÁªèËøá‰ªª‰ΩïÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∫åÁ∫ßÂüüÂêç‰∏çÂêå‰πüÊòØ‰∏çË°åÁöÑ„ÄÇ(wenku.baidu.comÂíåbaike.baidu.com)„ÄÇ CookieÊï∞Èáè&amp;Â§ßÂ∞èÈôêÂà∂ÂèäÂ§ÑÁêÜÁ≠ñÁï• ‚Äì IE6.0 IE7.0/8.0 Opera FF Safari Chrome ‰∏™Êï∞/‰∏™ 20/Âüü 50/Âüü 30/Âüü 50/Âüü Êó†ÈôêÂà∂ 53/Âüü Â§ßÂ∞è/Byte 4095 4095 4096 4097 4097 4097 Koa ‰∏≠ËÆæÁΩÆ‰∏≠Êñá Cookie12345// ËΩ¨Êç¢Êàê base64 Â≠óÁ¨¶‰∏≤ÔºöaGVsbG8sIHdvcmxkIQ==console.log(new Buffer(&apos;hello, world!&apos;).toString(&apos;base64&apos;));// ËøòÂéü base64 Â≠óÁ¨¶‰∏≤Ôºöhello, world!console.log(new Buffer(&apos;aGVsbG8sIHdvcmxkIQ==&apos;, &apos;base64&apos;).toString()); eg1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586var Koa=require(&apos;koa&apos;), router = require(&apos;koa-router&apos;)(), render = require(&apos;koa-art-template&apos;), path=require(&apos;path&apos;);var app=new Koa();//ÈÖçÁΩÆ koa-art-templateÊ®°ÊùøÂºïÊìérender(app, &#123; root: path.join(__dirname, &apos;views&apos;), // ËßÜÂõæÁöÑ‰ΩçÁΩÆ extname: &apos;.html&apos;, // ÂêéÁºÄÂêç debug: process.env.NODE_ENV !== &apos;production&apos; //ÊòØÂê¶ÂºÄÂêØË∞ÉËØïÊ®°Âºè&#125;);router.get(&apos;/&apos;,async (ctx)=&gt;&#123; //Ê≠£Â∏∏Â∞±ËøôÊ†∑ÈÖçÁΩÆÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü /* ctx.cookies.set(&apos;userinfo&apos;,&apos;zhangsan&apos;,&#123; maxAge:60*1000*60 &#125;); * */ ctx.cookies.set(&apos;userinfo&apos;,&apos;zhangsan2222&apos;,&#123; maxAge:60*1000*60, // path:&apos;/news&apos;, /*ÈÖçÁΩÆÂèØ‰ª•ËÆøÈóÆÁöÑÈ°µÈù¢*/ //domain:&apos;.baidu.com&apos; /*Ê≠£Â∏∏ÊÉÖÂÜµ‰∏çË¶ÅËÆæÁΩÆ ÈªòËÆ§Â∞±ÊòØÂΩìÂâçÂüü‰∏ãÈù¢ÁöÑÊâÄÊúâÈ°µÈù¢ÈÉΩÂèØ‰ª•ÊñπÊ≥ï*/ httpOnly:false, //trueË°®Á§∫Ëøô‰∏™cookieÂè™ÊúâÊúçÂä°Âô®Á´ØÂèØ‰ª•ËÆøÈóÆÔºåfalseË°®Á§∫ÂÆ¢Êà∑Á´ØÔºàjsÔºâÔºåÊúçÂä°Âô®Á´ØÈÉΩÂèØ‰ª•ËÆøÈóÆ /* a.baidu.com b.baidu.com ÂÖ±‰∫´cookieÁöÑÊï∞ÊçÆ expressÂü∫Á°ÄÊïôÁ®ã * */ &#125;); let list=&#123; name:&apos;Âº†‰∏â&apos; &#125; await ctx.render(&apos;index&apos;,&#123; list:list &#125;);&#125;)router.get(&apos;/about&apos;,async (ctx)=&gt;&#123; ctx.cookies.set(&apos;userinfo&apos;,&apos;zhangsan33333&apos;,&#123; maxAge:60*1000*60, path:&apos;/news&apos; &#125;); ctx.body=&quot;ËøôÊòØÂÖ≥‰∫éÊàë‰ª¨&quot;;&#125;)//Êé•Êî∂postÊèê‰∫§ÁöÑÊï∞ÊçÆrouter.get(&apos;/news&apos;,async (ctx)=&gt;&#123; var userinfo=ctx.cookies.get(&apos;userinfo&apos;); console.log(userinfo); let app=&#123; name:&apos;Âº†‰∏â11&apos; &#125;; await ctx.render(&apos;news&apos;,&#123; list:app &#125;);&#125;)router.get(&apos;/shop&apos;,async (ctx)=&gt;&#123; var userinfo=ctx.cookies.get(&apos;userinfo&apos;); console.log(userinfo); ctx.body=&apos;ËøôÊòØ‰∏Ä‰∏™ÂïÜÂìÅÈ°µÈù¢&apos;+userinfo;&#125;)app.use(router.routes()); /*ÂêØÂä®Ë∑ØÁî±*/app.use(router.allowedMethods());app.listen(3000); Sessionsession ÊòØÂè¶‰∏ÄÁßçËÆ∞ÂΩïÂÆ¢Êà∑Áä∂ÊÄÅÁöÑÊú∫Âà∂Ôºå‰∏çÂêåÁöÑÊòØ Cookie ‰øùÂ≠òÂú®ÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰∏≠ÔºåËÄåsession ‰øùÂ≠òÂú®ÊúçÂä°Âô®‰∏ä„ÄÇ CookieÊú∫Âà∂Âº•Ë°•‰∫ÜHTTPÂçèËÆÆÊó†Áä∂ÊÄÅÁöÑ‰∏çË∂≥„ÄÇÂú®SessionÂá∫Áé∞‰πãÂâçÔºåÂü∫Êú¨‰∏äÊâÄÊúâÁöÑÁΩëÁ´ôÈÉΩÈááÁî®CookieÊù•Ë∑üË∏™‰ºöËØù„ÄÇ ‰∏éCookie‰∏çÂêåÁöÑÊòØÔºåsessionÊòØ‰ª•ÊúçÂä°Á´Ø‰øùÂ≠òÁä∂ÊÄÅÁöÑ„ÄÇ sessionÊú∫Âà∂ÂéüÁêÜÂΩìÊµèËßàÂô®ËÆøÈóÆÊúçÂä°Âô®Âπ∂ÂèëÈÄÅÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÊúçÂä°Âô®Á´Ø‰ºöÂàõÂª∫‰∏Ä‰∏™session ÂØπË±°ÔºåÁîüÊàê‰∏Ä‰∏™Á±ª‰ºº‰∫ékey,value ÁöÑÈîÆÂÄºÂØπÔºå ÁÑ∂ÂêéÂ∞Ükey(cookie)ËøîÂõûÂà∞ÊµèËßàÂô®(ÂÆ¢Êà∑)Á´ØÔºåÊµèËßàÂô®‰∏ãÊ¨°ÂÜçËÆøÈóÆÊó∂ÔºåÊê∫Â∏¶ key(cookie)ÔºåÊâæÂà∞ÂØπÂ∫îÁöÑ session(value)„ÄÇ ÂÆ¢Êà∑ÁöÑ‰ø°ÊÅØÈÉΩ‰øùÂ≠òÂú®session ‰∏≠ ÂΩìÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™sessionÁöÑÊó∂ÂÄôÔºåÊúçÂä°Âô®‰ºöÂÖàÊ£ÄÊü•Ëøô‰∏™ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈáåÊòØÂê¶Â∑≤ÂåÖÂê´‰∫Ü‰∏Ä‰∏™sessionÊ†áËØÜ - sessionIdÔºå Â¶ÇÊûúÂ∑≤ÂåÖÂê´Ëøô‰∏™sessionIdÔºåÂàôËØ¥Êòé‰ª•ÂâçÂ∑≤Áªè‰∏∫Ê≠§ÂÆ¢Êà∑Á´ØÂàõÂª∫ËøásessionÔºåÊúçÂä°Âô®Â∞±ÊåâÁÖßsessionIdÊääËøô‰∏™sessionÊ£ÄÁ¥¢Âá∫Êù•‰ΩøÁî®ÔºàÂ¶ÇÊûúÊ£ÄÁ¥¢‰∏çÂà∞ÔºåÂèØËÉΩ‰ºöÊñ∞Âª∫‰∏Ä‰∏™Ôºâ Â¶ÇÊûúÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏çÂåÖÂê´sessionIdÔºåÂàô‰∏∫Ê≠§ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä‰∏™sessionÂπ∂‰∏îÁîüÊàê‰∏Ä‰∏™‰∏éÊ≠§sessionÁõ∏ÂÖ≥ËÅîÁöÑsessionId sessionIdÁöÑÂÄº‰∏ÄËà¨ÊòØ‰∏Ä‰∏™Êó¢‰∏ç‰ºöÈáçÂ§çÔºåÂèà‰∏çÂÆπÊòìË¢´‰ªøÈÄ†ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰∏™sessionIdÂ∞ÜË¢´Âú®Êú¨Ê¨°ÂìçÂ∫î‰∏≠ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø‰øùÂ≠ò„ÄÇ‰øùÂ≠òsessionIdÁöÑÊñπÂºèÂ§ßÂ§öÊÉÖÂÜµ‰∏ãÁî®ÁöÑÊòØcookie„ÄÇ koa-session ÁöÑ‰ΩøÁî®: ÂÆâË£Ö express-session 1npm install koa-session --save ÂºïÂÖ•express-session 1const session = require(&apos;koa-session&apos;); ËÆæÁΩÆÂÆòÊñπÊñáÊ°£Êèê‰æõÁöÑ‰∏≠Èó¥‰ª∂ 1234567891011app.keys = [&apos;some secret hurr&apos;]; /*cookieÁöÑÁ≠æÂêç*/const CONFIG = &#123; key: &apos;koa:sess&apos;, /** ÈªòËÆ§ */ maxAge: 10000, /* cookieÁöÑËøáÊúüÊó∂Èó¥ „ÄêÈúÄË¶Å‰øÆÊîπ„Äë */ overwrite: true, /** (boolean) can overwrite or not (default true) Ê≤°ÊúâÊïàÊûúÔºåÈªòËÆ§ */ httpOnly: true, /** trueË°®Á§∫Âè™ÊúâÊúçÂä°Âô®Á´ØÂèØ‰ª•Ëé∑Âèñcookie */ signed: true, /** ÈªòËÆ§ Á≠æÂêç */ rolling: true, /** Âú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂Âº∫Ë°åËÆæÁΩÆ cookieÔºåËøôÂ∞ÜÈáçÁΩÆ cookie ËøáÊúüÊó∂Èó¥ÔºàÈªòËÆ§ÔºöfalseÔºâ „ÄêÈúÄË¶Å‰øÆÊîπ„Äë */ renew: false, /** Âø´Ë¶ÅËøáÊúüÁöÑÊó∂ÂÄôÈáçÊñ∞ËÆæÁΩÆ „ÄêÈúÄË¶Å‰øÆÊîπ„Äë*/&#125;;app.use(session(CONFIG, app)); ‰ΩøÁî® 12345//ËÆæÁΩÆÂÄº ctx.session.username = &quot;Âº†‰∏â&quot;;//Ëé∑ÂèñÂÄº ctx.session.username eg1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162var Koa=require(&apos;koa&apos;), router = require(&apos;koa-router&apos;)(), render = require(&apos;koa-art-template&apos;), path=require(&apos;path&apos;), session = require(&apos;koa-session&apos;);var app=new Koa();//ÈÖçÁΩÆ koa-art-templateÊ®°ÊùøÂºïÊìérender(app, &#123; root: path.join(__dirname, &apos;views&apos;), // ËßÜÂõæÁöÑ‰ΩçÁΩÆ extname: &apos;.html&apos;, // ÂêéÁºÄÂêç debug: process.env.NODE_ENV !== &apos;production&apos; //ÊòØÂê¶ÂºÄÂêØË∞ÉËØïÊ®°Âºè&#125;);//ÈÖçÁΩÆsessionÁöÑ‰∏≠Èó¥‰ª∂app.keys = [&apos;some secret hurr&apos;]; /*cookieÁöÑÁ≠æÂêç*/const CONFIG = &#123; key: &apos;koa:sess&apos;, /** ÈªòËÆ§ */ maxAge: 10000, /* cookieÁöÑËøáÊúüÊó∂Èó¥ „ÄêÈúÄË¶Å‰øÆÊîπ„Äë */ overwrite: true, /** (boolean) can overwrite or not (default true) Ê≤°ÊúâÊïàÊûúÔºåÈªòËÆ§ */ httpOnly: true, /** trueË°®Á§∫Âè™ÊúâÊúçÂä°Âô®Á´ØÂèØ‰ª•Ëé∑Âèñcookie */ signed: true, /** ÈªòËÆ§ Á≠æÂêç */ rolling: true, /** Âú®ÊØèÊ¨°ËØ∑Ê±ÇÊó∂Âº∫Ë°åËÆæÁΩÆ cookieÔºåËøôÂ∞ÜÈáçÁΩÆ cookie ËøáÊúüÊó∂Èó¥ÔºàÈªòËÆ§ÔºöfalseÔºâ „ÄêÈúÄË¶Å‰øÆÊîπ„Äë */ renew: false, /** (boolean) renew session when session is nearly expired „ÄêÈúÄË¶Å‰øÆÊîπ„Äë*/&#125;;app.use(session(CONFIG, app));router.get(&apos;/&apos;,async (ctx)=&gt;&#123; //Ëé∑Âèñsession console.log(ctx.session.userinfo); await ctx.render(&apos;index&apos;,&#123; list:&#123; name:&apos;Âº†‰∏â&apos; &#125; &#125;);&#125;)router.get(&apos;/news&apos;,async (ctx)=&gt;&#123; //Ëé∑Âèñsession console.log(ctx.session.userinfo); ctx.body=&quot;ÁôªÂΩïÊàêÂäü&quot;;&#125;)router.get(&apos;/login&apos;,async (ctx)=&gt;&#123; //ËÆæÁΩÆsession ctx.session.userinfo=&apos;Âº†‰∏â&apos;; ctx.body=&quot;ÁôªÂΩïÊàêÂäü&quot;;&#125;)app.use(router.routes()); /*ÂêØÂä®Ë∑ØÁî±*/app.use(router.allowedMethods());app.listen(3000); Cookie Âíå Session Âå∫Âà´1„ÄÅcookie Êï∞ÊçÆÂ≠òÊîæÂú®ÂÆ¢Êà∑ÁöÑÊµèËßàÂô®‰∏äÔºåsession Êï∞ÊçÆÊîæÂú®ÊúçÂä°Âô®‰∏ä„ÄÇ 2„ÄÅcookie ‰∏çÊòØÂæàÂÆâÂÖ®ÔºåÂà´‰∫∫ÂèØ‰ª•ÂàÜÊûêÂ≠òÊîæÂú®Êú¨Âú∞ÁöÑ COOKIE Âπ∂ËøõË°å COOKIE Ê¨∫È™óËÄÉËôëÂà∞ÂÆâÂÖ®Â∫îÂΩì‰ΩøÁî® session„ÄÇ 3„ÄÅsession ‰ºöÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖ‰øùÂ≠òÂú®ÊúçÂä°Âô®‰∏ä„ÄÇÂΩìËÆøÈóÆÂ¢ûÂ§öÔºå‰ºöÊØîËæÉÂç†Áî®‰Ω†ÊúçÂä°Âô®ÁöÑÊÄßËÉΩËÄÉËôëÂà∞ÂáèËΩªÊúçÂä°Âô®ÊÄßËÉΩÊñπÈù¢ÔºåÂ∫îÂΩì‰ΩøÁî® COOKIE„ÄÇ 4„ÄÅÂçï‰∏™ cookie ‰øùÂ≠òÁöÑÊï∞ÊçÆ‰∏çËÉΩË∂ÖËøá 4KÔºåÂæàÂ§öÊµèËßàÂô®ÈÉΩÈôêÂà∂‰∏Ä‰∏™Á´ôÁÇπÊúÄÂ§ö‰øùÂ≠ò 20 ‰∏™ cookie„ÄÇ Ëøô‰∏§ÁßçÊòØ‰∏ÄÊ†∑ÁöÑÔºõÂ¶ÇÊûúsession‰∏çÂ≠òÂú®ÔºåÂ∞±Êñ∞Âª∫‰∏Ä‰∏™ÔºõÂ¶ÇÊûúÊòØfalseÁöÑËØùÔºåÊ†áËØÜÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±ËøîÂõûnullÔºõ ÁîüÂëΩÂë®ÊúüsessionÁöÑÁîüÂëΩÂë®ÊúüÊåáÁöÑÊòØÂàõÂª∫sessionÂØπË±°Âà∞ÈîÄÊØÅÁöÑËøáÁ®ã„ÄÇ‰ºö‰æùÊçÆsessionÂØπË±°ËÆæÁΩÆÁöÑÂ≠òÊ¥ªÊó∂Èó¥ÔºåÂú®ËææÂà∞sessionÊó∂Èó¥ÂêéÂ∞ÜsessionÂØπË±°ÈîÄÊØÅ„ÄÇsessionÁîüÊàêÂêéÔºåÂè™Ë¶ÅÁî®Êà∑ÁªßÁª≠ËÆøÈóÆÔºåÊúçÂä°Âô®Â∞±‰ºöÊõ¥Êñ∞sessionÁöÑÊúÄÂêéËÆøÈóÆÊó∂Èó¥ÔºåÂπ∂Áª¥Êä§ËØ•session„ÄÇ ‰πãÂâçÂú®ÂçïËøõÁ®ãÂ∫îÁî®‰∏≠ÔºåsessionÊàë‰∏ÄËà¨ÊòØÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºå‰∏ç‰ºöÂÅöÊåÅ‰πÖÂåñÊìç‰ΩúÊàñËÄÖËØ¥‰ΩøÁî®‰∏âÊñπÁöÑÊúçÂä°Êù•Â≠òsession‰ø°ÊÅØÔºåÂ¶Çredis„ÄÇ‰ΩÜÊòØÂú®ÂàÜÂ∏ÉÂºèÂú∫ÊôØ‰∏ãÔºåËøôÁßçÂ≠òÂú®Êú¨Êú∫ÂÜÖÂ≠ò‰∏≠ÁöÑÊñπÂºèÊòæÁÑ∂ÊòØ‰∏çÈÄÇÁî®ÁöÑÔºåÂõ†‰∏∫sessionÊó†Ê≥ïÂÖ±‰∫´„ÄÇËøô‰∏™ÂêéÈù¢ËØ¥„ÄÇ sessionÁöÑÊúâÊïàÊúüsession‰∏ÄËà¨Âú®ÂÜÖÂ≠ò‰∏≠Â≠òÊîæÔºåÂÜÖÂ≠òÁ©∫Èó¥Êú¨Ë∫´Â§ßÂ∞èÂ∞±Êúâ‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄßÔºåÂõ†Ê≠§sessionÈúÄË¶ÅÈááÁî®‰∏ÄÁßçËøáÊúüÂà†Èô§ÁöÑÊú∫Âà∂Êù•Á°Æ‰øùsession‰ø°ÊÅØ‰∏ç‰ºö‰∏ÄÁõ¥Á¥ØÁßØÔºåÊù•Èò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÂèëÁîü„ÄÇ sessionÁöÑË∂ÖÊó∂Êó∂Èó¥ÂèØ‰ª•ÈÄöËøámaxInactiveIntervalÂ±ûÊÄßÊù•ËÆæÁΩÆ„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊÉ≥ËÆ©sessionÂ§±ÊïàÁöÑËØùÔºå‰πüÂèØ‰ª•ÂΩìÈÄöËøáË∞ÉÁî®sessionÁöÑinvalidate()Êù•ÂÆåÊàê„ÄÇ ÂàÜÂ∏ÉÂºèsessionÈ¶ñÂÖàÊòØ‰∏∫‰ªÄ‰πà‰ºöÊúâËøôÊ†∑ÁöÑÊ¶ÇÂøµÂá∫Áé∞Ôºü ÂÖàËÄÉËôëËøôÊ†∑‰∏Ä‰∏™ÈóÆÈ¢òÔºåÁé∞Âú®ÊàëÁöÑÂ∫îÁî®ÈúÄË¶ÅÈÉ®ÁΩ≤Âú®3Âè∞Êú∫Âô®‰∏ä„ÄÇÊòØ‰∏çÊòØÂá∫Áé∞ËøôÊ†∑‰∏ÄÁßçÊÉÖÂÜµÔºåÊàëÁ¨¨‰∏ÄÊ¨°ÁôªÈôÜÔºåËØ∑Ê±ÇÂéª‰∫ÜÊú∫Âô®1ÔºåÁÑ∂ÂêéÂÜçÊú∫Âô®1‰∏äÂàõÂª∫‰∫Ü‰∏Ä‰∏™sessionÔºõ‰ΩÜÊòØÊàëÁ¨¨‰∫åÊ¨°ËÆøÈóÆÊó∂ÔºåËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞Êú∫Âô®2‰∫ÜÔºå‰ΩÜÊòØÊú∫Âô®2‰∏äÂπ∂Ê≤°ÊúâÊàëÁöÑsession‰ø°ÊÅØÔºåÊâÄ‰ª•ÂæóÈáçÊñ∞ÁôªÂΩï„ÄÇÂΩìÁÑ∂ËøôÁßçÂèØ‰ª•ÈÄöËøánginxÁöÑIP HASHË¥üËΩΩÁ≠ñÁï•Êù•Ëß£ÂÜ≥„ÄÇÂØπ‰∫éÂêå‰∏Ä‰∏™IPËØ∑Ê±ÇÈÉΩ‰ºöÂéªÂêå‰∏Ä‰∏™Êú∫Âô®„ÄÇ ‰ΩÜÊòØ‰∏öÂä°ÂèëÂ±ïÁöÑË∂äÊù•Ë∂äÂ§ßÔºåÊãÜÂàÜÁöÑË∂äÊù•Ë∂äÂ§öÔºåÊú∫Âô®Êï∞‰∏çÊñ≠Â¢ûÂä†ÔºõÂæàÊòæÁÑ∂ÈÇ£ÁßçÊñπÊ°àÂ∞±‰∏çË°å‰∫Ü„ÄÇÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅËÄÉËôëÊòØ‰∏çÊòØÂ∫îËØ•Â∞Üsession‰ø°ÊÅØÊîæÂú®‰∏Ä‰∏™Áã¨Á´ãÁöÑÊú∫Âô®‰∏äÔºåÊâÄ‰ª•ÂàÜÂ∏ÉÂºèsessionË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂÖ∂ÂÆûÂ∞±ÊòØÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏ãÁöÑsessionÂÖ±‰∫´ÁöÑÈóÆÈ¢ò„ÄÇ ‰∏äÂõæ‰∏≠ÁöÑÂÖ≥‰∫ésessionÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊñπÂºèÊúâÂæàÂ§öÁßçÔºåÂèØ‰ª•ÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÊï∞ÊçÆÂ∫ìÊúçÂä°Ôºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÁºìÂ≠òÊúçÂä°(redisÔºåÁõÆÂâçÊØîËæÉÂ∏∏Áî®ÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÂç≥‰ΩøÁî®RedisÊù•‰Ωú‰∏∫sessionÁºìÂ≠òÊúçÂä°Âô®)„ÄÇ]]></content>
      <tags>
        <tag>koa</tag>
        <tag>session</tag>
        <tag>cookie</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[async Âπ∂ÂèëÊâßË°åÂíåÁªßÂèëÊâßË°å]]></title>
    <url>%2F2018%2F08%2F24%2Fasync-%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E5%92%8C%E7%BB%A7%E5%8F%91%E6%89%A7%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïÈ¢òÁªßÂèëÊâßË°å : 1sÂêéÊâßË°å10ÔºåÁ≠â1sÂêéËæìÂá∫20ÔºåÂÜçÁ≠â1sÂêéËæìÂá∫30 123456789101112131415161718&lt;script type=&quot;text/javascript&quot;&gt; function Pro(val) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(function() &#123; resolve(val) &#125;, 1000) &#125;) &#125; async function log(arrs) &#123; for(const item of arrs) &#123; var response = await Pro(item); console.log(response); &#125; &#125; log([10, 20, 30]) &lt;/script&gt; ÈóÆÈ¢òÔºöÁªôÂÆö‰∏Ä‰∏™ URL Êï∞ÁªÑÔºåÂ¶Ç‰ΩïÂÆûÁé∞Êé•Âè£ÁöÑÁªßÂèëÂíåÂπ∂ÂèëÔºü async ÁªßÂèëÂÆûÁé∞ÔºöÁªßÂèë‰∏Ä123456async function loadData() &#123; var res1 = await fetch(url1); var res2 = await fetch(url2); var res3 = await fetch(url3); return&quot;whew all done&quot;;&#125; ÁªßÂèë‰∫å123456async function loadData(urls) &#123; for (const url of urls) &#123; const response = await fetch(url); console.log(await response.text()); &#125;&#125; async Âπ∂ÂèëÂÆûÁé∞ÔºöÂπ∂Âèë‰∏Ä1234async function loadData() &#123; var res = awaitPromise.all([fetch(url1), fetch(url2), fetch(url3)]); return&quot;whew all done&quot;;&#125; Âπ∂Âèë‰∫å123456789101112async function loadData(urls) &#123; // Âπ∂ÂèëËØªÂèñ url const textPromises = urls.map(async url =&gt; &#123; const response = await fetch(url); return response.text(); &#125;); // ÊåâÊ¨°Â∫èËæìÂá∫ for (const textPromise of textPromises) &#123; console.log(await textPromise); &#125;&#125;]]></content>
      <tags>
        <tag>async</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÊâπÈáèÂºÇÊ≠•Êõ¥Êñ∞‰∏énextTickÂéüÁêÜ]]></title>
    <url>%2F2018%2F08%2F20%2FVue%E6%89%B9%E9%87%8F%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E4%B8%8EnextTick%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂºÇÊ≠•Êõ¥Êñ∞ Êàë‰ª¨Âú®‰æùËµñÊî∂ÈõÜÂéüÁêÜÁöÑÂìçÂ∫îÂºèÂåñÊñπÊ≥ï defineReactive ‰∏≠ÁöÑ setter ËÆøÈóÆÂô®‰∏≠ÊúâÊ¥æÂèëÊõ¥Êñ∞ dep.notify() ÊñπÊ≥ï„ÄÇ Ëøô‰∏™ÊñπÊ≥ï‰ºöÊå®‰∏™ÈÄöÁü•Âú® dep ÁöÑ subs ‰∏≠Êî∂ÈõÜÁöÑËÆ¢ÈòÖËá™Â∑±ÂèòÂä®ÁöÑwatchersÊâßË°åupdate„ÄÇ ‰∏ÄËµ∑Êù•ÁúãÁúã update ÊñπÊ≥ïÁöÑÂÆûÁé∞Ôºö // src/core/observer/watcher.js /* SubscriberÊé•Âè£ÔºåÂΩì‰æùËµñÂèëÁîüÊîπÂèòÁöÑÊó∂ÂÄôËøõË°åÂõûË∞É */ update() { if (this.computed) { // ‰∏Ä‰∏™computed watcherÊúâ‰∏§ÁßçÊ®°ÂºèÔºöactivated lazy(ÈªòËÆ§) // Âè™ÊúâÂΩìÂÆÉË¢´Ëá≥Â∞ë‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖ‰æùËµñÊó∂ÊâçÁΩÆactivatedÔºåËøôÈÄöÂ∏∏ÊòØÂè¶‰∏Ä‰∏™ËÆ°ÁÆóÂ±ûÊÄßÊàñÁªÑ‰ª∂ÁöÑrender function if (this.dep.subs.length === 0) { // Â¶ÇÊûúÊ≤°‰∫∫ËÆ¢ÈòÖËøô‰∏™ËÆ°ÁÆóÂ±ûÊÄßÁöÑÂèòÂåñ // lazyÊó∂ÔºåÊàë‰ª¨Â∏åÊúõÂÆÉÂè™Âú®ÂøÖË¶ÅÊó∂ÊâßË°åËÆ°ÁÆóÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ÊòØÁÆÄÂçïÂú∞Â∞ÜËßÇÂØüËÄÖÊ†áËÆ∞‰∏∫dirty // ÂΩìËÆ°ÁÆóÂ±ûÊÄßË¢´ËÆøÈóÆÊó∂ÔºåÂÆûÈôÖÁöÑËÆ°ÁÆóÂú®this.evaluate()‰∏≠ÊâßË°å this.dirty = true } else { // activatedÊ®°Âºè‰∏ãÔºåÊàë‰ª¨Â∏åÊúõ‰∏ªÂä®ÊâßË°åËÆ°ÁÆóÔºå‰ΩÜÂè™ÊúâÂΩìÂÄºÁ°ÆÂÆûÂèëÁîüÂèòÂåñÊó∂ÊâçÈÄöÁü•Êàë‰ª¨ÁöÑËÆ¢ÈòÖËÄÖ this.getAndInvoke(() =&gt; { this.dep.notify() // ÈÄöÁü•Ê∏≤ÊüìwatcherÈáçÊñ∞Ê∏≤ÊüìÔºåÈÄöÁü•‰æùËµñËá™Â∑±ÁöÑÊâÄÊúâwatcherÊâßË°åupdate }) } } else if (this.sync) { // ÂêåÊ≠• this.run() } else { queueWatcher(this) // ÂºÇÊ≠•Êé®ÈÄÅÂà∞Ë∞ÉÂ∫¶ËÄÖËßÇÂØüËÄÖÈòüÂàó‰∏≠Ôºå‰∏ã‰∏Ä‰∏™tickÊó∂Ë∞ÉÁî® } } Â¶ÇÊûú‰∏çÊòØ computed watcher ‰πüÈùû sync ‰ºöÊääË∞ÉÁî®updateÁöÑÂΩìÂâçwatcherÊé®ÈÄÅÂà∞Ë∞ÉÂ∫¶ËÄÖÈòüÂàó‰∏≠Ôºå‰∏ã‰∏Ä‰∏™tickÊó∂Ë∞ÉÁî®ÔºåÁúãÁúã queueWatcher Ôºö // src/core/observer/scheduler.js /* Â∞Ü‰∏Ä‰∏™ËßÇÂØüËÄÖÂØπË±°pushËøõËßÇÂØüËÄÖÈòüÂàóÔºåÂú®ÈòüÂàó‰∏≠Â∑≤ÁªèÂ≠òÂú®Áõ∏ÂêåÁöÑidÂàô * ËØ•watcherÂ∞ÜË¢´Ë∑≥ËøáÔºåÈô§ÈùûÂÆÉÊòØÂú®ÈòüÂàóÊ≠£Ë¢´flushÊó∂Êé®ÈÄÅ */ export function queueWatcher (watcher: Watcher) { const id = watcher.id if (has[id] == null) { // Ê£ÄÈ™åidÊòØÂê¶Â≠òÂú®ÔºåÂ∑≤ÁªèÂ≠òÂú®ÂàôÁõ¥Êé•Ë∑≥ËøáÔºå‰∏çÂ≠òÂú®ÂàôÊ†áËÆ∞ÂìàÂ∏åË°®hasÔºåÁî®‰∫é‰∏ãÊ¨°Ê£ÄÈ™å has[id] = true queue.push(watcher) // Â¶ÇÊûúÊ≤°ÊúâÊ≠£Âú®flushÔºåÁõ¥Êé•pushÂà∞ÈòüÂàó‰∏≠ if (!waiting) { // Ê†áËÆ∞ÊòØÂê¶Â∑≤‰º†ÁªônextTick waiting = true nextTick(flushSchedulerQueue) } } } /* ÈáçÁΩÆË∞ÉÂ∫¶ËÄÖÁä∂ÊÄÅ */ function resetSchedulerState () { queue.length = 0 has = {} waiting = false } ËøôÈáå‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ has ÁöÑÂìàÂ∏åmapÁî®Êù•Ê£ÄÊü•ÊòØÂê¶ÂΩìÂâçwatcherÁöÑidÊòØÂê¶Â≠òÂú®ÔºåËã•Â∑≤Â≠òÂú®ÂàôË∑≥Ëøá„ÄÇ ‰∏çÂ≠òÂú®ÂàôÂ∞±pushÂà∞ queue ÈòüÂàó‰∏≠Âπ∂Ê†áËÆ∞ÂìàÂ∏åË°®hasÔºåÁî®‰∫é‰∏ãÊ¨°Ê£ÄÈ™åÔºåÈò≤Ê≠¢ÈáçÂ§çÊ∑ªÂä†„ÄÇ ËøôÂ∞±ÊòØ‰∏Ä‰∏™ÂéªÈáçÁöÑËøáÁ®ãÔºåÊØîÊØèÊ¨°Êü•ÈáçÈÉΩË¶ÅÂéªqueue‰∏≠ÊâæË¶ÅÊñáÊòéÔºåÂú®Ê∏≤ÊüìÁöÑÊó∂ÂÄôÂ∞±‰∏ç‰ºöÈáçÂ§ç patch Áõ∏ÂêåwatcherÁöÑÂèòÂåñ„ÄÇ ËøôÊ†∑Â∞±ÁÆóÂêåÊ≠•‰øÆÊîπ‰∫Ü‰∏ÄÁôæÊ¨°ËßÜÂõæ‰∏≠Áî®Âà∞ÁöÑdataÔºåÂºÇÊ≠• patch ÁöÑÊó∂ÂÄô‰πüÂè™‰ºöÊõ¥Êñ∞ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπ„ÄÇ ËøôÈáåÁöÑ waiting ÊñπÊ≥ïÊòØÁî®Êù•Ê†áËÆ∞ flushSchedulerQueue ÊòØÂê¶Â∑≤Áªè‰º†ÈÄíÁªô nextTick ÁöÑÊ†áËÆ∞‰Ωç„ÄÇ Â¶ÇÊûúÂ∑≤Áªè‰º†ÈÄíÂàôÂè™pushÂà∞ÈòüÂàó‰∏≠‰∏ç‰º†ÈÄí flushSchedulerQueue Áªô nextTick„ÄÇ Á≠âÂà∞ resetSchedulerState ÈáçÁΩÆË∞ÉÂ∫¶ËÄÖÁä∂ÊÄÅÁöÑÊó∂ÂÄô waiting ‰ºöË¢´ÁΩÆÂõû false ÂÖÅËÆ∏ flushSchedulerQueue Ë¢´‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™tickÁöÑÂõûË∞É„ÄÇ ÊÄª‰πã‰øùËØÅ‰∫Ü flushSchedulerQueue ÂõûË∞ÉÂú®‰∏Ä‰∏™tickÂÜÖÂè™ÂÖÅËÆ∏Ë¢´‰º†ÂÖ•‰∏ÄÊ¨°„ÄÇ Êù•ÁúãÁúãË¢´‰º†ÈÄíÁªô nextTick ÁöÑÂõûË∞É flushSchedulerQueue ÂÅö‰∫Ü‰ªÄ‰πàÔºö // src/core/observer/scheduler.js /* nextTickÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂú®‰∏ã‰∏Ä‰∏™tickÊó∂flushÊéâ‰∏§‰∏™ÈòüÂàóÂêåÊó∂ËøêË°åwatchers */ function flushSchedulerQueue () { flushing = true let watcher, id queue.sort((a, b) =&gt; a.id - b.id) // ÊéíÂ∫è for (index = 0; index &lt; queue.length; index++) { // ‰∏çË¶ÅÂ∞ÜlengthËøõË°åÁºìÂ≠ò watcher = queue[index] if (watcher.before) { // Â¶ÇÊûúwatcherÊúâbeforeÂàôÊâßË°å watcher.before() } id = watcher.id has[id] = null // Â∞ÜhasÁöÑÊ†áËÆ∞Âà†Èô§ watcher.run() // ÊâßË°åwatcher if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; has[id] != null) { // Âú®devÁéØÂ¢É‰∏ãÊ£ÄÊü•ÊòØÂê¶ËøõÂÖ•Ê≠ªÂæ™ÁéØ circular[id] = (circular[id] || 0) + 1 // ÊØîÂ¶Çuser watcherËÆ¢ÈòÖËá™Â∑±ÁöÑÊÉÖÂÜµ if (circular[id] &gt; MAX_UPDATE_COUNT) { // ÊåÅÁª≠ÊâßË°å‰∫Ü‰∏ÄÁôæÊ¨°watch‰ª£Ë°®ÂèØËÉΩÂ≠òÂú®Ê≠ªÂæ™ÁéØ warn() // ËøõÂÖ•Ê≠ªÂæ™ÁéØÁöÑË≠¶Âëä break } } } resetSchedulerState() // ÈáçÁΩÆË∞ÉÂ∫¶ËÄÖÁä∂ÊÄÅ callActivatedHooks() // ‰ΩøÂ≠êÁªÑ‰ª∂Áä∂ÊÄÅÈÉΩÁΩÆÊàêactiveÂêåÊó∂Ë∞ÉÁî®activatedÈí©Â≠ê callUpdatedHooks() // Ë∞ÉÁî®updatedÈí©Â≠ê } Âú® nextTick ÊñπÊ≥ï‰∏≠ÊâßË°å flushSchedulerQueue ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊå®‰∏™ÊâßË°å queue ‰∏≠ÁöÑwatcherÁöÑ run ÊñπÊ≥ï„ÄÇ Êàë‰ª¨ÁúãÂà∞Âú®È¶ñÂÖàÊúâ‰∏™ queue.sort() ÊñπÊ≥ïÊääÈòüÂàó‰∏≠ÁöÑwatcherÊåâid‰ªéÂ∞èÂà∞Â§ßÊéí‰∫Ü‰∏™Â∫èÔºåËøôÊ†∑ÂÅöÂèØ‰ª•‰øùËØÅÔºö ÁªÑ‰ª∂Êõ¥Êñ∞ÁöÑÈ°∫Â∫èÊòØ‰ªéÁà∂ÁªÑ‰ª∂Âà∞Â≠êÁªÑ‰ª∂ÁöÑÈ°∫Â∫èÔºåÂõ†‰∏∫Áà∂ÁªÑ‰ª∂ÊÄªÊòØÊØîÂ≠êÁªÑ‰ª∂ÂÖàÂàõÂª∫„ÄÇ ‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑuser watchers(‰æ¶Âê¨Âô®watcher)ÊØîrender watcherÂÖàËøêË°åÔºåÂõ†‰∏∫user watchersÂæÄÂæÄÊØîrender watcherÊõ¥Êó©ÂàõÂª∫ Â¶ÇÊûú‰∏Ä‰∏™ÁªÑ‰ª∂Âú®Áà∂ÁªÑ‰ª∂watcherËøêË°åÊúüÈó¥Ë¢´ÈîÄÊØÅÔºåÂÆÉÁöÑwatcherÊâßË°åÂ∞ÜË¢´Ë∑≥Ëøá Âú®Êå®‰∏™ÊâßË°åÈòüÂàó‰∏≠ÁöÑforÂæ™ÁéØ‰∏≠Ôºåindex &lt; queue.length ËøôÈáåÊ≤°ÊúâÂ∞ÜlengthËøõË°åÁºìÂ≠ò„ÄÇ Âõ†‰∏∫Âú®ÊâßË°åÂ§ÑÁêÜÁé∞ÊúâwatcherÂØπË±°ÊúüÈó¥ÔºåÊõ¥Â§öÁöÑwatcherÂØπË±°ÂèØËÉΩ‰ºöË¢´pushËøõqueue„ÄÇ ÈÇ£‰πàÊï∞ÊçÆÁöÑ‰øÆÊîπ‰ªémodelÂ±ÇÂèçÊò†Âà∞viewÁöÑËøáÁ®ãÔºöÊï∞ÊçÆÊõ¥Êîπ -&gt; setter -&gt; Dep -&gt; Watcher -&gt; nextTick -&gt; patch -&gt; Êõ¥Êñ∞ËßÜÂõæ nextTickÂéüÁêÜ 2.1 ÂÆè‰ªªÂä°/ÂæÆ‰ªªÂä° ËøôÈáåÂ∞±Êù•ÁúãÁúãÂåÖÂê´ÁùÄÊØè‰∏™watcherÊâßË°åÁöÑÊñπÊ≥ïË¢´‰Ωú‰∏∫ÂõûË∞É‰º†ÂÖ• nextTick ‰πãÂêéÔºånextTick ÂØπËøô‰∏™ÊñπÊ≥ïÂÅö‰∫Ü‰ªÄ‰πà„ÄÇ ‰∏çËøáÈ¶ñÂÖàË¶Å‰∫ÜËß£‰∏Ä‰∏ãÊµèËßàÂô®‰∏≠ÁöÑ EventLoop„ÄÅmacro task„ÄÅmicro taskÂá†‰∏™Ê¶ÇÂøµ„ÄÇ ‰∏ç‰∫ÜËß£ÂèØ‰ª•ÂèÇËÄÉ‰∏Ä‰∏ã JS‰∏éNode.js‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØ ËøôÁØáÊñáÁ´†ÔºåËøôÈáåÂ∞±Áî®‰∏ÄÂº†ÂõæÊù•Ë°®Êòé‰∏Ä‰∏ãÂêé‰∏§ËÄÖÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÁöÑÊâßË°åÂÖ≥Á≥ªÔºö Ëß£Èáä‰∏Ä‰∏ãÔºåÂΩì‰∏ªÁ∫øÁ®ãÊâßË°åÂÆåÂêåÊ≠•‰ªªÂä°ÂêéÔºö ÂºïÊìéÈ¶ñÂÖà‰ªémacrotask queue‰∏≠ÂèñÂá∫Á¨¨‰∏Ä‰∏™‰ªªÂä°ÔºåÊâßË°åÂÆåÊØïÂêéÔºåÂ∞Ümicrotask queue‰∏≠ÁöÑÊâÄÊúâ‰ªªÂä°ÂèñÂá∫ÔºåÊåâÈ°∫Â∫èÂÖ®ÈÉ®ÊâßË°åÔºõ ÁÑ∂ÂêéÂÜç‰ªémacrotask queue‰∏≠Âèñ‰∏ã‰∏Ä‰∏™ÔºåÊâßË°åÂÆåÊØïÂêéÔºåÂÜçÊ¨°Â∞Ümicrotask queue‰∏≠ÁöÑÂÖ®ÈÉ®ÂèñÂá∫Ôºõ Âæ™ÁéØÂæÄÂ§çÔºåÁõ¥Âà∞‰∏§‰∏™queue‰∏≠ÁöÑ‰ªªÂä°ÈÉΩÂèñÂÆå„ÄÇ ÊµèËßàÂô®ÁéØÂ¢É‰∏≠Â∏∏ËßÅÁöÑÂºÇÊ≠•‰ªªÂä°ÁßçÁ±ªÔºåÊåâÁÖß‰ºòÂÖàÁ∫ßÔºö macro task Ôºö ÂêåÊ≠•‰ª£Á†Å„ÄÅsetImmediate„ÄÅMessageChannel„ÄÅsetTimeout/setInterval micro taskÔºö Promise.then„ÄÅMutationObserver ÊúâÁöÑÊñáÁ´†Êää micro task Âè´ÂæÆ‰ªªÂä°Ôºåmacro task Âè´ÂÆè‰ªªÂä°ÔºåÂõ†‰∏∫Ëøô‰∏§‰∏™ÂçïËØçÊãºÂÜôÂ§™ÂÉè‰∫Ü -„ÄÇ- ÔºåÊâÄ‰ª•ÂêéÈù¢ÁöÑÊ≥®ÈáäÂ§öÁî®‰∏≠ÊñáË°®Á§∫~ ÂÖàÊù•ÁúãÁúãÊ∫êÁ†Å‰∏≠ÂØπmicro task‰∏émacro task ÁöÑÂÆûÁé∞Ôºö macroTimerFunc„ÄÅmicroTimerFunc // src/core/util/next-tick.js const callbacks = [] // Â≠òÊîæÂºÇÊ≠•ÊâßË°åÁöÑÂõûË∞É let pending = false // ‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºåÂ¶ÇÊûúÂ∑≤ÁªèÊúâtimerFuncË¢´Êé®ÈÄÅÂà∞‰ªªÂä°ÈòüÂàó‰∏≠ÂéªÂàô‰∏çÈúÄË¶ÅÈáçÂ§çÊé®ÈÄÅ /* Êå®‰∏™ÂêåÊ≠•ÊâßË°åcallbacks‰∏≠ÂõûË∞É */ function flushCallbacks() { pending = false const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) { copies[i]() } } let microTimerFunc // ÂæÆ‰ªªÂä°ÊâßË°åÊñπÊ≥ï let macroTimerFunc // ÂÆè‰ªªÂä°ÊâßË°åÊñπÊ≥ï let useMacroTask = false // ÊòØÂê¶Âº∫Âà∂‰∏∫ÂÆè‰ªªÂä°ÔºåÈªòËÆ§‰ΩøÁî®ÂæÆ‰ªªÂä° // ÂÆè‰ªªÂä° if (typeof setImmediate !== &apos;undefined&apos; &amp;&amp; isNative(setImmediate)) { macroTimerFunc = () =&gt; { setImmediate(flushCallbacks) } } else if (typeof MessageChannel !== &apos;undefined&apos; &amp;&amp; ( isNative(MessageChannel) || MessageChannel.toString() === &apos;[object MessageChannelConstructor]&apos; // PhantomJS )) { const channel = new MessageChannel() const port = channel.port2 channel.port1.onmessage = flushCallbacks macroTimerFunc = () =&gt; { port.postMessage(1) } } else { macroTimerFunc = () =&gt; { setTimeout(flushCallbacks, 0) } } // ÂæÆ‰ªªÂä° if (typeof Promise !== &apos;undefined&apos; &amp;&amp; isNative(Promise)) { const p = Promise.resolve() microTimerFunc = () =&gt; { p.then(flushCallbacks) } } else { microTimerFunc = macroTimerFunc // fallback to macro } flushCallbacks Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØÊå®‰∏™ÂêåÊ≠•ÁöÑÂéªÊâßË°åcallbacks‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞‰ª¨Ôºåcallbacks‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞ÊòØÂú®Ë∞ÉÁî® nextTick ÁöÑÊó∂ÂÄôÊ∑ªÂä†ËøõÂéªÁöÑÔºõ ÈÇ£‰πàÊÄé‰πàÂéª‰ΩøÁî® micro task ‰∏é macro task ÂéªÊâßË°å flushCallbacks Âë¢„ÄÇ ËøôÈáå‰ªñ‰ª¨ÁöÑÂÆûÁé∞ macroTimerFunc„ÄÅmicroTimerFunc ‰ΩøÁî®ÊµèËßàÂô®‰∏≠ÂÆè‰ªªÂä°/ÂæÆ‰ªªÂä°ÁöÑAPIÂØπflushCallbacks ÊñπÊ≥ïËøõË°å‰∫Ü‰∏ÄÂ±ÇÂåÖË£Ö„ÄÇ ÊØîÂ¶ÇÂÆè‰ªªÂä°ÊñπÊ≥ï macroTimerFunc=()=&gt;{ setImmediate(flushCallbacks) }ÔºåËøôÊ†∑Âú®Ëß¶ÂèëÂÆè‰ªªÂä°ÊâßË°åÁöÑÊó∂ÂÄô macroTimerFunc() Â∞±ÂèØ‰ª•Âú®ÊµèËßàÂô®‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™ÂÆè‰ªªÂä°loopÁöÑÊó∂ÂÄôÊ∂àË¥πËøô‰∫õ‰øùÂ≠òÂú®callbacksÊï∞ÁªÑ‰∏≠ÁöÑÂõûË∞É‰∫ÜÔºåÂæÆ‰ªªÂä°ÂêåÁêÜ„ÄÇ ÂêåÊó∂‰πüÂèØ‰ª•ÁúãÂá∫‰º†Áªô nextTick ÁöÑÂºÇÊ≠•ÂõûË∞ÉÂáΩÊï∞ÊòØË¢´ÂéãÊàê‰∫Ü‰∏Ä‰∏™ÂêåÊ≠•‰ªªÂä°Âú®‰∏Ä‰∏™tickÊâßË°åÂÆåÁöÑÔºåËÄå‰∏çÊòØÂºÄÂêØÂ§ö‰∏™ÂºÇÊ≠•‰ªªÂä°„ÄÇ Ê≥®ÊÑèËøôÈáåÊúâ‰∏™ÊØîËæÉÈöæÁêÜËß£ÁöÑÂú∞ÊñπÔºåÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî® nextTick ÁöÑÊó∂ÂÄô pending ‰∏∫false„ÄÇ Ê≠§Êó∂Â∑≤ÁªèpushÂà∞ÊµèËßàÂô®event loop‰∏≠‰∏Ä‰∏™ÂÆè‰ªªÂä°ÊàñÂæÆ‰ªªÂä°ÁöÑtaskÔºåÂ¶ÇÊûúÂú®Ê≤°ÊúâflushÊéâÁöÑÊÉÖÂÜµ‰∏ãÁªßÁª≠ÂæÄcallbacksÈáåÈù¢Ê∑ªÂä†„ÄÇ ÈÇ£‰πàÂú®ÊâßË°åËøô‰∏™Âç†‰ΩçqueueÁöÑÊó∂ÂÄô‰ºöÊâßË°å‰πãÂêéÊ∑ªÂä†ÁöÑÂõûË∞ÉÔºåÊâÄ‰ª• macroTimerFunc„ÄÅmicroTimerFunc Áõ∏ÂΩì‰∫étask queueÁöÑÂç†‰Ωç„ÄÇ ‰ª•Âêé pending ‰∏∫trueÂàôÁªßÁª≠ÂæÄÂç†‰ΩçqueueÈáåÈù¢Ê∑ªÂä†Ôºåevent loopËΩÆÂà∞Ëøô‰∏™task queueÁöÑÊó∂ÂÄôÂ∞Ü‰∏ÄÂπ∂ÊâßË°å„ÄÇ ÊâßË°å flushCallbacks Êó∂ pending ÁΩÆfalseÔºåÂÖÅËÆ∏‰∏ã‰∏ÄËΩÆÊâßË°å nextTick Êó∂ÂæÄevent loopÂç†‰Ωç„ÄÇ ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ macroTimerFunc ‰∏é microTimerFunc ËøõË°å‰∫ÜÂú®‰∏çÂêåÊµèËßàÂô®ÂÖºÂÆπÊÄß‰∏ãÁöÑÂπ≥Á®≥ÈÄÄÂåñÔºåÊàñËÄÖËØ¥ÈôçÁ∫ßÁ≠ñÁï•Ôºö 1„ÄÅmacroTimerFunc Ôºö setImmediate -&gt; MessageChannel -&gt; setTimeout„ÄÇ È¶ñÂÖàÊ£ÄÊµãÊòØÂê¶ÂéüÁîüÊîØÊåÅ setImmediateÔºåËøô‰∏™ÊñπÊ≥ïÂè™Âú® IE„ÄÅEdge ÊµèËßàÂô®‰∏≠ÂéüÁîüÂÆûÁé∞„ÄÇ ÁÑ∂ÂêéÊ£ÄÊµãÊòØÂê¶ÊîØÊåÅ MessageChannelÔºåÂ¶ÇÊûúÂØπ MessageChannel ‰∏ç‰∫ÜËß£ÂèØ‰ª•ÂèÇËÄÉ‰∏Ä‰∏ãËøôÁØáÊñáÁ´†„ÄÇËøò‰∏çÊîØÊåÅÁöÑËØùÊúÄÂêé‰ΩøÁî®setTimeoutÔºõ ‰∏∫‰ªÄ‰πà‰ºòÂÖà‰ΩøÁî® setImmediate ‰∏é MessageChannel ËÄå‰∏çÁõ¥Êé•‰ΩøÁî® setTimeout Âë¢„ÄÇ ÊòØÂõ†‰∏∫HTML5ËßÑÂÆösetTimeoutÊâßË°åÁöÑÊúÄÂ∞èÂª∂Êó∂‰∏∫4msÔºåËÄåÂµåÂ•óÁöÑtimeoutË°®Áé∞‰∏∫10ms„ÄÇ ‰∏∫‰∫ÜÂ∞ΩÂèØËÉΩÂø´ÁöÑËÆ©ÂõûË∞ÉÊâßË°åÔºåÊ≤°ÊúâÊúÄÂ∞èÂª∂Êó∂ÈôêÂà∂ÁöÑÂâç‰∏§ËÄÖÊòæÁÑ∂Ë¶Å‰ºò‰∫é setTimeout„ÄÇ 2„ÄÅmicroTimerFuncÔºö Promise.then -&gt; macroTimerFunc „ÄÇ È¶ñÂÖàÊ£ÄÊü•ÊòØÂê¶ÊîØÊåÅ PromiseÔºåÂ¶ÇÊûúÊîØÊåÅÁöÑËØùÈÄöËøá Promise.then Êù•Ë∞ÉÁî® flushCallbacks ÊñπÊ≥ï„ÄÇ Âê¶ÂàôÈÄÄÂåñ‰∏∫ macroTimerFunc Ôºõ vue2.5‰πãÂêé nextTick ‰∏≠Âõ†‰∏∫ÂÖºÂÆπÊÄßÂéüÂõ†Âà†Èô§‰∫ÜÂæÆ‰ªªÂä°Âπ≥Á®≥ÈÄÄÂåñÁöÑ MutationObserver ÁöÑÊñπÂºè„ÄÇ 2.2 nextTickÂÆûÁé∞ ÊúÄÂêéÊù•ÁúãÁúãÊàë‰ª¨Âπ≥Â∏∏Áî®Âà∞ÁöÑ nextTick ÊñπÊ≥ïÂà∞Â∫ïÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºö // src/core/util/next-tick.js export function nextTick(cb?: Function, ctx?: Object) { let _resolve callbacks.push(() =&gt; { if (cb) { try { cb.call(ctx) } catch (e) { handleError(e, ctx, &apos;nextTick&apos;) } } else if (_resolve) { _resolve(ctx) } }) if (!pending) { pending = true if (useMacroTask) { macroTimerFunc() } else { microTimerFunc() } } if (!cb &amp;&amp; typeof Promise !== &apos;undefined&apos;) { return new Promise(resolve =&gt; { _resolve = resolve }) } } /* Âº∫Âà∂‰ΩøÁî®macrotaskÁöÑÊñπÊ≥ï */ export function withMacroTask(fn: Function): Function { return fn._withTask || (fn._withTask = function() { useMacroTask = true const res = fn.apply(null, arguments) useMacroTask = false return res }) } nextTick Âú®ËøôÈáåÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºåÊàë‰ª¨‰∏ÄËµ∑Êù•Áúã‰∏Ä‰∏ãÔºõ 1„ÄÅÈ¶ñÂÖà nextTick Êää‰º†ÂÖ•ÁöÑ cb ÂõûË∞ÉÂáΩÊï∞Áî® try-catch ÂåÖË£πÂêéÊîæÂú®‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞‰∏≠Êé®ÂÖ•callbacksÊï∞ÁªÑ‰∏≠„ÄÇ Ëøô‰πàÂÅöÊòØÂõ†‰∏∫Èò≤Ê≠¢Âçï‰∏™ cb Â¶ÇÊûúÊâßË°åÈîôËØØ‰∏çËá≥‰∫éËÆ©Êï¥‰∏™JSÁ∫øÁ®ãÊåÇÊéâ„ÄÇ ÊØè‰∏™ cb ÈÉΩÂåÖË£πÊòØÈò≤Ê≠¢Ëøô‰∫õÂõûË∞ÉÂáΩÊï∞Â¶ÇÊûúÊâßË°åÈîôËØØ‰∏ç‰ºöÁõ∏‰∫íÂΩ±ÂìçÔºåÊØîÂ¶ÇÂâç‰∏Ä‰∏™ÊäõÈîô‰∫ÜÂêé‰∏Ä‰∏™‰ªçÁÑ∂ÂèØ‰ª•ÊâßË°å„ÄÇ 2„ÄÅÁÑ∂ÂêéÊ£ÄÊü• pending Áä∂ÊÄÅÔºåËøô‰∏™Ë∑ü‰πãÂâç‰ªãÁªçÁöÑ queueWatcher ‰∏≠ÁöÑ waiting ÊòØ‰∏Ä‰∏™ÊÑèÊÄù„ÄÇ ÂÆÉÊòØ‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºå‰∏ÄÂºÄÂßãÊòØ false Âú®ËøõÂÖ• macroTimerFunc„ÄÅmicroTimerFuncÊñπÊ≥ïÂâçË¢´ÁΩÆ‰∏∫ true„ÄÇ Âõ†Ê≠§‰∏ãÊ¨°Ë∞ÉÁî® nextTick Â∞±‰∏ç‰ºöËøõÂÖ• macroTimerFunc„ÄÅmicroTimerFuncÊñπÊ≥ï„ÄÇ Ëøô‰∏§‰∏™ÊñπÊ≥ï‰∏≠‰ºöÂú®‰∏ã‰∏Ä‰∏™ macro/micro tick Êó∂ÂÄô flushCallbacks ÂºÇÊ≠•ÁöÑÂéªÊâßË°åcallbacksÈòüÂàó‰∏≠Êî∂ÈõÜÁöÑ‰ªªÂä°ÔºåËÄå flushCallbacks ÊñπÊ≥ïÂú®ÊâßË°å‰∏ÄÂºÄÂßã‰ºöÊää pending ÁΩÆ false„ÄÇ Âõ†Ê≠§‰∏ã‰∏ÄÊ¨°Ë∞ÉÁî® nextTick Êó∂ÂÄôÂèàËÉΩÂºÄÂêØÊñ∞‰∏ÄËΩÆÁöÑ macroTimerFunc„ÄÅmicroTimerFuncÔºåËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫Üvue‰∏≠ÁöÑ event loop„ÄÇ 3„ÄÅÊúÄÂêéÊ£ÄÊü•ÊòØÂê¶‰º†ÂÖ•‰∫Ü cb„ÄÇ Âõ†‰∏∫ nextTick ËøòÊîØÊåÅPromiseÂåñÁöÑË∞ÉÁî®ÔºönextTick().then(() =&gt; {})„ÄÇ ÊâÄ‰ª•Â¶ÇÊûúÊ≤°Êúâ‰º†ÂÖ• cb Â∞±Áõ¥Êé•return‰∫Ü‰∏Ä‰∏™PromiseÂÆû‰æãÔºåÂπ∂‰∏îÊääresolve‰º†ÈÄíÁªô_resolve„ÄÇ ËøôÊ†∑ÂêéËÄÖÊâßË°åÁöÑÊó∂ÂÄôÂ∞±Ë∑≥Âà∞Êàë‰ª¨Ë∞ÉÁî®ÁöÑÊó∂ÂÄô‰º†ÈÄíËøõ then ÁöÑÊñπÊ≥ï‰∏≠„ÄÇ VueÊ∫êÁ†Å‰∏≠ next-tick.js Êñá‰ª∂ËøòÊúâ‰∏ÄÊÆµÈáçË¶ÅÁöÑÊ≥®ÈáäÔºåËøôÈáåÂ∞±ÁøªËØë‰∏Ä‰∏ãÔºö Âú®vue2.5‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºånextTickÂü∫Êú¨‰∏äÂü∫‰∫é micro task Êù•ÂÆûÁé∞ÁöÑ„ÄÇ ‰ΩÜÊòØÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ã micro task ÂÖ∑ÊúâÂ§™È´òÁöÑ‰ºòÂÖàÁ∫ßÔºåÂπ∂‰∏îÂèØËÉΩÂú®ËøûÁª≠È°∫Â∫è‰∫ã‰ª∂‰πãÈó¥Ôºà‰æãÂ¶ÇÔºÉ4521ÔºåÔºÉ6690ÔºâÊàñËÄÖÁîöËá≥Âú®Âêå‰∏Ä‰∫ã‰ª∂ÁöÑ‰∫ã‰ª∂ÂÜíÊ≥°ËøáÁ®ã‰∏≠‰πãÈó¥Ëß¶ÂèëÔºàÔºÉ6566Ôºâ„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûúÂÖ®ÈÉ®ÈÉΩÊîπÊàê macro taskÔºåÂØπ‰∏Ä‰∫õÊúâÈáçÁªòÂíåÂä®ÁîªÁöÑÂú∫ÊôØ‰πü‰ºöÊúâÊÄßËÉΩÂΩ±ÂìçÔºåÂ¶Ç issue #6813„ÄÇ vue2.5‰πãÂêéÁâàÊú¨Êèê‰æõÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊòØÈªòËÆ§‰ΩøÁî® micro taskÔºå‰ΩÜÂú®ÈúÄË¶ÅÊó∂Ôºà‰æãÂ¶ÇÂú®v-onÈôÑÂä†ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è‰∏≠ÔºâÂº∫Âà∂‰ΩøÁî® macro task„ÄÇ ‰∏∫‰ªÄ‰πàÈªòËÆ§‰ºòÂÖà‰ΩøÁî® micro task Âë¢„ÄÇ ÊòØÂà©Áî®ÂÖ∂È´ò‰ºòÂÖàÁ∫ßÁöÑÁâπÊÄßÔºå‰øùËØÅÈòüÂàó‰∏≠ÁöÑÂæÆ‰ªªÂä°Âú®‰∏ÄÊ¨°Âæ™ÁéØÂÖ®ÈÉ®ÊâßË°åÂÆåÊØï„ÄÇ Âº∫Âà∂ macro task ÁöÑÊñπÊ≥ïÊòØÂú®ÁªëÂÆö DOM ‰∫ã‰ª∂ÁöÑÊó∂ÂÄô„ÄÇ ÈªòËÆ§‰ºöÁªôÂõûË∞ÉÁöÑ handler ÂáΩÊï∞Ë∞ÉÁî® withMacroTask ÊñπÊ≥ïÂÅö‰∏ÄÂ±ÇÂåÖË£Ö handler = withMacroTask(handler)„ÄÇ ÂÆÉ‰øùËØÅÊï¥‰∏™ÂõûË∞ÉÂáΩÊï∞ÊâßË°åËøáÁ®ã‰∏≠ÔºåÈÅáÂà∞Êï∞ÊçÆÁä∂ÊÄÅÁöÑÊîπÂèòÔºåËøô‰∫õÊîπÂèòÈÉΩ‰ºöË¢´Êé®Âà∞ macro task ‰∏≠„ÄÇ ‰ª•‰∏äÂÆûÁé∞Âú®src/platforms/web/runtime/modules/events.js ÁöÑ add ÊñπÊ≥ï‰∏≠ÔºåÂèØ‰ª•Ëá™Â∑±Áúã‰∏ÄÁúãÂÖ∑‰Ωì‰ª£Á†Å„ÄÇ ÂàöÂ•ΩÂú®ÂÜôËøôÁØáÊñáÁ´†ÁöÑÊó∂ÂÄôÊÄùÂê¶‰∏äÊúâ‰∫∫ÈóÆ‰∫Ü‰∏™ÈóÆÈ¢ò vue 2.4 Âíå2.5 ÁâàÊú¨ÁöÑ@input‰∫ã‰ª∂‰∏ç‰∏ÄÊ†∑„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÁöÑÂéüÂõ†‰πüÊòØÂõ†‰∏∫2.5‰πãÂâçÁâàÊú¨ÁöÑDOM‰∫ã‰ª∂ÈááÁî® micro task ÔºåËÄå‰πãÂêéÈááÁî® macro task„ÄÇ Ëß£ÂÜ≥ÁöÑÈÄîÂæÑÂèÇËÄÉ &lt; Vue.js ÂçáÁ∫ßË∏©ÂùëÂ∞èËÆ∞&gt; ‰∏≠‰ªãÁªçÁöÑÂá†‰∏™ÂäûÊ≥ï„ÄÇ ËøôÈáåÂ∞±Êèê‰æõ‰∏Ä‰∏™Âú®mountedÈí©Â≠ê‰∏≠Áî® addEventListener Ê∑ªÂä†ÂéüÁîü‰∫ã‰ª∂ÁöÑÊñπÊ≥ïÊù•ÂÆûÁé∞„ÄÇ ÂèÇËßÅ CodePen Ôºàhttps://codepen.io/SHERlocked93/pen/WKGNKJÔºâ„ÄÇ ‰∏Ä‰∏™‰æãÂ≠ê ËØ¥Ëøô‰πàÂ§öÔºå‰∏çÂ¶ÇÊù•‰∏™‰æãÂ≠êÔºåÊâßË°åÂèÇËßÅ CodePen &lt;div id=&quot;app&quot;&gt; &lt;span id=&apos;name&apos; ref=&apos;name&apos;&gt;{{ name }}&lt;/span&gt; &lt;button @click=&apos;change&apos;&gt;change name&lt;/button&gt; &lt;div id=&apos;content&apos;&gt;&lt;/div&gt; &lt;/div&gt; &lt;script&gt; new Vue({ el: &apos;#app&apos;, data() { return { name: &apos;SHERlocked93&apos; } }, methods: { change() { const $name = this.$refs.name this.$nextTick(() =&gt; console.log(&apos;setterÂâçÔºö&apos; + $name.innerHTML)) this.name = &apos; nameÊîπÂñΩ &apos; console.log(&apos;ÂêåÊ≠•ÊñπÂºèÔºö&apos; + this.$refs.name.innerHTML) setTimeout(() =&gt; this.console(&quot;setTimeoutÊñπÂºèÔºö&quot; + this.$refs.name.innerHTML)) this.$nextTick(() =&gt; console.log(&apos;setterÂêéÔºö&apos; + $name.innerHTML)) this.$nextTick().then(() =&gt; console.log(&apos;PromiseÊñπÂºèÔºö&apos; + $name.innerHTML)) } } }) &lt;/script&gt; ÊâßË°å‰ª•‰∏ãÁúãÁúãÁªìÊûúÔºö ÂêåÊ≠•ÊñπÂºèÔºöSHERlocked93 setterÂâçÔºöSHERlocked93 setterÂêéÔºönameÊîπÂñΩ PromiseÊñπÂºèÔºönameÊîπÂñΩ setTimeoutÊñπÂºèÔºönameÊîπÂñΩ ‰∏∫‰ªÄ‰πàÊòØËøôÊ†∑ÁöÑÁªìÊûúÂë¢ÔºåËß£Èáä‰∏Ä‰∏ãÔºö ÂêåÊ≠•ÊñπÂºèÔºö ÂΩìÊäädata‰∏≠ÁöÑname‰øÆÊîπ‰πãÂêéÔºåÊ≠§Êó∂‰ºöËß¶ÂèënameÁöÑ setter ‰∏≠ÁöÑ dep.notify ÈÄöÁü•‰æùËµñÊú¨dataÁöÑrender watcherÂéª updateÔºåupdate ‰ºöÊää flushSchedulerQueue ÂáΩÊï∞‰º†ÈÄíÁªô nextTickÔºårender watcherÂú® flushSchedulerQueue ÂáΩÊï∞ËøêË°åÊó∂ watcher.run ÂÜçËµ∞ diff -&gt; patch ÈÇ£‰∏ÄÂ•óÈáçÊ∏≤Êüì re-render ËßÜÂõæÔºåËøô‰∏™ËøáÁ®ã‰∏≠‰ºöÈáçÊñ∞‰æùËµñÊî∂ÈõÜÔºåËøô‰∏™ËøáÁ®ãÊòØÂºÇÊ≠•ÁöÑÔºõÊâÄ‰ª•ÂΩìÊàë‰ª¨Áõ¥Êé•‰øÆÊîπ‰∫Üname‰πãÂêéÊâìÂç∞ÔºåËøôÊó∂ÂºÇÊ≠•ÁöÑÊîπÂä®ËøòÊ≤°ÊúâË¢´ patch Âà∞ËßÜÂõæ‰∏äÔºåÊâÄ‰ª•Ëé∑ÂèñËßÜÂõæ‰∏äÁöÑDOMÂÖÉÁ¥†ËøòÊòØÂéüÊù•ÁöÑÂÜÖÂÆπ„ÄÇ setterÂâçÔºö setterÂâç‰∏∫‰ªÄ‰πàËøòÊâìÂç∞ÂéüÊù•ÁöÑÊòØÂéüÊù•ÂÜÖÂÆπÂë¢ÔºåÊòØÂõ†‰∏∫ nextTick Âú®Ë¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÊääÂõûË∞ÉÊå®‰∏™pushËøõcallbacksÊï∞ÁªÑÔºå‰πãÂêéÊâßË°åÁöÑÊó∂ÂÄô‰πüÊòØ for Âæ™ÁéØÂá∫Êù•Êå®‰∏™ÊâßË°åÔºåÊâÄ‰ª•ÊòØÁ±ª‰ºº‰∫éÈòüÂàóËøôÊ†∑‰∏Ä‰∏™Ê¶ÇÂøµÔºåÂÖàÂÖ•ÂÖàÂá∫ÔºõÂú®‰øÆÊîπname‰πãÂêéÔºåËß¶ÂèëÊäärender watcherÂ°´ÂÖ• schedulerQueue ÈòüÂàóÂπ∂Êää‰ªñÁöÑÊâßË°åÂáΩÊï∞ flushSchedulerQueue ‰º†ÈÄíÁªô nextTick ÔºåÊ≠§Êó∂callbacksÈòüÂàó‰∏≠Â∑≤ÁªèÊúâ‰∫Ü setterÂâçÂáΩÊï∞ ‰∫ÜÔºåÂõ†‰∏∫Ëøô‰∏™ cb ÊòØÂú® setterÂâçÂáΩÊï∞ ‰πãÂêéË¢´pushËøõcallbacksÈòüÂàóÁöÑÔºåÈÇ£‰πàÂÖàÂÖ•ÂÖàÂá∫ÁöÑÊâßË°åcallbacks‰∏≠ÂõûË∞ÉÁöÑÊó∂ÂÄôÂÖàÊâßË°å setterÂâçÂáΩÊï∞ÔºåËøôÊó∂Âπ∂Êú™ÊâßË°årender watcherÁöÑ watcher.runÔºåÊâÄ‰ª•ÊâìÂç∞DOMÂÖÉÁ¥†‰ªçÁÑ∂ÊòØÂéüÊù•ÁöÑÂÜÖÂÆπ„ÄÇ setterÂêéÔºö setterÂêéËøôÊó∂Â∑≤ÁªèÊâßË°åÂÆå flushSchedulerQueueÔºåËøôÊó∂render watcherÂ∑≤ÁªèÊääÊîπÂä® patch Âà∞ËßÜÂõæ‰∏äÔºåÊâÄ‰ª•Ê≠§Êó∂Ëé∑ÂèñDOMÊòØÊîπËøá‰πãÂêéÁöÑÂÜÖÂÆπ„ÄÇ PromiseÊñπÂºèÔºö Áõ∏ÂΩì‰∫é Promise.then ÁöÑÊñπÂºèÊâßË°åËøô‰∏™ÂáΩÊï∞ÔºåÊ≠§Êó∂DOMÂ∑≤ÁªèÊõ¥Êîπ„ÄÇ setTimeoutÊñπÂºèÔºö ÊúÄÂêéÊâßË°åmacro taskÁöÑ‰ªªÂä°ÔºåÊ≠§Êó∂DOMÂ∑≤ÁªèÊõ¥Êîπ„ÄÇ Ê≥®ÊÑèÔºåÂú®ÊâßË°å setterÂâçÂáΩÊï∞ Ëøô‰∏™ÂºÇÊ≠•‰ªªÂä°‰πãÂâçÔºåÂêåÊ≠•ÁöÑ‰ª£Á†ÅÂ∑≤ÁªèÊâßË°åÂÆåÊØï„ÄÇ ÂºÇÊ≠•ÁöÑ‰ªªÂä°ÈÉΩËøòÊú™ÊâßË°åÔºåÊâÄÊúâÁöÑ $nextTick ÂáΩÊï∞‰πüÊâßË°åÂÆåÊØï„ÄÇ ÊâÄÊúâÂõûË∞ÉÈÉΩË¢´pushËøõ‰∫ÜcallbacksÈòüÂàó‰∏≠Á≠âÂæÖÊâßË°åÔºåÊâÄ‰ª•Âú®setterÂâçÂáΩÊï∞ÊâßË°åÁöÑÊó∂ÂÄô„ÄÇ Ê≠§Êó∂callbacksÈòüÂàóÊòØËøôÊ†∑ÁöÑÔºö [setterÂâçÂáΩÊï∞Ôºå flushSchedulerQueueÔºå setterÂêéÂáΩÊï∞Ôºå PromiseÊñπÂºèÂáΩÊï∞]„ÄÇ ÂÆÉÊòØ‰∏Ä‰∏™micro taskÈòüÂàóÔºåÊâßË°åÂÆåÊØï‰πãÂêéÊâßË°åmacro task setTimeoutÔºåÊâÄ‰ª•ÊâìÂç∞Âá∫‰∏äÈù¢ÁöÑÁªìÊûú„ÄÇ Âè¶Â§ñÔºåÂ¶ÇÊûúÊµèËßàÂô®ÁöÑÂÆè‰ªªÂä°ÈòüÂàóÈáåÈù¢ÊúâsetImmediate„ÄÅMessageChannel„ÄÅsetTimeout/setInterval ÂêÑÁßçÁ±ªÂûãÁöÑ‰ªªÂä°„ÄÇ ÈÇ£‰πà‰ºöÊåâÁÖß‰∏äÈù¢ÁöÑÈ°∫Â∫èÊå®‰∏™ÊåâÁÖßÊ∑ªÂä†Ëøõevent loop‰∏≠ÁöÑÈ°∫Â∫èÊâßË°åÔºåÊâÄ‰ª•Â¶ÇÊûúÊµèËßàÂô®ÊîØÊåÅMessageChannel„ÄÇ nextTickÊâßË°åÁöÑÊòØmacroTimerFunc„ÄÇ ÈÇ£‰πàÂ¶ÇÊûú macrotask queue ‰∏≠ÂêåÊó∂Êúâ nextTick Ê∑ªÂä†ÁöÑ‰ªªÂä°ÂíåÁî®Êà∑Ëá™Â∑±Ê∑ªÂä†ÁöÑ setTimeout Á±ªÂûãÁöÑ‰ªªÂä°„ÄÇ ‰ºö‰ºòÂÖàÊâßË°å nextTick ‰∏≠ÁöÑ‰ªªÂä°ÔºåÂõ†‰∏∫MessageChannel ÁöÑ‰ºòÂÖàÁ∫ßÊØî setTimeoutÁöÑÈ´òÔºåsetImmediate ÂêåÁêÜ„ÄÇ]]></content>
      <tags>
        <tag>‰∫ã‰ª∂Âæ™ÁéØ</tag>
        <tag>vue</tag>
        <tag>nextTick</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6‰πãpromise„ÄÅgenerator+co„ÄÅasync+awaitÊâãÂÜôpromise]]></title>
    <url>%2F2018%2F08%2F20%2FES6%E4%B9%8Bpromise%E3%80%81generator-co%E3%80%81async-await%E6%89%8B%E5%86%99promise%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅÂâçË®Ä‰º†ÁªüÁöÑËß£ÂÜ≥‰ª£Á†ÅÂçïÁ∫øÁ®ãÊâßË°åÁöÑÊñπÊ°àÊòØÂõûË∞ÉÂáΩÊï∞Âíå‰∫ã‰ª∂„ÄÇËøôÊòØ‰∏™Ëß£ÂÜ≥ÈóÆÈ¢òÁöÑÊñπÊ°àÔºå‰ΩÜÊòØ‰ºöÈÄ†ÊàêÂõûË∞ÉÂú∞Áã±„ÄÇ ÂºÇÊ≠•ÁºñÁ®ãÊòØ‰ºòÂåñ‰ª£Á†ÅÈÄªËæëÊèêÈ´ò‰ª£Á†ÅÊòìËØªÊÄßÁöÑÂÖ≥ÈîÆ„ÄÇ ÁõÆÂâçÈÄöÁî®ÁöÑÂºÇÊ≠•ÁºñÁ®ãÊñπÊ≥ïÊúâ‰∏âÁßçÔºö Promise generator+co async+await Ëøô‰∏âÁßçÊñπÊ≥ïÊàëÈÉΩÁªèÂ∏∏Âú®Áî®Ôºå‰ΩÜÊòØÂØπÂÆÉ‰ª¨ÁöÑÂéüÁêÜÂç¥‰∏ÄÁü•ÂçäËß£„ÄÇ‰∫éÊòØÊÉ≥ÁÇí‰∏™ÂÜ∑È•≠‰ªéÂ§¥Âà∞Â∞æÁêÜ‰∏ÄÈÅçÔºåÊ¢≥ÁêÜ‰∏Ä‰∏ãÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ ‰∫å„ÄÅPromise2.1 ÂéüÁêÜPromiseÂØπË±°ÊòØ‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÔºåÁî®Êù•ÁîüÊàêPromiseÂÆû‰æã„ÄÇPromiseÂØπË±°‰ª£Ë°®‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÔºåÊúâ‰∏âÁßçÁä∂ÊÄÅÔºöpendingÔºàËøõË°å‰∏≠Ôºâ„ÄÅfulfilledÔºàÂ∑≤ÊàêÂäüÔºâÂíårejectedÔºàÂ∑≤Â§±Ë¥•Ôºâ„ÄÇPromiseÂáΩÊï∞ÁöÑ‰∏§‰∏™ÂèÇÊï∞ÂàÜÂà´ÊòØresolveÂíåreject„ÄÇÂÆÉ‰ª¨ÊòØPromise‰∏≠ÂÆö‰πâÁöÑ‰∏§‰∏™ÂáΩÊï∞ÔºåÂú®ËøêË°åËá™ÂÆö‰πâÂáΩÊï∞Êó∂ËøîÂõû„ÄÇresolveÂáΩÊï∞Â∞ÜPromiseÂØπË±°ÁöÑÁä∂ÊÄÅ‰ªé pending Âèò‰∏∫resolved,rejectÂ∞ÜPromiseÂØπË±°ÁöÑÁä∂ÊÄÅ‰ªé pending Âèò‰∏∫rejectedPromiseÁöÑÂéüÂûãÈìæ‰∏äÂÆö‰πâ‰∫ÜthenÊñπÊ≥ïÔºåÊèê‰æõ‰∏§‰∏™ÂõûË∞ÉÂáΩÊï∞ÂàÜÂà´ÊçïËé∑resolve„ÄÅrejectËøîÂõûÁöÑÂÄº„ÄÇ 2.2 ÈùôÊÄÅÊñπÊ≥ïÊñπÊ≥ïÊèèËø∞Promise.resolve(promise);ËøîÂõû promiseÔºà‰ªÖÂΩì promise.constructor == Promise Êó∂ÔºâPromise.resolve(thenable);‰ªéthenable ‰∏≠ÁîüÊàê‰∏Ä‰∏™Êñ∞promise„ÄÇthenable ÊòØÂÖ∑Êúâ then() ÊñπÊ≥ïÁöÑÁ±ª‰ºº‰∫é promise ÁöÑÂØπË±°„ÄÇPromise.resolve(obj);Âú®Ê≠§ÊÉÖÂÜµ‰∏ãÔºåÁîüÊàê‰∏Ä‰∏™promise Âπ∂Âú®ÊâßË°åÊó∂ËøîÂõû obj„ÄÇPromise.reject(obj);ÁîüÊàê‰∏Ä‰∏™promise Âπ∂Âú®ÊãíÁªùÊó∂ËøîÂõû obj„ÄÇ‰∏∫‰øùÊåÅ‰∏ÄËá¥ÂíåË∞ÉËØï‰πãÁõÆÁöÑÔºà‰æãÂ¶ÇÂ†ÜÂè†ËøΩË∏™ÔºâÔºå obj Â∫î‰∏∫ instanceof Error„ÄÇPromise.all(array);ÁîüÊàê‰∏Ä‰∏™promiseÔºåËØ• promise Âú®Êï∞ÁªÑ‰∏≠ÂêÑÈ°πÊâßË°åÊó∂ÊâßË°åÔºåÂú®‰ªªÊÑè‰∏ÄÈ°πÊãíÁªùÊó∂ÊãíÁªù„ÄÇPromise.race(array);ÁîüÊàê‰∏Ä‰∏™ PromiseÔºåËØ• Promise Âú®‰ªªÊÑèÈ°πÊâßË°åÊó∂ÊâßË°åÔºåÊàñÂú®‰ªªÊÑèÈ°πÊãíÁªùÊó∂ÊãíÁªùÔºå‰ª•ÊúÄÂÖàÂèëÁîüÁöÑ‰∏∫ÂáÜ„ÄÇsample 1123456789101112131415161718let p1 = new Promise((resolve,reject)=&gt;&#123; console.log(&apos;hello&apos;) setTimeout(function () &#123; reject(&apos;1212&apos;) &#125;,1000)&#125;)p1.then(data=&gt; &#123; console.log(&apos;success&apos;+data)&#125;,err=&gt;&#123; console.log(&apos;err&apos;+err)&#125;)p1.then(data=&gt; &#123; console.log(&apos;success&apos;+data)&#125;,err=&gt;&#123; console.log(&apos;err&apos;+err)&#125;) terminal:123helloerr1212err1212 sample 1 ‰∏≠Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™PromiseÂÆû‰æãÔºåÂÆöÊó∂1SÂêé‰ΩøÁî®rejectÊñπÊ≥ïÔºåÂ∞ÜPromiseÂÆû‰æãÁöÑÁä∂ÊÄÅ‰ªépendingÂèòÊàêrejectedÔºåËß¶ÂèëthenÁöÑerrÊçïÊçâÂõûË∞ÉÂáΩÊï∞„ÄÇ Âú®sample 1 ‰∏≠Ë∞ÉÁî®thenÊñπÊ≥ïÔºåÂπ∂‰∏ç‰ºöÈ©¨‰∏äÊâßË°åÂõûË∞É„ÄÇÊòØÁ≠âÂæÖÂÆû‰æã‰∏≠Áä∂ÊÄÅÊîπÂèòÂêéÊâç‰ºöÊâßË°å„ÄÇËøô‰∏ÄÁÇπÂíåÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÂæàÁ±ª‰ºº„ÄÇ sample 21234567891011121314151617181920212223242526let fs = require(&apos;fs&apos;)let event = &#123; arr:[], result:[], on(fn)&#123; this.arr.push(fn) &#125;, emit(data)&#123; this.result.push(data) this.arr.forEach(fn=&gt;fn(this.result)) &#125;&#125;event.on(function (data) &#123; if(data.length === 2)&#123; console.log(data) &#125;&#125;)fs.readFile(&apos;1.txt&apos;,&apos;utf8&apos;,function (err,data) &#123; event.emit(data)&#125;)fs.readFile(&apos;2.txt&apos;,&apos;utf8&apos;,function (err,data) &#123; event.emit(data)&#125;) smaple2 ‰∏≠Â∞ÜÁªìÊûúdataÊîæÂÖ•ÊöÇÂ≠òÊï∞ÁªÑ‰∏≠ÔºåÂú®ÊâßË°åÊé•Âê¨ÂáΩÊï∞ÁöÑÊó∂ÂÄôËøîÂõû„ÄÇ 2.3 ÁÆÄÂÜôPromiseÊ∫êÁ†ÅÈÄöËøá‰πãÂâçÁöÑ‰æãÂ≠êÂíåÂØπÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÁöÑÁêÜËß£ÔºåÊàë‰ª¨ÂèØ‰ª•Â§ßÊ¶ÇÂÜôÂá∫PromiseÂÆû‰æãÁöÑÂü∫Êú¨ÂäüËÉΩÔºö code 1Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647function Promise(executor) &#123; let self = this self.value = undefined self.reason = undefined self.status = &apos;pending&apos; self.onResovedCallbacks = [] self.onRejectedCallbacks = [] function resolve(data) &#123; if(self.status === &apos;pending&apos;)&#123; self.value = data self.status = &apos;resolved&apos; self.onResovedCallbacks.forEach(fn=&gt;fn()) &#125; &#125; function reject(reason) &#123; if(self.status === &apos;pending&apos;) &#123; self.reason = reason self.status = &apos;reject&apos; self.onRejectedCallbacks.forEach(fn=&gt;fn()) &#125; &#125; //Â¶ÇÊûúÂáΩÊï∞ÊâßË°åÊó∂ÂèëÁîüÂºÇÂ∏∏ try&#123; executor(resolve,reject) &#125;catch (e)&#123; reject(e) &#125;&#125;Promise.prototype.then = function (onFulfilled,onRejected) &#123; let self = this if(self.status === &apos;pending&apos;)&#123; self.onResovedCallbacks.push(()=&gt;&#123; onFulfilled(self.value) &#125;) self.onRejectedCallbacks.push(()=&gt;&#123; onRejected(self.reason) &#125;) &#125;elseif(self.status === &apos;resolved&apos;)&#123; onFulfilled(self.value) &#125;elseif(self.status === &apos;reject&apos;)&#123; onRejected(self.reason) &#125;&#125;module.exports = Promise ÂáΩÊï∞ÂÜÖÈÉ®ÂèòÈáè statusÔºöÂÇ®Â≠òPromiseÁöÑÁä∂ÊÄÅ onResovedCallbacksÔºöÂÇ®Â≠òPromise pendingÁä∂ÊÄÅ‰∏ãÊàêÂäüÂõûË∞ÉÂáΩÊï∞ onRejectedCallbacksÔºöÂÇ®Â≠òPromise pendingÁä∂ÊÄÅ‰∏ãÂ§±Ë¥•ÂõûË∞ÉÂáΩÊï∞ resolveÂáΩÊï∞ rejectÂáΩÊï∞ Promise.prototype.then Ê†πÊçÆÂÆû‰æãÁä∂ÊÄÅÊâßË°åÂìçÂ∫îÁöÑÂõûË∞É status == pending‰ΩøÁî®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÂÇ®Â≠òÂõûË∞ÉÂáΩÊï∞„ÄÇ 2.4 PromiseÁî®Ê≥ïÁÆÄËø∞ Â¶ÇÊûú‰∏Ä‰∏™promiseÊâßË°åÂÆåÂêé,ËøîÂõûÁöÑËøòÊòØ‰∏Ä‰∏™PromiseÂØπË±°,‰ºöÊääËøô‰∏™promiseÁöÑÊâßË°åÁªìÊûú,‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™then‰∏≠„ÄÇ 1234567891011121314151617let fs = require(&apos;fs&apos;)functionread(filePath,encoding) &#123; return new Promise((resolve,reject)=&gt;&#123; fs.readFile(filePath,encoding,(err,data)=&gt; &#123; if(err) reject(err) resolve(data) &#125;) &#125;)&#125;read(&apos;1.txt&apos;,&apos;utf8&apos;).then( f1=&gt;read(f1,&apos;utf8&apos;) // 1).then( data=&gt; console.log(&apos;resolved:&apos;,comments) err=&gt; console.log(&apos;rejected: &apos;,err)) Â¶ÇÊûúthen‰∏≠ËøîÂõûÁöÑ‰∏çÊòØpromiseÔºåÊòØ‰∏Ä‰∏™ÊôÆÈÄöÂÄº,‰ºöÂ∞ÜËøô‰∏™ÊôÆÈÄöÂÄº‰Ωú‰∏∫‰∏ã‰∏Ä‰∏™thenÁöÑËøîÂõûÁªìÊûú„ÄÇ 12345678910 ...... read(&apos;1.txt&apos;,&apos;utf8&apos;).then( f1=&gt;read(f1,&apos;utf8&apos;)).then( return 123 //2).then( data=&gt; console.log(&apos;resolved:&apos;,comments) err=&gt; console.log(&apos;rejected: &apos;,err)) Â¶ÇÊûúÂΩìÂâçthen‰∏≠Â§±Ë¥•‰∫Ü‰ºöËµ∞‰∏ã‰∏Ä‰∏™thenÁöÑÂ§±Ë¥•„ÄÇ 123456789101112 ...... read(&apos;1.txt&apos;,&apos;utf8&apos;).then( f1=&gt;read(f1,&apos;utf8&apos;)).then( return 123).then( throw new Error(&apos;Âá∫Èîô&apos;) //3).then( data=&gt; console.log(&apos;resolved:&apos;,comments) err=&gt; console.log(&apos;rejected: &apos;,err)) Â¶ÇÊûúËøîÂõûÁöÑÊòØundefined‰∏çÁÆ°ÂΩìÂâçÊòØÂ§±Ë¥•ËøòÊòØÊàêÂäüÔºåÈÉΩ‰ºöËµ∞‰∏ã‰∏ÄÊ¨°ÊàêÂäü„ÄÇ catchÊòØÈîôËØØÊ≤°ÊúâÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ã‰ºöËµ∞„ÄÇ then‰∏≠ÂèØ‰ª•‰∏çÂÜô„ÄÇ12345678910111213 ...... read(&apos;1.txt&apos;,&apos;utf8&apos;).then( f1=&gt;read(f1,&apos;utf8&apos;)).then( return 123).then( throw new Error(&apos;Âá∫Èîô&apos;) ).then() //6 .then( data=&gt; console.log(&apos;resolved:&apos;,comments) err=&gt; console.log(&apos;rejected: &apos;,err)) Ëøô‰∫õÁî®Ê≥ï‰∏≠ÊúÄÈáçË¶ÅÁöÑÊòØpromiseÁöÑthenÈìæÂºèË∞ÉÁî®„ÄÇÂèØ‰ª•Â§ßËá¥ÁåúÂà∞ÔºåÊóßPromiseÁöÑthenÊñπÊ≥ïËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Êñ∞ÁöÑPromiseÂØπË±°„ÄÇ ÂèÇËÄÉPromises/A+ËßÑËåÉÔºåÂèØ‰ª•ÂÆåÂñÑÊâãÂÜôÁöÑPromiseÊ∫êÁ†Å‰ΩøÂÖ∂ÊîØÊåÅpromiseÁöÑÈùôÊÄÅÊñπÊ≥ïÂíåË∞ÉÁî®ËßÑÂàô„ÄÇ code 2Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150function Promise(executor) &#123; let self = this self.value = undefined self.reason = undefined self.status = &apos;pending&apos; self.onResovedCallbacks = [] self.onRejectedCallbacks = [] function resolve(value) &#123; if (self.status === &apos;pending&apos;) &#123; self.value = value self.status = &apos;resolved&apos; self.onResovedCallbacks.forEach(fn=&gt;fn()) &#125; &#125; function reject(reason) &#123; if (self.status === &apos;pending&apos;) &#123; self.reason = reason self.status = &apos;rejected&apos; self.onRejectedCallbacks.forEach(fn=&gt;fn()) &#125; &#125; //Â¶ÇÊûúÂáΩÊï∞ÊâßË°åÊó∂ÂèëÁîüÂºÇÂ∏∏ try &#123; executor(resolve, reject) &#125; catch (e) &#123; reject(e) &#125;&#125;function resolvePromise(promise2, x, resolve, reject) &#123; //If promise and x refer to the same object, reject promise with a TypeError as the reason. if (promise2 === x) &#123; return reject(new TypeError(&apos;chaining cycle&apos;)) &#125; let called //2.3.3.Otherwise, if x is an object or function, if (x !== null &amp;&amp; (typeof x == &apos;object&apos; || typeof x === &apos;function&apos;)) &#123; try &#123; letthen = x.then //2.3.3.3.If then is a function, call it with x as this, first argument resolvePromise, and second argument rejectPromise, where: //2.3.3.3.3.If both resolvePromise and rejectPromise are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. if (typeof then === &apos;function&apos;) &#123; then.call(x, y=&gt; &#123; if (called) return; called = true; //ÈÄíÂΩíÁõ¥Âà∞Ëß£ÊûêÊàêÊôÆÈÄöÂÄº‰∏∫Ê≠¢ //2.3.3.1.If/when resolvePromise is called with a value y, run [[Resolve]](promise, y). resolvePromise(promise2, y, resolve, reject) &#125;, err=&gt; &#123; if (called) return; called = true; reject(err) &#125;) &#125; else &#123; resolve(x) &#125; &#125; catch (e) &#123; if (called) return; called = true; //2.3.3.3.If retrieving the property x.then results in a thrown exception e, reject promise with e as the reason. reject(e) &#125; &#125; else &#123; //If x is not an object or function, fulfill promise with x. resolve(x) &#125;&#125;//thenË∞ÉÁî®ÁöÑÊó∂ÂÄô ÈÉΩÊòØÂºÇÊ≠•Ë∞ÉÁî® (ÂéüÁîüÁöÑthenÁöÑÊàêÂäüÊàñËÄÖÂ§±Ë¥• ÊòØ‰∏Ä‰∏™ÂæÆ‰ªªÂä°)Promise.prototype.then = function (onFulfilled, onRejected) &#123; //ÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÂáΩÊï∞ ÊòØÂèØÈÄâÂèÇÊï∞ onFulfilled = typeof onFulfilled === &apos;function&apos; ? onFulfilled : val=&gt;val; onRejected = typeof onRejected === &apos;function&apos; ? onRejected : (e)=&gt; &#123;throw e&#125;; let self = this let promise2; promise2 = new Promise((resolve, reject)=&gt; &#123; if (self.status === &apos;resolved&apos;) &#123; setTimeout(()=&gt; &#123; try &#123; let x = onFulfilled(self.value) resolvePromise(promise2, x, resolve, reject) &#125; catch (e) &#123; reject(e) &#125; &#125;, 0) &#125; elseif (self.status === &apos;rejected&apos;) &#123; setTimeout(()=&gt; &#123; try &#123; let x = onRejected(self.reason) resolvePromise(promise2, x, resolve, reject) &#125; catch (e) &#123; reject(e) &#125; &#125;, 0) &#125; elseif (self.status === &apos;pending&apos;) &#123; self.onResovedCallbacks.push(()=&gt; &#123; setTimeout(()=&gt; &#123; try &#123; let x = onFulfilled(self.value) resolvePromise(promise2, x, resolve, reject) &#125; catch (e) &#123; //ÂΩìÊâßË°åÊàêÂäüÂõûË∞ÉÁöÑÊó∂ÂÄô,ÂèØËÉΩ‰ºöÂá∫Áé∞ÂºÇÂ∏∏,ÈÇ£Â∞±Áî®Ëøô‰∏™ÂºÇÂ∏∏‰Ωú‰∏∫promise2ÁöÑÈîôËØØÁªìÊûú reject(e) &#125; &#125;, 0) &#125;) self.onRejectedCallbacks.push(()=&gt; &#123; setTimeout(()=&gt; &#123; try &#123; let x = onRejected(self.reason) resolvePromise(promise2, x, resolve, reject) &#125; catch (e) &#123; reject(e) &#125; &#125;, 0) &#125;) &#125; &#125;) return promise2&#125;//setTimeout (ËßÑËåÉË¶ÅÊ±Ç)Promise.reject = function (reason) &#123; return new Promise((resolve,reject)=&gt;&#123; reject(reason) &#125;)&#125;Promise.resolve = function (value) &#123; return new Promise((resolve,reject)=&gt;&#123; resolve(value) &#125;)&#125;Promise.prototype.catch = function (onReject) &#123; return this.then(null,onReject)&#125;Promise.defer = Promise.deferred = function () &#123; let dfd = &#123;&#125; dfd.promise = new Promise((resolve, reject)=&gt; &#123; dfd.resolve = resolve dfd.reject = reject &#125;) return dfd;&#125;module.exports = Promise ‰∏∫‰∫ÜÊîØÊåÅthenÁöÑÈìæÂºèË∞ÉÁî®ÔºåPromise.then.prototype‰∏≠ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑPromiseÂØπË±°1return p2 = new Promise() 2.Â¢ûÂä†resolvePromiseÊñπÊ≥ïÔºåÂ§ÑÁêÜÊóßPromiseÁöÑÂõûË∞ÉÂáΩÊï∞ÁöÑÁªìÊûúxÔºåÊ†πÊçÆxÁöÑÁ±ªÂûãÔºåÂàÜÂà´Ë∞ÉÁî®Êñ∞promiseÂØπË±°ÁöÑresolve/rejectÊñπÊ≥ï„ÄÇ ÊòØÊôÆÈÄöÂÄºÁî®resolveÊñπÊ≥ïËøîÂõû ÊòØÂáΩÊï∞ÊàñËÄÖÂØπË±°Â∞±ÁªßÁª≠Áî®resolvePromiseÊñπÊ≥ïËø≠‰ª£ÔºàËß£ÂÜ≥ÂõûË∞ÉÂáΩÊï∞ÊòØPromiseÂØπË±°Ôºâ Âá∫ÈîôÂ∞±Áî®rejectÊñπÊ≥ïËøîÂõû ‰∏â„ÄÅbluebird1: NodeJS ‰∏≠ÁöÑ fs.readFile ÊñπÊ≥ïÁöÑÂü∫Êú¨‰ΩøÁî®ÊñπÂºè123456789const fs = require(&apos;fs&apos;),path = require(&apos;path&apos;); fs.readFile(path.join(__dirname, &apos;1.txt&apos;), &apos;utf-8&apos;, (err, data) =&gt; &#123; if (err) &#123; console.error(err); &#125; else &#123; console.log(data); &#125;&#125;); 2Ôºö‰ΩøÁî®PromiseÂ∞ÅË£Ö123456789101112let fs = require(&apos;fs&apos;)functionread(filePath, encoding) &#123; return new Promise((resolve, reject)=&gt; &#123; fs.readFile(filePath, encoding, (err, data)=&gt; &#123; if (err) reject(err) resolve(data) &#125;) &#125;)&#125;read(&apos;1.txt&apos;, &apos;utf8&apos;).then( data=&gt; data) Êääfs.readFileÊñπÊ≥ïÁî®PromiseÂ∞ÅË£Ö‰∏Ä‰∏ãÂ∞±ËÉΩ‰ΩøÁî®Promise api„ÄÇ‰ΩÜÊòØÊØèÊ¨°ÊâãÂä®Â∞ÅË£ÖÊØîËæÉÈ∫ªÁÉ¶ÔºåbluebirdÂèØ‰ª•Â∏ÆÊàë‰ª¨ÁÆÄÂåñËøô‰∏™Ê≠•È™§„ÄÇ 3ÔºöÂú® NodeJS ÁéØÂ¢É‰∏≠ÔºåÈÄöËøá const bluebird = require(‚Äòbluebird‚Äô) Â∞±ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî® Bluebird Êèê‰æõÁöÑ Promise ÂØπË±°„ÄÇ Promise.promisify Â∞ÜÂçï‰∏™ÊñπÊ≥ïËΩ¨Êç¢ÊàêPromiseÂØπË±°„ÄÇ12345const bluebird = require(&apos;bluebird&apos;) letread = bluebird.promisify(fs.readFile)read(&apos;1.txt&apos;, &apos;utf-8&apos;).then(data=&gt; &#123; console.log(&apos;data promisify&apos;, data)&#125;) ‰ΩøÁî®bluebird.promisifyÊñπÊ≥ïÔºåÂ∞±ËÉΩÂ∞Üfs.readFileÁõ¥Êé•Â∞ÅË£ÖÊàê‰∏Ä‰∏™promiseÂØπË±°ÔºåÂÆÉÁöÑÂéüÁêÜÂæàÁÆÄÂçïÔºåreturn new PromiseÊòØÂÆÉÁöÑÊ†∏ÂøÉÔºö12345678910function promisify(fn) &#123; return function () &#123; return new Promise((resolve, reject)=&gt; &#123; fn(...arguments, function (err, data) &#123; if (err) reject(err) resolve(data) &#125;) &#125;) &#125;&#125; 4.‰ΩøÁî® Promise.promisifyAll Êää‰∏Ä‰∏™ÂØπË±°ÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩËá™Âä®ËΩ¨Êç¢Êàê‰ΩøÁî® Promise„ÄÇ12345678const bluebird = require(&apos;bluebird&apos;), fs = require(&apos;fs&apos;), path = require(&apos;path&apos;);Promise.promisifyAll(fs); fs.readFileAsync(path.join(__dirname, &apos;sample.txt&apos;), &apos;utf-8&apos;) .then(data =&gt; console.log(data)) .catch(err =&gt; console.error(err)); promisifyAllÊ†∏ÂøÉÊòØÈÅçÂéÜÂØπË±°ÔºåÁîüÊàê‰∫õÊñ∞ÂàõÂª∫ÊñπÊ≥ïÁöÑÂêçÁß∞Âú®Â∑≤ÊúâÊñπÊ≥ïÁöÑÂêçÁß∞ÂêéÂä†‰∏ä‚ÄùAsync‚ÄùÂêéÁºÄ„ÄÇ1234567function promisifyAll(obj) &#123; Object.keys(obj).forEach(key=&gt;&#123; if(typeof obj[key] === &apos;function&apos;)&#123; obj[key+&apos;Async&apos;] = promisify(obj[key]) &#125; &#125;)&#125; Âõõ„ÄÅgenerator+co4.1 ÁÆÄ‰ªãgeneratorÂáΩÊï∞ÊúÄÂ§ßÁöÑÁâπÁÇπÊòØÂèØ‰ª•Áî®yieldÊöÇÂÅúÊâßË°åÔºå‰∏∫‰∫ÜÂå∫Âà´ÊôÆÈÄöÂáΩÊï∞Âú®ÂáΩÊï∞ÂêçÂâçÂä†*Âè∑„ÄÇ123456789function *say() &#123; let a = yield &quot;test1&quot;let b = yield &quot;test2&quot;&#125;let it = say();console.log(1, it.next()) //1 &#123; value: &apos;test1&apos;, done: false &#125;console.log(2, it.next()) //2 &#123; value: &apos;test2&apos;, done: false &#125;console.log(3, it.next()) //3 &#123; value: undefined, done: true &#125; ÊâßË°åsay()ÊñπÊ≥ïËøîÂõûÁöÑÊòØÊåáÈíàÂØπË±°Ôºå‰∏ç‰ºöËøîÂõûÂáΩÊï∞ÊâßË°åÁªìÊûú„ÄÇit Â∞±ÊòØiterator Ëø≠‰ª£Âô® ÈúÄË¶ÅË∞ÉÁî®ÊåáÈíàÂØπË±°ÁöÑnext()ÊñπÊ≥ïÔºåËÆ©ÂáΩÊï∞ÊåáÈíà‰∏çÊñ≠ÁßªÂä®Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°„ÄÇÔºà{value:xxx,done:xxx}Ôºâ valueÊòØyieldÂêéÈù¢ÁöÑÂÄºÔºådoneË°®Á§∫ÂáΩÊï∞ÊòØÂê¶ÊâßË°åÂÆåÊàê„ÄÇ Êàë‰ª¨ÂèØ‰ª•Áî®generatorÂáΩÊï∞ÂÆûÁé∞ÁªìÊûúÁöÑ‰∫ßÂá∫Ôºå‰ΩÜÊòØ‰πüÈúÄË¶ÅÂÆÉÊîØÊåÅËæìÂÖ•„ÄÇ generatorÂáΩÊï∞ÁöÑËøêË°åÈ°∫Â∫èÂ¶Ç‰∏ãÔºö‰ΩøÁî®it.next()ÊâßË°åÂáΩÊï∞ÔºåÁªìÊûúÂπ∂‰∏ç‰ºöËøîÂõûÁªôÂÆö‰πâÁöÑÂèòÈáèa„ÄÇnextÊñπÊ≥ïÂèØ‰ª•Êé•ÂèóÂèÇÊï∞ÔºåËøôÊòØÂêë Generator ÂáΩÊï∞‰ΩìÂÜÖËæìÂÖ•Êï∞ÊçÆ„ÄÇÁ¨¨‰∫å‰∏™nextÁöÑÊó∂ÂÄô‰º†ÂÖ•ÂèÇÊï∞ÔºåÂ∞±ËÉΩË¢´ÂèòÈáèaÊé•Êî∂Âà∞„ÄÇ terminal ËøîÂõûÔºö123451 &#123; value: &apos;test1&apos;, done: false &#125;aaa2 &#123; value: &apos;test2&apos;, done: false &#125;bbb3 &#123; value: undefined, done: true &#125; 4.2 ‰ΩøÁî® exampleÔºö‰ΩøÁî®generatorÂºÇÊ≠•ÊâßË°åÂáΩÊï∞Ôºå‰ΩøÂáΩÊï∞ÁöÑËøîÂõû‰Ωú‰∏∫‰∏ã‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂÖ•ÂèÇÊâßË°å„ÄÇ12345678910111213let bluebird = require(&apos;bluebird&apos;)let fs = require(&apos;fs&apos;)letread = bluebird.promisify(fs.readFile)function *r() &#123; let r1 = yield read(&apos;1.txt&apos;, &apos;utf-8&apos;) console.log(&apos;r1&apos;,r1); // r1 2.txt let r2 = yield read(r1, &apos;utf-8&apos;) console.log(&apos;r2&apos;,r2); // r2 3.txt let r3 = yield read(r2, &apos;utf-8&apos;) console.log(&apos;r3&apos;,r3); // r3 hello return r3&#125; ÊãøËØªÂèñÊñá‰ª∂ÁöÑ‰æãÂ≠êÔºö‰ΩøÁî®bluebirdÂ∞Üfs.readFileÂèòÊàêpromiseÂØπË±°ÔºåÂ∞ÜËØªÂèñÂà∞ÁöÑÊñá‰ª∂ÂÜÖÂÆπ‰Ωú‰∏∫ÂÖ•ÂèÇ‰º†ÂÖ•‰∏ã‰∏Ä‰∏™Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇ Á™ÅÁÑ∂ÂèëÁé∞ÔºåË¶ÅÊãøÂà∞ÁªìÊûú‰ºöÊòØ‰∏™Â§çÊùÇÁöÑËøáÁ®ãÔºå‰ΩÜËøòÊòØÁ°¨ÁùÄÂ§¥ÁöÆ‰∏ã‰∏ãÂéªÔºö12345678910const it_r = r()it_r.next().value.then(d1=&gt;&#123; return it_r.next(d1).value&#125;).then(d2=&gt;&#123; return it_r.next(d2).value&#125;).then(d3=&gt;&#123; return it_r.next(d3).value&#125;).then(data=&gt;&#123; console.log(data) // hello&#125;) it.next().value ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™promiseÔºå‰ΩøÁî®thenÊñπÊ≥ïÔºåÊãøÂà∞ÂÆÉÊàêÂäüÂõûË∞ÉÁöÑÂÄºÔºåÂπ∂‰º†ÂÖ•‰∏ã‰∏Ä‰∏™next„ÄÇ ËøôÊ†∑ËÉΩÊàêÂäüÊãøÂà∞Êàë‰ª¨Ë¶ÅÁöÑÂÄºÔºå‰ΩÜÊòØÂ§™È∫ªÁÉ¶‰∫Ü„ÄÇ‰∫éÊòØÂ∞±Êúâ‰∫Ügenerator+coÁöÑÁªÑÂêàÔºÅ ÂÆâË£ÖÔºö1$ npm install co ‰ΩøÁî®:123co(r()).then(data=&gt; &#123; console.log(data)&#125;) co‰ºöËø≠‰ª£ÊâßË°åit.next()ÊñπÊ≥ïÔºåÁõ¥Âà∞doneÁöÑÂ∏ÉÂ∞îÂÄº‰∏∫trueÂ∞±ËøîÂõûgeneratorÂáΩÊï∞ÁöÑËøêË°åÁªìÊûú„ÄÇ Â§ßËá¥ÊâßË°å‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415function co(it) &#123; return new Promise((resolve, reject)=&gt; &#123; function next(data) &#123; let &#123;value, done&#125; = it.next(data) if(done)&#123; resolve(value) &#125;else&#123; value.then(data=&gt; &#123; next(data) &#125;,reject) &#125; &#125; next() &#125;)&#125; ‰∫î„ÄÅasync+awaitasync ÂáΩÊï∞ÊòØGenerator ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÁ≥ñ„ÄÇ ÊØîGeneratorÂáΩÊï∞Áî®Ëµ∑Êù•ÁÆÄÂçï ÂèØ‰ª•ËÆ©‰ª£Á†ÅÂÉèÂêåÊ≠• ÂèØ‰ª•try+catch ÂèØ‰ª•‰ΩøÁî®promise api12345678910111213141516async functionr() &#123; try&#123; let r1 = await read(&apos;1.txt&apos;,&apos;utf8&apos;) let r2 = await read(r1,&apos;utf8&apos;) let r3 = await read(r2,&apos;utf8&apos;) return r3 &#125;catch(e)&#123; console.log(&apos;e&apos;,e) &#125;&#125;r().then(data=&gt; &#123; console.log(data)&#125;,err=&gt;&#123; console.log(&apos;err&apos;,err)&#125;) async ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÂèØ‰ª•‰ΩøÁî® then ÊñπÊ≥ïÊ∑ªÂä†ÂõûË∞ÉÂáΩÊï∞„ÄÇÈÅáÂà∞awaitÂ∞±‰ºöÂÖàËøîÂõûÔºåÁ≠âÂæÖÂáΩÊï∞ÊâßË°å„ÄÇ]]></content>
      <tags>
        <tag>async</tag>
        <tag>es6</tag>
        <tag>Generator</tag>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∫§ÂèâËßÇÂØüÂô®(intersectionObserver) VueÂÆûÊàò]]></title>
    <url>%2F2018%2F08%2F13%2F%E4%BA%A4%E5%8F%89%E8%A7%82%E5%AF%9F%E5%99%A8-intersectionObserver-Vue%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉÊñáÁ´†ÔºöIntersectionObserver API ‰ΩøÁî®ÊïôÁ®ãIntersection Observer„ÄêËØë„Äë‰ΩøÁî® Intersection Observer ÂÆûÁé∞ÂõæÁâáÂª∂ËøüÂä†ËΩΩintersectionObserverËß£ÂÜ≥‰ªÄ‰πàÈóÆÈ¢òÔºü intersectionObserverËß£ÂÜ≥ÁõÆÊ†áÂÖÉÁ¥†‰∏éËßÜÂè£‰∫ßÁîü‰∏Ä‰∏™‰∫§ÂèâÂå∫ÔºåÊâÄ‰ª•Ëøô‰∏™ API Âè´ÂÅö‚Äù‰∫§ÂèâËßÇÂØüÂô®‚ÄùÔºå ÊØîÂ¶ÇÂú®webÁΩëÈ°µÂºÄÂèë‰∏≠ÔºåÂ∏∏Â∏∏ÈúÄË¶Å‰∫ÜËß£Êüê‰∏™ÂÖÉÁ¥†ÊòØÂê¶ËøõÂÖ•‰∫Ü‚ÄùËßÜÂè£‚ÄùÔºàviewportÔºâÔºåÂç≥Áî®Êà∑ËÉΩ‰∏çËÉΩÁúãÂà∞ÂÆÉ„ÄÇ ‰º†ÁªüÁöÑÂÆûÁé∞ÊñπÊ≥ïÊòØÔºåÁõëÂê¨Âà∞scroll‰∫ã‰ª∂ÂêéÔºåË∞ÉÁî®ÁõÆÊ†áÂÖÉÁ¥†ÔºàÁªøËâ≤ÊñπÂùóÔºâÁöÑgetBoundingClientRect()ÊñπÊ≥ïÔºåÂæóÂà∞ÂÆÉÂØπÂ∫î‰∫éËßÜÂè£Â∑¶‰∏äËßíÁöÑÂùêÊ†áÔºåÂÜçÂà§Êñ≠ÊòØÂê¶Âú®ËßÜÂè£‰πãÂÜÖ„ÄÇËøôÁßçÊñπÊ≥ïÁöÑÁº∫ÁÇπÊòØÔºåÁî±‰∫éscroll‰∫ã‰ª∂ÂØÜÈõÜÂèëÁîüÔºåËÆ°ÁÆóÈáèÂæàÂ§ßÔºåÂÆπÊòìÈÄ†ÊàêÊÄßËÉΩÈóÆÈ¢ò„ÄÇ ÁõÆÂâçÊúâ‰∏Ä‰∏™Êñ∞ÁöÑ IntersectionObserver APIÔºåÂèØ‰ª•Ëá™Âä®‚ÄùËßÇÂØü‚ÄùÂÖÉÁ¥†ÊòØÂê¶ÂèØËßÅÔºåChrome 51+ Â∑≤ÁªèÊîØÊåÅ„ÄÇÁî±‰∫éÂèØËßÅÔºàvisibleÔºâÁöÑÊú¨Ë¥®ÊòØÔºåÁõÆÊ†áÂÖÉÁ¥†‰∏éËßÜÂè£‰∫ßÁîü‰∏Ä‰∏™‰∫§ÂèâÂå∫ÔºåÊâÄ‰ª•Ëøô‰∏™ API Âè´ÂÅö‚Äù‰∫§ÂèâËßÇÂØüÂô®‚Äù„ÄÇ IntersectionObserver API ÊòØÂºÇÊ≠•ÁöÑÔºå‰∏çÈöèÁùÄÁõÆÊ†áÂÖÉÁ¥†ÁöÑÊªöÂä®ÂêåÊ≠•Ëß¶Âèë„ÄÇËßÑÊ†ºÂÜôÊòéÔºåIntersectionObserverÁöÑÂÆûÁé∞ÔºåÂ∫îËØ•ÈááÁî®requestIdleCallback()ÔºåÂç≥Âè™ÊúâÁ∫øÁ®ãÁ©∫Èó≤‰∏ãÊù•ÔºåÊâç‰ºöÊâßË°åËßÇÂØüÂô®„ÄÇËøôÊÑèÂë≥ÁùÄÔºåËøô‰∏™ËßÇÂØüÂô®ÁöÑ‰ºòÂÖàÁ∫ßÈùûÂ∏∏‰ΩéÔºåÂè™Âú®ÂÖ∂‰ªñ‰ªªÂä°ÊâßË°åÂÆåÔºåÊµèËßàÂô®Êúâ‰∫ÜÁ©∫Èó≤Êâç‰ºöÊâßË°å„ÄÇ IntersectionObserverEntry ÂØπË±° IntersectionObserverEntryÂØπË±°Êèê‰æõÁõÆÊ†áÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØÔºå‰∏ÄÂÖ±ÊúâÂÖ≠‰∏™Â±ûÊÄß„ÄÇ { time: 3893.92, rootBounds: ClientRect { bottom: 920, height: 1024, left: 0, right: 1024, top: 0, width: 920 }, boundingClientRect: ClientRect { // ... }, intersectionRect: ClientRect { // ... }, intersectionRatio: 0.54, target: element } ÊØè‰∏™Â±ûÊÄßÁöÑÂê´‰πâÂ¶Ç‰∏ã„ÄÇ timeÔºöÂèØËßÅÊÄßÂèëÁîüÂèòÂåñÁöÑÊó∂Èó¥ÔºåÊòØ‰∏Ä‰∏™È´òÁ≤æÂ∫¶Êó∂Èó¥Êà≥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí targetÔºöË¢´ËßÇÂØüÁöÑÁõÆÊ†áÂÖÉÁ¥†ÔºåÊòØ‰∏Ä‰∏™ DOM ËäÇÁÇπÂØπË±° rootBoundsÔºöÊ†πÂÖÉÁ¥†ÁöÑÁü©ÂΩ¢Âå∫ÂüüÁöÑ‰ø°ÊÅØÔºågetBoundingClientRect()ÊñπÊ≥ïÁöÑËøîÂõûÂÄºÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ†πÂÖÉÁ¥†ÔºàÂç≥Áõ¥Êé•Áõ∏ÂØπ‰∫éËßÜÂè£ÊªöÂä®ÔºâÔºåÂàôËøîÂõûnull boundingClientRectÔºöÁõÆÊ†áÂÖÉÁ¥†ÁöÑÁü©ÂΩ¢Âå∫ÂüüÁöÑ‰ø°ÊÅØ intersectionRectÔºöÁõÆÊ†áÂÖÉÁ¥†‰∏éËßÜÂè£ÔºàÊàñÊ†πÂÖÉÁ¥†ÔºâÁöÑ‰∫§ÂèâÂå∫ÂüüÁöÑ‰ø°ÊÅØ intersectionRatioÔºöÁõÆÊ†áÂÖÉÁ¥†ÁöÑÂèØËßÅÊØî‰æãÔºåÂç≥intersectionRectÂç†boundingClientRectÁöÑÊØî‰æãÔºåÂÆåÂÖ®ÂèØËßÅÊó∂‰∏∫1ÔºåÂÆåÂÖ®‰∏çÂèØËßÅÊó∂Â∞è‰∫éÁ≠â‰∫é0 Áé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂàõÂª∫‰∫Ü‰∏Ä‰∏™ Intersection Observer Âπ∂‰∏îÊ≠£Âú®ËßÇÂØüÈ°µÈù¢‰∏äÁöÑÂõæÁâáÔºåÊàë‰ª¨Áé∞Âú®Êù•‰∫ÜËß£ intersection ‰∫ã‰ª∂ÔºåÂÆÉÂ∞ÜÂú®ÂÖÉÁ¥†ËøõÂÖ•ËßÜÂå∫Êó∂Ëß¶Âèë„ÄÇ ÊµèËßàÂô®ÊîØÊåÅÊ≠§Êó∂Ê≠§ÂàªÔºå‰Ω†‰πüËÆ∏ÊÉ≥Áü•ÈÅìÂÖ≥‰∫éËøôÈ°πÁâπÊÄßÁöÑÊµèËßàÂô®ÊîØÊåÅÊÉÖÂÜµ„ÄÇIntersection Observer Áé∞Âú®Â∑≤Ë¢´ Edge„ÄÅFirefox„ÄÅChrome Âíå Opera ÊîØÊåÅÔºåËøôÊòØ‰∏Ä‰∏™Â•ΩÊ∂àÊÅØ„ÄÇ ÁÑ∂ËÄåÔºå‰∏∫‰∫ÜÁ°Æ‰øùÊàë‰ª¨ÁöÑ‰ª£Á†Å‰∏ç‰ºöÂú®‰∏çÊîØÊåÅÂÆÉÁöÑÊµèËßàÂô®‰∏≠ÈÄ†ÊàêÁ†¥ÂùèÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁâπÊÄßÊ£ÄÊµãÊù•Á°ÆÂÆöÊàë‰ª¨Â∫îËØ•Â¶Ç‰ΩïÊù•Âä†ËΩΩÂõæÁâá„ÄÇËÆ©Êàë‰ª¨ÁúãÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†Å„ÄÇ // If we don&apos;t have support for intersection observer, load the images immediately if (!(&apos;IntersectionObserver&apos; in window)) { Array.from(images).forEach(image =&gt; preloadImage(image)); } else { // It is supported, load the images observer = new IntersectionObserver(onIntersection, config); images.forEach(image =&gt; { observer.observe(image); }); } view raw Vue: &lt;template&gt; &lt;img :src=&quot;lazysrc&quot; /&gt; &lt;/template&gt; &lt;script&gt; import Bus from &apos;../bus&apos;; import nonepng from &apos;../../assets/img/none.png&apos;; export default { name: &apos;lazyimg&apos;, data: function() { return { isShow: false, lazysrc: nonepng } }, mounted() { if(!this.needlazy) { this.lazysrc = this.src; } else { if(!(&apos;IntersectionObserver&apos; in window)) { //TODO } else { var io = new IntersectionObserver( entries =&gt; { entries.forEach(i =&gt; { if(i.intersectionRatio &gt;= 0.25) { //ÂèØËßÅÂÖÉÁ¥†Âç†ËßÜÁ™óÁöÑ25%Ëß¶Âèë i.target.setAttribute(&quot;src&quot;, this.src) } }); }, { threshold: [0, 0.25, 0.5, 0.75, 1], } ); io.observe(this.$el); } } }, props: { needlazy: { type: Boolean, default: false, }, src: { type: String, default: &apos;&apos;, }, } }; &lt;/script&gt; ÈÄöÂ∏∏ÈÉΩÊòØÈÄöËøáÂà§Êñ≠intersectionRatioÊù•ÂÅöÊüê‰∫õ‰∫ãÔºåÊØîÂ¶ÇÂΩìintersectionRatioÂ§ß‰∫éÂ§öÂ∞ëÁöÑÊó∂ÂÄôÂÅö‰ªÄ‰πà‰∫ãÔºåÂä†ËΩΩÂõæÁâáÁ≠âÔºÅ ÁÅ∞Ëâ≤ÁöÑÊ∞¥Âπ≥ÊñπÊ°Ü‰ª£Ë°®ËßÜÂè£ÔºåÊ∑±Á∫¢Ëâ≤ÁöÑÂå∫Âüü‰ª£Ë°®Âõõ‰∏™Ë¢´ËßÇÂØüÁöÑÁõÆÊ†áÂÖÉÁ¥†„ÄÇÂÆÉ‰ª¨ÂêÑËá™ÁöÑintersectionRatioÂõæ‰∏≠ÈÉΩÂ∑≤ÁªèÊ≥®Êòé„ÄÇ DEMOÔºö Âª∂ËøüÂä†ËΩΩ(Lazyload)‰∏âÁßçÂÆûÁé∞ÊñπÂºè &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt; &lt;title&gt; &lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; * { padding: 0px; margin: 0px; outline: none; } body {} #main { margin: 0 auto; width: 600px; height: 300px; overflow: scroll; } #con { width: 1200px; height: 300px; } .cc { width: 300px; height: 300px; float: left; background-size: cover; } #a { background-color: red; } #b { background-color: black; } #c { background-color: blue; } #d { background-color: green; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;main&quot;&gt; &lt;div id=&quot;con&quot;&gt; &lt;div id=&quot;a&quot; class=&quot;cc&quot;&gt;&lt;/div&gt; &lt;div id=&quot;b&quot; class=&quot;cc&quot;&gt;&lt;/div&gt; &lt;div id=&quot;c&quot; class=&quot;cc&quot;&gt;&lt;/div&gt; &lt;div id=&quot;d&quot; class=&quot;cc&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type=&quot;text/javascript&quot;&gt; var io = new IntersectionObserver( entries =&gt; { console.log(&apos;********************************&apos;); console.log(entries); console.log(&apos;********************************&apos;); entries.forEach(i =&gt; { console.log(&apos;================================&apos;); console.log(&apos;Time: &apos; + i.time); console.log(&apos;Target: &apos; + i.target.nodeName); console.log(&apos;IntersectionRatio: &apos; + i.intersectionRatio); console.log(&apos;rootBounds: &apos; + i.rootBounds); console.log(i.boundingClientRect); console.log(i.intersectionRect); console.log(&apos;================================&apos;); if(i.intersectionRatio &gt;= 0.25) { //ÂèØËßÅÂÖÉÁ¥†Âç†ËßÜÁ™óÁöÑ25%Ëß¶Âèë console.log(&apos;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^&apos;); i.target.style.backgroundImage = &quot;url(&quot; + &apos;http://pic35.photophoto.cn/20150528/0020032932102307_b.jpg&apos; + &quot;)&quot; } }); }, { /* Using default options. Details below */ threshold: [0, 0.25, 0.5, 0.75, 1], //‰ºöÊâßË°å5Ê¨° } ); // Start observing an element io.observe(document.querySelector(&apos;#d&apos;)); io.observe(document.querySelector(&apos;#c&apos;)); &lt;/script&gt; &lt;/html&gt; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Lazyload 3&lt;/title&gt; &lt;style&gt; img { display: block; margin-bottom: 50px; width: 800px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/1.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/2.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/3.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/4.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/5.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/6.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/7.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/8.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/9.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/10.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/11.png&quot;&gt; &lt;img src=&quot;images/loading.gif&quot; data-src=&quot;images/12.png&quot;&gt; &lt;script&gt; function query(selector) { return Array.from(document.querySelectorAll(selector)); } var io = new IntersectionObserver(function(items) { items.forEach(function(item) { var target = item.target; if(target.getAttribute(&apos;src&apos;) == &apos;images/loading.gif&apos;) { target.src = target.getAttribute(&apos;data-src&apos;); } }) }); query(&apos;img&apos;).forEach(function(item) { io.observe(item); }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; IntersectionObserver ‰º†ÂÖ•‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂΩìÂÖ∂ËßÇÂØüÂà∞ÂÖÉÁ¥†ÈõÜÂêàÂá∫Áé∞Êó∂ÂÄôÔºåÂàô‰ºöÊâßË°åËØ•ÂáΩÊï∞„ÄÇ io.observe Âç≥Ë¶ÅËßÇÂØüÁöÑÂÖÉÁ¥†ÔºåË¶Å‰∏Ä‰∏™‰∏™Ê∑ªÂä†ÊâçÂèØ‰ª•„ÄÇ io ÁÆ°ÁêÜÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂΩìÂÖÉÁ¥†Âá∫Áé∞ÊàñÊ∂àÂ§±ÁöÑÊó∂ÂÄôÔºåÊï∞ÁªÑÊ∑ªÂä†ÊàñÂà†Èô§ËØ•ÂÖÉÁ¥†ÔºåÂπ∂‰∏îÊâßË°åËØ•ÂõûË∞ÉÂáΩÊï∞„ÄÇ ‰∏Ä„ÄÅAPIÂÆÉÁöÑÁî®Ê≥ïÈùûÂ∏∏ÁÆÄÂçï„ÄÇ var io = new IntersectionObserver(callback, option); ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåIntersectionObserverÊòØÊµèËßàÂô®ÂéüÁîüÊèê‰æõÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöcallbackÊòØÂèØËßÅÊÄßÂèòÂåñÊó∂ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåoptionÊòØÈÖçÁΩÆÂØπË±°ÔºàËØ•ÂèÇÊï∞ÂèØÈÄâÔºâ„ÄÇ ÊûÑÈÄ†ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ËßÇÂØüÂô®ÂÆû‰æã„ÄÇÂÆû‰æãÁöÑobserveÊñπÊ≥ïÂèØ‰ª•ÊåáÂÆöËßÇÂØüÂì™‰∏™ DOM ËäÇÁÇπ„ÄÇ // ÂºÄÂßãËßÇÂØü io.observe(document.getElementById(&apos;example&apos;)); // ÂÅúÊ≠¢ËßÇÂØü io.unobserve(element); // ÂÖ≥Èó≠ËßÇÂØüÂô® io.disconnect(); ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåobserveÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™ DOM ËäÇÁÇπÂØπË±°„ÄÇÂ¶ÇÊûúË¶ÅËßÇÂØüÂ§ö‰∏™ËäÇÁÇπÔºåÂ∞±Ë¶ÅÂ§öÊ¨°Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï„ÄÇ io.observe(elementA); io.observe(elementB); ‰∫å„ÄÅcallback ÂèÇÊï∞ÁõÆÊ†áÂÖÉÁ¥†ÁöÑÂèØËßÅÊÄßÂèòÂåñÊó∂ÔºåÂ∞±‰ºöË∞ÉÁî®ËßÇÂØüÂô®ÁöÑÂõûË∞ÉÂáΩÊï∞callback„ÄÇ callback‰∏ÄËà¨‰ºöËß¶Âèë‰∏§Ê¨°„ÄÇ‰∏ÄÊ¨°ÊòØÁõÆÊ†áÂÖÉÁ¥†ÂàöÂàöËøõÂÖ•ËßÜÂè£ÔºàÂºÄÂßãÂèØËßÅÔºâÔºåÂè¶‰∏ÄÊ¨°ÊòØÂÆåÂÖ®Á¶ªÂºÄËßÜÂè£ÔºàÂºÄÂßã‰∏çÂèØËßÅÔºâ„ÄÇ var io = new IntersectionObserver( entries =&gt; { console.log(entries); } ); ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂõûË∞ÉÂáΩÊï∞ÈááÁî®ÁöÑÊòØÁÆ≠Â§¥ÂáΩÊï∞ÁöÑÂÜôÊ≥ï„ÄÇcallbackÂáΩÊï∞ÁöÑÂèÇÊï∞ÔºàentriesÔºâÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏™ÊàêÂëòÈÉΩÊòØ‰∏Ä‰∏™[IntersectionObserverEntry](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)ÂØπË±°„ÄÇ‰∏æ‰æãÊù•ËØ¥ÔºåÂ¶ÇÊûúÂêåÊó∂Êúâ‰∏§‰∏™Ë¢´ËßÇÂØüÁöÑÂØπË±°ÁöÑÂèØËßÅÊÄßÂèëÁîüÂèòÂåñÔºåentriesÊï∞ÁªÑÂ∞±‰ºöÊúâ‰∏§‰∏™ÊàêÂëò„ÄÇ ‰∏â„ÄÅOption ÂØπË±°IntersectionObserverÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÂØπË±°„ÄÇÂÆÉÂèØ‰ª•ËÆæÁΩÆ‰ª•‰∏ãÂ±ûÊÄß„ÄÇ [IntersectionObserver.root](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/root) Âè™ËØªÊâÄÁõëÂê¨ÂØπË±°ÁöÑÂÖ∑‰ΩìÁ•ñÂÖàÂÖÉÁ¥†([element](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/Element))„ÄÇÂ¶ÇÊûúÊú™‰º†ÂÖ•‰ªª‰ΩïÂÄºÊàñÂÄº‰∏∫nullÔºåÂàôÈªòËÆ§‰ΩøÁî®viewport„ÄÇ [IntersectionObserver.rootMargin](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/rootMargin) Âè™ËØªËÆ°ÁÆó‰∫§ÂèâÊó∂Ê∑ªÂä†Âà∞Ê†π(root)ËæπÁïåÁõíbounding boxÁöÑÁü©ÂΩ¢ÂÅèÁßªÈáèÔºå ÂèØ‰ª•ÊúâÊïàÁöÑÁº©Â∞èÊàñÊâ©Â§ßÊ†πÁöÑÂà§ÂÆöËåÉÂõ¥‰ªéËÄåÊª°Ë∂≥ËÆ°ÁÆóÈúÄË¶Å„ÄÇÊ≠§Â±ûÊÄßËøîÂõûÁöÑÂÄºÂèØËÉΩ‰∏éË∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞Êó∂ÊåáÂÆöÁöÑÂÄº‰∏çÂêåÔºåÂõ†Ê≠§ÂèØËÉΩÈúÄË¶ÅÊõ¥ÊîπËØ•ÂÄºÔºå‰ª•ÂåπÈÖçÂÜÖÈÉ®Ë¶ÅÊ±Ç„ÄÇÊâÄÊúâÁöÑÂÅèÁßªÈáèÂùáÂèØÁî®ÂÉèÁ¥†(pixel)(px)ÊàñÁôæÂàÜÊØî(percentage)(%)Êù•Ë°®Ëææ, ÈªòËÆ§ÂÄº‰∏∫‚Äù0px 0px 0px 0px‚Äù„ÄÇ [IntersectionObserver.thresholds](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/thresholds) Âè™ËØª‰∏Ä‰∏™ÂåÖÂê´ÈòàÂÄºÁöÑlist, ÂçáÂ∫èÊéíÂàó, list‰∏≠ÁöÑÊØè‰∏™ÈòàÂÄºÈÉΩÊòØÁõëÂê¨ÂØπË±°ÁöÑ‰∫§ÂèâÂå∫Âüü‰∏éËæπÁïåÂå∫ÂüüÁöÑÊØîÁéá„ÄÇÂΩìÁõëÂê¨ÂØπË±°ÁöÑ‰ªª‰ΩïÈòàÂÄºË¢´Ë∂äËøáÊó∂ÔºåÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™ÈÄöÁü•(Notification)„ÄÇÂ¶ÇÊûúÊûÑÈÄ†Âô®Êú™‰º†ÂÖ•ÂÄº, ÂàôÈªòËÆ§ÂÄº‰∏∫0. threshold Â±ûÊÄß thresholdÂ±ûÊÄßÂÜ≥ÂÆö‰∫Ü‰ªÄ‰πàÊó∂ÂÄôËß¶ÂèëÂõûË∞ÉÂáΩÊï∞„ÄÇÂÆÉÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏™ÊàêÂëòÈÉΩÊòØ‰∏Ä‰∏™Èó®ÊßõÂÄºÔºåÈªòËÆ§‰∏∫[0]ÔºåÂç≥‰∫§ÂèâÊØî‰æãÔºàintersectionRatioÔºâËææÂà∞0Êó∂Ëß¶ÂèëÂõûË∞ÉÂáΩÊï∞„ÄÇ new IntersectionObserver( entries =&gt; {/* ... */}, { threshold: [0, 0.25, 0.5, 0.75, 1] } ); Áî®Êà∑ÂèØ‰ª•Ëá™ÂÆö‰πâËøô‰∏™Êï∞ÁªÑ„ÄÇÊØîÂ¶ÇÔºå[0, 0.25, 0.5, 0.75, 1]Â∞±Ë°®Á§∫ÂΩìÁõÆÊ†áÂÖÉÁ¥† 0%„ÄÅ25%„ÄÅ50%„ÄÅ75%„ÄÅ100% ÂèØËßÅÊó∂Ôºå‰ºöËß¶ÂèëÂõûË∞ÉÂáΩÊï∞„ÄÇ root Â±ûÊÄßÔºårootMargin Â±ûÊÄß ÂæàÂ§öÊó∂ÂÄôÔºåÁõÆÊ†áÂÖÉÁ¥†‰∏ç‰ªÖ‰ºöÈöèÁùÄÁ™óÂè£ÊªöÂä®ÔºåËøò‰ºöÂú®ÂÆπÂô®ÈáåÈù¢ÊªöÂä®ÔºàÊØîÂ¶ÇÂú®iframeÁ™óÂè£ÈáåÊªöÂä®Ôºâ„ÄÇÂÆπÂô®ÂÜÖÊªöÂä®‰πü‰ºöÂΩ±ÂìçÁõÆÊ†áÂÖÉÁ¥†ÁöÑÂèØËßÅÊÄßÔºåÂèÇËßÅÊú¨ÊñáÂºÄÂßãÊó∂ÁöÑÈÇ£Âº†Á§∫ÊÑèÂõæ„ÄÇ IntersectionObserver API ÊîØÊåÅÂÆπÂô®ÂÜÖÊªöÂä®„ÄÇrootÂ±ûÊÄßÊåáÂÆöÁõÆÊ†áÂÖÉÁ¥†ÊâÄÂú®ÁöÑÂÆπÂô®ËäÇÁÇπÔºàÂç≥Ê†πÂÖÉÁ¥†Ôºâ„ÄÇÊ≥®ÊÑèÔºåÂÆπÂô®ÂÖÉÁ¥†ÂøÖÈ°ªÊòØÁõÆÊ†áÂÖÉÁ¥†ÁöÑÁ•ñÂÖàËäÇÁÇπ„ÄÇ var opts = { root: document.querySelector(&apos;.container&apos;), rootMargin: &quot;500px 0px&quot; }; var observer = new IntersectionObserver( callback, opts ); ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÈô§‰∫ÜrootÂ±ûÊÄßÔºåËøòÊúâ[rootMargin](https://link.zhihu.com/?target=https%3A//wicg.github.io/IntersectionObserver/%23dom-intersectionobserverinit-rootmargin)Â±ûÊÄß„ÄÇÂêéËÄÖÂÆö‰πâÊ†πÂÖÉÁ¥†ÁöÑmarginÔºåÁî®Êù•Êâ©Â±ïÊàñÁº©Â∞èrootBoundsËøô‰∏™Áü©ÂΩ¢ÁöÑÂ§ßÂ∞èÔºå‰ªéËÄåÂΩ±ÂìçintersectionRect‰∫§ÂèâÂå∫ÂüüÁöÑÂ§ßÂ∞è„ÄÇÂÆÉ‰ΩøÁî®CSSÁöÑÂÆö‰πâÊñπÊ≥ïÔºåÊØîÂ¶Ç10px 20px 30px 40pxÔºåË°®Á§∫ top„ÄÅright„ÄÅbottom Âíå left Âõõ‰∏™ÊñπÂêëÁöÑÂÄº„ÄÇ //Á¶ªËßÜÁ™óËøòÊúâtop=500px ÊàñËÄÖ bottom=500 Ëß¶ÂèëÂä†ËΩΩ rootMargin = `500px 0px` //Á¶ªËßÜÁ™óËøòÊúâtop=-500px ÊàñËÄÖ bottom=-500 Ëß¶ÂèëÂä†ËΩΩ ÔºàÊÉ∞ÊÄßÂä†ËΩΩÔºâ rootMargin = `-500px 0px` ËøôÊ†∑ËÆæÁΩÆ‰ª•ÂêéÔºå‰∏çÁÆ°ÊòØÁ™óÂè£ÊªöÂä®ÊàñËÄÖÂÆπÂô®ÂÜÖÊªöÂä®ÔºåÂè™Ë¶ÅÁõÆÊ†áÂÖÉÁ¥†ÂèØËßÅÊÄßÂèòÂåñÔºåÈÉΩ‰ºöËß¶ÂèëËßÇÂØüÂô®„ÄÇ Âõõ„ÄÅÊñπÊ≥ï[IntersectionObserver.disconnect](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/disconnect)‰ΩøIntersectionObserverÂØπË±°ÂÅúÊ≠¢ÁõëÂê¨Â∑•‰Ωú„ÄÇ [IntersectionObserver.observe](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/observe)‰ΩøIntersectionObserverÂºÄÂßãÁõëÂê¨‰∏Ä‰∏™ÁõÆÊ†áÂÖÉÁ¥†„ÄÇ [IntersectionObserver.takeRecords](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/takeRecords)‰∏∫ÊâÄÊúâÁõëÂê¨ÁõÆÊ†áËøîÂõû‰∏Ä‰∏™[IntersectionObserverEntry](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserverEntry)ÂØπË±°Êï∞ÁªÑÂπ∂‰∏îÂÅúÊ≠¢ÁõëÂê¨Ëøô‰∫õÁõÆÊ†á„ÄÇ [IntersectionObserver.unobserve](https://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver/unobserve)‰ΩøIntersectionObserverÂÅúÊ≠¢ÁõëÂê¨ÁâπÂÆöÁõÆÊ†áÂÖÉÁ¥†„ÄÇ ‰∫î„ÄÅVueÔºàxunleif2e/vue-lazy-componentÔºâÊ†∏ÂøÉ VueLazyComponent.vue &lt;template&gt; &lt;transition-group :tag=&quot;tagName&quot; name=&quot;lazy-component&quot; style=&quot;position: relative;&quot; @before-enter=&quot;(el) =&gt; $emit(&apos;before-enter&apos;, el)&quot; @before-leave=&quot;(el) =&gt; $emit(&apos;before-leave&apos;, el)&quot; @after-enter=&quot;(el) =&gt; $emit(&apos;after-enter&apos;, el)&quot; @after-leave=&quot;(el) =&gt; $emit(&apos;after-leave&apos;, el)&quot; &gt; &lt;div v-if=&quot;isInit&quot; key=&quot;component&quot;&gt; &lt;slot :loading=&quot;loading&quot;&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div v-else-if=&quot;$slots.skeleton&quot; key=&quot;skeleton&quot;&gt; &lt;slot name=&quot;skeleton&quot;&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div v-else key=&quot;loading&quot;&gt; &lt;/div&gt; &lt;/transition-group&gt; &lt;/template&gt; &lt;script&gt; export default { name: &apos;VueLazyComponent&apos;, props: { timeout: { type: Number }, tagName: { type: String, default: &apos;div&apos; }, viewport: { type: typeof window !== &apos;undefined&apos; ? window.HTMLElement : Object, default: () =&gt; null }, threshold: { type: String, default: &apos;0px&apos; }, direction: { type: String, default: &apos;vertical&apos; }, maxWaitingTime: { type: Number, default: 50 } }, data () { return { isInit: false, timer: null, io: null, loading: false } }, created () { // Â¶ÇÊûúÊåáÂÆötimeoutÂàôÊó†ËÆ∫ÂèØËßÅ‰∏éÂê¶ÈÉΩÊòØÂú®timeout‰πãÂêéÂàùÂßãÂåñ if (this.timeout) { this.timer = setTimeout(() =&gt; { this.init() }, this.timeout) } }, mounted () { if (!this.timeout) { // Ê†πÊçÆÊªöÂä®ÊñπÂêëÊù•ÊûÑÈÄ†ËßÜÂè£Â§ñËæπË∑ùÔºåÁî®‰∫éÊèêÂâçÂä†ËΩΩ let rootMargin switch (this.direction) { case &apos;vertical&apos;: rootMargin = `${this.threshold} 0px` break case &apos;horizontal&apos;: rootMargin = `0px ${this.threshold}` break } // ËßÇÂØüËßÜÂè£‰∏éÁªÑ‰ª∂ÂÆπÂô®ÁöÑ‰∫§ÂèâÊÉÖÂÜµ this.io = new window.IntersectionObserver(this.intersectionHandler, { rootMargin, root: this.viewport, threshold: [ 0, Number.MIN_VALUE, 0.01] }) this.io.observe(this.$el) } }, beforeDestroy () { // Âú®ÁªÑ‰ª∂ÈîÄÊØÅÂâçÂèñÊ∂àËßÇÂØü if (this.io) { this.io.unobserve(this.$el) } }, methods: { // ‰∫§ÂèâÊÉÖÂÜµÂèòÂåñÂ§ÑÁêÜÂáΩÊï∞ intersectionHandler (entries) { if ( // Ê≠£Âú®‰∫§Âèâ entries[0].isIntersecting || // ‰∫§ÂèâÁéáÂ§ß‰∫é0 entries[0].intersectionRatio ) { this.init() this.io.unobserve(this.$el) } }, // Â§ÑÁêÜÁªÑ‰ª∂ÂíåÈ™®Êû∂ÁªÑ‰ª∂ÁöÑÂàáÊç¢ init () { // Ê≠§Êó∂ËØ¥ÊòéÈ™®Êû∂ÁªÑ‰ª∂Âç≥Â∞ÜË¢´ÂàáÊç¢ this.$emit(&apos;beforeInit&apos;) this.$emit(&apos;before-init&apos;) // Ê≠§Êó∂ÂèØ‰ª•ÂáÜÂ§áÂä†ËΩΩÊáíÂä†ËΩΩÁªÑ‰ª∂ÁöÑËµÑÊ∫ê this.loading = true // Áî±‰∫éÂáΩÊï∞‰ºöÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°åÔºåÂä†ËΩΩÊáíÂä†ËΩΩÁªÑ‰ª∂ÈùûÂ∏∏ËÄóÊó∂ÔºåÂÆπÊòìÂç°È°ø // ÊâÄ‰ª•Âú®requestAnimationFrameÂõûË∞É‰∏≠Âª∂ÂêéÊâßË°å this.requestAnimationFrame(() =&gt; { this.isInit = true this.$emit(&apos;init&apos;) }) }, requestAnimationFrame (callback) { // Èò≤Ê≠¢Á≠âÂæÖÂ§™‰πÖÊ≤°ÊúâÊâßË°åÂõûË∞É // ËÆæÁΩÆÊúÄÂ§ßÁ≠âÂæÖÊó∂Èó¥ setTimeout(() =&gt; { if (this.isInit) return callback() }, this.maxWaitingTime) // ÂÖºÂÆπ‰∏çÊîØÊåÅrequestAnimationFrame ÁöÑÊµèËßàÂô® return (window.requestAnimationFrame || ((callback) =&gt; setTimeout(callback, 1000 / 60)))(callback) } } } &lt;/script&gt;]]></content>
      <tags>
        <tag>intersectionObserver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React ÂºÇÊ≠•Âä†ËΩΩÁªÑ‰ª∂]]></title>
    <url>%2F2018%2F08%2F11%2FRaect-%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[È¶ñÂÖàÈúÄË¶ÅÁü•ÈÅìÁöÑÊòØdynamic importÈÄöËøáËøîÂõûPromiseÁöÑÊñπÂºèÂÆûÁé∞ÂºÇÊ≠•Âä†ËΩΩÂäüËÉΩ„ÄÇ import(&apos;./component.js&apos;) .then((m) =&gt; { // Â§ÑÁêÜÂºÇÊ≠•Âä†ËΩΩÂà∞ÁöÑÊ®°Âùóm }) .catch((err) =&gt; { // ÈîôËØØÂ§ÑÁêÜ }); Ë¶ÅÊ≥®ÊÑèÁöÑÊòØimportÁöÑÂèÇÊï∞‰∏çËÉΩ‰ΩøÁî®ÂèòÈáèÔºåÁÆÄÂçïÂéüÂàôÊòØËá≥Â∞ëË¶ÅËÆ©WebpackÁü•ÊôìÂ∫îËØ•È¢ÑÂÖàÂä†ËΩΩÂì™‰∫õÂÜÖÂÆπ„ÄÇËøôÈáåÁöÑÂèÇÊï∞Èô§‰∫Ü‰ΩøÁî®Â∏∏Èáè‰πãÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®Ê®°ÊùøÂ≠óÁ¨¶‰∏≤componentDir/${name}.js„ÄÇ ÂÖ∂ÂÆûÂà∞ËøôÈáåÂü∫Êú¨ÂÆåÊàê‰ª£Á†ÅÂàáÂâ≤‰∫ÜÔºåÊé•‰∏ãÊù•ÂÅöÂæóÂ∞±ÊòØÁªìÂêàreact-routerÂÆûÁé∞ÊåâÊ®°ÂùóÂºÇÊ≠•Âä†ËΩΩ„ÄÇËøôÊòØË∑ü‰∏öÂä°‰ª£Á†ÅÁõ∏ÂÖ≥ÁöÑÔºåÂõ†Ê≠§ÊØè‰∏™‰∫∫ÁöÑÂÅöÊ≥ïÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇÊâÄ‰ª•‰ª•‰∏ã‰ª£Á†Å‰ªÖ‰æõÂèÇËÄÉ„ÄÇ ÂºÇÊ≠•Âä†ËΩΩ ÊàëÂèÇËÄÉreact-routerÁöÑ‰æãÂ≠êÂÜô‰∫Ü‰∏™ÁÆÄÂçïÁöÑÂºÇÊ≠•Âä†ËΩΩÁªÑ‰ª∂AsyncLoader.jsÔºåÂÜÖÂÆπÔºö import React from &apos;react&apos;; export default class AsyncLoader extends React.Component { static propTypes = { path: React.PropTypes.string.isRequired, loading: React.PropTypes.element, }; static defaultProps = { path: &apos;&apos;, loading: &lt;p&gt;Loading...&lt;/p&gt;, error: &lt;p&gt;Error&lt;/p&gt; }; constructor(props) { super(props); this.state = { module: null }; } componentWillMount() { this.load(this.props); } componentWillReceiveProps(nextProps) { if (nextProps.path !== this.props.path || nextProps.error !== this.props.error || nextProps.loading !== this.props.loading) { this.load(nextProps); } } load(props) { this.setState({module: props.loading}); // TODOÔºöÂºÇÊ≠•‰ª£Á†ÅÁöÑË∑ØÂæÑÂ∏åÊúõÂÅöÊàêÂèØ‰ª•ÈÖçÁΩÆÁöÑÊñπÂºè import(`./path/${props.path}`) .then((m) =&gt; { let Module = m.default ? m.default : m; console.log(&quot;module: &quot;, Module); this.setState({module: &lt;Module/&gt;}); }).catch(() =&gt; { this.setState({module: props.error}); }); } render() { return this.state.module; } } ‰ΩøÁî®ÊñπÊ≥ï &lt;Route exact path=&apos;/book&apos; render={()=&gt;&lt;AsyncLoader path={&apos;./components/Book.js&apos;}/&gt;} /&gt; WebpackÊâìÂåÖÁöÑÊó∂ÂÄô‰ºöÊ†πÊçÆimportÁöÑÂèÇÊï∞ÁîüÊàêÁõ∏Â∫îÁöÑjsÊñá‰ª∂ÔºåÈªòËÆ§‰ΩøÁî®idÔºàwebpackÁîüÊàêÁöÑÔºå‰ªé0ÂºÄÂßãÔºâÂëΩÂêçËøô‰∏™Êñá‰ª∂„ÄÇ const Search = asyncComponent(() =&gt; import(/* webpackChunkName: &quot;search&quot; */ &quot;./containers/Search/SearchContainer&quot;)) const BookList = asyncComponent(() =&gt; import(/* webpackChunkName: &quot;bookList&quot; */ &quot;./containers/BookList/BookListContainer&quot;)) import React from &apos;react&apos; export const asyncComponent = loadComponent =&gt; ( class AsyncComponent extends React.Component { state = { Component: null, } componentWillMount() { if (this.hasLoadedComponent()) { return; } loadComponent() .then(module =&gt; module.default) ////ÂÖºÂÆπ module.default ? module.default : module .then((Component) =&gt; { this.setState({ Component }); }) .catch((err) =&gt; { console.error(`Cannot load component in &lt;AsyncComponent /&gt;`); throw err; }); } hasLoadedComponent() { return this.state.Component !== null; } render() { const { Component } = this.state; return (Component) ? &lt;Component {...this.props} /&gt; : null; } } );]]></content>
      <tags>
        <tag>Raect</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÈù¢ËØï‰πãÊï∞ÁªÑÂØπË±°Ëß£ÊûÑ]]></title>
    <url>%2F2018%2F08%2F04%2FJS%E9%9D%A2%E8%AF%95%E4%B9%8B%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%2F</url>
    <content type="text"><![CDATA[Êï∞ÁªÑËß£ÊûÑ: Â∞Ü destructuringArray([1, [2, 3], 4], ‚Äú[a, [b], c]‚Äù) =&gt; {a: 1, b: 2, c: 4} 123456789101112131415161718192021222324// Â∞Ü destructuringArray([1, [2, 3], 4], &quot;[a, [b], c]&quot;) =&gt; &#123;a: 1, b: 2, c: 4&#125;const targetArray = [1, [2, 3], 4];const formater = &quot;[a, [b], c]&quot;;const destructuringArray = (values, keys) =&gt; &#123; try &#123; const obj = &#123;&#125;; if (typeof keys === &apos;string&apos;) &#123; keys = JSON.parse(keys.replace(/\w+/g, &apos;&quot;$&amp;&quot;&apos;)); &#125; const iterate = (values, keys) =&gt; keys.forEach((key, i) =&gt; &#123; if(Array.isArray(key)) iterate(values[i], key) else obj[key] = values[i] &#125;) iterate(values, keys) return obj; &#125; catch (e) &#123; console.error(e.message); &#125;&#125; ÂØπË±°Ëß£ÊûÑ ÂÆûÁé∞‰∏Ä‰∏™getÂáΩÊï∞Ôºå‰ΩøÂæó‰∏ãÈù¢ÁöÑË∞ÉÁî®ÂèØ‰ª•ËæìÂá∫Ê≠£Á°ÆÁöÑÁªìÊûú 1234const obj = &#123; selector: &#123; to: &#123; toutiao: &quot;FE Coder&quot;&#125; &#125;, target: [1, 2, &#123; name: &apos;byted&apos;&#125;]&#125;;get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;);// [ &apos;FE Coder&apos;, 1, &apos;byted&apos;] ‰πçÁúº‰∏ÄÁúãÔºåËøô‰∏çÂ∞±ÊòØÂÆûÁé∞‰∏Ä‰∏™lodash.getÊñπÊ≥ïÂêóÔºüÁúã‰∏äÂéªÂ•ΩÂÉèÂæàÁÆÄÂçï„ÄÇÊâÄ‰ª•ÊàëÂ∞±ÂºÄÂßãÂÜô‰∫ÜÁ¨¨‰∏Ä‰∏™ÁâàÊú¨„ÄÇÊÄùÊÉ≥ÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÈÅçÂéÜ‰º†ËøõÊù•ÁöÑÂèÇÊï∞Ôºå‰ΩøÁî®splitÂ∞ÜÊØè‰∏Ä‰∏™ÂèÇÊï∞ÂàÜÈöîÂºÄÔºåÁÑ∂ÂêéÈÅçÂéÜÂèñÂÄºÔºåÊúÄÁªàËøîÂõûÁªìÊûú„ÄÇ12345678function get(data, ...args) &#123; return args.map((item) =&gt; &#123; const paths = item.split(&apos;.&apos;); let res = data; paths.map(path =&gt; res = res[path]); return res; &#125;)&#125; 1234567891011121314151617181920212223242526const obj = &#123; selector: &#123; to: &#123; toutiao: &quot;FE Coder&quot; &#125; &#125;, target: [1, 2, &#123; name: &apos;byted&apos; &#125;]&#125;;function get(obj, ...list) &#123; return list.map((item) =&gt; &#123; return item.split(&quot;.&quot;).reduce((a = &#123;&#125;, b) =&gt; &#123; if(/\[([0-9])\]/g.test(b))&#123; var c=/(\w+)\[([0-9])\]/g.exec(b) return a[c[1]]&amp;&amp;a[c[1]][c[2]] &#125; return a[b] &#125;, obj) &#125;)&#125;get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;,&apos;zhangsan.lisi[3].name&apos;)console.log(get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;,&apos;zhangsan.lisi[3].name&apos;)); ‰∏ÄËøêË°åÔºåÊûú‰∏çÂÖ∂ÁÑ∂ÔºåÊä•Èîô‰∫Ü„ÄÇÂêéÊù•‰ªîÁªÜÁúã‰∫Ü‰∏Ä‰∏ãÊèê‰æõÁöÑÊµãËØï‰ª£Á†ÅÔºåÂèëÁé∞Â±ÖÁÑ∂Êúâtarget[0]ËøôÁßç‰∏úË•ø„ÄÇ„ÄÇÂ±ÖÁÑ∂ËøòÂ∏¶‰∫Ü‰∏™Êï∞ÁªÑÁ¥¢Âºï„ÄÇ ÂÜ∑ÈùôÂàÜÊûê‰∏Ä‰∏ãÔºåÂØπ‰∫éÂêéÈù¢Â∏¶‰∫Ü‰∏™Á¥¢ÂºïÁöÑÁ±ªÂûãÔºåÊØîÂ¶Ç‚Äôtarget[0]‚Äô,Êàë‰ª¨ËÇØÂÆöÊòØË¶ÅÁâπÊÆäÂØπÂæÖÁöÑ„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨È¶ñÂÖàÂæóÂÖàËØÜÂà´Âà∞ËøôÁßçÁâπÊÆäÁöÑÁ±ªÂûãÔºåÁÑ∂ÂêéÂÜçÂØπÂÆÉËøõË°åÈ¢ùÂ§ñÂ§ÑÁêÜ„ÄÇ Ëøô‰∏™Êó∂ÂÄôÔºåÂæàÂø´ÁöÑÂ∞±ÂèØ‰ª•ÊÉ≥Âà∞‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•ÂÅöËøô‰∏™‰∫ãÊÉÖ„ÄÇ‰∏∫‰ªÄ‰πàÂë¢ÔºüÂõ†‰∏∫ÂÉèËøôÁßçÂ∏¶ÊúâÁ¥¢ÂºïÁöÑÁ±ªÂûãÔºå‰ªñ‰ª¨ÈÉΩÊúâ‰∏Ä‰∏™ÁâπËâ≤ÔºåÂ∞±ÊòØÊúâÂõ∫ÂÆöÁöÑÊ†ºÂºèÔºö[num]ÔºåÈÇ£‰πàÊàë‰ª¨Âè™ÈúÄË¶ÅËÉΩÊûÑÈÄ†Âá∫ÂèØ‰ª•ÂåπÈÖçËøôÁßçÂõ∫ÂÆöÊ†ºÂºèÁöÑÊ≠£ÂàôÔºåÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ ÂØπ‰∫éËøôÁßçÊ†ºÂºèÔºå‰∏çÈöæÊÉ≥Âà∞ÂèØ‰ª•Áî®Ëøô‰∏™Ê≠£ÂàôË°®ËææÂºèÊù•ÂÅöÂà§Êñ≠Ôºö/[[0-9]+]/giÔºåÂèØÊòØÊàë‰ª¨ËøòÈúÄË¶ÅÂ∞ÜÂåπÈÖçÂÄºÂèñÂá∫Êù•„ÄÇËøô‰∏™Êó∂ÂÄôÊü•‰∫Ü‰∏ãÊ≠£ÂàôË°®ËææÂºèÁöÑÊñáÊ°£(ÊñáÊ°£ÁÇπÂáªËøôÈáå)ÔºåÂèëÁé∞Êúâ‰∏Ä‰∏™matchÊñπÊ≥ïÔºåÂèØ‰ª•ËøîÂõûÂåπÈÖçÊàêÂäüÁöÑÁªìÊûú„ÄÇÈÇ£‰πàÂ∞±ËÆ©Êàë‰ª¨Êù•ÂÅö‰∏™ÊµãËØïÔºö12345678910111213const reg = /\[[0-9]+\]/gi;const str = &quot;target[123123]&quot;;const str1 = &quot;target[]&quot;if (reg.test(str)) &#123; console.log(&apos;test success&apos;);&#125;if (!reg.test(str1)) &#123; console.log(&apos;test fail&apos;);&#125;const matchResult = str.match(reg);console.log(matchResult); // [&quot;[123123]&quot;] ËØ∂ÔºåÊàë‰ª¨Áé∞Âú®Â∑≤ÁªèÊâæÂà∞‰∫ÜËß£ÂÜ≥ËøôÁßçÈóÆÈ¢òÁöÑÊñπÊ≥ïÔºåÈÇ£ËÆ©Êàë‰ª¨Ëµ∂Á¥ßÊù•ÁªßÁª≠ÊîπËøõ‰∏ã‰ª£Á†Å„ÄÇ12345678910111213141516171819202122232425function get(data, ...args) &#123; const reg = /\[[0-9]+\]/gi; return args.map((item) =&gt; &#123; const paths = item.split(&apos;.&apos;); let res = data; paths.map((path) =&gt; &#123; if (reg.test(path)) &#123; const match = path.match(reg)[0]; // Â∞Ütarget[0]ÈáåÁöÑtargetÂÇ®Â≠òÂà∞cmdÈáå const cmd = path.replace(match, &apos;&apos;); // Ëé∑ÂèñÊï∞ÁªÑÁ¥¢Âºï const arrIndex = match.replace(/[\[\]]/gi, &apos;&apos;); res = res[cmd][arrIndex]; &#125; else &#123; res = res[path]; &#125; &#125;); return res; &#125;);&#125;const obj = &#123; selector: &#123; to: &#123; toutiao: &quot;FE Coder&quot;&#125; &#125;, target: [1, 2, &#123; name: &apos;byted&apos;&#125;]&#125;;console.log(get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;)); ÂÜôÂÆåËµ∂Á¥ßËøêË°å‰∏Ä‰∏ãÔºåÂÆåÁæéÔºåËæìÂá∫‰∫ÜÊ≠£Á°ÆÁöÑÁªìÊûú‰∫Ü„ÄÇÈÇ£‰πàÂà∞ËøôÈáåÂ∞±ÁªìÊùü‰∫Ü? ÊîπËøõÂèØÊòØÊÄªÊÑüËßâÊúâÁÇπ‰∏çÂ¶•ÔºåÊÑüËßâ‰∫ãÊÉÖÊ≤°ÊúâÈÇ£‰πàÁÆÄÂçï„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÈù¢ËØïÈ¢òÈô§‰∫ÜËÄÉÈ™å‰Ω†Ëß£ÂÜ≥ÈóÆÈ¢òÁöÑËÉΩÂäõ‰πãÂ§ñÔºåÂèØËÉΩËøòËÄÉÈ™åÁùÄ‰Ω†ÊÄùËÄÉÈóÆÈ¢òÁöÑÂÖ®Èù¢ÊÄß„ÄÅ‰∏•Ë∞®ÊÄß„ÄÇÂÉè‰∏äÈù¢ÈÇ£ÁßçÂÜôÊ≥ïÔºåÂ¶ÇÊûúÁî®Êà∑‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑpathÈìæÊàñËÄÖ‰∏Ä‰∫õÂÖ∂‰ªñÁâπÊÆäÊÉÖÂÜµÔºåÂ∞±ÂèØËÉΩÂØºËá¥Êï¥‰∏™Á®ãÂ∫ècrashÊéâ„ÄÇÊÉ≥‰∏ãlodash.getË∞ÉÁî®ÊñπÂºèÔºåÂç≥‰Ωø‰Ω†‰º†ÂÖ•‰∫ÜÈîôËØØÁöÑpathÔºå‰ªñ‰πüÂèØ‰ª•Â∏Æ‰Ω†ÂÅöÂ§ÑÁêÜÔºåÂπ∂‰∏îËøîÂõû‰∏Ä‰∏™undefined„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂÆåÂñÑËøô‰∏™ÊñπÊ≥ï„ÄÇ1234567891011121314151617181920212223function get(data, ...args) &#123; const reg = /\[[0-9]+\]/gi; return args.map((item) =&gt; &#123; const paths = item.split(&apos;.&apos;); let res = data; paths.map(path =&gt; &#123; try &#123; if (reg.test(path)) &#123; const match = path.match(reg)[0]; const cmd = path.replace(match, &apos;&apos;); const arrIndex = match.replace(/[\[\]]/gi, &apos;&apos;); res = res[cmd][arrIndex]; &#125; else &#123; res = res[path]; &#125; &#125; catch (err) &#123; console.error(err); res = undefined; &#125; &#125;); return res; &#125;);&#125; Âú®ËøôÈáåÔºåÊàë‰ª¨ÂØπÊØè‰∏Ä‰∏™pathÁöÑÂ§ÑÁêÜËøõË°å‰∫Ütry catchÂ§ÑÁêÜ„ÄÇËã•Âá∫Èîô‰∫ÜÔºåÂàôËøîÂõûundefined„ÄÇÂìáÔºåËøôÊ†∑ÁúãËµ∑Êù•Â∞±ÊØîËæÉÁ®≥‰∫Ü„ÄÇ ÈÇ£‰πàÔºåÊúâÊ≤°ÊúâÂà´ÁöÑËß£ÂÜ≥ÊñπÊ≥ïÂë¢Ôºü Áæ§ÈáåÊúâ‰∏Ä‰∏™Â§ß‰Ω¨ÊèêÂá∫‰∫Ü‰∏ÄÁßçÊõ¥ÁÆÄÂçï‰πüÂæàÂèñÂ∑ßÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ∞±ÊòØÈÄöËøáÊûÑÂª∫‰∏Ä‰∏™FunctionËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò(FunctionÁöÑËØ¶ÁªÜ‰ªãÁªçÁÇπÂáªËøôÈáå)„ÄÇÁî±‰∫é‰ª£Á†ÅÂæàÁÆÄÂçïÔºåÊàëÂ∞±Áõ¥Êé•Ë¥¥Âá∫Êù•‰∫ÜÔºö12345678function get(data, ...args) &#123; const res = JSON.stringify(data); return args.map((item) =&gt; (new Function(`try &#123;return $&#123;res&#125;.$&#123;item&#125; &#125; catch(e) &#123;&#125;`))());&#125;const obj = &#123; selector: &#123; to: &#123; toutiao: &quot;FE Coder&quot;&#125; &#125;, target: [1, 2, &#123; name: &apos;byted&apos;&#125;]&#125;;console.log(get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;, &apos;asd&apos;)); ÁúãÂÆå‰πãÂêéÔºåÂ∞±‰∏§‰∏™Â≠óÔºåÁâõÈÄº„ÄÇ ËøôÁßçÊñπÊ≥ïÊàëÊâøËÆ§‰∏ÄÂºÄÂßãÊàëÁ°ÆÂÆûÊ≤°ÊÉ≥Âà∞ÔºåÁ°ÆÂÆûÊòØÂæàÂ•áÊäÄÊ∑´Â∑ß„ÄÇ‰∏çËøá‰ªîÁªÜÊÄùËÄÉ‰∫Ü‰∏ãÔºåÂÖ∂ÂÆûÂæàÂ§öÊ°ÜÊû∂ÈÉΩÁî®Âà∞‰∫ÜËøô‰∏™Â•áÊäÄÊ∑´Â∑ß„ÄÇÊØîÂ¶ÇËØ¥vueÈáåÔºåÂ∞±‰ΩøÁî®new FunctionÁöÑÊñπÂºèÊù•Âä®ÊÄÅÂàõÂª∫ÂáΩÊï∞ÔºåËß£ÂÜ≥ÊâßË°åÂä®ÊÄÅÁîüÊàêÁöÑ‰ª£Á†ÅÁöÑÈóÆÈ¢ò„ÄÇÂÜçÊØîÂ¶ÇËØ¥ÔºåFunction.prototype.bindÊñπÊ≥ïÈáå(ÊàëÂÜô‰∫Ü‰∏™Á±ª‰ººÁöÑbindÊñπÊ≥ï:‰ªìÂ∫ì)Ôºå‰πü‰ΩøÁî®‰∫ÜFunctionÊù•Ëß£ÂÜ≥‰∏Ä‰∫õÈóÆÈ¢ò(fn.length‰∏¢Â§±ÈóÆÈ¢ò)„ÄÇËØ¥ÊòéËøô‰∏™‰∏úË•øËøòÊòØÊå∫ÊúâÁî®ÁöÑÔºåÂæóÂ≠¶‰π†‰∫ÜËß£‰∏ÄÊ≥¢ÔºåËØ¥‰∏çÂÆöÂì™Â§©Â∞±Áî®Âà∞‰∫Ü„ÄÇÊõ¥Êñ∞ Êúâ‰∫∫ÊèêÂà∞‰∫ÜÈÇ£ÁßçFunctionÁöÑÊñπÂºèÊ≤°ÂäûÊ≥ïÂ§ÑÁêÜ‰ª•‰∏ãÁöÑÂ§ÑÁêÜ:1let obj = &#123;time : new Date(), a : &quot;this is a&quot;, b : 30&#125;; Âõ†‰∏∫JSON.stringfyÂêéÔºåDate„ÄÅFunctionÂíåRegExpÁ±ªÂûãÁöÑÂèòÈáèÈÉΩ‰ºöÂ§±Êïà„ÄÇÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåËØÑËÆ∫Âå∫Êúâ‰∏™Â§ß‰Ω¨(ÂÜØÊÅíÊô∫)‰πüÊèêÂà∞‰∫Ü‰∏ÄÁßçÂæàÂ•ΩÁöÑËß£ÂÜ≥ÊñπÊ°à:123function get(data, ...args) &#123; return args.map((item) =&gt; (new Function(&apos;data&apos;,`try &#123;return data.$&#123;item&#125; &#125; catch(e) &#123;&#125;`))(data));&#125; Èô§Ê≠§‰πãÂ§ñÔºåÂè¶‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°àÔºåÂ∞±ÊòØÂ∞Ü‚Äùtarget[0]‚ÄùÂàÜ‰∏∫‰∏§‰∏™keyÔºå‰πüÂæàÁÆÄÂçïÁ≤óÊö¥ÔºåÂ∞±ÊòØÂ∞ÜÂú®split‰πãÂâçÔºåÂ∞ÜÂ≠óÁ¨¶‰∏≤ÈáåÁöÑ‚Äô[‚ÄòÊõøÊç¢‰∏∫‚Äô.‚Äô,Â∞Ü‚Äô]‚ÄôÁõ¥Êé•ÂéªÊéâ„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•Â∞Ü‚Äùtarget[0]‚ÄùÂèò‰∏∫‚Äùtarget.0‚Äù„ÄÇÂÖ∑‰Ωì‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011function get(data, ...args) &#123; return args.map((item) =&gt; &#123; let res = data; item .replace(/\[/g, &quot;.&quot;) .replace(/\]/g, &quot;&quot;) .split(&apos;.&apos;) .map(path =&gt; res = res &amp;&amp; res[path]); return res; &#125;)&#125; ËÄå‰∏îËøô‰∏§ÁßçÊñπÂºèÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºåÂÆÉ‰πüÂèØ‰ª•Â§ÑÁêÜÂ§öÁª¥Êï∞ÁªÑÁöÑÊÉÖÂÜµ„ÄÇ ÊÄªÁªìÂ≠¶‰π†ÂÆå‰πãÂêéÔºåÊúÄÈáçË¶ÅÂ∞±ÊòØË¶ÅÊÄªÁªìÔºåÂè™ÊúâÊÄªÁªì‰∏ãÊù•‰∫ÜÔºåÁü•ËØÜÊâçÊòØ‰Ω†Ëá™Â∑±ÁöÑ„ÄÇÈÇ£‰πàÊàëÊù•ÊÄªÁªì‰∏ãÊñáÁ´†ÊÉ≥Ë°®ËææÁöÑÂÜÖÂÆπÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445function get(data, ...args) &#123; const res = JSON.stringify(data); return args.map((item) =&gt; (new Function(`try &#123;return $&#123;res&#125;.$&#123;item&#125; &#125; catch(e) &#123;&#125;`))());&#125;const obj = &#123; selector: &#123; to: &#123; toutiao: &quot;FE Coder&quot;&#125; &#125;, target: [1, 2, &#123; name: &apos;byted&apos;&#125;]&#125;;console.log(get(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;, &apos;asd&apos;));function get1(data, ...args) &#123; return args.map((item) =&gt; (new Function(&apos;data&apos;,`try &#123;return data.$&#123;item&#125; &#125; catch(e) &#123;&#125;`))(data));&#125;function get2(data, ...args) &#123; return args.map(item =&gt; &#123; const reg = /\[([0-9])\]/g; if (reg.test(item)) &#123; item = item.replace(reg, &apos;.$1&apos;); &#125; const paths = item.split(&apos;.&apos;); return paths.reduce((result, current) =&gt; &#123; return result[current]; &#125;, data); &#125;);&#125;const get3 = (obj, ...args) =&gt; args.map(key =&gt; eval(`obj.$&#123;key&#125;`));function get4(obj, ...list) &#123; //Ëá™Â∑±ÂÆûÁé∞ return list.map((item) =&gt; &#123; return item.split(&quot;.&quot;).reduce((a = &#123;&#125;, b) =&gt; &#123; if(/\[([0-9])\]/g.test(b))&#123; var c=/(\w+)\[([0-9])\]/g.exec(b) return a[c[1]]&amp;&amp;a[c[1]][c[2]] &#125; return a[b] &#125;, obj) &#125;)&#125;get4(obj, &apos;selector.to.toutiao&apos;, &apos;target[0]&apos;, &apos;target[2].name&apos;,&apos;zhangsan.lisi[3].name&apos;) ÂØπ‰∫éÂÖ∑ÊúâÂõ∫ÂÆöÊ†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•ËØÜÂà´ÂíåÂåπÈÖç„ÄÇ ÂÆûÁé∞‰∏Ä‰∏™ÂäüËÉΩÁöÑÊó∂ÂÄôÔºå‰∏çË¶ÅÂè™ËÄÉËôëÊ≠£Â∏∏ÊÉÖÂÜµÔºåË¶ÅÂ§öËÄÉËôë‰∏Ä‰∫õÈùûÊ≠£Â∏∏ÊÉÖÂÜµÔºåÊØîÂ¶ÇËæìÂÖ•Ê†ºÂºè‰∏çÂØπ„ÄÅÁî®Êà∑‰∏çÊåâÂ•óË∑ØÊù•ÊàñËÄÖÂõ†‰∏∫‰∏Ä‰∫õÂ•áÂ•áÊÄ™ÊÄ™ÁöÑ‰∫ãÊÉÖÊä•Èîô„ÄÇÂπ∂‰∏îËÉΩÂØπÂèØÈ¢ÑËßÅÁöÑÈùûÊ≠£Â∏∏ÊÉÖÂÜµÂÅö‰∏Ä‰∏™ÂÆπÈîôÂ§ÑÁêÜ„ÄÇ ÊúâÊó∂ÂÄôËøòÊòØÂèØ‰ª•Â§öÂ≠¶‰π†‰∫ÜËß£‰∏Ä‰∏ã‰∏Ä‰∫õÈªëÁßëÊäÄ(ÊØîÂ¶ÇFunction)ÔºåËØ¥‰∏çÂÆöÂì™Â§©Â∞±ÂèØ‰ª•Áî®ÂÆÉÊù•Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ ‰∏ÄÈÅìÈù¢ËØïÈ¢òÂºïËµ∑ÁöÑÊÄùËÄÉ]]></content>
      <tags>
        <tag>Èù¢ËØïÔºåËß£ÊûÑ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsËé∑ÂèñÊ∑±Â±ÇÊ¨°Â±ûÊÄß,‰∏ÄÈÅìÂæàÁªèÂÖ∏ÁöÑÈù¢ËØïÈ¢ò]]></title>
    <url>%2F2018%2F08%2F03%2FJS%E8%8E%B7%E5%8F%96%E6%B7%B1%E5%B1%82%E6%AC%A1%E5%B1%9E%E6%80%A7-%E4%B8%80%E9%81%93%E5%BE%88%E7%BB%8F%E5%85%B8%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆÔºöÊúâÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅËÆøÈóÆ‰∏Ä‰∏™ÂØπË±°ËæÉÊ∑±ÁöÑÂ±ÇÊ¨°Ôºå‰ΩÜÊòØÂ¶ÇÊûúËøô‰∏™ÂØπË±°Êüê‰∏™Â±ûÊÄß‰∏çÂ≠òÂú®ÁöÑËØùÂ∞±‰ºöÊä•ÈîôÔºå‰æãÂ¶ÇÔºö123var data = &#123; a: &#123; b: &#123; c: &apos;ScriptOJ&apos; &#125; &#125; &#125;data.a.b.c // =&gt; scriptojdata.a.b.c.d // =&gt; Êä•ÈîôÔºå‰ª£Á†ÅÂÅúÊ≠¢ÊâßË°åconsole.log(&apos;ScriptOJ&apos;) // =&gt; ‰∏ç‰ºöË¢´ÊâßË°å ËØ∑‰Ω†ÂÆåÊàê‰∏Ä‰∏™ safeGet ÂáΩÊï∞ÔºåÂèØ‰ª•ÂÆâÂÖ®ÁöÑËé∑ÂèñÊó†ÈôêÂ§öÂ±ÇÊ¨°ÁöÑÊï∞ÊçÆÔºå‰∏ÄÊó¶Êï∞ÊçÆ‰∏çÂ≠òÂú®‰∏ç‰ºöÊä•ÈîôÔºå‰ºöËøîÂõû undefinedÔºå‰æãÂ¶ÇÔºö1234var data = &#123; a: &#123; b: &#123; c: &apos;ScriptOJ&apos; &#125; &#125; &#125;safeGet(data, &apos;a.b.c&apos;) // =&gt; scriptojsafeGet(data, &apos;a.b.c.d&apos;) // =&gt; ËøîÂõû undefinedsafeGet(data, &apos;a.b.c.d.e.f.g&apos;) // =&gt; ËøîÂõû undefined Á≠îÊ°à1Ôºö 1234567const safeGet = (o, path) =&gt; &#123; try &#123; return path.split(&apos;.&apos;).reduce((o, k) =&gt; o[k], o) &#125; catch (e) &#123; return void 666 &#125;&#125; Á≠îÊ°à2Ôºö 12345678function safeGet(o, path)&#123; return path.split(&apos;.&apos;).reduce((o=&#123;&#125;,b)=&gt;&#123; //Áî®Âà∞ÂèÇÊï∞ÈªòËÆ§ÂÄº return o[b] &#125;,o) &#125;]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[redux‰∏≠Èó¥‰ª∂]]></title>
    <url>%2F2018%2F08%2F03%2FRedux%E4%B8%AD%E9%97%B4%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÊèêÂà∞‰∏≠Èó¥‰ª∂Ôºå‰Ω†ÂèØËÉΩ‰ºöÊÉ≥Âà∞ExpressÂíåKoaÁ≠âÊúçÂä°Á´ØÊ°ÜÊû∂ÔºåÊ≤°ÊÉ≥Âà∞‰πüÊ≤°ÂÖ≥Á≥ªÔºåËøôÂè•ËØùÊòØÊàëË£ÖÈÄºÁî®ÁöÑ„ÄÇ ÈÇ£‰πàredux‰∏≠ÁöÑ‰∏≠Èó¥‰ª∂Âà∞Â∫ïÂπ≤ÂòõÁî®ÁöÑÔºü ÊúâËøôÊ†∑‰∏Ä‰∏™ÈóÆÈ¢òÔºüÊàë‰ª¨‰πãÂâçÁî®ÁöÑReduxÈÉΩÊòØÂú®ActionÂèëÂá∫‰πãÂêéÁ´ãÂç≥ÊâßË°åReducer,ËÆ°ÁÆóÂá∫state,ËøôÊòØÂêåÊ≠•Êìç‰Ωú„ÄÇÂ¶ÇÊûúÊÉ≥ÂºÇÊ≠•Êìç‰ΩúÂë¢ÔºüÂç≥Ëøá‰∏ÄÊÆµÊó∂Èó¥ÂÜçÊâßË°åReducerÊÄé‰πàÂäûÔºüËøôÈáåÂ∞±ÈúÄË¶ÅÁî®Âà∞‰∏≠Èó¥‰ª∂middleware„ÄÇ ÂÖàÊîæ‰∏ÄÂº†ÂõæÁúãÁúãÔºö ‰∏Ä„ÄÅ‰∏≠Èó¥‰ª∂ÁöÑÊ¶ÇÂøµreduxÊòØÊúâÊµÅÁ®ãÁöÑÔºåÈÇ£‰πàÔºåÊàë‰ª¨ËØ•ÊääËøô‰∏™ÂºÇÊ≠•Êìç‰ΩúÊîæÂú®Âì™‰∏™ÁéØËäÇÊØîËæÉÂêàÈÄÇÂë¢Ôºü Reducer?Á∫ØÂáΩÊï∞Âè™ÊâøÊãÖËÆ°ÁÆóStateÂäüËÉΩÔºå‰∏çÈÄÇÂêàÂÖ∂ÂÆÉÂäüËÉΩ„ÄÇ View?‰∏éState‰∏Ä‰∏ÄÂØπÂ∫îÔºåÂèØ‰ª•ÁúãÂÅöÊòØStateÁöÑËßÜËßâÂ±ÇÔºå‰πü‰∏çÈÄÇÂêàÊâøÊãÖÂÖ∂ÂÆÉÂäüËÉΩ„ÄÇ ActionÔºüÂÆÉÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂç≥Â≠òÂÇ®Âä®‰ΩúÁöÑËΩΩ‰ΩìÔºåÂè™ËÉΩË¢´Êìç‰Ωú„ÄÇ ÂÖ∂ÂÆûÔºå‰πüÂè™ÊúâdispatchËÉΩËÉú‰ªªÊ≠§Èáç‰ªª‰∫Ü„ÄÇÈÇ£‰πàÊÄé‰πàÂú®dispatch‰∏≠Ê∑ªÂä†ÂÖ∂ÂÆÉÊìç‰ΩúÂë¢Ôºü let next = store.dispatch; store.dispatch = function(action){ console.log(&apos;ËÄÅÁä∂ÊÄÅ &apos;,store.getState()); next(action); console.log(&apos;Êñ∞Áä∂ÊÄÅ &apos;,store.getState()); } Á§∫‰æã‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊàë‰ª¨ÂØπstore.dispatchÈáçÊñ∞ËøõË°å‰∫ÜÂÆö‰πâÔºåÂú®ÂèëÈÄÅactionÁöÑÂâçÂêéÔºåÂÅö‰∫ÜÊâìÂç∞„ÄÇ ËøôÊòØ‰∏≠Èó¥‰ª∂ÁöÑÂ§ßËá¥ÈõèÂΩ¢ÔºåÁúüÂÆûÁöÑ‰∏≠Èó¥‰ª∂Ë¶ÅÊØîËøô‰πàÂ§çÊùÇÂ§ö‰∫Ü ‰∫å„ÄÅ‰∏≠Èó¥‰ª∂ÁöÑÁî®Ê≥ïÊàë‰ª¨Âú®ËøôÈáåÂÖàÁúãÁúã‰∏≠Èó¥‰ª∂ÊòØÊÄé‰πà‰ΩøÁî®Ôºå‰∏ãÈù¢Êàë‰ª¨‰∏ÄÊ≠•Ê≠•ÂâñÊûêÊØè‰∏™ÁªÜËäÇ„ÄÇ import {applyMiddleware,createStore} from &apos;redux&apos;; import reduxLogger form &apos;redux-logger&apos;; const store = createStore(reducer,inital_state,applyMiddleware(thunk, promise,reduxLogger)); ‰ª£Á†Å‰∏≠Êúâ‰∏§ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö 1„ÄÅcreateStoreÊñπÊ≥ïÂèØ‰ª•Êï¥‰∏™Â∫îÁî®ÁöÑÂàùÂßãÁä∂ÊÄÅ‰Ωú‰∏∫ÂèÇÊï∞ÂÜÖÈÉ®ÊòØËøô‰πàÂ§ÑÁêÜÁöÑ let state = inital_state; 2„ÄÅ‰∏≠Èó¥‰ª∂ÁöÑÂèÇÊï∞Ê¨°Â∫èÊúâËÆ≤Á©∂„ÄÇ‰∏ãÈù¢Êàë‰ºöÊääËøô‰∏™ÈóÆÈ¢òËÆ≤ÊòéÁôΩ„ÄÇ ‰∏â„ÄÅapplyMiddlewareMiddlewareÂèØ‰ª•ËÆ©‰Ω†ÂåÖË£ÖstoreÁöÑdispatchÊñπÊ≥ïÊù•ËææÂà∞‰Ω†ÊÉ≥Ë¶ÅÁöÑÁõÆÁöÑ„ÄÇÂêåÊó∂ÔºåmiddleWareËøòÊã•Êúâ‚ÄúÂèØÁªÑÂêà‚ÄùËøô‰∏ÄÂÖ≥ÈîÆÁâπÊÄß„ÄÇÂ§ö‰∏™middleWareÂèØ‰ª•Ë¢´ÁªÑÂêàÂà∞‰∏ÄËµ∑‰ΩøÁî®ÔºåÂΩ¢ÊàêmiddleWareÈìæÔºå‰æùÊ¨°ÊâßË°å„ÄÇÂÖ∂‰∏≠ÊØè‰∏™middleware‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÈìæÂâçÂêéÁöÑÁöÑmiddleWareÁöÑ‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ function applyMiddleware(...middlewares){ returnfunction(createStore){ returnfunction(reducer){ //ÂºïÂÖ•store let store = createStore(reducer); let dispatch = store.dispatch; let middlewareAPI = { getState:store.getState, // ÂØπdispatchËøõË°åÂåÖË£Ö dispatch:action=&gt;dispatch(action) } //ÊØè‰∏™‰∏≠Èó¥‰ª∂ÈÉΩÊòØËøôÁßçÊ®°Âûã ({ getState, dispatch }) =&gt; next =&gt; action chain = middlewares.map(middleware=&gt;middleware(middleAPI)); dispatch = compose(...chain)(store.dispatch); // dispatchË¢´ÊîπË£ÖÂêéÔºåËøîÂõûstore return{...store,dispatch}; } } } ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊâÄÊúâ‰∏≠Èó¥‰ª∂ÈÉΩË¢´ÊîæËøõ‰∫Ü‰∏Ä‰∏™Êï∞ÁªÑchain,ÁÑ∂ÂêéÂµåÂ•óÊâßË°åÔºåÊúÄÂêéÊâßË°åstore.dispatch„ÄÇ‰∏≠Èó¥‰ª∂ÂÜÖÈÉ®middlewaAPIÂèØ‰ª•ÊãøÂà∞getStateÂíådispatchËøô‰∏§‰∏™ÊñπÊ≥ï„ÄÇ ...middlewareÔºöÈÅµÂæ™Redux middleware APIÁöÑÂáΩÊï∞„ÄÇÊØè‰∏™middlewareÊé•ÂèóStoreÁöÑdispatchÂíågetStateÂáΩÊï∞‰Ωú‰∏∫ÂëΩÂêçÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞„ÄÇËØ•ÂáΩÊï∞‰ºöË¢´‰º†ÂÖ•Êàê‰∏∫nextÁöÑ‰∏ã‰∏Ä‰∏™middleWare ÁöÑdispatchÊñπÊ≥ïÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êé•Êî∂actionÁöÑÊñ∞ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®next(action)ÔºåÊàñËÄÖÂú®ÂÖ∂‰ªñÈúÄË¶ÅÁöÑÊó∂ÂàªË∞ÉÁî®ÔºåÁîöËá≥Ê†πÊú¨‰∏çÂéªË∞ÉÁî®ÂÆÉ„ÄÇ ÊâÄ‰ª•ÔºåÊé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞±ËÉΩÁúãÂà∞middlewareÁöÑÂáΩÊï∞Á≠æÂêçÊòØ({ getState, dispatch }) =&gt; next =&gt; action ÂÖ∂ÂÆûÔºåÂÆÉÁöÑÊú¨Ë¥®Â∞±ÊòØÂåÖË£Ösotre‰∏≠ÁöÑdispatch„ÄÇ ‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåËøòÁî®Âà∞‰∫ÜcomposeÊñπÊ≥ïÔºåÊàë‰ª¨Êù•ÁúãÁúãcomposeÊòØÊÄé‰πàÊòØÂÆûÁé∞ÁöÑÔºü composeÂÖàÁúã‰∏ãÈù¢‰∏Ä‰∏™Ê†óÂ≠êÔºö function add1(str){ return str+1; } function add2(str){ return str+2; } function add3(str){ return str+3; } let result = add3(add2(add1(&apos;Â•ΩÂêÉ&apos;)));// Â•ΩÂêÉ123; Ëøô‰∏≠ÂÜôÊ≥ïË∞ÉÁî®Ëµ∑Êù•Ôºå‰∏ÄÂ±ÇÂ•ó‰∏ÄÂ±ÇÔºåÊòØ‰∏çÊòØÁúãÁùÄÂæà‰∏çÁàΩÔºåÊàë‰ª¨ÁÆÄÂåñ‰∏Ä‰∏ãÔºö function compose(...fns){ if(fns.length==1) return fns[0]; returnfunction(...args){ let last = fns.pop(); return fns.reduceRight((prev,next)=&gt;{ return next(prev); },last(...args)); } } let add = compose(add3,add2,add1);// let result = add(&apos;Â•ΩÂêÉ&apos;);// Â•ΩÂêÉ123 // ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂÖ∂ÂÆûÂ∞±ÊòØredux3.6.0ÁâàÊú¨‰∏≠composeÁöÑÂÆûÁé∞ÊñπÂºè ÁúãÁúãËøô‰∏™‰ª£Á†ÅÊòØ‰∏çÊòØÁî®Ëµ∑Êù•ÔºåÂæàÂπ≤ÁªÉ‰∏Ä‰∫õ„ÄÇÂÖ∂ÂÆûËøòÂèØ‰ª•ÁÆÄÂåñ function compose(...fns){ if(fns.length==1) return fns[0]; return fns.reduce((a,b)=&gt;(...args)=&gt;a(b(...args)));//add3(add2(add1(&apos;Â•ΩÂêÉ&apos;))) } let add = compose(add3,add2,add1);// let result = add(&apos;Â•ΩÂêÉ&apos;);// Â•ΩÂêÉ123 // ËøôÊòØredux3.6.0ÁâàÊú¨‰πãÂêéÁöÑcomposeÂÆûÁé∞ÊñπÂºèÔºå‰∏ÄÁõ¥Ê≤øÁî®Ëá≥‰ªä„ÄÇ Ëá≥‰∫é‰∏∫‰ªÄ‰πàapplyMiddleWareÁöÑÂèÇÊï∞ÊúâÈ°∫Â∫èÔºåËøôÈáåÁªôÂá∫‰∫ÜÁ≠îÊ°à„ÄÇ Âõõ„ÄÅApplymiddlewareÁöÑ‰∏â‰∏™Â∏∏Áî®ÂèÇÊï∞4.1„ÄÅÊó•ÂøóËÆ∞ÂΩï‰ΩøÁî® Redux ÁöÑ‰∏Ä‰∏™ÁõäÂ§ÑÂ∞±ÊòØÂÆÉËÆ© state ÁöÑÂèòÂåñËøáÁ®ãÂèòÁöÑÂèØÈ¢ÑÁü•ÂíåÈÄèÊòé„ÄÇÊØèÂΩì‰∏Ä‰∏™ action ÂèëËµ∑ÂÆåÊàêÂêéÔºåÊñ∞ÁöÑ state Â∞±‰ºöË¢´ËÆ°ÁÆóÂπ∂‰øùÂ≠ò‰∏ãÊù•„ÄÇState ‰∏çËÉΩË¢´Ëá™Ë∫´‰øÆÊîπÔºåÂè™ËÉΩÁî±ÁâπÂÆöÁöÑ action ÂºïËµ∑ÂèòÂåñ„ÄÇ ËØïÊÉ≥‰∏Ä‰∏ãÔºåÂΩìÊàë‰ª¨ÁöÑÂ∫îÁî®‰∏≠ÊØè‰∏Ä‰∏™ action Ë¢´ÂèëËµ∑‰ª•ÂèäÊØèÊ¨°Êñ∞ÁöÑ state Ë¢´ËÆ°ÁÆóÂÆåÊàêÊó∂ÈÉΩÂ∞ÜÂÆÉ‰ª¨ËÆ∞ÂΩï‰∏ãÊù•ÔºåÂ≤Ç‰∏çÊòØÂæàÂ•ΩÔºüÂΩìÁ®ãÂ∫èÂá∫Áé∞ÈóÆÈ¢òÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊü•ÈòÖÊó•ÂøóÊâæÂá∫ÊòØÂì™‰∏™ action ÂØºËá¥‰∫Ü state ‰∏çÊ≠£Á°Æ„ÄÇÂõæÁâáÁöÑÊïàÊûúÊòØ‰∏çÊòØÂæàÊúüÂæÖÂïäÔºÅÔºÅÔºÅ Êàë‰ª¨ÂÖàÊù•ÊâãÂä®ÂÆûÁé∞‰∏ÄÁâà„ÄÇ // ËÆ∞ÂΩïÊâÄÊúâË¢´ÂèëËµ∑ÁöÑactionÂíåÊñ∞ÁöÑstatelet next = store.dispatch; store.dispatch = function(action){ console.log(&apos;ËÄÅÁä∂ÊÄÅ &apos;,store.getState()); next(action); console.log(&apos;Êñ∞Áä∂ÊÄÅ &apos;,store.getState()); } ËøòÊòØ‰∏äÈù¢ÁöÑÁ§∫‰æãÔºåÊàë‰ª¨Êù•ÂÅö‰∏™‰øÆÊîπ let logger = function({ getState, dispatch }){ returnfunction(next){// ËøôÈáåÁöÑnextÂèØ‰ª•ÁêÜËß£‰∏∫store.dispath,Êú¨Ë¥®‰∏äÂ∞±ÊòØË∞ÉÁî® middleware Èìæ‰∏≠‰∏ã‰∏Ä‰∏™ middleware ÁöÑ dispatch„ÄÇreturnfunction(action){ console.log(&apos;ËÄÅÁä∂ÊÄÅ1 &apos;,getState()); next(action);//Ê¥æÂèëÂä®‰Ωúconsole.log(&apos;Êñ∞Áä∂ÊÄÅ1 &apos;,getState()); } } } // È´òÈÄºÊ†ºÂÜôÊ≥ïlet logger = ({ getState, dispatch }) =&gt; next =&gt; action =&gt; { console.log(&apos;ËÄÅÁä∂ÊÄÅ1 &apos;,getState()); next(action) console.log(&apos;Êñ∞Áä∂ÊÄÅ1 &apos;,getState()); } 4.2„ÄÅredux-thunk ‰∏≠Èó¥‰ª∂redux-thunk ÊòØreduxÂÆòÊñπÊñáÊ°£‰∏≠Áî®Âà∞ÁöÑÂºÇÊ≠•ÁªÑ‰ª∂ÔºåÂÆûË¥®Â∞±ÊòØ‰∏Ä‰∏™redux‰∏≠Èó¥‰ª∂Ôºå‰∏Ä‰∏™Â∞ÅË£ÖË°®ËææÂºèÁöÑÂáΩÊï∞ÔºåÂ∞ÅË£ÖÁöÑÁõÆÁöÑÂ∞±ÊòØÂª∂ËøüÊâßË°åË°®ËææÂºè„ÄÇ redux-thunkÊòØ‰∏Ä‰∏™ÈÄöÁî®ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥ÊòØËÆ©actionÂèØ‰ª•ÂèòÊàê‰∏Ä‰∏™thunkÔºåËøôÊ†∑ÁöÑËØùÔºåÂêåÊ≠•ÊÉÖÂÜµÔºödispatch(action),ÂºÇÊ≠•ÊÉÖÂÜµÔºödispatch(thunk)„ÄÇ ‰∏ãÈù¢ÊòØredux-thunkÁöÑÂÆûÁé∞Ôºö let thunk = ({dispatch,getState})=&gt;next=&gt;action=&gt;{ if(typeof action == &apos;function&apos;){ action(dispatch,getState); }else{ next(action);//ËøôÈáåÂèØ‰ª•ÁêÜËß£‰∏∫dispatch(action),Êú¨Ë¥®‰∏äÂ∞±ÊòØË∞ÉÁî® middleware Èìæ‰∏≠‰∏ã‰∏Ä‰∏™ middleware ÁöÑ dispatch„ÄÇ } } ‰ΩøÁî®redux-thunk const store = createStore( reducer, applyMiddleware(thunk) ); ÁÑ∂ÂêéÊàë‰ª¨ÂÆûÁé∞‰∏Ä‰∏™thunkActionCreator //Ëøá‰∏ÄÁßíÂä†1 exportfunction thunkActionCreator(payload){ returnfunction(dispatch,getState){ setTimeout(function(){ dispatch({type:types.INCREMENT,payload:payload}); },1000); } }, ÊúÄÂêéÔºåÂú®ÁªÑ‰ª∂‰∏≠dispatch thunk this.dispatch(thunkActionCreator(payload)); 4.3„ÄÅredux-promiseredux-promise‰πüÊòØÂª∂ËøüÊâßË°åÁöÑË°®ËææÂºèÔºåÂÆÉÊòØËß£ÂÜ≥ÂºÇÊ≠•ÁöÑÂè¶Â§ñ‰∏ÄÁßçÊñπÊ°à„ÄÇ redux-thunkÂíåÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÊääactionÂèòÊàêthunkÔºåËÄåredux-promiseÁöÑÊ†∏ÂøÉÊÄùÊÉ≥ÊòØËÆ©actionËøîÂõû‰∏Ä‰∏™promiseÂØπË±°„ÄÇ Ëøô‰∏™‰∏≠Èó¥‰ª∂‰ΩøÂæóstore.dispatchÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂PromiseÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøôÊó∂ Ôºåaction Êúâ‰∏§ÁßçÂÜôÊ≥ï: ÂÜôÊ≥ï‰∏Ä„ÄÅËøîÂõûÂÄºÊòØ‰∏Ä‰∏™PromiseÂØπË±°„ÄÇ functionpromiseIncrement(payload){ // return {type:types.INCREMENT,payload:payload} ‰ª•ÂâçÊòØËøôÁßçÂÜôÊ≥ïreturnnewPromise(function(resolve,reject){ setTimeout(function(){ resolve({type:types.INCREMENT,payload:payload}); },1000); }); }, ÂÜôÊ≥ï‰∫åÔºåaction ÂØπË±°ÁöÑpayloadÂ±ûÊÄßÊòØ‰∏Ä‰∏™PromiseÂØπË±°ÔºåËøôÈúÄË¶Å‰ªé functionpayloadIncrement(){ return { type:types.INCREMENT, payload: newPromise(function(resolve,reject){ setTimeout(function(){ if(Math.random()&gt;.5){ resolve(100); }else{ reject(-100); } },1000) }) } } ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúã redux-promiseÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºåÂ∞±‰ºöÊòéÁôΩÂÆÉÂÜÖÈÉ®ÊòØÊÄé‰πàÊìç‰ΩúÁöÑ. let promise = ({dispatch,getState})=&gt;next=&gt;action=&gt;{ if(action.then &amp;&amp; typeof action.then == &apos;function&apos;){ action.then(dispatch); // ËøôÈáåÁöÑdispatchÂ∞±ÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºådispatch(action){state:reducer(state,action)}; }elseif(action.payload&amp;&amp; action.payload.then&amp;&amp; typeof action.payload.then == &apos;function&apos;){ action.payload.then(payload=&gt;dispatch({...action,payload}),payload=&gt;dispatch({...action,payload})); }else{ next(action); } } ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁúãÂá∫ÔºåÂ¶ÇÊûúActionÊú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™PromiseÔºåÂÆÉresolve‰ª•ÂêéÁöÑÂÄºÂ∫îËØ•ÊòØ‰∏Ä‰∏™ActionÂØπË±°Ôºå‰ºöË¢´dispatchÊñπÊ≥ïÈÄÅÂá∫action.then(dispatch)ÔºõÂ¶ÇÊûúActionÂØπË±°ÁöÑ payloadÂ±ûÊÄßÊòØ‰∏Ä‰∏™PromiseÂØπË±°ÔºåÈÇ£‰πàÊó†ËÆ∫resolveÂíåreject,dispatch ÊñπÊ≥ïÈÉΩ‰ºöÂèëÂá∫Action„ÄÇ]]></content>
      <tags>
        <tag>redux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫é ES6 ‰∏≠ Promise ÁöÑÈù¢ËØïÈ¢ò]]></title>
    <url>%2F2018%2F07%2F30%2F%E5%85%B3%E4%BA%8E-ES6-%E4%B8%AD-Promise-%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ËØ¥ÊòéÊúÄËøëÂú®Â§ç‰π† Promise ÁöÑÁü•ËØÜÔºåÊâÄ‰ª•Â∞±ÂÅö‰∫Ü‰∏Ä‰∫õÈ¢òÔºåËøôÈáåÊåëÂá∫Âá†ÈÅìÈ¢òÔºåÂ§ßÂÆ∂‰∏ÄËµ∑ÁúãÁúãÂêß„ÄÇ È¢òÁõÆ‰∏Äconst promise = newPromise((resolve, reject) =&gt; { console.log(1); resolve(); console.log(2); }) promise.then(() =&gt; { console.log(3); }) console.log(4); Ëß£ÊûêÈ¶ñÂÖà Promise Êñ∞Âª∫ÂêéÁ´ãÂç≥ÊâßË°åÔºåÊâÄ‰ª•‰ºöÂÖàËæìÂá∫ 1Ôºå2ÔºåËÄå Promise.then() ÂÜÖÈÉ®ÁöÑ‰ª£Á†ÅÂú® ÂΩìÊ¨° ‰∫ã‰ª∂Âæ™ÁéØÁöÑ ÁªìÂ∞æ Á´ãÂàªÊâßË°å ÔºåÊâÄ‰ª•‰ºöÁªßÁª≠ËæìÂá∫4ÔºåÊúÄÂêéËæìÂá∫3„ÄÇ Á≠îÊ°à1243 È¢òÁõÆ‰∫åconst promise = newPromise((resolve, reject) =&gt; { resolve(&apos;success1&apos;); reject(&apos;error&apos;); resolve(&apos;success2&apos;); }); promise.then((res) =&gt; { console.log(&apos;then:&apos;, res); }).catch((err) =&gt; { console.log(&apos;catch:&apos;, err); }) Ëß£Êûêresolve ÂáΩÊï∞Â∞Ü Promise ÂØπË±°ÁöÑÁä∂ÊÄÅ‰ªé‚ÄúÊú™ÂÆåÊàê‚ÄùÂèò‰∏∫‚ÄúÊàêÂäü‚ÄùÔºàÂç≥‰ªé pending Âèò‰∏∫ resolvedÔºâÔºåÂú®ÂºÇÊ≠•Êìç‰ΩúÊàêÂäüÊó∂Ë∞ÉÁî®ÔºåÂπ∂Â∞ÜÂºÇÊ≠•Êìç‰ΩúÁöÑÁªìÊûúÔºå‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂá∫ÂéªÔºõ reject ÂáΩÊï∞Â∞Ü Promise ÂØπË±°ÁöÑÁä∂ÊÄÅ‰ªé‚ÄúÊú™ÂÆåÊàê‚ÄùÂèò‰∏∫‚ÄúÂ§±Ë¥•‚ÄùÔºàÂç≥‰ªé pending Âèò‰∏∫ rejectedÔºâÔºåÂú®ÂºÇÊ≠•Êìç‰ΩúÂ§±Ë¥•Êó∂Ë∞ÉÁî®ÔºåÂπ∂Â∞ÜÂºÇÊ≠•Êìç‰ΩúÊä•Âá∫ÁöÑÈîôËØØÔºå‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÂá∫Âéª„ÄÇ ËÄå‰∏ÄÊó¶Áä∂ÊÄÅÊîπÂèòÔºåÂ∞±‰∏ç‰ºöÂÜçÂèò„ÄÇÊâÄ‰ª• ‰ª£Á†Å‰∏≠ÁöÑreject(&#39;error&#39;); ‰∏ç‰ºöÊúâ‰ΩúÁî®„ÄÇ Promise Âè™ËÉΩ resolve ‰∏ÄÊ¨°ÔºåÂâ©‰∏ãÁöÑË∞ÉÁî®ÈÉΩ‰ºöË¢´ÂøΩÁï•„ÄÇÊâÄ‰ª• Á¨¨‰∫åÊ¨°ÁöÑ resolve(&#39;success2&#39;); ‰πü‰∏ç‰ºöÊúâ‰ΩúÁî®„ÄÇ Á≠îÊ°àthen: success1 È¢òÁõÆ‰∏âPromise.resolve(1) .then(2) .then(Promise.resolve(3)) .then(console.log) Ëß£ÊûêPromise.resolve ÊñπÊ≥ïÁöÑÂèÇÊï∞Â¶ÇÊûúÊòØ‰∏Ä‰∏™ÂéüÂßãÂÄºÔºåÊàñËÄÖÊòØ‰∏Ä‰∏™‰∏çÂÖ∑Êúâ then ÊñπÊ≥ïÁöÑÂØπË±°ÔºåÂàô Promise.resolve ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ Promise ÂØπË±°ÔºåÁä∂ÊÄÅ‰∏∫resolvedÔºåPromise.resolve ÊñπÊ≥ïÁöÑÂèÇÊï∞Ôºå‰ºöÂêåÊó∂‰º†ÁªôÂõûË∞ÉÂáΩÊï∞„ÄÇ then ÊñπÊ≥ïÊé•ÂèóÁöÑÂèÇÊï∞ÊòØÂáΩÊï∞ÔºåËÄåÂ¶ÇÊûú‰º†ÈÄíÁöÑÂπ∂ÈùûÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÂÆûÈôÖ‰∏ä‰ºöÂ∞ÜÂÖ∂Ëß£Èáä‰∏∫ then(null)ÔºåËøôÂ∞±‰ºöÂØºËá¥Ââç‰∏Ä‰∏™ Promise ÁöÑÁªìÊûú‰ºöÁ©øÈÄè‰∏ãÈù¢„ÄÇ Á≠îÊ°à1 È¢òÁõÆÂõõÁ∫¢ÁÅØ‰∏âÁßí‰∫Æ‰∏ÄÊ¨°ÔºåÁªøÁÅØ‰∏ÄÁßí‰∫Æ‰∏ÄÊ¨°ÔºåÈªÑÁÅØ2Áßí‰∫Æ‰∏ÄÊ¨°ÔºõÂ¶Ç‰ΩïËÆ©‰∏â‰∏™ÁÅØ‰∏çÊñ≠‰∫§ÊõøÈáçÂ§ç‰∫ÆÁÅØÔºüÔºàÁî®PromseÂÆûÁé∞Ôºâ‰∏â‰∏™‰∫ÆÁÅØÂáΩÊï∞Â∑≤ÁªèÂ≠òÂú®Ôºö functionred() { console.log(&apos;red&apos;); } functiongreen() { console.log(&apos;green&apos;); } functionyellow() { console.log(&apos;yellow&apos;); } Ëß£ÊûêÁ∫¢ÁÅØ‰∏âÁßí‰∫Æ‰∏ÄÊ¨°ÔºåÁªøÁÅØ‰∏ÄÁßí‰∫Æ‰∏ÄÊ¨°ÔºåÈªÑÁÅØ2Áßí‰∫Æ‰∏ÄÊ¨°ÔºåÊÑèÊÄùÂ∞±ÊòØ3ÁßíÔºåÊâßË°å‰∏ÄÊ¨° red ÂáΩÊï∞Ôºå2ÁßíÊâßË°å‰∏ÄÊ¨° green ÂáΩÊï∞Ôºå1ÁßíÊâßË°å‰∏ÄÊ¨° yellow ÂáΩÊï∞Ôºå‰∏çÊñ≠‰∫§ÊõøÈáçÂ§ç‰∫ÆÁÅØÔºåÊÑèÊÄùÂ∞±ÊòØÊåâÁÖßËøô‰∏™È°∫Â∫è‰∏ÄÁõ¥ÊâßË°åËøô3‰∏™ÂáΩÊï∞ÔºåËøôÊ≠•ÂèØ‰ª•Â∞±Âà©Áî®ÈÄíÂΩíÊù•ÂÆûÁé∞„ÄÇ Á≠îÊ°àfunctionred() { console.log(&apos;red&apos;); } functiongreen() { console.log(&apos;green&apos;); } functionyellow() { console.log(&apos;yellow&apos;); } var light = function (timmer, cb) { returnnewPromise(function (resolve, reject) { setTimeout(function () { cb(); resolve(); }, timmer); }); }; var step = function () { Promise.resolve().then(function () { return light(3000, red); }).then(function () { return light(2000, green); }).then(function () { return light(1000, yellow); }).then(function () { step(); }); } step(); Ëøô‰∏™Á≠îÊ°àÔºåÁúã‰∏äÂéªÂ∑≤ÁªèÂæà‰∏çÈîô‰∫ÜÔºå‰∏çËøáÁªèÂ∞è‰ºô‰º¥ÊèêÈÜíÔºåÂ¶ÇÊûú‰∏ÄÁõ¥Ëøô‰πàÈÄíÂΩí‰∏ãÂéªÔºå‰ºöÊúâÊ†àÊ∫¢Âá∫ÁöÑÈóÆÈ¢òÔºåÂØπ‰∫éËøô‰∏™ÈóÆÈ¢òÔºåÂÖ∂‰ªñÂ∞è‰ºô‰º¥Êúâ‰ªÄ‰πà‰ºòÂåñÂª∫ËÆÆÁöÑËØùÔºåÂèØ‰ª•Âú®ËØÑËÆ∫Âå∫Â±ïÁ§∫Âá∫Êù•„ÄÇ È¢òÁõÆ‰∫îÂÆûÁé∞ mergePromise ÂáΩÊï∞ÔºåÊää‰º†ËøõÂéªÁöÑÊï∞ÁªÑÊåâÈ°∫Â∫èÂÖàÂêéÊâßË°åÔºåÂπ∂‰∏îÊääËøîÂõûÁöÑÊï∞ÊçÆÂÖàÂêéÊîæÂà∞Êï∞ÁªÑ data ‰∏≠„ÄÇ const timeout = ms =&gt;newPromise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(); }, ms); }); const ajax1 = () =&gt; timeout(2000).then(() =&gt; { console.log(&apos;1&apos;); return1; }); const ajax2 = () =&gt; timeout(1000).then(() =&gt; { console.log(&apos;2&apos;); return2; }); const ajax3 = () =&gt; timeout(2000).then(() =&gt; { console.log(&apos;3&apos;); return3; }); const mergePromise = ajaxArray =&gt; { // Âú®ËøôÈáåÂÆûÁé∞‰Ω†ÁöÑ‰ª£Á†Å }; mergePromise([ajax1, ajax2, ajax3]).then(data =&gt; { console.log(&apos;done&apos;); console.log(data); // data ‰∏∫ [1, 2, 3] }); // Ë¶ÅÊ±ÇÂàÜÂà´ËæìÂá∫// 1// 2// 3// done// [1, 2, 3] Ëß£ÊûêÈ¶ñÂÖà ajax1 „ÄÅajax2„ÄÅajax3 ÈÉΩÊòØÂáΩÊï∞ÔºåÂè™ÊòØËøô‰∫õÂáΩÊï∞ÊâßË°åÂêé‰ºöËøîÂõû‰∏Ä‰∏™ PromiseÔºåÊåâÈ¢òÁõÆÁöÑË¶ÅÊ±ÇÊàë‰ª¨Âè™Ë¶ÅÈ°∫Â∫èÊâßË°åËøô‰∏â‰∏™ÂáΩÊï∞Â∞±Â•Ω‰∫ÜÔºåÁÑ∂ÂêéÊääÁªìÊûúÊîæÂà∞ data ‰∏≠Ôºå‰ΩÜÊòØËøô‰∫õÂáΩÊï∞ÈáåÈÉΩÊòØÂºÇÊ≠•Êìç‰ΩúÔºåÊÉ≥Ë¶ÅÊåâÈ°∫Â∫èÊâßË°åÔºåÁÑ∂ÂêéËæìÂá∫ 1Ôºå2Ôºå3Âπ∂Ê≤°ÊúâÈÇ£‰πàÁÆÄÂçïÔºåÁúã‰∏™‰æãÂ≠ê„ÄÇ functionA() { setTimeout(function () { console.log(&apos;a&apos;); }, 3000); } functionB() { setTimeout(function () { console.log(&apos;b&apos;); }, 1000); } A(); B(); // b// a ‰æãÂ≠ê‰∏≠Êàë‰ª¨ÊòØÊåâÈ°∫Â∫èÊâßË°åÁöÑ AÔºåB ‰ΩÜÊòØËæìÂá∫ÁöÑÁªìÊûúÂç¥ÊòØ bÔºåa ÂØπ‰∫éËøô‰∫õÂºÇÊ≠•ÂáΩÊï∞Êù•ËØ¥ÔºåÂπ∂‰∏ç‰ºöÊåâÈ°∫Â∫èÊâßË°åÂÆå‰∏Ä‰∏™ÔºåÂÜçÊâßË°åÂêé‰∏Ä‰∏™„ÄÇËøôÈÅìÈ¢òÂ∞±ÊòØËÄÉÁî® Promise ÊéßÂà∂ÂºÇÊ≠•ÊµÅÁ®ãÔºåÊàë‰ª¨Ë¶ÅÊÉ≥ÂäûÊ≥ïÔºåËÆ©Ëøô‰∫õÂáΩÊï∞Ôºå‰∏Ä‰∏™ÊâßË°åÂÆå‰πãÂêéÔºåÂÜçÊâßË°å‰∏ã‰∏Ä‰∏™ÔºåÁúãÁ≠îÊ°àÂêß„ÄÇ Á≠îÊ°à// ‰øùÂ≠òÊï∞ÁªÑ‰∏≠ÁöÑÂáΩÊï∞ÊâßË°åÂêéÁöÑÁªìÊûúvar data = []; // Promise.resolveÊñπÊ≥ïË∞ÉÁî®Êó∂‰∏çÂ∏¶ÂèÇÊï∞ÔºåÁõ¥Êé•ËøîÂõû‰∏Ä‰∏™resolvedÁä∂ÊÄÅÁöÑ Promise ÂØπË±°„ÄÇvar sequence = Promise.resolve(); ajaxArray.forEach(function (item) { // Á¨¨‰∏ÄÊ¨°ÁöÑ then ÊñπÊ≥ïÁî®Êù•ÊâßË°åÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂáΩÊï∞Ôºå// Á¨¨‰∫åÊ¨°ÁöÑ then ÊñπÊ≥ïÊé•ÂèóÊï∞ÁªÑ‰∏≠ÁöÑÂáΩÊï∞ÊâßË°åÂêéËøîÂõûÁöÑÁªìÊûúÔºå// Âπ∂ÊääÁªìÊûúÊ∑ªÂä†Âà∞ data ‰∏≠ÔºåÁÑ∂ÂêéÊää data ËøîÂõû„ÄÇ sequence = sequence.then(item).then(function (res) { data.push(res); return data; }); }) // ÈÅçÂéÜÁªìÊùüÂêéÔºåËøîÂõû‰∏Ä‰∏™ PromiseÔºå‰πüÂ∞±ÊòØ sequenceÔºå ‰ªñÁöÑ [[PromiseValue]] ÂÄºÂ∞±ÊòØ dataÔºå// ËÄå dataÔºà‰øùÂ≠òÊï∞ÁªÑ‰∏≠ÁöÑÂáΩÊï∞ÊâßË°åÂêéÁöÑÁªìÊûúÔºâ ‰πü‰ºö‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰º†ÂÖ•‰∏ãÊ¨°Ë∞ÉÁî®ÁöÑ then ÊñπÊ≥ï‰∏≠„ÄÇreturn sequence; È¢òÁõÆÂÖ≠‰ª•‰∏ã‰ª£Á†ÅÊúÄÂêéËæìÂá∫‰ªÄ‰πàÔºü const first = () =&gt; (newPromise((resolve, reject) =&gt; { console.log(3); let p = newPromise((resolve, reject) =&gt; { console.log(7); setTimeout(() =&gt; { console.log(5); resolve(6); }, 0) resolve(1); }); resolve(2); p.then((arg) =&gt; { console.log(arg); }); })); first().then((arg) =&gt; { console.log(arg); }); console.log(4); Ëß£ÊûêËøôÈÅìÈ¢òÂ∞±ÂÖ∂ÂÆûÂíå Promise ÁöÑÂÖ≥Á≥ª‰∏çÂ§™Â§ßÔºå‰∏ªË¶ÅÊòØÈúÄË¶ÅÁêÜËß£ JSÊâßË°åÊú∫Âà∂ÔºåÊâçËÉΩÂæàÂ•ΩÁöÑËß£ÂÜ≥ËøôÈÅìÈ¢òÔºåÂØπ‰∫é JS ÊâßË°åÊú∫Âà∂‰∏ç‰∫ÜËß£ÁöÑÊúãÂèãÊé®ËçêÁúãÁúãËøôÁØáÊñáÁ´† Ëøô‰∏ÄÊ¨°ÔºåÂΩªÂ∫ïÂºÑÊáÇ JavaScript ÊâßË°åÊú∫Âà∂ Á¨¨‰∏ÄËΩÆ‰∫ã‰ª∂Âæ™ÁéØÂÖàÊâßË°åÂÆè‰ªªÂä°Ôºå‰∏ªscript Ôºånew PromiseÁ´ãÂç≥ÊâßË°åÔºåËæìÂá∫„Äê3„ÄëÔºå ÊâßË°å p Ëøô‰∏™new Promise Êìç‰ΩúÔºåËæìÂá∫„Äê7„ÄëÔºå ÂèëÁé∞ setTimeoutÔºåÂ∞ÜÂõûË∞ÉÊîæÂÖ•‰∏ã‰∏ÄËΩÆ‰ªªÂä°ÈòüÂàóÔºàEvent QueueÔºâÔºåp ÁöÑ thenÔºåÂßë‰∏îÂè´ÂÅö then1ÔºåÊîæÂÖ•ÂæÆ‰ªªÂä°ÈòüÂàóÔºåÂèëÁé∞ first ÁöÑ thenÔºåÂè´ then2ÔºåÊîæÂÖ•ÂæÆ‰ªªÂä°ÈòüÂàó„ÄÇÊâßË°åconsole.log(4)ÔºåËæìÂá∫„Äê4„ÄëÔºåÂÆè‰ªªÂä°ÊâßË°åÁªìÊùü„ÄÇ ÂÜçÊâßË°åÂæÆ‰ªªÂä°ÔºåÊâßË°å then1ÔºåËæìÂá∫„Äê1„ÄëÔºå ÊâßË°å then2ÔºåËæìÂá∫„Äê2„Äë„ÄÇ Âà∞Ê≠§‰∏∫Ê≠¢ÔºåÁ¨¨‰∏ÄËΩÆ‰∫ã‰ª∂Âæ™ÁéØÁªìÊùü„ÄÇÂºÄÂßãÊâßË°åÁ¨¨‰∫åËΩÆ„ÄÇ Á¨¨‰∫åËΩÆ‰∫ã‰ª∂Âæ™ÁéØÂÖàÊâßË°åÂÆè‰ªªÂä°ÈáåÈù¢ÁöÑÔºå‰πüÂ∞±ÊòØ setTimeout ÁöÑÂõûË∞ÉÔºåËæìÂá∫„Äê5„Äë„ÄÇresolve(6) ‰∏ç‰ºöÁîüÊïàÔºåÂõ†‰∏∫ p Ëøô‰∏™ Promise ÁöÑÁä∂ÊÄÅ‰∏ÄÊó¶ÊîπÂèòÂ∞±‰∏ç‰ºöÂú®ÊîπÂèò‰∫Ü„ÄÇ Á≠îÊ°à374125 È¢òÁõÆ‰∏ÉÊúâ 8 ‰∏™ÂõæÁâáËµÑÊ∫êÁöÑ urlÔºåÂ∑≤ÁªèÂ≠òÂÇ®Âú®Êï∞ÁªÑ urls ‰∏≠ÔºàÂç≥urls = [&#39;http://example.com/1.jpg&#39;, ...., &#39;http://example.com/8.jpg&#39;]ÔºâÔºåËÄå‰∏îÂ∑≤ÁªèÊúâ‰∏Ä‰∏™ÂáΩÊï∞ function loadImgÔºåËæìÂÖ•‰∏Ä‰∏™ url ÈìæÊé•ÔºåËøîÂõû‰∏Ä‰∏™ PromiseÔºåËØ• Promise Âú®ÂõæÁâá‰∏ãËΩΩÂÆåÊàêÁöÑÊó∂ÂÄô resolveÔºå‰∏ãËΩΩÂ§±Ë¥•Âàô reject„ÄÇ‰ΩÜÊòØÊàë‰ª¨Ë¶ÅÊ±ÇÔºå‰ªªÊÑèÊó∂ÂàªÔºåÂêåÊó∂‰∏ãËΩΩÁöÑÈìæÊé•Êï∞Èáè‰∏çÂèØ‰ª•Ë∂ÖËøá 3 ‰∏™„ÄÇËØ∑ÂÜô‰∏ÄÊÆµ‰ª£Á†ÅÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±ÇÔºåË¶ÅÊ±ÇÂ∞ΩÂèØËÉΩÂø´ÈÄüÂú∞Â∞ÜÊâÄÊúâÂõæÁâá‰∏ãËΩΩÂÆåÊàê„ÄÇ var urls = [&apos;https://www.kkkk1000.com/images/getImgData/getImgDatadata.jpg&apos;, &apos;https://www.kkkk1000.com/images/getImgData/gray.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/Particle.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic.png&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic2.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/getImgDataError.jpg&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic.gif&apos;, &apos;https://user-gold-cdn.xitu.io/2018/10/29/166be40ccc434be0?w=600&amp;h=342&amp;f=png&amp;s=122185&apos;]; functionloadImg(url) { returnnewPromise((resolve, reject) =&gt; { const img = new Image() img.onload = function () { console.log(&apos;‰∏ÄÂº†ÂõæÁâáÂä†ËΩΩÂÆåÊàê&apos;); resolve(); } img.onerror = reject img.src = url }) }; Ëß£ÊûêÈ¢òÁõÆÁöÑÊÑèÊÄùÊòØÈúÄË¶ÅÊàë‰ª¨Ëøô‰πàÂÅöÔºåÂÖàÂπ∂ÂèëËØ∑Ê±Ç 3 Âº†ÂõæÁâáÔºåÂΩì‰∏ÄÂº†ÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÔºåÂèà‰ºöÁªßÁª≠ÂèëËµ∑‰∏ÄÂº†ÂõæÁâáÁöÑËØ∑Ê±ÇÔºåËÆ©Âπ∂ÂèëÊï∞‰øùÊåÅÂú® 3 ‰∏™ÔºåÁõ¥Âà∞ÈúÄË¶ÅÂä†ËΩΩÁöÑÂõæÁâáÈÉΩÂÖ®ÈÉ®ÂèëËµ∑ËØ∑Ê±Ç„ÄÇ Áî® Promise Êù•ÂÆûÁé∞Â∞±ÊòØÔºåÂÖàÂπ∂ÂèëËØ∑Ê±Ç3‰∏™ÂõæÁâáËµÑÊ∫êÔºåËøôÊ†∑ÂèØ‰ª•ÂæóÂà∞ 3 ‰∏™ PromiseÔºåÁªÑÊàê‰∏Ä‰∏™Êï∞ÁªÑÔºåÂ∞±Âè´promises ÂêßÔºåÁÑ∂Âêé‰∏çÊñ≠ÁöÑË∞ÉÁî® Promise.race Êù•ËøîÂõûÊúÄÂø´ÊîπÂèòÁä∂ÊÄÅÁöÑ PromiseÔºåÁÑ∂Âêé‰ªéÊï∞ÁªÑÔºàpromisesÔºâ‰∏≠Âà†ÊéâËøô‰∏™ Promise ÂØπË±°ÔºåÂÜçÂä†ÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑ PromiseÔºåÁõ¥Âà∞ÂÖ®ÈÉ®ÁöÑ url Ë¢´ÂèñÂÆåÔºåÊúÄÂêéÂÜç‰ΩøÁî® Promise.all Êù•Â§ÑÁêÜ‰∏ÄÈÅçÊï∞ÁªÑÔºàpromisesÔºâ‰∏≠Ê≤°ÊúâÊîπÂèòÁä∂ÊÄÅÁöÑ Promise„ÄÇ Á≠îÊ°àvar urls = [&apos;https://www.kkkk1000.com/images/getImgData/getImgDatadata.jpg&apos;, &apos;https://www.kkkk1000.com/images/getImgData/gray.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/Particle.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic.png&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic2.gif&apos;, &apos;https://www.kkkk1000.com/images/getImgData/getImgDataError.jpg&apos;, &apos;https://www.kkkk1000.com/images/getImgData/arithmetic.gif&apos;, &apos;https://user-gold-cdn.xitu.io/2018/10/29/166be40ccc434be0?w=600&amp;h=342&amp;f=png&amp;s=122185&apos;]; functionloadImg(url) { returnnewPromise((resolve, reject) =&gt; { const img = new Image() img.onload = function () { console.log(&apos;‰∏ÄÂº†ÂõæÁâáÂä†ËΩΩÂÆåÊàê&apos;); resolve(); } img.onerror = reject img.src = url }) }; functionlimitLoad(urls, handler, limit) { // ÂØπÊï∞ÁªÑÂÅö‰∏Ä‰∏™Êã∑Ë¥ùconst sequence = [].concat(urls) let promises = []; //Âπ∂ÂèëËØ∑Ê±ÇÂà∞ÊúÄÂ§ßÊï∞ promises = sequence.splice(0, limit).map((url, index) =&gt; { // ËøôÈáåËøîÂõûÁöÑ index ÊòØ‰ªªÂä°Âú® promises ÁöÑËÑöÊ†áÔºåÁî®‰∫éÂú® Promise.race ‰πãÂêéÊâæÂà∞ÂÆåÊàêÁöÑ‰ªªÂä°ËÑöÊ†áreturn handler(url).then(() =&gt; { return index }); }); // Âà©Áî®Êï∞ÁªÑÁöÑ reduce ÊñπÊ≥ïÊù•‰ª•ÈòüÂàóÁöÑÂΩ¢ÂºèÊâßË°åreturn sequence.reduce((last, url, currentIndex) =&gt; { return last.then(() =&gt; { // ËøîÂõûÊúÄÂø´ÊîπÂèòÁä∂ÊÄÅÁöÑ PromisereturnPromise.race(promises) }).catch(err =&gt; { // ËøôÈáåÁöÑ catch ‰∏ç‰ªÖÁî®Êù•ÊçïËé∑ ÂâçÈù¢ then ÊñπÊ≥ïÊäõÂá∫ÁöÑÈîôËØØ// Êõ¥ÈáçË¶ÅÁöÑÊòØÈò≤Ê≠¢‰∏≠Êñ≠Êï¥‰∏™ÈìæÂºèË∞ÉÁî®console.error(err) }).then((res) =&gt; { // Áî®Êñ∞ÁöÑ Promise ÊõøÊç¢ÊéâÊúÄÂø´ÊîπÂèòÁä∂ÊÄÅÁöÑ Promise promises[res] = handler(sequence[currentIndex]).then(() =&gt; { return res }); }) }, Promise.resolve()).then(() =&gt; { returnPromise.all(promises) }) } limitLoad(urls, loadImg, 3) /* Âõ†‰∏∫ limitLoad ÂáΩÊï∞‰πüËøîÂõû‰∏Ä‰∏™ PromiseÔºåÊâÄ‰ª•ÂΩì ÊâÄÊúâÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÔºåÂèØ‰ª•ÁªßÁª≠ÈìæÂºèË∞ÉÁî® limitLoad(urls, loadImg, 3).then(() =&gt; { console.log(&apos;ÊâÄÊúâÂõæÁâáÂä†ËΩΩÂÆåÊàê&apos;); }).catch(err =&gt; { console.error(err); }) */]]></content>
      <tags>
        <tag>Promise</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÂÆâÂÖ®ÊùÉÈôêÊéßÂà∂axiosÊã¶Êà™]]></title>
    <url>%2F2018%2F07%2F02%2FVue%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6axios%E6%8B%A6%E6%88%AA%2F</url>
    <content type="text"><![CDATA[‰Ωï‰∏∫ÊùÉÈôêÊéßÂà∂ //ËØ∑Ê±ÇÂ§±Ë¥•ÂêéÁöÑÁªü‰∏ÄÊã¶Êà™Ôºå‰ª•ÂèäajaxÁöÑÂü∫Êú¨ËÆæÁΩÆ import axios from &apos;axios&apos;; import qs from &apos;qs&apos;; function cleanRequest(req) { for (const i in req) { /* eslint guard-for-in: 0 */ if (req[i] !== 0 &amp;&amp; !req[i]) { delete req[i]; } } } axios.defaults.withCredentials = true; axios.defaults.xsrfCookieName = null; axios.defaults.headers.common[&apos;X-Requested-With&apos;] = &apos;XMLHttpRequest&apos;; axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded&apos;; //Á≥ªÁªüÂºπÂ±Ç import Toast from &apos;mint-ui/lib/toast&apos;; import &apos;mint-ui/lib/toast/style.css&apos;; module.exports.install = function (Vue) { axios.defaults.baseURL=&quot;/&quot;; Vue.prototype.$http = axios; Vue.http = axios; axios.interceptors.request.use( function (request) { const params = request.params; if (params) { cleanRequest(params); } if (request.data) { cleanRequest(request.data); request.data=qs.stringify(Object.assign(request.data,Bus.movieConfig)) }else{ request.data=qs.stringify(Bus.movieConfig) } return request; }, function (error) { return Promise.reject(error); } ); // Add a response interceptor axios.interceptors.response.use( function (response) { return response; }, function (error) { Toast(&apos;Á≥ªÁªüÁπÅÂøôÔºåËØ∑Á®çÂêéÈáçËØï!&apos;); // Do something with response error return Promise.reject(error); } ); }; ÊùÉÈôêÊéßÂà∂Â§ßËá¥ÂàÜ‰∏∫‰∏§‰∏™Áª¥Â∫¶: ÂûÇÁõ¥Áª¥Â∫¶: ÊéßÂà∂Áî®Êà∑ÂèØ‰ª•ËÆøÈóÆÂì™‰∫õurlÁöÑÊùÉÈôê Ê∞¥Âπ≥Áª¥Â∫¶: ÊéßÂà∂Áî®Êà∑ËÆøÈóÆÁâπÂÆöurlÔºåËé∑ÂèñÂì™‰∫õÊï∞ÊçÆÁöÑÊùÉÈôêÔºàe.g. ÊôÆÈÄöÁî®Êà∑„ÄÅÁÆ°ÁêÜÂëò„ÄÅË∂ÖÁ∫ßÁÆ°ÁêÜÂëòËÆøÈóÆÂêå‰∏ÄurlÔºåËé∑ÂèñÁöÑÊï∞ÊçÆÊòØ‰∏çÂêåÁöÑÔºâ WebÊùÉÈôêÊéßÂà∂ÊñπÊ°àList ÂâçÂêéÁ´Ø‰∏çÂàÜÁ¶ªÔºö‰ª•Java‰∏∫‰æãÔºåÂêéÁ´ØÈÄöËøájsp„ÄÅfreemark„ÄÅthmeleafÁ≠âÊ®°ÊùøÊù•Ê∏≤ÊüìÁõ∏Â∫îÊùÉÈôêÁöÑÊï∞ÊçÆÔºåÊ∏≤ÊüìÂÆåÂëàÁé∞Âú®ÊµèËßàÂô®Á´Ø ÂâçÂêéÁ´ØÂàÜÁ¶ªÔºö‚ñ´SPAÂçïÈ°µÈù¢Â∫îÁî®ÔºåË∑ØÁî±Áî±ÂâçÁ´ØÊéßÂà∂ÔºåÂâçÁ´ØÈÄöËøájsÊéßÂà∂hashË∑ØÁî±ÁöÑÊùÉÈôê‚ñ´SSRÊúçÂä°Á´ØÊ∏≤ÊüìÔºåNode‰∏≠Èó¥Â±ÇÂÅö‰ª£ÁêÜË∑ØÁî±ÔºåÂà§Êñ≠ÊùÉÈôêÊ∏≤ÊüìÁâπÂÆöÁöÑË∑ØÁî±Ëá≥ÊµèËßàÂô®Á´Ø SPAÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊñπÊ°à SPA: ÂçïÈ°µWebÂ∫îÁî®Ôºàsingle page web applicationÔºâÂ∞ÜÊâÄÊúâwebÊ¥ªÂä®Â±ÄÈôê‰∫é‰∏Ä‰∏™htmlÈ°µÈù¢‰∏≠ÔºåÂà©Áî®jsÈÄöËøáhashÊàñËÄÖÊµèËßàÂô®history apiÊù•ÂÆûÁé∞Êó†Âà∑Êñ∞Ë∑ØÁî±Ë∑≥ËΩ¨ÔºåÂâçÂêéÁ´ØÈÄöËøáajaxÊï∞ÊçÆÈÄö‰ø°ÔºåÈÅøÂÖç‰∫ÜÊµèËßàÂô®ÁöÑÂà∑Êñ∞ÈáçÊñ∞Âä†ËΩΩÔºå‰∏∫Áî®Êà∑Êèê‰æõÊµÅÁ®ãÁöÑÊìç‰Ωú‰ΩìÈ™å„ÄÇËøôÊÑèÂë≥ÁùÄÂâçÁ´ØÊé•ÁÆ°‰∫ÜË∑ØÁî±Â±ÇÔºåÈúÄË¶ÅÈÄöËøáË∞ÉÁî®ÂâçÁ´ØËá™Ë∫´ÁöÑMVCÊ®°ÂùóÔºåÊù•Ê∏≤Êüì‰∏çÂêåÁöÑÈ°µÈù¢„ÄÇ Base onÔºö Vue ÂâçÁ´ØMVVMÊ°ÜÊû∂ Vuex Áä∂ÊÄÅÁÆ°ÁêÜÊú∫ Vue-router Ë∑ØÁî± Axios HTTPËØ∑Ê±ÇÂ∫ì 1.ÁôªÈôÜ‰∫ã‰ª∂Login // 1.Ëß¶ÂèëÁôªÈôÜ‰∫ã‰ª∂ dispatch(&apos;login&apos;) // actions commit(types.LOGIN_SUCCESS, res.data.data) ... 2.Ëé∑ÂèñTokenÔºåÁªèBase64ÁºñÁ†ÅÂêéÂ≠òËá≥sessionStorage // mutations const mutations = { [types.LOGIN_SUCCESS] (state, data) { state.authlock = false // 2.ÁôªÈôÜÊàêÂäüÂõûË∞ÉÊãøÂà∞token,ÁªèBase64 ÁºñÁ†ÅÂêéÂ≠òÂÖ•Êú¨Âú∞sessionStorage let token = Base64.encode(data + &apos;:HIKDATAE&apos;) sessionStorage.setItem(&apos;userToken&apos;, token) // Ë∑ØÁî±Ë∑≥ËΩ¨Ëá≥ÁõÆÊ†áÈ°µÈù¢ router.push({name: &apos;xxx&apos;}) }, [types.LOGOUT_SUCCESS] (state) { state.authlock = true // ÁôªÂá∫ÊàêÂäüÂõûË∞É,ÁßªÈô§Êú¨Âú∞token sessionStorage.removeItem(&apos;userToken&apos;) router.push({name: &apos;Login&apos;}) } } 3.ÊâÄÊúâHTTP Header Authorization Âä†‰∏äÁºñÁ†ÅÂêéÁöÑtoken(ÂâçÂêéÁ´ØÂèØÁ∫¶ÂÆöËßÑÂàô) // Axios ËØ∑Ê±ÇÈí©Â≠êÔºàrequestÔºâ axios.interceptors.request.use(req =&gt; { let token = sessionStorage.getItem(&apos;user&apos;) if (token) { // 3.token Â≠òÂú®,ÂàôÂú®‰πãÂêéÊâÄÊúâËØ∑Ê±ÇÁöÑhttpËØ∑Ê±ÇÂ§¥ Authorization Â∏¶‰∏äbase64ÁºñÁ†ÅÂêéÁöÑtoken,ÂêéÂè∞ÊãøÂà∞tokenÂêéËøõË°åÈ™åËØÅÊùÉÈôê req.headers.Authorization = `Basic ${token}` } req.data = qs.stringify(req.data) return req }, error =&gt; { return Promise.reject(error) }) ÊµèËßàÂô®http header 4.ËØ∑Ê±ÇÊã¶Êà™ÔºöÂêéÂè∞ÊãøÂà∞tokenÂêéÂØπÊØè‰∏™ËØ∑Ê±ÇËøõË°åÊ†°È™åÔºåËã•Ê†°È™åÂ§±Ë¥•ËøîÂõû401ÔºåÂâçÁ´ØresponseÈí©Â≠êÈáåÁªü‰∏Äcatch error Ë∑≥ËΩ¨Ëá≥ÁôªÈôÜÈ°µÈù¢„ÄÇ // Axios ËØ∑Ê±ÇÈí©Â≠êÔºàresponseÔºâ axios.interceptors.response.use(res =&gt; { return res }, error =&gt; { if (error.response) { switch (error.response.status) { // 4.ÊâÄÊúâÊé•Âè£responseÊ†°È™åÈí©Â≠ê,Ëã•tokenÊ£ÄÈ™åÂ§±Ë¥•,ÂêéÂè∞ËøîÂõû 401 error code, Ê∏ÖÈô§token‰ø°ÊÅØÂπ∂Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ case 401: store.commit(types.LOGOUT) router.replace({ path: &apos;/login&apos; }) } } return Promise.reject(error) }) 5.Ë∑ØÁî±Ë∑≥ËΩ¨Êã¶Êà™Ôºö‰ªªÊÑèË∑ØÁî±Ë∑≥ËΩ¨Êó∂ÔºåÂú®Ë∑ØÁî±beforeEachÈí©Â≠êÈáåÊ†°È™åÊú¨Âú∞ÊòØÂê¶Â≠òÂú®tokenÔºåËã•Ê≤°ÊúâÔºåÂàôË∑≥ËΩ¨Ëá≥ÁôªÈôÜÈ°µÈù¢ // Ë∑ØÁî±Èí©Â≠ê(ÊØè‰∏™Ë∑ØÁî±Ë∑≥ËΩ¨ÂâçË∞ÉËµ∑beforeEachÈí©Â≠ê) router.beforeEach((to, from, next) =&gt; { if (to.path === &apos;/login&apos;) { sessionStorage.removeItem(&apos;userToken&apos;) } let user = sessionStorage.getItem(&apos;userToken&apos;) if (!user &amp;&amp; to.path !== &apos;/login&apos;) { // Ëã•Êú¨Âú∞token‰∏çÂ≠òÂú®,Âàô‰ªªÊÑèË∑ØÁî±Ë∑≥ËΩ¨ÁöÑÊó∂ÂÄô,ÈáçÂÆöÂêëËá≥login ÁôªÈôÜÈ°µÈù¢ next({ path: &apos;/login&apos; }) } else { next() } }) 6.ÁôªÂá∫LogoutÔºöÊ∏ÖÊ•öÊú¨Âú∞sessionStorageÁöÑtoken‰ø°ÊÅØ // mutations const mutations = { ... [types.LOGOUT_SUCCESS] (state) { state.authlock = true // ÁôªÂá∫ÊàêÂäüÂõûË∞É,ÁßªÈô§Êú¨Âú∞token sessionStorage.removeItem(&apos;userToken&apos;) router.push({name: &apos;Login&apos;}) } } ÊµÅÁ®ãÁ§∫ÊÑèÂõæÂ¶Ç‰∏ã:]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßªÂä®Á´ØËÆæÁΩÆ‰∫Üoverflow:hiddenÂíåborder-radiusÔºåÂ≠êÂÖÉÁ¥†Ë∂ÖÂá∫ÈÉ®ÂàÜ‰∏çÈöêËóèÈóÆÈ¢òÔºü]]></title>
    <url>%2F2018%2F06%2F21%2F%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%AE%BE%E7%BD%AE%E4%BA%86overflow-hidden%E5%92%8Cborder-radius%EF%BC%8C%E5%AD%90%E5%85%83%E7%B4%A0%E8%B6%85%E5%87%BA%E9%83%A8%E5%88%86%E4%B8%8D%E9%9A%90%E8%97%8F%E9%97%AE%E9%A2%98%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt; &lt;link rel=&quot;stylesheet&quot;type=&quot;text/css&quot; href=&quot;css/SB.css&quot; /&gt; &lt;style type=&quot;text/css&quot;&gt; .main { width: 300px; height: 100px; border: 1px solid red; border-radius: 15px; overflow: hidden; /*transform:rotate(0deg); */ } .con { display: block; overflow: scroll; overflow-y: hidden; -webkit-overflow-scrolling: touch; white-space: nowrap; font-size: 0px; } .item { width: 100px; height: 100px; background: green; display: inline-block; position: relative; } .item:nth-child(2n) { background: red; } .item p{ width: 50px; height: 20px; color: white; text-align: center; position: absolute; left: 50%; transform: translateX(-50%); top: 0px; background: blue; font-size: 12px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;main&quot;&gt; &lt;div class=&quot;con&quot;&gt; &lt;div class=&quot;item&quot;&gt; &lt;p&gt;Âø´ÁÇπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;p&gt;Âø´ÁÇπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;p&gt;Âø´ÁÇπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;p&gt;Âø´ÁÇπ&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;p&gt;Âø´ÁÇπ&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; Â§çÂà∂‰ª£Á†Å PC ÁßªÂä®Á´ØËß£ÂÜ≥ÂäûÊ≥ïÔºö .main { width: 300px; height: 100px; border: 1px solid red; border-radius: 15px; overflow: hidden; transform:rotate(0deg); /*transform: scale(1);‰πüÂèØ‰ª•*/ } Â§çÂà∂‰ª£Á†Å]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptÁöÑ‰∫ã‰ª∂Âæ™ÁéØ]]></title>
    <url>%2F2018%2F06%2F03%2FJavaScript%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%2F</url>
    <content type="text"><![CDATA[Node.js ‰∫ã‰ª∂Âæ™ÁéØ‰∏Ä: ÊµÖÊûê ÁêÜËß£‰∫ã‰ª∂Âæ™ÁéØÁ≥ªÂàóÁ¨¨‰∏ÄÊ≠• ÊµÖÊûêÂíåÊÄªËßà Â§öÊï∞ÁöÑÁΩëÁ´ô‰∏çÈúÄË¶ÅÂ§ßÈáèËÆ°ÁÆóÔºåÁ®ãÂ∫èËä±Ë¥πÁöÑÊó∂Èó¥‰∏ªË¶ÅÈõÜ‰∏≠Âú®Á£ÅÁõò I/O ÂíåÁΩëÁªú I/O ‰∏äÈù¢ SSDËØªÂèñÂæàÂø´Ôºå‰ΩÜÂíåCPUÂ§ÑÁêÜÊåá‰ª§ÁöÑÈÄüÂ∫¶ÊØîËµ∑Êù•‰πü‰∏çÂú®‰∏Ä‰∏™Êï∞ÈáèÁ∫ß‰∏äÔºåËÄå‰∏îÁΩëÁªú‰∏ä‰∏Ä‰∏™Êï∞ÊçÆÂåÖÊù•ÂõûÁöÑÊó∂Èó¥Êõ¥ÊÖ¢Ôºö ‰∏Ä‰∏™Êï∞ÊçÆÂåÖÊù•ÂõûÁöÑÂª∂ËøüÂπ≥Âùá320ms(ÊàëÁΩëÈÄüÊÖ¢ÔºåpingÂõΩÂÜÖÁΩëÁ´ô‰ºöÊõ¥Âø´)ÔºåËøôÊÆµÊó∂Èó¥ÂÜÖ‰∏Ä‰∏™ÊôÆÈÄö cpu ÊâßË°åÂá†ÂçÉ‰∏á‰∏™Âë®ÊúüÂ∫îËØ•Ê≤°ÈóÆÈ¢ò Âõ†Ê≠§ÂºÇÊ≠•IOÂ∞±Ë¶ÅÂèëÊå•‰ΩúÁî®‰∫ÜÔºåÊØîÂ¶ÇÁî®Â§öÁ∫øÁ®ãÔºåÂ¶ÇÊûúÁî® Java ÂéªËØª‰∏Ä‰∏™Êñá‰ª∂ÔºåËøôÊòØ‰∏Ä‰∏™ÈòªÂ°ûÁöÑÊìç‰ΩúÔºåÂú®Á≠âÂæÖÊï∞ÊçÆËøîÂõûÁöÑËøáÁ®ã‰∏≠‰ªÄ‰πà‰πüÂπ≤‰∏ç‰∫ÜÔºåÂõ†Ê≠§Â∞±ÂºÄ‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜÊñá‰ª∂ËØªÂèñÔºåËØªÂèñÊìç‰ΩúÁªìÊùüÂêéÂÜçÂéªÈÄöÁü•‰∏ªÁ∫øÁ®ã„ÄÇ ËøôÊ†∑ËôΩÁÑ∂Ë°åÂæóÈÄöÔºå‰ΩÜÊòØ‰ª£Á†ÅÂÜôËµ∑Êù•ÊØîËæÉÈ∫ªÁÉ¶„ÄÇÂÉè Node.js V8 ËøôÁßçÊó†Ê≥ïÂºÄ‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊÄé‰πàÂäûÔºü ÂÖàÁúã‰∏ãÈù¢ÂáΩÊï∞ÊâßË°åËøáÁ®ã Ê†à StackÂΩìÊàë‰ª¨Ë∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÁöÑÂú∞ÂùÄ„ÄÅÂèÇÊï∞„ÄÅÂ±ÄÈÉ®ÂèòÈáèÈÉΩ‰ºöÂéãÂÖ•Âà∞‰∏Ä‰∏™ stack ‰∏≠ function fire() { const result = sumSqrt(3, 4) console.log(result); } function sumSqrt(x, y) { const s1 = square(x) const s2 = square(y) const sum = s1 + s2; return Math.sqrt(sum) } function square(x) { return x * x; } fire() ‰∏ãÈù¢ÁöÑÂõæÈÉΩÊòØÁî® keynote ÂÅöÁöÑ keynoteÂú∞ÂùÄ ÂáΩÊï∞ fire È¶ñÂÖàË¢´Ë∞ÉÁî® fire Ë∞ÉÁî® sumSqrt ÂáΩÊï∞ ÂèÇÊï∞‰∏∫3Âíå4 ‰πãÂêéË∞ÉÁî® square ÂèÇÊï∞‰∏∫ x, x==3 ÂΩì square ÊâßË°åÁªìÊùüËøîÂõûÊó∂Ôºå‰ªé stack ‰∏≠ÂºπÂá∫ÔºåÂπ∂Â∞ÜËøîÂõûÂÄºËµãÂÄºÁªô s1s1Âä†ÂÖ•Âà∞ sumSqrt ÁöÑ stack frame ‰∏≠ ‰ª•ÂêåÊ†∑ÁöÑÊñπÂºèË∞ÉÁî®‰∏ã‰∏Ä‰∏™ square ÂáΩÊï∞ Âú®‰∏ã‰∏ÄË°åÁöÑË°®ËææÂºè‰∏≠ËÆ°ÁÆóÂá∫ s1+s2 Âπ∂ËµãÂÄºÁªô sum ‰πãÂêéË∞ÉÁî® Math.sqrt ÂèÇÊï∞‰∏∫sum Áé∞Âú®Â∞±Ââ©‰∏ã sumSqrt ÂáΩÊï∞ËøîÂõûËÆ°ÁÆóÁªìÊûú‰∫Ü ËøîÂõûÂÄºËµãÂÄºÁªô result Âú® console ‰∏≠ÊâìÂç∞Âá∫ result ÊúÄÁªà fire Ê≤°Êúâ‰ªª‰ΩïËøîÂõûÂÄº ‰ªéstack‰∏≠ÂºπÂá∫ stack‰πüÊ∏ÖÁ©∫‰∫Ü ÂΩìÂáΩÊï∞ÊâßË°åÂÆåÊØïÂêéÊú¨Âú∞ÂèòÈáè‰ºö‰ªé stack ‰∏≠ÂºπÂá∫ÔºåËøôÂè™ÊúâÂú®‰ΩøÁî® numbers string boolean ËøôÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊó∂Êâç‰ºöÂèëÁîü„ÄÇËÄåÂØπË±°„ÄÅÊï∞ÁªÑÁöÑÂÄºÊòØÂ≠òÂú®‰∫é heap(Â†Ü) ‰∏≠ÁöÑÔºåstack Âè™Â≠òÊîæ‰∫Ü‰ªñ‰ª¨ÂØπÂ∫îÁöÑÊåáÈíà„ÄÇ ÂΩìÂáΩÊï∞‰πãË°åÁªìÊùü‰ªé stack ‰∏≠ÂºπÂá∫Êù•Êó∂ÔºåÂè™ÊúâÂØπË±°ÁöÑÊåáÈíàË¢´ÂºπÂá∫ÔºåËÄåÁúüÊ≠£ÁöÑÂÄº‰æùÁÑ∂Â≠òÂú® heap ‰∏≠ÔºåÁÑ∂ÂêéÁî±ÂûÉÂúæÂõûÊî∂Âô®Ëá™Âä®ÁöÑÊ∏ÖÁêÜÂõûÊî∂„ÄÇ ‰∫ã‰ª∂Âæ™ÁéØÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•‰∫ÜËß£ÂáΩÊï∞ÁöÑÊâßË°åÈ°∫Â∫è &apos;use strict&apos; const express = require(&apos;express&apos;) const superagent = require(&apos;superagent&apos;) const app = express() app.get(&apos;/&apos;, getArticle) function getArticle(req, res) { fetchArticle(req, res) print() } const aids = [4564824, 4506868, 4767667, 4856099, 7456996]; function fetchArticle(req, res) { const aid = aids[Math.floor(Math.random() * aids.length)] superagent.get(`http://news-at.zhihu.com/api/4/news/${aid}`) .end((err, res) =&gt; { if(err) { console.log(&apos;error ......&apos;); return res.status(500).send(&apos;an error ......&apos;) } const article = res.body res.send(article) console.log(&apos;Got an article&apos;) }) console.log(&apos;Now is fetching an article&apos;) } function print(){ console.log(&apos;Print something&apos;) } app.listen(&apos;5000&apos;) ËØ∑Ê±Ç http://localhost:5000/ ÂêéÊâìÂç∞Âá∫ Now is fetching an article Print something Got an article ËôΩÁÑ∂ V8 ÊòØÂçïÁ∫øÁ®ãÁöÑÔºå‰ΩÜÂ∫ïÂ±ÇÁöÑ C++ API Âç¥‰∏çÊòØ„ÄÇËøôÊÑèÂë≥ÁùÄÂΩìÊàë‰ª¨ÊâßË°å‰∏Ä‰∫õÈùûÈòªÂ°ûÁöÑÊìç‰ΩúÔºåNode‰ºöË∞ÉÁî®‰∏Ä‰∫õ‰ª£Á†ÅÔºå‰∏éÂºïÊìéÈáåÁöÑjs‰ª£Á†ÅÂêåÊó∂ÊâßË°å„ÄÇ‰∏ÄÊó¶Ëøô‰∏™ÈöêËóèÁöÑÁ∫øÁ®ãÊî∂Âà∞‰∫ÜÁ≠âÂæÖÁöÑËøîÂõûÂÄºÊàñËÄÖÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏Ôºå‰πãÂâçÊèê‰æõÁöÑÂõûË∞ÉÂáΩÊï∞Â∞±‰ºöÊâßË°å„ÄÇ ‰∏äÈù¢ÁöÑËØ¥ÁöÑNodeË∞ÉÁî®ÁöÑ‰∏Ä‰∫õ‰ª£Á†ÅÂÖ∂ÂÆûÂ∞±ÊòØ libuvÔºå‰∏Ä‰∏™ÂºÄÊ∫êÁöÑË∑®Âπ≥Âè∞ÁöÑÂºÇÊ≠• I/O „ÄÇÊúÄÂàùÂ∞±ÊòØ‰∏∫ Node.js ÂºÄÂèëÁöÑÔºåÁé∞Âú®ÂæàÂ§öÈ°πÁõÆÈÉΩÂú®Áî® ‰ªªÂä°ÈòüÂàójavascript ÊòØÂçïÁ∫øÁ®ã‰∫ã‰ª∂È©±Âä®ÁöÑËØ≠Ë®ÄÔºåÈÇ£Êàë‰ª¨ÂèØ‰ª•ÁªôÊó∂Èó¥Ê∑ªÂä†ÁõëÂê¨Âô®ÔºåÂΩì‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÔºåÁõëÂê¨Âô®Â∞±ËÉΩÊâßË°åÂõûË∞ÉÂáΩÊï∞„ÄÇ ÂΩìÊàë‰ª¨ÂéªË∞ÉÁî® setTimeout`http.getfs.readFile`, Node.js ‰ºöÊääËøô‰∫õÂÆöÊó∂Âô®„ÄÅhttp„ÄÅIOÊìç‰ΩúÂèëÈÄÅÁªôÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰ª•‰øùËØÅV8ÁªßÁª≠ÊâßË°åÊàë‰ª¨ÁöÑ‰ª£Á†Å„ÄÇ ÁÑ∂ËÄåÊàë‰ª¨Âè™Êúâ‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÂíå‰∏Ä‰∏™ call-stack ÔºåËøôÊ†∑ÂΩì‰∏Ä‰∏™ËØªÂèñÊñá‰ª∂ÁöÑÊìç‰ΩúËøòÂú®ÊâßË°åÊó∂ÔºåÊúâ‰∏Ä‰∏™ÁΩëÁªúËØ∑Ê±ÇrequestËøáÊù•ÔºåÈÇ£ËøôÊó∂‰ªñÁöÑÂõûË∞ÉÂ∞±ÈúÄË¶ÅÁ≠âstackÂèòÁ©∫ÊâçËÉΩÊâßË°å„ÄÇ ÂõûË∞ÉÂáΩÊï∞Ê≠£Âú®Á≠âÂæÖËΩÆÂà∞Ëá™Â∑±ÊâßË°åÊâÄÊéíÁöÑÈòüÂ∞±Ë¢´Áß∞‰∏∫‰ªªÂä°ÈòüÂàó(ÊàñËÄÖ‰∫ã‰ª∂ÈòüÂàó„ÄÅÊ∂àÊÅØÈòüÂàó)„ÄÇÊØèÂΩì‰∏ªÁ∫øÁ®ãÂÆåÊàêÂâç‰∏Ä‰∏™‰ªªÂä°ÔºåÂõûË∞ÉÂáΩÊï∞Â∞±‰ºöÂú®‰∏Ä‰∏™Êó†ÈôêÂæ™ÁéØÂúàÈáåË¢´Ë∞ÉÁî®ÔºåÂõ†Ê≠§Ëøô‰∏™ÂúàË¢´Áß∞‰∏∫‰∫ã‰ª∂Âæ™ÁéØ„ÄÇ Êàë‰ª¨ÂâçÈù¢ÈÇ£‰∏™Ëé∑ÂèñÊñáÁ´†ÁöÑ‰æãÂ≠êÁöÑÊâßË°åÈ°∫Â∫èÂ∞±‰ºöÂ¶Ç‰∏ãÔºö express Áªô request ‰∫ã‰ª∂Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ handlerÔºåÂπ∂‰∏îÂΩìËØ∑Ê±ÇÂà∞ËææË∑ØÂæÑ ‚Äò/‚Äò Êó∂Êù•Ëß¶Âèëhandler Ë∞ÉËøáÂêÑ‰∏™ÂáΩÊï∞Âπ∂‰∏îÂú®Á´ØÂè£ 5000 ‰∏äÂêØÂä®ÁõëÂê¨ stack ‰∏∫Á©∫ÔºåÁ≠âÂæÖ request ‰∫ã‰ª∂Ëß¶Âèë Ê†πÊçÆ‰º†ÂÖ•ÁöÑËØ∑Ê±ÇÔºå‰∫ã‰ª∂Ëß¶ÂèëÔºåexpress Ë∞ÉÁî®‰πãÂâçÊèê‰æõÁöÑÂáΩÊï∞ getArticle getArticle ÂéãÂÖ•(push) stack fetchArticle Ë¢´Ë∞ÉÁî® ÂêåÊó∂ÂéãÂÖ• stack Math.floor Âíå Math.random Ë¢´Ë∞ÉÁî®ÂéãÂÖ• stack ÁÑ∂ÂêéÂÜç ÂºπÂá∫(pop), ‰ªé aids ÈáåÈù¢ÂèñÂá∫ÁöÑ‰∏Ä‰∏™ÂÄºË¢´ËµãÂÄºÁªôÂèòÈáè aid superagent.get Ë¢´ÊâßË°åÔºåÂèÇÊï∞‰∏∫ &#39;http://news-at.zhihu.com/api/4/news/${aid}&#39; ,Âπ∂‰∏îÂõûË∞ÉÂáΩÊï∞Ê≥®ÂÜåÁªô‰∫Ü end ‰∫ã‰ª∂ Âà∞ http://news-at.zhihu.com/api/4/news/${aid} ÁöÑHTTPËØ∑Ê±ÇË¢´ÂèëÈÄÅÂà∞ÂêéÂè∞Á∫øÁ®ãÔºåÁÑ∂ÂêéÂáΩÊï∞ÁªßÁª≠ÂæÄ‰∏ãÊâßË°å &#39;Now is fetching an article&#39; ÊâìÂç∞Âú® console ‰∏≠„ÄÇ ÂáΩÊï∞ fetchArticle ËøîÂõû print ÂáΩÊï∞Ë¢´Ë∞ÉÁî®, &#39;Print something&#39; ÊâìÂç∞Âú® console ‰∏≠ ÂáΩÊï∞ getArticle ËøîÂõûÔºåÂπ∂‰ªé stack ‰∏≠ÂºπÂá∫Ôºå stack ‰∏∫Á©∫ Á≠âÂæÖ http://news-at.zhihu.com/api/4/news/${aid} ÂèëÈÄÅÁõ∏Â∫î‰ø°ÊÅØ ÂìçÂ∫î‰ø°ÊÅØÂà∞ËææÔºåend ‰∫ã‰ª∂Ë¢´Ëß¶Âèë Ê≥®ÂÜåÁªô end ‰∫ã‰ª∂ÁöÑÂåøÂêçÂõûË∞ÉÂáΩÊï∞Ë¢´ÊâßË°åÔºåËøô‰∏™ÂåøÂêçÂáΩÊï∞Âíå‰ªñÈó≠ÂåÖ‰∏≠ÁöÑÊâÄÊúâÂèòÈáèÂéãÂÖ• stackÔºåËøôÊÑèÂë≥ÁùÄËøô‰∏™ÂåøÂêçÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂπ∂‰øÆÊîπ express, superagent, app, aids, req, res, aid ÁöÑÂÄº‰ª•Âèä‰πãÂâçÊâÄÊúâÂ∑≤ÁªèÂÆö‰πâÁöÑÂáΩÊï∞ ÂáΩÊï∞ res.send() ‰º¥ÈöèÁùÄ 200 Êàñ 500 ÁöÑÁä∂ÊÄÅÁ†ÅË¢´ÊâßË°åÔºå‰ΩÜÂêåÊó∂ÂèàË¢´ÊîæÂÖ•Âà∞ÂêéÂè∞Á∫øÁ®ã‰∏≠ÔºåÂõ†Ê≠§ ÂìçÂ∫îÊµÅ ‰∏ç‰ºöÈòªÂ°ûÊàë‰ª¨ÂáΩÊï∞ÁöÑÊâßË°å„ÄÇÂåøÂêçÂáΩÊï∞‰πüË¢´ pop Âá∫ stack„ÄÇ Microtasks Macrotasks‰ªªÂä°ÈòüÂàó‰∏çÊ≠¢‰∏Ä‰∏™ÔºåËøòÊúâ microtasks Âíå macrotasks microtasks: process.nextTick promise Object.observe macrotasks: setTimeout setInterval setImmediate I/O Ëøô‰∏§‰∏™ÁöÑËØ¶ÁªÜÂå∫Âà´‰∏ã‰∏ÄÁØáÂÜçÂÜôÔºåÂÖàÁúã‰∏ÄÊÆµ‰ª£Á†Å console.log(&apos;start&apos;) const interval = setInterval(() =&gt; { console.log(&apos;setInterval&apos;) }, 0) setTimeout(() =&gt; { console.log(&apos;setTimeout 1&apos;) Promise.resolve() .then(() =&gt; { console.log(&apos;promise 3&apos;) }) .then(() =&gt; { console.log(&apos;promise 4&apos;) }) .then(() =&gt; { setTimeout(() =&gt; { console.log(&apos;setTimeout 2&apos;) Promise.resolve() .then(() =&gt; { console.log(&apos;promise 5&apos;) }) .then(() =&gt; { console.log(&apos;promise 6&apos;) }) .then(() =&gt; { clearInterval(interval) }) }, 0) }) }, 0) Promise.resolve() .then(() =&gt; { console.log(&apos;promise 1&apos;) }) .then(() =&gt; { console.log(&apos;promise 2&apos;) }) ÁêÜËß£‰∫ÜnodeÁöÑ‰∫ã‰ª∂Âæ™ÁéØËøòÊòØÊØîËæÉÂÆπÊòìÂæóÂá∫Á≠îÊ°àÁöÑÔºö start promise 1 promise 2 setInterval setTimeout 1 promise 3 promise 4 setInterval setTimeout 2 promise 5 promise 6 Ê†πÊçÆ WHATVG ÁöÑËØ¥ÊòéÔºåÂú®‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÁöÑÂë®Êúü(cycle)‰∏≠‰∏Ä‰∏™ (macro)task Â∫îËØ•‰ªé macrotask ÈòüÂàóÂºÄÂßãÊâßË°å„ÄÇÂΩìËøô‰∏™ macrotask ÁªìÊùüÂêéÔºåÊâÄÊúâÁöÑ microtasks Â∞ÜÂú®Âêå‰∏Ä‰∏™ cycle ‰∏≠ÊâßË°å„ÄÇÂú® microtasks ÊâßË°åÊó∂ËøòÂèØ‰ª•Âä†ÂÖ•Êõ¥Â§öÁöÑ microtaskÔºåÁÑ∂Âêé‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÊâßË°åÔºåÁõ¥Âà∞ microtask ÈòüÂàóÊ∏ÖÁ©∫„ÄÇ ËßÑËåÉÁêÜËß£Ëµ∑Êù•ÊúâÁÇπÊô¶Ê∂©ÔºåÊù•Áúã‰∏ã‰∏äÈù¢ÁöÑ‰æãÂ≠ê Cycle 11)setInterval Ë¢´Âàó‰∏∫ task 2)setTimeout 1 Ë¢´Âàó‰∏∫ task 3)Promise.resolve 1 ‰∏≠‰∏§‰∏™ then Ë¢´Âàó‰∏∫ microtask 4) stack Ê∏ÖÁ©∫ microtasks ÊâßË°å ‰ªªÂä°ÈòüÂàóÔºö setInterval`setTimeout 1` Cycle 25) microtasks ÈòüÂàóÊ∏ÖÁ©∫ setInteval ÁöÑÂõûË∞ÉÂèØ‰ª•ÊâßË°å„ÄÇÂè¶‰∏Ä‰∏™ setInterval Ë¢´Âàó‰∏∫ task , ‰Ωç‰∫é setTimeout 1ÂêéÈù¢ ‰ªªÂä°ÈòüÂàóÔºö setTimeout 1`setInterval` Cycle 36) microtask ÈòüÂàóÊ∏ÖÁ©∫ÔºåsetTimeout 1 ÁöÑÂõûË∞ÉÂèØ‰ª•ÊâßË°åÔºåpromise 3 Âíå promise 4 Ë¢´Âàó‰∏∫ microtasks 7)promise 3 Âíå promise 4 ÊâßË°å„ÄÇ setTimeout 2 Ë¢´Âàó‰∏∫ task ‰ªªÂä°ÈòüÂàó setInterval`setTimeout 2` Cycle 48) microtask ÈòüÂàóÊ∏ÖÁ©∫ setInteval ÁöÑÂõûË∞ÉÂèØ‰ª•ÊâßË°å„ÄÇÁÑ∂ÂêéÂè¶‰∏Ä‰∏™ setInterval Ë¢´Âàó‰∏∫ task Ôºå‰Ωç‰∫é setTimeout 2 ÂêéÈù¢ ‰ªªÂä°ÈòüÂàóÔºö setTimeout 2`setInterval` 9)setTimeout 2 ÁöÑÂõûË∞ÉÊâßË°åÔºå promise 5 Âíå promise 6 Ë¢´Âàó‰∏∫ microtasks Áé∞Âú® promise 5 Âíå promise 6 ÁöÑÂõûË∞ÉÂ∫îËØ•ÊâßË°åÔºåÂπ∂‰∏î clear Êéâ interval„ÄÇ ‰ΩÜÊúâÁöÑÊó∂ÂÄô‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πà setInterval Ëøò‰ºöÂú®ÊâßË°å‰∏ÄÈÅçÔºåÂèòÊàê‰∏ãÈù¢ÁªìÊûú ... setTimeout 2 setInterval promise 5 promise 6 ‰ΩÜÊòØÊää‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊîæÂÖ• chrome console ‰∏≠ÊâßË°åÂç¥Ê≤°ÊúâÈóÆÈ¢ò„ÄÇËøô‰∏ÄÁÇπËøòË¶ÅÂÜçÊ†πÊçÆ‰∏çÂêåÁöÑ nodeÁâàÊú¨ Êü•‰∏Ä‰∏ã„ÄÇ ÂÖ≥‰∫é macrotask Âíå microtaskÁî®‰æãÂ≠êÁÆÄÂçïÁêÜËß£‰∫Ü‰∏ã macrotask Âíå microtask ËøôÈáåÂÜçËØ¶ÁªÜÁöÑÊÄªÁªì‰∏ã‰∏§ËÄÖÁöÑÂå∫Âà´Âíå‰ΩøÁî® ÁÆÄ‰ªã‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ(EventLoop)‰∏≠‰ºöÊúâ‰∏Ä‰∏™Ê≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°(Task)ÔºåËÄåËøô‰∏™‰ªªÂä°Â∞±ÊòØ‰ªé macrotask ÈòüÂàó‰∏≠Êù•ÁöÑ„ÄÇÂú®whatwgËßÑËåÉ‰∏≠Êúâ queue Â∞±ÊòØ‰ªªÂä°ÈòüÂàó„ÄÇÂΩìËøô‰∏™ macrotask ÊâßË°åÁªìÊùüÂêéÊâÄÊúâÂèØÁî®ÁöÑ microtask Â∞Ü‰ºöÂú®Âêå‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ‰∏≠ÊâßË°åÔºåÂΩìËøô‰∫õ microtask ÊâßË°åÁªìÊùüÂêéËøòËÉΩÁªßÁª≠Ê∑ªÂä† microtask ‰∏ÄÁõ¥Âà∞Áúü‰∏™ microtask ÈòüÂàóÊâßË°åÁªìÊùü„ÄÇ ÊÄé‰πàÁî®Âü∫Êú¨Êù•ËØ¥ÔºåÂΩìÊàë‰ª¨ÊÉ≥‰ª•ÂêåÊ≠•ÁöÑÊñπÂºèÊù•Â§ÑÁêÜÂºÇÊ≠•‰ªªÂä°Êó∂ÂÄôÂ∞±Áî® microtaskÔºàÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÁõ¥Êé•Âú®ÊüêÊÆµ‰ª£Á†ÅÂêéÂ∞±ÂéªÊâßË°åÊüê‰∏™‰ªªÂä°ÔºåÂ∞±ÂÉèPromise‰∏ÄÊ†∑Ôºâ„ÄÇ ÂÖ∂‰ªñÊÉÖÂÜµÂ∞±Áõ¥Êé•Áî® macrotask„ÄÇ ‰∏§ËÄÖÁöÑÂÖ∑‰ΩìÂÆûÁé∞ macrotasks: setTimeout setInterval setImmediate I/O UIÊ∏≤Êüì microtasks: Promise process.nextTick Object.observe MutationObserver ‰ªéËßÑËåÉ‰∏≠ÁêÜËß£whatwgËßÑËåÉÔºöhttps://html.spec.whatwg.org/multipage/webappapis.html#task-queue ‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ(event loop)‰ºöÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰ªªÂä°ÈòüÂàó(task queue) task queue Â∞±ÊòØ macrotask queue ÊØè‰∏Ä‰∏™ event loop ÈÉΩÊúâ‰∏Ä‰∏™ microtask queue task queue == macrotask queue != microtask queue ‰∏Ä‰∏™‰ªªÂä° task ÂèØ‰ª•ÊîæÂÖ• macrotask queue ‰πüÂèØ‰ª•ÊîæÂÖ• microtask queue ‰∏≠ ÂΩì‰∏Ä‰∏™ task Ë¢´ÊîæÂÖ•ÈòüÂàó queue(macroÊàñmicro) ÈÇ£Ëøô‰∏™ task Â∞±ÂèØ‰ª•Ë¢´Á´ãÂç≥ÊâßË°å‰∫Ü ÂÜçÊù•ÂõûÈ°æ‰∏ã‰∫ã‰ª∂Âæ™ÁéØÂ¶Ç‰ΩïÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÁöÑÊµÅÁ®ã ÂΩìÊâßË°åÊ†à(call stack)‰∏∫Á©∫ÁöÑÊó∂ÂÄôÔºåÂºÄÂßã‰æùÊ¨°ÊâßË°åÔºö ÊääÊúÄÊó©ÁöÑ‰ªªÂä°(task A)ÊîæÂÖ•‰ªªÂä°ÈòüÂàó Â¶ÇÊûú task A ‰∏∫null (ÈÇ£‰ªªÂä°ÈòüÂàóÂ∞±ÊòØÁ©∫)ÔºåÁõ¥Êé•Ë∑≥Âà∞Á¨¨6Ê≠• Â∞Ü currently running task ËÆæÁΩÆ‰∏∫ task A ÊâßË°å task A (‰πüÂ∞±ÊòØÊâßË°åÂõûË∞ÉÂáΩÊï∞) Â∞Ü currently running task ËÆæÁΩÆ‰∏∫ null Âπ∂ÁßªÂá∫ task A ÊâßË°å microtask ÈòüÂàó a: Âú® microtask ‰∏≠ÈÄâÂá∫ÊúÄÊó©ÁöÑ‰ªªÂä° task X b: Â¶ÇÊûú task X ‰∏∫null (ÈÇ£ microtask ÈòüÂàóÂ∞±ÊòØÁ©∫)ÔºåÁõ¥Êé•Ë∑≥Âà∞ g c: Â∞Ü currently running task ËÆæÁΩÆ‰∏∫ task X d: ÊâßË°å task X e: Â∞Ü currently running task ËÆæÁΩÆ‰∏∫ null Âπ∂ÁßªÂá∫ task X f: Âú® microtask ‰∏≠ÈÄâÂá∫ÊúÄÊó©ÁöÑ‰ªªÂä° , Ë∑≥Âà∞ b g: ÁªìÊùü microtask ÈòüÂàó Ë∑≥Âà∞Á¨¨‰∏ÄÊ≠• ‰∏äÈù¢Â∞±ÁÆóÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ event-loop ÊâßË°åÊ®°Âûã ÂÜçÁÆÄÂçïÁÇπÂèØ‰ª•ÊÄªÁªì‰∏∫Ôºö Âú® macrotask ÈòüÂàó‰∏≠ÊâßË°åÊúÄÊó©ÁöÑÈÇ£‰∏™ task ÔºåÁÑ∂ÂêéÁßªÂá∫ ÊâßË°å microtask ÈòüÂàó‰∏≠ÊâÄÊúâÂèØÁî®ÁöÑ‰ªªÂä°ÔºåÁÑ∂ÂêéÁßªÂá∫ ‰∏ã‰∏Ä‰∏™Âæ™ÁéØÔºåÊâßË°å‰∏ã‰∏Ä‰∏™ macrotask ‰∏≠ÁöÑ‰ªªÂä° (ÂÜçË∑≥Âà∞Á¨¨2Ê≠•) ÂÖ∂‰ªñ ÂΩì‰∏Ä‰∏™task(Âú® macrotask ÈòüÂàó‰∏≠)Ê≠£Â§Ñ‰∫éÊâßË°åÁä∂ÊÄÅÔºå‰πüÂèØËÉΩ‰ºöÊúâÊñ∞ÁöÑ‰∫ã‰ª∂Ë¢´Ê≥®ÂÜåÔºåÈÇ£Â∞±‰ºöÊúâÊñ∞ÁöÑ task Ë¢´ÂàõÂª∫„ÄÇÊØîÂ¶Ç‰∏ãÈù¢‰∏§‰∏™ promiseA.then() ÁöÑÂõûË∞ÉÂ∞±ÊòØ‰∏Ä‰∏™ task promiseA ÊòØ resolvedÊàñrejected: ÈÇ£Ëøô‰∏™ task Â∞±‰ºöÊîæÂÖ•ÂΩìÂâç‰∫ã‰ª∂Âæ™ÁéØÂõûÂêàÁöÑ microtask queue promiseA ÊòØ pending: Ëøô‰∏™ task Â∞±‰ºöÊîæÂÖ• ‰∫ã‰ª∂Âæ™ÁéØÁöÑÊú™Êù•ÁöÑÊüê‰∏™(ÂèØËÉΩ‰∏ã‰∏Ä‰∏™)ÂõûÂêàÁöÑ microtask queue ‰∏≠ setTimeout ÁöÑÂõûË∞É‰πüÊòØ‰∏™ task ÔºåÂÆÉ‰ºöË¢´ÊîæÂÖ• macrotask queue Âç≥‰ΩøÊòØ 0ms ÁöÑÊÉÖÂÜµ microtask queue ‰∏≠ÁöÑ task ‰ºöÂú®‰∫ã‰ª∂Âæ™ÁéØÁöÑÂΩìÂâçÂõûÂêà‰∏≠ÊâßË°åÔºåÂõ†Ê≠§ macrotask queue ‰∏≠ÁöÑ task Â∞±Âè™ËÉΩÁ≠âÂà∞‰∫ã‰ª∂Âæ™ÁéØÁöÑ‰∏ã‰∏Ä‰∏™ÂõûÂêà‰∏≠ÊâßË°å‰∫Ü click ajax setTimeout ÁöÑÂõûË∞ÉÊòØÈÉΩÊòØ task, ÂêåÊó∂ÔºåÂåÖË£πÂú®‰∏Ä‰∏™ script Ê†áÁ≠æ‰∏≠ÁöÑjs‰ª£Á†Å‰πüÊòØ‰∏Ä‰∏™ task Á°ÆÂàáËØ¥ÊòØ macrotask„ÄÇ ‰∏§ËÄÖÁöÑÂÖ∑‰ΩìÂÆûÁé∞ macrotasks: setTimeout ÔºåsetIntervalÔºå setImmediateÔºå I/O ÔºåUIÊ∏≤ÊüìÔºårequestAnimationFrame microtasks: PromiseÔºå process.nextTickÔºå Object.observeÔºå MutationObserver ÂÜçÁÆÄÂçïÁÇπÂèØ‰ª•ÊÄªÁªì‰∏∫Ôºö Âú® macrotask ÈòüÂàó‰∏≠ÊâßË°åÊúÄÊó©ÁöÑÈÇ£‰∏™ task ÔºåÁÑ∂ÂêéÁßªÂá∫ ÂÜçÊâßË°å microtask ÈòüÂàó‰∏≠ÊâÄÊúâÂèØÁî®ÁöÑ‰ªªÂä°ÔºåÁÑ∂ÂêéÁßªÂá∫ ‰∏ã‰∏Ä‰∏™Âæ™ÁéØÔºåÊâßË°å‰∏ã‰∏Ä‰∏™ macrotask ‰∏≠ÁöÑ‰ªªÂä° (ÂÜçË∑≥Âà∞Á¨¨2Ê≠•) ËøôÈáåËß£Èáä‰∏Ä‰∏ãÔºå‰∏ÄÂÖ±ÊúâPromise„ÄÅMutationObserver‰ª•ÂèäsetTimeout‰∏âÁßçÂ∞ùËØïÂæóÂà∞timerFuncÁöÑÊñπÊ≥ï„ÄÇ‰ºòÂÖà‰ΩøÁî®PromiseÔºåÂú®Promise‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®MutationObserverÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÁöÑÂõûË∞ÉÂáΩÊï∞ÈÉΩ‰ºöÂú®microtask‰∏≠ÊâßË°åÔºåÂÆÉ‰ª¨‰ºöÊØîsetTimeoutÊõ¥Êó©ÊâßË°åÔºåÊâÄ‰ª•‰ºòÂÖà‰ΩøÁî®„ÄÇÂ¶ÇÊûú‰∏äËø∞‰∏§ÁßçÊñπÊ≥ïÈÉΩ‰∏çÊîØÊåÅÁöÑÁéØÂ¢ÉÂàô‰ºö‰ΩøÁî®setTimeoutÔºåÂú®taskÂ∞æÈÉ®Êé®ÂÖ•Ëøô‰∏™ÂáΩÊï∞ÔºåÁ≠âÂæÖË∞ÉÁî®ÊâßË°å„ÄÇ ‰∏∫‰ªÄ‰πàË¶Å‰ºòÂÖà‰ΩøÁî®microtaskÔºüÊàëÂú®È°æËΩ∂ÁÅµÂú®Áü•‰πéÁöÑÂõûÁ≠î‰∏≠Â≠¶‰π†Âà∞Ôºö JS ÁöÑ event loop ÊâßË°åÊó∂‰ºöÂå∫ÂàÜ task Âíå microtaskÔºåÂºïÊìéÂú®ÊØè‰∏™ task ÊâßË°åÂÆåÊØïÔºå‰ªéÈòüÂàó‰∏≠Âèñ‰∏ã‰∏Ä‰∏™ task Êù•ÊâßË°å‰πãÂâçÔºå‰ºöÂÖàÊâßË°åÂÆåÊâÄÊúâ microtask ÈòüÂàó‰∏≠ÁöÑ microtask„ÄÇsetTimeout ÂõûË∞É‰ºöË¢´ÂàÜÈÖçÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ task ‰∏≠ÊâßË°åÔºåËÄå Promise ÁöÑ resolver„ÄÅ MutationObserver ÁöÑÂõûË∞ÉÈÉΩ‰ºöË¢´ÂÆâÊéíÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ microtask ‰∏≠ÊâßË°åÔºå‰ºöÊØî setTimeout ‰∫ßÁîüÁöÑ task ÂÖàÊâßË°å„ÄÇË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ microtaskÔºå‰ºòÂÖà‰ΩøÁî® PromiseÔºåÂ¶ÇÊûúÊµèËßàÂô®‰∏çÊîØÊåÅÔºåÂÜçÂ∞ùËØï MutationObserver„ÄÇÂÆûÂú®‰∏çË°åÔºåÂè™ËÉΩÁî® setTimeout ÂàõÂª∫ task ‰∫Ü„ÄÇ‰∏∫Âï•Ë¶ÅÁî® microtaskÔºüÊ†πÊçÆ HTML StandardÔºåÂú®ÊØè‰∏™ task ËøêË°åÂÆå‰ª•ÂêéÔºåUI ÈÉΩ‰ºöÈáçÊ∏≤ÊüìÔºåÈÇ£‰πàÂú® microtask ‰∏≠Â∞±ÂÆåÊàêÊï∞ÊçÆÊõ¥Êñ∞ÔºåÂΩìÂâç task ÁªìÊùüÂ∞±ÂèØ‰ª•ÂæóÂà∞ÊúÄÊñ∞ÁöÑ UI ‰∫Ü„ÄÇÂèç‰πãÂ¶ÇÊûúÊñ∞Âª∫‰∏Ä‰∏™ task Êù•ÂÅöÊï∞ÊçÆÊõ¥Êñ∞ÔºåÈÇ£‰πàÊ∏≤ÊüìÂ∞±‰ºöËøõË°å‰∏§Ê¨°„ÄÇ È¶ñÂÖàÊòØPromiseÔºå(Promise.resolve()).then()ÂèØ‰ª•Âú®microtask‰∏≠Âä†ÂÖ•ÂÆÉÁöÑÂõûË∞ÉÔºå MutationObserverÊñ∞Âª∫‰∏Ä‰∏™textNodeÁöÑDOMÂØπË±°ÔºåÁî®MutationObserverÁªëÂÆöËØ•DOMÂπ∂ÊåáÂÆöÂõûË∞ÉÂáΩÊï∞ÔºåÂú®DOMÂèòÂåñÁöÑÊó∂ÂÄôÂàô‰ºöËß¶ÂèëÂõûË∞É,ËØ•ÂõûË∞É‰ºöËøõÂÖ•microtaskÔºåÂç≥textNode.data = String(counter)Êó∂‰æø‰ºöÂä†ÂÖ•ËØ•ÂõûË∞É„ÄÇ setTimeoutÊòØÊúÄÂêéÁöÑ‰∏ÄÁßçÂ§áÈÄâÊñπÊ°àÔºåÂπ∂‰∏îÈªòËÆ§Êúâ4msÂª∂Êó∂ÔºåsetTimeoutÂª∂Êó∂0‰∏ç‰ºöËÄÅËÄÅÂÆûÂÆûÁ´ãÂç≥ÊâßË°åÔºö setTimeout(function(){ console.log(&quot;Êàë‰∏çÊòØÁ´ãÂç≥ÊâßË°åÁöÑ,‰∏ÄËà¨Êàë‰ºöÂª∂Êó∂4ms,ÂìàÂìà&quot;); },0); ÂÆÉ‰ºöÂ∞ÜÂõûË∞ÉÂáΩÊï∞Âä†ÂÖ•task‰∏≠ÔºåÁ≠âÂà∞ÊâßË°å„ÄÇ setTimeout(function(){console.log(4)},0); new Promise(function(resolve){ console.log(1) for( var i=0 ; i&lt;10000 ; i++ ){ i==9999 &amp;&amp; resolve() } console.log(2) }).then(function(){ console.log(5) }); console.log(3); ÁªìÊûúÊòØÔºö 1,2,3,5,4 ÂÜçÁúãËøô‰∏™Ôºå‰∏§‰∏™Ëá™ÊâßË°åÂêåÊó∂ÊâßË°åÔºö &lt;script&gt; (function test() { setTimeout(function () { console.log(4) }, 0); new Promise(function executor (resolve) { console.log(1); for(var i = 0; i &lt; 10000; i++) { i == 9999 &amp;&amp; resolve(); } console.log(2); }).then(function() { console.log(5); }); console.log(3); })() (function test2() { setTimeout(function () { console.log(42) }, 0); new Promise(function executor (resolve) { console.log(12); for(var i = 0; i &lt; 10000; i++) { i == 9999 &amp;&amp; resolve(); } console.log(22); }).then(function() { console.log(52); }); console.log(32); })() &lt;/script&gt; Êï¥‰∏™ÊâßË°åËøáÁ®ãÊòØ‰∏Ä‰∏™ main thread „Äê‰∏ªÁ∫øÁ®ã„Äë Ôºå‰ΩÜÂπ∂‰∏çÊÑèÂë≥ÁùÄÂÖàÊâßË°åÁ¨¨‰∏Ä‰∏™Ëá™ÊâßË°åÂêéÂÜçÊâßË°åÁ¨¨‰∫å‰∏™ÔºåÂõ†‰∏∫‰∏§‰∏™Ëá™ÊâßË°å‰∏≠ÁöÑsetTimeoutËøõÂÖ•ÁöÑÊòØÂêå‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ‰∏≠Á≠âÂæÖÔºåÂõ†Ê≠§‰ªñ‰ø©Âú®ÊúÄÂêéÂàÜÂà´ËæìÂá∫‰∫Ü‰∫Ü 4 Âíå 42„ÄÇ ÂΩì‰∏Ä‰∏™Á®ãÂ∫èÊúâÔºösetTimeoutÔºå setInterval ÔºåsetImmediateÔºå I/OÔºå UIÊ∏≤ÊüìÔºåPromise Ôºåprocess.nextTickÔºå Object.observeÔºå MutationObserverÁöÑÊó∂ÂÄôÔºö 1.ÂÖàÊâßË°å macrotasksÔºöI/O -„Äã UIÊ∏≤Êüì 2.ÂÜçÊâßË°å microtasks Ôºöprocess.nextTick -„Äã Promise -„ÄãMutationObserver -&gt;Object.observe 3.ÂÜçÊääsetTimeout setInterval setImmediate Â°ûÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑmacrotasksÔºå‰æùÊ¨°Ôºö setTimeout ÔºåsetInterval ‚Äì„ÄãsetImmediate Áªº‰∏äÔºånextTickÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∫ßÁîü‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Âä†ÂÖ•taskÊàñËÄÖmicrotask‰∏≠ÔºåÂΩìÂâçÊ†àÊâßË°åÂÆå‰ª•ÂêéÔºàÂèØËÉΩ‰∏≠Èó¥ËøòÊúâÂà´ÁöÑÊéíÂú®ÂâçÈù¢ÁöÑÂáΩÊï∞ÔºâË∞ÉÁî®ËØ•ÂõûË∞ÉÂáΩÊï∞ÔºåËµ∑Âà∞‰∫ÜÂºÇÊ≠•Ëß¶ÂèëÔºàÂç≥‰∏ã‰∏Ä‰∏™tickÊó∂Ëß¶ÂèëÔºâÁöÑÁõÆÁöÑ„ÄÇ setImmediate(function(){ console.log(1); },0); setTimeout(function(){ console.log(2); },0); new Promise(function(resolve){ console.log(3); resolve(); console.log(4); }).then(function(){ console.log(5); }); console.log(6); process.nextTick(function(){ console.log(7); }); console.log(8); ÁªìÊûúÊòØÔºö3 4 6 8 7 5 2 1]]></content>
      <tags>
        <tag>‰∫ã‰ª∂Âæ™ÁéØ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£ES6 Async Functions (ÂºÇÊ≠•ÂáΩÊï∞)]]></title>
    <url>%2F2018%2F05%2F30%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6%20%20Async%20Functions%2F</url>
    <content type="text"><![CDATA[Ê¶ÇËø∞async(ÂºÇÊ≠•) ÂáΩÊï∞Âèò‰Ωì‰ª•‰∏ãÊòØÂ∑≤ÁªèÂ≠òÂú®ÁöÑÂºÇÊ≠•ÂáΩÊï∞Âèò‰Ωì„ÄÇËØ∑Ê≥®ÊÑèÊó†Â§Ñ‰∏çÂú®ÁöÑ async ÂÖ≥ÈîÆÂ≠ó„ÄÇ ÂºÇÊ≠•ÂáΩÊï∞Â£∞ÊòéÔºö async function foo() {} ÂºÇÊ≠•ÂáΩÊï∞Ë°®ËææÂºèÔºö const foo = async function () {}; ÂºÇÊ≠•ÂáΩÊï∞ÂÆö‰πâÔºölet obj = { async foo() {} } ÂºÇÊ≠•ÁÆ≠Â§¥ÂáΩÊï∞Ôºö const foo = async () =&gt; {}; async(ÂºÇÊ≠•) ÂáΩÊï∞ÊÄªÊòØËøîÂõû Promisesasync(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑ Promise ÂÆåÊàêÁä∂ÊÄÅÔºö async function asyncFunc() { return 123; } asyncFunc() .then(x =&gt; console.log(x)); // 123 async(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑ Promise ÊãíÁªùÁä∂ÊÄÅÔºö async function asyncFunc() { throw new Error(&apos;Problem!&apos;); } asyncFunc() .catch(err =&gt; console.log(err)); // Error: Problem! ÈÄöËøá await Â§ÑÁêÜ async(ÂºÇÊ≠•) ËÆ°ÁÆóÁöÑÁªìÊûúÂíåÈîôËØØawaitÔºàÂè™ÂÖÅËÆ∏Âú® async(ÂºÇÊ≠•) ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®ÔºâÁ≠âÂæÖÂÖ∂Êìç‰ΩúÂØπË±° Promise ËøîÂõûÔºö Â¶ÇÊûú Promise ÊòØÂÆåÊàêÁä∂ÊÄÅÔºåawait ÁöÑÁªìÊûúÊòØÂÆåÊàêÊÄÅÁöÑÂÄº„ÄÇ Â¶ÇÊûú Promise ÊòØÊãíÁªùÁä∂ÊÄÅÔºåawait ‰ºöÊäõÂá∫ÊãíÁªùÂÄº„ÄÇ Â§ÑÁêÜÂçï‰∏™ async(ÂºÇÊ≠•) ËøîÂõûÂÄºÔºö async function asyncFunc() { const result = await otherAsyncFunc(); console.log(result); } // Á≠â‰ª∑‰∫é: function asyncFunc() { return otherAsyncFunc() .then(result =&gt; { console.log(result); }); } ÊåâÈ°∫Â∫èÂ§ÑÁêÜÂ§ö‰∏™ async(ÂºÇÊ≠•) ËøîÂõûÂÄºÔºö async function asyncFunc() { const result1 = await otherAsyncFunc1(); console.log(result1); const result2 = await otherAsyncFunc2(); console.log(result2); } // Á≠â‰ª∑‰∫é: function asyncFunc() { return otherAsyncFunc1() .then(result1 =&gt; { console.log(result1); return otherAsyncFunc2(); }) .then(result2 =&gt; { console.log(result2); }); } Âπ∂Ë°åÂ§ÑÁêÜÂ§ö‰∏™ async(ÂºÇÊ≠•) ËøîÂõûÂÄºÔºö async function asyncFunc() { const [result1, result2] = await Promise.all([ otherAsyncFunc1(), otherAsyncFunc2(), ]); console.log(result1, result2); } // Á≠â‰ª∑‰∫é: function asyncFunc() { return Promise.all([ otherAsyncFunc1(), otherAsyncFunc2(), ]) .then([result1, result2] =&gt; { console.log(result1, result2); }); } ÈîôËØØÂ§ÑÁêÜÔºö async function asyncFunc() { try { await otherAsyncFunc(); } catch (err) { console.error(err); } } // Á≠â‰ª∑‰∫é: function asyncFunc() { return otherAsyncFunc() .catch(err =&gt; { console.error(err); }); } ÁêÜËß£ async(ÂºÇÊ≠•) ÂáΩÊï∞Âú®ÊàëËß£Èáä async(ÂºÇÊ≠•) ÂáΩÊï∞‰πãÂâçÔºåÊàëÈúÄË¶ÅËß£Èáä‰∏Ä‰∏ãÂ¶Ç‰ΩïÁªÑÂêà‰ΩøÁî® Promises Âíå Generator ÔºåÈÄöËøáÁúãËµ∑Êù•ÂêåÊ≠•ÁöÑ‰ª£Á†ÅÊù•ÊâßË°å async(ÂºÇÊ≠•) Êìç‰Ωú„ÄÇ ÂØπ‰∫éËÉΩÂ§ü async(ÂºÇÊ≠•) ËÆ°ÁÆóÂÖ∂‰∏ÄÊ¨°ÊÄßÁªìÊûúÁöÑÂáΩÊï∞Ôºå‰Ωú‰∏∫ ES6 ‰∏ÄÈÉ®ÂàÜÁöÑ Promises Â∑≤ÁªèÂèòÂæóÊµÅË°åËµ∑Êù•„ÄÇ‰∏Ä‰∏™‰æãÂ≠êÊòØ ÂÆ¢Êà∑Á´Ø fetch API ÔºåÂÆÉÊòØ XMLHttpRequest Ëé∑ÂèñÊï∞ÊçÆÁöÑÊõø‰ª£ÊñπÊ≥ï„ÄÇ‰ΩøÁî®Á§∫‰æãÂ¶Ç‰∏ãÔºö function fetchJson(url) { return fetch(url) .then(request =&gt; request.text()) .then(text =&gt; { return JSON.parse(text); }) .catch(error =&gt; { console.log(`ERROR: ${error.stack}`); }); } fetchJson(&apos;http://example.com/some_file.json&apos;) .then(obj =&gt; console.log(obj)); ÈÄöËøá generator Êù•ÁºñÂÜôÂºÇÊ≠•‰ª£Á†Åco ÊòØ‰∏Ä‰∏™‰ΩøÁî® Promise Âíå generator Êù•ÂÆûÁé∞Áúã‰ººÂêåÊ≠•ÁºñÁ†ÅÁöÑÂ∫ìÔºå‰ΩÜ‰∏é‰∏ä‰∏ÄÁ§∫‰æã‰∏≠‰ΩøÁî®ÁöÑÊ†∑ÂºèÁõ∏ÂêåÔºö const fetchJson = co.wrap(function* (url) { try { let request = yield fetch(url); let text = yield request.text(); return JSON.parse(text); } catch (error) { console.log(`ERROR: ${error.stack}`); } }); ÊØèÊ¨°ÂõûË∞ÉÂáΩÊï∞Ôºà generator ÂáΩÊï∞Ôºâ‰∫ßÁîü‰∏Ä‰∏™ Promise ÂØπË±°Áªô co ÔºåÂõûË∞É‰ºöË¢´ÊöÇÂÅúÔºåÂè™ÊúâÂΩì Promise ÊâßË°åÂÆåÊàêÂêéÔºåco Êâç‰ºöÁªßÁª≠ÊâßË°åÂõûË∞É „ÄÇ Â¶ÇÊûú Promise Â§Ñ‰∫éÂÆåÊàêÁä∂ÊÄÅÔºåyield ËøîÂõûÂÆåÊàêÁä∂ÊÄÅÁöÑÂÄºÔºåÂ¶ÇÊûúÂ§Ñ‰∫éÊãíÁªùÁä∂ÊÄÅÔºåyield ÊäõÂá∫ÊãíÁªùÁä∂ÊÄÅÁöÑÈîôËØØ„ÄÇÊ≠§Â§ñÔºåco ‰øùËØÅÁªìÊûúÊòØÈÄöËøáÂõûË∞ÉÊâßË°åÂÆåÊàêÊâçËøîÂõûÁöÑÔºàÁ±ª‰ºº‰∫é then() ÊâÄÂÅöÁöÑÂ∑•‰ΩúÔºâ„ÄÇ ÈÄöËøá async(ÂºÇÊ≠•) ÂáΩÊï∞Êù•ÁºñÂÜôÂºÇÊ≠•‰ª£Á†Åasync(ÂºÇÊ≠•) ÂáΩÊï∞Áî®ÁöÑÁâπÂÆöËØ≠Ê≥ïÂü∫Êú¨‰∏äÂíå co Á±ª‰ººÔºö async function fetchJson(url) { try { let request = await fetch(url); let text = await request.text(); return JSON.parse(text); } catch (error) { console.log(`ERROR: ${error.stack}`); } } Âú®ÂÜÖÈÉ®ÔºåÂºÇÊ≠•ÂáΩÊï∞ÂÜôÊ≥ïÊõ¥Á±ª‰ºº‰∫é generators „ÄÇ ‰ª•ÂêåÊ≠•ÂºÄÂßãÔºåÂºÇÊ≠•Â§ÑÁêÜÁöÑ async(ÂºÇÊ≠•) ÂáΩÊï∞‰ª•‰∏ãÊòØ async(ÂºÇÊ≠•)ÂáΩÊï∞ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºö async(ÂºÇÊ≠•) ÂáΩÊï∞ÊÄªÊòØËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±° p „ÄÇPromise ÂØπË±°Âú® async(ÂºÇÊ≠•) ÂáΩÊï∞ÂºÄÂßãÊâßË°åÊó∂Ë¢´ÂàõÂª∫„ÄÇ ÂáΩÊï∞‰ΩìÊâßË°åËøáÁ®ã‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá return Êàñ throw ÁªàÊ≠¢ÊâßË°å„ÄÇÊàñËÄÖÈÄöËøá await ÊöÇÂÅúÊâßË°åÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈÄöÂ∏∏‰ºöÂú®‰ª•ÂêéÁªßÁª≠ÊâßË°å„ÄÇ ËøîÂõû Promise ÂØπË±° p„ÄÇ ÂΩìÊâßË°å async(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑÂáΩÊï∞‰ΩìÊó∂Ôºåreturn x ‰∏≠ÁöÑ x ÊòØ Promise ÂØπË±° p ÁöÑÂÆåÊàêÁä∂ÊÄÅÁöÑÁªìÊûúÔºåËÄå throw err ÊòØ p ÁöÑÊãíÁªùÁä∂ÊÄÅÁöÑÁªìÊûú„ÄÇÊâßË°åÁªìÊûúÊòØÂºÇÊ≠•ËøîÂõûÁöÑ„ÄÇÊç¢Âè•ËØùËØ¥Ôºöthen() Âíå catch() ÁöÑÂõûË∞ÉÊÄªÊòØÂú®ÂΩìÂâç‰ª£Á†ÅÂÆåÊàêÂêéÊâßË°å„ÄÇ ‰ª•‰∏ãÊòØ‰ª£Á†ÅÁ§∫‰æãÔºö async function asyncFunc() { console.log(&apos;asyncFunc()&apos;); // (A) return &apos;abc&apos;; } asyncFunc(). then(x =&gt; console.log(`Resolved: ${x}`)); // (B) console.log(&apos;main&apos;); // (C) // Output: // asyncFunc() // main // Resolved: abc ÊÇ®ÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰ª•‰∏ãÁöÑÊâßË°åÈ°∫Â∫èÔºö Ë°åAÔºöasync(ÂºÇÊ≠•) ÂáΩÊï∞‰ª•ÂêåÊ≠•ÂºÄÂßã„ÄÇasync(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑ Promise ÈÄöËøá return Êù•ËøîÂõûÂÆåÊàêÁä∂ÊÄÅÁöÑÁªìÊûú„ÄÇ Ë°åCÔºöÊâßË°åÁªßÁª≠„ÄÇ Ë°åBÔºöPromise ÂÆåÊàêÁä∂ÊÄÅÈÄöÁü•ÊòØÂºÇÊ≠•ÂèëÁîüÁöÑ„ÄÇ ËøîÂõû‰∏çË¢´ÂåÖË£πÁöÑ Promise ÂØπË±°Promise ÁöÑ resolve ÊòØ‰∏ÄÈ°πÊ†áÂáÜÊìç‰Ωú„ÄÇ return Â∞±ÊòØ‰ΩøÁî®ÂÆÉÊù• resolve async(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑ Promise p ÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄÔºö ËøîÂõû‰∏Ä‰∏™Èùû Promise ÂÄºÔºåËØ•ÂÄºÂ∞ÜË¢´Â§ÑÁêÜÊàê p ÁöÑÂÆåÊàêÁä∂ÊÄÅÂÄº„ÄÇ ËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÈÇ£‰πà p Ê≠§Êó∂Áõ∏ÂΩì‰∫éÊòØËØ• Promise ÁöÑÁä∂ÊÄÅ„ÄÇ Âõ†Ê≠§ÔºåÊÇ®ÂèØ‰ª•ËøîÂõû‰∏Ä‰∏™ Promise ÔºåÂπ∂‰∏îËøô‰∏™ Promise ‰∏ç‰ºöÂåÖË£πÂú®Âà´ÁöÑ Promise ‰∏≠Ôºö async function asyncFunc() { return Promise.resolve(123); } asyncFunc() .then(x =&gt; console.log(x)) // 123 ÊúâË∂£ÁöÑÊòØÔºåËøîÂõû‰∏Ä‰∏™ÊãíÁªùÁä∂ÊÄÅÔºàrejectÔºâÁöÑ Promise ÂØπË±°‰ºöÂØºËá¥ async(ÂºÇÊ≠•) ÂáΩÊï∞Ë¢´ÊãíÁªùÔºàrejectÔºâÔºàÈÄöÂ∏∏ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® throw ÔºâÔºö async function asyncFunc() { return Promise.reject(new Error(&apos;Problem!&apos;)); } asyncFunc() .catch(err =&gt; console.error(err)); // Error: Problem! Ëøô‰∏é Promise Ëß£ÂÜ≥ÊñπÊ°àÁöÑÂ∑•‰ΩúÊñπÂºèÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ ‰Ωø‰Ω†ËÉΩÂ§üÂú®‰∏ç‰ΩøÁî® await ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî®ÂÖ∂‰ªñ async(ÂºÇÊ≠•) ËÆ°ÁÆóÊù•ÊâßË°åÂÆåÊàêÂíåÊãíÁªùÂ§ÑÁêÜÔºö async function asyncFunc() { return anotherAsyncFunc(); } ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁ§∫‰æãÂíå‰∏ãÈù¢ÁöÑÁ±ª‰ººÔºå‰ΩÜÊòØÊØî‰∏ãÈù¢ÁöÑÊõ¥È´òÊïà„ÄÇÔºà‰ª•‰∏ã‰ª£Á†ÅÁ§∫‰æãÊ≤°ÊúâÂåÖË£π anotherAsyncFunc() ÁöÑ Promise ÔºåËÄåÊòØÂåÖË£π anotherAsyncFunc() Êú¨Ë∫´ ÔºâÔºö async function asyncFunc() { return await anotherAsyncFunc(); } ‰ΩøÁî® await Â∞èË¥¥Â£´‰∏çË¶ÅÂøòËÆ∞‰ΩøÁî® awaitÂú® async(ÂºÇÊ≠•) ÂáΩÊï∞‰∏≠ÂÆπÊòìÁäØÁöÑ‰∏Ä‰∏™ÈîôËØØÂ∞±ÊòØÂú®Ë∞ÉÁî® async(ÂºÇÊ≠•) ÂáΩÊï∞Êó∂ÂøòËÆ∞‰ΩøÁî® await Ôºö async function asyncFunc() { const value = otherAsyncFunc(); // missing `await`! ¬∑¬∑¬∑ } Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊñπÊ≥ïÊâßË°åËøîÂõûÁöÑ Promise ÂØπË±°ËµãÂÄºÁªô‰∫Ü value ÔºåÂÆÉÈÄöÂ∏∏‰∏çÊòØ‰Ω†Âú® async(ÂºÇÊ≠•) ÂáΩÊï∞‰∏≠ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ await ÁîöËá≥ÂèØ‰ª•Âú® async(ÂºÇÊ≠•) ÂáΩÊï∞‰∏çËøîÂõû‰ªª‰ΩïÂÄºÁöÑÊÉÖÂÜµ‰∏ãËµ∑‰ΩúÁî®„ÄÇÂÆÉÁöÑ Promise Âè™ÊòØÁî®Êù•ÂëäËØâË∞ÉÁî®ËÄÖÂÆåÊàêÁä∂ÊÄÅ„ÄÇ‰æãÂ¶ÇÔºö async function foo() { await step1(); // (A) ¬∑¬∑¬∑ } Ë°åA‰∏≠ÁöÑ await Á°Æ‰øùÂú®ÊâßË°å foo() Ââ©‰ΩôÈÉ®ÂàÜ‰πãÂâçÔºå step1() Â∑≤ÁªèÊâßË°åÂÆåÊàê„ÄÇ ‰∏çÈúÄË¶Å‰ΩøÁî® await ÁöÑÊÉÖÂÜµÊúâÊó∂Ôºå‰Ω†Âè™ÊÉ≥Ëß¶ÂèëÂºÇÊ≠•ËÆ°ÁÆóÔºåÂπ∂‰∏î‰∏çÈúÄË¶ÅÂÖ≥Ê≥®ÂÆÉ‰ªÄ‰πàÊó∂ÂÄôÂÆåÊàê„ÄÇ‰ª•‰∏ãÊòØ‰ª£Á†ÅÁ§∫‰æãÔºö async function asyncFunc() { const writer = openFile(&apos;someFile.txt&apos;); writer.write(&apos;hello&apos;); // don‚Äôt wait writer.write(&apos;world&apos;); // don‚Äôt wait await writer.close(); // wait for file to close } Âú®ËøôÈáåÔºåÊàë‰ª¨‰∏çÂÖ≥ÂøÉÂçï‰∏™ÁöÑÂÜôÂÖ•Êìç‰ΩúÊòØÂê¶ÂÆåÊàêÔºåÂè™ÈúÄË¶Å‰ªñ‰ª¨‰ª•Ê≠£Á°ÆÁöÑÈ°∫Â∫èÊâßË°å (APIÂøÖÈ°ª‰øùËØÅÔºå‰ΩÜËøôÊòØÁî± async(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑÊâßË°åÊ®°ÂûãÊâÄÈºìÂä±ÁöÑÔºåÊ≠£Â¶ÇÊàë‰ª¨ÊâÄËßÅ)„ÄÇ asyncFunc() ÂáΩÊï∞ÊúÄÂêé‰∏ÄË°åÁöÑ await Á°Æ‰øùËØ•ÂáΩÊï∞‰ªÖÂú®Êñá‰ª∂ÂÜôÂÖ•ÂÖ≥Èó≠ÂêéÊâç‰ºöÊâßË°å„ÄÇ Áî±‰∫éËøîÂõûÁöÑ Promises Ê≤°ÊúâË¢´ÂÖ∂‰ªñ async(ÂºÇÊ≠•) ÂáΩÊï∞ÂåÖË£πÔºåÊâÄ‰ª•‰Ω†ÂèØ‰ª•Áî® return ÊõøÊç¢ await writer.close() Ôºö async function asyncFunc() { const writer = openFile(&apos;someFile.txt&apos;); writer.write(&apos;hello&apos;); writer.write(&apos;world&apos;); return writer.close(); } Ëøô‰∏§‰∏™ÁâàÊú¨ÂêÑÊúâÂà©ÂºäÔºåawait ÁâàÊú¨ÂèØËÉΩÁ®çÂæÆÊõ¥ÂÆπÊòìÁêÜËß£„ÄÇ await ÊòØÈ°∫Â∫èÊâßË°åÁöÑÔºåPromise.all() ÊòØÂπ∂Ë°åÁöÑ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅË∞ÉÁî®‰∫Ü‰∏§‰∏™ async(ÂºÇÊ≠•) ÂáΩÊï∞Ôºå asyncFunc1() Âíå asyncFunc1() „ÄÇ async function foo() { const result1 = await asyncFunc1(); const result2 = await asyncFunc2(); } Ëøô‰∏§‰∏™ÂáΩÊï∞Ë∞ÉÁî®È°∫Â∫èÊâßË°å„ÄÇ‰ΩÜÊòØÂπ∂Ë°åÊâßË°åÂÆÉ‰ª¨ÂæÄÂæÄ‰ºöÂä†Âø´ÈÄüÂ∫¶„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî® Promise.all() Ôºö async function foo() { const [result1, result2] = await Promise.all([ asyncFunc1(), asyncFunc2(), ]); } Êàë‰ª¨Áé∞Âú®Ê≠£Âú®Á≠âÂæÖ‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÁöÑ Promise ÔºåËÄå‰∏çÊòØÁ≠âÂæÖ‰∏§‰∏™ Promise„ÄÇ ÂºÇÊ≠•ÂáΩÊï∞ÂíåÂõûË∞Éasync(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑ‰∏Ä‰∏™ÈôêÂà∂ÊòØ await(Á≠âÂæÖ) Âè™ÂΩ±ÂìçÁõ¥Êé•Áõ∏ÂÖ≥ÁöÑ async(ÂºÇÊ≠•) ÂáΩÊï∞„ÄÇÂõ†Ê≠§Ôºåasync(ÂºÇÊ≠•) ÂáΩÊï∞Êó†Ê≥ïÂú®ÂõûË∞ÉÔºà‰ΩÜÊòØÔºåÂõûË∞ÉÂèØ‰ª•ÊòØ async(ÂºÇÊ≠•) ÂáΩÊï∞Êú¨Ë∫´ÔºåÁ®çÂêéÊàë‰ª¨Â∞Ü‰ºöÁúãÂà∞Ôºâ‰∏≠‰ΩøÁî® await(Á≠âÂæÖ)„ÄÇËøô‰ΩøÂæóÂü∫‰∫éÂõûË∞ÉÁöÑÂÆûÁî®ÂáΩÊï∞ÂíåÊñπÊ≥ïÈöæ‰ª•‰ΩøÁî®„ÄÇ‰æãÂ≠ê‰∏≠Êàë‰ª¨Â∞Ü‰ΩøÁî®Êï∞ÁªÑÊñπÊ≥ï map() Âíå forEach()„ÄÇ Array.prototype.map()Êàë‰ª¨‰ªéÊï∞ÁªÑÊñπÊ≥ï map() ÂºÄÂßãËÆ≤Ëß£„ÄÇÂú®‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÁ§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÊÉ≥Ë¶ÅÂä†ËΩΩÁî± URLs Êï∞ÁªÑÊåáÂêëÁöÑÊñá‰ª∂ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËøîÂõûÂà∞Êï∞ÁªÑ‰∏≠„ÄÇ async function downloadContent(urls) { return urls.map(url =&gt; { // ÈîôËØØÁöÑËØ≠Ê≥ï! const content = await httpGet(url); return content; }); } Ëøô‰∏çËµ∑‰ΩúÁî®ÔºåÂõ†‰∏∫Âú®Ê≠£Â∏∏ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ await ËØ≠Ê≥ï‰∏äÊòØÈùûÊ≥ïÁöÑ(ÊÑö‰∫∫Á†ÅÂ§¥Ê≥®Ôºö await(Á≠âÂæÖ) Âè™ÂΩ±ÂìçÁõ¥Êé•Áõ∏ÂÖ≥ÁöÑ async(ÂºÇÊ≠•) ÂáΩÊï∞)„ÄÇÈÇ£‰πàÂ¶Ç‰Ωï‰ΩøÁî®ÂºÇÊ≠•ÁöÑÁÆ≠Â§¥ÂáΩÊï∞Âë¢Ôºü async function downloadContent(urls) { return urls.map(async (url) =&gt; { // Ê≥®ÊÑèËøô‰∏ÄË°å‰∏≠ÁöÑ async ; const content = await httpGet(url); return content; }); } ËøôÊÆµ‰ª£Á†ÅÊúâ‰∏§‰∏™ÈóÆÈ¢òÔºö Áé∞Âú®ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™ Promises ÂØπË±°ÁöÑÊï∞ÁªÑÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑ„ÄÇ ‰∏ÄÊó¶ map() ÊâßË°åÂÆåÊàêÔºåÂõûË∞ÉÊâßË°åÁöÑÂ∑•‰ΩúÂπ∂‰∏çËÉΩÂêåÊó∂ÂÆåÊàêÔºåÂõ†‰∏∫ await Âè™ÊöÇÂÅú‰∫ÜÂåÖË£πÂÆÉÁöÑÁÆ≠Â§¥ÂáΩÊï∞ Âíå httpGet() ÂºÇÊ≠•ÊâßË°åËææÂà∞ÂÆåÊàêÁä∂ÊÄÅ„ÄÇËøôÊÑèÂë≥ÁùÄ‰Ω†‰∏çËÉΩ‰ΩøÁî® awaitÔºåÊù•Á≠âÂæÖ downloadContent() ÊâßË°åÁªìÊùü„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá Promise.all() Êù•Ëß£ÂÜ≥Ëøô‰∏§‰∏™ÈóÆÈ¢òÔºåPromise.all() ÂèØ‰ª•Â∞Ü‰∏ÄÁ≥ªÂàóÁöÑ Promise ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ Promise Êï∞ÁªÑÔºàÊâÄÊúâÂÄºÈÉΩÊòØÁªèËøá Promise ÂÆåÊàêÂπ∂ËøîÂõûÔºâÔºö async function downloadContent(urls) { const promiseArray = urls.map(async (url) =&gt; { const content = await httpGet(url); return content; }); return await Promise.all(promiseArray); } map() ÁöÑÂõûË∞ÉÂπ∂‰∏çÂØπ httpGet() ÁöÑÁªìÊûúËµ∑‰ΩúÁî®ÔºåÂè™ÊòØËµ∑Âà∞‰∏çÊñ≠ÊâßË°åÁöÑ‰ΩúÁî®„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÊàë‰ª¨‰∏çÈúÄË¶Å‰∏Ä‰∏™ÂºÇÊ≠•ÁöÑÁÆ≠Â§¥ÂáΩÊï∞ÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™ÊôÆÈÄöÁöÑÁÆ≠Â§¥ÂáΩÊï∞Â∞±ËÉΩËææÂà∞Áõ∏ÂêåÁöÑÁªìÊûú„ÄÇ async function downloadContent(urls) { const promiseArray = urls.map( url =&gt; httpGet(url)); return await Promise.all(promiseArray); } Êàë‰ª¨‰ªçÁÑ∂ÂèØ‰ª•ÂÅö‰∏Ä‰∏™Â∞èÁöÑÊîπËøõÔºöËøô‰∏™ÂºÇÊ≠•ÂáΩÊï∞Á®çÂæÆÊúâÁÇπ‰ΩéÊïà ‚Äì È¶ñÂÖàÈÄöËøá await Êù•Ëß£ÂºÄ Promise.all() ÁöÑÁªìÊûúÔºåÁÑ∂ÂêéÈÄöËøá return ÂÜçÊ¨°ÂåÖË£πÂÆÉ„ÄÇ ÂÅáËÆæ return ‰∏çÂåÖË£π PromisesÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ËøîÂõû Promise.all() ÁöÑÁªìÊûúÔºö async function downloadContent(urls) { const promiseArray = urls.map( url =&gt; httpGet(url)); return Promise.all(promiseArray); } Array.prototype.forEach()Êàë‰ª¨‰ΩøÁî®Êï∞ÁªÑÁöÑ forEach() ÊñπÊ≥ïÂú®ÊéßÂà∂Âè∞‰∏≠ÊâìÂç∞Âá†‰∏™ÈÄöËøá URLs Âä†ËΩΩÁöÑÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºö async function logContent(urls) { urls.forEach(url =&gt; { // Wrong syntax const content = await httpGet(url); console.log(content); }); } ÂêåÊ†∑ÁöÑÔºåËøôÈáåÁöÑ‰ª£Á†Å‰ºö‰∫ßÁîü‰∏Ä‰∏™ËØ≠Ê≥ïÈîôËØØÔºåÂõ†‰∏∫‰Ω†‰∏çËÉΩÂú®ÈÄöÂ∏∏ÁöÑÁÆ≠Â§¥ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® await „ÄÇ Êàë‰ª¨Êç¢‰ΩúÂºÇÊ≠•ÁÆ≠Â§¥ÂáΩÊï∞Ôºö async function logContent(urls) { urls.forEach(async url =&gt; { const content = await httpGet(url); console.log(content); }); // Not finished here } ËøôÊÆµ‰ª£Á†ÅËµ∑‰ΩúÁî®‰∫ÜÔºå‰ΩÜÊòØ‰ºöÂá∫Áé∞‰∏Ä‰∏™Ë≠¶ÂëäÔºöhttpGet() ËøîÂõûÁöÑ Promise ÂØπË±°ÊòØÂºÇÊ≠•ÂÆåÊàêÁöÑÔºåËøô‰πüÊÑèÂë≥ÁùÄÂΩì forEach() ËøîÂõûÁöÑÊó∂ÂÄôÂõûË∞ÉÂèØËÉΩËøòÊ≤°ÊúâÁªìÊùüÔºåÂõ†Ê≠§‰Ω†Êó†Ê≥ïÁ≠âÂà∞ logContent() Âè™ËÉΩÁªìÊùü„ÄÇ Â¶ÇÊûú‰Ω†Âπ∂‰∏çÊÉ≥Ë¶ÅËøô‰∏™ÁªìÊûúÔºå‰Ω†ÂèØ‰ª•Â∞Ü forEach() ËΩ¨Êç¢‰∏∫ for-of Âæ™ÁéØ„ÄÇ async function logContent(urls) { for (const url of urls) { const content = await httpGet(url); console.log(content); } } Áé∞Âú®‰∏ÄÂàáÈÉΩÂú® for-of Âæ™ÁéØÂÆåÊàêÂêéÂÆåÊàê„ÄÇ‰ΩÜÊòØÔºåÂ§ÑÁêÜÊ≠•È™§‰æùÊ¨°ÂèëÁîüÔºöhttpGet() Âè™ÊòØÂú®Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÂÆåÊàêÂêéÂÜçÊ¨°Ë∞ÉÁî®„ÄÇÂ¶ÇÊûúÊÇ®Â∏åÊúõÂ§ÑÁêÜÊ≠•È™§Âπ∂Ë°åÊâßË°åÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® Promise.all()Ôºö async function logContent(urls) { await Promise.all(urls.map( async url =&gt; { const content = await httpGet(url); console.log(content); })); } map() Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ Promises Êï∞ÁªÑ„ÄÇ Êàë‰ª¨ÂØπ‰ªñ‰ª¨ÁöÑÂÆåÊàêÁªìÊûúÂπ∂‰∏çÊÑüÂÖ¥Ë∂£ÔºåÊàë‰ª¨Âè™Ë¶Å await(Á≠âÂæÖ) ÊâÄÊúâÊñπÊ≥ïÊâßË°åÂÆåÊàê„ÄÇËøôÊÑèÂë≥ÁùÄÊàë‰ª¨Â∏åÊúõÁöÑÊòØÂú® async(ÂºÇÊ≠•) ÂáΩÊï∞ÂÆåÊàê‰πãÂêéÊâÄÊúâÁöÑÊâßË°åÈÉΩÂ∑≤ÁªèÂÆåÊàê„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ËøîÂõû Promise.all() Ôºå‰ΩÜÊòØËØ•ÂáΩÊï∞ÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂÖ∂ÂÖÉÁ¥†ÈÉΩÊòØÊú™ÂÆåÊàêÁä∂ÊÄÅÁöÑ„ÄÇ ‰ΩøÁî®ÂºÇÊ≠•ÂáΩÊï∞Â∞èË¥¥Â£´‰∫ÜËß£‰Ω†ÁöÑ Promisesasync(ÂºÇÊ≠•) ÂáΩÊï∞ÁöÑÂü∫Á°ÄÂ∞±ÊòØ Promises ÂØπË±°ÔºåËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÁêÜËß£ Promises ÂØπ‰∫éÁêÜËß£ async(ÂºÇÊ≠•) ÂáΩÊï∞Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇÁâπÂà´ÊòØÂΩìÈÅáÂà∞‰∏çÊòØÂü∫‰∫é Promises ÁöÑËÄÅ‰ª£Á†ÅÊù•ÂÆûÁé∞ async(ÂºÇÊ≠•) ÂáΩÊï∞Êó∂Ôºå‰Ω†ÈÄöÂ∏∏Âà´Êó†ÈÄâÊã©ÔºåÂè™ËÉΩÁî® Promise Êù•ÈáçÊûÑ„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºåËøôÈáåÊúâ‰∏™ ‚Äúpromisified‚Äù ÁâàÊú¨ÁöÑ XMLHttpRequest Ôºö function httpGet(url, responseType=&quot;&quot;) { return new Promise( function (resolve, reject) { const request = new XMLHttpRequest(); request.onload = function () { if (this.status === 200) { // Success resolve(this.response); } else { // Something went wrong (404 etc.) reject(new Error(this.statusText)); } }; request.onerror = function () { reject(new Error( &apos;XMLHttpRequest Error: &apos;+this.statusText)); }; request.open(&apos;GET&apos;, url); xhr.responseType = responseType; request.send(); }); } XMLHttpRequest ÁöÑ API ÊòØÂü∫‰∫éÂõûË∞ÉÁöÑ„ÄÇÈÄöËøá‰∏Ä‰∏™ async(ÂºÇÊ≠•) ÂáΩÊï∞Êù•ÂÆûÁé∞ÂÆÉÔºåÊÑèÂë≥ÁùÄ‰Ω†ÂøÖÈ°ªÂú®ÂõûË∞É‰∏≠ËøîÂõû Promise ÁöÑÂÆåÊàê(fulfill) ÊàñÊãíÁªù(reject) Áä∂ÊÄÅ„ÄÇËøôÊòØ‰∏çÂèØËÉΩÁöÑÔºåÂõ†‰∏∫‰Ω†Âè™ËÉΩÈÄöËøá return ÊàñËÄÖ throw Êù•ÂÆåÊàêËøôÊ†∑ÁöÑÊìç‰Ωú„ÄÇ‰Ω†‰∏çËÉΩ‰ªéÂõûË∞ÉÂáΩÊï∞ÂÜÖÈÉ® return ‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÁªìÊûú„ÄÇthrow‰πüÊúâÁ±ª‰ººÁöÑÁ∫¶Êùü„ÄÇ Âõ†Ê≠§ÔºåÂºÇÊ≠•ÂáΩÊï∞ÁöÑÈÄöÁî®ÁºñÁ†ÅÈ£éÊ†ºÊòØÔºö Áõ¥Êé•‰ΩøÁî® Promise ÂØπË±°Êù•ÊûÑÂª∫ÂºÇÊ≠•ÂéüËØ≠„ÄÇ Áî®ÂºÇÊ≠•ÂáΩÊï∞Êù•‰ΩøÁî®Ëøô‰∫õÂéüËØ≠„ÄÇ Êâ©Â±ïÈòÖËØªÔºö‚ÄúExploring ES6‚Äù ‰∏≠ÁöÑ ‚ÄúÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÁöÑ Promises ÂØπË±°‚Äù Á´†ËäÇ Á´ãÂç≥Ë∞ÉÁî®ÂºÇÊ≠•ÂáΩÊï∞Ë°®ËææÂºèÊúâÊó∂ÔºåÂ¶ÇÊûú‰Ω†ÂèØ‰ª•Âú®Ê®°ÂùóÊàñËÑöÊú¨ÁöÑÈ°∂Â±Ç‰ΩøÁî® await ÔºåÈÇ£Â∞ÜÊòØ‰∏ÄÁßçÂæàÂ•ΩÁöÑÈÄâÊã©„ÄÇÂΩìÁÑ∂ÔºåÂÆÉÂè™ËÉΩÂú®ÂºÇÊ≠•ÂáΩÊï∞‰∏≠‰ΩøÁî®„ÄÇÊÇ®ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂºÇÊ≠•ÂáΩÊï∞ main() Âπ∂Á´ãÂç≥Ë∞ÉÁî®ÂÆÉÔºö async function main() { console.log(await asyncFunction()); } main(); ÊàñËÄÖÊÇ®ÂèØ‰ª•‰ΩøÁî®Á´ãÂç≥Ë∞ÉÁî®ÂºÇÊ≠•ÂáΩÊï∞Ë°®ËææÂºèÔºö (async function () { console.log(await asyncFunction()); })(); Âè¶‰∏Ä‰∏™ÈÄâÊã©ÊòØÁ´ãÂç≥Ë∞ÉÁî®ÂºÇÊ≠•ÁÆ≠Â§¥ÂáΩÊï∞Ôºö (async () =&gt; { console.log(await asyncFunction()); })(); Áî®ÂºÇÊ≠•ÂáΩÊï∞ËøõË°åÂçïÂÖÉÊµãËØï‰ª•‰∏ã‰ª£Á†Å‰ΩøÁî® ÊµãËØïÊ°ÜÊû∂ mocha ÂØπÂºÇÊ≠•ÂáΩÊï∞ asyncFun1() Âíå asyncFun2() Êù•ËøõË°åÂçïÂÖÉÊµãËØïÔºö import assert from &apos;assert&apos;; // Bug: the following test always succeeds test(&apos;Testing async code&apos;, function () { asyncFunc1() // (A) .then(result1 =&gt; { assert.strictEqual(result1, &apos;a&apos;); // (B) return asyncFunc2(); }) .then(result2 =&gt; { assert.strictEqual(result2, &apos;b&apos;); // (C) }); }); ÁÑ∂ËÄåÔºåËøô‰∏™ÊµãËØïÊÄªÊòØÊàêÂäüÁöÑÔºåÂõ†‰∏∫ mocha ‰∏ç‰ºöÁ≠âÂæÖ B Ë°åÂíå C Ë°åÊñ≠Ë®ÄÊâßË°åÂÆåÊàê„ÄÇ ‰Ω†ÂèØ‰ª•ÈÄöËøáËøîÂõûÈìæÂºèË∞ÉÁî®ÁöÑ Promise Êù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂõ†‰∏∫ mocha ‰ºöËØÜÂà´‰∏Ä‰∏™ÊµãËØïÊòØÂê¶ËøîÂõû‰∏Ä‰∏™ Promise ÔºåÁÑ∂ÂêéÁ≠âÂæÖËØ• Promise ÂÆåÊàê ÂÜçËøõË°å‰∏ã‰∏ÄÊ≠•ÔºàÈô§ÈùûË∂ÖÊó∂Ôºâ„ÄÇ return asyncFunc1() // (A) ÂºÇÊ≠•ÂáΩÊï∞ÊÄªÊòØËøîÂõû Promises ÔºåËøô‰ΩøÂæóÂÆÉ‰ª¨ËÉΩÊñπ‰æøÁöÑ„ÄÅÂÆåÁæéÁöÑÊù•ËøõË°åËøôÁßçÂçïÂÖÉÊµãËØïÔºö import assert from &apos;assert&apos;; test(&apos;Testing async code&apos;, async function () { const result1 = await asyncFunc1(); assert.strictEqual(result1, &apos;a&apos;); const result2 = await asyncFunc2(); assert.strictEqual(result2, &apos;b&apos;); }); Âú® mocha ‰∏≠‰ΩøÁî®ÂºÇÊ≠•ÂçïÂÖÉÊµãËØïÂºÇÊ≠•ÂáΩÊï∞Êúâ‰∏§‰∏™‰ºòÁÇπÔºö‰ª£Á†ÅÊõ¥ÁÆÄÊ¥ÅÔºåËÉΩÂ§üÂáÜÁ°ÆÂ§ÑÁêÜËøîÂõûÁöÑ Promise ÂØπË±°„ÄÇ ‰∏çË¶ÅÊãÖÂøÉÊ≤°ÊúâÂ§ÑÁêÜÁöÑÊãíÁªùÊãíÊÄÅÂΩìÂâçÁöÑ JavaScript ÂºïÊìéÂèØ‰ª•Âú®ÊãíÁªùÊÄÅÊú™Â§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÊèêÂá∫Ë≠¶Âëä„ÄÇ‰ª•‰∏ã‰ª£Á†ÅÂú®ËøáÂéª‰ºöÁªèÂ∏∏ÊâßË°åÂ§±Ë¥•Ôºå‰ΩÜÊòØÂΩìÂâçÁöÑ JavaScript ÂºïÊìéÂèØ‰ª•ËøõË°åË≠¶ÂëäÔºö JavaScript ‰ª£Á†Å: async function foo() { throw new Error(&apos;Problem!&apos;); } foo();]]></content>
      <tags>
        <tag>js</tag>
        <tag>promise</tag>
        <tag>ÂºÇÊ≠•</tag>
        <tag>Async</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TypeScriptÂÖ•Èó®]]></title>
    <url>%2F2018%2F05%2F08%2FTypeScript%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ÁõÆÂâçangular„ÄÅdenoÂ∑≤ÁªèÂºÄÂßã‰ΩøÁî®typescriptÔºåÂπ∂‰∏îÊàë‰ª¨ÁÜüÁü•ÁöÑvueÔºåÂú®3.0‰πüÂç≥Â∞Ü‰ºö‰ΩøÁî®typescriptÔºåÂèØ‰ª•ËØ¥ÔºåÂâçÁ´ØÈ¢ÜÂüüÔºåtypescript‰ºöÈÄêÊ∏êÂèò‰∏∫ÂøÖÂ§áÁöÑÊäÄËÉΩÔºåÈÇ£‰πàÔºå‰∏∫‰ªÄ‰πàtypescriptÂèòÂæóË∂äÊù•Ë∂äÁÅ´Âë¢Ôºü ÁΩë‰∏äÊúâÂêÑÁßçtypescriptÂíåjavascriptÁöÑÂØπÊØîÔºåÈÇ£‰πàÂú®ÊàëÁöÑËßíÂ∫¶ÁöÑÁêÜËß£ÔºåjavascriptÊòØËß£ÈáäÂûãÔºàÂä®ÊÄÅÔºâËØ≠Ë®ÄÔºåÂèØ‰ª•ËØ¥ÊòØ‰ªé‰∏äÂà∞‰∏ãÊâßË°åÔºåÂú®Êàë‰ª¨ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÊØîÂ¶ÇÊúâËØ≠Ê≥ïÈîôËØØÁ≠âÁ≠âÔºåÈúÄË¶ÅÊâßË°åÂà∞Ëøô‰∏ÄË°å‰ª£Á†ÅÊâçËÉΩÁü•ÈÅìÔºåËÄåtypescriptÂàôÂÉèÂÜôÊòìËØ≠Ë®ÄÈÇ£Ê†∑ÁîüÊàêexeÊó∂ÔºåÈúÄË¶ÅÈùôÊÄÅÁºñËØëÔºåËÄåÈùôÊÄÅÁºñËØëËøô‰∏™ËøáÁ®ãÔºå‰ºöÊää‰ª£Á†ÅÈÉΩÊ£ÄÊü•‰∏ÄÈÅçÔºåÁúãÊòØÂê¶ÈÄöËøáÊ£ÄÊµãÔºåÊúÄÁªàÊâçÁîüÊàêexeÔºåtypescriptÊúÄÁªàÊòØ‰πüÊòØÁºñËØëÊàêjavascriptÂéüÁîü‰ª£Á†ÅÁöÑÔºåÂè™ÊòØÂú®Ëøô‰∏™ÁîüÊàêËøáÁ®ã‰∏≠Ôºå‰ºöËøõË°åÂêÑÁßçÊ£ÄÊµãÔºåÊù•Ê£ÄÊü•‰ª£Á†ÅÊòØÂê¶Á¨¶ÂêàËØ≠Ê≥ïÂïäËßÑÂàôÂïäÔºåÁ¨¶ÂêàÁöÑËØùÊúÄÁªàÂÜçÁºñËØëÊàêjavascriptÔºåËßÑËåÉ‰∫ÜÊàë‰ª¨‰ª£Á†ÅÁöÑÁºñÂÜôÔºåÂêåÊó∂‰πüÊèêÈ´ò‰∫Ü‰ª£Á†ÅÁöÑÂ§çÁî®‰ª•ÂèäÁªÑ‰ª∂ÂåñÔºåÂú®runtimeÈò∂ÊÆµ‰∏∫Êàë‰ª¨ÊèêÂâçÊâæÂà∞ÈîôËØØ„ÄÇtypescriptÊîØÊåÅes5/es6ÁöÑËØ≠Ê≥ïÔºåÂπ∂‰∏îÊâ©Â±ï‰∫ÜjavascriptËØ≠Ê≥ïÔºåÊõ¥ÂÉèjava„ÄÅc#„ÄÅswiftËøôÁßçËØ≠Ë®Ä‰∫Ü„ÄÇ Âú®ÂâçÁ´ØnodejsÂæàÁÅ´Ôºå‰ΩÜÊòØ‰∏∫‰ªÄ‰πàÂú®ÂêéÁ´ØÂç¥‰∏çÁÅ´ÔºåÂæàÂ§ßÁ®ãÂ∫¶‰πüÊòØÂõ†‰∏∫nodejs‰πüÊòØËß£ÈáäÂûãÔºàÂä®ÊÄÅÔºâËØ≠Ë®ÄÔºå‰ºòÂäøÂ∞±ÊòØËß£ÈáäÂûãËØ≠Ë®ÄÊØîËæÉÁÅµÊ¥ªÔºå‰ΩÜÊòØÁº∫ÁÇπ‰πüÂæàÊòéÊòæÔºåÁî®nodeÂºÄÂèëÂêéÂè∞Á®ãÂ∫èÔºåÂºÄÂèë‰∏ÄÁõ¥ÁàΩÔºåÈáçÊûÑÁÅ´Ëë¨Âú∫.‰∏ÄÊó¶ÈáçÊûÑ‰∫ÜÔºåÂ∞±‰ºöÂá∫Áé∞ÂæàÂ§öÈóÆÈ¢òÔºåÂÉèJava„ÄÅc#ËøôÁ±ªËØ≠Ë®ÄÔºåÈùûÂ∏∏‰∏•Ë∞®ÔºåÁ±ªÂûãÊ£ÄÊü•Á≠âÈùûÂ∏∏‰∏•Ë∞®ÔºåËÄåjavascriptÂë¢Ôºå‰∏ÄËà¨ÊòØÈù†Êàë‰ª¨Áî®ËÇâÁúºÂéªÊéíÊü•ÔºåÂæàÈ∫ªÁÉ¶ÔºåtypescriptÂ∞±ÊòØËß£ÂÜ≥Ëøô‰∏ÄÁ±ªÈóÆÈ¢òÁöÑ„ÄÇ ÊÄªËÄåË®Ä‰πãÔºåtypescriptÊòØÊú™Êù•ÁöÑË∂ãÂäøÔºå‰πüÊòØË∞∑Ê≠åÊé®ËçêÁöÑÊ°ÜÊû∂ÔºåÊàë‰πüÊòØÂàöÂ≠¶typescriptÔºåÂæàÂ§öÈÉΩÊòØÁ´ôÂú®ÂâçËæàÁöÑËÇ©ËÜÄÊÄªÁªìÁöÑÔºåÂ∫üËØù‰∏çÂ§öËØ¥ÔºåÊàë‰ª¨ÂºÄÂßãËøõÂÖ•Ê≠£È¢òÂêßÔºÅ TypeScript ÂÆâË£ÖÈ¶ñÂÖàÊàë‰ª¨ÂÖ®Â±ÄÂÆâË£Ö npm i typescript -g ÂÖ®Â±ÄÂÆâË£ÖÂÆåÊàêÂêéÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™hello.tsÁöÑtsÊñá‰ª∂12// hello.tsÂÜÖÂÆπlet a = &quot;TypeScript&quot; Êé•‰∏ãÊù•Êàë‰ª¨Âú®ÂëΩ‰ª§Ë°åËæìÂÖ•tsc hello.tsÊù•ÁºñËØëËøô‰∏™tsÊñá‰ª∂ÔºåÁÑ∂Âêé‰ºöÂú®ÂêåÁ∫ßÁõÆÂΩïÁîüÊàê‰∏Ä‰∏™ÁºñËØëÂ•Ω‰∫ÜÁöÑhello.jsÊñá‰ª∂12// hello.jsÂÜÖÂÆπvar = &quot;TypeScript&quot; ÈÇ£‰πàÊàë‰ª¨ÊØèÊ¨°ÈÉΩË¶ÅËæìtsc hello.tsÂëΩ‰ª§Êù•ÁºñËØëÔºåËøôÊ†∑ÂæàÈ∫ªÁÉ¶ÔºåËÉΩÂê¶ËÆ©ÂÆÉËá™Âä®ÁºñËØëÔºüÁ≠îÊ°àÊòØÂèØ‰ª•ÁöÑÔºåÊàëÂπ≥Êó∂‰ΩøÁî®vscodeÊù•ÂºÄÂèëÔºåÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãvscodeÂ∞±ÂèØ‰ª•„ÄÇ È¶ñÂÖàÊàë‰ª¨Âú®ÂëΩ‰ª§Ë°åÊâßË°åtsc --initÊù•ÁîüÊàêÈÖçÁΩÆÊñá‰ª∂ÔºåÁÑ∂ÂêéÊàë‰ª¨Âú®ÁõÆÂΩï‰∏ãÁúãÂà∞ÁîüÊàê‰∫Ü‰∏Ä‰∏™tsconfig.jsonÊñá‰ª∂123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&#123; &quot;compilerOptions&quot;: &#123; /* Basic Options */ &quot;target&quot;: &quot;es5&quot;, /* Specify ECMAScript target version: &apos;ES3&apos; (default), &apos;ES5&apos;, &apos;ES2015&apos;, &apos;ES2016&apos;, &apos;ES2017&apos;,&apos;ES2018&apos; or &apos;ESNEXT&apos;. */ &quot;module&quot;: &quot;commonjs&quot;, /* Specify module code generation: &apos;none&apos;, &apos;commonjs&apos;, &apos;amd&apos;, &apos;system&apos;, &apos;umd&apos;, &apos;es2015&apos;, or &apos;ESNext&apos;. */ // &quot;lib&quot;: [], /* Specify library files to be included in the compilation. */ // &quot;allowJs&quot;: true, /* Allow javascript files to be compiled. */ // &quot;checkJs&quot;: true, /* Report errors in .js files. */ // &quot;jsx&quot;: &quot;preserve&quot;, /* Specify JSX code generation: &apos;preserve&apos;, &apos;react-native&apos;, or &apos;react&apos;. */ // &quot;declaration&quot;: true, /* Generates corresponding &apos;.d.ts&apos; file. */ // &quot;declarationMap&quot;: true, /* Generates a sourcemap for each corresponding &apos;.d.ts&apos; file. */ // &quot;sourceMap&quot;: true, /* Generates corresponding &apos;.map&apos; file. */ // &quot;outFile&quot;: &quot;./&quot;, /* Concatenate and emit output to single file. */ &quot;outDir&quot;: &quot;./dist&quot;, /* Redirect output structure to the directory. */ // &quot;rootDir&quot;: &quot;./&quot;, /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */ // &quot;composite&quot;: true, /* Enable project compilation */ // &quot;removeComments&quot;: true, /* Do not emit comments to output. */ // &quot;noEmit&quot;: true, /* Do not emit outputs. */ // &quot;importHelpers&quot;: true, /* Import emit helpers from &apos;tslib&apos;. */ // &quot;downlevelIteration&quot;: true, /* Provide full support for iterables in &apos;for-of&apos;, spread, and destructuring when targeting &apos;ES5&apos; or &apos;ES3&apos;. */ // &quot;isolatedModules&quot;: true, /* Transpile each file as a separate module (similar to &apos;ts.transpileModule&apos;). */ /* Strict Type-Checking Options */ &quot;strict&quot;: true, /* Enable all strict type-checking options. */ // &quot;noImplicitAny&quot;: true, /* Raise error on expressions and declarations with an implied &apos;any&apos; type. */ // &quot;strictNullChecks&quot;: true, /* Enable strict null checks. */ // &quot;strictFunctionTypes&quot;: true, /* Enable strict checking of function types. */ // &quot;strictBindCallApply&quot;: true, /* Enable strict &apos;bind&apos;, &apos;call&apos;, and &apos;apply&apos; methods on functions. */ // &quot;strictPropertyInitialization&quot;: true, /* Enable strict checking of property initialization in classes. */ // &quot;noImplicitThis&quot;: true, /* Raise error on &apos;this&apos; expressions with an implied &apos;any&apos; type. */ // &quot;alwaysStrict&quot;: true, /* Parse in strict mode and emit &quot;use strict&quot; for each source file. */ /* Additional Checks */ // &quot;noUnusedLocals&quot;: true, /* Report errors on unused locals. */ // &quot;noUnusedParameters&quot;: true, /* Report errors on unused parameters. */ // &quot;noImplicitReturns&quot;: true, /* Report error when not all code paths in function return a value. */ // &quot;noFallthroughCasesInSwitch&quot;: true, /* Report errors for fallthrough cases in switch statement. */ /* Module Resolution Options */ // &quot;moduleResolution&quot;: &quot;node&quot;, /* Specify module resolution strategy: &apos;node&apos; (Node.js) or &apos;classic&apos; (TypeScript pre-1.6). */ // &quot;baseUrl&quot;: &quot;./&quot;, /* Base directory to resolve non-absolute module names. */ // &quot;paths&quot;: &#123;&#125;, /* A series of entries which re-map imports to lookup locations relative to the &apos;baseUrl&apos;. */ // &quot;rootDirs&quot;: [], /* List of root folders whose combined content represents the structure of the project at runtime. */ // &quot;typeRoots&quot;: [], /* List of folders to include type definitions from. */ // &quot;types&quot;: [], /* Type declaration files to be included in compilation. */ // &quot;allowSyntheticDefaultImports&quot;: true, /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */ &quot;esModuleInterop&quot;: true /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies &apos;allowSyntheticDefaultImports&apos;. */ // &quot;preserveSymlinks&quot;: true, /* Do not resolve the real path of symlinks. */ /* Source Map Options */ // &quot;sourceRoot&quot;: &quot;&quot;, /* Specify the location where debugger should locate TypeScript files instead of source locations. */ // &quot;mapRoot&quot;: &quot;&quot;, /* Specify the location where debugger should locate map files instead of generated locations. */ // &quot;inlineSourceMap&quot;: true, /* Emit a single file with source maps instead of having a separate file. */ // &quot;inlineSources&quot;: true, /* Emit the source alongside the sourcemaps within a single file; requires &apos;--inlineSourceMap&apos; or &apos;--sourceMap&apos; to be set. */ /* Experimental Options */ // &quot;experimentalDecorators&quot;: true, /* Enables experimental support for ES7 decorators. */ // &quot;emitDecoratorMetadata&quot;: true, /* Enables experimental support for emitting type metadata for decorators. */ &#125;&#125; Ëøô‰∏™jsonÊñá‰ª∂ÈáåÊúâÂæàÂ§öÈÄâÈ°π targetÊòØÈÄâÊã©ÁºñËØëÂà∞‰ªÄ‰πàËØ≠Ê≥ï moduleÂàôÊòØÊ®°ÂùóÁ±ªÂûã outDirÂàôÊòØËæìÂá∫ÁõÆÂΩïÔºåÂèØ‰ª•ÊåáÂÆöËøô‰∏™ÂèÇÊï∞Âà∞ÊåáÂÆöÁõÆÂΩï Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÂºÄÂêØÁõëÊéß‰∫ÜÔºåÂú®vscode‰ªªÂä°Ê†è‰∏≠Ê≠§Êó∂Â∞±‰ºöÂºÄÂêØÁõëÊéß‰∫ÜÔºå‰ºöÁõëÂê¨tsÁöÑÂèòÂåñÔºåÁÑ∂ÂêéËá™Âä®ÂéªÁºñËØë„ÄÇ Êï∞ÊçÆÁ±ªÂûãjava„ÄÅc#ÊòØÂº∫Á±ªÂûãËØ≠Ë®ÄÔºåËÄåjsÊòØÂº±Á±ªÂûãËØ≠Ë®ÄÔºåÂº∫Âº±Á±ªËØ≠Ë®ÄÊúâ‰ªÄ‰πàÂå∫Âà´Âë¢ÔºütypescriptÊúÄÂ§ßÁöÑ‰ºòÁÇπÂ∞±ÊòØÁ±ªÂûãÊ£ÄÊü•ÔºåÂèØ‰ª•Â∏Æ‰Ω†Ê£ÄÊü•‰Ω†ÂÆö‰πâÁöÑÁ±ªÂûãÂíåËµãÂÄºÁöÑÁ±ªÂûã„ÄÇ Â∏ÉÂ∞îÁ±ªÂûãboolean// Âú®js‰∏≠ÔºåÂÆö‰πâisFlag‰∏∫trueÔºå‰∏∫Â∏ÉÂ∞îÁ±ªÂûãboolean let isFlag = true; // ‰ΩÜÊòØÊàë‰ª¨‰πüÂèØ‰ª•ÈáçÊñ∞ÁªôÂÆÉËµãÂÄº‰∏∫Â≠óÁ¨¶‰∏≤ isFlag = &quot;hello swr&quot;; // Âú®ts‰∏≠ÔºåÂÆö‰πâisFlag‰∏∫trueÔºå‰∏∫Â∏ÉÂ∞îÁ±ªÂûãboolean // Âú®ÂèòÈáèÂêçÂêéÂä†ÂÜíÂè∑ÂíåÁ±ªÂûãÔºåÂ¶Ç :boolean let isFlag:boolean = true // ÈáçÊñ∞ËµãÂÄºÂà∞Â≠óÁ¨¶‰∏≤Á±ªÂûã‰ºöÊä•Èîô isFlag = &quot;hello swr&quot; // Âú®java‰∏≠Ôºå‰∏ÄËà¨ÊòØËøôÊ†∑ÂÆö‰πâÔºåË¶ÅÂÜôÂèòÈáèÂêç‰πüË¶ÅÂÜôÁ±ªÂûãÂêç // int a = 10; // string name = &quot;TypeScript&quot; Êï∞Â≠óÁ±ªÂûãnumberlet age:number = 28; age = 29; Â≠óÁ¨¶‰∏≤Á±ªÂûãstringlet name:string = &quot;TypeScript&quot; name = &quot;iamswr&quot; ‰ª•‰∏äboolean„ÄÅnumber„ÄÅstringÁ±ªÂûãÊúâ‰∏™ÂÖ±ÊÄßÔºåÂ∞±ÊòØÂèØ‰ª•ÈÄöËøátypeofÊù•Ëé∑ÂèñÂà∞ÊòØ‰ªÄ‰πàÁ±ªÂûãÔºåÊòØÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã„ÄÇ ÈÇ£‰πàÂ§çÊùÇÁöÑÊï∞ÊçÆÁ±ªÂûãÊòØÊÄé‰πàÂ§ÑÁêÜÁöÑÂë¢Ôºü Êï∞ÁªÑ Array// Âú®js‰∏≠ let pets = [&quot;Êó∫Ë¥¢&quot;,&quot;Â∞èÈªë&quot;]; // Âú®ts‰∏≠ // ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰∏™ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊï∞ÁªÑ // Âè™ËÉΩÂæÄÈáåÈù¢ÂÜôÂ≠óÁ¨¶‰∏≤ÔºåÂÜôÂà´ÁöÑÁ±ªÂûã‰ºöÊä•Èîô let pets:string[] = [&quot;Êó∫Ë¥¢&quot;,&quot;Â∞èÈªë&quot;]; // Âè¶Â§ñ‰∏ÄÁßçtsÂÜôÊ≥ï let pets:Array&lt;string&gt; = [&quot;Êó∫Ë¥¢&quot;,&quot;Â∞èÈªë&quot;]; // ÈÇ£‰πàÂ¶ÇÊûúÊÉ≥Âú®Êï∞ÁªÑÈáåÊîæÂØπË±°Âë¢Ôºü let pets:Array&lt;object&gt; = [{name:&quot;Êó∫Ë¥¢&quot;},{name:&quot;Â∞èÈªë&quot;}]; // ÈÇ£‰πàÊÄéÊ†∑Âú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠ÔºåÈöèÊÑèÊîæstring„ÄÅnumber„ÄÅbooleanÁ±ªÂûãÂë¢Ôºü // ËøôÈáåÁöÑ | Áõ∏ÂΩì‰∫é Êàñ ÁöÑÊÑèÊÄù let arr:Array&lt;string|number|boolean&gt; = [&quot;hello swr&quot;,28]; // ÊÉ≥Âú®Êï∞ÁªÑ‰∏≠Êîæ‰ªªÊÑèÁ±ªÂûã let arr:Array&lt;any&gt; = [&quot;hello swr&quot;,28,true] ÂÖÉÁªÑÁ±ªÂûãtuple‰ªÄ‰πàÊòØÂÖÉÁªÑÁ±ªÂûãÔºüÂÖ∂ÂÆûÂÖÉÁªÑÊòØÊï∞ÁªÑÁöÑ‰∏ÄÁßç„ÄÇ let person:[string,number] = [&apos;TypeScript&apos;,28] ÊúâÁÇπÁ±ª‰ººËß£ÊûÑËµãÂÄºÔºå‰ΩÜÊòØÂèà‰∏çÂÆåÂÖ®ÊòØËß£ÊûÑËµãÂÄºÔºåÊØîÂ¶ÇÂÖÉÁªÑÁ±ªÂûãÂøÖÈ°ª‰∏Ä‰∏ÄÂØπÂ∫î‰∏äÔºåÂ§ö‰∫ÜÂ∞ë‰∫ÜÊàñËÄÖÁ±ªÂûã‰∏çÂØπÈÉΩ‰ºöÊä•Èîô„ÄÇ ÂÖÉÁªÑÁ±ªÂûãÊòØ‰∏Ä‰∏™‰∏çÂèØÂèòÁöÑÊï∞ÁªÑÔºåÈïøÂ∫¶„ÄÅÁ±ªÂûãÊòØ‰∏çÂèØÂèòÁöÑ„ÄÇ Êûö‰∏æÁ±ªÂûãenumÊûö‰∏æÂú®java‰∏≠ÊòØ‰ªé6.0ÊâçÂºïÂÖ•ÁöÑ‰∏ÄÁßçÁ±ªÂûãÔºåÂú®javaÂíåts‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÈÉΩÊòØenum„ÄÇ ‰ªÄ‰πàÊòØÊûö‰∏æÔºüÊûö‰∏æÊúâÁÇπÁ±ª‰ºº‰∏Ä‰∏ÄÂàó‰∏æÔºå‰∏Ä‰∏™‰∏Ä‰∏™Êï∞Âá∫Êù•ÔºåÂú®ÊòìËØ≠Ë®Ä‰∏≠ÔºåÊàë‰ª¨‰ºöÁªèÂ∏∏Êûö‰∏æÁ™óÂè£ÔºåÊù•ÊâæÂà∞Ëá™Â∑±ÊÉ≥Ë¶ÅÁöÑÔºå‰∏ÄËà¨Áî®‰∫éÂÄºÊòØÊüêÂá†‰∏™Âõ∫ÂÆöÁöÑÂÄºÔºåÊØîÂ¶ÇÁîüËÇñÔºàÊúâ12ÁßçÔºâ„ÄÅÊòüÂ∫ßÔºàÊúâ12ÁßçÔºâ„ÄÅÊÄßÂà´ÔºàÁî∑Â•≥ÔºâÁ≠âÔºåËøô‰∫õÂÄºÊòØÂõ∫ÂÆöÁöÑÔºåÂèØ‰ª•‰∏Ä‰∏™‰∏Ä‰∏™Êï∞Âá∫Êù•„ÄÇ ‰∏∫‰ªÄ‰πàÊàë‰ª¨Ë¶ÅÁî®Êûö‰∏æÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∫õÂÄºÔºåÂÆö‰πâÂÆå‰∫ÜÂêéÂèØ‰ª•Áõ¥Êé•ÊãøÊù•Áî®‰∫ÜÔºåÁî®ÁöÑÊó∂ÂÄô‰πü‰∏ç‰ºöËµãÈîôÂÄº„ÄÇ ÊØîÂ¶ÇÊàë‰ª¨ÊôÆÈÄöËµãÂÄº // Êàë‰ª¨ÁªôÊÄßÂà´ËµãÂÄº‰∏Ä‰∏™boyÔºå‰ΩÜÊòØÊàë‰ª¨ÊúâÊó∂ÂÄôÊâãËØØÔºåÂèØËÉΩËæìÊàêboy1„ÄÅboy2‰∫Ü // ËøôÊ†∑Â∞±‰ºöÂØºËá¥Êàë‰ª¨ËµãÂÄºÈîôËØØ‰∫Ü let sex = &quot;boy&quot; Êó¢ÁÑ∂ËøôÊ†∑ÂÆπÊòìÂØºËá¥ÊâãËØØËµãÈîôÂÄºÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™Êûö‰∏æ // ÂÆö‰πâ‰∏Ä‰∏™Êûö‰∏æÁ±ªÂûãÁöÑÂÄº enum sex { BOY, GIRL } console.log(sex) console.log(`TypeScriptÊòØ${sex.BOY}`) Êàë‰ª¨ÁúãÁúãËΩ¨‰∏∫es5ËØ≠Ê≥ïÊòØÊÄéÊ†∑ÁöÑ // ËΩ¨‰∏∫es5ËØ≠Ê≥ï &quot;use strict&quot;; var sex; (function (sex) { sex[sex[&quot;BOY&quot;] = 0] = &quot;BOY&quot;; sex[sex[&quot;GIRL&quot;] = 1] = &quot;GIRL&quot;; })(sex || (sex = {})); console.log(sex); // ÊâìÂç∞ËæìÂá∫{ &apos;0&apos;: &apos;BOY&apos;, &apos;1&apos;: &apos;GIRL&apos;, BOY: 0, GIRL: 1 } console.log(&quot;\u90B5\u5A01\u5112\u662F&quot; + sex.BOY); // ÊâìÂç∞ËæìÂá∫ TypeScriptÊòØ0 ÊòØ‰∏çÊòØÊÑüËßâÊúâÁÇπÂÉèÁªôÂØπË±°Ê∑ªÂä†ÂêÑÁßçÂ±ûÊÄßÔºåÁÑ∂ÂêéËøô‰∏™Â±ûÊÄßÂèàÊúâÁÇπÂÉèÂ∏∏ÈáèÔºåÁÑ∂ÂêéÈÄöËøáÂØπË±°ÂéªÂèñËøô‰∏™Â±ûÊÄßÔºü ‰∏äÈù¢ËøôÊ†∑ÂÜôÔºå‰∏çÊòØÂæàÂèãÂ•ΩÔºåÈÇ£‰πàÊàë‰ª¨ËøòÂèØ‰ª•ÁªôBOY`GIRL`ËµãÂÄº enum sex{ BOY=&quot;Áî∑&quot;, GIRL=&quot;Â•≥&quot; } // ËΩ¨Âåñ‰∏∫es5ËØ≠Ê≥ï // Êàë‰ª¨È°∫‰æøÁúãÁúãÂÆûÁé∞ÁöÑÂéüÁêÜ &quot;use strict&quot;; var sex; // È¶ñÂÖàËøôÈáåÊòØ‰∏Ä‰∏™Ëá™ÊâßË°åÂáΩÊï∞ // Âπ∂‰∏îÊääsexÂÆö‰πâ‰∏∫ÂØπË±°Ôºå‰º†ÂèÇËøõÁªôËá™ÊâßË°åÂáΩÊï∞ // ÁÑ∂ÂêéÁªôsexÂØπË±°Ê∑ªÂä†Â±ûÊÄßÂπ∂‰∏îËµãÂÄº (function (sex) { sex[&quot;BOY&quot;] = &quot;\u7537&quot;; sex[&quot;GIRL&quot;] = &quot;\u5973&quot;; })(sex || (sex = {})); console.log(sex); // ÊâìÂç∞ËæìÂá∫ { BOY: &apos;Áî∑&apos;, GIRL: &apos;Â•≥&apos; } console.log(&quot;\u90B5\u5A01\u5112\u662F&quot; + sex.BOY); // ÊâìÂç∞ËæìÂá∫ TypeScriptÊòØÁî∑ ÊØîÂ¶ÇÊàë‰ª¨ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÁâπÂà´ÊòØÂïÜÂüéÁ±ªÔºåËÆ¢Âçï‰ºöÂ≠òÂú®ÂæàÂ§öÁä∂ÊÄÅÊµÅËΩ¨ÔºåÈÇ£‰πàÈùûÂ∏∏ÈÄÇÂêàÁî®Êûö‰∏æ enum orderStatus { WAIT_FOR_PAY = &quot;ÂæÖÊîØ‰ªò&quot;, UNDELIVERED = &quot;ÂÆåÊàêÊîØ‰ªòÔºåÂæÖÂèëË¥ß&quot;, DELIVERED = &quot;Â∑≤ÂèëË¥ß&quot;, COMPLETED = &quot;Â∑≤Á°ÆËÆ§Êî∂Ë¥ß&quot; } Âà∞ËøôÈáåÔºåÊàë‰ª¨‰ºöÊúâ‰∏Ä‰∏™ÁñëËôëÔºå‰∏∫‰ªÄ‰πàÊàë‰ª¨‰∏çËøôÊ†∑ÂÜôÂë¢Ôºü let orderStatus2 = { WAIT_FOR_PAY : &quot;ÂæÖÊîØ‰ªò&quot;, ... } Â¶ÇÊûúÊàë‰ª¨Áõ¥Êé•ÂÜôÂØπË±°ÁöÑÈîÆÂÄºÂØπÊñπÂºèÔºåÊòØÂèØ‰ª•Âú®Â§ñÈÉ®‰øÆÊîπËøô‰∏™ÂÄºÁöÑÔºåËÄåÊàë‰ª¨ÈÄöËøáenumÂàô‰∏çËÉΩ‰øÆÊîπÂÆö‰πâÂ•ΩÁöÑÂÄº‰∫ÜÔºåÊõ¥Âä†‰∏•Ë∞®„ÄÇ ‰ªªÊÑèÁ±ªÂûã anyanyÊúâÂ•ΩÂ§Ñ‰πüÊúâÂùèÂ§ÑÔºåÁâπÂà´ÊòØÂâçÁ´ØÔºåÂæàÂ§öÊó∂ÂÄôÂÜôÁ±ªÂûãÁöÑÊó∂ÂÄôÔºåÂá†‰πéÂàÜ‰∏çÊ∏ÖÊ•öÁ±ªÂûãÔºå‰ªªÊÑèÂéªÂÜôÔºåÂÜôËµ∑Êù•ÂæàÁàΩÔºå‰ΩÜÊòØÂØπ‰∫éÂêéÁª≠ÁöÑÈáçÊûÑ„ÄÅËø≠‰ª£Á≠âÊòØÈùûÂ∏∏‰∏çÂèãÂ•ΩÁöÑÔºå‰ºöÊö¥Èú≤Âá∫ÂæàÂ§öÈóÆÈ¢òÔºåÊüêÁßçÁ®ãÂ∫¶Êù•ËØ¥ÔºåanyÁ±ªÂûãÂ∞±ÊòØÊîæÂºÉ‰∫ÜÁ±ªÂûãÊ£ÄÊü•‰∫Ü„ÄÇ„ÄÇ„ÄÇ ÊØîÂ¶ÇÊàë‰ª¨ÊúâËøôÊ†∑‰∏Ä‰∏™Âú∫ÊôØÔºåÂ∞±ÊòØÈúÄË¶ÅËé∑ÂèñÊüê‰∏Ä‰∏™domËäÇÁÇπ let btn = document.getElementById(&apos;btn&apos;); btn.style.color = &quot;blue&quot;; Ê≠§Êó∂Êàë‰ª¨ÂèëÁé∞Âú®ts‰∏≠‰ºöÊä•Èîô Âõ†‰∏∫Êàë‰ª¨ÂèñËøô‰∏™domËäÇÁÇπÔºåÊúâÂèØËÉΩÂèñÂà∞Ôºå‰πüÊúâÂèØËÉΩÊ≤°ÂèñÂà∞ÔºåÂΩìÊ≤°ÂèñÂà∞ÁöÑÊó∂ÂÄôÔºåÁõ∏ÂΩì‰∫éÊòØnullÔºåÊòØÊ≤°ÊúâstyleËøô‰∏™Â±ûÊÄßÁöÑ„ÄÇ ÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÁªôÂÆÉÊ∑ªÂä†‰∏Ä‰∏™Á±ªÂûã‰∏∫any // Ê∑ªÂä†‰∏Ä‰∏™anyÁ±ªÂûãÔºåÊ≠§Êó∂Â∞±‰∏ç‰ºöÊä•Èîô‰∫ÜÔºå‰ΩÜÊòØ‰πüÁõ∏ÂΩì‰∫éÊîæÂºÉ‰∫ÜÁ±ªÂûãÊ£ÄÊü•‰∫Ü let btn:any = document.getElementById(&apos;btn&apos;); btn.style.color = &quot;blue&quot;; // ÂΩìÁÑ∂‰πüÊúâÁ≤óÊö¥‰∏Ä‰∫õÁöÑÊñπÂºèÔºåÂà©Áî® ! Âº∫Âà∂Êñ≠Ë®Ä let btn = document.getElementById(&quot;btn&quot;); btn!.style!.color = &quot;blue&quot;; // ÂèØ‰ª•ËµãÂÄº‰ªª‰ΩïÁ±ªÂûãÁöÑÂÄº // Ë∑ü‰ª•ÂâçÊàë‰ª¨var letÂ£∞ÊòéÁöÑ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑ let person:any = &quot;TypeScript&quot; person = 28 null undefinedÁ±ªÂûãËøô‰∏™‰πüÊ≤°‰ªÄ‰πàÂ•ΩËØ¥ÁöÑÔºå‰∏çËøáÂèØ‰ª•Áúã‰∏ã‰∏ãÈù¢ÁöÑ‰æãÂ≠ê // (string | number | null | undefined) Áõ∏ÂΩì‰∫éËøôÂá†ÁßçÁ±ªÂûã // ÊòØ string Êàñ number Êàñ null Êàñ undefined let str:(string | number | null | undefined) str = &quot;hello swr&quot; str = 28 str = null str = undefined voidÁ±ªÂûãvoidË°®Á§∫Ê≤°Êúâ‰ªª‰ΩïÁ±ªÂûãÔºå‰∏ÄËà¨ÊòØÂÆö‰πâÂáΩÊï∞Ê≤°ÊúâËøîÂõûÂÄº„ÄÇ // tsÂÜôÊ≥ï function say(name:string):void { console.log(&quot;hello&quot;,name) } say(&quot;swr&quot;) // ËΩ¨‰∏∫es5 &quot;use strict&quot;; function say(name) { console.log(&quot;hello&quot;, name); } say(&quot;swr&quot;); ÊÄé‰πàÁêÜËß£Âè´Ê≤°ÊúâËøîÂõûÂÄºÂë¢ÔºüÊ≠§Êó∂Êàë‰ª¨ÁªôÂáΩÊï∞return‰∏Ä‰∏™ÂÄº function say(name:string):void { console.log(&quot;hello&quot;,name) // return&quot;ok&quot; ‰ºöÊä•Èîô return&quot;ok&quot; // return undefined ‰∏ç‰ºöÊä•Èîô // return ‰∏ç‰ºöÊä•Èîô } say(&quot;swr&quot;) ÈÇ£‰πàÊ≠§Êó∂Êàë‰ª¨Â∏åÊúõËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÊÄé‰πàÂäûÔºü function say(name:string):string { console.log(&quot;hello&quot;,name) return&quot;ok&quot; } say(&quot;swr&quot;) neverÁ±ªÂûãËøô‰∏™Áî®ÂæóÂæàÂ∞ëÔºå‰∏ÄËà¨ÊòØÁî®‰∫éÊäõÂá∫ÂºÇÂ∏∏„ÄÇ let xx:never; function error(message: string): never { throw new Error(message); } error(&quot;error&quot;) Êàë‰ª¨Ë¶ÅÊêûÊòéÁôΩany„ÄÅnever„ÄÅvoid anyÊòØ‰ªªÊÑèÁöÑÂÄº voidÊòØ‰∏çËÉΩÊúâ‰ªª‰ΩïÂÄº neverÊ∞∏Ëøú‰∏ç‰ºöÊúâËøîÂõûÂÄº anyÊØîËæÉÂ•ΩÁêÜËß£ÔºåÂ∞±ÊòØ‰ªª‰ΩïÂÄºÈÉΩÂèØ‰ª• let str:any = &quot;hello swr&quot; str = 28 str = true void‰∏çËÉΩÊúâ‰ªª‰ΩïÂÄº(ËøîÂõûÂÄº) function say():void { } neverÂàô‰∏çÂ•ΩÁêÜËß£Ôºå‰ªÄ‰πàÂè´Ê∞∏Ëøú‰∏ç‰ºöÊúâËøîÂõûÂÄºÔºü // Èô§‰∫Ü‰∏äÈù¢‰∏æ‰æãÁöÑÊäõÂá∫ÂºÇÂ∏∏‰ª•Â§ñÔºåÊàë‰ª¨Áúã‰∏Ä‰∏ãËøô‰∏™‰æãÂ≠ê // Ëøô‰∏™loopÂáΩÊï∞Ôºå‰∏ÄÊó¶ÂºÄÂßãÊâßË°åÔºåÂ∞±Ê∞∏Ëøú‰∏ç‰ºöÁªìÊùü // ÂèØ‰ª•ÁúãÂá∫Âú®while‰∏≠ÔºåÊòØÊ≠ªÂæ™ÁéØÔºåÊ∞∏ËøúÈÉΩ‰∏ç‰ºöÊúâËøîÂõûÂÄºÔºåÂåÖÊã¨undefined function loop():never { while(true){ console.log(&quot;Èô∑ÂÖ•Ê≠ªÂæ™ÁéØÂï¶&quot;) } } loop() // ÂåÖÊã¨ÊØîÂ¶ÇJSON.parse‰πüÊòØ‰ΩøÁî®ËøôÁßç never | any function parse(str:string):(never | any){ return JSON.parse(str) } // È¶ñÂÖàÂú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰º†‰∏Ä‰∏™JSONÊ†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊòØÂèØ‰ª•Ê≠£Â∏∏ÂæóÂà∞‰∏Ä‰∏™JSONÂØπË±°ÁöÑ let json = parse(&apos;{&quot;name&quot;:&quot;TypeScript&quot;}&apos;) // ‰ΩÜÊòØÊúâÊó∂ÂÄôÔºå‰º†ËøõÂéªÁöÑ‰∏ç‰∏ÄÂÆöÊòØJSONÊ†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÈÇ£‰πàÂ∞±‰ºöÊäõÂá∫ÂºÇÂ∏∏ // Ê≠§Êó∂Â∞±ÈúÄË¶Ånever‰∫Ü let json = parse(&quot;iamswr&quot;) ‰πüÂ∞±ÊòØËØ¥ÔºåÂΩì‰∏Ä‰∏™ÂáΩÊï∞ÊâßË°åÁöÑÊó∂ÂÄôÔºåË¢´ÊäõÂá∫ÂºÇÂ∏∏ÊâìÊñ≠‰∫ÜÔºåÂØºËá¥Ê≤°ÊúâËøîÂõûÂÄºÊàñËÄÖËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ê≠ªÂæ™ÁéØÔºåÊ∞∏ËøúÊ≤°ÊúâËøîÂõûÂÄºÔºåËøôÊ†∑Âè´ÂÅöÊ∞∏Ëøú‰∏ç‰ºöÊúâËøîÂõûÂÄº„ÄÇ ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÊòØneverÂíåËÅîÂêàÁ±ªÂûãÊù•‰∏ÄËµ∑Áî®ÔºåÊØîÂ¶Ç123function say():(never | string) &#123; return &quot;ok&quot;&#125; ÂáΩÊï∞ÂáΩÊï∞ÊòØËøôÊ†∑ÂÆö‰πâÁöÑ function say(name:string):void { console.log(&quot;hello&quot;,name) } say(&quot;TypeScript&quot;) ÂΩ¢ÂèÇÂíåÂÆûÂèÇË¶ÅÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÂ¶ÇÊÉ≥‰∏ç‰∏ÄÊ†∑ÔºåÂàôÈúÄË¶ÅÈÖçÁΩÆÂèØÈÄâÂèÇÊï∞ÔºåÂèØÈÄâÂèÇÊï∞ÊîæÂú®ÂêéÈù¢ // ÂΩ¢ÂèÇÂíåÂÆûÂèÇ‰∏Ä‰∏ÄÂØπÂ∫îÔºåÂÆåÂÖ®‰∏ÄÊ†∑ function say(name:string,age:number):void { console.log(&quot;hello&quot;,name,age) } say(&quot;TypeScript&quot;,28) // ÂèØÈÄâÂèÇÊï∞ÔºåÁî® Ôºü Â§ÑÁêÜÔºåÂè™ËÉΩÊîæÂú®ÂêéÈù¢ function say(name:string,age?:number):void { console.log(&quot;hello&quot;,name,age) } say(&quot;TypeScript&quot;) ÈÇ£‰πàÂ¶Ç‰ΩïËÆæÁΩÆÈªòËÆ§ÂèÇÊï∞Âë¢Ôºü // Âú®js‰∏≠Êàë‰ª¨ÊòØËøôÊ†∑ÂÜôÁöÑ function ajax(url,method=&quot;get&quot;){ console.log(url,method) } // Âú®ts‰∏≠Êàë‰ª¨ÊòØËøôÊ†∑ÂÜôÁöÑ function ajax(url:string,method:string = &quot;GET&quot;) { console.log(url,method) } ÈÇ£‰πàÂ¶Ç‰ΩïËÆæÁΩÆÂâ©‰ΩôÂèÇÊï∞Âë¢ÔºüÂèØ‰ª•Âà©Áî®Êâ©Â±ïËøêÁÆóÁ¨¶ function sum(...args:Array&lt;number&gt;):number { returneval(args.join(&quot;+&quot;)) } let total:number = sum(1,2,3,4,5) console.log(total) ÈÇ£‰πàÂ¶Ç‰ΩïÂÆûÁé∞ÂáΩÊï∞ÈáçËΩΩÂë¢ÔºüÂáΩÊï∞ÈáçËΩΩÊòØjava‰∏≠ÈùûÂ∏∏ÊúâÂêçÁöÑÔºåÂú®java‰∏≠ÂáΩÊï∞ÁöÑÈáçËΩΩÔºåÊòØÊåá‰∏§‰∏™ÊàñËÄÖ‰∏§‰∏™‰ª•‰∏äÁöÑÂêåÂêçÂáΩÊï∞ÔºåÂèÇÊï∞ÁöÑ‰∏™Êï∞ÂíåÁ±ªÂûã‰∏ç‰∏ÄÊ†∑ // ÊØîÂ¶ÇËØ¥Êàë‰ª¨Áé∞Âú®Êúâ2‰∏™ÂêåÂêçÂáΩÊï∞ function say(name:string){ } function say(name:string,age:number){ } // ÈÇ£‰πàÊàëÊÉ≥ËææÂà∞‰∏Ä‰∏™ÊïàÊûú // ÂΩìÊàë‰º†ÂèÇÊï∞nameÊó∂ÔºåÊâßË°åname:stringËøô‰∏™ÂáΩÊï∞ // ÂΩìÊàë‰º†ÂèÇÊï∞nameÂíåageÊó∂ÔºåÊâßË°åname:string,age:numberËøô‰∏™ÂáΩÊï∞ // Ê≠§Êó∂ËØ•ÊÄé‰πàÂäûÔºü Êé•‰∏ãÊù•Áúã‰∏Ä‰∏ãtypescript‰∏≠ÁöÑÂáΩÊï∞ÈáçËΩΩ// È¶ñÂÖàÂ£∞Êòé‰∏§‰∏™ÂáΩÊï∞Âêç‰∏ÄÊ†∑ÁöÑÂáΩÊï∞ function say(val: string): void; // ÂáΩÊï∞ÁöÑÂ£∞Êòé function say(val: number): void; // ÂáΩÊï∞ÁöÑÂ£∞Êòé // ÂáΩÊï∞ÁöÑÂÆûÁé∞ÔºåÊ≥®ÊÑèÊòØÂú®ËøôÈáåÊòØÊúâÂáΩÊï∞‰ΩìÁöÑ // ÂÖ∂ÂÆû‰∏ãÈù¢ÁöÑsay()Êó†ËÆ∫ÊÄé‰πàÊâßË°åÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÊâßË°å‰∏ãÈù¢ÁöÑÂáΩÊï∞ function say(val: any):void { console.log(val) } say(&quot;hello swr&quot;) say(28) Âú®typescript‰∏≠‰∏ªË¶Å‰ΩìÁé∞ÊòØÂêå‰∏Ä‰∏™ÂêåÂêçÂáΩÊï∞Êèê‰æõÂ§ö‰∏™ÂáΩÊï∞Á±ªÂûãÂÆö‰πâÔºåÂáΩÊï∞ÂÆûÈôÖ‰∏äÂ∞±Âè™Êúâ‰∏Ä‰∏™ÔºåÂ∞±ÊòØÊã•ÊúâÂáΩÊï∞‰ΩìÈÇ£‰∏™ÔºåÂ¶ÇÊûúÊÉ≥Ê†πÊçÆ‰º†ÂÖ•ÂÄºÁ±ªÂûãÁöÑ‰∏ç‰∏ÄÊ†∑ÊâßË°å‰∏çÂêåÈÄªËæëÔºåÂàôÈúÄË¶ÅÂú®Ëøô‰∏™ÂáΩÊï∞ÈáåÈù¢ËøõË°å‰∏Ä‰∏™Á±ªÂûãÂà§Êñ≠„ÄÇ ÈÇ£‰πàËøô‰∏™ÂáΩÊï∞ÈáçËΩΩÊúâ‰ªÄ‰πà‰ΩúÁî®Âë¢ÔºüÂÖ∂ÂÆûÂú®ts‰∏≠ÔºåÂáΩÊï∞ÈáçËΩΩÂè™ÊòØÁî®Êù•ÈôêÂà∂ÂèÇÊï∞ÁöÑ‰∏™Êï∞ÂíåÁ±ªÂûãÔºåÁî®Êù•Ê£ÄÊü•Á±ªÂûãÁöÑÔºåËÄå‰∏îÈáçËΩΩ‰∏çËÉΩÊãÜÂºÄÂá†‰∏™ÂáΩÊï∞ÔºåËøô‰∏ÄÁÇπÂíåjavaÁöÑÂ§ÑÁêÜÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ Á±ªÂ¶Ç‰ΩïÂÆö‰πâ‰∏Ä‰∏™Á±ªÔºü// tsÂÜôÊ≥ï // ÂÖ∂ÂÆûË∑ües6ÈùûÂ∏∏ÂÉèÔºåÊ≤°Â§™Â§ßÁöÑÂå∫Âà´ class Person{ // ËøôÈáåÂ£∞ÊòéÁöÑÂèòÈáèÔºåÊòØÂÆû‰æã‰∏äÁöÑÂ±ûÊÄß name:string age:number constructor(name:string,age:number){ // this.nameÂíåthis.ageÂøÖÈ°ªÂú®ÂâçÈù¢ÂÖàÂ£∞ÊòéÂ•ΩÁ±ªÂûã // name:string age:number this.name = name this.age = age } // ÂéüÂûãÊñπÊ≥ï say():string{ return&quot;hello swr&quot; } } let p = new Person(&quot;TypeScript&quot;,28) // ÈÇ£‰πàËΩ¨‰∏∫es5Âë¢Ôºü &quot;use strict&quot;; var Person = /** @class */ (function () { function Person(name, age) { this.name = name; this.age = age; } Person.prototype.say = function () { return&quot;hello swr&quot;; }; return Person; }()); var p = new Person(&quot;TypeScript&quot;, 28); ÂèØ‰ª•ÂèëÁé∞ÔºåÂÖ∂ÂÆûË∑üÊàë‰ª¨es6ÁöÑclassÊòØÈùûÂ∏∏ÂÉèÁöÑÔºåÈÇ£‰πàÁ±ªÁöÑÁªßÊâøÊòØÊÄéÊ†∑ÂÆûÁé∞Âë¢Ôºü// Á±ªÁöÑÁªßÊâøÂíåes6‰πüÊòØÂ∑Æ‰∏çÂ§ö class Parent{ // ËøôÈáåÂ£∞ÊòéÁöÑÂèòÈáèÔºåÊòØÂÆû‰æã‰∏äÁöÑÂ±ûÊÄß name:string age:number constructor(name:string,age:number){ // this.nameÂíåthis.ageÂøÖÈ°ªÂú®ÂâçÈù¢ÂÖàÂ£∞ÊòéÂ•ΩÁ±ªÂûã // name:string age:number this.name = name this.age = age } // ÂéüÂûãÊñπÊ≥ï say():string{ return&quot;hello swr&quot; } } class Child extends Parent{ childName:string constructor(name:string,age:number,childName:string){ super(name,age) this.childName = childName } childSay():string{ return this.childName } } let child = new Child(&quot;TypeScript&quot;,28,&quot;bb&quot;) console.log(child) Á±ªÁöÑ‰øÆÈ•∞Á¨¶ publicÂÖ¨ÂºÄÁöÑÔºåÂèØ‰ª•‰æõËá™Â∑±„ÄÅÂ≠êÁ±ª‰ª•ÂèäÂÖ∂ÂÆÉÁ±ªËÆøÈóÆ protectedÂèó‰øùÊä§ÁöÑÔºåÂèØ‰ª•‰æõËá™Â∑±„ÄÅÂ≠êÁ±ªËÆøÈóÆÔºå‰ΩÜÊòØÂÖ∂‰ªñÂ∞±ËÆøÈóÆ‰∏ç‰∫Ü privateÁßÅÊúâÁöÑÔºåÂè™ÊúâËá™Â∑±ËÆøÈóÆÔºåËÄåÂ≠êÁ±ª„ÄÅÂÖ∂‰ªñÈÉΩËÆøÈóÆ‰∏ç‰∫Ü 123456789101112131415161718192021222324252627282930class Parent&#123; public name:string protected age:number private money:number /** * ‰πüÂèØ‰ª•ÁÆÄÂÜô‰∏∫ * constructor(public name:string,protected age:number,private money:number) */ constructor(name:string,age:number,money:number)&#123; this.name = name this.age = age this.money = money &#125; getName():string&#123; return this.name &#125; getAge():number&#123; return this.age &#125; getMoney():number&#123; return this.money &#125;&#125;let p = new Parent(&quot;TypeScript&quot;,28,10)console.log(p.name)console.log(p.age) // Êä•Èîôconsole.log(p.money) // Êä•Èîô ÈùôÊÄÅÂ±ûÊÄß„ÄÅÈùôÊÄÅÊñπÊ≥ïÔºåË∑ües6Â∑Æ‰∏çÂ§öclass Person{ // ËøôÊòØÁ±ªÁöÑÈùôÊÄÅÂ±ûÊÄß static name = &quot;TypeScript&quot; // ËøôÊòØÁ±ªÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÈúÄË¶ÅÈÄöËøáËøô‰∏™Á±ªÂéªË∞ÉÁî® static say(){ console.log(&quot;hello swr&quot;) } } let p = new Person() Person.say() // hello swr p.say() // Êä•Èîô ÊäΩË±°Á±ªÊäΩË±°Á±ªÂíåÊñπÊ≥ïÔºåÊúâÁÇπÁ±ª‰ººÊäΩÂèñÂÖ±ÊÄßÂá∫Êù•Ôºå‰ΩÜÊòØÂèà‰∏çÊòØÂÖ∑‰ΩìÂåñÔºåÊØîÂ¶ÇËØ¥Ôºå‰∏ñÁïå‰∏äÁöÑÂä®Áâ©ÈÉΩÈúÄË¶ÅÂêÉ‰∏úË•øÔºåÈÇ£‰πà‰ºöÊääÂêÉ‰∏úË•øËøô‰∏™Ë°å‰∏∫ÔºåÊäΩË±°Âá∫Êù•„ÄÇ Â¶ÇÊûúÂ≠êÁ±ªÁªßÊâøÁöÑÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÂ≠êÁ±ªÂøÖÈ°ªÂÆûÁé∞Áà∂Á±ªÈáåÁöÑÊäΩË±°ÊñπÊ≥ïÔºå‰∏çÁÑ∂ÁöÑËØù‰∏çËÉΩÂÆû‰æãÂåñÔºå‰ºöÊä•Èîô„ÄÇ // ÂÖ≥ÈîÆÂ≠ó abstract ÊäΩË±°ÁöÑÊÑèÊÄù // È¶ñÂÖàÂÆö‰πâ‰∏™ÊäΩË±°Á±ªAnimal // AnimalÁ±ªÊúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïeat abstract class Animal{ // ÂÆûÈôÖ‰∏äÊòØ‰ΩøÁî®‰∫Üpublic‰øÆÈ•∞Á¨¶ // Â¶ÇÊûúÊ∑ªÂä†private‰øÆÈ•∞Á¨¶Âàô‰ºöÊä•Èîô abstract eat():void; } // ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰∏™AnimalÁ±ªÊòØ‰∏çËÉΩÂÆû‰æãÂåñÁöÑ let animal = new Animal() // Êä•Èîô // ÊäΩË±°Á±ªÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÊÑèÊÄùÂ∞±ÊòØÔºåÈúÄË¶ÅÂú®ÁªßÊâøËøô‰∏™ÊäΩË±°Á±ªÁöÑÂ≠êÁ±ª‰∏≠ // ÂÆûÁé∞Ëøô‰∏™ÊäΩË±°ÊñπÊ≥ïÔºå‰∏çÁÑ∂‰ºöÊä•Èîô // Êä•ÈîôÔºåÂõ†‰∏∫Âú®Â≠êÁ±ª‰∏≠Ê≤°ÊúâÂÆûÁé∞eatÊäΩË±°ÊñπÊ≥ï class Person extends Animal{ eat1(){ console.log(&quot;ÂêÉÁ±≥È•≠&quot;) } } // DogÁ±ªÁªßÊâøAnimalÁ±ªÂêéÂπ∂‰∏îÂÆûÁé∞‰∫ÜÊäΩË±°ÊñπÊ≥ïeatÔºåÊâÄ‰ª•‰∏ç‰ºöÊä•Èîô class Dog extends Animal{ eat(){ console.log(&quot;ÂêÉÈ™®Â§¥&quot;) } } ‰∫î„ÄÅÊé•Âè£ËøôÈáåÁöÑÊé•Âè£Ôºå‰∏ªË¶ÅÊòØ‰∏ÄÁßçËßÑËåÉÔºåËßÑËåÉÊüê‰∫õÁ±ªÂøÖÈ°ªÈÅµÂÆàËßÑËåÉÔºåÂíåÊäΩË±°Á±ªÊúâÁÇπÁ±ª‰ººÔºå‰ΩÜÊòØ‰∏çÂ±ÄÈôê‰∫éÁ±ªÔºåËøòÊúâÂ±ûÊÄß„ÄÅÂáΩÊï∞Á≠â„ÄÇ È¶ñÂÖàÊàë‰ª¨ÁúãÁúãÊé•Âè£ÊòØÂ¶Ç‰ΩïËßÑËåÉÂØπË±°ÁöÑ// ÂÅáËÆæÊàëÈúÄË¶ÅËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ // Êàë‰ª¨ÈÄöËøáËøôÊ†∑ÁöÑÊñπÂºèÔºåËßÑËåÉÂøÖÈ°ª‰º†nameÂíåageÁöÑÂÄº function getUserInfo(user:{name:string,age:number}){ console.log(`${user.name}${user.age}`) } getUserInfo({name:&quot;TypeScript&quot;,age:28}) ËøôÊ†∑ÁúãÔºåËøòÊòØÊå∫ÂÆåÁæéÁöÑÔºåÈÇ£‰πàÈóÆÈ¢òÂ∞±Âá∫Áé∞‰∫ÜÔºåÂ¶ÇÊûúÊàëÂè¶Â§ñËøòÊúâ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰πüÊòØÈúÄË¶ÅËøô‰∏™ËßÑËåÉÂë¢Ôºü function getUserInfo(user:{name:string,age:number}){ console.log(`${user.name}${user.age}`) } function getInfo(user:{name:string,age:number}){ console.log(`${user.name}${user.age}`) } getUserInfo({name:&quot;TypeScript&quot;,age:28}) getInfo({name:&quot;iamswr&quot;,age:28}) ÂèØ‰ª•ÁúãÂá∫ÔºåÂáΩÊï∞getUserInfoÂíågetInfoÈÉΩÈÅµÂæ™Âêå‰∏Ä‰∏™ËßÑËåÉÔºåÈÇ£‰πàÊàë‰ª¨ÊúâÂäûÊ≥ïÂØπËøô‰∏™ËßÑËåÉÂ§çÁî®ÂêóÔºü // È¶ñÂÖàÊääÈúÄË¶ÅÂ§çÁî®ÁöÑËßÑËåÉÔºåÂÜôÂà∞Êé•Âè£‰∏≠ ÂÖ≥ÈîÆÂ≠ó interface interface infoInterface{ name:string, age:number } // ÁÑ∂ÂêéÊääËøô‰∏™Êé•Âè£ÔºåÊõøÊç¢Âà∞Êàë‰ª¨ÈúÄË¶ÅÂ§çÁî®ÁöÑÂú∞Êñπ function getUserInfo(user:infoInterface){ console.log(`${user.name}${user.age}`) } function getInfo(user:infoInterface){ console.log(`${user.name}${user.age}`) } getUserInfo({name:&quot;TypeScript&quot;,age:28}) getInfo({name:&quot;iamswr&quot;,age:28}) ÈÇ£‰πàÊúâ‰∫õÂèÇÊï∞ÂèØ‰º†ÂèØ‰∏ç‰º†ÔºåËØ•ÊÄé‰πàÂ§ÑÁêÜÂë¢Ôºü interface infoInterface{ name:string, age:number, city?:string // ËØ•ÂèÇÊï∞‰∏∫ÂèØÈÄâÂèÇÊï∞ } function getUserInfo(user:infoInterface){ console.log(`${user.name}${user.age}${user.city}`) } function getInfo(user:infoInterface){ console.log(`${user.name}${user.age}`) } getUserInfo({name:&quot;TypeScript&quot;,age:28,city:&quot;Ê∑±Âú≥&quot;}) getInfo({name:&quot;iamswr&quot;,age:28}) Êé•Âè£ÊòØÂ¶Ç‰ΩïËßÑËåÉÂáΩÊï∞ÁöÑ// ÂØπ‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞ÂíåËøîÂõûÂÄºËøõË°åËßÑËåÉ interface mytotal { // Â∑¶‰æßÊòØÂáΩÊï∞ÁöÑÂèÇÊï∞ÔºåÂè≥‰æßÊòØÂáΩÊï∞ÁöÑËøîÂõûÁ±ªÂûã (a:number,b:number) : number } let total:mytotal = function (a:number,b:number):number { return a + b } console.log(total(10,20)) Êé•Âè£ÊòØÂ¶Ç‰ΩïËßÑËåÉÊï∞ÁªÑÁöÑinterface userInterface { // index‰∏∫Êï∞ÁªÑÁöÑÁ¥¢ÂºïÔºåÁ±ªÂûãÊòØnumber // Âè≥ËæπÊòØÊï∞ÁªÑÈáå‰∏∫Â≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑÊàêÂëò [index: number]: string } let arr: userInterface = [&apos;TypeScript&apos;, &apos;iamswr&apos;]; console.log(arr); Êé•Âè£ÊòØÂ¶Ç‰ΩïËßÑËåÉÁ±ªÁöÑËøô‰∏™ÊØîËæÉÈáçË¶ÅÔºåÂõ†‰∏∫ÂÜôreactÁöÑÊó∂ÂÄô‰ºöÁªèÂ∏∏‰ΩøÁî®Âà∞Á±ª // È¶ñÂÖàÂÆûÁé∞‰∏Ä‰∏™Êé•Âè£ interface Animal{ // Ëøô‰∏™Á±ªÂøÖÈ°ªÊúâname name:string, // Ëøô‰∏™Á±ªÂøÖÈ°ªÊúâeatÊñπÊ≥ï // ËßÑÂÆöeatÊñπÊ≥ïÁöÑÂèÇÊï∞Á±ªÂûã‰ª•ÂèäËøîÂõûÂÄºÁ±ªÂûã eat(any:string):void } // ÂÖ≥ÈîÆÂ≠ó implements ÂÆûÁé∞ // Âõ†‰∏∫Êé•Âè£ÊòØÊäΩË±°ÁöÑÔºåÈúÄË¶ÅÈÄöËøáÂ≠êÁ±ªÂéªÂÆûÁé∞ÂÆÉ class Person implements Animal{ name:string constructor(name:string){ this.name = name } eat(any:string):void{ console.log(`ÂêÉ${any}`) } } ÈÇ£‰πàÂ¶ÇÊûúÊÉ≥ÈÅµÂæ™Â§ö‰∏™Êé•Âè£Âë¢Ôºü interface Animal{ name:string, eat(any:string):void } // Êñ∞Â¢û‰∏Ä‰∏™Êé•Âè£ interface Animal2{ sleep():void } // ÂèØ‰ª•Âú®implementsÂêéÈù¢ÈÄöËøáÈÄóÂè∑Ê∑ªÂä†ÔºåÂíåjavaÊòØ‰∏ÄÊ†∑ÁöÑ // ‰∏Ä‰∏™Á±ªÂè™ËÉΩÁªßÊâø‰∏Ä‰∏™Áà∂Á±ªÔºå‰ΩÜÊòØÂç¥ËÉΩÈÅµÂæ™Â§ö‰∏™Êé•Âè£ class Person implements Animal,Animal2{ name:string constructor(name:string){ this.name = name } eat(any:string):void{ console.log(`ÂêÉ${any}`) } sleep(){ console.log(&apos;Áù°Ëßâ&apos;) } } Êé•Âè£ÂèØ‰ª•ÁªßÊâøÊé•Âè£interface Animal{ name:string, eat(any:string):void } // ÂÉèÁ±ª‰∏ÄÊ†∑ÔºåÈÄöËøáextendsÁªßÊâø interface Animal2 extends Animal{ sleep():void } // Âõ†‰∏∫Animal2Á±ªÁªßÊâø‰∫ÜAnimal // ÊâÄ‰ª•ËøôÈáåÈÅµÂæ™Animal2Â∞±Áõ∏ÂΩì‰∫éÊääAnimal‰πüÁªßÊâø‰∫Ü class Person implements Animal2{ name:string constructor(name:string){ this.name = name } eat(any:string):void{ console.log(`ÂêÉ${any}`) } sleep(){ console.log(&apos;Áù°Ëßâ&apos;) } } ÂÖ≠„ÄÅÊ≥õÂûãÊ≥õÂûãÂèØ‰ª•ÊîØÊåÅ‰∏çÁâπÂÆöÁöÑÊï∞ÊçÆÁ±ªÂûãÔºå‰ªÄ‰πàÂè´‰∏çÁâπÂÆöÂë¢ÔºüÊØîÂ¶ÇÊàë‰ª¨Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÈáåÈù¢Êé•Êî∂ÂèÇÊï∞Ôºå‰ΩÜÊòØÂèÇÊï∞Á±ªÂûãÊàë‰ª¨ÊòØ‰∏çÁü•ÈÅìÔºå‰ΩÜÊòØËøô‰∏™Á±ªÂûãÂú®ÊñπÊ≥ïÈáåÈù¢ÂæàÂ§öÂú∞Êñπ‰ºöÁî®Âà∞ÔºåÂèÇÊï∞ÂíåËøîÂõûÂÄºË¶Å‰øùÊåÅ‰∏ÄËá¥ÊÄß // ÂÅáËÆæÊàë‰ª¨Êúâ‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÊàë‰ª¨‰∏çÁü•ÈÅìÂáΩÊï∞Êé•Êî∂‰ªÄ‰πàÁ±ªÂûãÁöÑÂèÇÊï∞Ôºå‰πü‰∏çÁü•ÈÅìËøîÂõûÂÄºÁöÑÁ±ªÂûã // ËÄåÊàë‰ª¨ÂèàÈúÄË¶Å‰º†ËøõÂéªÁöÑÂèÇÊï∞Á±ªÂûãÂíåËøîÂõûÂÄºÁöÑÁ±ªÂûã‰øùÊåÅ‰∏ÄËá¥ÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÈúÄË¶ÅÁî®Âà∞Ê≥õÂûã // &lt;T&gt;ÁöÑÊÑèÊÄùÊòØÊ≥õÂûãÔºåÂç≥generic type // ÂèØ‰ª•ÁúãÂá∫valueÁöÑÁ±ªÂûã‰πü‰∏∫TÔºåËøîÂõûÂÄºÁöÑÁ±ªÂûã‰πü‰∏∫T function deal&lt;T&gt;(value:T):T{ return value } // ‰∏ãÈù¢ÁöÑ&lt;string&gt;„ÄÅ&lt;number&gt;ÂÆûÈôÖ‰∏äÁî®ÁöÑÊó∂ÂÄôÂÜç‰º†Áªô‰∏äÈù¢ÁöÑ&lt;T&gt; console.log(deal&lt;string&gt;(&quot;TypeScript&quot;)) console.log(deal&lt;number&gt;(28)) ÂÆûÈôÖ‰∏äÔºåÊ≥õÂûãÁî®ÂæóËøòÊòØÊØîËæÉÂ∞ëÔºå‰∏ªË¶ÅÊòØÁúãÁ±ªÁöÑÊ≥õÂûãÊòØÂ¶Ç‰Ωï‰ΩøÁî®ÁöÑclass MyMath&lt;T&gt;{ // ÂÆö‰πâ‰∏Ä‰∏™ÁßÅÊúâÂ±ûÊÄß private arr:T[] = [] // ËßÑÂÆö‰º†ÂèÇÁ±ªÂûã add(value:T){ this.arr.push(value) } // ËßÑÂÆöËøîÂõûÂÄºÁöÑÁ±ªÂûã max():T{ return Math.max.apply(null,this.arr) } } // ËøôÈáåËßÑÂÆö‰∫ÜÁ±ªÂûã‰∏∫number // Áõ∏ÂΩì‰∫éÊääTÈÉΩÊõøÊç¢Êàênumber let mymath = new MyMath&lt;number&gt;() mymath.add(1) mymath.add(2) mymath.add(3) console.log(mymath.max()) // ÂÅáËÆæÊàë‰ª¨‰º†‰∏™Â≠óÁ¨¶‰∏≤Âë¢Ôºü // Âàô‰ºöÊä•Èîô:Á±ªÂûã‚Äú&quot;TypeScript&quot;‚ÄùÁöÑÂèÇÊï∞‰∏çËÉΩËµãÁªôÁ±ªÂûã‚Äúnumber‚ÄùÁöÑÂèÇÊï∞„ÄÇ mymath.add(&quot;TypeScript&quot;) ÈÇ£‰πàÊàë‰ª¨‰ºöÊÄùËÄÉÔºåÊúâ‰∫ÜÊé•Âè£‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅÊäΩË±°Á±ªÔºü Êé•Âè£ÈáåÈù¢Âè™ËÉΩÊîæÂÆö‰πâÔºåÊäΩË±°Á±ªÈáåÈù¢ÂèØ‰ª•ÊîæÊôÆÈÄöÁ±ª„ÄÅÊôÆÈÄöÁ±ªÁöÑÊñπÊ≥ï„ÄÅÂÆö‰πâÊäΩË±°ÁöÑ‰∏úË•ø„ÄÇ ÊØîÂ¶ÇËØ¥ÔºåÊàë‰ª¨Áà∂Á±ªÊúâ10‰∏™ÊñπÊ≥ïÔºåÂÖ∂‰∏≠9‰∏™ÊòØÂÆûÁé∞ËøáÁöÑÊñπÊ≥ïÔºåÊúâ1‰∏™ÊòØÊäΩË±°ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂ≠êÁ±ªÁªßÊâøËøáÊù•ÔºåÂè™ÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏Ä‰∏™ÊäΩË±°ÁöÑÊñπÊ≥ïÂ∞±ÂèØ‰ª•‰∫ÜÔºå‰ΩÜÊòØÊé•Âè£ÁöÑËØùÔºåÂàôÊòØÂÖ®ÊòØÊäΩË±°ÁöÑÔºåÂ≠êÁ±ªÈÉΩË¶ÅÂÆûÁé∞Ëøô‰∫õÊñπÊ≥ïÔºåÁÆÄËÄåË®Ä‰πãÔºåÊé•Âè£ÈáåÈù¢‰∏çÂèØ‰ª•ÊîæÂÆûÁé∞ÔºåËÄåÊäΩË±°Á±ªÂèØ‰ª•ÊîæÂÆûÁé∞„ÄÇ]]></content>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÊ∫êÁ†ÅÂøÖÁü•ÂøÖ‰ºö]]></title>
    <url>%2F2018%2F05%2F02%2FVue%E6%BA%90%E7%A0%81%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%2F</url>
    <content type="text"><![CDATA[‰ªãÁªçVue.jsÊ∫êÁ†ÅÂàÜÊûêÔºåËÆ∞ÂΩï‰∫Ü‰∏™‰∫∫Â≠¶‰π†Vue.jsÊ∫êÁ†ÅÁöÑËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õÂøÉÂæó‰ª•ÂèäÊî∂Ëé∑„ÄÇ‰ª•ÂèäÂØπ‰∫éVueÊ°ÜÊû∂ÔºåÂë®ËæπÂ∫ìÁöÑ‰∏Ä‰∫õÂ≠¶‰π†ÂøÉÂæóÂíå‰∏™‰∫∫ËßÅËß£„ÄÇ Âú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠ÊàëÂàÜÂà´‰∏∫Vue.js„ÄÅVuex„ÄÅVue-routerÂä†‰∏ä‰∫ÜÊ≥®ÈáäÔºåÂàÜÂà´Âú®Êñá‰ª∂Â§πvue-src„ÄÅvuex-src‰ª•Âèävue-router-src‰∏≠ÔºåÂ∏åÊúõÂèØ‰ª•Â∏ÆÂä©ÊúâÈúÄË¶ÅÁöÑÂêåÂ≠¶Êõ¥Â•ΩÂú∞Â≠¶‰π†ÁêÜËß£Vue.jsÂèäÂë®ËæπÂ∫ìÁöÑÊ∫êÁ†Å„ÄÇ ÊÑüË∞¢Â∞§Â§ßÊèêÈ´òÁîü‰∫ßÂäõ„ÄÇ ÂΩìÂâçVue.jsÊ∫êÁ†ÅÁâàÊú¨2.3.0ÔºåVuexÁâàÊú¨‰∏∫2.4.0ÔºåVue-routerÁâàÊú¨‰∏∫3.0.1„ÄÇ Êú¨È°πÁõÆÂ∏åÊúõÂØπVue.jsÂÅöÊõ¥Ëøõ‰∏ÄÊ≠•ÁöÑÊé¢Á¥¢‰∏éÂ≠¶‰π†ÔºåVue.jsÂü∫Á°ÄÂÜÖÂÆπËØ∑ÂèÇËÄÉVue.jsÂÆòÁΩëÔºåhttps://cn.vuejs.org/v2/guide/„ÄÇ ÂèØËÉΩ‰ºöÊúâÁêÜËß£Â≠òÂú®ÂÅèÂ∑ÆÁöÑÂú∞ÊñπÔºåÊ¨¢ËøéÊèêissueÊåáÂá∫ÔºåÂÖ±ÂêåÂ≠¶‰π†ÔºåÂÖ±ÂêåËøõÊ≠•„ÄÇ ÁõÆÂΩïÊ∫êÁ†ÅÁõ∏ÂÖ≥Vue.jsÂìçÂ∫îÂºèÂéüÁêÜ Vue.js‰æùËµñÊî∂ÈõÜ ‰ªéVue.jsÊ∫êÁ†ÅËßíÂ∫¶ÂÜçÁúãÊï∞ÊçÆÁªëÂÆö Vue.js‰∫ã‰ª∂Êú∫Âà∂ VNodeËäÇÁÇπ(Vue.jsÂÆûÁé∞) Virtual DOM‰∏édiff(Vue.jsÂÆûÁé∞) ËÅäËÅäVue.jsÁöÑtemplateÁºñËØë Vue.jsÂºÇÊ≠•Êõ¥Êñ∞DOMÁ≠ñÁï•ÂèänextTick ‰ªétemplateÂà∞DOMÔºàVue.jsÊ∫êÁ†ÅËßíÂ∫¶ÁúãÂÜÖÈÉ®ËøêË°åÊú∫Âà∂Ôºâ VuexÊ∫êÁ†ÅËß£Êûê ÈöèÁ¨îÊùÇË∞àVueÁªÑ‰ª∂Èó¥ÈÄö‰ø° ËØ¥ËØ¥elementÁªÑ‰ª∂Â∫ìbroadcast‰∏édispatch ËØ•Ê∫êÁ†ÅÂàÜÊûêÔºå‰ºöÂ∏¶ÁùÄÂ§ßÂÆ∂‰∏ÄËµ∑Â≠¶‰π†VueÁöÑÂ§ßÈÉ®ÂàÜ‰ª£Á†ÅÔºåËÄå‰∏çÊòØÁÆÄÂçïÁöÑËÆ≤‰∏Ä‰∏ãÂÆÉÁöÑÂéüÁêÜÔºåÊàë‰ºöÂ∞ΩÂèØËÉΩÁöÑÂ§öËß£ÈáäÊØè‰∏ÄË°å‰∏ªË¶ÅÁöÑ‰ª£Á†ÅÂê´‰πâÔºåÂè¶Â§ñ‰∏Ä‰∫õËæÖÂä©ÊñπÊ≥ï‰ªÄ‰πàÁöÑÔºåÂ§ßÂÆ∂ÂèØ‰ª•Âú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠ÔºåËá™Â∑±Áúã‰∏ÄÁúºÂ∞±Áü•ÈÅì‰∫Ü„ÄÇ VueÊ∫êÁ†ÅÁõÆÂΩïÁªìÊûÑÊï¥ÁêÜ ‰ªéÂÖ•Âè£Êñá‰ª∂Êü•ÁúãVueÊ∫êÁ†Å ‰ªéÂ∞èÊ†óÂ≠êÊü•ÁúãVueÁöÑÁîüÂëΩÂë®Êúü ÂèåÂêëÊï∞ÊçÆÁªëÂÆö compileÊ¶ÇËø∞ compile‚Äî‚ÄîÁîüÊàêast compile‚Äî‚Äî‰ºòÂåñÈùôÊÄÅÂÜÖÂÆπ compile‚Äî‚ÄîÁîüÊàêrenderÂ≠óÁ¨¶‰∏≤ vdomÊ¶ÇËø∞ Vue.extend vdom‚Äî‚ÄîVNode childrenÁöÑÂΩí‰∏ÄÂåñÂ§ÑÁêÜ patch‚Äî‚ÄîÂàõÂª∫dom patch‚Äî‚Äîdiff patch‚Äî‚ÄîËá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÂ§ÑÁêÜÊµÅÁ®ã ‰∫ã‰ª∂Â§ÑÁêÜ Êåá‰ª§ÁöÑÂ§ÑÁêÜ directivesÊ¶ÇËø∞ Ëá™ÂÆö‰πâÊåá‰ª§ v-for v-if v-once v-show v-text„ÄÅv-html„ÄÅv-cloak„ÄÅv-pre v-model ÂÜÖÁΩÆÁªÑ‰ª∂ÂíåÊ†áÁ≠æ slotÂíå‰ΩúÁî®ÂüüÊèíÊßΩ keep-alive ‰ª•‰∏ãÊòØÊï¥ÁêÜ‰∏Ä‰∫õÊØîËæÉÈõ∂Êï£ÁöÑÊï∞ÊçÆÔºå‰∏ªË¶ÅÊòØËÆ∞ÂΩïÁªìÊûÑ‰∏≠ÊØè‰∏™Êï∞ÊçÆË°®Á§∫‰ªÄ‰πàÊÑèÊÄùÔºå‰ºö‰∏çÊñ≠ÂÆåÂñÑÊõ¥Êñ∞Ôºö VueÂÖ®Â±ÄÂ±ûÊÄß VueÂÆû‰æãÂ±ûÊÄß AstElement VNode]]></content>
      <tags>
        <tag>Vue</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[20‰∏™ CSSÈ´òÁ∫ßÊäÄÂ∑ßÊ±áÊÄª]]></title>
    <url>%2F2018%2F05%2F02%2F20%E4%B8%AACSS%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®ÊäÄÂ∑ß‰ºöËÆ©‰∫∫ÂèòÁöÑË∂äÊù•Ë∂äÊáíÔºåÊ≤°ÈîôÔºåÊàëÂ∞±ÊòØÊÉ≥ËÆ©‰Ω†ÂèòÊáí„ÄÇ‰∏ãÈù¢ÊòØÊàëÊî∂ÈõÜÁöÑCSSÈ´òÁ∫ßÊäÄÂ∑ßÔºåÂ∏åÊúõ‰Ω†ÊáíÂá∫Â¢ÉÁïå„ÄÇ 1. ÈªëÁôΩÂõæÂÉèËøôÊÆµ‰ª£Á†Å‰ºöËÆ©‰Ω†ÁöÑÂΩ©Ëâ≤ÁÖßÁâáÊòæÁ§∫‰∏∫ÈªëÁôΩÁÖßÁâáÔºåÊòØ‰∏çÊòØÂæàÈÖ∑Ôºü img.desaturate { filter: grayscale(100%); -webkit-filter: grayscale(100%); -moz-filter: grayscale(100%); -ms-filter: grayscale(100%); -o-filter: grayscale(100%); } 2. ‰ΩøÁî® :not() Âú®ËèúÂçï‰∏äÂ∫îÁî®/ÂèñÊ∂àÂ∫îÁî®ËæπÊ°ÜÂÖàÁªôÊØè‰∏Ä‰∏™ËèúÂçïÈ°πÊ∑ªÂä†ËæπÊ°Ü /* add border */ .nav li { border-right: 1px solid #666; } ÁÑ∂ÂêéÂÜçÈô§ÂéªÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥† // remove border / .nav li:last-child { border-right: none; } ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® :not() ‰º™Á±ªÊù•Â∫îÁî®ÂÖÉÁ¥†Ôºö .nav li:not(:last-child) { border-right: 1px solid #666; } ËøôÊ†∑‰ª£Á†ÅÂ∞±Âπ≤ÂáÄÔºåÊòìËØªÔºåÊòì‰∫éÁêÜËß£‰∫Ü„ÄÇ ÂΩìÁÑ∂ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÊñ∞ÂÖÉÁ¥†ÊúâÂÖÑÂºüÂÖÉÁ¥†ÁöÑËØùÔºå‰πüÂèØ‰ª•‰ΩøÁî®ÈÄöÁî®ÁöÑÂÖÑÂºüÈÄâÊã©Á¨¶Ôºà~ÔºâÔºö .nav li:first-child ~ li { border-left: 1px solid #666; } 3. È°µÈù¢È°∂ÈÉ®Èò¥ÂΩ±‰∏ãÈù¢Ëøô‰∏™ÁÆÄÂçïÁöÑ CSS3 ‰ª£Á†ÅÁâáÊÆµÂèØ‰ª•ÁªôÁΩëÈ°µÂä†‰∏äÊºÇ‰∫ÆÁöÑÈ°∂ÈÉ®Èò¥ÂΩ±ÊïàÊûúÔºö body:before { content: &quot;&quot;; position: fixed; top: -10px; left: 0; width: 100%; height: 10px; -webkit-box-shadow: 0px 0px 10px rgba(0,0,0,.8); -moz-box-shadow: 0px 0px 10px rgba(0,0,0,.8); box-shadow: 0px 0px 10px rgba(0,0,0,.8); z-index: 100; } 4. Áªô body Ê∑ªÂä†Ë°åÈ´ò‰Ω†‰∏çÈúÄË¶ÅÂàÜÂà´Ê∑ªÂä† line-height Âà∞ÊØè‰∏™p,hÊ†áËÆ∞Á≠â„ÄÇÂè™Ë¶ÅÊ∑ªÂä†Âà∞ body Âç≥ÂèØÔºö body { line-height: 1; } ËøôÊ†∑ÊñáÊú¨ÂÖÉÁ¥†Â∞±ÂèØ‰ª•ÂæàÂÆπÊòìÂú∞‰ªé body ÁªßÊâø„ÄÇ 5. ÊâÄÊúâ‰∏ÄÂàáÈÉΩÂûÇÁõ¥Â±Ö‰∏≠Ë¶ÅÂ∞ÜÊâÄÊúâÂÖÉÁ¥†ÂûÇÁõ¥Â±Ö‰∏≠ÔºåÂ§™ÁÆÄÂçï‰∫ÜÔºö html, body { height: 100%; margin: 0; } body { -webkit-align-items: center; -ms-flex-align: center; align-items: center; display: -webkit-flex; display: flex; } ÁúãÔºåÊòØ‰∏çÊòØÂæàÁÆÄÂçï„ÄÇ Ê≥®ÊÑèÔºöÂú®IE11‰∏≠Ë¶ÅÂ∞èÂøÉflexbox 6. ÈÄóÂè∑ÂàÜÈöîÁöÑÂàóË°®ËÆ©HTMLÂàóË°®È°πÁúã‰∏äÂéªÂÉè‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÔºåÁî®ÈÄóÂè∑ÂàÜÈöîÁöÑÂàóË°®Ôºö ul &gt; li:not(:last-child)::after { content: &quot;,&quot;; } ÂØπÊúÄÂêé‰∏Ä‰∏™ÂàóË°®È°π‰ΩøÁî® :not() ‰º™Á±ª„ÄÇ 7. ‰ΩøÁî®Ë¥üÁöÑ nth-child ÈÄâÊã©È°πÁõÆÂú®CSS‰∏≠‰ΩøÁî®Ë¥üÁöÑ nth-child ÈÄâÊã©È°πÁõÆ1Âà∞È°πÁõÆn„ÄÇ li { display: none; } /* select items 1 through 3 and display them */ li:nth-child(-n+3) { display: block; } 8. ÂØπÂõæÊ†á‰ΩøÁî® SVGÊàë‰ª¨Ê≤°ÊúâÁêÜÁî±‰∏çÂØπÂõæÊ†á‰ΩøÁî®SVGÔºö .logo { background: url(&quot;logo.svg&quot;); } SVGÂØπÊâÄÊúâÁöÑÂàÜËæ®ÁéáÁ±ªÂûãÈÉΩÂÖ∑ÊúâËâØÂ•ΩÁöÑÊâ©Â±ïÊÄßÔºåÂπ∂ÊîØÊåÅÊâÄÊúâÊµèËßàÂô®ÈÉΩÂõûÂΩíÂà∞IE9„ÄÇËøôÊ†∑ÂèØ‰ª•ÈÅøÂºÄ.png„ÄÅ.jpgÊàñ.gifÊñá‰ª∂‰∫Ü„ÄÇ 9. ‰ºòÂåñÊòæÁ§∫ÊñáÊú¨ÊúâÊó∂ÔºåÂ≠ó‰ΩìÂπ∂‰∏çËÉΩÂú®ÊâÄÊúâËÆæÂ§á‰∏äÈÉΩËææÂà∞ÊúÄ‰Ω≥ÁöÑÊòæÁ§∫ÔºåÊâÄ‰ª•ÂèØ‰ª•ËÆ©ËÆæÂ§áÊµèËßàÂô®Êù•Â∏ÆÂä©‰Ω†Ôºö html { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; } Ê≥®ÔºöËØ∑Ë¥üË¥£‰ªªÂú∞‰ΩøÁî® optimizeLegibility„ÄÇÊ≠§Â§ñÔºåIE /EdgeÊ≤°Êúâ text-rendering ÊîØÊåÅ„ÄÇ 10. ÂØπÁ∫Ø CSS ÊªëÂùó‰ΩøÁî® max-height‰ΩøÁî® max-height ÂíåÊ∫¢Âá∫ÈöêËóèÊù•ÂÆûÁé∞Âè™ÊúâCSSÁöÑÊªëÂùóÔºö .slider ul { max-height: 0; overlow: hidden; } .slider:hover ul { max-height: 1000px; transition: .3s ease; } 11. ÁªßÊâø box-sizingËÆ© box-sizing ÁªßÊâø htmlÔºö html { box-sizing: border-box; } *, *:before, *:after { box-sizing: inherit; } ËøôÊ†∑Âú®Êèí‰ª∂ÊàñÊù†ÊùÜÂÖ∂‰ªñË°å‰∏∫ÁöÑÂÖ∂‰ªñÁªÑ‰ª∂‰∏≠Â∞±ËÉΩÊõ¥ÂÆπÊòìÂú∞ÊîπÂèò box-sizing ‰∫Ü„ÄÇ 12. Ë°®Ê†ºÂçïÂÖÉÊ†ºÁ≠âÂÆΩË°®Ê†ºÂ∑•‰ΩúËµ∑Êù•ÂæàÈ∫ªÁÉ¶ÔºåÊâÄ‰ª•Âä°ÂøÖÂ∞ΩÈáè‰ΩøÁî® table-layout: fixed Êù•‰øùÊåÅÂçïÂÖÉÊ†ºÁöÑÁ≠âÂÆΩÔºö .calendar { table-layout: fixed; } 13. Áî® Flexbox ÊëÜËÑ±Â§ñËæπË∑ùÁöÑÂêÑÁßç hackÂΩìÈúÄË¶ÅÁî®Âà∞ÂàóÂàÜÈöîÁ¨¶Êó∂ÔºåÈÄöËøáflexboxÁöÑ space-between Â±ûÊÄßÔºå‰Ω†Â∞±ÂèØ‰ª•ÊëÜËÑ±nth-Ôºåfirst-ÔºåÂíå last-child ÁöÑhack‰∫ÜÔºö .list { display: flex; justify-content: space-between; } .list .person { flex-basis: 23%; } Áé∞Âú®ÔºåÂàóË°®ÂàÜÈöîÁ¨¶Â∞±‰ºöÂú®ÂùáÂåÄÈó¥ÈöîÁöÑ‰ΩçÁΩÆÂá∫Áé∞„ÄÇ 14. ‰ΩøÁî®Â±ûÊÄßÈÄâÊã©Âô®Áî®‰∫éÁ©∫ÈìæÊé•ÂΩìaÂÖÉÁ¥†Ê≤°ÊúâÊñáÊú¨ÂÄºÔºå‰ΩÜ href Â±ûÊÄßÊúâÈìæÊé•ÁöÑÊó∂ÂÄôÊòæÁ§∫ÈìæÊé•Ôºö a[href^=&quot;http&quot;]:empty::before { content: attr(href); } Áõ∏ÂΩìÊñπ‰æø„ÄÇ 15. Ê£ÄÊµãÈº†Ê†áÂèåÂáªHTMLÔºö &lt;div class=&quot;test3&quot;&gt; &lt;span&gt;&lt;input type=&quot;text&quot; value=&quot; &quot; readonly=&quot;true&quot; /&gt; &lt;a href=&quot;http://renpingjun.com&quot;&gt;Double click me&lt;/a&gt;&lt;/span&gt; &lt;/div&gt; CSSÔºö .test3 span { position: relative; } .test3 span a { position: relative; z-index: 2; } .test3 span a:hover, .test3 span a:active { z-index: 4; } .test3 span input { background: transparent; border: 0; cursor: pointer; position: absolute; top: -1px; left: 0; width: 101%; /* Hacky */ height: 301%; /* Hacky */ z-index: 3; } .test3 span input:focus { background: transparent; border: 0; z-index: 1; } 16. CSS ÂÜôÂá∫‰∏âËßíÂΩ¢/* create an arrow that points up */ div.arrow-up { width:0px; height:0px; border-left:5px solid transparent; /* left arrow slant */ border-right:5px solid transparent; /* right arrow slant */ border-bottom:5px solid #2f2f2f; /* bottom, add background color here */ font-size:0px; line-height:0px; } /* create an arrow that points down */ div.arrow-down { width:0px; height:0px; border-left:5px solid transparent; border-right:5px solid transparent; border-top:5px solid #2f2f2f; font-size:0px; line-height:0px; } /* create an arrow that points left */ div.arrow-left { width:0px; height:0px; border-bottom:5px solid transparent; /* left arrow slant */ border-top:5px solid transparent; /* right arrow slant */ border-right:5px solid #2f2f2f; /* bottom, add background color here */ font-size:0px; line-height:0px; } /* create an arrow that points right */ div.arrow-right { width:0px; height:0px; border-bottom:5px solid transparent; /* left arrow slant */ border-top:5px solid transparent; /* right arrow slant */ border-left:5px solid #2f2f2f; /* bottom, add background color here */ font-size:0px; line-height:0px; } 17. CSS3 calc() ÁöÑ‰ΩøÁî®calc() Áî®Ê≥ïÁ±ª‰ºº‰∫éÂáΩÊï∞ÔºåËÉΩÂ§üÁªôÂÖÉÁ¥†ËÆæÁΩÆÂä®ÊÄÅÁöÑÂÄºÔºö /* basic calc */ .simpleBlock { width: calc(100% - 100px); } /* calc in calc */ .complexBlock { width: calc(100% - 50% / 3); padding: 5px calc(3% - 2px); margin-left: calc(10% + 10px); } 18. ÊñáÊú¨Ê∏êÂèòÊñáÊú¨Ê∏êÂèòÊïàÊûúÂæàÊµÅË°åÔºå‰ΩøÁî® CSS3 ËÉΩÂ§üÂæàÁÆÄÂçïÂ∞±ÂÆûÁé∞Ôºö h2[data-text] { position: relative; } h2[data-text]::after { content: attr(data-text); z-index: 10; color: #e3e3e3; position: absolute; top: 0; left: 0; -webkit-mask-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,0)), color-stop(50%, rgba(0,0,0,1)), to(rgba(0,0,0,0)));} 19. Á¶ÅÁî®Èº†Ê†á‰∫ã‰ª∂CSS3 Êñ∞Â¢ûÁöÑ pointer-events ËÆ©‰Ω†ËÉΩÂ§üÁ¶ÅÁî®ÂÖÉÁ¥†ÁöÑÈº†Ê†á‰∫ã‰ª∂Ôºå‰æãÂ¶ÇÔºå‰∏Ä‰∏™ËøûÊé•Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‰∏ãÈù¢ÁöÑÊ†∑ÂºèÂ∞±Êó†Ê≥ïÁÇπÂáª‰∫Ü„ÄÇ .disabled { pointer-events: none; } 20. Ê®°Á≥äÊñáÊú¨ÁÆÄÂçï‰ΩÜÂæàÊºÇ‰∫ÆÁöÑÊñáÊú¨Ê®°Á≥äÊïàÊûúÔºåÁÆÄÂçïÂèàÂ•ΩÁúãÔºÅ .blur { color: transparent; text-shadow: 0 0 5px rgba(0,0,0,0.5); }]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue‰Ω†ÂèØËÉΩ‰∏çÁü•ÈÅìÁöÑ7‰∏™ÊäÄÂ∑ß]]></title>
    <url>%2F2018%2F04%2F10%2FVue%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%847%E4%B8%AA%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅÂñÑÁî®watchÁöÑimmediateÂ±ûÊÄßËøô‰∏ÄÁÇπÊàëÂú®È°πÁõÆ‰∏≠‰πüÊòØËøô‰πàÂÜôÁöÑ„ÄÇ‰æãÂ¶ÇÊúâËØ∑Ê±ÇÈúÄË¶ÅÂÜç‰πüÊ≤°ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÂ∞±ÊâßË°å‰∏ÄÊ¨°ÔºåÁÑ∂ÂêéÁõëÂê¨‰ªñÁöÑÂèòÂåñÔºåÂæàÂ§ö‰∫∫Ëøô‰πàÂÜôÔºö created(){ this.fetchPostList() }, watch: { searchInputValue(){ this.fetchPostList() } } ‰∏äÈù¢ÁöÑËøôÁßçÂÜôÊ≥ïÊàë‰ª¨ÂèØ‰ª•ÂÆåÂÖ®Â¶Ç‰∏ãÂÜôÔºö watch: { searchInputValue:{ handler: &apos;fetchPostList&apos;, immediate: true } } ‰∫å„ÄÅÁªÑ‰ª∂Ê≥®ÂÜåÔºåÂÄºÂæóÂÄüÈâ¥‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÁªÑ‰ª∂Â¶Ç‰∏ãÂÜôÔºö import BaseButton from &apos;./baseButton&apos; import BaseIcon from &apos;./baseIcon&apos; import BaseInput from &apos;./baseInput&apos;export default { components: { BaseButton, BaseIcon, BaseInput } } &lt;BaseInput v-model=&quot;searchText&quot; @keydown.enter=&quot;search&quot; /&gt; &lt;BaseButton @click=&quot;search&quot;&gt; &lt;BaseIcon name=&quot;search&quot;/&gt;&lt;/BaseButton&gt; Ê≠•È™§‰∏ÄËà¨Êúâ‰∏âÈÉ®Ôºå Á¨¨‰∏ÄÊ≠•ÔºåÂºïÂÖ•„ÄÅ Á¨¨‰∫åÊ≠•Ê≥®ÂÜå„ÄÅ Á¨¨‰∏âÊ≠•ÊâçÊòØÊ≠£ÂºèÁöÑ‰ΩøÁî®Ôºå Ëøô‰πüÊòØÊúÄÂ∏∏ËßÅÂíåÈÄöÁî®ÁöÑÂÜôÊ≥ï„ÄÇ‰ΩÜÊòØËøôÁßçÂÜôÊ≥ïÁªèÂÖ∏ÂΩíÁªèÂÖ∏ÔºåÂ•ΩÂ§öÁªÑ‰ª∂ÔºåË¶ÅÂºïÂÖ•Â§öÊ¨°ÔºåÊ≥®ÂÜåÂ§öÊ¨°ÔºåÊÑüËßâÂæàÁÉ¶„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÂÄüÂä©‰∏Ä‰∏ãwebpackÔºå‰ΩøÁî® require.context() ÊñπÊ≥ïÊù•ÂàõÂª∫Ëá™Â∑±ÁöÑÔºàÊ®°ÂùóÔºâ‰∏ä‰∏ãÊñáÔºå‰ªéËÄåÂÆûÁé∞Ëá™Âä®Âä®ÊÄÅrequireÁªÑ‰ª∂„ÄÇ ÊÄùË∑ØÊòØÔºöÂú®srcÊñá‰ª∂Â§π‰∏ãÈù¢main.js‰∏≠ÔºåÂÄüÂä©webpackÂä®ÊÄÅÂ∞ÜÈúÄË¶ÅÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÁªüÁªüÊâìÂåÖËøõÊù•„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö import Vue from &apos;vue&apos; import upperFirst from &apos;lodash/upperFirst&apos; import camelCase from &apos;lodash/camelCase&apos; // Require in a base component context const requireComponent = require.context(&apos;./components&apos;, false, /base-[\w-]+\.vue$/) requireComponent.keys().forEach(fileName =&gt; { // Get component config const componentConfig = requireComponent(fileName) // Get PascalCase name of component const componentName = upperFirst( camelCase(fileName.replace(/^\.\//, &apos;&apos;).replace(/\.\w+$/, &apos;&apos;)) ) // Register component globally Vue.component(componentName, componentConfig.default || componentConfig) }) ËøôÊ†∑Êàë‰ª¨ÂºïÂÖ•ÁªÑ‰ª∂Âè™ÈúÄË¶ÅÁ¨¨‰∏âÊ≠•Â∞±ÂèØ‰ª•‰∫ÜÔºö &lt;BaseInput v-model=&quot;searchText&quot; @keydown.enter=&quot;search&quot; /&gt; &lt;BaseButton @click=&quot;search&quot;&gt; &lt;BaseIcon name=&quot;search&quot;/&gt; &lt;/BaseButton&gt; ‰∏â„ÄÅÁ≤æÁÆÄvuexÁöÑmodulesÂºïÂÖ•ÂØπ‰∫évuexÔºåÊàë‰ª¨ËæìÂá∫storeÂ¶Ç‰∏ãÂÜôÔºö import auth from &apos;./modules/auth&apos; import posts from &apos;./modules/posts&apos; import comments from &apos;./modules/comments&apos; export default new Vuex.Store({ modules: { auth, posts, comments } }) Ë¶ÅÂºïÂÖ•Â•ΩÂ§ömodulesÔºåÁÑ∂ÂêéÂÜçÊ≥®ÂÜåÂà∞Vuex.Store‰∏≠~~ Á≤æÁÆÄÁöÑÂÅöÊ≥ïÂíå‰∏äÈù¢Á±ª‰ººÔºå‰πüÊòØËøêÁî® require.context()ËØªÂèñÊñá‰ª∂Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö import camelCase from &apos;lodash/camelCase&apos; const requireModule = require.context(&apos;.&apos;, false, /\.js$/) const modules = {} requireModule.keys().forEach(fileName =&gt; { // Don&apos;t register this file as a Vuex module if (fileName === &apos;./index.js&apos;) return const moduleName = camelCase( fileName.replace(/(\.\/|\.js)/g, &apos;&apos;) ) modules[moduleName] = { namespaced: true, ...requireModule(fileName), } }) export default modules ËøôÊ†∑Êàë‰ª¨Âè™ÈúÄÂ¶Ç‰∏ã‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰∫ÜÔºö import modules from &apos;./modules&apos; export default new Vuex.Store({ modules }) Âõõ„ÄÅË∑ØÁî±ÁöÑÂª∂ËøüÂä†ËΩΩËøô‰∏ÄÁÇπÔºåÂÖ≥‰∫évueÁöÑÂºïÂÖ•ÔºåÊàë‰πãÂâçÂú®‰∏≠‰πüÊèêÂèäËøáÔºåÂèØ‰ª•ÈÄöËøárequireÊñπÂºèÊàñËÄÖimport()ÊñπÂºèÂä®ÊÄÅÂä†ËΩΩÁªÑ‰ª∂„ÄÇ { path: &apos;/admin&apos;, name: &apos;admin-dashboard&apos;, component:require(&apos;@views/admin&apos;).default } ÊàñËÄÖ { path: &apos;/admin&apos;, name: &apos;admin-dashboard&apos;, component:() =&gt; import(&apos;@views/admin&apos;) } Âä†ËΩΩË∑ØÁî±„ÄÇ ‰∫î„ÄÅrouter keyÁªÑ‰ª∂Âà∑Êñ∞‰∏ãÈù¢Ëøô‰∏™Âú∫ÊôØÁúüÁöÑÊòØ‰º§ÈÄè‰∫ÜÂæàÂ§öÁ®ãÂ∫èÂëòÁöÑÂøÉ‚Ä¶ ÂÖàÈªòËÆ§Â§ßÂÆ∂Áî®ÁöÑÊòØVue-routerÊù•ÂÆûÁé∞Ë∑ØÁî±ÁöÑÊéßÂà∂„ÄÇ ÂÅáËÆæÊàë‰ª¨Âú®ÂÜô‰∏Ä‰∏™ÂçöÂÆ¢ÁΩëÁ´ôÔºåÈúÄÊ±ÇÊòØ‰ªé/post-haorooms/aÔºåË∑≥ËΩ¨Âà∞/post-haorooms/b„ÄÇÁÑ∂ÂêéÊàë‰ª¨ÊÉä‰∫∫ÁöÑÂèëÁé∞ÔºåÈ°µÈù¢Ë∑≥ËΩ¨ÂêéÊï∞ÊçÆÁ´üÁÑ∂Ê≤°Êõ¥Êñ∞ÔºüÔºÅÂéüÂõ†ÊòØvue-router‚ÄùÊô∫ËÉΩÂú∞‚ÄùÂèëÁé∞ËøôÊòØÂêå‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÁÑ∂ÂêéÂÆÉÂ∞±ÂÜ≥ÂÆöË¶ÅÂ§çÁî®Ëøô‰∏™ÁªÑ‰ª∂ÔºåÊâÄ‰ª•‰Ω†Âú®createdÂáΩÊï∞ÈáåÂÜôÁöÑÊñπÊ≥ïÂéãÊ†πÂ∞±Ê≤°ÊâßË°å„ÄÇÈÄöÂ∏∏ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÁõëÂê¨$routeÁöÑÂèòÂåñÊù•ÂàùÂßãÂåñÊï∞ÊçÆÔºåÂ¶Ç‰∏ãÔºö data() { return { loading: false, error: null, post: null } }, watch: { &apos;$route&apos;: { handler: &apos;resetData&apos;, immediate: true } }, methods: { resetData() { this.loading = false this.error = null this.post = null this.getPost(this.$route.params.id) }, getPost(id){ } } bugÊòØËß£ÂÜ≥‰∫ÜÔºåÂèØÊØèÊ¨°Ëøô‰πàÂÜô‰πüÂ§™‰∏ç‰ºòÈõÖ‰∫ÜÂêßÔºüÁßâÊåÅÁùÄËÉΩÂÅ∑ÊáíÂàôÂÅ∑ÊáíÁöÑÂéüÂàôÔºåÊàë‰ª¨Â∏åÊúõ‰ª£Á†ÅËøôÊ†∑ÂÜôÔºö data() { return { loading: false, error: null, post: null } }, created () { this.getPost(this.$route.params.id) }, methods () { getPost(postId) { // ... } } Ëß£ÂÜ≥ÊñπÊ°àÔºöÁªôrouter-viewÊ∑ªÂä†‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑkeyÔºåËøôÊ†∑Âç≥‰ΩøÊòØÂÖ¨Áî®ÁªÑ‰ª∂ÔºåÂè™Ë¶ÅurlÂèòÂåñ‰∫ÜÔºåÂ∞±‰∏ÄÂÆö‰ºöÈáçÊñ∞ÂàõÂª∫Ëøô‰∏™ÁªÑ‰ª∂„ÄÇ &lt;router-view :key=&quot;$route.fullpath&quot;&gt;&lt;/router-view&gt; Ê≥®ÔºöÊàë‰∏™‰∫∫ÁöÑÁªèÈ™åÔºåËøô‰∏™‰∏ÄËà¨Â∫îÁî®Âú®Â≠êË∑ØÁî±ÈáåÈù¢ÔºåËøôÊ†∑ÊâçÂèØ‰ª•‰∏çÈÅøÂÖçÂ§ßÈáèÈáçÁªòÔºåÂÅáËÆæapp.vueÊ†πÁõÆÂΩïÊ∑ªÂä†Ëøô‰∏™Â±ûÊÄßÔºåÈÇ£‰πàÊØèÊ¨°ÁÇπÂáªÊîπÂèòÂú∞ÂùÄÈÉΩ‰ºöÈáçÁªòÔºåËøòÊòØÂæó‰∏çÂÅøÂ§±ÁöÑÔºÅ ÂÖ≠„ÄÅÂîØ‰∏ÄÁªÑ‰ª∂Ê†πÂÖÉÁ¥†Âú∫ÊôØÂ¶Ç‰∏ãÔºö (Emitted value instead of an instance of Error) Error compiling template: &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; - Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead. Ê®°Êùø‰∏≠divÂè™ËÉΩÊúâ‰∏Ä‰∏™Ôºå‰∏çËÉΩÂ¶Ç‰∏äÈù¢ÈÇ£‰πàÂπ≥Ë°å2‰∏™div„ÄÇ ‰æãÂ¶ÇÂ¶Ç‰∏ã‰ª£Á†ÅÔºö &lt;template&gt; &lt;li v-for=&quot;route in routes&quot; :key=&quot;route.name&quot; &gt; &lt;router-link :to=&quot;route&quot;&gt; {{ route.title }} &lt;/router-link&gt; &lt;/li&gt; &lt;/template&gt; ‰ºöÊä•ÈîôÔºÅ Êàë‰ª¨ÂèØ‰ª•Áî®renderÂáΩÊï∞Êù•Ê∏≤Êüì functional: true, render(h, { props }) { return props.routes.map(route =&gt; &lt;li key={route.name}&gt; &lt;router-link to={route}&gt; {route.title} &lt;/router-link&gt; &lt;/li&gt; ) } ‰∏É„ÄÅÁªÑ‰ª∂ÂåÖË£Ö„ÄÅ‰∫ã‰ª∂Â±ûÊÄßÁ©øÈÄèÈóÆÈ¢òÂΩìÊàë‰ª¨ÂÜôÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåÈÄöÂ∏∏Êàë‰ª¨ÈÉΩÈúÄË¶Å‰ªéÁà∂ÁªÑ‰ª∂‰º†ÈÄí‰∏ÄÁ≥ªÂàóÁöÑpropsÂà∞Â≠êÁªÑ‰ª∂ÔºåÂêåÊó∂Áà∂ÁªÑ‰ª∂ÁõëÂê¨Â≠êÁªÑ‰ª∂emitËøáÊù•ÁöÑ‰∏ÄÁ≥ªÂàó‰∫ã‰ª∂„ÄÇ‰∏æ‰æãÂ≠êÔºö //Áà∂ÁªÑ‰ª∂ &lt;BaseInput :value=&quot;value&quot; label=&quot;ÂØÜÁ†Å&quot; placeholder=&quot;ËØ∑Â°´ÂÜôÂØÜÁ†Å&quot; @input=&quot;handleInput&quot; @focus=&quot;handleFocus&gt; &lt;/BaseInput&gt; //Â≠êÁªÑ‰ª∂ &lt;template&gt; &lt;label&gt; {{ label }} &lt;input :value=&quot;value&quot; :placeholder=&quot;placeholder&quot; @focus=$emit(&apos;focus&apos;, $event)&quot; @input=&quot;$emit(&apos;input&apos;, $event.target.value)&quot; &gt; &lt;/label&gt; &lt;/template&gt; ËøôÊ†∑ÂÜôÂæà‰∏çÁ≤æÁÆÄÔºåÂæàÂ§öÂ±ûÊÄßÂíå‰∫ã‰ª∂ÈÉΩÊòØÊâãÂä®ÂÆö‰πâÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â¶Ç‰∏ãÂÜôÔºö &lt;input :value=&quot;value&quot; v-bind=&quot;$attrs&quot; v-on=&quot;listeners&quot; &gt; computed: { listeners() { return { ...this.$listeners, input: event =&gt; this.$emit(&apos;input&apos;, event.target.value) } } } $attrsÂåÖÂê´‰∫ÜÁà∂‰ΩúÁî®Âüü‰∏≠‰∏ç‰Ωú‰∏∫ prop Ë¢´ËØÜÂà´ (‰∏îËé∑Âèñ) ÁöÑÁâπÊÄßÁªëÂÆö (class Âíå style Èô§Â§ñ)„ÄÇÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂Ê≤°ÊúâÂ£∞Êòé‰ªª‰Ωï prop Êó∂ÔºåËøôÈáå‰ºöÂåÖÂê´ÊâÄÊúâÁà∂‰ΩúÁî®ÂüüÁöÑÁªëÂÆöÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøá v-bind=‚Äù$attrs‚Äù ‰º†ÂÖ•ÂÜÖÈÉ®ÁªÑ‰ª∂„ÄÇ $listenersÂåÖÂê´‰∫ÜÁà∂‰ΩúÁî®Âüü‰∏≠ÁöÑ (‰∏çÂê´ .native ‰øÆÈ•∞Âô®ÁöÑ) v-on ‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇÂÆÉÂèØ‰ª•ÈÄöËøá v-on=‚Äù$listeners‚Äù ‰º†ÂÖ•ÂÜÖÈÉ®ÁªÑ‰ª∂„ÄÇ]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue2.0Ê®°ÊùøÊ∏≤ÊüìÂ∫ïÂ±ÇÊÄùÊÉ≥]]></title>
    <url>%2F2018%2F04%2F02%2FVue2-0%E6%A8%A1%E6%9D%BF%E6%B8%B2%E6%9F%93%E5%BA%95%E5%B1%82%E6%80%9D%E6%83%B3%2F</url>
    <content type="text"><![CDATA[ÂàùË°∑ Âú®‰ΩøÁî®vue2.0ÁöÑËøáÁ®ãÔºåÊúâÊó∂ÁúãAPIÂæàÈöæÁêÜËß£vue‰ΩúËÄÖÁöÑÊÄùÊÉ≥ÔºåËøô‰øÉ‰ΩøÊàëÊÉ≥Ë¶ÅÂéªÊ∑±ÂÖ•‰∫ÜËß£vueÂ∫ïÂ±ÇÁöÑÊÄùÊÉ≥Ôºå‰∫ÜËß£ÂÆåÂ∫ïÂ±ÇÁöÑ‰∏Ä‰∫õÊÄùÊÉ≥ÔºåÊâçËÉΩÊõ¥Â•ΩÁöÑÁî®Ê¥ªÊ°ÜÊû∂ÔºåËôΩÁÑ∂ÁΩë‰∏äÂ∑≤ÁªèÊúâÂæàÂ§öÊ∫êÁ†ÅËß£ÊûêÁöÑÊñáÊ°£Ôºå‰ΩÜÊàëËßâÂæóÂè™ÊúâËá™Â∑±Âä®Êâã‰∫ÜÔºåÊâçËÉΩÊõ¥Âä†Ê∑±Âç∞Ë±°„ÄÇ vue2.0Âíå1.0Ê®°ÊùøÊ∏≤ÊüìÁöÑÂå∫Âà´ Vue 2.0 ‰∏≠Ê®°ÊùøÊ∏≤Êüì‰∏é Vue 1.0 ÂÆåÂÖ®‰∏çÂêåÔºå1.0 ‰∏≠ÈááÁî®ÁöÑ DocumentFragment ÔºàÊÉ≥‰∫ÜËß£ÂèØ‰ª•ËßÇÁúãËøôÁØáÊñáÁ´†ÔºâÔºåËÄå 2.0 ‰∏≠ÂÄüÈâ¥ React ÁöÑ Virtual DOM„ÄÇÂü∫‰∫é Virtual DOMÔºå2.0 ËøòÂèØ‰ª•ÊîØÊåÅÊúçÂä°Á´ØÊ∏≤ÊüìÔºàSSRÔºâÔºå‰πüÊîØÊåÅ JSX ËØ≠Ê≥ïÔºàÊîπËâØÁâàÁöÑ render ÂáΩÊï∞Ôºâ„ÄÇ Áü•ËØÜÊôÆÂèä Âú®ÂºÄÂßãÈòÖËØªÊ∫êÁ†Å‰πãÂâçÔºåÂÖà‰∫ÜËß£‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑÁü•ËØÜÔºöAST Êï∞ÊçÆÁªìÊûÑÔºåVNode Êï∞ÊçÆÁªìÊûÑÔºåcreateElement ÁöÑÈóÆÈ¢òÔºårenderÂáΩÊï∞„ÄÇ AST Êï∞ÊçÆÁªìÊûÑ AST ÁöÑÂÖ®Áß∞ÊòØ Abstract Syntax TreeÔºàÊäΩË±°ËØ≠Ê≥ïÊ†ëÔºâÔºåÊòØÊ∫ê‰ª£Á†ÅÁöÑÊäΩË±°ËØ≠Ê≥ïÁªìÊûÑÁöÑÊ†ëÁä∂Ë°®Áé∞ÂΩ¢ÂºèÔºåËÆ°ÁÆóÊú∫Â≠¶Áßë‰∏≠ÁºñËØëÂéüÁêÜÁöÑÊ¶ÇÂøµ„ÄÇËÄåvueÂ∞±ÊòØÂ∞ÜÊ®°Êùø‰ª£Á†ÅÊò†Â∞Ñ‰∏∫ASTÊï∞ÊçÆÁªìÊûÑÔºåËøõË°åËØ≠Ê≥ïËß£Êûê„ÄÇ Êàë‰ª¨Áúã‰∏Ä‰∏ã Vue 2.0 Ê∫êÁ†Å‰∏≠ AST Êï∞ÊçÆÁªìÊûÑ ÁöÑÂÆö‰πâÔºö declare type ASTNode = ASTElement | ASTText | ASTExpression declare type ASTElement = { // ÊúâÂÖ≥ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∫õÂÆö‰πâ type: 1; tag: string; attrsList: Array&lt;{ name: string; value: string }&gt;; attrsMap: { [key: string]: string | null }; parent: ASTElement | void; children: Array&lt;ASTNode&gt;; //...... } declare type ASTExpression = { type: 2; expression: string; text: string; static?: boolean; } declare type ASTText = { type: 3; text: string; static?: boolean; } Êàë‰ª¨ÁúãÂà∞ ASTNode Êúâ‰∏âÁßçÂΩ¢ÂºèÔºöASTElementÔºåASTTextÔºåASTExpression„ÄÇÁî®Â±ûÊÄß type Âå∫ÂàÜ„ÄÇ VNodeÊï∞ÊçÆÁªìÊûÑ ‰∏ãÈù¢ÊòØ Vue 2.0 Ê∫êÁ†Å‰∏≠ VNode Êï∞ÊçÆÁªìÊûÑ ÁöÑÂÆö‰πâ (Â∏¶Ê≥®ÈáäÁöÑË∑ü‰∏ãÈù¢‰ªãÁªçÁöÑÂÜÖÂÆπÊúâÂÖ≥)Ôºö constructor { this.tag = tag //ÂÖÉÁ¥†Ê†áÁ≠æ this.data = data //Â±ûÊÄß this.children = children //Â≠êÂÖÉÁ¥†ÂàóË°® this.text = text this.elm = elm //ÂØπÂ∫îÁöÑÁúüÂÆû DOM ÂÖÉÁ¥† this.ns = undefined this.context = context this.functionalContext = undefined this.key = data &amp;&amp; data.key this.componentOptions = componentOptions this.componentInstance = undefined this.parent = undefined this.raw = false this.isStatic = false //ÊòØÂê¶Ë¢´Ê†áËÆ∞‰∏∫ÈùôÊÄÅËäÇÁÇπ this.isRootInsert = true this.isComment = false this.isCloned = false this.isOnce = false } ÁúüÂÆûDOMÂ≠òÂú®‰ªÄ‰πàÈóÆÈ¢òÔºå‰∏∫‰ªÄ‰πàË¶ÅÁî®ËôöÊãüDOM Êàë‰ª¨‰∏∫‰ªÄ‰πà‰∏çÁõ¥Êé•‰ΩøÁî®ÂéüÁîü DOM ÂÖÉÁ¥†ÔºåËÄåÊòØ‰ΩøÁî®ÁúüÂÆû DOM ÂÖÉÁ¥†ÁöÑÁÆÄÂåñÁâà VNodeÔºåÊúÄÂ§ßÁöÑÂéüÂõ†Â∞±ÊòØ document.createElement Ëøô‰∏™ÊñπÊ≥ïÂàõÂª∫ÁöÑÁúüÂÆû DOM ÂÖÉÁ¥†‰ºöÂ∏¶Êù•ÊÄßËÉΩ‰∏äÁöÑÊçüÂ§±„ÄÇÊàë‰ª¨Êù•Áúã‰∏Ä‰∏™ document.createElement ÊñπÊ≥ïÁöÑ‰æãÂ≠ê let div = document.createElement(&apos;div&apos;); for(let k in div) { console.log(k); } ÊâìÂºÄ console ËøêË°å‰∏Ä‰∏ã‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºå‰ºöÂèëÁé∞ÊâìÂç∞Âá∫Êù•ÁöÑÂ±ûÊÄßÂ§öËææ 228 ‰∏™ÔºåËÄåËøô‰∫õÂ±ûÊÄßÊúâ 90% Â§öÂØπÊàë‰ª¨Êù•ËØ¥ÈÉΩÊòØÊó†Áî®ÁöÑ„ÄÇVNode Â∞±ÊòØÁÆÄÂåñÁâàÁöÑÁúüÂÆû DOM ÂÖÉÁ¥†ÔºåÂÖ≥ËÅîÁùÄÁúüÂÆûÁöÑdomÔºåÊØîÂ¶ÇÂ±ûÊÄßelmÔºåÂè™ÂåÖÊã¨Êàë‰ª¨ÈúÄË¶ÅÁöÑÂ±ûÊÄßÔºåÂπ∂Êñ∞Â¢û‰∫Ü‰∏Ä‰∫õÂú® diff ËøáÁ®ã‰∏≠ÈúÄË¶Å‰ΩøÁî®ÁöÑÂ±ûÊÄßÔºå‰æãÂ¶Ç isStatic„ÄÇ renderÂáΩÊï∞ Ëøô‰∏™ÂáΩÊï∞ÊòØÈÄöËøáÁºñËØëÊ®°ÊùøÊñá‰ª∂ÂæóÂà∞ÁöÑÔºåÂÖ∂ËøêË°åÁªìÊûúÊòØ VNode„ÄÇrender ÂáΩÊï∞ ‰∏é JSX Á±ª‰ººÔºåVue 2.0 ‰∏≠Èô§‰∫Ü Template ‰πüÊîØÊåÅ JSX ÁöÑÂÜôÊ≥ï„ÄÇÂ§ßÂÆ∂ÂèØ‰ª•‰ΩøÁî® Vue.compile(template)ÊñπÊ≥ïÁºñËØë‰∏ãÈù¢ËøôÊÆµÊ®°Êùø„ÄÇ &lt;div id=&quot;app&quot;&gt; &lt;header&gt; &lt;h1&gt;I am a template!&lt;/h1&gt; &lt;/header&gt; &lt;p v-if=&quot;message&quot;&gt; {{ message }} &lt;/p&gt; &lt;p v-else&gt; No message. &lt;/p&gt; &lt;/div&gt; ÊñπÊ≥ï‰ºöËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂØπË±°‰∏≠Êúâ render Âíå staticRenderFns ‰∏§‰∏™ÂÄº„ÄÇÁúã‰∏Ä‰∏ãÁîüÊàêÁöÑ renderÂáΩÊï∞ (function() { with(this){ return _c(&apos;div&apos;,{ //ÂàõÂª∫‰∏Ä‰∏™ div ÂÖÉÁ¥† attrs:{&quot;id&quot;:&quot;app&quot;} //div Ê∑ªÂä†Â±ûÊÄß id },[ _m(0), //ÈùôÊÄÅËäÇÁÇπ headerÔºåÊ≠§Â§ÑÂØπÂ∫î staticRenderFns Êï∞ÁªÑÁ¥¢Âºï‰∏∫ 0 ÁöÑ render ÂáΩÊï∞ _v(&quot; &quot;), //Á©∫ÁöÑÊñáÊú¨ËäÇÁÇπ (message) //‰∏âÂÖÉË°®ËææÂºèÔºåÂà§Êñ≠ message ÊòØÂê¶Â≠òÂú® //Â¶ÇÊûúÂ≠òÂú®ÔºåÂàõÂª∫ p ÂÖÉÁ¥†ÔºåÂÖÉÁ¥†ÈáåÈù¢ÊúâÊñáÊú¨ÔºåÂÄº‰∏∫ toString(message) ?_c(&apos;p&apos;,[_v(&quot;\n &quot;+_s(message)+&quot;\n &quot;)]) //Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàõÂª∫ p ÂÖÉÁ¥†ÔºåÂÖÉÁ¥†ÈáåÈù¢ÊúâÊñáÊú¨ÔºåÂÄº‰∏∫ No message. :_c(&apos;p&apos;,[_v(&quot;\n No message.\n &quot;)]) ] ) } }) Ë¶ÅÁúãÊáÇ‰∏äÈù¢ÁöÑ renderÂáΩÊï∞ÔºåÂè™ÈúÄË¶Å‰∫ÜËß£ _cÔºå_mÔºå_vÔºå_s ËøôÂá†‰∏™ÂáΩÊï∞ÁöÑÂÆö‰πâÔºåÂÖ∂‰∏≠ _c ÊòØ createElementÔºàÂàõÂª∫ÂÖÉÁ¥†ÔºâÔºå_m ÊòØ renderStaticÔºàÊ∏≤ÊüìÈùôÊÄÅËäÇÁÇπÔºâÔºå_v ÊòØ createTextVNodeÔºàÂàõÂª∫ÊñáÊú¨domÔºâÔºå_s ÊòØ toString ÔºàËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤Ôºâ Èô§‰∫Ü render ÂáΩÊï∞ÔºåËøòÊúâ‰∏Ä‰∏™ staticRenderFns Êï∞ÁªÑÔºåËøô‰∏™Êï∞ÁªÑ‰∏≠ÁöÑÂáΩÊï∞‰∏é VDOM ‰∏≠ÁöÑ diff ÁÆóÊ≥ï‰ºòÂåñÁõ∏ÂÖ≥ÔºåÊàë‰ª¨‰ºöÂú®ÁºñËØëÈò∂ÊÆµÁªôÂêéÈù¢‰∏ç‰ºöÂèëÁîüÂèòÂåñÁöÑ VNode ËäÇÁÇπÊâì‰∏ä static ‰∏∫ true ÁöÑÊ†áÁ≠æÔºåÈÇ£‰∫õË¢´Ê†áËÆ∞‰∏∫ÈùôÊÄÅËäÇÁÇπÁöÑ VNode Â∞±‰ºöÂçïÁã¨ÁîüÊàê staticRenderFns ÂáΩÊï∞ (function() { //‰∏äÈù¢ render ÂáΩÊï∞ ‰∏≠ÁöÑ _m(0) ‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï with(this){ return _c(&apos;header&apos;,[_c(&apos;h1&apos;,[_v(&quot;I&apos;m a template!&quot;)])]) } }) Ê®°ÊùøÊ∏≤ÊüìËøáÁ®ãÔºàÈáçË¶ÅÁöÑÂáΩÊï∞‰ªãÁªçÔºâ ‰∫ÜËß£ÂÆå‰∏Ä‰∫õÂü∫Á°ÄÁü•ËØÜÂêéÔºåÊé•‰∏ãÊù•Êàë‰ª¨ËÆ≤Ëß£‰∏ãÊ®°ÊùøÁöÑÊ∏≤ÊüìËøáÁ®ã $mount ÂáΩÊï∞Ôºå‰∏ªË¶ÅÊòØËé∑Âèñ templateÔºåÁÑ∂ÂêéËøõÂÖ• compileToFunctions ÂáΩÊï∞„ÄÇ compileToFunctions ÂáΩÊï∞Ôºå‰∏ªË¶ÅÂ∞Ü template ÁºñËØëÊàê render ÂáΩÊï∞„ÄÇÈ¶ñÂÖàËØªÁºìÂ≠òÔºåÊ≤°ÊúâÁºìÂ≠òÂ∞±Ë∞ÉÁî® compile ÊñπÊ≥ïÊãøÂà∞ render ÂáΩÊï∞ ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÔºåÂÜçÈÄöËøá new Function ÁöÑÊñπÂºèÁîüÊàê render ÂáΩÊï∞„ÄÇ // ÊúâÁºìÂ≠òÁöÑËØùÂ∞±Áõ¥Êé•Âú®ÁºìÂ≠òÈáåÈù¢Êãø const key = options &amp;&amp; options.delimiters ? String(options.delimiters) + template : template if (cache[key]) { return cache[key] } const res = {} const compiled = compile(template, options) // compile ÂêéÈù¢‰ºöËØ¶ÁªÜËÆ≤ res.render = makeFunction(compiled.render) //ÈÄöËøá new Function ÁöÑÊñπÂºèÁîüÊàê render ÂáΩÊï∞Âπ∂ÁºìÂ≠ò const l = compiled.staticRenderFns.length res.staticRenderFns = new Array(l) for (let i = 0; i &lt; l; i++) { res.staticRenderFns[i] = makeFunction(compiled.staticRenderFns[i]) } ...... } return (cache[key] = res) // ËÆ∞ÂΩïËá≥ÁºìÂ≠ò‰∏≠ compile ÂáΩÊï∞Â∞±ÊòØÂ∞Ü template ÁºñËØëÊàê render ÂáΩÊï∞ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÔºåÂêéÈù¢‰∏ÄÂ∞èËäÇÊàë‰ª¨‰ºöËØ¶ÁªÜËÆ≤Âà∞„ÄÇ ÂÆåÊàêrenderÊñπÊ≥ïÁöÑÁîüÊàêÂêéÔºå‰ºöËøõÂÖ• _mount ‰∏≠ËøõË°åDOMÊõ¥Êñ∞„ÄÇËØ•ÊñπÊ≥ïÁöÑÊ†∏ÂøÉÈÄªËæëÂ¶Ç‰∏ãÔºö // Ëß¶Âèë beforeMount ÁîüÂëΩÂë®ÊúüÈí©Â≠ê callHook(vm, &apos;beforeMount&apos;) // ÈáçÁÇπÔºöÊñ∞Âª∫‰∏Ä‰∏™ Watcher Âπ∂ËµãÂÄºÁªô vm._watcher vm._watcher = new Watcher(vm, function updateComponent () { vm._update(vm._render(), hydrating) }, noop) hydrating = false // manually mounted instance, call mounted on self // mounted is called for render-created child components in its inserted hook if (vm.$vnode == null) { vm._isMounted = true callHook(vm, &apos;mounted&apos;) } return vm È¶ñÂÖà‰ºönew‰∏Ä‰∏™watcherÂØπË±°Ôºà‰∏ªË¶ÅÊòØÂ∞ÜÊ®°Êùø‰∏éÊï∞ÊçÆÂª∫Á´ãËÅîÁ≥ªÔºâÔºåÂú®watcherÂØπË±°ÂàõÂª∫ÂêéÔºå‰ºöËøêË°å‰º†ÂÖ•ÁöÑÊñπÊ≥ï vm._update(vm._render(), hydrating) „ÄÇÂÖ∂‰∏≠ÁöÑvm._render()‰∏ªË¶Å‰ΩúÁî®Â∞±ÊòØËøêË°åÂâçÈù¢compilerÁîüÊàêÁöÑrenderÊñπÊ≥ïÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™vNodeÂØπË±°„ÄÇvm.update() Âàô‰ºöÂØπÊØîÊñ∞ÁöÑ vdom ÂíåÂΩìÂâç vdomÔºåÂπ∂ÊääÂ∑ÆÂºÇÁöÑÈÉ®ÂàÜÊ∏≤ÊüìÂà∞ÁúüÊ≠£ÁöÑ DOM Ê†ë‰∏ä„ÄÇÔºàÊÉ≥Ê∑±ÂÖ•‰∫ÜËß£watcherÁöÑËÉåÂêéÂÆûÁé∞ÂéüÁêÜÁöÑÔºåÂèØ‰ª•ËßÇÁúãËøôÁØáÊñáÁ´† Vue2.0 Ê∫êÁ†ÅÈòÖËØªÔºöÂìçÂ∫îÂºèÂéüÁêÜÔºâ compile ‰∏äÊñá‰∏≠ÊèêÂà∞ compile ÂáΩÊï∞Â∞±ÊòØÂ∞Ü template ÁºñËØëÊàê render ÂáΩÊï∞ ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè„ÄÇ export function compile ( template: string, options: CompilerOptions ): CompiledResult { const AST = parse(template.trim(), options) //1. parse optimize(AST, options) //2.optimize const code = generate(AST, options) //3.generate return { AST, render: code.render, staticRenderFns: code.staticRenderFns } } Ëøô‰∏™ÂáΩÊï∞‰∏ªË¶ÅÊúâ‰∏â‰∏™Ê≠•È™§ÁªÑÊàêÔºöparseÔºåoptimize Âíå generateÔºåÂàÜÂà´ËæìÂá∫‰∏Ä‰∏™ÂåÖÂê´ ASTÔºåstaticRenderFns ÁöÑÂØπË±°Âíå renderÂáΩÊï∞ ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ parse ÂáΩÊï∞Ôºå‰∏ªË¶ÅÂäüËÉΩÊòØÂ∞Ü templateÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊàê AST„ÄÇÂâçÈù¢ÂÆö‰πâ‰∫ÜASTElementÁöÑÊï∞ÊçÆÁªìÊûÑÔºåparse ÂáΩÊï∞Â∞±ÊòØÂ∞ÜtemplateÈáåÁöÑÁªìÊûÑÔºàÊåá‰ª§ÔºåÂ±ûÊÄßÔºåÊ†áÁ≠æÁ≠âÔºâËΩ¨Êç¢‰∏∫ASTÂΩ¢ÂºèÂ≠òËøõASTElement‰∏≠ÔºåÊúÄÂêéËß£ÊûêÁîüÊàêAST„ÄÇ optimize ÂáΩÊï∞Ôºàsrc/compiler/optimizer.jsÔºâ‰∏ªË¶ÅÂäüËÉΩÂ∞±ÊòØÊ†áËÆ∞ÈùôÊÄÅËäÇÁÇπÔºå‰∏∫ÂêéÈù¢ patch ËøáÁ®ã‰∏≠ÂØπÊØîÊñ∞Êóß VNode Ê†ëÂΩ¢ÁªìÊûÑÂÅö‰ºòÂåñ„ÄÇË¢´Ê†áËÆ∞‰∏∫ static ÁöÑËäÇÁÇπÂú®ÂêéÈù¢ÁöÑ diff ÁÆóÊ≥ï‰∏≠‰ºöË¢´Áõ¥Êé•ÂøΩÁï•Ôºå‰∏çÂÅöËØ¶ÁªÜÁöÑÊØîËæÉ„ÄÇ generate ÂáΩÊï∞Ôºàsrc/compiler/codegen/index.jsÔºâ‰∏ªË¶ÅÂäüËÉΩÂ∞±ÊòØÊ†πÊçÆ AST ÁªìÊûÑÊãºÊé•ÁîüÊàê render ÂáΩÊï∞ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ const code = AST ? genElement(AST) : &apos;_c(&quot;div&quot;)&apos; staticRenderFns = prevStaticRenderFns onceCount = prevOnceCount return { render: `with(this){return ${code}}`, //ÊúÄÂ§ñÂ±ÇÂåÖ‰∏Ä‰∏™ with(this) ‰πãÂêéËøîÂõû staticRenderFns: currentStaticRenderFns } ÂÖ∂‰∏≠ genElement ÂáΩÊï∞Ôºàsrc/compiler/codegen/index.jsÔºâÊòØ‰ºöÊ†πÊçÆ AST ÁöÑÂ±ûÊÄßË∞ÉÁî®‰∏çÂêåÁöÑÊñπÊ≥ïÁîüÊàêÂ≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇ function genElement (el: ASTElement): string { if (el.staticRoot &amp;&amp; !el.staticProcessed) { return genStatic(el) } else if (el.once &amp;&amp; !el.onceProcessed) { return genOnce(el) } else if (el.for &amp;&amp; !el.forProcessed) { return genFor(el) } else if (el.if &amp;&amp; !el.ifProcessed) { return genIf(el) } else if (el.tag === &apos;template&apos; &amp;&amp; !el.slotTarget) { return genChildren(el) || &apos;void 0&apos; } else if (el.tag === &apos;slot&apos;) { } return code } } ‰ª•‰∏äÂ∞±ÊòØ compile ÂáΩÊï∞‰∏≠‰∏â‰∏™Ê†∏ÂøÉÊ≠•È™§ÁöÑ‰ªãÁªçÔºåcompile ‰πãÂêéÊàë‰ª¨ÂæóÂà∞‰∫Ü render ÂáΩÊï∞ ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÔºåÂêéÈù¢ÈÄöËøá new Function ÂæóÂà∞ÁúüÊ≠£ÁöÑÊ∏≤ÊüìÂáΩÊï∞„ÄÇÊï∞ÊçÆÂèëÁé∞ÂèòÂåñÂêéÔºå‰ºöÊâßË°å Watcher ‰∏≠ÁöÑ _update ÂáΩÊï∞Ôºàsrc/core/instance/lifecycle.jsÔºâÔºå_update ÂáΩÊï∞‰ºöÊâßË°åËøô‰∏™Ê∏≤ÊüìÂáΩÊï∞ÔºåËæìÂá∫‰∏Ä‰∏™Êñ∞ÁöÑ VNode Ê†ëÂΩ¢ÁªìÊûÑÁöÑÊï∞ÊçÆ„ÄÇÁÑ∂ÂêéÂú®Ë∞ÉÁî® patch ÂáΩÊï∞ÔºåÊãøËøô‰∏™Êñ∞ÁöÑ VNode ‰∏éÊóßÁöÑ VNode ËøõË°åÂØπÊØîÔºåÂè™ÊúâÂèëÁîü‰∫ÜÂèòÂåñÁöÑËäÇÁÇπÊâç‰ºöË¢´Êõ¥Êñ∞Âà∞ÁúüÂÆû DOM Ê†ë‰∏ä„ÄÇ patch patch.js Â∞±ÊòØÊñ∞Êóß VNode ÂØπÊØîÁöÑ diff ÂáΩÊï∞Ôºå‰∏ªË¶ÅÊòØ‰∏∫‰∫Ü‰ºòÂåñdomÔºåÈÄöËøáÁÆóÊ≥ï‰ΩøÊìç‰ΩúdomÁöÑË°å‰∏∫ÈôçÂà∞ÊúÄ‰ΩéÔºådiff ÁÆóÊ≥ïÊù•Ê∫ê‰∫é snabbdomÔºåÊòØ VDOM ÊÄùÊÉ≥ÁöÑÊ†∏ÂøÉ„ÄÇsnabbdom ÁöÑÁÆóÊ≥ï‰∏∫‰∫Ü DOM Êìç‰ΩúË∑®Â±ÇÁ∫ßÂ¢ûÂà†ËäÇÁÇπËæÉÂ∞ëÁöÑËøô‰∏ÄÁõÆÊ†áËøõË°å‰ºòÂåñÔºåÂÆÉÂè™‰ºöÂú®ÂêåÂ±ÇÁ∫ßËøõË°å, ‰∏ç‰ºöË∑®Â±ÇÁ∫ßÊØîËæÉ„ÄÇ ÊÉ≥Êõ¥Âä†Ê∑±ÂÖ•VNode diffÁÆóÊ≥ïÂéüÁêÜÁöÑÔºåÂèØ‰ª•ËßÇÁúãÔºàËß£Êûêvue2.0ÁöÑdiffÁÆóÊ≥ïÔºâ ÊÄªÁªì compile ÂáΩÊï∞‰∏ªË¶ÅÊòØÂ∞Ü template ËΩ¨Êç¢‰∏∫ ASTÔºå‰ºòÂåñ ASTÔºåÂÜçÂ∞Ü AST ËΩ¨Êç¢‰∏∫ renderÂáΩÊï∞Ôºõ renderÂáΩÊï∞ ‰∏éÊï∞ÊçÆÈÄöËøá Watcher ‰∫ßÁîüÂÖ≥ËÅîÔºõ Âú®Êï∞ÊçÆÂèëÁîüÂèòÂåñÊó∂Ë∞ÉÁî® patch ÂáΩÊï∞ÔºåÊâßË°åÊ≠§ render ÂáΩÊï∞ÔºåÁîüÊàêÊñ∞ VNodeÔºå‰∏éÊóß VNode ËøõË°å diffÔºåÊúÄÁªàÊõ¥Êñ∞ DOM Ê†ë„ÄÇ]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÁªßÊâø]]></title>
    <url>%2F2018%2F03%2F30%2FJS%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; function MAN(name, sex, age) &#123; this.name = name; this.sex = sex; this.age = age; this.say = function(school, zhuanye) &#123; console.log(this.name + &quot;,&quot; + this.sex + &quot;,‰ªäÂπ¥&quot; + this.age + &quot;Â≤ÅÔºÅÂú®&quot; + school + &quot;Â≠¶‰π†&quot; + zhuanye); &#125; &#125; MAN.prototype.cao = function() &#123; console.log(this.name + &quot;,&quot; + this.sex + &quot;,ÈÉΩÂ∑≤Áªè&quot; + this.age + &quot;‰∫Ü,ÂÜç‰∏çÁñØÁãÇÊàë‰ª¨Â∞±ËÄÅ‰∫ÜÔºÅ&quot;) &#125; function WOMAN(name, sex, age) &#123; //ÊñπÊ≥ï1ÔºöÂØπË±°ÂÜíÂÖÖ //this.man = MAN; //this.man(name, sex, age); //ÊñπÊ≥ï2Ôºöcall //MAN.call(this,name, sex, age); //ÊñπÊ≥ï3Ôºöapply //MAN.apply(this,[name, sex, age]); //ÊñπÊ≥ï4Ôºöbind //MAN.bind(this)(name, sex, age); MAN.bind(this)(name, sex, age); &#125; //ÊñπÊ≥ï5Ôºöprototype WOMAN.prototype = new MAN(); //Ê≥®ÊÑèÔºöÊñπÊ≥ï1,2,3,4Âè™ËÉΩÁªßÊâøthis.XXX=XXXÁöÑÂ±ûÊÄß,‰∏çËÉΩÁªßÊâøXXX.prototype.xxx==function()&#123;&#125;,Ê≥®ÈáäÊéâÊñπÊ≥ï5ÂèØ‰ª•ÁúãÂà∞ //ÊñπÊ≥ï5Âè™ËÉΩÁªßÊâøXXX.prototype.xxx==function()&#123;&#125;ÁöÑÂ±ûÊÄßÔºå‰∏çËÉΩÁªßÊâøthis.XXX=XXXÁöÑÂ±ûÊÄßÔºåÊ≥®ÈáäÊéâÊñπÊ≥ï1,2,3,4ÂèØ‰ª•ÁúãÂà∞ var man = new MAN(&quot;Âº†‰∏â&quot;, &quot;Áî∑&quot;, 26); man.say(&apos;ËìùÁøîÊäÄÊ†°&apos;, &apos;ÁîµÊ∞îÁÑä&apos;); man.cao(); var woman = new WOMAN(&quot;Â∞èÁ∫¢&quot;, &quot;Â•≥&quot;, 18); woman.say(&apos;Ê∏ÖÂçéÂ§ßÂ≠¶&apos;, &apos;ÊåñÊéòÊú∫&apos;); woman.cao(); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; ‰ºóÊâÄÂë®Áü•ÔºåÂú® ES 6 ‰πãÂâçÊ≤°ÊúâÁ±ªÁöÑÊ¶ÇÂøµÔºåÊâÄ‰ª•‰∏çËÉΩÂÉè Java ‰∏≠‰∏Ä‰∏™ extends ÂÖ≥ÈîÆÂ≠óÂ∞±ÊêûÂÆö‰∫ÜÁªßÊâøÂÖ≥Á≥ªÔºåÈúÄË¶Å‰∏Ä‰∫õ tricks Êù•ÂÆûÁé∞Ôºå‰∏ãÈù¢Â∞±‰ªãÁªç‰∏Ä‰∫õÊØîËæÉÂ∏∏Áî®ÁöÑÊñπÊ≥ï„ÄÇ (‰∏Ä) ÂéüÂûãÈìæÁªßÊâøÔºöfunction Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } function Child(name) { this.name = name; } Child.prototype = new Parent(&apos;father&apos;); Child.prototype.constructor = Child; Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } var child = new Child(&apos;son&apos;); child.sayName(); // child name: son Âè™Ë¶ÅÊòØÂéüÂûãÈìæ‰∏≠Âá∫Áé∞ËøáÁöÑÂéüÂûãÔºåÈÉΩÂèØ‰ª•ËØ¥ÊòØËØ•ÂéüÂûãÈìæÊ¥æÁîüÁöÑÂÆû‰æãÁöÑÂéüÂûã„ÄÇ ËøôÁßçÊñπÊ≥ïÂ≠òÂú®‰∏§‰∏™Áº∫ÁÇπÔºö Â≠êÁ±ªÂûãÊó†Ê≥ïÁªôË∂ÖÁ±ªÂûã‰º†ÈÄíÂèÇÊï∞ÔºåÂú®Èù¢ÂêëÂØπË±°ÁöÑÁªßÊâø‰∏≠ÔºåÊàë‰ª¨ÊÄªÂ∏åÊúõÈÄöËøá var child = new Child(‚Äòson‚Äô, ‚Äòfather‚Äô); ËÆ©Â≠êÁ±ªÂéªË∞ÉÁî®Áà∂Á±ªÁöÑÊûÑÈÄ†Âô®Êù•ÂÆåÊàêÁªßÊâø„ÄÇËÄå‰∏çÊòØÈÄöËøáÂÉèËøôÊ†∑ new Parent(‚Äòfather‚Äô) ÂéªË∞ÉÁî®Áà∂Á±ª„ÄÇ Child.prototype.sayName ÂøÖÈ°ªÂÜôÂú® Child.prototype = new Parent(‚Äòfather‚Äô); ‰πãÂêéÔºå‰∏çÁÑ∂Â∞±‰ºöË¢´Ë¶ÜÁõñÊéâ„ÄÇ (‰∫å) Á±ªÂºèÁªßÊâøÔºöfunction Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } Parent.prototype.doSomthing = function() { console.log(&apos;parent do something!&apos;); } function Child(name, parentName) { Parent.call(this, parentName); this.name = name; } Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } var child = new Child(&apos;son&apos;); child.sayName(); // child name: son child.doSomthing(); // TypeError: child.doSomthing is not a function Áõ∏ÂΩì‰∫é Parent Ëøô‰∏™ÂáΩÊï∞Âú® Child ÂáΩÊï∞‰∏≠ÊâßË°å‰∫Ü‰∏ÄÈÅçÔºåÂπ∂‰∏îÂ∞ÜÊâÄÊúâ‰∏é this ÁªëÂÆöÁöÑÂèòÈáèÈÉΩÂàáÊç¢Âà∞‰∫Ü Child ‰∏äÔºåËøôÊ†∑Â∞±ÂÖãÊúç‰∫ÜÁ¨¨‰∏ÄÁßçÊñπÂºèÂ∏¶Êù•ÁöÑÈóÆÈ¢ò„ÄÇ Áº∫ÁÇπÔºö Ê≤°ÊúâÂéüÂûãÔºåÊØèÊ¨°ÂàõÂª∫‰∏Ä‰∏™ Child ÂÆû‰æãÂØπË±°Êó∂ÂÄôÈÉΩÈúÄË¶ÅÊâßË°å‰∏ÄÈÅç Parent ÂáΩÊï∞ÔºåÊó†Ê≥ïÂ§çÁî®‰∏Ä‰∫õÂÖ¨Áî®ÂáΩÊï∞„ÄÇ (‰∏â) ÁªÑÂêàÂºèÁªßÊâøÔºöÂâç‰∏§ÁßçÊñπÂºèÁöÑÁªìÂêàfunction Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } Parent.prototype.doSomething = function() { console.log(&apos;parent do something!&apos;); } function Child(name, parentName) { Parent.call(this, parentName); this.name = name; } Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } Child.prototype = new Parent(); Child.prototype.construtor = Child; var child = new Child(&apos;son&apos;); child.sayName(); // child name: son child.doSomething(); // parent do something! ÁªÑÂêàÂºèÁªßÊâøÊòØÊØîËæÉÂ∏∏Áî®ÁöÑ‰∏ÄÁßçÁªßÊâøÊñπÊ≥ïÔºåÂÖ∂ËÉåÂêéÁöÑÊÄùË∑ØÊòØ‰ΩøÁî®ÂéüÂûãÈìæÂÆûÁé∞ÂØπÂéüÂûãÂ±ûÊÄßÂíåÊñπÊ≥ïÁöÑÁªßÊâøÔºåËÄåÈÄöËøáÂÄüÁî®ÊûÑÈÄ†ÂáΩÊï∞Êù•ÂÆûÁé∞ÂØπÂÆû‰æãÂ±ûÊÄßÁöÑÁªßÊâø„ÄÇ ËøôÊ†∑ÔºåÊó¢ÈÄöËøáÂú®ÂéüÂûã‰∏äÂÆö‰πâÊñπÊ≥ïÂÆûÁé∞‰∫ÜÂáΩÊï∞Â§çÁî®ÔºåÂèà‰øùËØÅÊØè‰∏™ÂÆû‰æãÈÉΩÊúâÂÆÉËá™Â∑±ÁöÑÂ±ûÊÄß„ÄÇ ÁªÑÂêàÂºèÁªßÊâøÊòØ JS ÊúÄÂ∏∏Áî®ÁöÑÁªßÊâøÊ®°ÂºèÔºå‰ΩÜÁªÑÂêàÁªßÊâø‰ΩøÁî®ËøáÁ®ã‰∏≠‰ºöË¢´Ë∞ÉÁî®‰∏§Ê¨°Ôºö‰∏ÄÊ¨°ÊòØÂàõÂª∫Â≠êÁ±ªÂûãÁöÑÊó∂ÂÄôÔºåÂè¶‰∏ÄÊ¨°ÊòØÂú®Â≠êÁ±ªÂûãÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÜÖÈÉ®„ÄÇ function Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } Parent.prototype.doSomething = function() { console.log(&apos;parent do something!&apos;); } function Child(name, parentName) { Parent.call(this, parentName); // Á¨¨‰∫åÊ¨°Ë∞ÉÁî® this.name = name; } Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } Child.prototype = new Parent(); // Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî® Child.prototype.construtor = Child; var child = new Child(&apos;son&apos;); child.sayName(); child.doSomething(); ÊòæÁÑ∂‰ªé‰∏äËø∞ÁöÑ‰ª£Á†Å‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞ÊòæÁÑ∂ÊòØÊ≤°ÊúâÂøÖË¶ÅÁöÑÔºåÂõ†‰∏∫Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞Êó∂ÂÄô‰∏çÈúÄË¶ÅÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÈÇ£‰∫õÂÆû‰æãÂ±ûÊÄßÔºåËøô‰πàÂÜôÂè™ÊòØÊÉ≥Ëé∑ÂæóÂÖ∂ÂéüÂûã‰∏äÁöÑÊñπÊ≥ïÁΩ¢‰∫ÜÔºåÊâÄ‰ª•ËøôÊó∂ÂÄô‰Ω†ÂèØËÉΩ‰ºöËøôÊ†∑ÂÜôÔºö Child.prototype = Parent.prototype; ËøôÊ†∑ÂÜôÊòæÁÑ∂ÊòØ‰∏çÂØπÁöÑÔºö È¶ñÂÖàÔºå‰Ω†ËøôÊ†∑ÂÜôÁöÑËØùÁõ∏ÂΩì‰∫éÊòØÂ≠êÁ±ªÂíåÁà∂Á±ªÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±°ÔºåËøôÊó∂ÂÄôÂ¶ÇÊûú‰Ω†Ê∑ªÂä†‰∫ÜÊñ∞ÁöÑÊñπÊ≥ïÁªô Child ‰ΩÜÂÆûÈôÖ‰∏ä Parent Âπ∂‰∏çÈúÄË¶ÅÔºåÁõ∏ÂΩì‰∫éÂº∫Ë°åÁªô Parent Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Êú™Áü•ÁöÑÊñπÊ≥ï„ÄÇ ÂÖ∂Ê¨°Ôºå‰ªîÁªÜÊÉ≥ÊÉ≥ÔºåËøôÊ†∑‰ΩìÁé∞‰∏çÂá∫ÁªßÊâøÁöÑÂ§öÊÄÅÊÄßÔºåÊØîÂ¶ÇÊ≠§Êó∂Â≠êÁ±ªÊÉ≥Ë¶ÅÈáçÂÜôÁà∂Á±ªÁöÑ getName ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÁà∂Á±ªÁöÑÊñπÊ≥ï‰πüÂ∞±‰ºöÈöè‰πã‰øÆÊîπÔºåËøôÊòæÁÑ∂ËøùËÉå‰∫ÜÂ§öÊÄÅÊÄß„ÄÇ ‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÊòØ‰∏çÁÆ°ÊûÑÈÄ†ÂáΩÊï∞ÈáåÈù¢ÁöÑÂÜÖÂÆπÔºåÊâÄ‰ª•Êàë‰ª¨‰Ωï‰∏ç new ‰∏Ä‰∏™Á©∫ÂáΩÊï∞ÔºåÂ∞ÜÂÖ∂ prototype ÊåáÂêë Parent.prototypeÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö (Âõõ) ÂØÑÁîüÁªÑÂêàÂºèÁªßÊâøÔºöfunction Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } function Child(name, parentName) { Parent.call(this, parentName); this.name = name; } function create(proto) { function F(){} F.prototype = proto; F.prototype.construtor = F; return new F(); } Child.prototype = create(Parent.prototype); Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } Child.prototype.construtor = Child; var parent = new Parent(&apos;father&apos;); parent.sayName(); // parent name: father var child = new Child(&apos;son&apos;, &apos;father&apos;); child.sayName(); // child name: son ËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÂØÑÁîüÁªÑÂêàÂºèÁªßÊâøÊñπÂºèÔºåË∑üÁªÑÂêàÂºèÁªßÊâøÁöÑÂå∫Âà´Âú®‰∫éÔºå‰ªñ‰∏çÈúÄË¶ÅÂú®‰∏ÄÊ¨°ÂÆû‰æã‰∏≠Ë∞ÉÁî®‰∏§Ê¨°Áà∂Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÂÅáÂ¶ÇËØ¥Áà∂Á±ªÁöÑÊûÑÈÄ†Âô®‰ª£Á†ÅÂæàÂ§öÔºåËøòÈúÄË¶ÅË∞ÉÁî®‰∏§Ê¨°ÁöÑËØùÂØπÁ≥ªÁªüËÇØÂÆö‰ºöÊúâÂΩ±ÂìçÔºåÂØÑÁîüÁªÑÂêàÂºèÁªßÊâøÁöÑÊÄùÊÉ≥Âú®‰∫éÔºöÁî®‰∏Ä‰∏™ F Á©∫ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂéªÂèñ‰ª£ÊâßË°å‰∫Ü Parent Ëøô‰∏™ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ Âú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÊâãÂä®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ create ÂáΩÊï∞Ôºå‰ΩÜÊòØÂÖ∂ÂÆûÊòØÂ≠òÂú®‰∫é Object ÂØπË±°‰∏≠Ôºå‰∏çÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®ÂéªÂàõÂª∫ÔºåÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•Êîπ‰∏∫Ôºö function Parent(name) { this.name = name; } Parent.prototype.sayName = function() { console.log(&apos;parent name:&apos;, this.name); } function Child(name, parentName) { Parent.call(this, parentName); this.name = name; } function inheritPrototype(Parent, Child) { Child.prototype = Object.create(Parent.prototype); //‰øÆÊîπ Child.prototype.construtor = Child; } inheritPrototype(Parent, Child); Child.prototype.sayName = function() { console.log(&apos;child name:&apos;, this.name); } var parent = new Parent(&apos;father&apos;); parent.sayName(); // parent name: father var child = new Child(&apos;son&apos;, &apos;father&apos;); child.sayName(); // child name: son (‰∫î) ES 6 ÁªßÊâøÔºöÂΩìÁÑ∂ÔºåÂ¶ÇÊûú‰Ω†Â≠¶‰π†Ëøá ES 6ÔºåÈÇ£‰πàÂÜôÁªßÊâøÂÖ≥Á≥ªÂ∞±‰ºöÁâπÂà´ÁÆÄÂçïÔºåÂ¶ÇÊûú‰Ω†Â≠¶Ëøá Java Â∞±‰ºöÂèëÁé∞ÔºåES 6 ‰∏≠ÁöÑÁªßÊâøË∑ü Java Â§™ÂÉè‰∫ÜÔºå‰∏äËø∞ÁöÑ‰ª£Á†ÅÂèØÊîπ‰∏∫Ôºö class Parent { constructor(name) { this.name = name; } doSomething() { console.log(&apos;parent do something!&apos;); } sayName() { console.log(&apos;parent name:&apos;, this.name); } } class Child extends Parent { constructor(name, parentName) { super(parentName); this.name = name; } sayName() { console.log(&apos;child name:&apos;, this.name); } } const child = new Child(&apos;son&apos;, &apos;father&apos;); child.sayName(); // child name: son child.doSomething(); // parent do something! const parent = new Parent(&apos;father&apos;); parent.sayName(); // parent name: father JavaScriptÂâçÁ´ØÂºÄÂèë JavaScript(ES5)‰∏≠Ê≤°ÊúâÂÉèJavaÈÇ£Ê†∑Á±ªÁöÑÊ¶ÇÂøµÔºåÂÜôÊ≥ïË∑ü‰º†ÁªüÁöÑÈù¢ÂêëÂØπË±°ËØ≠Ë®ÄÔºàÊØîÂ¶ÇC++ÂíåJavaÔºâÂ∑ÆÂºÇÂæàÂ§ßÔºåÂæàÂÆπÊòìËÆ©Êñ∞Â≠¶‰π†ËøôÈó®ËØ≠Ë®ÄÁöÑÁ®ãÂ∫èÂëòÊÑüÂà∞Âõ∞ÊÉë„ÄÇ‰ΩÜÊòØÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂéüÂûãÈìæprototypeÊù•Ê®°ÊãüÁ±ªÔºåÂéªÂÆûÁé∞ÁªßÊâøÁöÑÁõ∏ÂÖ≥ÂäüËÉΩ„ÄÇ‰∏ãÈù¢Êù•ÁúãÁúãES5‰∏≠ÂÆûÁé∞ÁªßÊâøÂ∏∏ËßÅÁöÑ‰∏âÁßçÊñπÊ≥ï„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö /** * JavaScript(ES5)‰∏≠ÂÆûÁé∞ÁªßÊâøÁöÑÂá†ÁßçÊñπÊ≥ï */ // ÂÆö‰πâÂü∫Á±ªPerson function Person(name, age) { this.name = name; this.age = age; } // ÂÖ±‰∫´Êï∞ÊçÆ Person.prototype.LEGS_NUM = 2; // ÂÖ±‰∫´ÊñπÊ≥ï Person.prototype.info = function () { console.log(&apos;My name is &apos; + this.name + &apos; .I\&apos;m &apos; + this.age + &apos; years old now&apos;); }; Person.prototype.walk = function () { console.log(this.name + &apos; is walking...&apos;); }; // StudentÂ≠êÁ±ª function Student(name, age, className) { // Ë∞ÉÁî®Áà∂Á±ª Person.call(this, name, age); this.className = className; } // 1‚É£Ô∏è ÊñπÊ≥ï‰∏ÄÔºöPerson.prototypeÁõ¥Êé•ËµãÂÄºÁªôStudent.prototype // Student.prototype = Person.prototype; // 2‚É£Ô∏è ÊñπÊ≥ï‰∫åÔºöStudent.prototype‰∏∫PersonÁöÑÂÆû‰æã // Student.prototype = new Person(); // 3‚É£Ô∏è ÊñπÊ≥ï‰∏âÔºöÂàõÂª∫‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂØπË±°ÁöÑÂéüÂûãÊåáÂêëPerson.prototypeÔºåËµãÂÄºÁªôStudent.prototype Student.prototype = Object.create(Person.prototype); Student.prototype.constructor = Student; // Ë¶ÜÁõñÁà∂Á±ªÁöÑinfoÊñπÊ≥ï Student.prototype.info = function () { console.log(&apos;My name is &apos; + this.name + &apos;,I\&apos;m &apos; + this.age + &apos; years old now, and from class &apos; + this.className + &apos;.&apos;); }; // StudentÁ±ªÁöÑÂÖ±‰∫´ÊñπÊ≥ï Student.prototype.learn = function (subject) { console.log(this.name + &apos; is learning &apos; + subject + &apos;.&apos;); }; // ÊµãËØï,ÂàõÂª∫‰∏Ä‰∏™StudentÁöÑÂÆû‰æã var microzz = new Student(&apos;Microzz&apos;, 22, 5); microzz.info(); // My name is Microzz,I&apos;m 22 years old now, and from class 5. console.log(microzz.LEGS_NUM); // 2 microzz.walk(); // Microzz is walking... microzz.learn(&apos;JavaScript&apos;); // Microzz is learning JavaScript. console.log(microzz.__proto__.__proto__ === Person.prototype); // true console.log(microzz.__proto__ === Student.prototype); // true console.log(microzz.__proto__.constructor === Student); // true ‰∏âÁßçÊñπÊ≥ïÊØîËæÉ ‰∏äÈù¢‰ª£Á†Å‰∏≠Êúâ‰∏âÁßçÊñπÊ≥ïÂÆûÁé∞ÁªßÊâøÔºåÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Êù•ÂàÜÊûê‰∏Ä‰∏ãËøôÂá†ÁßçÊñπÊ≥ï„ÄÇËøôÁßçÊñπÊ≥ï‰∏≠ÔºåPerson.prototypeÁõ¥Êé•ËµãÂÄºÁªôStudent.prototypeÔºå‰ΩÜÊòØÊúâ‰∏Ä‰∏™Âæà‰∏•ÈáçÁöÑÈóÆÈ¢òÔºåÂ¶ÇÊûúÂ≠êÁ±ªprototypeÊ∑ªÂä†Êñ∞ÁöÑ‰∏úË•øÁöÑËØù‰πü‰ºöÊîπÂÜôÁà∂Á±ª„ÄÇÊâÄ‰ª•ËøôÁßçÊñπÊ≥ï‰∏çÊé®Ëçê„ÄÇÁ¨¨‰∫åÁßçÊñπÊ≥ïStudent.prototype‰∏∫PersonÁöÑÂÆû‰æãÔºåËøô‰πüÊòØÂèØ‰ª•ÂÆûÁé∞ÁöÑ„ÄÇ‰ΩÜÊòØPersonÊûÑÈÄ†ÂáΩÊï∞ÊúâÂèÇÊï∞Â∫îËØ•‰º†‰ªÄ‰πàÂë¢Ôºü‰º†‰ªª‰Ωï‰∏Ä‰∏™ÈÉΩÊòØÂæàÂ•áÊÄ™ÁöÑ„ÄÇÊâÄ‰ª•‰πü‰∏çÊé®Ëçê„ÄÇÁ¨¨‰∏âÁßçÊñπÊ≥ïÊòØÊØîËæÉÁêÜÊÉ≥ÁöÑÔºåÂàõÂª∫‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂØπË±°ÁöÑÂéüÂûãÊåáÂêëPerson.prototypeÔºåËµãÂÄºÁªôStudent.prototype„ÄÇ‰ΩÜÊòØObject.create‰πüÊúâ‰∏ÄÁÇπÂ∞èÁëïÁñµÔºåÂõ†‰∏∫ÂÆÉÊòØES5‰πãÂêéÊâçÊîØÊåÅÁöÑÔºå‰∏çËøáÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊ®°ÊãüÂÆûÁé∞Object.createÊñπÊ≥ï„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö if (!Object.create) { Object.prototype.create = function (proto) { function F() {} F.prototype = proto; return new F; } } ËøôÊ†∑Âú®ES5‰∏≠Â∞±ÂÆåÁæéÂÆûÁé∞‰∫ÜÁªßÊâøüòÑ ES6‰∏≠ÁöÑÂÆûÁé∞Ê¶ÇËø∞ ES6Êèê‰æõ‰∫ÜÊõ¥Êé•Ëøë‰º†ÁªüËØ≠Ë®Ä‚ÄùÁ±ª‚ÄùÁöÑÂÜôÊ≥ïÔºåÂºïÂÖ•‰∫ÜClassÔºàÁ±ªÔºâËøô‰∏™Ê¶ÇÂøµÔºå‰Ωú‰∏∫ÂØπË±°ÁöÑÊ®°Êùø„ÄÇÈÄöËøáclassÂÖ≥ÈîÆÂ≠óÔºåÂèØ‰ª•ÂÆö‰πâÁ±ª„ÄÇÂü∫Êú¨‰∏äÔºåES6ÁöÑclassÂèØ‰ª•Áúã‰ΩúÂè™ÊòØ‰∏Ä‰∏™ËØ≠Ê≥ïÁ≥ñÔºåÂÆÉÁöÑÁªùÂ§ßÈÉ®ÂàÜÂäüËÉΩÔºåES5ÈÉΩÂèØ‰ª•ÂÅöÂà∞ÔºåÊñ∞ÁöÑclassÂÜôÊ≥ïÂè™ÊòØËÆ©ÂØπË±°ÂéüÂûãÁöÑÂÜôÊ≥ïÊõ¥Âä†Ê∏ÖÊô∞„ÄÅÊõ¥ÂÉèÈù¢ÂêëÂØπË±°ÁºñÁ®ãÁöÑËØ≠Ê≥ïËÄåÂ∑≤„ÄÇ‰∏ãÈù¢Êàë‰ª¨Áî®ES6ÁöÑËØ≠Ê≥ïÂÆûÁé∞Á±ªÁöÑÁªßÊâø„ÄÇ ‰ª£Á†Å // Âü∫Á±ª Person class Person { // Áà∂Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï constructor(name, age) { this.name = name; this.age = age; // ÂÖ±‰∫´ÂèòÈáè this.LEGS_NUM = 2; } // Áà∂Á±ªÁöÑinfoÊñπÊ≥ï info() { console.log(`My name is ${this.name}, I\&apos;m ${this.age} years old now.`); } // Áà∂Á±ªÁöÑwalkÊñπÊ≥ï walk() { console.log(this.name + &apos; is walking...&apos;); } } // Â≠êÁ±ª Student class Student extends Person { constructor(name, age, className) { // Ë∞ÉÁî®Âü∫Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï super(name, age); this.className = className; } // Ë¶ÜÁõñÁà∂Á±ªÁöÑinfoÊñπÊ≥ï info() { console.log(`My name is ${this.name}, I\&apos;m ${this.age} years old, and from class ${this.className}.`); } } // ÂÆû‰æãÂåñ‰∏Ä‰∏™StudentÁöÑÂÆû‰æã let stu = new Student(&apos;Zhaohui&apos;, 22, 5); stu.info(); // My name is Zhaohui, I&apos;m 22 years old, and from class 5. stu.walk(); // Zhaohui is walking... console.log(stu.LEGS_NUM); // 2 console.log(stu instanceof Student); // true console.log(stu instanceof Person); // true ËøôÊ†∑Êàë‰ª¨Â∞±ÈÄöËøáES6‰∏≠ÁöÑclassÂÆûÁé∞‰∫Ü‚ÄúÁ±ª‚ÄùÁöÑÁªßÊâø‰∫Ü]]></content>
      <tags>
        <tag>JS</tag>
        <tag>ÁªßÊâø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Koa2‰ΩøÁî®koa-bodyÂÆûÁé∞Êñá‰ª∂‰∏ä‰º†(NodeÂèØËØªÊµÅÂèØÂÜôÊµÅ)]]></title>
    <url>%2F2018%2F03%2F27%2FKoa2%E4%BD%BF%E7%94%A8koa-body%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%2F</url>
    <content type="text"><![CDATA[koa-bodyÊñá‰ª∂‰∏ä‰º†Ëá™ÂÆö‰πâÊñá‰ª∂Â§πÂèäÊñá‰ª∂ÂêçÁß∞123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119const Koa = require(&apos;koa&apos;), //bodyParser = require(&apos;koa-bodyparser&apos;), router = require(&apos;koa-router&apos;)(), stc = require(&apos;koa-static&apos;), render = require(&apos;koa-art-template&apos;), fs = require(&apos;fs&apos;), path = require(&apos;path&apos;);const koaBody = require(&apos;koa-body&apos;);//ÂºïÂÖ•Â≠êÊ®°Âùóvar admin = require(&apos;./routes/admin.js&apos;);var api = require(&apos;./routes/api.js&apos;);var index = require(&apos;./routes/index.js&apos;);var app = new Koa();//ÈÖçÁΩÆkoa-art-template Ê®°ÊùøÂºïÊìérender(app, &#123; root: path.join(__dirname, &apos;views&apos;), extname: &apos;.html&apos;, debug: process.env.NODE_ENV !== &apos;production&apos;, minimize: true, htmlMinifierOptions: &#123; collapseWhitespace: true, minifyCSS: true, minifyJS: true, // automatically merged at runtime: rules.map(rule =&gt; rule.test) ignoreCustomFragments: [] &#125;&#125;);//app.use(bodyParser());app.use(stc( path.join(__dirname, &apos;./statics&apos;)))app.use(stc( path.join(__dirname, &apos;./public&apos;)))//koaBodyapp.use(koaBody(&#123; multipart: true, // ÊîØÊåÅÊñá‰ª∂‰∏ä‰º† encoding: &apos;gzip&apos;, formidable: &#123; uploadDir: path.join(__dirname, &apos;public/upload/&apos;), // ËÆæÁΩÆÊñá‰ª∂‰∏ä‰º†ÁõÆÂΩï keepExtensions: true, // ‰øùÊåÅÊñá‰ª∂ÁöÑÂêéÁºÄ maxFieldsSize: 2 * 1024 * 1024, // Êñá‰ª∂‰∏ä‰º†Â§ßÂ∞è onFileBegin: (name, file) =&gt; &#123; // Êñá‰ª∂‰∏ä‰º†ÂâçÁöÑËÆæÁΩÆ // console.log(`name: $&#123;name&#125;`); // console.log(file); &#125;, &#125;&#125;));//ÈÖçÁΩÆË∑ØÁî±router.use(index);/* /admin ÈÖçÁΩÆÂ≠êË∑ØÁî± Â±ÇÁ∫ßË∑ØÁî± /admin/user */router.use(&apos;/admin&apos;, admin);/* /api/newslist Êñ∞ÈóªÂàóË°®ÁöÑapi */router.use(&apos;/api&apos;, api); /*Âú®Ê®°ÂùóÈáåÈù¢Êö¥Èú≤Ë∑ØÁî±Âπ∂‰∏îÂêØÂä®Ë∑ØÁî±*/router.post(&apos;/getData&apos;, async(ctx, next) =&gt; &#123; let request = ctx.request; let req_query = request.query; let req_querystring = request.querystring; console.log(request, req_query, req_querystring); console.log(ctx.request.body) console.log(ctx.request.files); ctx.cookies.set( &apos;MyName&apos;, &apos;Koa2&apos;, &#123; domain: &apos;127.0.0.1&apos;, // ÂÜôcookieÊâÄÂú®ÁöÑÂüüÂêç path: &apos;/&apos;, // ÂÜôcookieÊâÄÂú®ÁöÑË∑ØÂæÑ maxAge: 1000 * 60 * 60 * 24, // cookieÊúâÊïàÊó∂Èïø expires: new Date(&apos;2018-12-31&apos;), // cookieÂ§±ÊïàÊó∂Èó¥ httpOnly: false, // ÊòØÂê¶Âè™Áî®‰∫éhttpËØ∑Ê±Ç‰∏≠Ëé∑Âèñ overwrite: false // ÊòØÂê¶ÂÖÅËÆ∏ÈáçÂÜô &#125; ); //ctx.status = 200 return ctx.body = &#123; code: 200, data: &#123; arr: [1, 2, 3, 4] &#125; &#125;;&#125;)router.post(&apos;/uploadPic&apos;, async(ctx, next) =&gt; &#123; const file = ctx.request.files.file; // ‰∏ä‰º†ÁöÑÊñá‰ª∂Âú®ctx.request.files.file // ÂàõÂª∫ÂèØËØªÊµÅ const reader = fs.createReadStream(file.path); // ‰øÆÊîπÊñá‰ª∂ÁöÑÂêçÁß∞ var myDate = new Date(); var newFilename = file.name.split(&apos;.&apos;)[0] + &apos;_&apos; + myDate.getTime() + &apos;.&apos; + file.name.split(&apos;.&apos;)[1]; var targetPath = path.join(__dirname, &apos;./public/upload/&apos;) + `/$&#123;newFilename&#125;`; //ÂàõÂª∫ÂèØÂÜôÊµÅ const upStream = fs.createWriteStream(targetPath); // ÂèØËØªÊµÅÈÄöËøáÁÆ°ÈÅìÂÜôÂÖ•ÂèØÂÜôÊµÅ reader.pipe(upStream); //ctx.redirect(&apos;/&apos;) //ËøîÂõû‰øùÂ≠òÁöÑË∑ØÂæÑ return ctx.body = &#123; code: 200, data: &#123; url: &apos;http://&apos; + ctx.headers.host + &apos;/upload/&apos; + newFilename &#125; &#125;;&#125;);//ÂêØÂä®Ë∑ØÁî±app.use(router.routes()).use(router.allowedMethods());app.listen(12300);]]></content>
      <tags>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÂâçÁ´ØÈîôËØØÁõëÊéß‰∏é‰∏äÊä•]]></title>
    <url>%2F2018%2F02%2F21%2FJS%E5%89%8D%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7%E4%B8%8E%E4%B8%8A%E6%8A%A5%2F</url>
    <content type="text"><![CDATA[Êàë‰ª¨ÁöÑÁõÆÊ†áÊòØ‰ªÄ‰πàÔºüÂ∞ÜÁî®Êà∑Âú®‰ΩøÁî®ÁΩëÈ°µÊúçÂä°Êó∂‰∫ßÁîüÁöÑÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÁöÑÂºÇÂ∏∏ÈÄöËøáÁΩëÁªúËØ∑Ê±Ç‰º†ÂõûÊúçÂä°Âô®ÔºåÂπ∂ËøõË°åÂèØËßÜÂåñÁöÑÂ±ïÁé∞ÔºåÊï¥‰∏™ËøáÁ®ãË¶ÅÊ±ÇÊàë‰ª¨Âõû‰º†ÁöÑÈîôËØØ‰ø°ÊÅØÂåÖÂê´ÈîôËØØÁ±ªÂûã„ÄÅË∞ÉÁî®Â†ÜÊ†àÁ≠âÈîôËØØ‰ø°ÊÅØ‰ª•‰æøÂºÄÂèë‰∫∫ÂëòÂÆö‰ΩçÈîôËØØ„ÄÇ ÈúÄ‰∏äÊä•ÁöÑÈîôËØØÁ±ªÂûãÊúâÂá†ÁßçÔºü ÈùôÊÄÅËµÑÊ∫êÂä†ËΩΩÂ§±Ë¥• AJAXËØ∑Ê±ÇÂ§±Ë¥• JavaScriptÂºÇÂ∏∏ ËøêË°åÊó∂Êä•Èîô ÂêåÊ≠•ÈîôËØØ ÂºÇÊ≠•ÈîôËØØ ËØ≠Ê≥ïÈîôËØØ promiseÂºÇÂ∏∏ ÊçïËé∑ÈîôËØØÊúâÂá†ÁßçÊñπÂºèÔºüËøôÈáåÊàëÊÄªÁªì‰∫ÜÂá†ÁßçÔºåÂàÜÂà´ÊòØÔºö onerrorÂÖ®Â±ÄÁõëÂê¨ addEventListenerÂÖ®Â±ÄÁõëÂê¨ try‚Ä¶catch‰∏ªÂä®ÊçïËé∑ promise‚Ä¶catch‰∏ªÂä®ÊçïËé∑ ÈáçÂÜôXMLHttpRequestÂØπË±°ÊñπÊ≥ï MVVMÊ°ÜÊû∂‰æãÂ¶ÇVUEÂíåReact‰∏≠ÁöÑÂÆòÊñπÈîôËØØÂ§ÑÁêÜÊñπÊ≥ï ‰∏ãÈù¢ÂàÜÂà´‰ªãÁªçÔºö try catch‰ΩøÁî®ÊñπÊ≥ïÂ§ßÂÆ∂Â∫îËØ•ÈÉΩÁü•ÈÅìÔºå‰ΩøÁî®try‚Ä¶catchÂèØ‰ª•‰∏ªÂä®ÁöÑÂ§ÑÁêÜÂºÇÂ∏∏ÔºåÂÖªÊàêÂú®ÂÖ≥ÈîÆÊìç‰ΩúÂ§ÑÂÜôtry‚Ä¶catchÁöÑ‰π†ÊÉØÂèØ‰ª•ÈùûÂ∏∏Â•ΩÁöÑÂ∏ÆÂä©ÂêéÁª≠Âà§Êñ≠Á∫ø‰∏äÈÅáÂà∞ÁöÑÂêÑÁßçÂºÇÂ∏∏„ÄÇ ËøôÈáåÈúÄË¶ÅÊåáÂá∫try catchÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂá†ÁÇπÔºö try-catch Âè™ËÉΩÊçïËé∑Âà∞ÂêåÊ≠•ÁöÑËøêË°åÊó∂ÈîôËØØÔºåÂÖ∂‰ªñÁ±ªÂûãÊó†Ê≥ïÊçïËé∑ Ëß£ÂÜ≥ÊñπÊ°àÔºö onerrorÈÉΩÂèØ‰ª•ÊçïËé∑Âà∞ËøêË°åÊó∂ÁöÑÂêåÊ≠•/ÂºÇÊ≠•ÈîôËØØ onerror ÂΩìJavaScriptËøêË°åÊó∂ÈîôËØØÔºàÂåÖÊã¨ËØ≠Ê≥ïÈîôËØØÔºâÂèëÁîüÊó∂Ôºåwindow‰ºöËß¶Âèë‰∏Ä‰∏™ErrorEventÊé•Âè£ÁöÑerror‰∫ã‰ª∂ÔºåÂπ∂ÊâßË°åwindow.onerror()„ÄÇ window.errorÂèØ‰ª•Áî®‰∫éÂÖ®Â±ÄÊçïËé∑JavaScript‰∫ßÁîüÁöÑÈîôËØØÔºå‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö 1234567window.onerror = function(message, source, lineno, colno, error) &#123; // messageÔºöÈîôËØØ‰ø°ÊÅØÔºàÂ≠óÁ¨¶‰∏≤Ôºâ„ÄÇ // sourceÔºöÂèëÁîüÈîôËØØÁöÑËÑöÊú¨URLÔºàÂ≠óÁ¨¶‰∏≤Ôºâ // linenoÔºöÂèëÁîüÈîôËØØÁöÑË°åÂè∑ÔºàÊï∞Â≠óÔºâ // colnoÔºöÂèëÁîüÈîôËØØÁöÑÂàóÂè∑ÔºàÊï∞Â≠óÔºâ // errorÔºöErrorÂØπË±°ÔºàÂØπË±°Ôºâ&#125; ‰ΩÜÊòØ‰ΩøÁî®Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÂá†ÁÇπÔºö Script Error Âú®ÂçïÈ°µÈù¢Â∫îÁî®‰∏≠ÔºåÂΩìÊàë‰ª¨‰ΩøÁî®scriptÊ†áÁ≠æÂºïÂÖ•‰∫ÜJSÊñá‰ª∂ÔºåÂΩìËØ•JSÊñá‰ª∂ÁöÑÊù•Ê∫êÂüüÂêçÂíåÁΩëÈ°µÁöÑÂüüÂêç‰∏çÂêåÊó∂ÔºåËøôÊó∂Â¶ÇÊûúËØ•JSÊñá‰ª∂ÂÜÖÈÉ®Êä•ÈîôÔºåÂàôÊàë‰ª¨Âè™ËÉΩÊçïËé∑Âà∞Script ErrorÔºåËÄå‰∏çÊòØËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÔºåËøôÊòØÁî±‰∫éÊµèËßàÂô®ÁöÑË∑®ÂüüÈôêÂà∂„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ÈúÄË¶ÅÂú®Ë∑®ÂüüÁöÑscriptÊ†áÁ≠æ‰∏≠Âä†ÂÖ•crossoriginÂ±ûÊÄßÔºå‰æãÂ¶Ç&lt;script type=&quot;text/javascript&quot; src=&quot;example.js&quot; crossorigin&gt;&lt;/script&gt; ÈúÄË¶ÅÁªôË∑®ÂüüËµÑÊ∫êÁöÑÊúçÂä°Âô®ÁöÑresponse headerËÆæÁΩÆÂÖÅËÆ∏Ë∑®ÂüüÔºöAccess-Control-Allow-Origin:* ‰∏çËÉΩÂÖ®Â±ÄÊçïËé∑Âà∞ËµÑÊ∫êÔºàÂ¶ÇÂõæÁâáÊàñËÑöÊú¨ÔºâÁöÑÂä†ËΩΩÂ§±Ë¥• Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰ΩøÁî®window.addEventListenerÊçïËé∑„ÄÇ onerrorÊó†Ê≥ïÊçïËé∑ËØ≠Ê≥ïÈîôËØØ onerrorÊúÄÂ•ΩÂÜôÂú®ÊâÄÊúâ JS ËÑöÊú¨ÁöÑÂâçÈù¢ÔºåÂê¶ÂàôÊúâÂèØËÉΩÊçïËé∑‰∏çÂà∞ÈîôËØØ addEventListener ÂΩì‰∏ÄÈ°πËµÑÊ∫êÔºàÂ¶ÇÂõæÁâáÊàñËÑöÊú¨ÔºâÂä†ËΩΩÂ§±Ë¥•ÔºåÂä†ËΩΩËµÑÊ∫êÁöÑÂÖÉÁ¥†‰ºöËß¶Âèë‰∏Ä‰∏™EventÊé•Âè£ÁöÑerror‰∫ã‰ª∂ÔºåÂπ∂ÊâßË°åËØ•ÂÖÉÁ¥†‰∏äÁöÑonerror()Â§ÑÁêÜÂáΩÊï∞„ÄÇËøô‰∫õerror‰∫ã‰ª∂‰∏ç‰ºöÂêë‰∏äÂÜíÊ≥°Âà∞windowÔºå‰∏çËøáÔºàËá≥Â∞ëÂú®Firefox‰∏≠ÔºâËÉΩË¢´Âçï‰∏ÄÁöÑwindow.addEventListenerÊçïËé∑„ÄÇ ‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö 123window.addEventListener('error', (error) =&gt; &#123; console.log(error);&#125;, true) window.addEventListenerÂú®ËøêË°åÊó∂ÈîôËØØÂíåËµÑÊ∫êÂä†ËΩΩÈîôËØØÊó∂ËøîÂõûÁöÑÈîôËØØÂØπË±°‰∏çÂêåÔºåÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢‰∏§ÂõæÔºö ËøêË°åÊó∂ÈîôËØØÔºö ËµÑÊ∫êÂä†ËΩΩÈîôËØØÔºö ‰ΩøÁî®Êó∂ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπÔºö ‰∏çÂêåÊµèËßàÂô®‰∏ãËøîÂõûÁöÑerrorÂØπË±°ÂèØËÉΩ‰∏çÂêåÔºåÈúÄË¶ÅÊ≥®ÊÑèÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÈÅøÂÖçaddEventListenerÈáçÂ§çÁõëÂê¨„ÄÇ promise catchÂú®promise‰∏≠‰ΩøÁî®catchÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÁöÑÊçïËé∑Âà∞ÂºÇÊ≠•errorÔºå‰ΩøÁî®ÊñπÊ≥ïÂ§ßÂÆ∂‰πüÂ∫îËØ•ÈÉΩ‰∫ÜËß£‰∫Ü„ÄÇ ËøôÈáåËØ¥‰∏Ä‰∏ãÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ: Ê≤°ÊúâÂÜôcatchÁöÑPromise‰∏≠ÊäõÂá∫ÁöÑÈîôËØØÊó†Ê≥ïË¢´onerror Êàñ try-catchÊçïËé∑Âà∞ÔºåÊâÄ‰ª•Êàë‰ª¨Âä°ÂøÖË¶ÅÂú®Promise‰∏≠‰∏çË¶ÅÂøòËÆ∞ÂÜôcatchÂ§ÑÁêÜÊäõÂá∫ÁöÑÂºÇÂ∏∏„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö ‰∏∫‰∫ÜÈò≤Ê≠¢ÊúâÊºèÊéâÁöÑPromiseÂºÇÂ∏∏ÔºåÂª∫ËÆÆÂú®ÂÖ®Â±ÄÂ¢ûÂä†‰∏Ä‰∏™ÂØπunhandledrejectionÁöÑÁõëÂê¨ÔºåÁî®Êù•ÂÖ®Â±ÄÁõëÂê¨Uncaught Promise Error„ÄÇ‰ΩøÁî®ÊñπÂºèÔºö 123window.addEventListener("unhandledrejection", function(e)&#123; console.log(e);&#125;); ÈáçÂÜôXMLHttpRequestÂØπË±°ÁöÑÊñπÊ≥ïËØ•ÊñπÊ≥ï‰∏ªË¶ÅÈíàÂØπAJAXËØ∑Ê±ÇÂºÇÂ∏∏,ÈôÑ‰∏äÂèÇËÄÉ‰ª£Á†ÅÔºö 12345678910111213141516171819202122232425262728293031323334353637function () &#123; var _self = this; // ÈáçÂÜô open XMLHttpRequest.prototype.open = function()&#123; // ÂÖàÂú®Ê≠§Â§ÑÂèñÂæóËØ∑Ê±ÇÁöÑurl„ÄÅmethod _self.reqUrl = arguments[1]; _self.reqMethod = arguments[0]; // Âú®Ë∞ÉÁî®ÂéüÁîü open ÂÆûÁé∞ÈáçÂÜô _self.xhrOpen.apply(this, arguments); &#125; // ÈáçÂÜô send XMLHttpRequest.prototype.send = function () &#123; // ËÆ∞ÂΩïxhr var xhrmsg = &#123; 'url': _self.reqUrl, 'type': _self.reqMethod, // Ê≠§Â§ÑÂèØ‰ª•ÂèñÂæó ajax ÁöÑËØ∑Ê±ÇÂèÇÊï∞ 'data': arguments[0] || &#123;&#125; &#125; this.addEventListener('readystatechange', function () &#123; if (this.readyState === 4) &#123; // Ê≠§Â§ÑÂèØ‰ª•ÂèñÂæó‰∏Ä‰∫õÂìçÂ∫î‰ø°ÊÅØ // ÂìçÂ∫î‰ø°ÊÅØ xhrmsg['res'] = this.response; xhrmsg['status'] = this.status; this.status &gt;= 200 &amp;&amp; this.status &lt; 400 ? xhrmsg['level'] = 'success' : xhrmsg['level'] = 'error'; xhrArray.push(xhrmsg); &#125; &#125;); _self.xhrSend.apply(this, arguments); &#125; &#125; MVVMÊ°ÜÊû∂Êèê‰æõÁöÑÈîôËØØÂ§ÑÁêÜÈí©Â≠êVUEÂíåReactÈÉΩÂàÜÂà´Êèê‰æõ‰∫ÜÂØπÂ∫îÁöÑÈîôËØØÂ§ÑÁêÜÈí©Â≠êÔºåÁî±‰∫éÁ¨îËÄÖ‰ΩøÁî®VUEÂ§ö‰∏Ä‰∫õÔºåËøôÈáå‰ªãÁªç‰∏Ä‰∏ãVUEÁöÑÈîôËØØÂ§ÑÁêÜÔºö VUEÂÆòÊñπÊñáÊ°£‰ªãÁªçÔºö ÊåáÂÆöÁªÑ‰ª∂ÁöÑÊ∏≤ÊüìÂíåËßÇÂØüÊúüÈó¥Êú™ÊçïËé∑ÈîôËØØÁöÑÂ§ÑÁêÜÂáΩÊï∞„ÄÇËøô‰∏™Â§ÑÁêÜÂáΩÊï∞Ë¢´Ë∞ÉÁî®Êó∂ÔºåÂèØËé∑ÂèñÈîôËØØ‰ø°ÊÅØÂíå Vue ÂÆû‰æã„ÄÇ ‰ªé 2.2.0 Ëµ∑ÔºåËøô‰∏™Èí©Â≠ê‰πü‰ºöÊçïËé∑ÁªÑ‰ª∂ÁîüÂëΩÂë®ÊúüÈí©Â≠êÈáåÁöÑÈîôËØØ„ÄÇÂêåÊ†∑ÁöÑÔºåÂΩìËøô‰∏™Èí©Â≠êÊòØ undefined Êó∂ÔºåË¢´ÊçïËé∑ÁöÑÈîôËØØ‰ºöÈÄöËøá console.error ËæìÂá∫ËÄåÈÅøÂÖçÂ∫îÁî®Â¥©Ê∫É„ÄÇ ‰ªé 2.4.0 Ëµ∑Ëøô‰∏™Èí©Â≠ê‰πü‰ºöÊçïËé∑ Vue Ëá™ÂÆö‰πâ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÈîôËØØ‰∫Ü„ÄÇ ‰∏ãÈù¢Êàë‰ª¨Áúã‰∏Ä‰∏ãÂÆûÈôÖÊÉÖÂÜµÔºö 1234567891011121314151617&lt;template&gt; &lt;div @click="clickerror"&gt;error&lt;/div&gt;&lt;/template&gt;export default &#123; mounted() &#123; this.mounterror(); &#125;, methods: &#123; mounterror() &#123; throw new Error("ÊäõÂá∫mountÈîôËØØ"); &#125;, clickerror() &#123; throw new Error("ÊäõÂá∫clickÈîôËØØ"); &#125; &#125;&#125;; 123456Vue.config.errorHandler = (err, vm, info) =&gt; &#123; console.error('ÈÄöËøávue errorHandlerÊçïËé∑ÁöÑÈîôËØØ'); console.error(err); console.error(vm); console.error(info);&#125; ÂèØ‰ª•ÁúãÂà∞ÁîüÂëΩÂë®ÊúüÈí©Â≠êÈáåÁöÑÈîôËØØÊòØÂèØ‰ª•Ë¢´errorHandlerÊçïËé∑Âà∞Ôºå‰ΩÜÊòØÂΩìÊàë‰ª¨‰∏ªÂä®ÁÇπÂáªdivËß¶ÂèëclickerrorÊó∂Ôºå‰ºöÂèëÁé∞ËøôÊó∂ÈîôËØØÂπ∂Ê≤°ÊúâË¢´errorHandlerÊçïËé∑Âà∞ÔºåÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÊòØUncaught ErrorÔºå‰πüÂ∞±ÊòØÊ≤°ÊúâË¢´ÊçïËé∑Âà∞ÁöÑÈîôËØØÔºåÊâÄ‰ª•ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåerrorHandlerÊñπÊ≥ïÁõÆÂâçËøòÊçïËé∑‰∏çÂà∞ÁªëÂÆöÁõëÂê¨‰∫ã‰ª∂Ëß¶ÂèëÁöÑÂºÇÂ∏∏Ôºå‰ΩÜÊòØÂèØ‰ª•ÊçïËé∑Âà∞Âú®ÁîüÂëΩÂë®ÊúüÈí©Â≠ê‰∏≠Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÁöÑÈîôËØØ„ÄÇ Âú®React‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ErrorBoundaryÁªÑ‰ª∂ÂåÖÊã¨‰∏öÂä°ÁªÑ‰ª∂ÁöÑÊñπÂºèËøõË°åÂºÇÂ∏∏ÊçïËé∑ÔºåÈÖçÂêàReact 16.0+Êñ∞Âá∫ÁöÑcomponentDidCatch APIÔºåÂèØ‰ª•ÂÆûÁé∞Áªü‰∏ÄÁöÑÂºÇÂ∏∏ÊçïËé∑ÂíåÊó•Âøó‰∏äÊä•„ÄÇ 123456789101112131415161718192021class ErrorBoundary extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; hasError: false &#125;; &#125; componentDidCatch(error, info) &#123; // Display fallback UI this.setState(&#123; hasError: true &#125;); // You can also log the error to an error reporting service logErrorToMyService(error, info); &#125; render() &#123; if (this.state.hasError) &#123; // You can render any custom fallback UI return &lt;h1&gt;Something went wrong.&lt;/h1&gt;; &#125; return this.props.children; &#125;&#125; ‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö 123&lt;ErrorBoundary&gt; &lt;MyWidget /&gt;&lt;/ErrorBoundary&gt; Ëß£ÂÜ≥ÊñπÊ°à Ôºö‰ΩøÁî®window.onerror 12345678window.onerror = function (message, source, lineno, colno, error) &#123; console.error('ÈÄöËøáonerrorÊçïËé∑Âà∞ÁöÑÈîôËØØ'); console.error(message); console.error(source); console.error(lineno); console.error(colno); console.error(error);&#125; Âú®MVVMÊ°ÜÊû∂‰∏≠‰ΩøÁî®onerrorÁõëÂê¨ÂÖ®Â±ÄÂºÇÂ∏∏‰ºöÂèëÁé∞Âπ∂‰∏çËÉΩÊçïËé∑Âà∞ÁªëÂÆö‰∫ã‰ª∂ÁöÑËØ¶ÁªÜÈîôËØØ‰ø°ÊÅØÔºåÂè™‰ºöËæìÂá∫Script ErrorÔºå ËøôÊó∂Êàë‰ª¨ÂèØ‰ª•Â∞ùËØïËøõÂÖ•webpackÈÖçÁΩÆÔºåËÆæÁΩÆdevtool:&quot;source-map&quot;,ËøôÊó∂Âú®ÊéßÂà∂Âè∞ÂÜçÊ¨°ÊâìÂç∞ÂèØ‰ª•ÁúãËßÅÊàêÂäüÊçïËé∑Âà∞ÁªëÂÆö‰∫ã‰ª∂ÁöÑÈîôËØØ„ÄÇ ÈîôËØØ‰∏äÊä•‰∏§Áßç‰∏ªÊµÅ‰∏äÊä•ÊñπÂºèÔºö ÈÄöËøáAjaxÂèëÈÄÅÊï∞ÊçÆ Âõ†‰∏∫AjaxËØ∑Ê±ÇÊú¨Ë∫´‰πüÊúâÂèØËÉΩ‰ºöÂèëÁîüÂºÇÂ∏∏ÔºåËÄå‰∏îÊúâÂèØËÉΩ‰ºöÂºïÂèëË∑®ÂüüÈóÆÈ¢òÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊõ¥Êé®Ëçê‰ΩøÁî®Âä®ÊÄÅÂàõÂª∫imgÊ†áÁ≠æÁöÑÂΩ¢ÂºèËøõË°å‰∏äÊä•„ÄÇ Âä®ÊÄÅÂàõÂª∫ img Ê†áÁ≠æÁöÑÂΩ¢Âºè new Image().src = reportUrl + &#39;?msg=&#39; + msg; ÂâçÁ´ØÊÄßËÉΩ‰∏éÂºÇÂ∏∏‰∏äÊä•ÂâçÁ´ØÊÄßËÉΩÁõëÊéßÔºöwindow.performance]]></content>
      <tags>
        <tag>ÈîôËØØÁõëÊéß</tag>
        <tag>‰∏äÊä•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êàë‰πüÊù•ÂÆûÁé∞‰∏ÄÊääMVVM]]></title>
    <url>%2F2018%2F02%2F03%2F%E6%88%91%E4%B9%9F%E6%9D%A5%E5%AE%9E%E7%8E%B0%E4%B8%80%E6%8A%8AMVVM%2F</url>
    <content type="text"><![CDATA[Â§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºåvueÊòØ‰∏™MVVMÊ°ÜÊû∂ÔºåËÉΩÂ§üÂÆûÁé∞viewÂíåmodelÁöÑÂèåÂêëÁªëÂÆöÔºå‰∏çÂÉèbackboneÈÇ£Ê†∑ÔºåmodelÊîπÂèòÈúÄË¶ÅÊâãÂä®ÂéªÈÄöÁü•viewÊõ¥Êñ∞ÔºåËÄåvueÂÆûÁé∞ÁöÑÂéüÁêÜÂ∞±ÊòØÈÄöËøáObject.definePropertyÂÆûÁé∞Êï∞ÊçÆÊåüÊåÅÔºåÂÆö‰πâsetterÔºåÁÑ∂ÂêéÊï∞ÊçÆÊîπÂèòÁöÑÊó∂ÂÄôÈÄöÁü•ËßÜÂõæÊõ¥Êñ∞„ÄÇ ‰∏ãÈù¢ÊòØÁΩë‰∏ävueÁöÑÂÆûÁé∞ÂéüÁêÜÂõæÔºö ÂÆûÁé∞ÊïàÊûú 1„ÄÅMVVMÂÖ•Âè£Êñá‰ª∂ÔºåÂú®ËøôÈáåÂØπvueÂΩì‰∏≠ÁöÑ$el„ÄÅmethods„ÄÅ$dataËøõË°åÂàùÂßãÂåñÔºåË∞ÉÁî®observerÈÅçÂéÜ$dataÁöÑÊï∞ÊçÆÂπ∂ËøõË°åÊåüÊåÅÔºåË∞ÉÁî®compileÈÅçÂéÜ$el‰∏ãÁöÑÊâÄÊúâËäÇÁÇπÔºåËß£ÊûêÊåá‰ª§ÂíåÂèñÂÄºÊìç‰Ωú„ÄÇÈÅçÂéÜ$dataÁöÑÊï∞ÊçÆÔºåÈÄöËøáObject.definePropertyÁöÑgetterÂíåsetterÂÆûÁé∞ÂØπ$dataÁöÑ‰ª£ÁêÜ„ÄÇ 2„ÄÅObserverÈÅçÂéÜdataÔºåÈÄöËøáObject.definePropertyËÆæÁΩÆgetterÂíåsetterÔºåÂú®setterÁü•ÈÅìÊï∞ÊçÆÂèëÁîü‰∫ÜÊîπÂèòÔºåÁÑ∂ÂêéÈÄöÁü•WacherÂéªÊõ¥Êñ∞view„ÄÇ 3„ÄÅCompileÈÅçÂéÜ$el‰∏ãÁöÑÊâÄÊúâËäÇÁÇπÔºåËß£ÊûêÊåá‰ª§ÂíåÂèñÂÄºÊìç‰ΩúÁ≠âÔºå‰∏∫ÊØè‰∏™ËäÇÁÇπÁªëÂÆöÊõ¥Êñ∞ÂáΩÊï∞Ôºà‰∏∫‰ªÄ‰πàÂú®compileËøôÈáåÁªëÂÆöÂë¢ÔºüÂõ†‰∏∫ËøôÈáåÂàöÂ•ΩÊòØÈÅçÂéÜÁöÑËäÇÁÇπ‚ò∫ÔºâÔºåÁªëÂÆö‰∫ã‰ª∂ÂíåmethodÁöÑÂÖ≥Á≥ªÔºåÂêåÊó∂‰πüÊ∑ªÂä†ËÆ¢ÈòÖËÄÖÔºåÂΩìÊé•ÂèóÂà∞ËßÜÂõæÊõ¥Êñ∞ÁöÑËÆ¢ÈòÖÊ∂àÊÅØÂêéÔºåË∞ÉÁî®Êõ¥Êñ∞ÂáΩÊï∞ÔºåÂÆûÁé∞ËßÜÂõæÊõ¥Êñ∞„ÄÇÂêåÊó∂Âú®Ê∑ªÂä†ËÆ¢ÈòÖËÄÖÁöÑÊó∂ÂÄôÔºåÂàùÂßãÂåñÊ∏≤ÊüìËßÜÂõæ„ÄÇ 4„ÄÅWatcherWatcher‰Ωú‰∏∫ËÆ¢ÈòÖËÄÖÔºåÂÖÖÂΩìObserverÂíåCompileÁöÑ‰∏≠Èó¥Ê°•Ê¢ÅÔºåÂåÖÂê´updateÊñπÊ≥ïÔºåupdateÊñπÊ≥ïË∞ÉÁî®Compile‰∏≠ÁªëÂÆöÁöÑ‰∫ã‰ª∂Êõ¥Êñ∞ÂáΩÊï∞ÔºåÂÆûÁé∞ÂØπËßÜÂõæÁöÑÂàùÂßãÂåñÂíåÊõ¥Êñ∞Êìç‰Ωú„ÄÇ MVVMÁöÑÂÆûÁé∞MVVMÂÆåÊàêÂàùÂßãÂåñÊìç‰ΩúÔºåÂπ∂‰∏îË∞ÉÁî®observerÂíåcompile„ÄÇÂØπ$dataËøõË°å‰ª£ÁêÜÔºåÂ¶ÇÊ≠§‰æøÂèØ‰ª•ÈÄöËøáthis.attributeÊù•‰ª£ÁêÜthis.$data.attribute„ÄÇÂõ†‰∏∫‰∏Ä‰∏™Â±ûÊÄßÂèØËÉΩÂØπÂ∫îÂ§ö‰∏™Êåá‰ª§ÔºåÊâÄ‰ª•ÈúÄË¶Å‰∏Ä‰∏™_bindingÂ±ûÊÄßÊù•Â≠òÊîæÂ±ûÊÄßÂØπÂ∫îÁöÑÊâÄÊúâËÆ¢ÈòÖËÄÖÔºåËøôÊ†∑Â±ûÊÄß‰∏ÄÊîπÂèòÔºåÂ∞±ÂèØ‰ª•ÂèñÂá∫ÊâÄÊúâÁöÑËÆ¢ÈòÖËÄÖÂéªÊõ¥Êñ∞ËßÜÂõæ„ÄÇ function MVVM(options) { // ÂàùÂßãÂåñ this.$data = options.data; this.$methods = options.methods; this.$el = options.el; // ‰øùÂ≠òdataÁöÑÊØè‰∏™Â±ûÊÄßÂØπÂ∫îÁöÑÊâÄÊúâwatcher this._binding = {}; // Ë∞ÉÁî®observerÂíåcompile this._observer(options.data); this._compile(); // this.xxx ‰ª£ÁêÜthis.$data.xxx this.proxyAttribute(); } ObserverÁöÑÂÆûÁé∞ObserverÈÅçÂéÜ$dataÔºåÈÄöËøáObject.definePropertyÁöÑsetterÁöÑÊåüÊåÅÊï∞ÊçÆÊîπÂèòÔºåÁõëÂê¨Âà∞Êï∞ÊçÆÊîπÂèòÂêéÂèñÂá∫ÊâÄÊúâËØ•Â±ûÊÄßÂØπÂ∫îÁöÑËÆ¢ÈòÖËÄÖÔºåÁÑ∂ÂêéÈÄöÁü•Êõ¥Êñ∞ÂáΩÊï∞Êõ¥Êñ∞ËßÜÂõæ„ÄÇ Ê≥®ÊÑèÔºöËøôÈáåÊúâÂæ™ÁéØÔºå‰∏îÈó≠ÂåÖÔºàgetterÂíåsetterÔºâÈáåÈù¢ÈúÄË¶Å‰æùËµñÂæ™ÁéØÈ°πÔºàvalueÂíåkeyÔºâÔºåÊâÄ‰ª•Áî®Á´ãÂç≥ÊâßË°åÂáΩÊï∞Ëß£ÂÜ≥Âæ™ÁéØÈ°πËé∑Âèñ‰∏çÂØπÁöÑÈóÆÈ¢ò„ÄÇ MVVM.prototype._observer = function(data) { var self = this; for(var key in this.$data) { if (this.$data.hasOwnProperty(key)) { // ÂàùÂßãÂåñÂ±ûÊÄßÂØπÂ∫îÁöÑËÆ¢ÈòÖËÄÖÂÆπÂô®ÔºàÊï∞ÁªÑÔºâ this._binding[key] = { _directives: [], _texts: [] }; if(typeof this.$data[key] === &quot;object&quot;) { return this._observer(this.$data[key]); } var val = data[key]; // Á´ãÂç≥ÊâßË°åÂáΩÊï∞Ëé∑ÂèñÊ≠£Á°ÆÁöÑÂæ™ÁéØÈ°π (function(value, key) { Object.defineProperty(self.$data, key, { enumerable: true, configurable: true, get: function() { return value; }, set(newval) { if(newval === value) { return; } value = newval; // ÁõëÂê¨Âà∞Êï∞ÊçÆÊîπÂèòÂêéÂèñÂá∫ÊâÄÊúâËØ•Â±ûÊÄßÂØπÂ∫îÁöÑËÆ¢ÈòÖËÄÖÔºåÈÄöÁü•viewÊõ¥Êñ∞-Â±ûÊÄß if(self._binding[key]._directives) { self._binding[key]._directives.forEach(function(watcher) { watcher.update(); }, self); } // ÁõëÂê¨Âà∞Êï∞ÊçÆÊîπÂèòÂêéÂèñÂá∫ÊâÄÊúâËØ•Â±ûÊÄßÂØπÂ∫îÁöÑËÆ¢ÈòÖËÄÖÔºåÈÄöÁü•viewÊõ¥Êñ∞-ÊñáÊú¨ if(self._binding[key]._texts) { self._binding[key]._texts.forEach(function(watcher) { watcher.update(); }, self); } } }); })(val, key); } } } CompileÁöÑÂÆûÁé∞CompileÈÅçÂéÜÊâÄÊúâÁöÑËäÇÁÇπÔºåËß£ÊûêÊåá‰ª§Ôºå‰∏∫ÊØè‰∏™ËäÇÁÇπÁªëÂÆöÊõ¥Êñ∞ÂáΩÊï∞Ôºå‰∏îÊ∑ªÂä†ËÆ¢ÈòÖËÄÖÔºåÂΩìËÆ¢ÈòÖËÄÖÈÄöÁü•viewÊõ¥Êñ∞ÁöÑÊó∂ÂÄôÔºåË∞ÉÁî®Êõ¥Êñ∞ÂáΩÊï∞ÔºåÂÆûÁé∞ÂØπËßÜÂõæÁöÑÊõ¥Êñ∞„ÄÇ ËøôÈáåÂêåÊ†∑ÈúÄË¶Å‰ΩøÁî®Á´ãÂç≥ÊâßË°åÂáΩÊï∞Êù•Ëß£ÂÜ≥Èó≠ÂåÖ‰æùËµñÁöÑÂæ™ÁéØÈ°πÈóÆÈ¢ò„ÄÇ ËøòÊúâ‰∏ÄÁÇπÈúÄË¶ÅËß£ÂÜ≥ÁöÑÊòØÔºåÂ¶ÇÊûúËäÇÁÇπÁöÑinnerText‰æùËµñÂ§ö‰∏™Â±ûÊÄßÁöÑËØùÔºåÂ¶Ç‰ΩïÂÅöÂà∞Âè™ÊõøÊç¢ÊîπÂèòÂ±ûÊÄßÂØπÂ∫îÁöÑÊñáÊú¨ÈóÆÈ¢ò„ÄÇ ÊØîÂ¶ÇÔºöÂ∑≤ÁªèË¢´ÁºñËØëËß£ÊûêÊàê‚ÄúÊ¨¢ËøéÔºö È∏£‰∫∫‚ÄùÔºåÂ¶ÇÊûúmessageÊîπÂèò‰∏∫‚Äú‰Ω†Â•Ω‚ÄùÔºåÊÄé‰πàËÆ©‰ΩøÂæó‚ÄúÊ¨¢ËøéÔºöÈ∏£‰∫∫‚ÄùÊîπ‰∏∫‚Äú‰Ω†Â•ΩÔºöÈ∏£‰∫∫‚Äù„ÄÇ MVVM.prototype._compile = function() { var dom = document.querySelector(this.$el); var children = dom.children; var self = this; var i = 0, j = 0; // Êõ¥Êñ∞ÂáΩÊï∞Ôºå‰ΩÜobserver‰∏≠modelÁöÑÊï∞ÊçÆÊîπÂèòÁöÑÊó∂ÂÄôÔºåÈÄöËøáWatcherÁöÑupdateË∞ÉÁî®Êõ¥Êñ∞ÂáΩÊï∞Ôºå‰ªéËÄåÊõ¥Êñ∞dom var updater = null; for(; i &lt; children.length; i++) { var node = children[i]; (function(node) { // Ëß£Êûê{{}}ÈáåÈù¢ÁöÑÂÜÖÂÆπ // ‰øùÂ≠òÊåá‰ª§ÂéüÂßãÂÜÖÂÆπÔºå‰∏çÁÑ∂Êï∞ÊçÆÊõ¥Êñ∞Êó∂Êó†Ê≥ïÂÆåÊàêÊõøÊç¢ var text = node.innerText; var matches = text.match(/{{([^{}]+)}}/g); if(matches &amp;&amp; matches.length &gt; 0) { // ‰øùÂ≠òÂíånodeÁªëÂÆöÁöÑÊâÄÊúâÂ±ûÊÄß node.bindingAttributes = []; for(j = 0; j &lt; matches.length; j++) { // dataÊüê‰∏™Â±ûÊÄß var attr = matches[j].match(/{{([^{}]+)}}/)[1]; // Â∞ÜÂíåËØ•nodeÁªëÂÆöÁöÑdataÂ±ûÊÄß‰øùÂ≠òËµ∑Êù• node.bindingAttributes.push(attr); (function(attr) { updater = function() { // ÊîπÂèòÁöÑÂ±ûÊÄßÂÄºÂØπÂ∫îÁöÑÊñáÊú¨ËøõË°åÊõøÊç¢ var innerText = text.replace(new RegExp(&quot;{{" + attr + "}}&quot;, &quot;g&quot;), self.$data[attr]); // Â¶ÇÊûúËØ•nodeÁªëÂÆöÂ§ö‰∏™Â±ûÊÄß eg:&lt;div&gt;{{title}}{{description}}&lt;/div&gt; for(var k = 0; k &lt; node.bindingAttributes.length; k++) { if(node.bindingAttributes[k] !== attr) { // ÊÅ¢Â§çÂéüÊù•Ê≤°ÊîπÂèòÁöÑÂ±ûÊÄßÂØπÂ∫îÁöÑÊñáÊú¨ innerText = innerText.replace(&quot;{{" + node.bindingAttributes[k] + "}}&quot;, self.$data[node.bindingAttributes[k]]); } } node.innerText = innerText; } self._binding[attr]._texts.push(new Watcher(self, attr, updater)); })(attr); } } // Ëß£ÊûêvueÊåá‰ª§ var attributes = node.getAttributeNames(); for(j = 0; j &lt; attributes.length; j++) { // vueÊåá‰ª§ var attribute = attributes[j]; // DOM attribute var domAttr = null; // ÁªëÂÆöÁöÑdataÂ±ûÊÄß var vmDataAttr = node.getAttribute(attribute); if(/v-bind:([^=]+)/.test(attribute)) { // Ëß£Êûêv-bind domAttr = RegExp.$1; // Êõ¥Êñ∞ÂáΩÊï∞ updater = function(val) { node[domAttr] = val; } // dataÂ±ûÊÄßÁªëÂÆöÂ§ö‰∏™watcher self._binding[vmDataAttr]._directives.push( new Watcher(self, vmDataAttr, updater) ) } elseif(attribute === &quot;v-model&quot; &amp;&amp; (node.tagName = &apos;INPUT&apos; || node.tagName == &apos;TEXTAREA&apos;)) { // Ëß£Êûêv-model // Êõ¥Êñ∞ÂáΩÊï∞ updater = function(val) { node.value = val; } // dataÂ±ûÊÄßÁªëÂÆöÂ§ö‰∏™watcher self._binding[vmDataAttr]._directives.push( new Watcher(self, vmDataAttr, updater) ) // ÁõëÂê¨input/textareaÁöÑÊï∞ÊçÆÂèòÂåñÔºåÂêåÊ≠•Âà∞modelÂéªÔºåÂÆûÁé∞ÂèåÂêëÁªëÂÆö node.addEventListener(&quot;input&quot;, function(evt) { var $el = evt.currentTarget; self.$data[vmDataAttr] = $el.value; }); } elseif(/v-on:([^=]+)/.test(attribute)) { // Ëß£Êûêv-on var event = RegExp.$1; var method = vmDataAttr; node.addEventListener(event, function(evt) { self.$methods[method] &amp;&amp; self.$methods[method].call(self, evt); }); } } })(node); } } WatcherÁöÑÂÆûÁé∞WatcherÂÖÖÂΩìËÆ¢ÈòÖËÄÖÁöÑËßíËâ≤ÔºåÊû∂Ëµ∑‰∫ÜObserverÂíåCompileÁöÑÊ°•Ê¢ÅÔºåObserverÁõëÂê¨Âà∞Êï∞ÊçÆÂèòÂåñÂêéÔºåÈÄöÁü•WathcerÊõ¥Êñ∞ËßÜÂõæ(Ë∞ÉÁî®WathcerÁöÑupdateÊñπÊ≥ï)ÔºåWatcherÂÜçÂëäËØâCompileÂéªË∞ÉÁî®Êõ¥Êñ∞ÂáΩÊï∞ÔºåÂÆûÁé∞domÁöÑÊõ¥Êñ∞„ÄÇÂêåÊó∂È°µÈù¢ÁöÑÂàùÂßãÂåñÊ∏≤Êüì‰πü‰∫§Áªô‰∫ÜWatcherÔºàÂΩìÁÑ∂‰πüÂèØ‰ª•ÊîæÂà∞CompileËøõË°åÔºâ„ÄÇ function Watcher(vm, attr, cb) { this.vm = vm; // viewmodel this.attr = attr; // dataÁöÑÂ±ûÊÄßÔºå‰∏Ä‰∏™watcherËÆ¢ÈòÖ‰∏Ä‰∏™dataÂ±ûÊÄß this.cb = cb; // Êõ¥Êñ∞ÂáΩÊï∞ÔºåÂú®compileÈÇ£ËæπÂÆö‰πâ // ÂàùÂßãÂåñÊ∏≤ÊüìËßÜÂõæ this.update(); } Watcher.prototype.update = function() { // ÈÄöÁü•comile‰∏≠ÁöÑÊõ¥Êñ∞ÂáΩÊï∞Êõ¥Êñ∞dom this.cb(this.vm.$data[this.attr]); } ÂÖ®ÈÉ®‰ª£Á†ÅgitÂú∞ÂùÄÔºögithub.com/VikiLee/MVV‚Ä¶ È∏£Ë∞¢Ôºöjuejin.im/post/5acc17‚Ä¶ ‰ΩøÁî®‰æãÂ≠ê&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;view&quot;&gt; &lt;div v-bind:id=&quot;id&quot;&gt; {{message}}:{{name}} &lt;/div&gt; &lt;input type=&quot;text&quot; v-model=&quot;name&quot;/&gt; &lt;button v-on:click=&quot;handleClick&quot;&gt;Ëé∑ÂèñËæìÂÖ•ÂÄº&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;js/MVVM.js&quot;type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;script&gt; var vue = new MVVM({ el: &quot;#view&quot;, data: { message: &quot;Ê¨¢ËøéÂÖâ‰∏¥&quot;, name: &quot;È∏£‰∫∫&quot;, id: &quot;id&quot; }, methods: { handleClick: function() { alert(this.message + &quot;:&quot; + this.name + &quot;, ÁÇπÂáªÁ°ÆÂÆöË∑ØÈ£û‰ºöÂá∫Êù•&quot;); this.name = &apos;Ë∑ØÈ£û&apos;; } } }) setTimeout(function() { vue.message = &quot;‰Ω†Â•Ω&quot;; }, 1000); &lt;/script&gt; &lt;/html&gt;]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Web ÂÆâÂÖ®ÊîªÈò≤ÊÄªÁªì]]></title>
    <url>%2F2018%2F01%2F23%2FWeb-%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[Web ÂÆâÂÖ®ÁöÑÂØπ‰∫é Web ‰ªé‰∏ö‰∫∫ÂëòÊù•ËØ¥ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑËØæÈ¢òÔºåÊâÄ‰ª•Âú®ËøôÈáåÊÄªÁªì‰∏Ä‰∏ã Web Áõ∏ÂÖ≥ÁöÑÂÆâÂÖ®ÊîªÈò≤Áü•ËØÜÔºåÂ∏åÊúõ‰ª•Âêé‰∏çË¶ÅÂÜçË∏©Èõ∑Ôºå‰πüÂ∏åÊúõÂØπÁúãÂà∞ËøôÁØáÊñáÁ´†ÁöÑÂêåÂ≠¶ÊúâÊâÄÂ∏ÆÂä©„ÄÇ‰ªäÂ§©ËøôËæπÊñáÁ´†‰∏ªË¶ÅÁöÑÂÜÖÂÆπÂ∞±ÊòØÂàÜÊûêÂá†ÁßçÂ∏∏ËßÅÁöÑÊîªÂáªÁöÑÁ±ªÂûã‰ª•ÂèäÈò≤Âæ°ÁöÑÊñπÊ≥ï„ÄÇ ‰πüËÆ∏‰Ω†ÂØπÊâÄÊúâÁöÑÂÆâÂÖ®ÈóÆÈ¢òÈÉΩÊúâ‰∏ÄÂÆöÁöÑËÆ§ËØÜÔºå‰ΩÜÊúÄ‰∏ªË¶ÅÁöÑËøòÊòØÂú®ÁºñÁ†ÅËÆæËÆ°ÁöÑËøáÁ®ã‰∏≠Êó∂ÂàªÁª∑Á¥ßÂÆâÂÖ®ÈÇ£Ê†πÂº¶ÔºåÈúÄË¶ÅÂèçÂ§çÊé®Êï≤ÊØè‰∏™ÂÆûÁé∞ÁªÜËäÇÔºåÂÆâÂÖ®Êó†Â∞è‰∫ã„ÄÇ Êú¨Êñá‰ª£Á†Å Demo ÈÉΩÊòØÂü∫‰∫é Node.js ËÆ≤Ëß£ÔºåÂÖ∂‰ªñÊúçÂä°Á´ØËØ≠Ë®ÄÂêåÊ†∑ÂèØ‰ª•ÂèÇËÄÉ„ÄÇ XSSÈ¶ñÂÖàËØ¥‰∏ãÊúÄÂ∏∏ËßÅÁöÑ XSS ÊºèÊ¥ûÔºåXSS (Cross Site Script)ÔºåË∑®Á´ôËÑöÊú¨ÊîªÂáªÔºåÂõ†‰∏∫Áº©ÂÜôÂíå CSS (Cascading Style Sheets) ÈáçÂè†ÔºåÊâÄ‰ª•Âè™ËÉΩÂè´ XSS„ÄÇ XSS ÁöÑÂéüÁêÜÊòØÊÅ∂ÊÑèÊîªÂáªËÄÖÂæÄ Web È°µÈù¢ÈáåÊèíÂÖ•ÊÅ∂ÊÑèÂèØÊâßË°åÁΩëÈ°µËÑöÊú¨‰ª£Á†ÅÔºåÂΩìÁî®Êà∑ÊµèËßàËØ•È°µ‰πãÊó∂ÔºåÂµåÂÖ•ÂÖ∂‰∏≠ Web ÈáåÈù¢ÁöÑËÑöÊú¨‰ª£Á†Å‰ºöË¢´ÊâßË°åÔºå‰ªéËÄåÂèØ‰ª•ËææÂà∞ÊîªÂáªËÄÖÁõóÂèñÁî®Êà∑‰ø°ÊÅØÊàñÂÖ∂‰ªñ‰æµÁäØÁî®Êà∑ÂÆâÂÖ®ÈöêÁßÅÁöÑÁõÆÁöÑ„ÄÇXSS ÁöÑÊîªÂáªÊñπÂºèÂçÉÂèò‰∏áÂåñÔºå‰ΩÜËøòÊòØÂèØ‰ª•Â§ßËá¥ÁªÜÂàÜ‰∏∫Âá†ÁßçÁ±ªÂûã„ÄÇ ÈùûÊåÅ‰πÖÂûã XSSÈùûÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÔºå‰πüÂè´ÂèçÂ∞ÑÂûã XSS ÊºèÊ¥ûÔºå‰∏ÄËà¨ÊòØÈÄöËøáÁªôÂà´‰∫∫ÂèëÈÄÅÂ∏¶ÊúâÊÅ∂ÊÑèËÑöÊú¨‰ª£Á†ÅÂèÇÊï∞ÁöÑ URLÔºåÂΩì URL Âú∞ÂùÄË¢´ÊâìÂºÄÊó∂ÔºåÁâπÊúâÁöÑÊÅ∂ÊÑè‰ª£Á†ÅÂèÇÊï∞Ë¢´ HTML Ëß£Êûê„ÄÅÊâßË°å„ÄÇ‰∏æ‰∏Ä‰∏™‰æãÂ≠êÔºåÊØîÂ¶Ç‰Ω†ÁöÑ Web È°µÈù¢‰∏≠ÂåÖÂê´Êúâ‰ª•‰∏ã‰ª£Á†ÅÔºö &lt;select&gt; &lt;script&gt; document.write(&apos;&apos; + &apos;&lt;optionvalue=1&gt;&apos; + location.href.substring(location.href.indexOf(&apos;default=&apos;) + 8) + &apos;&lt;/option&gt;&apos; ); document.write(&apos;&lt;optionvalue=2&gt;English&lt;/option&gt;&apos;); &lt;/script&gt; &lt;/select&gt; ÊîªÂáªËÄÖÂèØ‰ª•Áõ¥Êé•ÈÄöËøá URL (Á±ª‰ººÔºö https://xx.com/xx?default=&lt;script&gt;alert(document.cookie)&lt;/script&gt; Ê≥®ÂÖ•ÂèØÊâßË°åÁöÑËÑöÊú¨‰ª£Á†Å„ÄÇ ÈùûÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÊîªÂáªÊúâ‰ª•‰∏ãÂá†ÁÇπÁâπÂæÅÔºö Âç≥Êó∂ÊÄßÔºå‰∏çÁªèËøáÊúçÂä°Âô®Â≠òÂÇ®ÔºåÁõ¥Êé•ÈÄöËøá HTTP ÁöÑ GET Âíå POST ËØ∑Ê±ÇÂ∞±ËÉΩÂÆåÊàê‰∏ÄÊ¨°ÊîªÂáªÔºåÊãøÂà∞Áî®Êà∑ÈöêÁßÅÊï∞ÊçÆ„ÄÇ ÊîªÂáªËÄÖÈúÄË¶ÅËØ±È™óÁÇπÂáª ÂèçÈ¶àÁéá‰ΩéÔºåÊâÄ‰ª•ËæÉÈöæÂèëÁé∞ÂíåÂìçÂ∫î‰øÆÂ§ç ÁõóÂèñÁî®Êà∑ÊïèÊÑü‰øùÂØÜ‰ø°ÊÅØ ‰∏∫‰∫ÜÈò≤Ê≠¢Âá∫Áé∞ÈùûÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÔºåÈúÄË¶ÅÁ°Æ‰øùËøô‰πàÂá†‰ª∂‰∫ãÊÉÖÔºö Web È°µÈù¢Ê∏≤ÊüìÁöÑÊâÄÊúâÂÜÖÂÆπÊàñËÄÖÊ∏≤ÊüìÁöÑÊï∞ÊçÆÈÉΩÂøÖÈ°ªÊù•Ëá™‰∫éÊúçÂä°Á´Ø„ÄÇ Â∞ΩÈáè‰∏çË¶Å‰ªé URLÔºådocument.referrerÔºådocument.forms Á≠âËøôÁßç DOM API ‰∏≠Ëé∑ÂèñÊï∞ÊçÆÁõ¥Êé•Ê∏≤Êüì„ÄÇ Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî® eval, new Function()Ôºådocument.write()Ôºådocument.writeln()Ôºåwindow.setInterval()Ôºåwindow.setTimeout()ÔºåinnerHTMLÔºådocument.creteElement() Á≠âÂèØÊâßË°åÂ≠óÁ¨¶‰∏≤ÁöÑÊñπÊ≥ï„ÄÇ Â¶ÇÊûúÂÅö‰∏çÂà∞‰ª•‰∏äÂá†ÁÇπÔºå‰πüÂøÖÈ°ªÂØπÊ∂âÂèä DOM Ê∏≤ÊüìÁöÑÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÂèÇÊï∞ÂÅö escape ËΩ¨‰πâ„ÄÇ ÂâçÁ´ØÊ∏≤ÊüìÁöÑÊó∂ÂÄôÂØπ‰ªª‰ΩïÁöÑÂ≠óÊÆµÈÉΩÈúÄË¶ÅÂÅö escape ËΩ¨‰πâÁºñÁ†Å„ÄÇ escape ËΩ¨‰πâÁöÑÁõÆÁöÑÊòØÂ∞Ü‰∏Ä‰∫õÊûÑÊàê HTML Ê†áÁ≠æÁöÑÂÖÉÁ¥†ËΩ¨‰πâÔºåÊØîÂ¶Ç &lt;Ôºå&gt;ÔºåÁ©∫Ê†º Á≠âÔºåËΩ¨‰πâÊàê &amp;lt;Ôºå&amp;gt;Ôºå&amp;nbsp; Á≠âÊòæÁ§∫ËΩ¨‰πâÂ≠óÁ¨¶„ÄÇÊúâÂæàÂ§öÂºÄÊ∫êÁöÑÂ∑•ÂÖ∑ÂèØ‰ª•ÂçèÂä©Êàë‰ª¨ÂÅö escape ËΩ¨‰πâ„ÄÇ ÊåÅ‰πÖÂûã XSSÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÔºå‰πüË¢´Áß∞‰∏∫Â≠òÂÇ®Âûã XSS ÊºèÊ¥ûÔºå‰∏ÄËà¨Â≠òÂú®‰∫é Form Ë°®ÂçïÊèê‰∫§Á≠â‰∫§‰∫íÂäüËÉΩÔºåÂ¶ÇÂèëÂ∏ñÁïôË®ÄÔºåÊèê‰∫§ÊñáÊú¨‰ø°ÊÅØÁ≠âÔºåÈªëÂÆ¢Âà©Áî®ÁöÑ XSS ÊºèÊ¥ûÔºåÂ∞ÜÂÜÖÂÆπÁªèÊ≠£Â∏∏ÂäüËÉΩÊèê‰∫§ËøõÂÖ•Êï∞ÊçÆÂ∫ìÊåÅ‰πÖ‰øùÂ≠òÔºåÂΩìÂâçÁ´ØÈ°µÈù¢Ëé∑ÂæóÂêéÁ´Ø‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂá∫ÁöÑÊ≥®ÂÖ•‰ª£Á†ÅÊó∂ÔºåÊÅ∞Â•ΩÂ∞ÜÂÖ∂Ê∏≤ÊüìÊâßË°å„ÄÇ ‰∏ªË¶ÅÊ≥®ÂÖ•È°µÈù¢ÊñπÂºèÂíåÈùûÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÁ±ª‰ººÔºåÂè™‰∏çËøáÊåÅ‰πÖÂûãÁöÑ‰∏çÊòØÊù•Ê∫ê‰∫é URLÔºåreffererÔºåforms Á≠âÔºåËÄåÊòØÊù•Ê∫ê‰∫éÂêéÁ´Ø‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂá∫Êù•ÁöÑÊï∞ÊçÆ„ÄÇÊåÅ‰πÖÂûã XSS ÊîªÂáª‰∏çÈúÄË¶ÅËØ±È™óÁÇπÂáªÔºåÈªëÂÆ¢Âè™ÈúÄË¶ÅÂú®Êèê‰∫§Ë°®ÂçïÁöÑÂú∞ÊñπÂÆåÊàêÊ≥®ÂÖ•Âç≥ÂèØÔºå‰ΩÜÊòØËøôÁßç XSS ÊîªÂáªÁöÑÊàêÊú¨Áõ∏ÂØπËøòÊòØÂæàÈ´ò„ÄÇÊîªÂáªÊàêÂäüÈúÄË¶ÅÂêåÊó∂Êª°Ë∂≥‰ª•‰∏ãÂá†‰∏™Êù°‰ª∂Ôºö POST ËØ∑Ê±ÇÊèê‰∫§Ë°®ÂçïÂêéÁ´ØÊ≤°ÂÅöËΩ¨‰πâÁõ¥Êé•ÂÖ•Â∫ì„ÄÇ ÂêéÁ´Ø‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÂèñÂá∫Êï∞ÊçÆÊ≤°ÂÅöËΩ¨‰πâÁõ¥Êé•ËæìÂá∫ÁªôÂâçÁ´Ø„ÄÇ ÂâçÁ´ØÊãøÂà∞ÂêéÁ´ØÊï∞ÊçÆÊ≤°ÂÅöËΩ¨‰πâÁõ¥Êé•Ê∏≤ÊüìÊàê DOM„ÄÇ ÊåÅ‰πÖÂûã XSS Êúâ‰ª•‰∏ãÂá†‰∏™ÁâπÁÇπÔºö ÊåÅ‰πÖÊÄßÔºåÊ§çÂÖ•Âú®Êï∞ÊçÆÂ∫ì‰∏≠ Âç±ÂÆ≥Èù¢ÂπøÔºåÁîöËá≥ÂèØ‰ª•ËÆ©Áî®Êà∑Êú∫Âô®ÂèòÊàê DDoS ÊîªÂáªÁöÑËÇâÈ∏°„ÄÇ ÁõóÂèñÁî®Êà∑ÊïèÊÑüÁßÅÂØÜ‰ø°ÊÅØ ‰∏∫‰∫ÜÈò≤Ê≠¢ÊåÅ‰πÖÂûã XSS ÊºèÊ¥ûÔºåÈúÄË¶ÅÂâçÂêéÁ´ØÂÖ±ÂêåÂä™ÂäõÔºö ÂêéÁ´ØÂú®ÂÖ•Â∫ìÂâçÂ∫îËØ•ÈÄâÊã©‰∏çÁõ∏‰ø°‰ªª‰ΩïÂâçÁ´ØÊï∞ÊçÆÔºåÂ∞ÜÊâÄÊúâÁöÑÂ≠óÊÆµÁªü‰∏ÄËøõË°åËΩ¨‰πâÂ§ÑÁêÜ„ÄÇ ÂêéÁ´ØÂú®ËæìÂá∫ÁªôÂâçÁ´ØÊï∞ÊçÆÁªü‰∏ÄËøõË°åËΩ¨‰πâÂ§ÑÁêÜ„ÄÇ ÂâçÁ´ØÂú®Ê∏≤ÊüìÈ°µÈù¢ DOM ÁöÑÊó∂ÂÄôÂ∫îËØ•ÈÄâÊã©‰∏çÁõ∏‰ø°‰ªª‰ΩïÂêéÁ´ØÊï∞ÊçÆÔºå‰ªª‰ΩïÂ≠óÊÆµÈÉΩÈúÄË¶ÅÂÅöËΩ¨‰πâÂ§ÑÁêÜ„ÄÇ Âü∫‰∫éÂ≠óÁ¨¶ÈõÜÁöÑ XSSÂÖ∂ÂÆûÁé∞Âú®ÂæàÂ§öÁöÑÊµèËßàÂô®‰ª•ÂèäÂêÑÁßçÂºÄÊ∫êÁöÑÂ∫ìÈÉΩ‰∏ìÈó®ÈíàÂØπ‰∫Ü XSS ËøõË°åËΩ¨‰πâÂ§ÑÁêÜÔºåÂ∞ΩÈáèÈªòËÆ§ÊäµÂæ°ÁªùÂ§ßÂ§öÊï∞ XSS ÊîªÂáªÔºå‰ΩÜÊòØËøòÊòØÊúâÂæàÂ§öÊñπÂºèÂèØ‰ª•ÁªïËøáËΩ¨‰πâËßÑÂàôÔºåËÆ©‰∫∫Èò≤‰∏çËÉúÈò≤„ÄÇÊØîÂ¶Ç„ÄåÂü∫‰∫éÂ≠óÁ¨¶ÈõÜÁöÑ XSS ÊîªÂáª„ÄçÂ∞±ÊòØÁªïËøáËøô‰∫õËΩ¨‰πâÂ§ÑÁêÜÁöÑ‰∏ÄÁßçÊîªÂáªÊñπÂºèÔºåÊØîÂ¶ÇÊúâ‰∫õ Web È°µÈù¢Â≠óÁ¨¶ÈõÜ‰∏çÂõ∫ÂÆöÔºåÁî®Êà∑ËæìÂÖ•ÈùûÊúüÊúõÂ≠óÁ¨¶ÈõÜÁöÑÂ≠óÁ¨¶ÔºåÊúâÊó∂‰ºöÁªïËøáËΩ¨‰πâËøáÊª§ËßÑÂàô„ÄÇ ‰ª•Âü∫‰∫é utf-7 ÁöÑ XSS ‰∏∫‰æã utf-7 ÊòØÂèØ‰ª•Â∞ÜÊâÄÊúâÁöÑ unicode ÈÄöËøá 7bit Êù•Ë°®Á§∫ÁöÑ‰∏ÄÁßçÂ≠óÁ¨¶ÈõÜ (‰ΩÜÁé∞Âú®Â∑≤Áªè‰ªé Unicode ËßÑÊ†º‰∏≠ÁßªÈô§)„ÄÇ Ëøô‰∏™Â≠óÁ¨¶ÈõÜ‰∏∫‰∫ÜÈÄöËøá 7bit Êù•Ë°®Á§∫ÊâÄÊúâÁöÑÊñáÂ≠ó, Èô§ÂéªÊï∞Â≠óÂíå‰∏ÄÈÉ®ÂàÜÁöÑÁ¨¶Âè∑,ÂÖ∂ÂÆÉÁöÑÈÉ®ÂàÜÂ∞ÜÈÉΩ‰ª• base64 ÁºñÁ†Å‰∏∫Âü∫Á°ÄÁöÑÊñπÂºèÂëàÁé∞„ÄÇ &lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt; ÂèØ‰ª•Ë¢´Ëß£Èáä‰∏∫Ôºö +ADw-script+AD4-alert(+ACI-xss+ACI-)+ADw-/script+AD4- ÂèØ‰ª•ÂΩ¢Êàê„ÄåÂü∫‰∫éÂ≠óÁ¨¶ÈõÜÁöÑ XSS ÊîªÂáª„ÄçÁöÑÂéüÂõ†ÊòØÁî±‰∫éÊµèËßàÂô®Âú® meta Ê≤°ÊúâÊåáÂÆö charset ÁöÑÊó∂ÂÄôÊúâËá™Âä®ËØÜÂà´ÁºñÁ†ÅÁöÑÊú∫Âà∂ÔºåÊâÄ‰ª•ËøôÁ±ªÊîªÂáªÈÄöÂ∏∏Â∞±ÊòØÂèëÁîüÂú®Ê≤°ÊúâÊåáÂÆöÊàñËÄÖÊ≤°Êù•ÂæóÂèäÊåáÂÆö meta Ê†áÁ≠æÁöÑ charset ÁöÑÊÉÖÂÜµ‰∏ã„ÄÇ ÊâÄ‰ª•Êàë‰ª¨Êúâ‰ªÄ‰πàÂäûÊ≥ïÈÅøÂÖçËøôÁßç XSS Âë¢Ôºü ËÆ∞‰ΩèÊåáÂÆö &lt;meta charset=&quot;utf-8&quot;&gt; XML ‰∏≠‰∏ç‰ªÖË¶ÅÊåáÂÆöÂ≠óÁ¨¶ÈõÜ‰∏∫ utf-8ÔºåËÄå‰∏îÊ†áÁ≠æË¶ÅÈó≠Âêà ÁâõÊñáÊé®ËçêÔºöhttp://drops.wooyun.org/papers/1327 ÔºàËøô‰∏™ËÆ≤ÁöÑÂæàËØ¶ÁªÜÔºâ Âü∫‰∫é Flash ÁöÑË∑®Á´ô XSSÂü∫‰∫é Flash ÁöÑË∑®Á´ô XSS ‰πüÊòØÂ±û‰∫éÂèçÂ∞ÑÂûã XSS ÁöÑ‰∏ÄÁßçÔºåËôΩÁÑ∂Áé∞Âú®ÂºÄÂèë ActionScript ÁöÑ‰∫ßÂìÅÁ∫øÂá†‰πéÊ≤°Êúâ‰∫ÜÔºå‰ΩÜËøòÊòØÊèê‰∏ÄÂè•ÂêßÔºåAS ËÑöÊú¨ÂèØ‰ª•Êé•ÂèóÁî®Êà∑ËæìÂÖ•Âπ∂Êìç‰Ωú cookieÔºåÊîªÂáªËÄÖÂèØ‰ª•ÈÖçÂêàÂÖ∂‰ªñ XSSÔºàÊåÅ‰πÖÂûãÊàñËÄÖÈùûÊåÅ‰πÖÂûãÔºâÊñπÊ≥ïÂ∞ÜÊÅ∂ÊÑè swf Êñá‰ª∂ÂµåÂÖ•È°µÈù¢‰∏≠„ÄÇ‰∏ªË¶ÅÊòØÂõ†‰∏∫ AS ÊúâÊó∂ÂÄôÈúÄË¶ÅÂíå JS ‰º†ÂèÇ‰∫§‰∫íÔºåÊîªÂáªËÄÖ‰ºöÈÄöËøáÊÅ∂ÊÑèÁöÑ XSS Ê≥®ÂÖ•ÁØ°ÊîπÂèÇÊï∞ÔºåÁ™ÉÂèñÂπ∂Êìç‰Ωúcookie„ÄÇ ÈÅøÂÖçÊñπÊ≥ïÔºö ‰∏•Ê†ºÁÆ°ÁêÜ cookie ÁöÑËØªÂÜôÊùÉÈôê ÂØπ Flash ËÉΩÊé•ÂèóÁî®Êà∑ËæìÂÖ•ÁöÑÂèÇÊï∞ËøõË°åËøáÊª§ escape ËΩ¨‰πâÂ§ÑÁêÜ Êú™ÁªèÈ™åËØÅÁöÑË∑≥ËΩ¨ XSSÊúâ‰∏Ä‰∫õÂú∫ÊôØÊòØÂêéÁ´ØÈúÄË¶ÅÂØπ‰∏Ä‰∏™‰º†ËøõÊù•ÁöÑÂæÖË∑≥ËΩ¨ÁöÑ URL ÂèÇÊï∞ËøõË°å‰∏Ä‰∏™ 302 Ë∑≥ËΩ¨ÔºåÂèØËÉΩÂÖ∂‰∏≠‰ºöÂ∏¶Êúâ‰∏Ä‰∫õÁî®Êà∑ÁöÑÊïèÊÑüÔºàcookieÔºâ‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúÊúçÂä°Âô®Á´ØÂÅö302 Ë∑≥ËΩ¨ÔºåË∑≥ËΩ¨ÁöÑÂú∞ÂùÄÊù•Ëá™Áî®Êà∑ÁöÑËæìÂÖ•ÔºåÊîªÂáªËÄÖÂèØ‰ª•ËæìÂÖ•‰∏Ä‰∏™ÊÅ∂ÊÑèÁöÑË∑≥ËΩ¨Âú∞ÂùÄÊù•ÊâßË°åËÑöÊú¨„ÄÇ ËøôÊó∂ÂÄôÈúÄË¶ÅÈÄöËøá‰ª•‰∏ãÊñπÂºèÊù•Èò≤Ê≠¢ËøôÁ±ªÊºèÊ¥ûÔºö ÂØπÂæÖË∑≥ËΩ¨ÁöÑ URL ÂèÇÊï∞ÂÅöÁôΩÂêçÂçïÊàñËÄÖÊüêÁßçËßÑÂàôËøáÊª§ ÂêéÁ´ØÊ≥®ÊÑèÂØπÊïèÊÑü‰ø°ÊÅØÁöÑ‰øùÊä§, ÊØîÂ¶Ç cookie ‰ΩøÁî®Êù•Ê∫êÈ™åËØÅ„ÄÇ CSRFCSRFÔºàCross-Site Request ForgeryÔºâÔºå‰∏≠ÊñáÂêçÁß∞ÔºöË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÊîªÂáª ÈÇ£‰πà CSRF Âà∞Â∫ïËÉΩÂ§üÂπ≤ÂòõÂë¢Ôºü‰Ω†ÂèØ‰ª•ËøôÊ†∑ÁÆÄÂçïÁöÑÁêÜËß£ÔºöÊîªÂáªËÄÖÂèØ‰ª•ÁõóÁî®‰Ω†ÁöÑÁôªÈôÜ‰ø°ÊÅØÔºå‰ª•‰Ω†ÁöÑË∫´‰ªΩÊ®°ÊãüÂèëÈÄÅÂêÑÁßçËØ∑Ê±Ç„ÄÇÊîªÂáªËÄÖÂè™Ë¶ÅÂÄüÂä©Â∞ëËÆ∏ÁöÑÁ§æ‰ºöÂ∑•Á®ãÂ≠¶ÁöÑËØ°ËÆ°Ôºå‰æãÂ¶ÇÈÄöËøá QQ Á≠âËÅäÂ§©ËΩØ‰ª∂ÂèëÈÄÅÁöÑÈìæÊé•(Êúâ‰∫õËøò‰º™Ë£ÖÊàêÁü≠ÂüüÂêçÔºåÁî®Êà∑Êó†Ê≥ïÂàÜËæ®)ÔºåÊîªÂáªËÄÖÂ∞±ËÉΩËø´‰Ωø Web Â∫îÁî®ÁöÑÁî®Êà∑ÂéªÊâßË°åÊîªÂáªËÄÖÈ¢ÑËÆæÁöÑÊìç‰Ωú„ÄÇ‰æãÂ¶ÇÔºåÂΩìÁî®Êà∑ÁôªÂΩïÁΩëÁªúÈì∂Ë°åÂéªÊü•ÁúãÂÖ∂Â≠òÊ¨æ‰ΩôÈ¢ùÔºåÂú®‰ªñÊ≤°ÊúâÈÄÄÂá∫Êó∂ÔºåÂ∞±ÁÇπÂáª‰∫Ü‰∏Ä‰∏™ QQ Â•ΩÂèãÂèëÊù•ÁöÑÈìæÊé•ÔºåÈÇ£‰πàËØ•Áî®Êà∑Èì∂Ë°åÂ∏êÊà∑‰∏≠ÁöÑËµÑÈáëÂ∞±ÊúâÂèØËÉΩË¢´ËΩ¨ÁßªÂà∞ÊîªÂáªËÄÖÊåáÂÆöÁöÑÂ∏êÊà∑‰∏≠„ÄÇ ÊâÄ‰ª•ÈÅáÂà∞ CSRF ÊîªÂáªÊó∂ÔºåÂ∞ÜÂØπÁªàÁ´ØÁî®Êà∑ÁöÑÊï∞ÊçÆÂíåÊìç‰ΩúÊåá‰ª§ÊûÑÊàê‰∏•ÈáçÁöÑÂ®ÅËÉÅ„ÄÇÂΩìÂèóÊîªÂáªÁöÑÁªàÁ´ØÁî®Êà∑ÂÖ∑ÊúâÁÆ°ÁêÜÂëòÂ∏êÊà∑ÁöÑÊó∂ÂÄôÔºåCSRF ÊîªÂáªÂ∞ÜÂç±ÂèäÊï¥‰∏™ Web Â∫îÁî®Á®ãÂ∫è„ÄÇ CSRF ÂéüÁêÜ‰∏ãÂõæÂ§ßÊ¶ÇÊèèËø∞‰∫Ü CSRF ÊîªÂáªÁöÑÂéüÁêÜÔºåÂèØ‰ª•ÁêÜËß£‰∏∫Êúâ‰∏Ä‰∏™Â∞èÂÅ∑Âú®‰Ω†ÈÖçÈí•ÂåôÁöÑÂú∞ÊñπÂæóÂà∞‰∫Ü‰Ω†ÂÆ∂ÁöÑÈí•ÂåôÔºåÁÑ∂ÂêéÊãøÁùÄË¶ÅÊòØÂéª‰Ω†ÂÆ∂ÊÉ≥ÂÅ∑‰ªÄ‰πàÂÅ∑‰ªÄ‰πà„ÄÇÂÆåÊàê CSRF ÊîªÂáªÂøÖÈ°ªË¶ÅÊúâ‰∏â‰∏™Êù°‰ª∂Ôºö Áî®Êà∑Â∑≤ÁªèÁôªÂΩï‰∫ÜÁ´ôÁÇπ AÔºåÂπ∂Âú®Êú¨Âú∞ËÆ∞ÂΩï‰∫Ü cookie Âú®Áî®Êà∑Ê≤°ÊúâÁôªÂá∫Á´ôÁÇπ A ÁöÑÊÉÖÂÜµ‰∏ãÔºà‰πüÂ∞±ÊòØ cookie ÁîüÊïàÁöÑÊÉÖÂÜµ‰∏ãÔºâÔºåËÆøÈóÆ‰∫ÜÊÅ∂ÊÑèÊîªÂáªËÄÖÊèê‰æõÁöÑÂºïËØ±Âç±Èô©Á´ôÁÇπ B (B Á´ôÁÇπË¶ÅÊ±ÇËÆøÈóÆÁ´ôÁÇπA)„ÄÇ Á´ôÁÇπ A Ê≤°ÊúâÂÅö‰ªª‰Ωï CSRF Èò≤Âæ° ‰Ω†‰πüËÆ∏‰ºöÈóÆÔºö„ÄåÂ¶ÇÊûúÊàë‰∏çÊª°Ë∂≥‰ª•‰∏ä‰∏â‰∏™Êù°‰ª∂‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÔºåÂ∞±‰∏ç‰ºöÂèóÂà∞ CSRF ÁöÑÊîªÂáª„Äç„ÄÇÂÖ∂ÂÆûÂèØ‰ª•Ëøô‰πàËØ¥ÁöÑÔºå‰ΩÜ‰Ω†‰∏çËÉΩ‰øùËØÅ‰ª•‰∏ãÊÉÖÂÜµ‰∏ç‰ºöÂèëÁîüÔºö ‰Ω†‰∏çËÉΩ‰øùËØÅ‰Ω†ÁôªÂΩï‰∫Ü‰∏Ä‰∏™ÁΩëÁ´ôÂêéÔºå‰∏çÂÜçÊâìÂºÄ‰∏Ä‰∏™ tab È°µÈù¢Âπ∂ËÆøÈóÆÂè¶Â§ñÁöÑÁΩëÁ´ôÔºåÁâπÂà´Áé∞Âú®ÊµèËßàÂô®ÈÉΩÊòØÊîØÊåÅÂ§ö tab ÁöÑ„ÄÇ ‰Ω†‰∏çËÉΩ‰øùËØÅ‰Ω†ÂÖ≥Èó≠ÊµèËßàÂô®‰∫ÜÂêéÔºå‰Ω†Êú¨Âú∞ÁöÑ cookie Á´ãÂàªËøáÊúüÔºå‰Ω†‰∏äÊ¨°ÁöÑ‰ºöËØùÂ∑≤ÁªèÁªìÊùü„ÄÇ ‰∏äÂõæ‰∏≠ÊâÄË∞ìÁöÑÊîªÂáªÁΩëÁ´ô BÔºåÂèØËÉΩÊòØ‰∏Ä‰∏™Â≠òÂú®ÂÖ∂‰ªñÊºèÊ¥ûÁöÑÂèØ‰ø°‰ªªÁöÑÁªèÂ∏∏Ë¢´‰∫∫ËÆøÈóÆÁöÑÁΩëÁ´ô„ÄÇ È¢ÑÈò≤ CSRFCSRF ÁöÑÈò≤Âæ°ÂèØ‰ª•‰ªéÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø‰∏§ÊñπÈù¢ÁùÄÊâãÔºåÈò≤Âæ°ÊïàÊûúÊòØ‰ªéÊúçÂä°Á´ØÁùÄÊâãÊïàÊûúÊØîËæÉÂ•ΩÔºåÁé∞Âú®‰∏ÄËà¨ÁöÑ CSRF Èò≤Âæ°‰πüÈÉΩÂú®ÊúçÂä°Á´ØËøõË°å„ÄÇÊúçÂä°Á´ØÁöÑÈ¢ÑÈò≤ CSRF ÊîªÂáªÁöÑÊñπÂºèÊñπÊ≥ïÊúâÂ§öÁßçÔºå‰ΩÜÊÄùË∑Ø‰∏äÈÉΩÊòØÂ∑Æ‰∏çÂ§öÁöÑÔºå‰∏ªË¶Å‰ªé‰ª•‰∏ã‰∏§‰∏™ÊñπÈù¢ÂÖ•ÊâãÔºö Ê≠£Á°Æ‰ΩøÁî® GETÔºåPOST ËØ∑Ê±ÇÂíå cookie Âú®Èùû GET ËØ∑Ê±Ç‰∏≠Â¢ûÂä† token ‰∏ÄËà¨ËÄåË®ÄÔºåÊôÆÈÄöÁöÑ Web Â∫îÁî®ÈÉΩÊòØ‰ª• GET„ÄÅPOST ËØ∑Ê±Ç‰∏∫‰∏ªÔºåËøòÊúâ‰∏ÄÁßçËØ∑Ê±ÇÊòØ cookie ÊñπÂºè„ÄÇÊàë‰ª¨‰∏ÄËà¨ÈÉΩÊòØÊåâÁÖßÂ¶Ç‰∏ãËßÑÂàôËÆæËÆ°Â∫îÁî®ÁöÑËØ∑Ê±ÇÔºö GET ËØ∑Ê±ÇÂ∏∏Áî®Âú®Êü•ÁúãÔºåÂàó‰∏æÔºåÂ±ïÁ§∫Á≠â‰∏çÈúÄË¶ÅÊîπÂèòËµÑÊ∫êÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºàÊï∞ÊçÆÂ∫ì query Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºâ POST ËØ∑Ê±ÇÂ∏∏Áî®Âú® From Ë°®ÂçïÊèê‰∫§ÔºåÊîπÂèò‰∏Ä‰∏™ËµÑÊ∫êÁöÑÂ±ûÊÄßÊàñËÄÖÂÅöÂÖ∂‰ªñ‰∏Ä‰∫õ‰∫ãÊÉÖÁöÑÊó∂ÂÄôÔºàÊï∞ÊçÆÂ∫ìÊúâ insert„ÄÅupdate„ÄÅdelete ÁöÑÊó∂ÂÄôÔºâ ÂΩìÊ≠£Á°ÆÁöÑ‰ΩøÁî®‰∫Ü GET Âíå POST ËØ∑Ê±Ç‰πãÂêéÔºåÂâ©‰∏ãÁöÑÂ∞±ÊòØÂú®Èùû GET ÊñπÂºèÁöÑËØ∑Ê±Ç‰∏≠Â¢ûÂä†ÈöèÊú∫Êï∞ÔºåËøô‰∏™Â§ßÊ¶ÇÊúâ‰∏âÁßçÊñπÂºèÊù•ËøõË°åÔºö ‰∏∫ÊØè‰∏™Áî®Êà∑ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ cookie tokenÔºåÊâÄÊúâË°®ÂçïÈÉΩÂåÖÂê´Âêå‰∏Ä‰∏™‰º™ÈöèÊú∫ÂÄºÔºåËøôÁßçÊñπÊ°àÊúÄÁÆÄÂçïÔºåÂõ†‰∏∫ÊîªÂáªËÄÖ‰∏çËÉΩËé∑ÂæóÁ¨¨‰∏âÊñπÁöÑ cookie(ÁêÜËÆ∫‰∏ä)ÔºåÊâÄ‰ª•Ë°®Âçï‰∏≠ÁöÑÊï∞ÊçÆ‰πüÂ∞±ÊûÑÈÄ†Â§±Ë¥•Ôºå‰ΩÜÊòØÁî±‰∫éÁî®Êà∑ÁöÑ cookie ÂæàÂÆπÊòìÁî±‰∫éÁΩëÁ´ôÁöÑ XSS ÊºèÊ¥ûËÄåË¢´ÁõóÂèñÔºåÊâÄ‰ª•Ëøô‰∏™ÊñπÊ°àÂøÖÈ°ªË¶ÅÂú®Ê≤°Êúâ XSS ÁöÑÊÉÖÂÜµ‰∏ãÊâçÂÆâÂÖ®„ÄÇ ÊØè‰∏™ POST ËØ∑Ê±Ç‰ΩøÁî®È™åËØÅÁ†ÅÔºåËøô‰∏™ÊñπÊ°àÁÆóÊòØÊØîËæÉÂÆåÁæéÁöÑÔºå‰ΩÜÊòØÈúÄË¶ÅÁî®Êà∑Â§öÊ¨°ËæìÂÖ•È™åËØÅÁ†ÅÔºåÁî®Êà∑‰ΩìÈ™åÊØîËæÉÂ∑ÆÔºåÊâÄ‰ª•‰∏çÈÄÇÂêàÂú®‰∏öÂä°‰∏≠Â§ßÈáèËøêÁî®„ÄÇ Ê∏≤ÊüìË°®ÂçïÁöÑÊó∂ÂÄôÔºå‰∏∫ÊØè‰∏Ä‰∏™Ë°®ÂçïÂåÖÂê´‰∏Ä‰∏™ csrfTokenÔºåÊèê‰∫§Ë°®ÂçïÁöÑÊó∂ÂÄôÔºåÂ∏¶‰∏ä csrfTokenÔºåÁÑ∂ÂêéÂú®ÂêéÁ´ØÂÅö csrfToken È™åËØÅ„ÄÇ CSRF ÁöÑÈò≤Âæ°ÂèØ‰ª•Ê†πÊçÆÂ∫îÁî®Âú∫ÊôØÁöÑ‰∏çÂêåËá™Ë°åÈÄâÊã©„ÄÇCSRF ÁöÑÈò≤Âæ°Â∑•‰ΩúÁ°ÆÂÆû‰ºöÂú®Ê≠£Â∏∏‰∏öÂä°ÈÄªËæëÁöÑÂü∫Á°Ä‰∏äÂ∏¶Êù•ÂæàÂ§öÈ¢ùÂ§ñÁöÑÂºÄÂèëÈáèÔºå‰ΩÜÊòØËøôÁßçÂ∑•‰ΩúÈáèÊòØÂÄºÂæóÁöÑÔºåÊØïÁ´üÁî®Êà∑ÈöêÁßÅ‰ª•ÂèäË¥¢‰∫ßÂÆâÂÖ®ÊòØ‰∫ßÂìÅÊúÄÂü∫Á°ÄÁöÑÊ†πÊú¨„ÄÇ SQL Ê≥®ÂÖ•SQL Ê≥®ÂÖ•ÊºèÊ¥ûÔºàSQL InjectionÔºâÊòØ Web ÂºÄÂèë‰∏≠ÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçÂÆâÂÖ®ÊºèÊ¥û„ÄÇÂèØ‰ª•Áî®ÂÆÉÊù•‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊïèÊÑü‰ø°ÊÅØÔºåÊàñËÄÖÂà©Áî®Êï∞ÊçÆÂ∫ìÁöÑÁâπÊÄßÊâßË°åÊ∑ªÂä†Áî®Êà∑ÔºåÂØºÂá∫Êñá‰ª∂Á≠â‰∏ÄÁ≥ªÂàóÊÅ∂ÊÑèÊìç‰ΩúÔºåÁîöËá≥ÊúâÂèØËÉΩËé∑ÂèñÊï∞ÊçÆÂ∫ì‰πÉËá≥Á≥ªÁªüÁî®Êà∑ÊúÄÈ´òÊùÉÈôê„ÄÇ ËÄåÈÄ†Êàê SQL Ê≥®ÂÖ•ÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫Á®ãÂ∫èÊ≤°ÊúâÊúâÊïàÁöÑËΩ¨‰πâËøáÊª§Áî®Êà∑ÁöÑËæìÂÖ•Ôºå‰ΩøÊîªÂáªËÄÖÊàêÂäüÁöÑÂêëÊúçÂä°Âô®Êèê‰∫§ÊÅ∂ÊÑèÁöÑ SQL Êü•ËØ¢‰ª£Á†ÅÔºåÁ®ãÂ∫èÂú®Êé•Êî∂ÂêéÈîôËØØÁöÑÂ∞ÜÊîªÂáªËÄÖÁöÑËæìÂÖ•‰Ωú‰∏∫Êü•ËØ¢ËØ≠Âè•ÁöÑ‰∏ÄÈÉ®ÂàÜÊâßË°åÔºåÂØºËá¥ÂéüÂßãÁöÑÊü•ËØ¢ÈÄªËæëË¢´ÊîπÂèòÔºåÈ¢ùÂ§ñÁöÑÊâßË°å‰∫ÜÊîªÂáªËÄÖÁ≤æÂøÉÊûÑÈÄ†ÁöÑÊÅ∂ÊÑè‰ª£Á†Å„ÄÇ ÂæàÂ§ö Web ÂºÄÂèëËÄÖÊ≤°ÊúâÊÑèËØÜÂà∞ SQL Êü•ËØ¢ÊòØÂèØ‰ª•Ë¢´ÁØ°ÊîπÁöÑÔºå‰ªéËÄåÊää SQL Êü•ËØ¢ÂΩì‰ΩúÂèØ‰ø°‰ªªÁöÑÂëΩ‰ª§„ÄÇÊÆä‰∏çÁü•ÔºåSQL Êü•ËØ¢ÊòØÂèØ‰ª•ÁªïÂºÄËÆøÈóÆÊéßÂà∂Ôºå‰ªéËÄåÁªïËøáË∫´‰ªΩÈ™åËØÅÂíåÊùÉÈôêÊ£ÄÊü•ÁöÑ„ÄÇÊõ¥ÊúâÁîöËÄÖÔºåÊúâÂèØËÉΩÈÄöËøá SQL Êü•ËØ¢ÂéªËøêË°å‰∏ªÊú∫Á≥ªÁªüÁ∫ßÁöÑÂëΩ‰ª§„ÄÇ SQL Ê≥®ÂÖ•ÂéüÁêÜ‰∏ãÈù¢Â∞ÜÈÄöËøá‰∏Ä‰∫õÁúüÂÆûÁöÑ‰æãÂ≠êÊù•ËØ¶ÁªÜËÆ≤Ëß£ SQL Ê≥®ÂÖ•ÁöÑÊñπÂºèÁöÑÂéüÁêÜ„ÄÇ ËÄÉËôë‰ª•‰∏ãÁÆÄÂçïÁöÑÁÆ°ÁêÜÂëòÁôªÂΩïË°®ÂçïÔºö &lt;formaction=&quot;/login&quot;method=&quot;POST&quot;&gt; &lt;p&gt;Username: &lt;inputtype=&quot;text&quot;name=&quot;username&quot; /&gt;&lt;/p&gt; &lt;p&gt;Password: &lt;inputtype=&quot;password&quot;name=&quot;password&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;inputtype=&quot;submit&quot;value=&quot;ÁôªÈôÜ&quot; /&gt;&lt;/p&gt; &lt;/form&gt; ÂêéÁ´ØÁöÑ SQL ËØ≠Âè•ÂèØËÉΩÊòØÂ¶Ç‰∏ãËøôÊ†∑ÁöÑÔºö let querySQL = ` SELECT * FROM user WHERE username=&apos;${username}&apos; AND psw=&apos;${password}&apos; `; // Êé•‰∏ãÊù•Â∞±ÊòØÊâßË°å sql ËØ≠Âè•... ÁõÆÁöÑÂ∞±ÊòØÊù•È™åËØÅÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØ‰∏çÊòØÊ≠£Á°ÆÔºåÊåâÁêÜËØ¥‰πç‰∏ÄÁúã‰∏äÈù¢ÁöÑ SQL ËØ≠Âè•‰πüÊ≤°‰ªÄ‰πàÊØõÁóÖÔºåÁ°ÆÂÆûÊòØËÉΩÂ§üËææÂà∞Êàë‰ª¨ÁöÑÁõÆÁöÑÔºåÂèØÊòØ‰Ω†Âè™ÊòØÁ´ôÂú®Áî®Êà∑‰ºöËÄÅËÄÅÂÆûÂÆûÊåâÁÖß‰Ω†ÁöÑËÆæËÆ°Êù•ËæìÂÖ•ÁöÑËßíÂ∫¶Êù•ÁúãÈóÆÈ¢òÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™ÊÅ∂ÊÑèÊîªÂáªËÄÖËæìÂÖ•ÁöÑÁî®Êà∑ÂêçÊòØ zoumiaojiang&#39; OR 1 = 1 --ÔºåÂØÜÁ†ÅÈöèÊÑèËæìÂÖ•ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•ÁôªÂÖ•Á≥ªÁªü‰∫Ü„ÄÇWFT! ÂÜ∑Èùô‰∏ãÊù•ÊÄùËÄÉ‰∏Ä‰∏ãÔºåÊàë‰ª¨‰πãÂâçÈ¢ÑÊÉ≥ÁöÑÁúüÂÆû SQL ËØ≠Âè•ÊòØ: SELECT * FROMuserWHERE username=&apos;zoumiaojiang&apos;AND psw=&apos;mypassword&apos; ÂèØ‰ª•ÊÅ∂ÊÑèÊîªÂáªËÄÖÁöÑÂ•áÊÄ™Áî®Êà∑ÂêçÂ∞Ü‰Ω†ÁöÑ SQL ËØ≠Âè•ÂèòÊàê‰∫ÜÂ¶Ç‰∏ãÂΩ¢ÂºèÔºö SELECT * FROMuserWHERE username=&apos;zoumiaojiang&apos;OR1 = 1--&apos; AND psw=&apos;xxxx&apos; Âú® SQL ‰∏≠Ôºå-- ÊòØÊ≥®ÈáäÂêéÈù¢ÁöÑÂÜÖÂÆπÁöÑÊÑèÊÄùÔºåÊâÄ‰ª•Êü•ËØ¢ËØ≠Âè•Â∞±ÂèòÊàê‰∫ÜÔºö SELECT * FROMuserWHERE username=&apos;zoumiaojiang&apos;OR1 = 1 ËøôÊù° SQL ËØ≠Âè•ÁöÑÊü•ËØ¢Êù°‰ª∂Ê∞∏Ëøú‰∏∫ÁúüÔºåÊâÄ‰ª•ÊÑèÊÄùÂ∞±ÊòØÊÅ∂ÊÑèÊîªÂáªËÄÖ‰∏çÁî®ÊàëÁöÑÂØÜÁ†ÅÔºåÂ∞±ÂèØ‰ª•ÁôªÂΩïËøõÊàëÁöÑË¥¶Âè∑ÔºåÁÑ∂ÂêéÂèØ‰ª•Âú®ÈáåÈù¢‰∏∫ÊâÄÊ¨≤‰∏∫ÔºåÁÑ∂ËÄåËøôËøòÂè™ÊòØÊúÄÁÆÄÂçïÁöÑÊ≥®ÂÖ•ÔºåÁâõÈÄºÁöÑ SQL Ê≥®ÂÖ•È´òÊâãÁîöËá≥ÂèØ‰ª•ÈÄöËøá SQL Êü•ËØ¢ÂéªËøêË°å‰∏ªÊú∫Á≥ªÁªüÁ∫ßÁöÑÂëΩ‰ª§ÔºåÂ∞Ü‰Ω†‰∏ªÊú∫ÈáåÁöÑÂÜÖÂÆπ‰∏ÄËßàÊó†‰ΩôÔºåËøôÈáåÊàë‰πüÊ≤°ÊúâËøô‰∏™ËÉΩÂäõËÆ≤Ëß£ÁöÑÂ§™Ê∑±ÂÖ•ÔºåÊØïÁ´ü‰∏çÊòØ‰∏ì‰∏öÁ†îÁ©∂ËøôÁ±ªÊîªÂáªÁöÑÔºå‰ΩÜÊòØÈÄöËøá‰ª•‰∏äÁöÑ‰æãÂ≠êÔºåÂ∑≤Áªè‰∫ÜËß£‰∫Ü SQL Ê≥®ÂÖ•ÁöÑÂéüÁêÜÔºåÊàë‰ª¨Âü∫Êú¨Â∑≤ÁªèËÉΩÊâæÂà∞Èò≤Âæ° SQL Ê≥®ÂÖ•ÁöÑÊñπÊ°à‰∫Ü„ÄÇ Â¶Ç‰ΩïÈ¢ÑÈò≤ SQL Ê≥®ÂÖ•Èò≤Ê≠¢ SQL Ê≥®ÂÖ•‰∏ªË¶ÅÊòØ‰∏çËÉΩÂÖÅËÆ∏Áî®Êà∑ËæìÂÖ•ÁöÑÂÜÖÂÆπÂΩ±ÂìçÊ≠£Â∏∏ÁöÑ SQL ËØ≠Âè•ÁöÑÈÄªËæëÔºåÂΩìÁî®Êà∑ÁöÑËæìÂÖ•ÁöÑ‰ø°ÊÅØÂ∞ÜË¶ÅÁî®Êù•ÊãºÊé• SQL ËØ≠Âè•ÁöÑËØùÔºåÊàë‰ª¨Â∫îËØ•Ê∞∏ËøúÈÄâÊã©‰∏çÁõ∏‰ø°Ôºå‰ªª‰ΩïÂÜÖÂÆπÈÉΩÂøÖÈ°ªËøõË°åËΩ¨‰πâËøáÊª§ÔºåÂΩìÁÑ∂ÂÅöÂà∞Ëøô‰∏™ËøòÊòØ‰∏çÂ§üÁöÑÔºå‰∏ãÈù¢ÂàóÂá∫Èò≤Âæ° SQL Ê≥®ÂÖ•ÁöÑÂá†ÁÇπÊ≥®ÊÑè‰∫ãÈ°πÔºö ‰∏•Ê†ºÈôêÂà∂WebÂ∫îÁî®ÁöÑÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÊùÉÈôêÔºåÁªôÊ≠§Áî®Êà∑Êèê‰æõ‰ªÖ‰ªÖËÉΩÂ§üÊª°Ë∂≥ÂÖ∂Â∑•‰ΩúÁöÑÊúÄ‰ΩéÊùÉÈôêÔºå‰ªéËÄåÊúÄÂ§ßÈôêÂ∫¶ÁöÑÂáèÂ∞ëÊ≥®ÂÖ•ÊîªÂáªÂØπÊï∞ÊçÆÂ∫ìÁöÑÂç±ÂÆ≥ ÂêéÁ´Ø‰ª£Á†ÅÊ£ÄÊü•ËæìÂÖ•ÁöÑÊï∞ÊçÆÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúüÔºå‰∏•Ê†ºÈôêÂà∂ÂèòÈáèÁöÑÁ±ªÂûãÔºå‰æãÂ¶Ç‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèËøõË°å‰∏Ä‰∫õÂåπÈÖçÂ§ÑÁêÜ„ÄÇ ÂØπËøõÂÖ•Êï∞ÊçÆÂ∫ìÁöÑÁâπÊÆäÂ≠óÁ¨¶Ôºà&#39;Ôºå&quot;Ôºå\Ôºå&lt;Ôºå&gt;Ôºå&amp;Ôºå*Ôºå; Á≠âÔºâËøõË°åËΩ¨‰πâÂ§ÑÁêÜÔºåÊàñÁºñÁ†ÅËΩ¨Êç¢„ÄÇÂü∫Êú¨‰∏äÊâÄÊúâÁöÑÂêéÁ´ØËØ≠Ë®ÄÈÉΩÊúâÂØπÂ≠óÁ¨¶‰∏≤ËøõË°åËΩ¨‰πâÂ§ÑÁêÜÁöÑÊñπÊ≥ïÔºåÊØîÂ¶Ç lodash ÁöÑ lodash._escapehtmlchar Â∫ì„ÄÇ ÊâÄÊúâÁöÑÊü•ËØ¢ËØ≠Âè•Âª∫ËÆÆ‰ΩøÁî®Êï∞ÊçÆÂ∫ìÊèê‰æõÁöÑÂèÇÊï∞ÂåñÊü•ËØ¢Êé•Âè£ÔºåÂèÇÊï∞ÂåñÁöÑËØ≠Âè•‰ΩøÁî®ÂèÇÊï∞ËÄå‰∏çÊòØÂ∞ÜÁî®Êà∑ËæìÂÖ•ÂèòÈáèÂµåÂÖ•Âà∞ SQL ËØ≠Âè•‰∏≠ÔºåÂç≥‰∏çË¶ÅÁõ¥Êé•ÊãºÊé• SQL ËØ≠Âè•„ÄÇ‰æãÂ¶Ç Node.js ‰∏≠ÁöÑ mysqljs Â∫ìÁöÑ query ÊñπÊ≥ï‰∏≠ÁöÑ ? Âç†‰ΩçÂèÇÊï∞„ÄÇ mysql.query(`SELECT * FROM user WHERE username = ? AND psw = ?`, [username, psw]); Âú®Â∫îÁî®ÂèëÂ∏É‰πãÂâçÂª∫ËÆÆ‰ΩøÁî®‰∏ì‰∏öÁöÑ SQL Ê≥®ÂÖ•Ê£ÄÊµãÂ∑•ÂÖ∑ËøõË°åÊ£ÄÊµãÔºå‰ª•ÂèäÊó∂‰øÆË°•Ë¢´ÂèëÁé∞ÁöÑ SQL Ê≥®ÂÖ•ÊºèÊ¥û„ÄÇÁΩë‰∏äÊúâÂæàÂ§öËøôÊñπÈù¢ÁöÑÂºÄÊ∫êÂ∑•ÂÖ∑Ôºå‰æãÂ¶Ç sqlmap„ÄÅSQLninja Á≠â„ÄÇ ÈÅøÂÖçÁΩëÁ´ôÊâìÂç∞Âá∫ SQL ÈîôËØØ‰ø°ÊÅØÔºåÊØîÂ¶ÇÁ±ªÂûãÈîôËØØ„ÄÅÂ≠óÊÆµ‰∏çÂåπÈÖçÁ≠âÔºåÊää‰ª£Á†ÅÈáåÁöÑ SQL ËØ≠Âè•Êö¥Èú≤Âá∫Êù•Ôºå‰ª•Èò≤Ê≠¢ÊîªÂáªËÄÖÂà©Áî®Ëøô‰∫õÈîôËØØ‰ø°ÊÅØËøõË°å SQL Ê≥®ÂÖ•„ÄÇ ‰∏çË¶ÅËøá‰∫éÁªÜÂåñËøîÂõûÁöÑÈîôËØØ‰ø°ÊÅØÔºåÂ¶ÇÊûúÁõÆÁöÑÊòØÊñπ‰æøË∞ÉËØïÔºåÂ∞±Âéª‰ΩøÁî®ÂêéÁ´ØÊó•ÂøóÔºå‰∏çË¶ÅÂú®Êé•Âè£‰∏äËøáÂ§öÁöÑÊö¥Èú≤Âá∫Èîô‰ø°ÊÅØÔºåÊØïÁ´üÁúüÊ≠£ÁöÑÁî®Êà∑‰∏çÂÖ≥ÂøÉÂ§™Â§öÁöÑÊäÄÊúØÁªÜËäÇÔºåÂè™Ë¶ÅËØùÊúØÂêàÁêÜÂ∞±Ë°å„ÄÇ Á¢∞Âà∞Ë¶ÅÊìç‰ΩúÁöÑÊï∞ÊçÆÂ∫ìÁöÑ‰ª£Á†ÅÔºå‰∏ÄÂÆöË¶ÅÊÖéÈáçÔºåÂ∞èÂøÉ‰ΩøÂæó‰∏áÂπ¥ËàπÔºåÂ§öÊâæÂá†‰∏™‰∫∫Â§öÊù•Âá†Ê¨° code reviewÔºåÂ∞ÜÈóÆÈ¢òÈÉΩÊö¥Èú≤Âá∫Êù•ÔºåËÄå‰∏îË¶ÅÂñÑ‰∫éÂà©Áî®Â∑•ÂÖ∑ÔºåÊìç‰ΩúÊï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÂ±û‰∫éÊú∫ÂØÜÔºåÊ≤°‰∫ã‰∏çË¶ÅÂéªÂêÑÁßçËÆ∫ÂùõÊôíËá™ÂÆ∂Á´ôÁÇπÁöÑ SQL ËØ≠Âè•Ôºå‰∏á‰∏ÄË¢´‰∫∫ÁõØ‰∏ä‰∫ÜÂë¢Ôºü ÂëΩ‰ª§Ë°åÊ≥®ÂÖ•ÂëΩ‰ª§Ë°åÊ≥®ÂÖ•ÊºèÊ¥ûÔºåÊåáÁöÑÊòØÊîªÂáªËÄÖËÉΩÂ§üÈÄöËøá HTTP ËØ∑Ê±ÇÁõ¥Êé•‰æµÂÖ•‰∏ªÊú∫ÔºåÊâßË°åÊîªÂáªËÄÖÈ¢ÑËÆæÁöÑ shell ÂëΩ‰ª§ÔºåÂê¨Ëµ∑Êù•Â•ΩÂÉèÂå™Â§∑ÊâÄÊÄùÔºåËøôÂæÄÂæÄÊòØ Web ÂºÄÂèëËÄÖÊúÄÂÆπÊòìÂøΩËßÜ‰ΩÜÊòØÂç¥ÊòØÊúÄÂç±Èô©ÁöÑ‰∏Ä‰∏™ÊºèÊ¥û‰πã‰∏ÄÔºåÁúã‰∏Ä‰∏™ÂÆû‰æãÔºö ÂÅáÂ¶ÇÁé∞Âú®ÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™ÈúÄÊ±ÇÔºöÁî®Êà∑Êèê‰∫§‰∏Ä‰∫õÂÜÖÂÆπÂà∞ÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂú®ÊúçÂä°Âô®ÊâßË°å‰∏Ä‰∫õÁ≥ªÁªüÂëΩ‰ª§Âéª‰∫ßÂá∫‰∏Ä‰∏™ÁªìÊûúËøîÂõûÁªôÁî®Êà∑ÔºåÊé•Âè£ÁöÑÈÉ®ÂàÜÂÆûÁé∞Â¶Ç‰∏ãÔºö // ‰ª• Node.js ‰∏∫‰æãÔºåÂÅáÂ¶ÇÂú®Êé•Âè£‰∏≠ÈúÄË¶Å‰ªé github ‰∏ãËΩΩÁî®Êà∑ÊåáÂÆöÁöÑ repo const exec = require(&apos;mz/child_process&apos;).exec; let params = {/* Áî®Êà∑ËæìÂÖ•ÁöÑÂèÇÊï∞ */}; exec(`git clone ${params.repo} /some/path`); ËøôÊÆµ‰ª£Á†ÅÁ°ÆÂÆûËÉΩÂ§üÊª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÔºåÊ≠£Â∏∏ÁöÑÁî®Êà∑‰πüÁ°ÆÂÆûËÉΩ‰ªéÊåáÂÆöÁöÑ git repo ‰∏ä‰∏ãËΩΩÂà∞ÊÉ≥Ë¶ÅÁöÑ‰ª£Á†ÅÔºåÂèØÊòØÂíå SQL Ê≥®ÂÖ•‰∏ÄÊ†∑ÔºåËøôÊÆµ‰ª£Á†ÅÂú®ÊÅ∂ÊÑèÊîªÂáªËÄÖÁúº‰∏≠ÔºåÁÆÄÁõ¥Â∞±ÊòØÈ¶ôÈ•ΩÈ•Ω„ÄÇ Â¶ÇÊûú params.repo ‰º†ÂÖ•ÁöÑÊòØ https://github.com/zoumiaojiang/zoumiaojiang.github.io.git ÂΩìÁÑ∂Ê≤°ÈóÆÈ¢ò‰∫Ü„ÄÇ ÂèØÊòØÂ¶ÇÊûú params.repo ‰º†ÂÖ•ÁöÑÊòØ https://github.com/xx/xx.git &amp;&amp; rm -rf /* &amp;&amp; ÊÅ∞Â•Ω‰Ω†ÁöÑÊúçÂä°ÊòØÁî® root ÊùÉÈôêËµ∑ÁöÑÂ∞±ÊÉ®‰∫Ü„ÄÇ ÂÖ∑‰ΩìÊÅ∂ÊÑèÊîªÂáªËÄÖËÉΩÁî®ÂëΩ‰ª§Ë°åÊ≥®ÂÖ•Âπ≤‰ªÄ‰πà‰πüÂÉè SQL Ê≥®ÂÖ•‰∏ÄÊ†∑ÔºåÊâãÊ≥ïÊòØÂçÉÂèò‰∏áÂåñÁöÑÔºåÊØîÂ¶Ç„ÄåÂèçÂºπ shell Ê≥®ÂÖ•„ÄçÁ≠âÔºå‰ΩÜÂéüÁêÜÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊàë‰ª¨ÁªùÂØπÊúâËÉΩÂäõÈò≤Ê≠¢ÂëΩ‰ª§Ë°åÊ≥®ÂÖ•ÂèëÁîü„ÄÇÈò≤Ê≠¢ÂëΩ‰ª§Ë°åÊ≥®ÂÖ•ÈúÄË¶ÅÂÅöÂà∞‰ª•‰∏ãÂá†‰ª∂‰∫ãÊÉÖÔºö ÂêéÁ´ØÂØπÂâçÁ´ØÊèê‰∫§ÂÜÖÂÆπÈúÄË¶ÅÂÆåÂÖ®ÈÄâÊã©‰∏çÁõ∏‰ø°ÔºåÂπ∂‰∏îÂØπÂÖ∂ËøõË°åËßÑÂàôÈôêÂà∂ÔºàÊØîÂ¶ÇÊ≠£ÂàôË°®ËææÂºèÔºâ„ÄÇ Âú®Ë∞ÉÁî®Á≥ªÁªüÂëΩ‰ª§ÂâçÂØπÊâÄÊúâ‰º†ÂÖ•ÂèÇÊï∞ËøõË°åÂëΩ‰ª§Ë°åÂèÇÊï∞ËΩ¨‰πâËøáÊª§„ÄÇ ‰∏çË¶ÅÁõ¥Êé•ÊãºÊé•ÂëΩ‰ª§ËØ≠Âè•ÔºåÂÄüÂä©‰∏Ä‰∫õÂ∑•ÂÖ∑ÂÅöÊãºÊé•„ÄÅËΩ¨‰πâÈ¢ÑÂ§ÑÁêÜÔºå‰æãÂ¶Ç Node.js ÁöÑ shell-escape npm ÂåÖ„ÄÇ ËøòÊòØÂâçÈù¢ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨ÂèØ‰ª•ÂÅöÂà∞Â¶Ç‰∏ãÔºö const exec = require(&apos;mz/child_process&apos;).exec; // ÂÄüÂä© shell-escape npm ÂåÖËß£ÂÜ≥ÂèÇÊï∞ËΩ¨‰πâËøáÊª§ÈóÆÈ¢ò const shellescape = require(&apos;shell-escape&apos;); let params = {/* Áî®Êà∑ËæìÂÖ•ÁöÑÂèÇÊï∞ */}; // ÂÖàËøáÊª§‰∏Ä‰∏ãÂèÇÊï∞ÔºåËÆ©ÂèÇÊï∞Á¨¶ÂêàÈ¢ÑÊúü if (!/Ê≠£Á°ÆÁöÑË°®ËææÂºè/.test(params.repo)) { return; } let cmd = shellescape([ &apos;git&apos;, &apos;clone&apos;, params.repo, &apos;/some/path&apos; ]); // cmd ÁöÑÂÄº: git clone &apos;https://github.com/xx/xx.git &amp;&amp; rm -rf / &amp;&amp;&apos; /some/path // ËøôÊ†∑Â∞±‰∏ç‰ºöË¢´Ê≥®ÂÖ•ÊàêÂäü‰∫Ü„ÄÇ exec(cmd); Êó†ËÆ∫ÊòØÂú®‰ΩïÁßçÂêéÁ´ØËØ≠Ë®ÄÁéØÂ¢É‰∏≠ÔºåÂá°ÊòØÊ∂âÂèäÂà∞‰ª£Á†ÅË∞ÉÁî®Á≥ªÁªü shell ÂëΩ‰ª§ÁöÑÊó∂ÂÄôÈÉΩ‰∏ÄÂÆöË¶ÅË∞®ÊÖé„ÄÇ DDoS ÊîªÂáªDDoS ÂèàÂè´ÂàÜÂ∏ÉÂºèÊãíÁªùÊúçÂä°ÔºåÂÖ®Áß∞ Distributed Denial of ServiceÔºåÂÖ∂ÂéüÁêÜÂ∞±ÊòØÂà©Áî®Â§ßÈáèÁöÑËØ∑Ê±ÇÈÄ†ÊàêËµÑÊ∫êËøáËΩΩÔºåÂØºËá¥ÊúçÂä°‰∏çÂèØÁî®ÔºåËøô‰∏™ÊîªÂáªÂ∫îËØ•‰∏çËÉΩÁÆóÊòØÂÆâÂÖ®ÈóÆÈ¢òÔºåËøôÂ∫îËØ•ÁÆóÊòØ‰∏Ä‰∏™Âè¶Á±ªÁöÑÂ≠òÂú®ÔºåÂõ†‰∏∫ËøôÁßçÊîªÂáªÊ†πÊú¨Â∞±ÊòØËÄçÊµÅÊ∞ìÁöÑÂ≠òÂú®Ôºå„Äå‰º§Êïå‰∏ÄÂçÉÔºåËá™ÊçüÂÖ´Áôæ„ÄçÁöÑË°å‰∏∫„ÄÇÂá∫‰∫é‰øùÊä§ Web App ‰∏çÂèóÊîªÂáªÁöÑÊîªÈò≤ËßíÂ∫¶ÔºåËøòÊòØ‰ªãÁªç‰∏Ä‰∏ã DDoS ÊîªÂáªÂêßÔºåÊØïÁ´ü‰πüÊòØÊå∫Â∏∏ËßÅÁöÑ„ÄÇ DDoS ÊîªÂáªÂèØ‰ª•ÁêÜËß£‰∏∫Ôºö„Äå‰Ω†ÂºÄ‰∫Ü‰∏ÄÂÆ∂Â∫óÔºåÈöîÂ£ÅÂÆ∂ÁÇπÁúã‰∏çÊÉØÔºåÂ∞±Èõá‰∫Ü‰∏ÄÂ§ßÂ†ÜÈªëÁ§æ‰ºö‰∫∫ÂëòËøõ‰Ω†Â∫óÈáåÂπ≤ÂùêÁùÄÔºå‰πü‰∏çÊ∂àË¥πÔºåÂÖ∂‰ªñÂÆ¢‰∫∫‰πüËøõ‰∏çÊù•ÔºåÂØºËá¥‰Ω†Ëê•‰∏öÊÉ®Ê∑°„Äç„ÄÇ‰∏∫Âï•ËØ¥ DDoS ÊòØ‰∏™„Äå‰º§Êïå‰∏ÄÂçÉÔºåËá™ÊçüÂÖ´Áôæ„ÄçÁöÑË°å‰∏∫Âë¢ÔºüÊØïÁ´üÈöîÂ£ÅÂ∫óËøòÊòØËä±‰∫Ü‰∏çÂ∞ëÈí±ÈõáÈªëÁ§æ‰ºö‰ΩÜÊòØÂï•‰πüÊ≤°ÂæóÂà∞‰∏çÊòØÔºüDDoS ÊîªÂáªÁöÑÁõÆÁöÑÂü∫Êú¨‰∏äÂ∞±‰ª•‰∏ãÂá†‰∏™Ôºö Ê∑±‰ªáÂ§ßÊÅ®ÔºåÂ∞±ÊòØË¶ÅÂπ≤Ê≠ª‰Ω† Êï≤ËØà‰Ω†Ôºå‰∏çÁªôÈí±Â∞±Âπ≤‰Ω† ÂøΩÊÇ†‰Ω†Ôºå‰∏ç‰π∞ÊàëÈò≤ÁÅ´Â¢ôÊúçÂä°Â∞±‰ºöÊúâ‚Äú‰∫∫‚ÄùÁªßÁª≠Âπ≤‰Ω† ‰πüËÆ∏‰Ω†ÁöÑÁ´ôÁÇπÈÅ≠ÂèóËøá DDoS ÊîªÂáªÔºåÂÖ∑‰Ωì‰ªÄ‰πàÂéüÂõ†ÊÄé‰πàËß£ËØªËßÅ‰ªÅËßÅÊô∫„ÄÇDDos ÊîªÂáª‰ªéÂ±ÇÊ¨°‰∏äÂèØÂàÜ‰∏∫ÁΩëÁªúÂ±ÇÊîªÂáª‰∏éÂ∫îÁî®Â±ÇÊîªÂáªÔºå‰ªéÊîªÂáªÊâãÊ≥ï‰∏äÂèØÂàÜ‰∏∫Âø´ÂûãÊµÅÈáèÊîªÂáª‰∏éÊÖ¢ÂûãÊµÅÈáèÊîªÂáªÔºå‰ΩÜÂÖ∂ÂéüÁêÜÈÉΩÊòØÈÄ†ÊàêËµÑÊ∫êËøáËΩΩÔºåÂØºËá¥ÊúçÂä°‰∏çÂèØÁî®„ÄÇ ÁΩëÁªúÂ±Ç DDoSÁΩëÁªúÂ±Ç DDos ÊîªÂáªÂåÖÊã¨ SYN Flood„ÄÅACK Flood„ÄÅUDP Flood„ÄÅICMP Flood Á≠â„ÄÇ SYN Flood ÊîªÂáª SYN flood ÊîªÂáª‰∏ªË¶ÅÂà©Áî®‰∫Ü TCP ‰∏âÊ¨°Êè°ÊâãËøáÁ®ã‰∏≠ÁöÑ BugÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅì TCP ‰∏âÊ¨°Êè°ÊâãËøáÁ®ãÊòØË¶ÅÂª∫Á´ãËøûÊé•ÁöÑÂèåÊñπÂèëÈÄÅ SYNÔºåSYN + ACKÔºåACK Êï∞ÊçÆÂåÖÔºåËÄåÂΩìÊîªÂáªÊñπÈöèÊÑèÊûÑÈÄ†Ê∫ê IP ÂéªÂèëÈÄÅ SYN ÂåÖÊó∂ÔºåÊúçÂä°Âô®ËøîÂõûÁöÑ SYN + ACK Â∞±‰∏çËÉΩÂæóÂà∞Â∫îÁ≠îÔºàÂõ†‰∏∫ IP ÊòØÈöèÊÑèÊûÑÈÄ†ÁöÑÔºâÔºåÊ≠§Êó∂ÊúçÂä°Âô®Â∞±‰ºöÂ∞ùËØïÈáçÊñ∞ÂèëÈÄÅÔºåÂπ∂‰∏î‰ºöÊúâËá≥Â∞ë 30s ÁöÑÁ≠âÂæÖÊó∂Èó¥ÔºåÂØºËá¥ËµÑÊ∫êÈ•±ÂíåÊúçÂä°‰∏çÂèØÁî®ÔºåÊ≠§ÊîªÂáªÂ±û‰∫éÊÖ¢Âûã DDoS ÊîªÂáª„ÄÇ ACK Flood ÊîªÂáª ACK Flood ÊîªÂáªÊòØÂú® TCP ËøûÊé•Âª∫Á´ã‰πãÂêéÔºåÊâÄÊúâÁöÑÊï∞ÊçÆ‰º†Ëæì TCP Êä•ÊñáÈÉΩÊòØÂ∏¶Êúâ ACK Ê†áÂøó‰ΩçÁöÑÔºå‰∏ªÊú∫Âú®Êé•Êî∂Âà∞‰∏Ä‰∏™Â∏¶Êúâ ACK Ê†áÂøó‰ΩçÁöÑÊï∞ÊçÆÂåÖÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊ£ÄÊü•ËØ•Êï∞ÊçÆÂåÖÊâÄË°®Á§∫ÁöÑËøûÊé•ÂõõÂÖÉÁªÑÊòØÂê¶Â≠òÂú®ÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÊ£ÄÊü•ËØ•Êï∞ÊçÆÂåÖÊâÄË°®Á§∫ÁöÑÁä∂ÊÄÅÊòØÂê¶ÂêàÊ≥ïÔºåÁÑ∂ÂêéÂÜçÂêëÂ∫îÁî®Â±Ç‰º†ÈÄíËØ•Êï∞ÊçÆÂåÖ„ÄÇÂ¶ÇÊûúÂú®Ê£ÄÊü•‰∏≠ÂèëÁé∞ËØ•Êï∞ÊçÆÂåÖ‰∏çÂêàÊ≥ïÔºå‰æãÂ¶ÇËØ•Êï∞ÊçÆÂåÖÊâÄÊåáÂêëÁöÑÁõÆÁöÑÁ´ØÂè£Âú®Êú¨Êú∫Âπ∂Êú™ÂºÄÊîæÔºåÂàô‰∏ªÊú∫Êìç‰ΩúÁ≥ªÁªüÂçèËÆÆÊ†à‰ºöÂõûÂ∫î RST ÂåÖÂëäËØâÂØπÊñπÊ≠§Á´ØÂè£‰∏çÂ≠òÂú®„ÄÇ UDP Flood ÊîªÂáª UDP flood ÊîªÂáªÊòØÁî±‰∫é UDP ÊòØ‰∏ÄÁßçÊó†ËøûÊé•ÁöÑÂçèËÆÆÔºåÂõ†Ê≠§ÊîªÂáªËÄÖÂèØ‰ª•‰º™ÈÄ†Â§ßÈáèÁöÑÊ∫ê IP Âú∞ÂùÄÂéªÂèëÈÄÅ UDP ÂåÖÔºåÊ≠§ÁßçÊîªÂáªÂ±û‰∫éÂ§ßÊµÅÈáèÊîªÂáª„ÄÇÊ≠£Â∏∏Â∫îÁî®ÊÉÖÂÜµ‰∏ãÔºåUDP ÂåÖÂèåÂêëÊµÅÈáè‰ºöÂü∫Êú¨Áõ∏Á≠âÔºåÂõ†Ê≠§ÂèëËµ∑ËøôÁßçÊîªÂáªÁöÑÊîªÂáªËÄÖÂú®Ê∂àËÄóÂØπÊñπËµÑÊ∫êÁöÑÊó∂ÂÄô‰πüÂú®Ê∂àËÄóËá™Â∑±ÁöÑËµÑÊ∫ê„ÄÇ ICMP Flood ÊîªÂáª ICMP Flood ÊîªÂáªÂ±û‰∫éÂ§ßÊµÅÈáèÊîªÂáªÔºåÂÖ∂ÂéüÁêÜÂ∞±ÊòØ‰∏çÊñ≠ÂèëÈÄÅ‰∏çÊ≠£Â∏∏ÁöÑ ICMP ÂåÖÔºàÊâÄË∞ì‰∏çÊ≠£Â∏∏Â∞±ÊòØ ICMP ÂåÖÂÜÖÂÆπÂæàÂ§ßÔºâÔºåÂØºËá¥ÁõÆÊ†áÂ∏¶ÂÆΩË¢´Âç†Áî®Ôºå‰ΩÜÂÖ∂Êú¨Ë∫´ËµÑÊ∫ê‰πü‰ºöË¢´Ê∂àËÄó„ÄÇÁõÆÂâçÂæàÂ§öÊúçÂä°Âô®ÈÉΩÊòØÁ¶Å ping ÁöÑÔºàÂú®Èò≤ÁÅ´Â¢ôÂú®ÂèØ‰ª•Â±èËîΩ ICMP ÂåÖÔºâÔºåÂõ†Ê≠§ËøôÁßçÊîªÂáªÊñπÂºèÂ∑≤ÁªèËêΩ‰ºç„ÄÇ ÁΩëÁªúÂ±Ç DDoS Èò≤Âæ°ÁΩëÁªúÂ±ÇÁöÑ DDoS ÊîªÂáªÁ©∂ÂÖ∂Êú¨Ë¥®ÂÖ∂ÂÆûÊòØÊó†Ê≥ïÈò≤Âæ°ÁöÑÔºåÊàë‰ª¨ËÉΩÂÅöÂæóÂ∞±ÊòØ‰∏çÊñ≠‰ºòÂåñÊúçÂä°Êú¨Ë∫´ÈÉ®ÁΩ≤ÁöÑÁΩëÁªúÊû∂ÊûÑÔºå‰ª•ÂèäÊèêÂçáÁΩëÁªúÂ∏¶ÂÆΩ„ÄÇÂΩìÁÑ∂ÔºåËøòÊòØÂÅöÂ•Ω‰ª•‰∏ãÂá†‰ª∂‰∫ã‰πüÊòØÊúâÂä©‰∫éÁºìËß£ÁΩëÁªúÂ±Ç DDoS ÊîªÂáªÁöÑÂÜ≤ÂáªÔºö ÁΩëÁªúÊû∂ÊûÑ‰∏äÂÅöÂ•Ω‰ºòÂåñÔºåÈááÁî®Ë¥üËΩΩÂùáË°°ÂàÜÊµÅ„ÄÇ Á°Æ‰øùÊúçÂä°Âô®ÁöÑÁ≥ªÁªüÊñá‰ª∂ÊòØÊúÄÊñ∞ÁöÑÁâàÊú¨ÔºåÂπ∂ÂèäÊó∂Êõ¥Êñ∞Á≥ªÁªüË°•‰∏Å„ÄÇ Ê∑ªÂä†Êäó DDos ËÆæÂ§áÔºåËøõË°åÊµÅÈáèÊ∏ÖÊ¥ó„ÄÇ ÈôêÂà∂ÂêåÊó∂ÊâìÂºÄÁöÑ SYN ÂçäËøûÊé•Êï∞ÁõÆÔºåÁº©Áü≠ SYN ÂçäËøûÊé•ÁöÑ Timeout Êó∂Èó¥„ÄÇ ÈôêÂà∂Âçï IP ËØ∑Ê±ÇÈ¢ëÁéá„ÄÇ Èò≤ÁÅ´Â¢ôÁ≠âÈò≤Êä§ËÆæÁΩÆÁ¶ÅÊ≠¢ ICMP ÂåÖÁ≠â„ÄÇ ‰∏•Ê†ºÈôêÂà∂ÂØπÂ§ñÂºÄÊîæÁöÑÊúçÂä°Âô®ÁöÑÂêëÂ§ñËÆøÈóÆ„ÄÇ ËøêË°åÁ´ØÂè£Êò†Â∞ÑÁ®ãÂ∫èÊàñÁ´ØÂè£Êâ´ÊèèÁ®ãÂ∫èÔºåË¶ÅËÆ§ÁúüÊ£ÄÊü•ÁâπÊùÉÁ´ØÂè£ÂíåÈùûÁâπÊùÉÁ´ØÂè£„ÄÇ ÂÖ≥Èó≠‰∏çÂøÖË¶ÅÁöÑÊúçÂä°„ÄÇ ËÆ§ÁúüÊ£ÄÊü•ÁΩëÁªúËÆæÂ§áÂíå‰∏ªÊú∫/ÊúçÂä°Âô®Á≥ªÁªüÁöÑÊó•Âøó„ÄÇÂè™Ë¶ÅÊó•ÂøóÂá∫Áé∞ÊºèÊ¥ûÊàñÊòØÊó∂Èó¥ÂèòÊõ¥,ÈÇ£ËøôÂè∞Êú∫Âô®Â∞±ÂèØËÉΩÈÅ≠Âà∞‰∫ÜÊîªÂáª„ÄÇ ÈôêÂà∂Âú®Èò≤ÁÅ´Â¢ôÂ§ñ‰∏éÁΩëÁªúÊñá‰ª∂ÂÖ±‰∫´„ÄÇËøôÊ†∑‰ºöÁªôÈªëÂÆ¢Êà™ÂèñÁ≥ªÁªüÊñá‰ª∂ÁöÑÊú∫‰ºöÔºå‰∏ªÊú∫ÁöÑ‰ø°ÊÅØÊö¥Èú≤ÁªôÈªëÂÆ¢ÔºåÊó†ÁñëÊòØÁªô‰∫ÜÂØπÊñπÂÖ•‰æµÁöÑÊú∫‰ºö„ÄÇ Âä†Èí±Â†ÜÊú∫Âô®„ÄÇ„ÄÇ Êä•Ë≠¶„ÄÇ„ÄÇ Â∫îÁî®Â±Ç DDoSÂ∫îÁî®Â±Ç DDoS ÊîªÂáª‰∏çÊòØÂèëÁîüÂú®ÁΩëÁªúÂ±ÇÔºåÊòØÂèëÁîüÂú® TCP Âª∫Á´ãÊè°ÊâãÊàêÂäü‰πãÂêéÔºåÂ∫îÁî®Á®ãÂ∫èÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÁé∞Âú®ÂæàÂ§öÂ∏∏ËßÅÁöÑ DDoS ÊîªÂáªÈÉΩÊòØÂ∫îÁî®Â±ÇÊîªÂáª„ÄÇÂ∫îÁî®Â±ÇÊîªÂáªÂçÉÂèò‰∏áÂåñÔºåÁõÆÁöÑÂ∞±ÊòØÂú®ÁΩëÁªúÂ∫îÁî®Â±ÇËÄóÂ∞Ω‰Ω†ÁöÑÂ∏¶ÂÆΩÔºå‰∏ãÈù¢ÂàóÂá∫ÈõÜ‰∏≠ÂÖ∏ÂûãÁöÑÊîªÂáªÁ±ªÂûã„ÄÇ CC ÊîªÂáª ÂΩìÊó∂ÁªøÁõü‰∏∫‰∫ÜÈò≤Âæ° DDoS ÊîªÂáªÁ†îÂèë‰∫Ü‰∏ÄÊ¨æÂè´ÂÅö Collapasar ÁöÑ‰∫ßÂìÅÔºåËÉΩÂ§üÊúâÊïàÁöÑÈò≤Âæ° SYN Flood ÊîªÂáª„ÄÇÈªëÂÆ¢‰∏∫‰∫ÜÊåëË°ÖÔºåÁ†îÂèë‰∫Ü‰∏ÄÊ¨æ Challenge Collapasar ÊîªÂáªÂ∑•ÂÖ∑ÔºàÁÆÄÁß∞ CCÔºâ„ÄÇ CC ÊîªÂáªÁöÑÂéüÁêÜÔºåÂ∞±ÊòØÈíàÂØπÊ∂àËÄóËµÑÊ∫êÊØîËæÉÂ§ßÁöÑÈ°µÈù¢‰∏çÊñ≠ÂèëËµ∑‰∏çÊ≠£Â∏∏ÁöÑËØ∑Ê±ÇÔºåÂØºËá¥ËµÑÊ∫êËÄóÂ∞Ω„ÄÇÂõ†Ê≠§Âú®ÂèëÈÄÅ CC ÊîªÂáªÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØªÊâæÂä†ËΩΩÊØîËæÉÊÖ¢ÔºåÊ∂àËÄóËµÑÊ∫êÊØîËæÉÂ§öÁöÑÁΩëÈ°µÔºåÊØîÂ¶ÇÈúÄË¶ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÈ°µÈù¢„ÄÅËØªÂÜôÁ°¨ÁõòÊñá‰ª∂ÁöÑÁ≠â„ÄÇÈÄöËøá CC ÊîªÂáªÔºå‰ΩøÁî®Áà¨Ëô´ÂØπÊüê‰∫õÂä†ËΩΩÈúÄË¶ÅÊ∂àËÄóÂ§ßÈáèËµÑÊ∫êÁöÑÈ°µÈù¢ÂèëËµ∑ HTTP ËØ∑Ê±Ç„ÄÇ DNS Flood DNS Flood ÊîªÂáªÈááÁî®ÁöÑÊñπÊ≥ïÊòØÂêëË¢´ÊîªÂáªÁöÑÊúçÂä°Âô®ÂèëÈÄÅÂ§ßÈáèÁöÑÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºåÈÄöÂ∏∏ËØ∑Ê±ÇËß£ÊûêÁöÑÂüüÂêçÊòØÈöèÊú∫ÁîüÊàêÊàñËÄÖÊòØÁΩëÁªú‰∏ñÁïå‰∏äÊ†πÊú¨‰∏çÂ≠òÂú®ÁöÑÂüüÂêçÔºåË¢´ÊîªÂáªÁöÑDNS ÊúçÂä°Âô®Âú®Êé•Êî∂Âà∞ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÁöÑÊó∂ÂÄôÈ¶ñÂÖà‰ºöÂú®ÊúçÂä°Âô®‰∏äÊü•ÊâæÊòØÂê¶ÊúâÂØπÂ∫îÁöÑÁºìÂ≠òÔºåÂ¶ÇÊûúÊü•Êâæ‰∏çÂà∞Âπ∂‰∏îËØ•ÂüüÂêçÊó†Ê≥ïÁõ¥Êé•Áî±ÊúçÂä°Âô®Ëß£ÊûêÁöÑÊó∂ÂÄôÔºåDNS ÊúçÂä°Âô®‰ºöÂêëÂÖ∂‰∏äÂ±Ç DNS ÊúçÂä°Âô®ÈÄíÂΩíÊü•ËØ¢ÂüüÂêç‰ø°ÊÅØ„ÄÇÂüüÂêçËß£ÊûêÁöÑËøáÁ®ãÁªôÊúçÂä°Âô®Â∏¶Êù•‰∫ÜÂæàÂ§ßÁöÑË¥üËΩΩÔºåÊØèÁßíÈíüÂüüÂêçËß£ÊûêËØ∑Ê±ÇË∂ÖËøá‰∏ÄÂÆöÁöÑÊï∞ÈáèÂ∞±‰ºöÈÄ†Êàê DNS ÊúçÂä°Âô®Ëß£ÊûêÂüüÂêçË∂ÖÊó∂„ÄÇ Ê†πÊçÆÂæÆËΩØÁöÑÁªüËÆ°Êï∞ÊçÆÔºå‰∏ÄÂè∞ DNS ÊúçÂä°Âô®ÊâÄËÉΩÊâøÂèóÁöÑÂä®ÊÄÅÂüüÂêçÊü•ËØ¢ÁöÑ‰∏äÈôêÊòØÊØèÁßíÈíü 9000 ‰∏™ËØ∑Ê±Ç„ÄÇËÄåÊàë‰ª¨Áü•ÈÅìÔºåÂú®‰∏ÄÂè∞ P3 ÁöÑ PC Êú∫‰∏äÂèØ‰ª•ËΩªÊòìÂú∞ÊûÑÈÄ†Âá∫ÊØèÁßíÈíüÂá†‰∏á‰∏™ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÔºåË∂≥‰ª•‰Ωø‰∏ÄÂè∞Á°¨‰ª∂ÈÖçÁΩÆÊûÅÈ´òÁöÑ DNS ÊúçÂä°Âô®Áò´Áó™ÔºåÁî±Ê≠§ÂèØËßÅ DNS ÊúçÂä°Âô®ÁöÑËÑÜÂº±ÊÄß„ÄÇ HTTP ÊÖ¢ÈÄüËøûÊé•ÊîªÂáª ÈíàÂØπ HTTP ÂçèËÆÆÔºåÂÖàÂª∫Á´ãËµ∑ HTTP ËøûÊé•ÔºåËÆæÁΩÆ‰∏Ä‰∏™ËæÉÂ§ßÁöÑ Conetnt-LengthÔºåÊØèÊ¨°Âè™ÂèëÈÄÅÂæàÂ∞ëÁöÑÂ≠óËäÇÔºåËÆ©ÊúçÂä°Âô®‰∏ÄÁõ¥‰ª•‰∏∫ HTTP Â§¥ÈÉ®Ê≤°Êúâ‰º†ËæìÂÆåÊàêÔºåËøôÊ†∑ËøûÊé•‰∏ÄÂ§öÂ∞±ÂæàÂø´‰ºöÂá∫Áé∞ËøûÊé•ËÄóÂ∞Ω„ÄÇ Â∫îÁî®Â±Ç DDoS Èò≤Âæ° Âà§Êñ≠ User-Agent Â≠óÊÆµÔºà‰∏çÂèØÈù†ÔºåÂõ†‰∏∫ÂèØ‰ª•ÈöèÊÑèÊûÑÈÄ†Ôºâ ÈíàÂØπ IP + cookieÔºåÈôêÂà∂ËÆøÈóÆÈ¢ëÁéáÔºàÁî±‰∫é cookie ÂèØ‰ª•Êõ¥ÊîπÔºåIP ÂèØ‰ª•‰ΩøÁî®‰ª£ÁêÜÔºåÊàñËÄÖËÇâÈ∏°Ôºå‰πü‰∏çÂèØÈù†) ÂÖ≥Èó≠ÊúçÂä°Âô®ÊúÄÂ§ßËøûÊé•Êï∞Á≠âÔºåÂêàÁêÜÈÖçÁΩÆ‰∏≠Èó¥‰ª∂ÔºåÁºìËß£ DDoS ÊîªÂáª„ÄÇ ËØ∑Ê±Ç‰∏≠Ê∑ªÂä†È™åËØÅÁ†ÅÔºåÊØîÂ¶ÇËØ∑Ê±Ç‰∏≠ÊúâÊï∞ÊçÆÂ∫ìÊìç‰ΩúÁöÑÊó∂ÂÄô„ÄÇ ÁºñÂÜô‰ª£Á†ÅÊó∂ÔºåÂ∞ΩÈáèÂÆûÁé∞‰ºòÂåñÔºåÂπ∂ÂêàÁêÜ‰ΩøÁî®ÁºìÂ≠òÊäÄÊúØÔºåÂáèÂ∞ëÊï∞ÊçÆÂ∫ìÁöÑËØªÂèñÊìç‰Ωú„ÄÇ Âä†Èí±Â†ÜÊú∫Âô®„ÄÇ„ÄÇ Êä•Ë≠¶„ÄÇ„ÄÇ Â∫îÁî®Â±ÇÁöÑÈò≤Âæ°ÊúâÊó∂ÊØîÁΩëÁªúÂ±ÇÁöÑÊõ¥ÈöæÔºåÂõ†‰∏∫ÂØºËá¥Â∫îÁî®Â±ÇË¢´ DDoS ÊîªÂáªÁöÑÂõ†Á¥†ÈùûÂ∏∏Â§öÔºåÊúâÊó∂ÂæÄÂæÄÊòØÂõ†‰∏∫Á®ãÂ∫èÂëòÁöÑÂ§±ËØØÔºåÂØºËá¥Êüê‰∏™È°µÈù¢Âä†ËΩΩÈúÄË¶ÅÊ∂àËÄóÂ§ßÈáèËµÑÊ∫êÔºåÊúâÊó∂ÊòØÂõ†‰∏∫‰∏≠Èó¥‰ª∂ÈÖçÁΩÆ‰∏çÂΩìÁ≠âÁ≠â„ÄÇËÄåÂ∫îÁî®Â±Ç DDoS Èò≤Âæ°ÁöÑÊ†∏ÂøÉÂ∞±ÊòØÂå∫ÂàÜ‰∫∫‰∏éÊú∫Âô®ÔºàÁà¨Ëô´ÔºâÔºåÂõ†‰∏∫Â§ßÈáèÁöÑËØ∑Ê±Ç‰∏çÂèØËÉΩÊòØ‰∫∫‰∏∫ÁöÑÔºåËÇØÂÆöÊòØÊú∫Âô®ÊûÑÈÄ†ÁöÑ„ÄÇÂõ†Ê≠§Â¶ÇÊûúËÉΩÊúâÊïàÁöÑÂå∫ÂàÜ‰∫∫‰∏éÁà¨Ëô´Ë°å‰∏∫ÔºåÂàôÂèØ‰ª•ÂæàÂ•ΩÂú∞Èò≤Âæ°Ê≠§ÊîªÂáª„ÄÇ ÂÖ∂‰ªñ DDoS ÊîªÂáªÂèëËµ∑ DDoS ‰πüÊòØÈúÄË¶ÅÂ§ßÈáèÁöÑÂ∏¶ÂÆΩËµÑÊ∫êÁöÑÔºå‰ΩÜÊòØ‰∫íËÅîÁΩëÂ∞±ÂÉèÊ£ÆÊûóÔºåÊûóÂ≠êÂ§ß‰∫Ü‰ªÄ‰πàÈ∏üÈÉΩÊúâÔºåDDoS ÊîªÂáªËÄÖ‰πüËÉΩÊâæÂà∞ÂÖ∂‰ªñÁöÑÊñπÂºèÂèëËµ∑Âªâ‰ª∑Âπ∂‰∏îÊûÅÂÖ∑ÊùÄ‰º§ÂäõÁöÑ DDoS ÊîªÂáª„ÄÇ Âà©Áî® XSS ‰∏æ‰∏™‰æãÂ≠êÔºåÂ¶ÇÊûú 12306 È°µÈù¢Êúâ‰∏Ä‰∏™ XSS ÊåÅ‰πÖÂûãÊºèÊ¥ûË¢´ÊÅ∂ÊÑèÊîªÂáªËÄÖÂèëÁé∞ÔºåÂè™ÈúÄÂú®Êò•ËäÇÊä¢Á•®ÊúüÈó¥Âú®Ëøô‰∏™ÊºèÊ¥û‰∏≠ÊâßË°åËÑöÊú¨‰ΩøÂæóÂæÄÊüê‰∏Ä‰∏™Â∞èÁ´ôÁÇπÈöè‰æøÂèëÁÇπ‰ªÄ‰πàËØ∑Ê±ÇÔºåÁÑ∂ÂêéÈöèÁùÄÁî®Êà∑ËÆøÈóÆÁöÑÂ¢ûÂ§öÔºåÊÑüÊüìÁî®Êà∑Â¢ûÂ§öÔºåË¢´ÊîªÂáªÁöÑÁ´ôÁÇπËá™ÁÑ∂Â∞±‰ºöËøÖÈÄüÁò´Áó™‰∫Ü„ÄÇËøôÁßç DDoS ÁÆÄÁõ¥Â∞±ÊòØÊó†Êú¨‰∏áÂà©Ôºå‰∏çÁî®ÊÉäËÆ∂ÔºåÁé∞Âú®Â§ßÁ´ôÊúâ XSS ÊºèÊ¥ûÁöÑ‰∏çË¶ÅÂ§™Â§ö„ÄÇ Êù•Ëá™ P2P ÁΩëÁªúÊîªÂáª Â§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºå‰∫íËÅîÁΩë‰∏äÁöÑ P2P Áî®Êà∑ÂíåÊµÅÈáèÈÉΩÊòØ‰∏Ä‰∏™ÊûÅ‰∏∫Â∫ûÂ§ßÁöÑÊï∞Â≠ó„ÄÇÂ¶ÇÊûú‰ªñ‰ª¨ÈÉΩÂéª‰∏Ä‰∏™ÊåáÂÆöÁöÑÂú∞Êñπ‰∏ãËΩΩÊï∞ÊçÆÔºåÊàêÂçÉ‰∏ä‰∏áÁöÑÁúüÂÆû IP Âú∞ÂùÄËøûÊé•ËøáÊù•ÔºåÊ≤°ÊúâÂì™‰∏™ËÆæÂ§áËÉΩÂ§üÊîØÊíë‰Ωè„ÄÇÊãø BT ‰∏ãËΩΩÊù•ËØ¥Ôºå‰º™ÈÄ†‰∏Ä‰∫õÁÉ≠Èó®ËßÜÈ¢ëÁöÑÁßçÂ≠êÔºåÂèëÂ∏ÉÂà∞ÊêúÁ¥¢ÂºïÊìéÔºåÂ∞±Ë∂≥‰ª•È™óÂà∞ËÆ∏Â§öÁî®Êà∑ÂíåÊµÅÈáè‰∫ÜÔºå‰ΩÜÊòØËøôÂè™ÊòØÂü∫Á°ÄÊîªÂáª„ÄÇ È´òÁ∫ßÁöÑ P2P ÊîªÂáªÔºåÊòØÁõ¥Êé•Ê¨∫È™óËµÑÊ∫êÁÆ°ÁêÜÊúçÂä°Âô®„ÄÇÂ¶ÇËøÖÈõ∑ÂÆ¢Êà∑Á´Ø‰ºöÊääËá™Â∑±ÂèëÁé∞ÁöÑËµÑÊ∫ê‰∏ä‰º†Âà∞ËµÑÊ∫êÁÆ°ÁêÜÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÊé®ÈÄÅÁªôÂÖ∂ÂÆÉÈúÄË¶Å‰∏ãËΩΩÁõ∏ÂêåËµÑÊ∫êÁöÑÁî®Êà∑ÔºåËøôÊ†∑Ôºå‰∏Ä‰∏™ÈìæÊé•Â∞±ÂèëÂ∏ÉÂá∫Âéª„ÄÇÈÄöËøáÂçèËÆÆÈÄÜÂêëÔºåÊîªÂáªËÄÖ‰º™ÈÄ†Âá∫Â§ßÊâπÈáèÁöÑÁÉ≠Èó®ËµÑÊ∫ê‰ø°ÊÅØÈÄöËøáËµÑÊ∫êÁÆ°ÁêÜ‰∏≠ÂøÉÂàÜÂèëÂá∫ÂéªÔºåÁû¨Èó¥Â∞±ÂèØ‰ª•‰º†ÈÅçÊï¥‰∏™ P2P ÁΩëÁªú„ÄÇÊõ¥‰∏∫ÊÅêÊÄñÁöÑÊòØÔºåËøôÁßçÊîªÂáªÊòØÊó†Ê≥ïÂÅúÊ≠¢ÁöÑÔºåÂç≥‰ΩøÊòØÊîªÂáªËÄÖËá™Ë∫´‰πüÊó†Ê≥ïÂÅúÊ≠¢ÔºåÊîªÂáª‰∏ÄÁõ¥ÊåÅÁª≠Âà∞ P2P ÂÆòÊñπÂèëÁé∞ÈóÆÈ¢òÊõ¥Êñ∞ÊúçÂä°Âô®‰∏î‰∏ãËΩΩÁî®Êà∑ÈáçÂêØ‰∏ãËΩΩËΩØ‰ª∂‰∏∫Ê≠¢„ÄÇ ÊúÄÂêéÊÄªÁªì‰∏ãÔºåDDoS ‰∏çÂèØËÉΩÈò≤ÁöÑ‰ΩèÔºåÂ∞±Â•ΩÊØî‰Ω†ÁöÑÂ∫óÂè™ËÉΩÂÆπÁ∫≥ 50 ‰∫∫ÔºåÈªëÁ§æ‰ºöÊúâ 100 ‰∫∫Ôºå‰Ω†Â∞±Êç¢‰∏ÄÂÆ∂Â§ßÂ∫óÔºåËÉΩÂÆπÁ∫≥ 500 ‰∫∫ÔºåÁÑ∂ÂêéÈªëÁ§æ‰ºöÂèàÊâæÊù•‰∫Ü 1000 ‰∫∫ÔºåËøôÁßçÂ†Ü‰∫∫Â§¥ÁöÑÂÅöÊ≥ïÂ∞±ÊòØ DDoS Êú¨Ë¥®‰∏äÁöÑÊîªÈò≤‰πãÈÅìÔºå„ÄåÈÅìÈ´ò‰∏ÄÂ∞∫ÔºåÈ≠îÈ´ò‰∏Ä‰∏àÔºåÈ≠îÈ´ò‰∏ÄÂ∞∫ÔºåÈÅìÈ´ò‰∏Ä‰∏à„ÄçÔºåËÆ≤ÁúüÔºåÂøÖË¶ÅÁöÑÊó∂ÂÄôÂ∞±Á≠îÂ∫îÂãíÁ¥¢‰Ω†ÁöÑ‰∫∫ÁöÑÊù°‰ª∂ÂêßÔºåÂÆûÂú®‰∏çË°åÂ∞±Êä•Ë≠¶Âêß„ÄÇ ÊµÅÈáèÂä´ÊåÅÊµÅÈáèÂä´ÊåÅÂ∫îËØ•ÁÆóÊòØÈªë‰∫ßË°å‰∏öÁöÑ‰∏ÄÂ§ßÁªèÊµéÊîØÊü±‰∫ÜÂêßÔºüÁÆÄÁõ¥ÊòØËÆ©‰∫∫ÊÅ∂ÂøÉÂà∞ÂêêÔºå‰∏çÂêêÊßΩ‰∫ÜÔºåËøòÊòØÁªßÁª≠Ë∞àÂπ≤Ë¥ßÂêßÔºåÊµÅÈáèÂä´ÊåÅÂü∫Êú¨ÂàÜ‰∏§ÁßçÔºöDNS Âä´ÊåÅ Âíå HTTP Âä´ÊåÅÔºåÁõÆÁöÑÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂ∞±ÊòØÂΩìÁî®Êà∑ËÆøÈóÆ zoumiaojiang.com ÁöÑÊó∂ÂÄôÔºåÁªô‰Ω†Â±ïÁ§∫ÁöÑÂπ∂‰∏çÊòØÊàñËÄÖ‰∏çÂÆåÂÖ®ÊòØ zoumiaojiang.com Êèê‰æõÁöÑ ‚ÄúÂÜÖÂÆπ‚Äù„ÄÇ DNS Âä´ÊåÅDNS Âä´ÊåÅÔºå‰πüÂè´ÂÅöÂüüÂêçÂä´ÊåÅÔºåÂèØ‰ª•Ëøô‰πàÁêÜËß£Ôºå„Äå‰Ω†Êâì‰∫Ü‰∏ÄËæÜËΩ¶ÊÉ≥ÂéªÂïÜÂú∫ÂêÉÈ•≠ÔºåÁªìÊûú‰Ω†ÊâìÁöÑËΩ¶ÊòØÂ∞è‰ΩúÂùäÊ¥æÊù•ÁöÑÔºåÁõ¥Êé•Áªô‰Ω†ÊãâÂà∞Â∞è‰ΩúÂùäÂéª‰∫Ü„ÄçÔºåDNS ÁöÑ‰ΩúÁî®ÊòØÊääÁΩëÁªúÂú∞ÂùÄÂüüÂêçÂØπÂ∫îÂà∞ÁúüÂÆûÁöÑËÆ°ÁÆóÊú∫ËÉΩÂ§üËØÜÂà´ÁöÑ IP Âú∞ÂùÄÔºå‰ª•‰æøËÆ°ÁÆóÊú∫ËÉΩÂ§üËøõ‰∏ÄÊ≠•ÈÄö‰ø°Ôºå‰º†ÈÄíÁΩëÂùÄÂíåÂÜÖÂÆπÁ≠â„ÄÇÂ¶ÇÊûúÂΩìÁî®Êà∑ÈÄöËøáÊüê‰∏Ä‰∏™ÂüüÂêçËÆøÈóÆ‰∏Ä‰∏™Á´ôÁÇπÁöÑÊó∂ÂÄôÔºåË¢´ÁØ°ÊîπÁöÑ DNS ÊúçÂä°Âô®ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÊÅ∂ÊÑèÁöÑÈíìÈ±ºÁ´ôÁÇπÁöÑ IPÔºåÁî®Êà∑Â∞±Ë¢´Âä´ÊåÅÂà∞‰∫ÜÊÅ∂ÊÑèÈíìÈ±ºÁ´ôÁÇπÔºåÁÑ∂ÂêéÁªßËÄå‰ºöË¢´ÈíìÈ±ºËæìÂÖ•ÂêÑÁßçË¥¶Âè∑ÂØÜÁ†Å‰ø°ÊÅØÔºåÊ≥ÑÊºèÈöêÁßÅ„ÄÇËøôÁ±ªÂä´ÊåÅÔºåË¶Å‰∏çÂ∞±ÊòØÁΩëÁªúËøêËê•ÂïÜÊêûÁöÑÈ¨ºÔºå‰∏ÄËà¨Â∞èÁöÑÁΩëÁªúËøêËê•ÂïÜ‰∏éÈªë‰∫ßÂãæÁªì‰ºöÂä´ÊåÅ DNSÔºåË¶Å‰∏çÂ∞±ÊòØÁîµËÑë‰∏≠ÊØíÔºåË¢´ÊÅ∂ÊÑèÁØ°Êîπ‰∫ÜË∑ØÁî±Âô®ÁöÑ DNS ÈÖçÁΩÆÔºåÂü∫Êú¨‰∏äÂÅö‰∏∫ÂºÄÂèëËÄÖÊàñÁ´ôÈïøÂç¥ÊòØÂæàÈöæÂØüËßâÁöÑÔºåÈô§ÈùûÊúâÁî®Êà∑ÂèçÈ¶àÔºåÁé∞Âú®ÂçáÁ∫ßÁâàÁöÑ DNS Âä´ÊåÅËøòÂèØ‰ª•ÂØπÁâπÂÆöÁî®Êà∑„ÄÅÁâπÂÆöÂå∫ÂüüÁ≠â‰ΩøÁî®‰∫ÜÁî®Êà∑ÁîªÂÉèËøõË°åÁ≠õÈÄâÁî®Êà∑Âä´ÊåÅÁöÑÂäûÊ≥ïÔºåÂè¶Â§ñËøôÁ±ªÂπøÂëäÊòæÁ§∫Êõ¥Âä†ÈöèÊú∫Êõ¥Â∞èÔºå‰∏ÄËà¨Á´ôÈïøÈô§ÈùûÁî®Êà∑ÊäïËØâÂê¶ÂàôÂæàÈöæËßâÂØüÂà∞ÔºåÂ∞±ÁÆóËßâÂØüÂà∞‰∫ÜÂèñËØÅ‰∏æÊä•Êõ¥Èöæ„ÄÇÊó†ËÆ∫Â¶Ç‰ΩïÔºåÂ¶ÇÊûúÊé•Âà∞Êúâ DNS Âä´ÊåÅÁöÑÂèçÈ¶àÔºå‰∏ÄÂÆöË¶ÅÂÅöÂ•Ω‰ª•‰∏ãÂá†‰ª∂‰∫ãÔºö ÂèñËØÅÂæàÈáçË¶ÅÔºåÊó∂Èó¥„ÄÅÂú∞ÁÇπ„ÄÅIP„ÄÅÊã®Âè∑Ë¥¶Êà∑„ÄÅÊà™Â±è„ÄÅURL Âú∞ÂùÄÁ≠â‰∏ÄÂÆöË¶ÅÊúâ„ÄÇ ÂèØ‰ª•Ë∑üÂä´ÊåÅÂå∫ÂüüÁöÑÁîµ‰ø°ËøêËê•ÂïÜËøõË°åÊäïËØâÂèçÈ¶à„ÄÇ Â¶ÇÊûúÊäïËØâÂèçÈ¶àÊó†ÊïàÔºåÁõ¥Êé•ÂéªÂ∑•‰ø°ÈÉ®ÊäïËØâÔºå‰∏ÄËà¨Êù•ËØ¥‰ºöÂä†ÁôΩ‰Ω†ÁöÑÂüüÂêç„ÄÇ HTTP Âä´ÊåÅHTTP Âä´ÊåÅÊÇ®ÂèØ‰ª•Ëøô‰πàÁêÜËß£Ôºå„Äå‰Ω†Êâì‰∫Ü‰∏ÄËæÜËΩ¶ÊÉ≥ÂéªÂïÜÂú∫ÂêÉÈ•≠ÔºåÁªìÊûúÂè∏Êú∫Ë∑ü‰Ω†‰∏ÄË∑ØÁªô‰Ω†ÈÄíÂ∞è‰ΩúÂùäÁöÑÂπøÂëä„ÄçÔºåHTTP Âä´ÊåÅ‰∏ªË¶ÅÊòØÂΩìÁî®Êà∑ËÆøÈóÆÊüê‰∏™Á´ôÁÇπÁöÑÊó∂ÂÄô‰ºöÁªèËøáËøêËê•ÂïÜÁΩëÁªúÔºåËÄå‰∏çÊ≥ïËøêËê•ÂïÜÂíåÈªë‰∫ßÂãæÁªìËÉΩÂ§üÊà™Ëé∑ HTTP ËØ∑Ê±ÇËøîÂõûÂÜÖÂÆπÔºåÂπ∂‰∏îËÉΩÂ§üÁØ°ÊîπÂÜÖÂÆπÔºåÁÑ∂ÂêéÂÜçËøîÂõûÁªôÁî®Êà∑Ôºå‰ªéËÄåÂÆûÁé∞Âä´ÊåÅÈ°µÈù¢ÔºåËΩªÂàôÊèíÂÖ•Â∞èÂπøÂëäÔºåÈáçÂàôÁõ¥Êé•ÁØ°ÊîπÊàêÈíìÈ±ºÁΩëÁ´ôÈ°µÈù¢È™óÁî®Êà∑ÈöêÁßÅ„ÄÇËÉΩÂ§üÂÆûÊñΩÊµÅÈáèÂä´ÊåÅÁöÑÊ†πÊú¨ÂéüÂõ†ÔºåÊòØ HTTP ÂçèËÆÆÊ≤°ÊúâÂäûÊ≥ïÂØπÈÄö‰ø°ÂØπÊñπÁöÑË∫´‰ªΩËøõË°åÊ†°È™å‰ª•ÂèäÂØπÊï∞ÊçÆÂÆåÊï¥ÊÄßËøõË°åÊ†°È™å„ÄÇÂ¶ÇÊûúËÉΩËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂàôÊµÅÈáèÂä´ÊåÅÂ∞ÜÊó†Ê≥ïËΩªÊòìÂèëÁîü„ÄÇÊâÄ‰ª•Èò≤Ê≠¢ HTTP Âä´ÊåÅÁöÑÊñπÊ≥ïÂè™ÊúâÂ∞ÜÂÜÖÂÆπÂä†ÂØÜÔºåËÆ©Âä´ÊåÅËÄÖÊó†Ê≥ïÁ†¥Ëß£ÁØ°ÊîπÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Èò≤Ê≠¢ HTTP Âä´ÊåÅ‰∫Ü„ÄÇ HTTPS ÂçèËÆÆÂ∞±ÊòØ‰∏ÄÁßçÂü∫‰∫é SSL ÂçèËÆÆÁöÑÂÆâÂÖ®Âä†ÂØÜÁΩëÁªúÂ∫îÁî®Â±ÇÂçèËÆÆÔºåÂèØ‰ª•ÂæàÂ•ΩÁöÑÈò≤Ê≠¢ HTTP Âä´ÊåÅ„ÄÇËøôÈáåÊúâÁØá ÊñáÁ´† ËÆ≤ÁöÑ‰∏çÈîô„ÄÇHTTPS Âú®ËøôÂ∞±‰∏çÊ∑±ËÆ≤‰∫ÜÔºåÂêéÈù¢ÊúâÊú∫‰ºöÊàë‰ºöÂçïÁã¨Â•ΩÂ•ΩËÆ≤ËÆ≤ HTTPS„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥Á´ôÁÇπË¢´ HTTP Âä´ÊåÅÔºåËµ∂Á¥ßÂ∞Ü‰Ω†ÁöÑÁ´ôÁÇπÂÖ®Á´ôÊîπÈÄ†Êàê HTTPS Âêß„ÄÇ ÊúçÂä°Âô®ÊºèÊ¥ûÊúçÂä°Âô®Èô§‰∫Ü‰ª•‰∏äÊèêÂà∞ÁöÑÈÇ£‰∫õÂ§ßÂêçÈºéÈºéÁöÑÊºèÊ¥ûÂíåËá≠ÂêçÊò≠ËëóÁöÑÊîªÂáª‰ª•Â§ñÔºåÂÖ∂ÂÆûËøòÊúâÂæàÂ§öÂÖ∂‰ªñÁöÑÊºèÊ¥ûÔºåÂæÄÂæÄ‰πüÂæàÂÆπÊòìË¢´ÂøΩËßÜÔºåÂú®Ëøô‰∏™Â∞èËäÇ‰πüÁ®çÂæÆ‰ªãÁªçÂá†Áßç„ÄÇ Ë∂äÊùÉÊìç‰ΩúÊºèÊ¥ûÂ¶ÇÊûú‰Ω†ÁöÑÁ≥ªÁªüÊòØÊúâÁôªÂΩïÊéßÂà∂ÁöÑÔºåÈÇ£Â∞±Ë¶ÅÊ†ºÂ§ñÂ∞èÂøÉ‰∫ÜÔºåÂõ†‰∏∫ÂæàÊúâÂèØËÉΩ‰Ω†ÁöÑÁ≥ªÁªüË∂äÊùÉÊìç‰ΩúÊºèÊ¥ûÔºåË∂äÊùÉÊìç‰ΩúÊºèÊ¥ûÂèØ‰ª•ÁÆÄÂçïÁöÑÊÄªÁªì‰∏∫ „ÄåA Áî®Êà∑ËÉΩÁúãÂà∞ÊàñËÄÖÊìç‰Ωú B Áî®Êà∑ÁöÑÈöêÁßÅÂÜÖÂÆπ„ÄçÔºåÂ¶ÇÊûú‰Ω†ÁöÑÁ≥ªÁªü‰∏≠ËøòÊúâÊùÉÈôêÊéßÂà∂Â∞±Êõ¥Âä†ÈúÄË¶ÅÂ∞èÂøÉ‰∫Ü„ÄÇÊâÄ‰ª•ÊØè‰∏Ä‰∏™ËØ∑Ê±ÇÈÉΩÈúÄË¶ÅÂÅö userid ÁöÑÂà§Êñ≠ ‰ª•‰∏ãÊòØ‰∏ÄÊÆµÊúâÊºèÊ¥ûÁöÑÂêéÁ´ØÁ§∫ÊÑè‰ª£Á†ÅÔºö // ctx ‰∏∫ËØ∑Ê±ÇÁöÑ context ‰∏ä‰∏ãÊñá let msgId = ctx.params.msgId; mysql.query( &apos;SELECT * FROM msg_table WHERE msg_id = ?&apos;, [msgId] ); ‰ª•‰∏ä‰ª£Á†ÅÊòØ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•Êü•ËØ¢Âà∞‰ªª‰ΩïÁî®Êà∑ÁöÑÊ∂àÊÅØÔºåÂè™Ë¶ÅÊúâ msg_id Â∞±ÂèØ‰ª•ÔºåËøôÂ∞±ÊòØÊØîËæÉÂÖ∏ÂûãÁöÑË∂äÊùÉÊºèÊ¥ûÔºåÈúÄË¶ÅÂ¶Ç‰∏ãËøô‰πàÊîπËøõ‰∏Ä‰∏ãÔºö // ctx ‰∏∫ËØ∑Ê±ÇÁöÑ context ‰∏ä‰∏ãÊñá let msgId = ctx.params.msgId; let userId = ctx.session.userId; // ‰ªé‰ºöËØù‰∏≠ÂèñÂá∫ÂΩìÂâçÁôªÈôÜÁöÑ userId mysql.query( &apos;SELECT * FROM msg_table WHERE msg_id = ? AND user_id = ?&apos;, [msgId, userId] ); ÂóØÔºåÂ§ßÊ¶ÇÂ∞±ÊòØËøô‰∏™ÊÑèÊÄùÔºåÂ¶ÇÊûúÊúâÊõ¥‰∏•Ê†ºÁöÑÊùÉÈôêÊéßÂà∂ÔºåÈÇ£Âú®ÊØè‰∏™ËØ∑Ê±Ç‰∏≠Âá°ÊòØÊ∂âÂèäÂà∞Êï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÈÉΩÈúÄË¶ÅÂÖàËøõË°å‰∏•Ê†ºÁöÑÈ™åËØÅÔºåÂπ∂‰∏îÂú®ËÆæËÆ°Êï∞ÊçÆÂ∫ìË°®ÁöÑÊó∂ÂÄôÈúÄË¶ÅËÄÉËôëËøõ userId ÁöÑË¥¶Âè∑ÂÖ≥ËÅî‰ª•ÂèäÊùÉÈôêÂÖ≥ËÅî„ÄÇ ÁõÆÂΩïÈÅçÂéÜÊºèÊ¥ûÁõÆÂΩïÈÅçÂéÜÊºèÊ¥ûÊåáÈÄöËøáÂú® URL ÊàñÂèÇÊï∞‰∏≠ÊûÑÈÄ† ../Ôºå./ ÂíåÁ±ª‰ººÁöÑË∑®Áà∂ÁõÆÂΩïÂ≠óÁ¨¶‰∏≤ÁöÑ ASCII ÁºñÁ†Å„ÄÅunicode ÁºñÁ†ÅÁ≠âÔºåÂÆåÊàêÁõÆÂΩïË∑≥ËΩ¨ÔºåËØªÂèñÊìç‰ΩúÁ≥ªÁªüÂêÑ‰∏™ÁõÆÂΩï‰∏ãÁöÑÊïèÊÑüÊñá‰ª∂Ôºå‰πüÂèØ‰ª•Áß∞‰Ωú„Äå‰ªªÊÑèÊñá‰ª∂ËØªÂèñÊºèÊ¥û„Äç„ÄÇ ÁõÆÂΩïÈÅçÂéÜÊºèÊ¥ûÂéüÁêÜÔºöÁ®ãÂ∫èÊ≤°ÊúâÂÖÖÂàÜËøáÊª§Áî®Êà∑ËæìÂÖ•ÁöÑ ../ ‰πãÁ±ªÁöÑÁõÆÂΩïË∑≥ËΩ¨Á¨¶ÔºåÂØºËá¥Áî®Êà∑ÂèØ‰ª•ÈÄöËøáÊèê‰∫§ÁõÆÂΩïË∑≥ËΩ¨Êù•ÈÅçÂéÜÊúçÂä°Âô®‰∏äÁöÑ‰ªªÊÑèÊñá‰ª∂„ÄÇ‰ΩøÁî®Â§ö‰∏™.. Á¨¶Âè∑Ôºå‰∏çÊñ≠Âêë‰∏äË∑≥ËΩ¨ÔºåÊúÄÁªàÂÅúÁïôÂú®Ê†π /ÔºåÈÄöËøáÁªùÂØπË∑ØÂæÑÂéªËØªÂèñ‰ªªÊÑèÊñá‰ª∂„ÄÇ ÁõÆÂΩïÈÅçÂéÜÊºèÊ¥ûÂá†‰∏™Á§∫‰æãÂíåÊµãËØïÔºå‰∏ÄËà¨ÊûÑÈÄ† URL ÁÑ∂Âêé‰ΩøÁî®ÊµèËßàÂô®Áõ¥Êé•ËÆøÈóÆÔºåÊàñËÄÖ‰ΩøÁî® Web ÊºèÊ¥ûÊâ´ÊèèÂ∑•ÂÖ∑Ê£ÄÊµãÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Ëá™ÂÜôÁ®ãÂ∫èÊµãËØï„ÄÇ http://somehost.com/../../../../../../../../../etc/passwd http://somehost.com/some/path?file=../../Windows/system.ini # ÂÄüÂä© %00 Á©∫Â≠óÁ¨¶Êà™Êñ≠ÊòØ‰∏Ä‰∏™ÊØîËæÉÁªèÂÖ∏ÁöÑÊîªÂáªÊâãÊ≥ï http://somehost.com/some/path?file=../../Windows/system.ini%00.js # ‰ΩøÁî®‰∫Ü IIS ÁöÑËÑöÊú¨ÁõÆÂΩïÊù•ÁßªÂä®ÁõÆÂΩïÂπ∂ÊâßË°åÊåá‰ª§ http://somehost.com/scripts/..%5c../Windows/System32/cmd.exe?/c+dir+c:\ Èò≤Âæ° ÊñπÊ≥ïÂ∞±ÊòØÈúÄË¶ÅÂØπ URL ÊàñËÄÖÂèÇÊï∞ËøõË°å ../Ôºå./ Á≠âÂ≠óÁ¨¶ÁöÑËΩ¨‰πâËøáÊª§„ÄÇ Áâ©ÁêÜË∑ØÂæÑÊ≥ÑÊºèÁâ©ÁêÜË∑ØÂæÑÊ≥ÑÈú≤Â±û‰∫é‰ΩéÈ£éÈô©Á≠âÁ∫ßÁº∫Èô∑ÔºåÂÆÉÁöÑÂç±ÂÆ≥‰∏ÄËà¨Ë¢´ÊèèËø∞‰∏∫„ÄåÊîªÂáªËÄÖÂèØ‰ª•Âà©Áî®Ê≠§ÊºèÊ¥ûÂæóÂà∞‰ø°ÊÅØÔºåÊù•ÂØπÁ≥ªÁªüËøõ‰∏ÄÊ≠•Âú∞ÊîªÂáª„ÄçÔºåÈÄöÂ∏∏ÈÉΩÊòØÁ≥ªÁªüÊä•Èîô 500 ÁöÑÈîôËØØ‰ø°ÊÅØÁõ¥Êé•ËøîÂõûÂà∞È°µÈù¢ÂèØËßÅÂØºËá¥ÁöÑÊºèÊ¥û„ÄÇÂæóÂà∞Áâ©ÁêÜË∑ØÂæÑÊúâ‰∫õÊó∂ÂÄôÂÆÉËÉΩÁªôÊîªÂáªËÄÖÂ∏¶Êù•‰∏Ä‰∫õÊúâÁî®ÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶ÇËØ¥ÔºöÂèØ‰ª•Â§ßËá¥‰∫ÜËß£Á≥ªÁªüÁöÑÊñá‰ª∂ÁõÆÂΩïÁªìÊûÑÔºõÂèØ‰ª•ÁúãÂá∫Á≥ªÁªüÊâÄ‰ΩøÁî®ÁöÑÁ¨¨‰∏âÊñπËΩØ‰ª∂Ôºõ‰πüËØ¥‰∏çÂÆö‰ºöÂæóÂà∞‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÁî®Êà∑ÂêçÔºàÂõ†‰∏∫ÂæàÂ§ö‰∫∫ÊääËá™Â∑±ÁöÑÁî®Êà∑Âêç‰Ωú‰∏∫ÁΩëÁ´ôÁöÑÁõÆÂΩïÂêçÔºâ„ÄÇ Èò≤Ê≠¢ËøôÁßçÊ≥ÑÊºèÁöÑÊñπÊ≥ïÂ∞±ÊòØÂÅöÂ•ΩÂêéÁ´ØÁ®ãÂ∫èÁöÑÂá∫ÈîôÂ§ÑÁêÜÔºåÂÆöÂà∂ÁâπÊÆäÁöÑ 500 Êä•ÈîôÈ°µÈù¢„ÄÇ Ê∫êÁ†ÅÊö¥Èú≤ÊºèÊ¥ûÂíåÁâ©ÁêÜË∑ØÂæÑÊ≥ÑÈú≤Á±ª‰ººÔºåÂ∞±ÊòØÊîªÂáªËÄÖÂèØ‰ª•ÈÄöËøáËØ∑Ê±ÇÁõ¥Êé•Ëé∑ÂèñÂà∞‰Ω†Á´ôÁÇπÁöÑÂêéÁ´ØÊ∫ê‰ª£Á†ÅÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂØπÁ≥ªÁªüËøõ‰∏ÄÊ≠•Á†îÁ©∂ÊîªÂáª„ÄÇÈÇ£‰πàÂØºËá¥Ê∫ê‰ª£Á†ÅÊö¥Èú≤ÁöÑÂéüÂõ†ÊòØ‰ªÄ‰πàÂë¢ÔºüÂü∫Êú¨‰∏äÂ∞±ÊòØÂèëÁîüÂú®ÊúçÂä°Âô®ÈÖçÁΩÆ‰∏ä‰∫ÜÔºåÊúçÂä°Âô®ÂèØ‰ª•ËÆæÁΩÆÂì™‰∫õË∑ØÂæÑÁöÑÊñá‰ª∂ÊâçÂèØ‰ª•Ë¢´Áõ¥Êé•ËÆøÈóÆÁöÑÔºåËøôÈáåÁªô‰∏Ä‰∏™ koa ÊúçÂä°Ëµ∑ÁöÑ‰æãÂ≠êÔºåÊ≠£Â∏∏ÁöÑ koa ÊúçÂä°Âô®ÂèØ‰ª•ÈÄöËøá koa-static ‰∏≠Èó¥‰ª∂ÂéªÊåáÂÆöÈùôÊÄÅËµÑÊ∫êÁöÑÁõÆÂΩïÔºåÂ•ΩËÆ©ÈùôÊÄÅËµÑÊ∫êÂèØ‰ª•ÈÄöËøáË∑ØÂæÑÁöÑË∑ØÁî±ËÆøÈóÆ„ÄÇÊØîÂ¶Ç‰Ω†ÁöÑÁ≥ªÁªüÊ∫ê‰ª£Á†ÅÁõÆÂΩïÊòØËøôÊ†∑ÁöÑÔºö |- project |- src |- static |- ... |- server.js ‰Ω†ÊÉ≥Ë¶ÅÂ∞Ü static ÁöÑÊñá‰ª∂Â§πÈÖçÊàêÈùôÊÄÅËµÑÊ∫êÁõÆÂΩïÔºå‰Ω†Â∫îËØ•‰ºöÂú® server.js ÂÅöÂ¶Ç‰∏ãÈÖçÁΩÆÔºö const Koa = require(&apos;koa&apos;); const serve = require(&apos;koa-static&apos;); const app = new Koa(); app.use(serve(__dirname + &apos;/project/static&apos;)); ‰ΩÜÊòØÂ¶ÇÊûúÈÖçÈîô‰∫ÜÈùôÊÄÅËµÑÊ∫êÁöÑÁõÆÂΩïÔºåÂèØËÉΩÂ∞±Âá∫Â§ß‰∫ã‰∫ÜÔºåÊØîÂ¶ÇÔºö // ... app.use(serve(__dirname + &apos;/project&apos;)); ËøôÊ†∑ÊâÄÊúâÁöÑÊ∫ê‰ª£Á†ÅÈÉΩÂèØ‰ª•ÈÄöËøáË∑ØÁî±ËÆøÈóÆÂà∞‰∫ÜÔºåÊâÄÊúâÁöÑÊúçÂä°Âô®ÈÉΩÊèê‰æõ‰∫ÜÈùôÊÄÅËµÑÊ∫êÊú∫Âà∂ÔºåÊâÄ‰ª•Âú®ÈÄöËøáÊúçÂä°Âô®ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫êÁõÆÂΩïÂíåË∑ØÂæÑÁöÑÊó∂ÂÄôÔºå‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÊ£ÄÈ™åÔºå‰∏çÁÑ∂ÂæàÂèØËÉΩ‰∫ßÁîüÊºèÊ¥û„ÄÇ ÊúÄÂêéÔºåÂ∏åÊúõ Web ÂºÄÂèëËÄÖ‰ª¨ËÉΩÂ§üÁÆ°ÁêÜÂ•ΩËá™Â∑±ÁöÑ‰ª£Á†ÅÈöêÁßÅÔºåÊ≥®ÊÑè‰ª£Á†ÅÂÆâÂÖ®ÈóÆÈ¢òÔºåÊØîÂ¶Ç‰∏çË¶ÅÂ∞Ü‰∫ßÂìÅÁöÑÂê´ÊúâÊïèÊÑü‰ø°ÊÅØÁöÑ‰ª£Á†ÅÊîæÂà∞Á¨¨‰∏âÊñπÂ§ñÈÉ®Á´ôÁÇπÊàñËÄÖÊö¥Èú≤ÁªôÂ§ñÈÉ®Áî®Êà∑ÔºåÂ∞§ÂÖ∂ÊòØÂâçÁ´Ø‰ª£Á†ÅÔºåÁßÅÈí•Á±ª‰ººÁöÑ‰øùÂØÜÊÄßÁöÑ‰∏úË•ø‰∏çË¶ÅÁõ¥Êé•ËæìÂá∫Âú®‰ª£Á†ÅÈáåÊàñËÄÖÈ°µÈù¢‰∏≠„ÄÇ‰πüËÆ∏ËøòÊúâÂæàÂ§öÂÄºÂæóÊ≥®ÊÑèÁöÑÁÇπÔºå‰ΩÜÊòØÂΩíÊ†πÁªìÂ∫ïËøòÊòØÁª∑‰ΩèÂÆâÂÖ®ÈÇ£Ê†πÂº¶ÔºåÂØπÂæÖÊØè‰∏ÄË°å‰ª£Á†ÅÈÉΩË¶ÅÂ§öÂ§öÊé®Êï≤„ÄÇ]]></content>
      <tags>
        <tag>xss</tag>
        <tag>CSRF</tag>
        <tag>SQLÊ≥®ÂÖ•</tag>
        <tag>DDoS ÊîªÂáª</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KOA2Ê°ÜÊû∂ÂéüÁêÜËß£ÊûêÂíåÂÆûÁé∞]]></title>
    <url>%2F2018%2F01%2F08%2FKOA2%E6%A1%86%E6%9E%B6%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90%E5%92%8C%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØkoaÊ°ÜÊû∂ÔºükoaÊòØ‰∏Ä‰∏™Âü∫‰∫énodeÂÆûÁé∞ÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑwebÊ°ÜÊû∂ÔºåÂÆÉÊòØÁî±expressÊ°ÜÊû∂ÁöÑÂéüÁè≠‰∫∫È©¨ÊâìÈÄ†ÁöÑ„ÄÇÂÆÉÁöÑÁâπÁÇπÊòØ‰ºòÈõÖ„ÄÅÁÆÄÊ¥Å„ÄÅË°®ËææÂäõÂº∫„ÄÅËá™Áî±Â∫¶È´ò„ÄÇÂÆÉÊõ¥expressÁõ∏ÊØîÔºåÂÆÉÊòØ‰∏Ä‰∏™Êõ¥ËΩªÈáèÁöÑnodeÊ°ÜÊû∂ÔºåÂõ†‰∏∫ÂÆÉÊâÄÊúâÂäüËÉΩÈÉΩÈÄöËøáÊèí‰ª∂ÂÆûÁé∞ÔºåËøôÁßçÊèíÊãîÂºèÁöÑÊû∂ÊûÑËÆæËÆ°Ê®°ÂºèÔºåÂæàÁ¨¶ÂêàunixÂì≤Â≠¶„ÄÇ koaÊ°ÜÊû∂Áé∞Âú®Êõ¥Êñ∞Âà∞‰∫Ü2.xÁâàÊú¨ÔºåÊú¨Êñá‰ªéÈõ∂ÂºÄÂßãÔºåÂæ™Â∫èÊ∏êËøõÔºåËÆ≤Ëß£koa2ÁöÑÊ°ÜÊû∂Ê∫êÁ†ÅÁªìÊûÑÂíåÂÆûÁé∞ÂéüÁêÜÔºåÂ±ïÁ§∫ÂíåËØ¶Ëß£koa2Ê°ÜÊû∂Ê∫êÁ†Å‰∏≠ÁöÑÂá†‰∏™ÊúÄÈáçË¶ÅÁöÑÊ¶ÇÂøµÔºåÁÑ∂ÂêéÊâãÊääÊâãÊïôÂ§ßÂÆ∂‰∫≤Ëá™ÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÊòìÁöÑkoa2Ê°ÜÊû∂ÔºåÂ∏ÆÂä©Â§ßÂÆ∂Â≠¶‰π†ÂíåÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£koa2ÔºåÁúãÂÆåÊú¨Êñá‰ª•ÂêéÔºåÂÜçÂéªÂØπÁÖßkoa2ÁöÑÊ∫êÁ†ÅËøõË°åÊü•ÁúãÔºåÁõ∏‰ø°‰Ω†ÁöÑÊÄùË∑ØÂ∞Ü‰ºöÈùûÂ∏∏ÁöÑÈ°∫ÁïÖ„ÄÇ Êú¨ÊñáÊâÄÁî®ÁöÑÊ°ÜÊû∂ÊòØkoa2ÔºåÂÆÉË∑ükoa1‰∏çÂêåÔºåkoa1‰ΩøÁî®ÁöÑÊòØgenerator+co.jsÁöÑÊâßË°åÊñπÂºèÔºåËÄåkoa2‰∏≠‰ΩøÁî®‰∫Üasync/awaitÔºåÂõ†Ê≠§Êú¨ÊñáÁöÑ‰ª£Á†ÅÂíådemoÈúÄË¶ÅËøêË°åÂú®node 8ÁâàÊú¨ÂèäÂÖ∂‰ª•‰∏äÔºåÂ¶ÇÊûúËØªËÄÖÁöÑnodeÁâàÊú¨ËæÉ‰ΩéÔºåÂª∫ËÆÆÂçáÁ∫ßÊàñËÄÖÂÆâË£Öbabel-cliÔºåÁî®ÂÖ∂‰∏≠ÁöÑbabel-nodeÊù•ËøêË°åÊú¨ÊñáÊ∂âÂèäÂà∞ÁöÑ‰ª£Á†Å„ÄÇ koaÊ∫êÁ†ÅÁªìÊûÑ‰∏äÂõæÊòØkoa2ÁöÑÊ∫êÁ†ÅÁõÆÂΩïÁªìÊûÑÁöÑlibÊñá‰ª∂Â§πÔºålibÊñá‰ª∂Â§π‰∏ãÊîæÁùÄÂõõ‰∏™koa2ÁöÑÊ†∏ÂøÉÊñá‰ª∂Ôºöapplication.js„ÄÅcontext.js„ÄÅrequest.js„ÄÅresponse.js„ÄÇ application.jsapplication.jsÊòØkoaÁöÑÂÖ•Âè£Êñá‰ª∂ÔºåÂÆÉÂêëÂ§ñÂØºÂá∫‰∫ÜÂàõÂª∫classÂÆû‰æãÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÂÆÉÁªßÊâø‰∫ÜeventsÔºåËøôÊ†∑Â∞±‰ºöËµã‰∫àÊ°ÜÊû∂‰∫ã‰ª∂ÁõëÂê¨Âíå‰∫ã‰ª∂Ëß¶ÂèëÁöÑËÉΩÂäõ„ÄÇapplicationËøòÊö¥Èú≤‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑapiÔºåÊØîÂ¶ÇtoJSON„ÄÅlisten„ÄÅuseÁ≠âÁ≠â„ÄÇ listenÁöÑÂÆûÁé∞ÂéüÁêÜÂÖ∂ÂÆûÂ∞±ÊòØÂØπhttp.createServerËøõË°å‰∫Ü‰∏Ä‰∏™Â∞ÅË£ÖÔºåÈáçÁÇπÊòØËøô‰∏™ÂáΩÊï∞‰∏≠‰º†ÂÖ•ÁöÑcallbackÔºåÂÆÉÈáåÈù¢ÂåÖÂê´‰∫Ü‰∏≠Èó¥‰ª∂ÁöÑÂêàÂπ∂Ôºå‰∏ä‰∏ãÊñáÁöÑÂ§ÑÁêÜÔºåÂØπresÁöÑÁâπÊÆäÂ§ÑÁêÜ„ÄÇ useÊòØÊî∂ÈõÜ‰∏≠Èó¥‰ª∂ÔºåÂ∞ÜÂ§ö‰∏™‰∏≠Èó¥‰ª∂ÊîæÂÖ•‰∏Ä‰∏™ÁºìÂ≠òÈòüÂàó‰∏≠ÔºåÁÑ∂ÂêéÈÄöËøákoa-composeËøô‰∏™Êèí‰ª∂ËøõË°åÈÄíÂΩíÁªÑÂêàË∞ÉÁî®Ëøô‰∏Ä‰∫õÂàóÁöÑ‰∏≠Èó¥‰ª∂„ÄÇ context.jsËøôÈÉ®ÂàÜÂ∞±ÊòØkoaÁöÑÂ∫îÁî®‰∏ä‰∏ãÊñáctx,ÂÖ∂ÂÆûÂ∞±‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂØπË±°Êö¥Èú≤ÔºåÈáåÈù¢ÁöÑÈáçÁÇπÂú®delegateÔºåËøô‰∏™Â∞±ÊòØ‰ª£ÁêÜÔºåËøô‰∏™Â∞±ÊòØ‰∏∫‰∫ÜÂºÄÂèëËÄÖÊñπ‰æøËÄåËÆæËÆ°ÁöÑÔºåÊØîÂ¶ÇÊàë‰ª¨Ë¶ÅËÆøÈóÆctx.repsponse.status‰ΩÜÊòØÊàë‰ª¨ÈÄöËøádelegateÔºåÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆctx.statusËÆøÈóÆÂà∞ÂÆÉ„ÄÇ request.js„ÄÅresponse.jsËøô‰∏§ÈÉ®ÂàÜÂ∞±ÊòØÂØπÂéüÁîüÁöÑres„ÄÅreqÁöÑ‰∏Ä‰∫õÊìç‰Ωú‰∫ÜÔºåÂ§ßÈáè‰ΩøÁî®es6ÁöÑgetÂíåsetÁöÑ‰∏Ä‰∫õËØ≠Ê≥ïÔºåÂéªÂèñheadersÊàñËÄÖËÆæÁΩÆheaders„ÄÅËøòÊúâËÆæÁΩÆbodyÁ≠âÁ≠âÔºåËøô‰∫õÂ∞±‰∏çËØ¶ÁªÜ‰ªãÁªç‰∫ÜÔºåÊúâÂÖ¥Ë∂£ÁöÑËØªËÄÖÂèØ‰ª•Ëá™Ë°åÁúãÊ∫êÁ†Å„ÄÇ ÂÆûÁé∞koa2ÁöÑÂõõÂ§ßÊ®°Âùó‰∏äÊñáÁÆÄËø∞‰∫Ükoa2Ê∫êÁ†ÅÁöÑÂ§ß‰ΩìÊ°ÜÊû∂ÁªìÊûÑÔºåÊé•‰∏ãÊù•Êàë‰ª¨Êù•ÂÆûÁé∞‰∏Ä‰∏™koa2ÁöÑÊ°ÜÊû∂ÔºåÁ¨îËÄÖËÆ§‰∏∫ÁêÜËß£ÂíåÂÆûÁé∞‰∏Ä‰∏™koaÊ°ÜÊû∂ÈúÄË¶ÅÂÆûÁé∞Âõõ‰∏™Â§ßÊ®°ÂùóÔºåÂàÜÂà´ÊòØÔºö Â∞ÅË£Önode http server„ÄÅÂàõÂª∫KoaÁ±ªÊûÑÈÄ†ÂáΩÊï∞ ÊûÑÈÄ†request„ÄÅresponse„ÄÅcontextÂØπË±° ‰∏≠Èó¥‰ª∂Êú∫Âà∂ÂíåÂâ•Ê¥ãËë±Ê®°ÂûãÁöÑÂÆûÁé∞ ÈîôËØØÊçïËé∑ÂíåÈîôËØØÂ§ÑÁêÜ ‰∏ãÈù¢Êàë‰ª¨Â∞±ÈÄê‰∏ÄÂàÜÊûêÂíåÂÆûÁé∞„ÄÇ Ê®°Âùó‰∏ÄÔºöÂ∞ÅË£Önode http serverÂíåÂàõÂª∫KoaÁ±ªÊûÑÈÄ†ÂáΩÊï∞ÈòÖËØªkoa2ÁöÑÊ∫êÁ†ÅÂæóÁü•ÔºåÂÆûÁé∞koaÁöÑÊúçÂä°Âô®Â∫îÁî®ÂíåÁ´ØÂè£ÁõëÂê¨ÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂü∫‰∫énodeÁöÑÂéüÁîü‰ª£Á†ÅËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÂ¶Ç‰∏ãÂõæÁöÑ‰ª£Á†ÅÂ∞±ÊòØÈÄöËøánodeÂéüÁîü‰ª£Á†ÅÂÆûÁé∞ÁöÑÊúçÂä°Âô®ÁõëÂê¨„ÄÇ let http = require(&apos;http&apos;); let server = http.createServer((req, res) =&gt; { res.writeHead(200); res.end(&apos;hello world&apos;); }); server.listen(3000, () =&gt; { console.log(&apos;listenning on 3000&apos;); }); Êàë‰ª¨ÈúÄË¶ÅÂ∞Ü‰∏äÈù¢ÁöÑnodeÂéüÁîü‰ª£Á†ÅÂ∞ÅË£ÖÂÆûÁé∞ÊàêkoaÁöÑÊ®°ÂºèÔºö const http = require(&apos;http&apos;); const Koa = require(&apos;koa&apos;); const app = new Koa(); app.listen(3000); ÂÆûÁé∞koaÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÂØπ‰ª•‰∏äÁöÑËøô‰∏™ËøáÁ®ãËøõË°åÂ∞ÅË£ÖÔºå‰∏∫Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫application.jsÂÆûÁé∞‰∏Ä‰∏™ApplicationÁ±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞Ôºö let http = require(&apos;http&apos;); class Application{ constructor() { this.callbackFunc; } listen(port) { let server = http.createServer(this.callback()); server.listen(port); } use(fn) { this.callbackFunc = fn; } callback() { return(req, res) =&gt; { this.callbackFunc(req, res); }; } } module.exports = Application; ÁÑ∂ÂêéÂàõÂª∫example.jsÔºåÂºïÂÖ•application.jsÔºåËøêË°åÊúçÂä°Âô®ÂÆû‰æãÂêØÂä®ÁõëÂê¨‰ª£Á†ÅÔºö let Koa = require(&apos;./application&apos;); let app = new Koa(); app.use((req, res) =&gt; { res.writeHead(200); res.end(&apos;hello world&apos;); }); app.listen(3000, () =&gt; { console.log(&apos;listening on 3000&apos;); }); Áé∞Âú®Âú®ÊµèËßàÂô®ËæìÂÖ•localhost:3000Âç≥ÂèØÁúãÂà∞ÊµèËßàÂô®ÈáåÊòæÁ§∫‚Äúhello world‚Äù„ÄÇÁé∞Âú®Á¨¨‰∏ÄÊ≠•Êàë‰ª¨Â∑≤ÁªèÂÆåÊàê‰∫ÜÔºåÂØπhttp serverËøõË°å‰∫ÜÁÆÄÂçïÁöÑÂ∞ÅË£ÖÂíåÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•ÁîüÊàêkoaÂÆû‰æãÁöÑÁ±ªclassÔºåËøô‰∏™Á±ªÈáåËøòÂÆûÁé∞‰∫Üapp.useÁî®Êù•Ê≥®ÂÜå‰∏≠Èó¥‰ª∂ÂíåÊ≥®ÂÜåÂõûË∞ÉÂáΩÊï∞Ôºåapp.listenÁî®Êù•ÂºÄÂêØÊúçÂä°Âô®ÂÆû‰æãÂπ∂‰º†ÂÖ•callbackÂõûË∞ÉÂáΩÊï∞ÔºåÁ¨¨‰∏ÄÊ®°Âùó‰∏ªË¶ÅÊòØÂÆûÁé∞ÂÖ∏ÂûãÁöÑkoaÈ£éÊ†ºÂíåÊê≠Â•Ω‰∫Ü‰∏Ä‰∏™koaÁöÑÁÆÄÂçïÁöÑÊû∂Â≠ê„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂºÄÂßãÁºñÂÜôÂíåËÆ≤Ëß£Á¨¨‰∫åÊ®°Âùó„ÄÇ Ê®°Âùó‰∫åÔºöÊûÑÈÄ†request„ÄÅresponse„ÄÅcontextÂØπË±°ÈòÖËØªkoa2ÁöÑÊ∫êÁ†ÅÂæóÁü•ÔºåÂÖ∂‰∏≠context.js„ÄÅrequest.js„ÄÅresponse.js‰∏â‰∏™Êñá‰ª∂ÂàÜÂà´ÊòØrequest„ÄÅresponse„ÄÅcontext‰∏â‰∏™Ê®°ÂùóÁöÑ‰ª£Á†ÅÊñá‰ª∂„ÄÇcontextÂ∞±ÊòØÊàë‰ª¨Âπ≥Êó∂ÂÜôkoa‰ª£Á†ÅÊó∂ÁöÑctxÔºåÂÆÉÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑkoaÂÆû‰æã‰∏ä‰∏ãÊñáthisÔºåÂÆÉËøûÊé•‰∫Ürequest„ÄÅresponse‰∏§‰∏™ÂäüËÉΩÊ®°ÂùóÔºåÂπ∂‰∏îÊö¥Èú≤ÁªôkoaÁöÑÂÆû‰æãÂíå‰∏≠Èó¥‰ª∂Á≠âÂõûË∞ÉÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏≠ÔºåËµ∑Âà∞Êâø‰∏äÂêØ‰∏ãÁöÑ‰ΩúÁî®„ÄÇ request„ÄÅresponse‰∏§‰∏™ÂäüËÉΩÊ®°ÂùóÂàÜÂà´ÂØπnodeÁöÑÂéüÁîürequest„ÄÅresponseËøõË°å‰∫Ü‰∏Ä‰∏™ÂäüËÉΩÁöÑÂ∞ÅË£ÖÔºå‰ΩøÁî®‰∫ÜgetterÂíåsetterÂ±ûÊÄßÔºåÂü∫‰∫énodeÁöÑÂØπË±°req/resÂØπË±°Â∞ÅË£ÖkoaÁöÑrequest/responseÂØπË±°„ÄÇÊàë‰ª¨Âü∫‰∫éËøô‰∏™ÂéüÁêÜÁÆÄÂçïÂÆûÁé∞‰∏Ä‰∏ãrequest.js„ÄÅresponse.jsÔºåÈ¶ñÂÖàÂàõÂª∫request.jsÊñá‰ª∂ÔºåÁÑ∂ÂêéÂÜôÂÖ•‰ª•‰∏ã‰ª£Á†ÅÔºö let url = require(&apos;url&apos;); module.exports = { get query() { return url.parse(this.req.url, true).query; } }; ËøôÊ†∑ÂΩì‰Ω†Âú®koaÂÆû‰æãÈáå‰ΩøÁî®ctx.queryÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöËøîÂõûurl.parse(this.req.url, true).queryÁöÑÂÄº„ÄÇÁúãÊ∫êÁ†ÅÂèØÁü•ÔºåÂü∫‰∫égetterÂíåsetterÔºåÂú®request.jsÈáåËøòÂ∞ÅË£Ö‰∫Üheader„ÄÅurl„ÄÅorigin„ÄÅpathÁ≠âÊñπÊ≥ïÔºåÈÉΩÊòØÂØπÂéüÁîüÁöÑrequest‰∏äÁî®getterÂíåsetterËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÁ¨îËÄÖ‰∏çÂÜçËøôÈáå‰∏Ä‰∏ÄÂÆûÁé∞„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÂÆûÁé∞response.jsÊñá‰ª∂‰ª£Á†ÅÊ®°ÂùóÔºåÂÆÉÂíårequestÂéüÁêÜ‰∏ÄÊ†∑Ôºå‰πüÊòØÂü∫‰∫égetterÂíåsetterÂØπÂéüÁîüresponseËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÈÇ£Êàë‰ª¨Êé•‰∏ãÊù•ÈÄöËøáÂØπÂ∏∏Áî®ÁöÑctx.bodyÂíåctx.statusËøô‰∏™‰∏§‰∏™ËØ≠Âè•ÂΩìÂÅö‰æãÂ≠êÁÆÄËø∞‰∏Ä‰∏ãÂ¶ÇÊûúÂÆûÁé∞koaÁöÑresponseÁöÑÊ®°ÂùóÔºåÊàë‰ª¨È¶ñÂÖàÂàõÂª∫Â•Ωresponse.jsÊñá‰ª∂ÔºåÁÑ∂ÂêéËæìÂÖ•‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö module.exports = { get body() { returnthis._body; }, set body(data) { this._body = data; }, get status() { returnthis.res.statusCode; }, set status(statusCode) { if (typeof statusCode !== &apos;number&apos;) { thrownewError(&apos;something wrong!&apos;); } this.res.statusCode = statusCode; } }; ‰ª•‰∏ä‰ª£Á†ÅÂÆûÁé∞‰∫ÜÂØπkoaÁöÑstatusÁöÑËØªÂèñÂíåËÆæÁΩÆÔºåËØªÂèñÁöÑÊó∂ÂÄôËøîÂõûÁöÑÊòØÂü∫‰∫éÂéüÁîüÁöÑresponseÂØπË±°ÁöÑstatusCodeÂ±ûÊÄßÔºåËÄåbodyÁöÑËØªÂèñÂàôÊòØÂØπthis._bodyËøõË°åËØªÂÜôÂíåÊìç‰Ωú„ÄÇËøôÈáåÂØπbodyËøõË°åÊìç‰ΩúÂπ∂Ê≤°Êúâ‰ΩøÁî®ÂéüÁîüÁöÑthis.res.endÔºåÂõ†‰∏∫Âú®Êàë‰ª¨ÁºñÂÜôkoa‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºå‰ºöÂØπbodyËøõË°åÂ§öÊ¨°ÁöÑËØªÂèñÂíå‰øÆÊîπÔºåÊâÄ‰ª•ÁúüÊ≠£ËøîÂõûÊµèËßàÂô®‰ø°ÊÅØÁöÑÊìç‰ΩúÊòØÂú®application.jsÈáåËøõË°åÂ∞ÅË£ÖÂíåÊìç‰Ωú„ÄÇ Áé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫Ürequest.js„ÄÅresponse.jsÔºåËé∑ÂèñÂà∞‰∫Ürequest„ÄÅresponseÂØπË±°Âíå‰ªñ‰ª¨ÁöÑÂ∞ÅË£ÖÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÊàë‰ª¨ÂºÄÂßãÂÆûÁé∞context.jsÔºåcontextÁöÑ‰ΩúÁî®Â∞±ÊòØÂ∞Ürequest„ÄÅresponseÂØπË±°ÊåÇËΩΩÂà∞ctxÁöÑ‰∏äÈù¢ÔºåËÆ©koaÂÆû‰æãÂíå‰ª£Á†ÅËÉΩÊñπ‰æøÁöÑ‰ΩøÁî®Âà∞request„ÄÅresponseÂØπË±°‰∏≠ÁöÑÊñπÊ≥ï„ÄÇÁé∞Âú®Êàë‰ª¨ÂàõÂª∫context.jsÊñá‰ª∂ÔºåËæìÂÖ•Â¶Ç‰∏ã‰ª£Á†ÅÔºö let proto = {}; function delegateSet(property, name) { proto.__defineSetter__(name, function (val) { this[property][name] = val; }); } function delegateGet(property, name) { proto.__defineGetter__(name, function () { returnthis[property][name]; }); } let requestSet = []; let requestGet = [&apos;query&apos;]; let responseSet = [&apos;body&apos;, &apos;status&apos;]; let responseGet = responseSet; requestSet.forEach(ele =&gt; { delegateSet(&apos;request&apos;, ele); }); requestGet.forEach(ele =&gt; { delegateGet(&apos;request&apos;, ele); }); responseSet.forEach(ele =&gt; { delegateSet(&apos;response&apos;, ele); }); responseGet.forEach(ele =&gt; { delegateGet(&apos;response&apos;, ele); }); module.exports = proto; context.jsÊñá‰ª∂‰∏ªË¶ÅÊòØÂØπÂ∏∏Áî®ÁöÑrequestÂíåresponseÊñπÊ≥ïËøõË°åÊåÇËΩΩÂíå‰ª£ÁêÜÔºåÈÄöËøácontext.queryÁõ¥Êé•‰ª£ÁêÜ‰∫Ücontext.request.queryÔºåcontext.bodyÂíåcontext.status‰ª£ÁêÜ‰∫Ücontext.response.body‰∏écontext.response.status„ÄÇËÄåcontext.requestÔºåcontext.responseÂàô‰ºöÂú®application.js‰∏≠ÊåÇËΩΩ Êú¨Êù•ÂèØ‰ª•Áî®ÁÆÄÂçïÁöÑsetterÂíågetterÂéªËÆæÁΩÆÊØè‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰ΩÜÊòØÁî±‰∫écontextÂØπË±°ÂÆö‰πâÊñπÊ≥ïÊØîËæÉÁÆÄÂçïÂíåËßÑËåÉÔºåÂú®koaÊ∫êÁ†ÅÈáåÂèØ‰ª•ÁúãÂà∞ÔºåkoaÊ∫êÁ†ÅÁî®ÁöÑÊòØdefineSetterÂíådefineSetterÊù•‰ª£Êõøsetter/getterÊØè‰∏Ä‰∏™Â±ûÊÄßÁöÑËØªÂèñËÆæÁΩÆÔºåËøôÊ†∑ÂÅö‰∏ªË¶ÅÊòØÊñπ‰æøÊãìÂ±ïÂíåÁ≤æÁÆÄ‰∫ÜÂÜôÊ≥ïÔºåÂΩìÊàë‰ª¨ÈúÄË¶Å‰ª£ÁêÜÊõ¥Â§öÁöÑresÂíåreqÁöÑÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•Âêëcontext.jsÊñá‰ª∂ÈáåÈù¢ÁöÑÊï∞ÁªÑÂØπË±°ÈáåÈù¢Ê∑ªÂä†ÂØπÂ∫îÁöÑÊñπÊ≥ïÂêçÂíåÂ±ûÊÄßÂêçÂç≥ÂèØ„ÄÇ ÁõÆÂâç‰∏∫Ê≠¢ÔºåÊàë‰ª¨Â∑≤ÁªèÂæóÂà∞‰∫Ürequest„ÄÅresponse„ÄÅcontext‰∏â‰∏™Ê®°ÂùóÂØπË±°‰∫ÜÔºåÊé•‰∏ãÊù•Â∞±ÊòØÂ∞Ürequest„ÄÅresponseÊâÄÊúâÊñπÊ≥ïÊåÇËΩΩÂà∞context‰∏ãÔºåËÆ©contextÂÆûÁé∞ÂÆÉÁöÑÊâø‰∏äÂêØ‰∏ãÁöÑ‰ΩúÁî®Ôºå‰øÆÊîπapplication.jsÊñá‰ª∂ÔºåÊ∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö let http = require(&apos;http&apos;); let context = require(&apos;./context&apos;); let request = require(&apos;./request&apos;); let response = require(&apos;./response&apos;); createContext(req, res) { let ctx = Object.create(this.context); ctx.request = Object.create(this.request); ctx.response = Object.create(this.response); ctx.req = ctx.request.req = req; ctx.res = ctx.response.res = res; return ctx; } ÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨Ê∑ªÂä†‰∫ÜcreateContextËøô‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊòØÂÖ≥ÈîÆÔºåÂÆÉÈÄöËøáObject.createÂàõÂª∫‰∫ÜctxÔºåÂπ∂Â∞ÜrequestÂíåresponseÊåÇËΩΩÂà∞‰∫Üctx‰∏äÈù¢ÔºåÂ∞ÜÂéüÁîüÁöÑreqÂíåresÊåÇËΩΩÂà∞‰∫ÜctxÁöÑÂ≠êÂ±ûÊÄß‰∏äÔºåÂæÄÂõûÁúã‰∏Ä‰∏ãcontext/request/response.jsÊñá‰ª∂ÔºåÂ∞±ËÉΩÁü•ÈÅìÂΩìÊó∂‰ΩøÁî®ÁöÑthis.resÊàñËÄÖthis.response‰πãÁ±ªÁöÑÊòØ‰ªéÂì™ÈáåÊù•ÁöÑ‰∫ÜÔºåÂéüÊù•ÊòØÂú®Ëøô‰∏™createContextÊñπÊ≥ï‰∏≠ÊåÇËΩΩÂà∞‰∫ÜÂØπÂ∫îÁöÑÂÆû‰æã‰∏äÔºåÊûÑÂª∫‰∫ÜËøêË°åÊó∂‰∏ä‰∏ãÊñáctx‰πãÂêéÔºåÊàë‰ª¨ÁöÑapp.useÂõûË∞ÉÂáΩÊï∞ÂèÇÊï∞Â∞±ÈÉΩÂü∫‰∫éctx‰∫Ü„ÄÇ Ê®°Âùó‰∏âÔºö‰∏≠Èó¥‰ª∂Êú∫Âà∂ÂíåÂâ•Ê¥ãËë±Ê®°ÂûãÁöÑÂÆûÁé∞ÁõÆÂâç‰∏∫Ê≠¢Êàë‰ª¨Â∑≤ÁªèÊàêÂäüÂÆûÁé∞‰∫Ü‰∏ä‰∏ãÊñácontextÂØπË±°„ÄÅ ËØ∑Ê±ÇrequestÂØπË±°ÂíåÂìçÂ∫îresponseÂØπË±°Ê®°ÂùóÔºåËøòÂ∑Æ‰∏Ä‰∏™ÊúÄÈáçË¶ÅÁöÑÊ®°ÂùóÔºåÂ∞±ÊòØkoaÁöÑ‰∏≠Èó¥‰ª∂Ê®°ÂùóÔºåkoaÁöÑ‰∏≠Èó¥‰ª∂Êú∫Âà∂ÊòØ‰∏Ä‰∏™Ââ•Ê¥ãËë±ÂºèÁöÑÊ®°ÂûãÔºåÂ§ö‰∏™‰∏≠Èó¥‰ª∂ÈÄöËøáuseÊîæËøõ‰∏Ä‰∏™Êï∞ÁªÑÈòüÂàóÁÑ∂Âêé‰ªéÂ§ñÂ±ÇÂºÄÂßãÊâßË°åÔºåÈÅáÂà∞nextÂêéËøõÂÖ•ÈòüÂàó‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÔºåÊâÄÊúâ‰∏≠Èó¥‰ª∂ÊâßË°åÂÆåÂêéÂºÄÂßãÂõûÂ∏ßÔºåÊâßË°åÈòüÂàó‰∏≠‰πãÂâç‰∏≠Èó¥‰ª∂‰∏≠Êú™ÊâßË°åÁöÑ‰ª£Á†ÅÈÉ®ÂàÜÔºåËøôÂ∞±ÊòØÂâ•Ê¥ãËë±Ê®°ÂûãÔºåkoaÁöÑ‰∏≠Èó¥‰ª∂Êú∫Âà∂„ÄÇ koaÁöÑÂâ•Ê¥ãËë±Ê®°ÂûãÂú®koa1‰∏≠‰ΩøÁî®ÁöÑÊòØgenerator + co.jsÂéªÂÆûÁé∞ÁöÑÔºåkoa2Âàô‰ΩøÁî®‰∫Üasync/await + PromiseÂéªÂÆûÁé∞ÁöÑÔºåÊé•‰∏ãÊù•Êàë‰ª¨Âü∫‰∫éasync/await + PromiseÂéªÂÆûÁé∞koa2‰∏≠ÁöÑ‰∏≠Èó¥‰ª∂Êú∫Âà∂„ÄÇÈ¶ñÂÖàÔºåÂÅáËÆæÂΩìkoaÁöÑ‰∏≠Èó¥‰ª∂Êú∫Âà∂Â∑≤ÁªèÂÅöÂ•Ω‰∫ÜÔºåÈÇ£‰πàÂÆÉÊòØËÉΩÊàêÂäüËøêË°å‰∏ãÈù¢‰ª£Á†ÅÁöÑÔºö let Koa = require(&apos;../src/application&apos;); let app = new Koa(); app.use(async (ctx, next) =&gt; { console.log(1); await next(); console.log(6); }); app.use(async (ctx, next) =&gt; { console.log(2); await next(); console.log(5); }); app.use(async (ctx, next) =&gt; { console.log(3); ctx.body = &quot;hello world&quot;; console.log(4); }); app.listen(3000, () =&gt; { console.log(&apos;listenning on 3000&apos;); }); ËøêË°åÊàêÂäüÂêé‰ºöÂú®ÁªàÁ´ØËæìÂá∫123456ÔºåÈÇ£Â∞±ËÉΩÈ™åËØÅÊàë‰ª¨ÁöÑkoaÁöÑÂâ•Ê¥ãËë±Ê®°ÂûãÊòØÊ≠£Á°ÆÁöÑ„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂºÄÂßãÂÆûÁé∞Ôºå‰øÆÊîπapplication.jsÊñá‰ª∂ÔºåÊ∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö compose() { return async ctx =&gt; { function createNext(middleware, oldNext) { return async () =&gt; { await middleware(ctx, oldNext); } } let len = this.middlewares.length; let next = async () =&gt; { return Promise.resolve(); }; for (let i = len - 1; i &gt;= 0; i--) { let currentMiddleware = this.middlewares[i]; next = createNext(currentMiddleware, next); } await next(); }; } callback() { return(req, res) =&gt; { let ctx = this.createContext(req, res); let respond = () =&gt;this.responseBody(ctx); let onerror = (err) =&gt;this.onerror(err, ctx); let fn = this.compose(); return fn(ctx); }; } koaÈÄöËøáuseÂáΩÊï∞ÔºåÊääÊâÄÊúâÁöÑ‰∏≠Èó¥‰ª∂pushÂà∞‰∏Ä‰∏™ÂÜÖÈÉ®Êï∞ÁªÑÈòüÂàóthis.middlewares‰∏≠ÔºåÂâ•Ê¥ãËë±Ê®°ÂûãËÉΩËÆ©ÊâÄÊúâÁöÑ‰∏≠Èó¥‰ª∂‰æùÊ¨°ÊâßË°åÔºåÊØèÊ¨°ÊâßË°åÂÆå‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÔºåÈÅáÂà∞next()Â∞±‰ºöÂ∞ÜÊéßÂà∂ÊùÉ‰º†ÈÄíÂà∞‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ôºå‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑnextÂèÇÊï∞ÔºåÂâ•Ê¥ãËë±Ê®°ÂûãÁöÑÊúÄÂÖ≥ÈîÆ‰ª£Á†ÅÊòØcomposeËøô‰∏™ÂáΩÊï∞Ôºö compose() { return async ctx =&gt; { function createNext(middleware, oldNext) { returnasync () =&gt; { await middleware(ctx, oldNext); } } let len = this.middlewares.length; let next = async () =&gt; { return Promise.resolve(); }; for (let i = len - 1; i &gt;= 0; i--) { let currentMiddleware = this.middlewares[i]; next = createNext(currentMiddleware, next); } await next(); }; } createNextÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÂ∞Ü‰∏ä‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑnextÂΩìÂÅöÂèÇÊï∞‰º†Áªô‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÔºåÂπ∂‰∏îÂ∞Ü‰∏ä‰∏ãÊñáctxÁªëÂÆöÂΩìÂâç‰∏≠Èó¥‰ª∂ÔºåÂΩì‰∏≠Èó¥‰ª∂ÊâßË°åÂÆåÔºåË∞ÉÁî®next()ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂéªÊâßË°å‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂„ÄÇ for (let i = len - 1; i &gt;= 0; i--) { let currentMiddleware = this.middlewares[i]; next = createNext(currentMiddleware, next); } ‰∏äÈù¢ËøôÊÆµ‰ª£Á†ÅÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÈìæÂºèÂèçÂêëÈÄíÂΩíÊ®°ÂûãÁöÑÂÆûÁé∞ÔºåiÊòØ‰ªéÊúÄÂ§ßÊï∞ÂºÄÂßãÂæ™ÁéØÁöÑÔºåÂ∞Ü‰∏≠Èó¥‰ª∂‰ªéÊúÄÂêé‰∏Ä‰∏™ÂºÄÂßãÂ∞ÅË£ÖÔºåÊØè‰∏ÄÊ¨°ÈÉΩÊòØÂ∞ÜËá™Â∑±ÁöÑÊâßË°åÂáΩÊï∞Â∞ÅË£ÖÊàênextÂΩìÂÅö‰∏ä‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑnextÂèÇÊï∞ÔºåËøôÊ†∑ÂΩìÂæ™ÁéØÂà∞Á¨¨‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÊâßË°å‰∏ÄÊ¨°next()ÔºåÂ∞±ËÉΩÈìæÂºèÁöÑÈÄíÂΩíË∞ÉÁî®ÊâÄÊúâ‰∏≠Èó¥‰ª∂ÔºåËøô‰∏™Â∞±ÊòØkoaÂâ•Ê¥ãËë±ÁöÑÊ†∏ÂøÉ‰ª£Á†ÅÊú∫Âà∂„ÄÇ Âà∞ËøôÈáåÊàë‰ª¨ÊÄªÁªì‰∏Ä‰∏ã‰∏äÈù¢ÊâÄÊúâÂâ•Ê¥ãËë±Ê®°Âûã‰ª£Á†ÅÁöÑÊµÅÁ®ãÔºåÈÄöËøáuse‰º†ËøõÊù•ÁöÑ‰∏≠Èó¥‰ª∂ÊòØ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂõûË∞ÉÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØctx‰∏ä‰∏ãÊñáÂíånextÔºånextÂÖ∂ÂÆûÂ∞±ÊòØÊéßÂà∂ÊùÉÁöÑ‰∫§Êé•Ê£íÔºånextÁöÑ‰ΩúÁî®ÊòØÂÅúÊ≠¢ËøêË°åÂΩìÂâç‰∏≠Èó¥‰ª∂ÔºåÂ∞ÜÊéßÂà∂ÊùÉ‰∫§Áªô‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÔºåÊâßË°å‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑnext()‰πãÂâçÁöÑ‰ª£Á†ÅÔºåÂΩì‰∏ã‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ËøêË°åÁöÑ‰ª£Á†ÅÈÅáÂà∞‰∫Ünext()ÔºåÂèà‰ºöÂ∞Ü‰ª£Á†ÅÊâßË°åÊùÉ‰∫§Áªô‰∏ã‰∏ã‰∏™‰∏≠Èó¥‰ª∂ÔºåÂΩìÊâßË°åÂà∞ÊúÄÂêé‰∏Ä‰∏™‰∏≠Èó¥‰ª∂ÁöÑÊó∂ÂÄôÔºåÊéßÂà∂ÊùÉÂèëÁîüÂèçËΩ¨ÔºåÂºÄÂßãÂõûÂ§¥ÂéªÊâßË°å‰πãÂâçÊâÄÊúâ‰∏≠Èó¥‰ª∂‰∏≠Ââ©‰∏ãÊú™ÊâßË°åÁöÑ‰ª£Á†ÅÔºåËøôÊï¥‰∏™ÊµÅÁ®ãÊúâÁÇπÂÉè‰∏Ä‰∏™‰º™ÈÄíÂΩíÔºåÂΩìÊúÄÁªàÊâÄÊúâ‰∏≠Èó¥‰ª∂ÂÖ®ÈÉ®ÊâßË°åÂÆåÂêéÔºå‰ºöËøîÂõû‰∏Ä‰∏™PromiseÂØπË±°ÔºåÂõ†‰∏∫Êàë‰ª¨ÁöÑcomposeÂáΩÊï∞ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™asyncÁöÑÂáΩÊï∞ÔºåasyncÂáΩÊï∞ÊâßË°åÂÆåÂêé‰ºöËøîÂõû‰∏Ä‰∏™PromiseÔºåËøôÊ†∑Êàë‰ª¨Â∞±ËÉΩÂ∞ÜÊâÄÊúâÁöÑ‰∏≠Èó¥‰ª∂ÂºÇÊ≠•ÊâßË°åÂêåÊ≠•ÂåñÔºåÈÄöËøáthenÂ∞±ÂèØ‰ª•ÊâßË°åÂìçÂ∫îÂáΩÊï∞ÂíåÈîôËØØÂ§ÑÁêÜÂáΩÊï∞„ÄÇ ÂΩì‰∏≠Èó¥‰ª∂Êú∫Âà∂‰ª£Á†ÅÂÜôÂ•Ω‰∫Ü‰ª•ÂêéÔºåËøêË°åÊàë‰ª¨ÁöÑ‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∑≤ÁªèËÉΩËæìÂá∫123456‰∫ÜÔºåËá≥Ê≠§ÔºåÊàë‰ª¨ÁöÑkoaÁöÑÂü∫Êú¨Ê°ÜÊû∂Â∑≤ÁªèÂü∫Êú¨ÂÅöÂ•Ω‰∫ÜÔºå‰∏çËøá‰∏Ä‰∏™Ê°ÜÊû∂‰∏çËÉΩÂè™ÂÆûÁé∞ÂäüËÉΩÔºå‰∏∫‰∫ÜÊ°ÜÊû∂ÂíåÊúçÂä°Âô®ÂÆû‰æãÁöÑÂÅ•Â£ÆÔºåËøòÈúÄË¶ÅÂä†‰∏äÈîôËØØÂ§ÑÁêÜÊú∫Âà∂„ÄÇ Ê®°ÂùóÂõõÔºöÈîôËØØÊçïËé∑ÂíåÈîôËØØÂ§ÑÁêÜË¶ÅÂÆûÁé∞‰∏Ä‰∏™Âü∫Á°ÄÊ°ÜÊû∂ÔºåÈîôËØØÂ§ÑÁêÜÂíåÊçïËé∑ÂøÖ‰∏çÂèØÂ∞ëÔºå‰∏Ä‰∏™ÂÅ•Â£ÆÁöÑÊ°ÜÊû∂ÔºåÂøÖÈ°ª‰øùËØÅÂú®ÂèëÁîüÈîôËØØÁöÑÊó∂ÂÄôÔºåËÉΩÂ§üÊçïËé∑Âà∞ÈîôËØØÂíåÊäõÂá∫ÁöÑÂºÇÂ∏∏ÔºåÂπ∂ÂèçÈ¶àÂá∫Êù•ÔºåÂ∞ÜÈîôËØØ‰ø°ÊÅØÂèëÈÄÅÂà∞ÁõëÊéßÁ≥ªÁªü‰∏äËøõË°åÂèçÈ¶àÔºåÁõÆÂâçÊàë‰ª¨ÂÆûÁé∞ÁöÑÁÆÄÊòìkoaÊ°ÜÊû∂ËøòÊ≤°ÊúâËÉΩÂÆûÁé∞Ëøô‰∏ÄÁÇπÔºåÊàë‰ª¨Êé•‰∏ãÂä†‰∏äÈîôËØØÂ§ÑÁêÜÂíåÊçïËé∑ÁöÑÊú∫Âà∂„ÄÇ throw new Error(&apos;oooops&apos;); Âü∫‰∫éÁé∞Âú®ÁöÑÊ°ÜÊû∂ÔºåÂ¶ÇÊûú‰∏≠Èó¥‰ª∂‰ª£Á†Å‰∏≠Âá∫Áé∞Â¶Ç‰∏äÈîôËØØÂºÇÂ∏∏ÊäõÂá∫ÔºåÊòØÊçïËé∑‰∏çÂà∞ÈîôËØØÁöÑÔºåËøôÊó∂ÂÄôÊàë‰ª¨Áúã‰∏Ä‰∏ãapplication.js‰∏≠ÁöÑcallbackÂáΩÊï∞ÁöÑreturnËøîÂõû‰ª£Á†ÅÔºåÂ¶Ç‰∏ãÔºö return fn(ctx).then(respond); ÂèØ‰ª•ÁúãÂà∞ÔºåfnÊòØ‰∏≠Èó¥‰ª∂ÁöÑÊâßË°åÂáΩÊï∞ÔºåÊØè‰∏Ä‰∏™‰∏≠Èó¥‰ª∂‰ª£Á†ÅÈÉΩÊòØÁî±asyncÂåÖË£πÁùÄÁöÑÔºåËÄå‰∏î‰∏≠Èó¥‰ª∂ÁöÑÊâßË°åÂáΩÊï∞composeËøîÂõûÁöÑ‰πüÊòØ‰∏Ä‰∏™asyncÂáΩÊï∞ÔºåÊàë‰ª¨Ê†πÊçÆes7ÁöÑËßÑËåÉÁü•ÈÅìÔºåasyncËøîÂõûÁöÑÊòØ‰∏Ä‰∏™promiseÁöÑÂØπË±°ÂÆû‰æãÔºåÊàë‰ª¨Â¶ÇÊûúÊÉ≥Ë¶ÅÊçïËé∑promiseÁöÑÈîôËØØÔºåÂè™ÈúÄË¶Å‰ΩøÁî®promiseÁöÑcatchÊñπÊ≥ïÔºåÂ∞±ÂèØ‰ª•ÊääÊâÄÊúâÁöÑ‰∏≠Èó¥‰ª∂ÁöÑÂºÇÂ∏∏ÂÖ®ÈÉ®ÊçïËé∑Âà∞Ôºå‰øÆÊîπÂêécallbackÁöÑËøîÂõû‰ª£Á†ÅÂ¶Ç‰∏ãÔºö return fn(ctx).then(respond).catch(onerror); Áé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫Ü‰∏≠Èó¥‰ª∂ÁöÑÈîôËØØÂºÇÂ∏∏ÊçïËé∑Ôºå‰ΩÜÊòØÊàë‰ª¨ËøòÁº∫Â∞ëÊ°ÜÊû∂Â±ÇÂèëÁîüÈîôËØØÁöÑÊçïËé∑Êú∫Âà∂ÔºåÊàë‰ª¨Â∏åÊúõÊàë‰ª¨ÁöÑÊúçÂä°Âô®ÂÆû‰æãËÉΩÊúâÈîôËØØ‰∫ã‰ª∂ÁöÑÁõëÂê¨Êú∫Âà∂ÔºåÈÄöËøáonÁöÑÁõëÂê¨ÂáΩÊï∞Â∞±ËÉΩËÆ¢ÈòÖÂíåÁõëÂê¨Ê°ÜÊû∂Â±ÇÈù¢‰∏äÁöÑÈîôËØØÔºåÂÆûÁé∞Ëøô‰∏™Êú∫Âà∂‰∏çÈöæÔºå‰ΩøÁî®nodejsÂéüÁîüeventsÊ®°ÂùóÂç≥ÂèØÔºåeventsÊ®°ÂùóÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∫ã‰ª∂ÁõëÂê¨onÂáΩÊï∞Âíå‰∫ã‰ª∂Ëß¶ÂèëemitË°å‰∏∫ÂáΩÊï∞Ôºå‰∏Ä‰∏™ÂèëÂ∞Ñ‰∫ã‰ª∂Ôºå‰∏Ä‰∏™Ë¥üË¥£Êé•Êî∂‰∫ã‰ª∂ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ∞ÜkoaÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁªßÊâøeventsÊ®°ÂùóÂç≥ÂèØÔºåÊûÑÈÄ†ÂêéÁöÑ‰º™‰ª£Á†ÅÂ¶Ç‰∏ãÔºö let EventEmitter = require(&apos;events&apos;); class Application extends EventEmitter{} ÁªßÊâø‰∫ÜeventsÊ®°ÂùóÂêéÔºåÂΩìÊàë‰ª¨ÂàõÂª∫koaÂÆû‰æãÁöÑÊó∂ÂÄôÔºåÂä†‰∏äonÁõëÂê¨ÂáΩÊï∞Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö let app = new Koa(); app.on(&apos;error&apos;, err =&gt; { console.log(&apos;error happends: &apos;, err.stack); }); ËøôÊ†∑Êàë‰ª¨Â∞±ÂÆûÁé∞‰∫ÜÊ°ÜÊû∂Â±ÇÈù¢‰∏äÁöÑÈîôËØØÁöÑÊçïËé∑ÂíåÁõëÂê¨Êú∫Âà∂‰∫Ü„ÄÇÊÄªÁªì‰∏Ä‰∏ãÔºåÈîôËØØÂ§ÑÁêÜÂíåÊçïËé∑ÔºåÂàÜ‰∏≠Èó¥‰ª∂ÁöÑÈîôËØØÂ§ÑÁêÜÊçïËé∑ÂíåÊ°ÜÊû∂Â±ÇÁöÑÈîôËØØÂ§ÑÁêÜÊçïËé∑Ôºå‰∏≠Èó¥‰ª∂ÁöÑÈîôËØØÂ§ÑÁêÜÁî®promiseÁöÑcatchÔºåÊ°ÜÊû∂Â±ÇÈù¢ÁöÑÈîôËØØÂ§ÑÁêÜÁî®nodejsÁöÑÂéüÁîüÊ®°ÂùóeventsÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Êää‰∏Ä‰∏™ÊúçÂä°Âô®ÂÆû‰æã‰∏äÁöÑÊâÄÊúâÁöÑÈîôËØØÂºÇÂ∏∏ÂÖ®ÈÉ®ÊçïËé∑Âà∞‰∫Ü„ÄÇËá≥Ê≠§ÔºåÊàë‰ª¨Â∞±ÂÆåÊï¥ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ËΩªÈáèÁâàÁöÑkoaÊ°ÜÊû∂‰∫Ü„ÄÇ ÁªìÂ∞æÂâç‰∏∫Ê≠¢ÔºåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ËΩªÈáèÁâàÁöÑkoaÊ°ÜÊû∂‰∫ÜÔºåÊàë‰ª¨ÂÆûÁé∞‰∫ÜÂ∞ÅË£Önode http server„ÄÅÂàõÂª∫KoaÁ±ªÊûÑÈÄ†ÂáΩÊï∞„ÄÅÊûÑÈÄ†request„ÄÅresponse„ÄÅcontextÂØπË±°„ÄÅ‰∏≠Èó¥‰ª∂Êú∫Âà∂ÂíåÂâ•Ê¥ãËë±Ê®°ÂûãÁöÑÂÆûÁé∞„ÄÅÈîôËØØÊçïËé∑ÂíåÈîôËØØÂ§ÑÁêÜËøôÂõõ‰∏™Â§ßÊ®°ÂùóÔºåÁêÜËß£‰∫ÜËøô‰∏™ËΩªÈáèÁâàkoaÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂÜçÂéªÁúãkoa2ÁöÑÊ∫êÁ†ÅÔºå‰Ω†Â∞±‰ºöÂèëÁé∞‰∏ÄÂàáÈÉΩË±ÅÁÑ∂ÂºÄÊúóÔºåkoa2ÁöÑÊ∫êÁ†ÅÊó†ÈùûÂ∞±ÊòØÂú®Ëøô‰∏™ËΩªÈáèÁâàÂü∫Á°Ä‰∏äÂä†‰∫ÜÂæàÂ§öÂ∑•ÂÖ∑ÂáΩÊï∞ÂíåÁªÜËäÇÁöÑÂ§ÑÁêÜÔºåÈôê‰∫éÁØáÂπÖÁ¨îËÄÖÂ∞±‰∏çÂÜç‰∏Ä‰∏Ä‰ªãÁªç‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue2ÁªÑ‰ª∂ÊáíÂä†ËΩΩ]]></title>
    <url>%2F2018%2F01%2F07%2FVue2%E7%BB%84%E4%BB%B6%E6%87%92%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÊáíÂä†ËΩΩÊáíÂä†ËΩΩ‰πüÂè´Âª∂ËøüÂä†ËΩΩÔºåÂç≥Âú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôËøõË°åÂä†ËΩΩÔºåÈöèÁî®ÈöèËΩΩ„ÄÇ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊáíÂä†ËΩΩÂú®ÂçïÈ°µÂ∫îÁî®‰∏≠ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∫îÁî®ÊáíÂä†ËΩΩÔºåËøêÁî®webpackÊâìÂåÖÂêéÁöÑÊñá‰ª∂Â∞Ü‰ºöÂºÇÂ∏∏ÁöÑÂ§ßÔºåÈÄ†ÊàêËøõÂÖ•È¶ñÈ°µÊó∂ÔºåÈúÄË¶ÅÂä†ËΩΩÁöÑÂÜÖÂÆπËøáÂ§öÔºåÂª∂Êó∂ËøáÈïøÔºå‰∏çÂà©‰∫éÁî®Êà∑‰ΩìÈ™åÔºåËÄåËøêÁî®ÊáíÂä†ËΩΩÂàôÂèØ‰ª•Â∞ÜÈ°µÈù¢ËøõË°åÂàíÂàÜÔºåÈúÄË¶ÅÁöÑÊó∂ÂÄôÂä†ËΩΩÈ°µÈù¢ÔºåÂèØ‰ª•ÊúâÊïàÁöÑÂàÜÊãÖÈ¶ñÈ°µÊâÄÊâøÊãÖÁöÑÂä†ËΩΩÂéãÂäõÔºåÂáèÂ∞ëÈ¶ñÈ°µÂä†ËΩΩÁî®Êó∂ Â¶Ç‰Ωï‰∏éwebpackÈÖçÂêàÂÆûÁé∞ÁªÑ‰ª∂ÊáíÂä†ËΩΩ 1„ÄÅÂú®webpackÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑoutputË∑ØÂæÑÈÖçÁΩÆchunkFilenameÂ±ûÊÄß123456output: &#123; path: resolve(__dirname, &apos;dist&apos;), filename: options.dev ? &apos;[name].js&apos; : &apos;[name].js?[chunkhash]&apos;, chunkFilename: &apos;chunk[id].js?[chunkhash]&apos;, publicPath: options.dev ? &apos;/assets/&apos; : publicPath &#125;, chunkFilenameË∑ØÂæÑÂ∞Ü‰ºö‰Ωú‰∏∫ÁªÑ‰ª∂ÊáíÂä†ËΩΩÁöÑË∑ØÂæÑ 2„ÄÅÈÖçÂêàwebpackÊîØÊåÅÁöÑÂºÇÊ≠•Âä†ËΩΩÊñπÊ≥ï resolve =&gt; require([URL], resolve), ÊîØÊåÅÊÄßÂ•Ω () =&gt; system.import(URL) , webpack2ÂÆòÁΩë‰∏äÂ∑≤ÁªèÂ£∞ÊòéÂ∞ÜÈÄêÊ∏êÂ∫üÈô§, ‰∏çÊé®Ëçê‰ΩøÁî® () =&gt; import(URL), webpack2ÂÆòÁΩëÊé®Ëçê‰ΩøÁî®, Â±û‰∫ées7ËåÉÁï¥, ÈúÄË¶ÅÈÖçÂêàbabelÁöÑsyntax-dynamic-importÊèí‰ª∂‰ΩøÁî®, ÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ã 123456789npm install --save-dev babel-core babel-loader babel-plugin-syntax-dynamic-import babel-preset-es2015use: [&#123; loader: &apos;babel-loader&apos;, options: &#123; presets: [[&apos;es2015&apos;, &#123;modules: false&#125;]], plugins: [&apos;syntax-dynamic-import&apos;] &#125; &#125;] ÂÖ∑‰ΩìÂÆû‰æã‰∏≠ÂÆûÁé∞ÊáíÂä†ËΩΩË∑ØÁî±‰∏≠ÈÖçÁΩÆÂºÇÊ≠•ÁªÑ‰ª∂12345678910export default new Router(&#123; routes: [ &#123; mode: &apos;history&apos;, path: &apos;/my&apos;, name: &apos;my&apos;, component: resolve =&gt; require([&apos;../page/my/my.vue&apos;], resolve),//ÊáíÂä†ËΩΩ &#125;, ]&#125;) ÂÆû‰æã‰∏≠ÈÖçÁΩÆÂºÇÊ≠•ÁªÑ‰ª∂ Êé®ËçêhistoryTab: () =&gt; import(&#39;../../component/historyTab/historyTab.vue&#39;) 1234components: &#123; historyTab: resolve =&gt; &#123;require([&apos;../../component/historyTab/historyTab.vue&apos;], resolve)&#125;,//ÊáíÂä†ËΩΩ //historyTab: () =&gt; import(&apos;../../component/historyTab/historyTab.vue&apos;) &#125;, ÂÖ®Â±ÄÊ≥®ÂÜåÂºÇÊ≠•ÁªÑ‰ª∂123Vue.component(&apos;mideaHeader&apos;, () =&gt; &#123; System.import(&apos;./component/header/header.vue&apos;)&#125;)]]></content>
      <tags>
        <tag>Vue</tag>
        <tag>ÊáíÂä†ËΩΩ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éViewport‰∏édevice-widthÁöÑ‰∏ÄÁÇπÁêÜËß£]]></title>
    <url>%2F2018%2F01%2F02%2F%E5%85%B3%E4%BA%8EViewport%E4%B8%8Edevice-width%E7%9A%84%E4%B8%80%E7%82%B9%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ÂÜçËøõË°åÁßªÂä®webÂºÄÂèëÁöÑÊó∂ÂÄôÈÉΩË¶ÅÂä†‰∏ÄÂè•Ôºö1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt; Êàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®ÁöÑÈáåÁöÑviewportÁ©∂Á´üÊòØ‰ªÄ‰πàÊÑèÊÄùÔºåËøôÈáåÁöÑdevice-widthË∑üÊàë‰ª¨Áî®JSËé∑ÂèñÂà∞ÁöÑÂ±èÂÆΩÁöÑÂå∫Âà´‰∏éËÅîÁ≥ªÂàÜÂà´ÊòØ‰ªÄ‰πàÔºå‰∏∫‰ªÄ‰πàÂéªÊéâÊ†áÁ≠æÂêéÈ°µÈù¢‰ºöÂèòÂæóÂæàÂ∞èÂæàÂ∞èÔºü ‰∏∫‰ªÄ‰πàÂæàÂ§öÂàÜËæ®ÁéáÂæàÂ§ßÁöÑÂ±èÂπïÂÆΩÂ∫¶ÂÖ∂ÂÆûÂπ∂‰∏çÂ§ßÔºåÂ±èÂπïÂàÜËæ®Áéá‰∏éÁî®JSËé∑ÂèñÂà∞ÁöÑÂ±èÂÆΩÁöÑÂå∫Âà´‰∏éËÅîÁ≥ªÂàÜÂà´ÂèàÊòØ‰ªÄ‰πàÔºü Ë¶ÅËØ¥Ëøô‰∏™ÔºåÂÖàÊù•‰∫ÜËß£‰∏ã‰∏Ä‰∫õÁßªÂä®Á´ØÂü∫Á°ÄÁü•ËØÜÔºö 1„ÄÅÁâ©ÁêÜÂÉèÁ¥†(ËÆæÂ§áÂÉèÁ¥†ÔºåÂàÜËæ®Áéá)ËÆæÂ§áÂÉèÁ¥†ÔºåÂú®Âêå‰∏Ä‰∏™ËÆæÂ§á‰∏äÔºåÂÆÉÁöÑÁâ©ÁêÜÂÉèÁ¥†ÊòØÂõ∫ÂÆöÁöÑÔºåËøôÊòØÂéÇÂïÜÂú®Âá∫ÂéÇÊó∂Â∞±ËÆæÁΩÆÂ•Ω‰∫ÜÁöÑÔºåÂç≥‰∏Ä‰∏™ËÆæÂ§áÁöÑÂàÜËæ®ÁéáÊòØÂõ∫ÂÆöÁöÑ„ÄÇ 2„ÄÅÈÄªËæëÂÉèÁ¥†(CSSÂÉèÁ¥†)CSSÂÉèÁ¥†Ôºåviewport‰∏≠ÁöÑ‰∏Ä‰∏™Â∞èÊñπÊ†ºÔºåCSSÊ†∑Âºè‰ª£Á†Å‰∏≠‰ΩøÁî®ÁöÑÊòØÈÄªËæëÂÉèÁ¥†„ÄÇÂ¶ÇÊûúÂú®‰∏Ä‰∏™ËÆæÂ§á‰∏≠ÔºåÁâ©ÁêÜÂÉèÁ¥†‰∏éÈÄªËæëÂÉèÁ¥†Áõ∏Á≠âÔºåÂ∞Ü‰∏ç‰ºö‰∫ßÁîü‰ªª‰ΩïÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÔºåÂú®iphone 4‰∏≠ÔºåÁâ©ÁêÜÂÉèÁ¥†ÊòØ640px960pxÔºåËÄåÈÄªËæëÂÉèÁ¥†Êï∞‰∏∫320480px„ÄÇÂõ†Ê≠§ÔºåÈúÄË¶Å‰ΩøÁî®Â§ßÁ∫¶4‰∏™Áâ©ÁêÜÂÉèÁ¥†Êù•ÊòæÁ§∫‰∏Ä‰∏™CSSÂÉèÁ¥†„ÄÇ 3„ÄÅÂÉèÁ¥†ÊØîÁâ©ÁêÜÂÉèÁ¥†‰∏éÈÄªËæëÂÉèÁ¥†‰πãÈó¥ÁöÑÊØî‰æã„ÄÇÂΩìÂÉèÁ¥†ÊØî‰∏∫1:1Êó∂Ôºå‰ΩøÁî®1‰∏™Áâ©ÁêÜÂÉèÁ¥†ÊòæÁ§∫1‰∏™ÈÄªËæëÂÉèÁ¥†ÔºõÂΩìÂÉèÁ¥†ÊØî‰∏∫2:1Êó∂Ôºå‰ΩøÁî®4‰∏™Áâ©ÁêÜÂÉèÁ¥†ÊòæÁ§∫1‰∏™ÈÄªËæëÂÉèÁ¥†„ÄÇ 4„ÄÅCSS‰∏≠ÁöÑ1pxÂπ∂‰∏çÁ≠â‰∫éËÆæÂ§áÁöÑ1pxÂú®CSS‰∏≠‰∏ÄËà¨‰ΩøÁî®px‰Ωú‰∏∫Âçï‰ΩçÔºåÂú®WebÊµèËßàÂô®‰∏≠CSSÁöÑ1‰∏™ÂÉèÁ¥†ÂæÄÂæÄÈÉΩÊòØÂØπÂ∫îÁùÄÁîµËÑëÂ±èÂπïÁöÑ1‰∏™Áâ©ÁêÜÂÉèÁ¥†ÔºåËøôÂèØËÉΩ‰ºöÈÄ†Êàê‰∏Ä‰∏™ÈîôËßâÔºåÈÇ£Â∞±ÊòØCSS‰∏≠ÁöÑÂÉèÁ¥†Â∞±ÊòØËÆæÂ§áÁöÑÁâ©ÁêÜÂÉèÁ¥†„ÄÇ‰ΩÜÂÆûÈôÖÊÉÖÂÜµÂç¥Âπ∂ÈùûÂ¶ÇÊ≠§ÔºåCSS‰∏≠ÁöÑÂÉèÁ¥†Âè™ÊòØ‰∏Ä‰∏™ÊäΩË±°ÁöÑÂçï‰ΩçÔºåÂú®‰∏çÂêåÁöÑËÆæÂ§áÊàñ‰∏çÂêåÁöÑÁéØÂ¢É‰∏≠ÔºåCSS‰∏≠ÁöÑ1pxÊâÄ‰ª£Ë°®ÁöÑËÆæÂ§áÁâ©ÁêÜÂÉèÁ¥†ÊòØ‰∏çÂêåÁöÑ„ÄÇÂú®Êó©ÂÖàÁöÑÁßªÂä®ËÆæÂ§á‰∏≠ÔºåÂ±èÂπïÂÉèÁ¥†ÂØÜÂ∫¶ÈÉΩÊØîËæÉ‰ΩéÔºåÂ¶Çiphone3ÔºåÂÆÉÁöÑÂàÜËæ®Áéá‰∏∫320480ÔºåÂú®iphone3‰∏äÔºå1‰∏™CSSÂÉèÁ¥†Á°ÆÂÆûÊòØÁ≠â‰∫é1‰∏™Áâ©ÁêÜÂÉèÁ¥†ÁöÑ„ÄÇÂêéÊù•ÈöèÁùÄÊäÄÊúØÁöÑÂèëÂ±ïÔºåÁßªÂä®ËÆæÂ§áÁöÑÂÉèÁ¥†Ë∂äÊù•Ë∂äÈ´òÔºå‰ªéiphone4ÂºÄÂßãÔºåÊé®Âá∫‰∫ÜÊâÄË∞ìÁöÑRetinaÂ±èÔºåÂàÜËæ®ÁéáÊèêÈ´ò‰∫Ü‰∏ÄÂÄçÔºåÂèòÊàê640960Ôºå‰ΩÜÂ±èÂπïÂ∞∫ÂØ∏Âç¥Ê≤°ÂèòÂåñÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÂêåÊ†∑Â§ßÂ∞èÁöÑÂ±èÂπï‰∏äÔºåÂÉèÁ¥†Âç¥Â§ö‰∫Ü‰∏ÄÂÄçÔºåËøôÊó∂Ôºå1‰∏™CSSÂÉèÁ¥†ÊòØÁ≠â‰∫é4‰∏™Áâ©ÁêÜÂÉèÁ¥†ÁöÑ„ÄÇ 5„ÄÅÂÆûÁé∞ÁúüÊ≠£ÁöÑ1Áâ©ÁêÜÂÉèÁ¥†ÂΩìviewportÁöÑÂ±ûÊÄßinitial-scale‰∏∫1Êó∂ÔºåÈ°µÈù¢Â§ßÂ∞èÊ≠£Â∏∏Ôºå‰ΩÜinitial-scale‰∏∫0.5Êó∂ÔºåÈ°µÈù¢Ë¢´Áº©Â∞è‰∫Ü1ÂÄçÔºåÂÉèÁ¥†ÊØî‰∏∫2:1ÁöÑËÆæÂ§áÊú¨Êù•1‰∏™CSSÂÉèÁ¥†ÂÆΩÂ∫¶Âç†2‰∏™Áâ©ÁêÜÂÉèÁ¥†ÂÆΩÂ∫¶ÔºåÁº©Â∞èÂêéÁöÑ1‰∏™CSSÂÉèÁ¥†ÂÆΩÂ∫¶Â∞±Âè™Âç†1‰∏™Áâ©ÁêÜÂÉèÁ¥†ÔºåÂç≥ÂÆûÁé∞‰∫ÜÁúüÊ≠£ÁöÑ1Áâ©ÁêÜÂÉèÁ¥†„ÄÇegÔºöborder-width:1pxÂπ∂‰∏çÊòØÊúÄÂ∞èËæπÊ°ÜÔºåÊµèËßàÂô®ÂèØ‰ª•ÊòæÁ§∫ÁöÑÊúÄÂ∞èÁ≤íÂ∫¶ÊØî1pxËøòË¶ÅÂ∞è„ÄÇ‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞ÊØîborder-width:1pxÊõ¥ÁªÜÁöÑËæπÊ°ÜÔºüÂ±èÂπïËÉΩÂ§üÊòæÁ§∫ÁöÑÊúÄÂ∞èÁ≤íÂ∫¶ÊòØ1‰∏™Áâ©ÁêÜÂÉèÁ¥†ÔºåiPhone4ÁöÑÂÉèÁ¥†ÊØî‰∏∫2ÔºåËÆæÁΩÆborder-width:1pxÂêéÔºåËæπÊ°ÜÂç†‰∫Ü4‰∏™Áâ©ÁêÜÂÉèÁ¥†ÔºåÂ¶ÇÊûúËÉΩËÆ©ËæπÊ°ÜÁöÑÂÆΩÂ∫¶‰∏∫1Áâ©ÁêÜÂÉèÁ¥†ÔºåÈÇ£‰πàÂÆÉÂ∞±ÊØî1‰∏™CSSÂÉèÁ¥†Ë¶ÅÁªÜÔºåËøôÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=0.5&quot;&gt;„ÄÇ CSS pixel‰∏édevice pixels (css px‰∏édevice px)È¶ñÂÖà‰∫ÜËß£‰∏ã‰ªÄ‰πàÊòØCSS pixelsÔºå‰ªÄ‰πàÊòØdevice pixelsÔºõ 1ÔºéCSS pixelsÂèØ‰ª•ÁêÜËß£‰∏∫cssÂÉèÁ¥†ÔºåÊòØÊµèËßàÂô®‰ΩøÁî®ÁöÑÊäΩË±°Âçï‰ΩçÔºå‰∏ªË¶ÅÁî®Êù•Âú®ÁΩëÈ°µ‰∏äÁªòÂà∂ÂÜÖÂÆπ„ÄÇ‰πüÂèØ‰ª•ËØ¥css pxÊòØ‰∏ìÈó®‰∏∫webÂºÄÂèëËÄÖÊèêÂá∫ÁöÑ‰∏Ä‰∏™ÊäΩË±°Ê¶ÇÂøµÔºå‰πüÂè™Ë∑üÊàë‰ª¨Âπ≥Êó∂ÂÜôÁöÑcssÊ†∑ÂºèÊúâÂÖ≥Ôºå‰∏éÂàÜËæ®ÁéáÔºàÊØîÂ¶Ç720px*1280pxÔºâÈáåÁöÑpxÊ≤°ÂÖ≥Á≥ª„ÄÇ 2Ôºé device pixelsÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØËÆæÂ§áÂÉèÁ¥†ÔºåÂÆòÊñπÁöÑËß£ÈáäÊòØÔºöÊòæÁ§∫Â±èÂπïÁöÑÊúÄÂ∞èÁâ©ÁêÜÂçï‰ΩçÔºåÊØè‰∏™dpÂåÖÂê´Ëá™Â∑±ÁöÑÈ¢úËâ≤„ÄÅÈ´òÂÆΩÁ≠â„ÄÇ ÂØπ‰∫éÊàë‰ª¨ÂÅöwebÂºÄÂèëÁöÑ‰∫∫Êù•ËØ¥ÔºåÊàë‰ª¨Áî®Âà∞ÁöÑÊúÄÂ§öÁöÑÂú∞ÊñπÊòØ‚ÄúcssÂÉèÁ¥†‚ÄùÔºåÂç≥Á±ª‰ººwidth:300px;font-size:14px;ËøôÁ±ªÁöÑcssËØ≠Âè•ÈáåÁî®Âà∞ÁöÑ„ÄÇÂÆÉË∑üËÆæÂ§áËá™Ë∫´ÁöÑpxÊòØÊ≤°ÂÖ≥Á≥ªÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥1‰∏™CSS ÂÉèÁ¥†Âç†Â§öÂ∞ë‰∏™Áâ©ÁêÜÂÉèÁ¥†ÊòØ‰∏çÁ°ÆÂÆöÁöÑÔºåËøô‰∏™ÈóÆÈ¢òÈÄöËøáÈ°µÈù¢ÁöÑÊîæÁº©ÊØîËæÉÂÆπÊòìÁêÜËß£„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ÊôÆÈÄöÁöÑhtmlÈ°µÈù¢‰∏äÔºåÊúâ‰∏Ä‰∏™300pxÁöÑÂÖÉÁ¥†ÔºõÂ¶ÇÊûúÊàë‰ª¨ÊîæÂ§ßÈ°µÈù¢ÔºåÂÖÉÁ¥†‰ºöÂç†ÊçÆÊõ¥Â§öÁöÑËÆæÂ§áÂÉèÁ¥†ÔºàÂç≥device pixelsÔºâÔºå‰ΩÜÂÆÉÁöÑCSS pixels‰∏çÂèòÔºå‰æùÁÑ∂ÊòØ300pxÔºõÁº©Â∞èÈ°µÈù¢‰πüÊòØÂêåÊ†∑ÁöÑÈÅìÁêÜÔºåÂç†ÊçÆ‰∫ÜÊõ¥Â∞ëÁöÑdevice pixelsÔºå‰ΩÜÂÆÉÁöÑCSS pixels‰∏çÂèò„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÖÉÁ¥†Âç†ÊçÆ‰∫ÜÂ§öÂ∞ëdevice pixelsÔºåÊòØÁî±ÂΩìÂâçÈ°µÈù¢ÁöÑÊîæÁº©ÊØî‰æãËÄåÂÆöÁöÑ„ÄÇ ‰∏çËøáÔºåÈ°µÈù¢ÁöÑÁº©ÊîæÂØπÊàë‰ª¨webÂºÄÂèëÊù•ËØ¥ÊòØÂ•ΩÂÉèÊ≤°Êúâ‰ªª‰ΩïÊÑè‰πâÁöÑ„ÄÇ‰ΩÜÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂºÄÂèëÂá∫Êù•ÁöÑÈ°µÈù¢ÊòØÊÉ≥Ë¶ÅÂú®ÂêÑ‰∏™Â±èÂπï‰∏™‰ª•ÊúÄ‰Ω≥ÁöÑÊ†∑ÂºèÂ±ïÁ§∫Âá∫Êù•ÁöÑÔºåÊàë‰ª¨‰∏çËÉΩËÆ©È°µÈù¢ÈáåÂ≠òÂú®‰∏çËÉΩÊéßÂà∂ÁöÑÂÖÉÁ¥†„ÄÇÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÂÆÉÔºö&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0&quot; /&gt; ‰πüÂ∞±ÊòØÊàë‰ª¨Âú®ËøõË°åwebÂºÄÂèëÁöÑÊó∂ÂÄôÁªèÂ∏∏Áî®Âà∞ÁöÑviewport„ÄÇÈÇ£‰πàviewportÂà∞Â∫ïÊòØ‰∏™‰ªÄ‰πàÁé©ÊÑèÂÑøÂë¢ÔºåËÄå‰∏îcontentÈáåÈù¢width‰∏∫‰ªÄ‰πàË¶ÅÁ≠â‰∫édevice-widthÂë¢Ôºådevice-widthÂèàÊòØ‰∏™‰ªÄ‰πàÊ¶ÇÂøµÂë¢Ôºü‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúãÂÆÉ‰ª¨Âì•‰ø©ÂÑøÊòØ‰ªÄ‰πà„ÄÇ Viewport ‰∏é device-widthÂú®Ëß£ÈáäËøô‰∏§‰∏™Ê¶ÇÂøµ‰πãÂâçÔºåÂÖàËØ¥‰∏Ä‰∏™Â§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºå‰ΩÜ‰∏çÊòéÁôΩ‰∏∫‰ªÄ‰πàÁöÑÊÉÖÂÜµÔºöÊää‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂú®PC‰∏äÂºÄÂèëÁöÑHTMLÈ°µÈù¢Áõ¥Êé•ÊîæÊâãÊú∫‰∏äÔºå‰Ω†‰ºöÂèëÁé∞‰∏çÁÆ°Â§öÂ§ßÁöÑÈ°µÈù¢ÈÉΩÂèØ‰ª•Âú®Â∞èÂ∞èÁöÑÊâãÊú∫Â±èÂπï‰∏äÊòæÁ§∫Ôºå‰ΩÜÊòØÂõæÊñáÈÉΩ‰ºöÊòæÁ§∫ÁöÑÁâπÂà´Â∞èÔºõÂ¶ÇÊûú‰Ω†Áî®jsËé∑Âèñ‰∏ãÈ°µÈù¢ÂÆΩÂ∫¶Ôºå‰Ω†‰ºöÂèëÁé∞ÔºåÂ§ßÂ§öÊï∞ÁöÑÈ°µÈù¢ÂÆΩÂ∫¶ÈÉΩÊòØ980pxÁöÑÔºåËøô‰∏™Â∞±Ë∑üviewportÊúâÂÖ≥„ÄÇ ViewportËµ∑Ê∫ê‰∫éËãπÊûúÔºå‰ΩÜÁé∞Âú®Â∑≤ÁªèË¢´Â§ßÂ§öÊï∞ÊµèËßàÂô®ÊîØÊåÅ„ÄÇÂÖ≥‰∫éviewportÊúâ‰∏§‰∏™Ê¶ÇÂøµvisual viewportË∑ülayout viewport„ÄÇËøôÈáåvisual viewport‰πüÂ∞±ÊòØËßÜËßâ‰∏äÁöÑÁ™óÂè£ÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ËÆæÂ§áËá™Â∑±ÁöÑÂÆΩÂ∫¶„ÄÇËøôÊó∂ÔºåÂ¶ÇÊûú‰Ω†Êúâ‰∏Ä‰∏™Èïø960ÁöÑÈ°µÈù¢ÔºåÊúâ‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ20%ÔºàÂÆûÈôÖËß£ÊûêÂá∫Êù•Â∞±ÊòØ192pxÔºâ„ÄÇ‰ΩÜÂ¶ÇÊûúÊàëÁî®ÂÆΩ‰∏∫320pxÁöÑÂ±èÂπïÊâìÂºÄÂë¢ÔºåËøô‰∏™ÂÖÉÁ¥†Â∞±Êàê‰∫Ü64pxÔºå‰ΩÜÊòØËøô‰∏™Êó∂ÂÄôÊàëËÆæÁΩÆÁöÑÂ≠ó‰ΩìÂ§ßÂ∞èÊòØ12pxÔºåÂú®320pxÁöÑÂ±èÂπï‰∏äÂ∞±Âè™ËÉΩÊòæÁ§∫64/12‰∏™Â≠ó‰∫ÜÔΩû Èâ¥‰∫éËøô‰∏™ÈóÆÈ¢òÔºåËãπÊûúÊâæÂà∞‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ≥ïÔºåÂú®ÁßªÂä®ÁâàÁöÑsafari‰∏≠ÂÆö‰πâ‰∫Üviewport metaÊ†áÁ≠æÔºåÂÆÉÁöÑ‰ΩúÁî®Â∞±ÊòØÂàõÂª∫‰∏Ä‰∏™ËôöÊãüÁöÑÁ™óÂè£ÔºàviewportÔºâÔºåËøô‰∏™ËôöÊãüÁöÑÁ™óÂè£Â∞±ÊòØlayout viewportÂàÜËæ®ÁéáÊé•ËøëÊ°åÈù¢ÊòæÁ§∫Âô®ÔºåappleÂ∞ÜÂÖ∂ÂÆö‰Ωç‰∏∫980px„ÄÇÂú®ÊâãÊú∫‰∏äÔºåÂèØ‰ª•ÈÄöËøádocument.documentElement.clientWidthÊù•Ëé∑Âèñ„ÄÇ ÂÖ∂‰ªñÊµèËßàÂô®ÂéÇÂïÜ‰πüÊúâ‰∏çÂêåÁöÑËß£ÂÜ≥ÂäûÊ≥ïÔºå‰æãÂ¶ÇUCwebÊòØ‰ΩøÁî®ÁöÑ‰∏≠Èó¥ÊäÄÊúØ„ÄÇ Âè¶Â§ñÊçÆËØ¥Ôºå‰∏çÂêåÊµèËßàÂô®ÂéÇÂïÜÂØπ‰∫élayout viewportÁöÑÂ§ßÂ∞èÈÉΩÊúâËá™Â∑±ÁöÑÂÆö‰πâ„ÄÇ‰ΩÜÊòØÔºåÊàëÁî®Êâã‰∏ä‰∏çÂ§öÁöÑÂá†‰∏™ÊâãÊú∫ÔºàÂ∞èÁ±≥2s„ÄÅSONY„ÄÅÈáëÁ´ã„ÄÅipadÔºâÊµãËØïÁöÑÁªìÊûúÔºåÈÉΩÊòØ980px„ÄÇÂÖ∂‰∏≠Âú®Â∞èÁ±≥2s‰∏äÊµãËØï‰∫ÜÂ∞èÁ±≥Ëá™Â∏¶ÊµèËßàÂô®„ÄÅQQÊµèËßàÂô®„ÄÅUCÊµèËßàÂô®„ÄÅË∞∑Ê≠åÊµèËßàÂô®ÔºåËøòÊúâoperaÊµèËßàÂô®ÔºåÁªìÊûúÈÉΩ‰∏ÄÊ†∑ÔºõÂÖ∂‰ªñÁöÑÊâãÊú∫‰∏äÈù¢‰∏çÁÆ°Ë£Ö‰∫Ü‰ªÄ‰πàÊµèËßàÂô®ÔºåÈÉΩÊµãËØï‰∫ÜÔºåÁªìÊûúÈÉΩÊòØ980px„ÄÇ‰ΩÜÊòØËøô‰∏™ÂÄºÂØπ‰∫éÊàë‰ª¨webÂºÄÂèëÊù•ËØ¥ÔºåÂ•ΩÂÉè‰πüÊ≤°Êúâ‰ªÄ‰πàÁî®Â§Ñ„ÄÇ Âõ†‰∏∫Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºå&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;Ëøô‰∏™Ê†áÁ≠æÂØπÊàë‰ª¨Êù•ËØ¥ÊòØÊúÄÁªôÂäõÁöÑÔºåÂèØ‰ª•ËÆ©Êàë‰ª¨ÁöÑÈ°µÈù¢ÈáåÁöÑÂõæÊñáÊòæÁ§∫ÁöÑÊòØÊ≠£Â∏∏ÁöÑÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äÊèêÈ´ò‰∫ÜÈ°µÈù¢ÁöÑÂèØËØªÊÄß„ÄÇËÄåËøô‰∏ÄmetaÊ†áÁ≠æÁöÑÂäüËÉΩÂ∞±ÊòØËÆæÁΩÆlayout viewport‰∏∫device-widthÁöÑÂÆΩÂ∫¶„ÄÇ‰ΩÜÊòØdevice-widthÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÂë¢Ôºü Á¨¨‰∏Ä‰ª£iphoneÁöÑÊó∂ÂÄôÔºåÂàÜËæ®Áéá‰∏∫320480ÔºåÂ±èÂπïÂ∞∫ÂØ∏‰∏∫3.5ÂØ∏ÔºàÊ≥®ÊÑèÔºåËøô‰∏™3.5ÂØ∏ËØ¥ÁöÑÊòØÂ±èÂπïÁöÑÂØπËßíÁ∫øÂÆΩÔºâÔºåËøôÊó∂ÂÄôdevice-widthÂ∞±ÊòØ320pxÔºå‰πüÊòØÊâãÊú∫ÁöÑÂàÜËæ®ÁéáÂÆΩÔºåÊ≠§Êó∂device-widthÂ∞±ÊòØËÆæÂ§áÂÆΩ„ÄÇ‰ΩÜÁ¨¨‰∫å‰ª£ÁöÑiphoneÂàÜËæ®ÁéáÊèêÈ´ò‰∏∫‰∫Ü480960ÔºåÂ±èÂπïÂ∞∫ÂØ∏‰∏∫‰æùÁÑ∂‰∏∫3.5ÂØ∏ÔºåÂ¶ÇÊûúdevice-widthËøòÊòØËÆæÂ§áÂÆΩÔºåÈÇ£‰πàÂêåÊ†∑ÊòØ320pxÁöÑÈ°µÈù¢Êîæ480*960ÁöÑÊâãÊú∫Â±è‰∏äÔºåÂõæÊñáÂ∞±‰ºöÂèòÂæóÊØîËæÉÂ∞èÔºåÂèà‰ºöÂΩ±ÂìçÂÖ∂ÂèØËØªÊÄß„ÄÇÂõ†Ê≠§iphoneÁöÑdevice-width‰∏ÄÁõ¥Áª¥ÊåÅÂú®320pxÔºåipad‰∏ÄÁõ¥Áª¥ÊåÅÂú®1024px„ÄÇËøô‰∏™Êó∂ÂÄôÔºådevice-widthÂ∞±‰∏çÊòØËÆæÂ§áÂÆΩ‰∫ÜÔºà‰πüÂ∞±‰∏çÊòØÂàÜËæ®ÁéáÁöÑÂÆΩ‰∫ÜÔºâÔºåÊòØ‰∏Ä‰∏™‰∏≠Èó¥Â±Ç„ÄÇAndroidÈááÁî®ÁöÑ‰πüÊòØËøô‰∏ÄÊ¶ÇÂøµÔºåÂÖ∂device-widthÂÄº‰ª•360Â±ÖÂ§öÔºå‰ΩÜ‰πü‰∏ç‰πèÊúâÂÉè540pxÂíå600pxËøôÊ†∑ÁöÑÂ•áËë©„ÄÇÂú®ËÆæÁΩÆ‰∫ÜÊ†áÁ≠æ‰ª•ÂêéÔºådevice-widthÂÄºÂèØ‰ª•Áî®window.innerWidthÊù•Ëé∑Âèñdevice-widthÂÄº„ÄÇ ÊúâÂÖ≥DPIdpi(Dots Per Inch)ÔºåÊúâÊó∂‰πüÂè´ÂÅöppi(Point Per Inch)ÔºåÁøªËØëËøáÊù•‰πüÂè´ÂÉèÁ¥†ÂØÜÂ∫¶ÔºåË°®Á§∫ËÆæÂ§áÊØèËã±ÂØ∏ÊâÄÂç†ÊúâÁöÑÂÉèÁ¥†Êï∞ÔºõÊï∞ÂÄºË∂äÈ´òÔºåÂç≥‰ª£Ë°®ÊòæÁ§∫Â±èËÉΩÂ§ü‰ª•Ë∂äÈ´òÁöÑÂØÜÂ∫¶ÊòæÁ§∫ÂõæÂÉè„ÄÇÔºàÊ≥®ÔºöËøôÈáåÁöÑÂÉèÁ¥†ÔºåÊåáÁöÑÊòØdevice pixels„ÄÇÔºâDPIÁöÑËÆ°ÁÆóÂÖ¨ÂºèÔºö ÊúâÊÑèÊÄùÁöÑÊòØÔºåËøô‰∏™ÂÄºÊØîËãπÊûúÂÆòÁΩë‰∏äÂÖ¨Â∏ÉÁöÑ326ËøòÊúâÈ´ò‰∏ÄÁÇπÁÇπ„ÄÇ ÂÖ∂‰∏≠ÔºåPPIÂú®120-160‰πãÈó¥ÁöÑÊâãÊú∫Ë¢´ÂΩí‰∏∫‰ΩéÂØÜÂ∫¶ÊâãÊú∫Ôºå160-240Ë¢´ÂΩí‰∏∫‰∏≠ÂØÜÂ∫¶Ôºå240-320Ë¢´ÂΩí‰∏∫È´òÂØÜÂ∫¶Ôºå320‰ª•‰∏äË¢´ÂΩí‰∏∫Ë∂ÖÈ´òÂØÜÂ∫¶ÔºàAppleÁªô‰∫ÜÂÆÉ‰∏Ä‰∏™‰∏äÊµÅÁöÑÂêçÂ≠ó‚Äî‚ÄîretinaÔºâ„ÄÇ Ëøô‰∫õÂØÜÂ∫¶ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÁâπÂÆöÁöÑÁº©ÊîæÊØî‰æãÂÄºÔºåÊãøÊàë‰ª¨ÊúÄÁÜüÊÇâÁöÑiphone4Êàñ4sÊù•ËØ¥ÔºåÂÆÉ‰ª¨ÁöÑPPIÊòØ326ÔºåÂ±û‰∫éË∂ÖÈ´òÂØÜÂ∫¶ÁöÑÊâãÊú∫„ÄÇÂΩìÊàë‰ª¨‰π¶ÂÜô‰∏Ä‰∏™ÂÆΩÂ∫¶‰∏∫320pxÁöÑÈ°µÈù¢ÊîæÂà∞iphone‰∏≠ÊòæÁ§∫Ôºå‰Ω†‰ºöÂèëÁé∞ÔºåÂÆÉÁ´üÁÑ∂ÊòØÊª°ÂÆΩÁöÑ„ÄÇËøôÊòØÂõ†‰∏∫ÔºåÈ°µÈù¢Ë¢´ÈªòËÆ§ÊîæÂ§ß‰∫Ü‰∏§ÂÄçÔºå‰πüÂ∞±ÊòØ640pxÔºåËÄåiphone4Êàñ4sÁöÑÂÆΩÔºåÊ≠£ÊòØ640px„ÄÇ DevicePixelRadioDevicePixelRadioÔºåÂÆö‰πâÔºöwindow.devicePixelRatioÊòØËÆæÂ§á‰∏äÁâ©ÁêÜÂÉèÁ¥†Ôºà‰πüÂ∞±ÊòØdevice-widthÔºâÂíåËÆæÂ§áÁã¨Á´ãÂÉèÁ¥†Ôºàdevice-independent pixelsÔºåÂç≥dipsÔºâÁöÑÊØî‰æã„ÄÇÂÖ¨ÂºèË°®Á§∫Â∞±ÊòØÔºöwindow.devicePixelRatio = Áâ©ÁêÜÂÉèÁ¥†/dips Android Âíå iPhone ‰∏≠ÔºåÈÉΩÊúâ‰∏Ä‰∏™Âç†Êï¥‰∏™Â±èÂπïÂ§ßÂ∞èÁöÑÊç¢ÁÆóÂçï‰ΩçÔºå Android ‰∏≠Âè´ dip Êàñ dpÔºåiPhone ‰∏≠Âè´ point „ÄÇDipÔºåÂ∞±ÊòØdevice independent pixelsÔºåËÆæÂ§áÁã¨Á´ãÂÉèÁ¥†„ÄÇËÄåËÆæÂ§áÁöÑÁâ©ÁêÜÂÉèÁ¥†Âíå dip ÁöÑÊØî‰æãÂ∞±ÊòØ devicePixelRatioÔºåÊ≠§ÂÄºÂèØ‰ª•ÈÄöËøá window.devicePixelRatio Â±ûÊÄßËé∑Âèñ„ÄÇ ÊçÆÊàëÊü•ÊâæÂà∞ÁöÑ‰∏Ä‰∫õËµÑÊñôÊòæÁ§∫ÔºåËøôÈáåÁöÑÁã¨Á´ãÂÉèÁ¥†ÁöÑÂÄºÂÖ∂ÂÆûÂ∞±ÊòØdevice-widthÂÄº„ÄÇËøô‰∏™ÂÄº‰πüÂ∞±ÊòØÊàë‰ª¨Âπ≥Êó∂Âú®ÊâãÊú∫‰∏äÂ∏ÉÂ±ÄÁî®ÁöÑÂÆΩÂ∫¶ÔºåÂΩìÁÑ∂ÊòØÂú®ËÆæÁΩÆ‰∫ÜÊ†áÁ≠æÁöÑÂâçÊèê‰∏ã„ÄÇ ËøôÈáå‰∏∫‰ªÄ‰πàÊèêÂà∞devicePixelRatioËøô‰∏™Ê¶ÇÂøµÂë¢ÔºüÂõ†‰∏∫ÂΩìdevicePixelRatio=1.5ÁöÑÊó∂ÂÄôÔºå‰πüÂ∞±ÊòØËØ¥ÂΩìÂ±èÂπïÂàÜËæ®ÁéáÂÆΩ‰∏édevice-widthÁöÑÊØîÂÄº‰∏∫1.5Êó∂ÔºåÊüê‰∫õÊâãÊú∫Ëá™Â∏¶ÁöÑÊµèËßàÂô®ÔºàÁâπÂà´ÊòØ‰∏âÊòüÊâãÊú∫Âá∫Áé∞Âú®ÊúÄÂ§öÔºâ‰ºöÂá∫Áé∞1pxÁöÑÁ∫øËß£ÊûêÊàê2pxÁöÑbugÔºå‰ΩÜÊòØÁªèÊµãËØïÂêå‰∏ÄÈÉ®ÊâãÊú∫‰∏äÂÆâË£ÖÁöÑUCÊµèËßàÂô®‰∏ÄËà¨‰∏ç‰ºöÊúâËøô‰∏™bug„ÄÇ]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµÖË∞à instanceof Âíå typeof ÁöÑÂÆûÁé∞ÂéüÁêÜ]]></title>
    <url>%2F2018%2F01%2F01%2F%E6%B5%85%E8%B0%88-instanceof-%E5%92%8C-typeof-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[typeof ÂÆûÁé∞ÂéüÁêÜtypeof ‰∏ÄËà¨Ë¢´Áî®‰∫éÂà§Êñ≠‰∏Ä‰∏™ÂèòÈáèÁöÑÁ±ªÂûãÔºåÊàë‰ª¨ÂèØ‰ª•Âà©Áî® typeof Êù•Âà§Êñ≠number, string, object, boolean, function, undefined,symbol Ëøô‰∏ÉÁßçÁ±ªÂûãÔºåËøôÁßçÂà§Êñ≠ËÉΩÂ∏ÆÂä©Êàë‰ª¨ÊêûÂÆö‰∏Ä‰∫õÈóÆÈ¢òÔºåÊØîÂ¶ÇÂú®Âà§Êñ≠‰∏çÊòØ object Á±ªÂûãÁöÑÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåtypeofËÉΩÊØîËæÉÊ∏ÖÊ•öÁöÑÂëäËØâÊàë‰ª¨ÂÖ∑‰ΩìÊòØÂì™‰∏ÄÁ±ªÁöÑÁ±ªÂûã„ÄÇ‰ΩÜÊòØÔºåÂæàÈÅóÊÜæÁöÑ‰∏ÄÁÇπÊòØÔºåtypeof Âú®Âà§Êñ≠‰∏Ä‰∏™ objectÁöÑÊï∞ÊçÆÁöÑÊó∂ÂÄôÂè™ËÉΩÂëäËØâÊàë‰ª¨Ëøô‰∏™Êï∞ÊçÆÊòØ object, ËÄå‰∏çËÉΩÁªÜËá¥ÁöÑÂÖ∑‰ΩìÂà∞ÊòØÂì™‰∏ÄÁßç object, ÊØîÂ¶Çüëâ let s =newString(&apos;abc&apos;); typeof s ===&apos;object&apos;// true s instanceofString// true Ë¶ÅÊÉ≥Âà§Êñ≠‰∏Ä‰∏™Êï∞ÊçÆÂÖ∑‰ΩìÊòØÂì™‰∏ÄÁßç object ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÂà©Áî® instanceof Ëøô‰∏™Êìç‰ΩúÁ¨¶Êù•Âà§Êñ≠ÔºåËøô‰∏™Êàë‰ª¨ÂêéÈù¢‰ºöËØ¥Âà∞„ÄÇ Êù•Ë∞àË∞àÂÖ≥‰∫é typeof ÁöÑÂéüÁêÜÂêßÔºåÊàë‰ª¨ÂèØ‰ª•ÂÖàÊÉ≥‰∏Ä‰∏™ÂæàÊúâÊÑèÊÄùÁöÑÈóÆÈ¢òÔºåjs Âú®Â∫ïÂ±ÇÊòØÊÄé‰πàÂ≠òÂÇ®Êï∞ÊçÆÁöÑÁ±ªÂûã‰ø°ÊÅØÂë¢ÔºüÊàñËÄÖËØ¥Ôºå‰∏Ä‰∏™ js ÁöÑÂèòÈáèÔºåÂú®ÂÆÉÁöÑÂ∫ïÂ±ÇÂÆûÁé∞‰∏≠ÔºåÂÆÉÁöÑÁ±ªÂûã‰ø°ÊÅØÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢Ôºü ÂÖ∂ÂÆûÔºåjs Âú®Â∫ïÂ±ÇÂ≠òÂÇ®ÂèòÈáèÁöÑÊó∂ÂÄôÔºå‰ºöÂú®ÂèòÈáèÁöÑÊú∫Âô®Á†ÅÁöÑ‰Ωé‰Ωç1-3‰ΩçÂ≠òÂÇ®ÂÖ∂Á±ªÂûã‰ø°ÊÅØüëâ1234567000ÔºöÂØπË±°010ÔºöÊµÆÁÇπÊï∞100ÔºöÂ≠óÁ¨¶‰∏≤110ÔºöÂ∏ÉÂ∞î 1ÔºöÊï¥Êï∞ but, ÂØπ‰∫é undefined Âíå null Êù•ËØ¥ÔºåËøô‰∏§‰∏™ÂÄºÁöÑ‰ø°ÊÅØÂ≠òÂÇ®ÊòØÊúâÁÇπÁâπÊÆäÁöÑ„ÄÇ nullÔºöÊâÄÊúâÊú∫Âô®Á†ÅÂùá‰∏∫0 undefinedÔºöÁî® ‚àí2^30 Êï¥Êï∞Êù•Ë°®Á§∫ ÊâÄ‰ª•Ôºåtypeof Âú®Âà§Êñ≠ null ÁöÑÊó∂ÂÄôÂ∞±Âá∫Áé∞ÈóÆÈ¢ò‰∫ÜÔºåÁî±‰∫é null ÁöÑÊâÄÊúâÊú∫Âô®Á†ÅÂùá‰∏∫0ÔºåÂõ†Ê≠§Áõ¥Êé•Ë¢´ÂΩìÂÅö‰∫ÜÂØπË±°Êù•ÁúãÂæÖ„ÄÇ ÁÑ∂ËÄåÁî® instanceof Êù•Âà§Êñ≠ÁöÑËØùüëâ nullinstanceofnull// TypeError: Right-hand side of &apos;instanceof&apos; is not an object null Áõ¥Êé•Ë¢´Âà§Êñ≠‰∏∫‰∏çÊòØ objectÔºåËøô‰πüÊòØ JavaScript ÁöÑÂéÜÂè≤ÈÅóÁïôbugÔºåÂèØ‰ª•ÂèÇËÄÉtypeof„ÄÇ Âõ†Ê≠§Âú®Áî® typeof Êù•Âà§Êñ≠ÂèòÈáèÁ±ªÂûãÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑèÔºåÊúÄÂ•ΩÊòØÁî® typeof Êù•Âà§Êñ≠Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºàÂåÖÊã¨symbolÔºâÔºåÈÅøÂÖçÂØπ null ÁöÑÂà§Êñ≠„ÄÇ ËøòÊúâ‰∏Ä‰∏™‰∏çÈîôÁöÑÂà§Êñ≠Á±ªÂûãÁöÑÊñπÊ≥ïÔºåÂ∞±ÊòØObject.prototype.toStringÔºåÊàë‰ª¨ÂèØ‰ª•Âà©Áî®Ëøô‰∏™ÊñπÊ≥ïÊù•ÂØπ‰∏Ä‰∏™ÂèòÈáèÁöÑÁ±ªÂûãÊù•ËøõË°åÊØîËæÉÂáÜÁ°ÆÁöÑÂà§Êñ≠ Object.prototype.toString.call(1)// &quot;[object Number]&quot; Object.prototype.toString.call(&apos;hi&apos;)// &quot;[object String]&quot; Object.prototype.toString.call({a:&apos;hi&apos;})// &quot;[object Object]&quot; Object.prototype.toString.call([1,&apos;a&apos;])// &quot;[object Array]&quot; Object.prototype.toString.call(true)// &quot;[object Boolean]&quot; Object.prototype.toString.call(()=&gt;{})// &quot;[object Function]&quot; Object.prototype.toString.call(null)// &quot;[object Null]&quot; Object.prototype.toString.call(undefined)// &quot;[object Undefined]&quot; Object.prototype.toString.call(Symbol(1))// &quot;[object Symbol]&quot; instanceof Êìç‰ΩúÁ¨¶ÁöÑÂÆûÁé∞ÂéüÁêÜ‰πãÂâçÊàë‰ª¨ÊèêÂà∞‰∫Ü instanceof Êù•Âà§Êñ≠ÂØπË±°ÁöÑÂÖ∑‰ΩìÁ±ªÂûãÔºåÂÖ∂ÂÆû instanceof ‰∏ªË¶ÅÁöÑ‰ΩúÁî®Â∞±ÊòØÂà§Êñ≠‰∏Ä‰∏™ÂÆû‰æãÊòØÂê¶Â±û‰∫éÊüêÁßçÁ±ªÂûã let person =function(){ } let nicole =new person() nicole instanceof person // true ÂΩìÁÑ∂Ôºåinstanceof ‰πüÂèØ‰ª•Âà§Êñ≠‰∏Ä‰∏™ÂÆû‰æãÊòØÂê¶ÊòØÂÖ∂Áà∂Á±ªÂûãÊàñËÄÖÁ•ñÂÖàÁ±ªÂûãÁöÑÂÆû‰æã„ÄÇ let person =function(){ } let programmer =function(){ } programmer.prototype =new person() let nicole =new programmer() nicole instanceof person // true nicole instanceof programmer // true ËøôÊòØ instanceof ÁöÑÁî®Ê≥ïÔºå‰ΩÜÊòØ instanceof ÁöÑÂéüÁêÜÊòØ‰ªÄ‰πàÂë¢ÔºüÊ†πÊçÆ ECMAScript ËØ≠Ë®ÄËßÑËåÉÔºåÊàëÊ¢≥ÁêÜ‰∫Ü‰∏Ä‰∏ãÂ§ßÊ¶ÇÁöÑÊÄùË∑ØÔºåÁÑ∂ÂêéÊï¥ÁêÜ‰∫Ü‰∏ÄÊÆµ‰ª£Á†ÅÂ¶Ç‰∏ã function new_instance_of(leftVaule, rightVaule){ let rightProto = rightVaule.prototype;// ÂèñÂè≥Ë°®ËææÂºèÁöÑ prototype ÂÄº leftVaule = leftVaule.__proto__;// ÂèñÂ∑¶Ë°®ËææÂºèÁöÑ__proto__ÂÄº while(true){ if(leftVaule ===null){ returnfalse; } if(leftVaule === rightProto){ returntrue; } leftVaule = leftVaule.__proto__ } } ÂÖ∂ÂÆû instanceof ‰∏ªË¶ÅÁöÑÂÆûÁé∞ÂéüÁêÜÂ∞±ÊòØÂè™Ë¶ÅÂè≥ËæπÂèòÈáèÁöÑ prototype Âú®Â∑¶ËæπÂèòÈáèÁöÑÂéüÂûãÈìæ‰∏äÂç≥ÂèØ„ÄÇÂõ†Ê≠§Ôºåinstanceof Âú®Êü•ÊâæÁöÑËøáÁ®ã‰∏≠‰ºöÈÅçÂéÜÂ∑¶ËæπÂèòÈáèÁöÑÂéüÂûãÈìæÔºåÁõ¥Âà∞ÊâæÂà∞Âè≥ËæπÂèòÈáèÁöÑ prototypeÔºåÂ¶ÇÊûúÊü•ÊâæÂ§±Ë¥•ÔºåÂàô‰ºöËøîÂõû falseÔºåÂëäËØâÊàë‰ª¨Â∑¶ËæπÂèòÈáèÂπ∂ÈùûÊòØÂè≥ËæπÂèòÈáèÁöÑÂÆû‰æã„ÄÇÁúãÂá†‰∏™ÂæàÊúâË∂£ÁöÑ‰æãÂ≠ê functionFoo(){ } Object instanceof Object// true Function instanceof Function// true Function instanceof Object// true Foo instanceof Foo// false Foo instanceof Object// true Foo instanceof Function// true Ë¶ÅÊÉ≥ÂÖ®ÈÉ®ÁêÜËß£ instanceof ÁöÑÂéüÁêÜÔºåÈô§‰∫ÜÊàë‰ª¨ÂàöÂàöÊèêÂà∞ÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÁü•ÈÅì JavaScript ÁöÑÂéüÂûãÁªßÊâøÂéüÁêÜ„ÄÇ ÂÖ≥‰∫éÂéüÂûãÁªßÊâøÁöÑÂéüÁêÜÔºåÊàëÁÆÄÂçïÁî®‰∏ÄÂº†ÂõæÊù•Ë°®Á§∫ Êàë‰ª¨Áü•ÈÅìÊØè‰∏™ JavaScript ÂØπË±°ÂùáÊúâ‰∏Ä‰∏™ÈöêÂºèÁöÑ __proto__ ÂéüÂûãÂ±ûÊÄßÔºåËÄåÊòæÂºèÁöÑÂéüÂûãÂ±ûÊÄßÊòØ prototypeÔºåÂè™Êúâ Object.prototype.__proto__ Â±ûÊÄßÂú®Êú™‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰∏∫ null ÂÄº„ÄÇÊ†πÊçÆÂõæ‰∏äÁöÑÂéüÁêÜÔºåÊàë‰ª¨Êù•Ê¢≥ÁêÜ‰∏äÈù¢ÊèêÂà∞ÁöÑÂá†‰∏™ÊúâË∂£ÁöÑ instanceof ‰ΩøÁî®ÁöÑ‰æãÂ≠ê„ÄÇ Object instanceof Object Áî±ÂõæÂèØÁü•ÔºåObject ÁöÑ prototype Â±ûÊÄßÊòØ Object.prototype, ËÄåÁî±‰∫é Object Êú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁî± Function ÊâÄÂàõÂª∫ÔºåÊâÄ‰ª• Object.__proto__ ÁöÑÂÄºÊòØ Function.prototypeÔºåËÄå Function.prototype ÁöÑ __proto__ Â±ûÊÄßÊòØ Object.prototypeÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Âà§Êñ≠Âá∫ÔºåObject instanceof Object ÁöÑÁªìÊûúÊòØ true „ÄÇÁî®‰ª£Á†ÅÁÆÄÂçïÁöÑË°®Á§∫‰∏Ä‰∏ã leftValue =Object.__proto__ =Function.prototype; rightValue =Object.prototype; // Á¨¨‰∏ÄÊ¨°Âà§Êñ≠ leftValue != rightValue leftValue =Function.prototype.__proto__ =Object.prototype // Á¨¨‰∫åÊ¨°Âà§Êñ≠ leftValue === rightValue // ËøîÂõû true Function instanceof Function Âíå Function instanceof Object ÁöÑËøêË°åËøáÁ®ã‰∏é Object instanceof Object Á±ª‰ººÔºåÊïÖ‰∏çÂÜçËØ¶ËØ¥„ÄÇ Foo instanceof Foo Foo ÂáΩÊï∞ÁöÑ prototype Â±ûÊÄßÊòØ Foo.prototypeÔºåËÄå Foo ÁöÑ __proto__ Â±ûÊÄßÊòØ Function.prototypeÔºåÁî±ÂõæÂèØÁü•ÔºåFoo ÁöÑÂéüÂûãÈìæ‰∏äÂπ∂Ê≤°Êúâ Foo.prototype ÔºåÂõ†Ê≠§ Foo instanceof Foo ‰πüÂ∞±ËøîÂõû false „ÄÇ Êàë‰ª¨Áî®‰ª£Á†ÅÁÆÄÂçïÁöÑË°®Á§∫‰∏Ä‰∏ã leftValue =Foo, rightValue =Foo leftValue =Foo.__proto =Function.prototype rightValue =Foo.prototype // Á¨¨‰∏ÄÊ¨°Âà§Êñ≠ leftValue != rightValue leftValue =Function.prototype.__proto__ =Object.prototype // Á¨¨‰∫åÊ¨°Âà§Êñ≠ leftValue != rightValue leftValue =Object.prototype =null // Á¨¨‰∏âÊ¨°Âà§Êñ≠ leftValue ===null // ËøîÂõû false Foo instanceof Object leftValue =Foo, rightValue =Object leftValue =Foo.__proto__ =Function.prototype rightValue =Object.prototype // Á¨¨‰∏ÄÊ¨°Âà§Êñ≠ leftValue != rightValue leftValue =Function.prototype.__proto__ =Object.prototype // Á¨¨‰∫åÊ¨°Âà§Êñ≠ leftValue === rightValue // ËøîÂõû true Foo instanceof Function leftValue =Foo, rightValue =Function leftValue =Foo.__proto__ =Function.prototype rightValue =Function.prototype // Á¨¨‰∏ÄÊ¨°Âà§Êñ≠ leftValue === rightValue // ËøîÂõû true ÊÄªÁªìÁÆÄÂçïÊù•ËØ¥ÔºåÊàë‰ª¨‰ΩøÁî® typeof Êù•Âà§Êñ≠Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊòØ ok ÁöÑÔºå‰∏çËøáÈúÄË¶ÅÊ≥®ÊÑèÂΩìÁî® typeof Êù•Âà§Êñ≠ null Á±ªÂûãÊó∂ÁöÑÈóÆÈ¢òÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÁöÑÂÖ∑‰ΩìÁ±ªÂûãÂèØ‰ª•ËÄÉËôëÁî® instanceofÔºå‰ΩÜÊòØ instanceof ‰πüÂèØËÉΩÂà§Êñ≠‰∏çÂáÜÁ°ÆÔºåÊØîÂ¶Ç‰∏Ä‰∏™Êï∞ÁªÑÔºå‰ªñÂèØ‰ª•Ë¢´ instanceof Âà§Êñ≠‰∏∫ Object„ÄÇÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊÉ≥ÊØîËæÉÂáÜÁ°ÆÁöÑÂà§Êñ≠ÂØπË±°ÂÆû‰æãÁöÑÁ±ªÂûãÊó∂ÔºåÂèØ‰ª•ÈááÂèñ Object.prototype.toString.call ÊñπÊ≥ï„ÄÇ]]></content>
      <tags>
        <tag>typeof</tag>
        <tag>instanceof</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑®Âüü‰πãÁî±Request Method:OPTIONSÂàùÁ™•CORS]]></title>
    <url>%2F2018%2F01%2F01%2F%E8%B7%A8%E5%9F%9F%E4%B9%8B%E7%94%B1Request-Method-OPTIONS%E5%88%9D%E7%AA%A5CORS%2F</url>
    <content type="text"><![CDATA[Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´‚Äî‚ÄîCORS‰∏ÄÁØáÊñáÁ´†ÊêûÊòéÁôΩCORSË∑®Âüü‰∏çÂ∞±ÊòØË∑®Âüü‰πà?ÊÖå‰∏™XX - ÊéòÈáëÈù¢ËØïÈóÆÂà∞Êï∞ÊçÆ‰∫§‰∫íÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏‰ºöÈóÆË∑®ÂüüÂ¶Ç‰ΩïÂ§ÑÁêÜ„ÄÇÂ§ßÈÉ®ÂàÜ‰∫∫ÈÉΩ‰ºöÂõûÁ≠îJSONPÔºåÁÑ∂ÂêéÈù¢ËØïÂÆòÁ¥ßÊé•ÁùÄÂ∞±‰ºöÈóÆÔºö‚ÄúJSONPÁº∫ÁÇπÊòØ‰ªÄ‰πàÂïäÔºü‚ÄùËøô‰∏™Êó∂ÂÄôÂùëÂ∞±Êù•‰∫ÜÔºåÂ¶ÇÊûúÈù¢ËØïËÄÖËØ¥ÂÆÉÊîØÊåÅGETÊñπÂºèÔºåÁÑ∂ÂêéÈù¢ËØïÂÆòÂ∞±‰ºöËøΩÈóÆÔºåÈÇ£Â¶ÇÊûúPOSTÊñπÂºèÂèëÈÄÅËØ∑Ê±ÇÊÄé‰πàÂäûÔºüÂü∫Á°ÄÊâéÂÆû‰∏Ä‰∫õÁöÑÈù¢ËØïËÄÖ‰ºöËØ¥Ôºå‰ΩøÁî®CORSË∑®ÂüüÔºå‰∏çÊâéÂÆûÁöÑÂèØËÉΩÂ∞±ÊëáÊëáÂ§¥‰∫Ü„ÄÇ ËøôËøòÊ≤°ÁªìÊùüÔºåÂ¶ÇÊûúÂÖ¨Âè∏ÊØîËæÉÊ≠£ËßÑÊàñËÄÖÂæàÂú®‰πéÊäÄÊúØÂäüÂ∫ïÔºå‰Ω†Èù¢ËØïÁöÑÂèàÊòØÈáçË¶ÅÂ≤ó‰ΩçÔºåHRËøòÊÉ≥Á†ç‰Ω†ÁöÑÂ∑•ËµÑÔºåÂ∞±‰ºöÂÜçË°•‰∏ÄÂàÄÔºåCORSË∑®ÂüüÊúâ‰ªÄ‰πàÈóÆÈ¢òÂë¢ÔºüËøôÊó∂ÂÄôËÉΩÂõûÁ≠î‰∏äÊù•ÁöÑÂ∞±Ê≤°Âá†‰∏™‰∫ÜÔºåÂ∞±ÁÆóÊòØ‰Ω†Á≠îÂá∫Êù•ÂÖºÂÆπÊÄß‰∏çÂ•ΩÔºåÈúÄË¶ÅIE10+ÊµèËßàÂô®,ÂØπÊñπ‰æùÁÑ∂ÊúâËØùËØ¥ÔºåÈÇ£ÂÖºÂÆπÊÄßÊÄé‰πàÂ§ÑÁêÜÂë¢ÔºüÂ∫îËØïËÄÖÂ∞±Ê≤°ËØù‰∫ÜÔºåË¶Å‰πàË¢´PassÊéâÔºåÂç≥‰æøÁïô‰∏ãÊù•ÔºåË∞àÂ∑•ËµÑÁöÑÊó∂ÂÄôÂ∞±Ê≤°Â∫ïÊ∞î‰∫Ü„ÄÇ CORSË∑®ÂüüÂÆûÂú®ÊòØÈù¢ËØïÂÆòpass‰∏Ä‰∏™‰∫∫ÁöÑÂà©Âô®„ÄÇ ‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Âë¢Ôºü 1.ÈÅáÂà∞CORSËØ∑Ê±ÇÁöÑÊÉÖÂÜµ‰∏çÂ§öÔºåÂºÄÂèëËÄÖ‰ΩøÁî®Ëøô‰∏™Âú∫ÊôØÁöÑÂæàÂ∞ëÔºåÂ§ßÈÉ®ÂàÜÈÉΩJSONPÊêûÂÆö‰∫Ü„ÄÇ 2.ÂºÄÂèëËÄÖËá™Ë∫´ÊäÄËÉΩ‰∏çÊâéÂÆûÔºåÂÅ∑ÊáíÂøÉÊÄÅÔºåÂπ≥Â∏∏Ê≤°ÊúâÊÑèËØÜÂíåÊÑèÊÑøÂéªÊèêÂçáËá™Â∑±ÁöÑÊäÄÊúØÊ∞¥Âπ≥„ÄÇ 3.Áõ∏ÂÖ≥ÁöÑÂ≠¶‰π†ËµÑÊñôÂ∞ë„ÄÅÁ∫ØÂâçÁ´ØÂ∞èÁôΩÊê≠Âª∫ÂèØÊµãËØïÁöÑÁéØÂ¢ÉÈöæÂ∫¶Â§ß„ÄÇ Èù¢ÂØπËøôÊù°Êã¶Ë∑ØËôéÔºåÊàë‰ª¨‰ªäÂ§©Â∞±ÂΩªÂ∫ïËß£ÂÜ≥ÊéâÂÆÉÔºåËÆ©ÂÆÉ‰∏çÂÜçÊòØÊàë‰ª¨ÁöÑËΩØËÇãÔºåËÄåÊòØÂΩ∞ÊòæÊàë‰ª¨ÊäÄÊúØÂÆûÂäõÁöÑ‰∫ÆÁÇπ„ÄÇ È¶ñÂÖàÔºå‰ªÄ‰πàÊòØCORS? CORSÊòØ‰∏Ä‰∏™W3CÊ†áÂáÜÔºåÂÖ®Áß∞ÊòØ‚ÄùË∑®ÂüüËµÑÊ∫êÂÖ±‰∫´‚ÄùÔºàCross-origin resource sharingÔºâ„ÄÇ ÂÆÉÂÖÅËÆ∏ÊµèËßàÂô®ÂêëË∑®Ê∫êÊúçÂä°Âô®ÔºåÂèëÂá∫XMLHttpRequestËØ∑Ê±ÇÔºå‰ªéËÄåÂÖãÊúç‰∫ÜAJAXÂè™ËÉΩÂêåÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇ ‰ºòÁº∫ÁÇπ ‰ºòÁÇπÔºö 1.ÊîØÊåÅPOST‰ª•ÂèäÊâÄÊúâHTTPËØ∑Ê±Ç 2.ÂÆâÂÖ®ÊÄßÁõ∏ÂØπJSOPÊõ¥È´ò 3.ÂâçÁ´ØË¶ÅÂÅöÁöÑ‰∫ãÂÑøÊØîËæÉÂ∞ë Áº∫ÁÇπÔºö 1.‰∏çÂÖºÂÆπËÄÅÁâàÊú¨ÊµèËßàÂô®ÔºåÂ¶ÇIE9ÂèäÂÖ∂‰ª•‰∏ã 2.ÈúÄË¶ÅÊúçÂä°Á´ØÊîØÊåÅ 3.‰ΩøÁî®Ëµ∑Êù•Á®çÂæÆÂ§çÊùÇ‰∫Ü‰∫õ ÊÄé‰πàÁî®Ôºü ÂâçÁ´ØÈÉ®ÂàÜÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;CORSË∑®ÂüüËØ∑Ê±Ç&lt;/title&gt; &lt;script&gt; function createCORSRequest(method, url) &#123; var xhr = new XMLHttpRequest(); if (&quot;withCredentials&quot; in xhr) &#123; xhr.open(method, url, true); &#125; else if (typeof XDomainRequest != &quot;undefined&quot;) &#123; xhr = new XDomainRequest(); xhr.open(method, url); &#125; else &#123; xhr = null; &#125; return xhr; &#125; window.onload = function () &#123; var oBtn = document.getElementById(&apos;btn1&apos;); oBtn.onclick = function () &#123; var xhr = createCORSRequest(&quot;get&quot;, &quot;http://wpdic.com/cors.php&quot;); if (xhr) &#123; xhr.onload = function () &#123; var json = JSON.parse(xhr.responseText); alert(json.a); &#125;; xhr.onerror = function () &#123; alert(&apos;ËØ∑Ê±ÇÂ§±Ë¥•.&apos;); &#125;; xhr.send(); &#125; &#125;; &#125;; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;input type=&quot;button&quot; value=&quot;Ëé∑ÂèñÊï∞ÊçÆ&quot; id=&quot;btn1&quot;&gt;&lt;/body&gt;&lt;/html&gt; Ê≥®ÊÑèÁÇπÔºö 1.‰∏äÈù¢‰ª£Á†ÅÂÖºÂÆπIE8,Âõ†‰∏∫Áî®‰∫ÜXDomainRequest 2.ÂÖ∂ÂÆÉ‰ª£Á†Å‰Ω†Â∞±ÂΩìÊàêXMLHttpRequsetÁî®ÔºåÂà´ËÄÉËôë‰ªÄ‰πà2.0‰∏ç2.0ÁöÑ 3.Â¶ÇÊûú‰Ω†ÊÉ≥postÊï∞ÊçÆÔºåÂèØ‰ª•ÂæÄ xhr.send()ÈáåÈù¢Êêû 4.ËøôÈáå‰∏çÂª∫ËÆÆÂ§ßÂÆ∂Á†îÁ©∂‚Äùsimple methdod‚Äù‰πãÁ±ªÁöÑÁü•ËØÜÔºå‰ª£Á†ÅÂºÑÊáÇ‰∫Ü‰ºöÁî®Â∞±Ë°åÔºåÈÅáÂà∞ÈóÆÈ¢ò‰∫ÜÂÜçÊü•‰πü‰∏çÊôö ÂêéÂè∞ÈÉ®ÂàÜÔºö &lt;?php header(&apos;content-type:application:json;charset=utf8&apos;); header(&apos;Access-Control-Allow-Origin:*&apos;); header(&apos;Access-Control-Allow-Methods:GET,POST&apos;); header(&apos;Access-Control-Allow-Credentials: true&apos;); header(&apos;Access-Control-Allow-Headers:x-requested-with,content-type&apos;); $str = &apos;{&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3,&quot;d&quot;:4,&quot;e&quot;:5}&apos;; echo $str; ?&gt; Ê≥®ÊÑèÁÇπÔºö 1.Access-Control-Allow-Origin: Ë°®Á§∫ÂÖÅËÆ∏‰ªª‰ΩïÂüüÂêçË∑®ÂüüËÆøÈóÆÔºåÂ¶ÇÊûúÈúÄË¶ÅÊåáÂÆöÊüêÂüüÂêçÊâçÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÔºåÂè™ÈúÄÊääAccess-Control-Allow-Origin:Êîπ‰∏∫Access-Control-Allow-Origin:ÂÖÅËÆ∏ÁöÑÂüüÂêç,ÂÆûÈôÖÂ∑•‰Ωú‰πüË¶ÅËøô‰πàÂÅö2.Access-Control-Allow-Methods:GET,POST ËßÑÂÆöÂÖÅËÆ∏ÁöÑÊñπÊ≥ïÔºåÂª∫ËÆÆÊéßÂà∂‰∏•Ê†º‰∫õÔºå‰∏çË¶ÅÈöèÊÑèÊîæÂºÄDELETE‰πãÁ±ªÁöÑÊùÉÈôê 2.Access-Control-Allow-Credentials ËØ•Â≠óÊÆµÂèØÈÄâ„ÄÇÂÆÉÁöÑÂÄºÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÊòØÂê¶ÂÖÅËÆ∏ÂèëÈÄÅCookie„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåCookie‰∏çÂåÖÊã¨Âú®CORSËØ∑Ê±Ç‰πã‰∏≠„ÄÇËÆæ‰∏∫trueÔºåÂç≥Ë°®Á§∫ÊúçÂä°Âô®ÊòéÁ°ÆËÆ∏ÂèØÔºåCookieÂèØ‰ª•ÂåÖÂê´Âú®ËØ∑Ê±Ç‰∏≠Ôºå‰∏ÄËµ∑ÂèëÁªôÊúçÂä°Âô®„ÄÇËøô‰∏™ÂÄº‰πüÂè™ËÉΩËÆæ‰∏∫trueÔºåÂ¶ÇÊûúÊúçÂä°Âô®‰∏çË¶ÅÊµèËßàÂô®ÂèëÈÄÅCookieÔºåÂà†Èô§ËØ•Â≠óÊÆµÂç≥ÂèØ„ÄÇ ÊúÄÂêéÔºåÈù¢ËØïÂ∏∏ËÄÉÈóÆÈ¢òÔºö CORSÂíåJSONPÁöÑÂ∫îÁî®Âú∫ÊôØÂå∫Âà´Ôºü CORSË¶ÅÊ±ÇÊµèËßàÂô®(&gt;IE10)ÂíåÊúçÂä°Âô®ÁöÑÂêåÊó∂ÊîØÊåÅÔºåÊòØË∑®ÂüüÁöÑÊ†πÊú¨Ëß£ÂÜ≥ÊñπÊ≥ïÔºåÁî±ÊµèËßàÂô®Ëá™Âä®ÂÆåÊàê„ÄÇ‰ºòÁÇπÂú®‰∫éÂäüËÉΩÊõ¥Âä†Âº∫Â§ßÊîØÊåÅÂêÑÁßçHTTP MethodÔºåÁº∫ÁÇπÊòØÂÖºÂÆπÊÄß‰∏çÂ¶ÇJSONP„ÄÇ ÂàöÊé•Ëß¶ÂâçÁ´ØÁöÑÊó∂ÂÄôÔºå‰ª•‰∏∫HTTPÁöÑRequest MethodÂè™ÊúâGET‰∏éPOST‰∏§ÁßçÔºåÂêéÊù•Êâç‰∫ÜËß£Âà∞ÔºåÂéüÊù•ËøòÊúâHEAD„ÄÅPUT„ÄÅDELETE„ÄÅOPTIONS‚Ä¶‚Ä¶ ÁõÆÂâçÁöÑÂ∑•‰Ωú‰∏≠ÔºåHEAD„ÄÅPUT„ÄÅDELETEÊàëÊòØÁúüÁöÑÊ≤°ÊúâËßÅËøá‚Ä¶‚Ä¶‰ΩÜÊòØOPTIONSÂá†‰πéÂ§©Â§©ÈÉΩ‰ºöÈÅáÂà∞„ÄÇÊú¨Âú∞ÁéØÂ¢ÉË∑ëÂÖ¨Âè∏È°πÁõÆÁöÑÊó∂ÂÄôÔºåÊØèÊ¨°POST‰πãÂâçÔºå‰∏∫Âï•ÊµèËßàÂô®ËøòÂÅ∑ÂÅ∑ÁªôÊàëÊù•‰∏ÄÊ¨°Ê≤°ÊúâËøîÂõûÁöÑOPTIONSËØ∑Ê±ÇÔºü ÂéüÊù•ÔºåÊµèËßàÂô®Âú®Êüê‰∫õËØ∑Ê±Ç‰∏≠ÔºåÂú®Ê≠£ÂºèÈÄö‰ø°Ââç‰ºöÂ¢ûÂä†‰∏ÄÊ¨°HTTPÊü•ËØ¢ËØ∑Ê±ÇÔºåÁß∞‰∏∫‚ÄùÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÔºàpreflightÔºâ„ÄÇOPTIONSÊñπÊ≥ïÊòØÁî®‰∫éËØ∑Ê±ÇËé∑ÂæóÁî±Request-URIÊ†áËØÜÁöÑËµÑÊ∫êÂú®ËØ∑Ê±Ç/ÂìçÂ∫îÁöÑÈÄö‰ø°ËøáÁ®ã‰∏≠ÂèØ‰ª•‰ΩøÁî®ÁöÑÂäüËÉΩÈÄâÈ°π„ÄÇÈÄöËøáËøô‰∏™ÊñπÊ≥ïÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•Âú®ÈááÂèñÂÖ∑‰ΩìËµÑÊ∫êËØ∑Ê±Ç‰πãÂâçÔºåÂÜ≥ÂÆöÂØπËØ•ËµÑÊ∫êÈááÂèñ‰ΩïÁßçÂøÖË¶ÅÊé™ÊñΩÔºåÊàñËÄÖ‰∫ÜËß£ÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇËØ•ËØ∑Ê±ÇÊñπÊ≥ïÁöÑÂìçÂ∫î‰∏çËÉΩÁºìÂ≠ò„ÄÇÊµèËßàÂô®ÂÖàËØ¢ÈóÆÊúçÂä°Âô®ÔºåÂΩìÂâçÁΩëÈ°µÊâÄÂú®ÁöÑÂüüÂêçÊòØÂê¶Âú®ÊúçÂä°Âô®ÁöÑËÆ∏ÂèØÂêçÂçï‰πã‰∏≠Ôºå‰ª•ÂèäÂèØ‰ª•‰ΩøÁî®Âì™‰∫õHTTPÂä®ËØçÂíåÂ§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇÂè™ÊúâÂæóÂà∞ËÇØÂÆöÁ≠îÂ§çÔºåÊµèËßàÂô®Êâç‰ºöÂèëÂá∫Ê≠£ÂºèÁöÑXMLHttpRequestËØ∑Ê±ÇÔºåÂê¶ÂàôÂ∞±Êä•Èîô„ÄÇ Â¶ÇÊûúËøô‰∏™OPTIONSËØ∑Ê±ÇÂåÖÂê´‰∏Ä‰∏™Ê≠£ÊñáÔºàÊúâContent-LengthÊàñTransfer-EncodingÂ≠òÂú®ÔºâÔºåÂàôÂøÖÈ°ªÊúâContent-TypeÊù•ÊåáÂÆöÂ™í‰ΩìÁ±ªÂûã„ÄÇËôΩÁÑ∂ËßÑËåÉÈáåÊ≤°ÊúâÂÆö‰πâËøôÁßçÊ≠£ÊñáÁöÑÁî®Ê≥ïÔºå‰ΩÜÊòØHTTPÂ∞ÜÊù•ÁöÑÊâ©Â±ïÂèØËÉΩ‰ºöÁî®ÂÆÉÊù•Êü•ËØ¢ÊúçÂä°Âô®‰∏äÊõ¥ËØ¶ÁªÜÁöÑ‰ø°ÊÅØ„ÄÇ‰∏çÊîØÊåÅËØ•Êâ©Â±ïÁöÑÊúçÂä°Âô®ÂèØ‰ª•ÂøΩÁï•ËØ•ËØ∑Ê±ÇÊ≠£Êñá„ÄÇ Â¶ÇÊûúËØ•URIÊòØ‰∏Ä‰∏™ÊòüÂè∑Ôºà‚Äú‚ÄùÔºâÔºåOPTIONSËØ∑Ê±ÇÂ∞ÜËØïÂõæÂ∫îÁî®‰∫éÊúçÂä°Âô®ÔºåËÄå‰∏çÊòØÊüê‰∏™ÊåáÂÆöËµÑÊ∫ê„ÄÇÁî±‰∫éÊúçÂä°Âô®ÁöÑÈÄö‰ø°ÈÄâÈ°πÈÄöÂ∏∏‰æùËµñ‰∫éËµÑÊ∫êÔºåÊâÄ‰ª•Ê≠§‚Äú‚ÄùËØ∑Ê±ÇÂè™ËÉΩ‰Ωú‰∏∫‚Äúping‚ÄùÊàñËÄÖ‚Äúno-op‚ÄùÊñπÊ≥ïÔºõÊàñËÄÖÁî®Êù•ÊµãËØïÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÁî®Êù•ÊµãËØïHTTP/1.1‰ª£ÁêÜ„ÄÇ Â¶ÇÊûúËØ•URI‰∏çÊòØÊòüÂè∑ÔºåÂàôÂè™ËÉΩÁî®Êù•Ëé∑ÂèñËØ•ËµÑÊ∫êÈÄö‰ø°‰∏≠ÂèØÁî®ÁöÑÈÄâÈ°π„ÄÇ ÂæóÂà∞ÁöÑ200ÂìçÂ∫îÂ∫îËØ•ÂåÖÂê´‰∏Ä‰∏™Â§¥ÂüüÔºåÊåáÊòéÊúçÂä°Âô®ÂÆûÁé∞ÁöÑÂíåÈÄÇÁî®‰∫éËØ•ËµÑÊ∫êÁöÑÂèØÈÄâÁâπÂæÅÔºàÂ¶ÇÔºöAllowÔºâÔºåÂèØËÉΩËøòÂåÖÊã¨ËØ•ËßÑËåÉÂ∞öÊú™ÂÆö‰πâÁöÑÊâ©Â±ï„ÄÇÂ¶ÇÊûúÊúâÂìçÂ∫îÊ≠£ÊñáÔºåÂàôÂ∫îÂåÖÂê´ÂÖ≥‰∫éÈÄö‰ø°ÈÄâÈ°πÁöÑ‰ø°ÊÅØ„ÄÇÊú¨ËßÑËåÉÊ≤°ÊúâÂÆö‰πâËØ•Ê≠£ÊñáÊ†ºÂºèÔºå‰ΩÜÂèØËÉΩÂú®HTTOÂ∞ÜÊù•ÁöÑÊâ©Â±ï‰∏≠ÂÆö‰πâ„ÄÇÂèØ‰ª•Âà©Áî®ÂÜÖÂÆπÂçèÂïÜÊù•ÈÄâÊã©ÂêàÈÄÇÁöÑÂìçÂ∫îÊ†ºÂºè„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂìçÂ∫îÊ≠£ÊñáÔºåÂìçÂ∫îÂøÖÈ°ªÂåÖÂê´Content-LengthÔºåÂπ∂‰∏îÂÄº‰∏∫‚Äú0‚Äù„ÄÇ ËØ∑Ê±ÇÂ§¥ÁöÑMax-ForwardsÁî®Êù•ËØ∑Ê±ÇÁâπÂÆö‰ª£ÁêÜ„ÄÇÂΩì‰ª£ÁêÜÊî∂Âà∞‰∏Ä‰∏™ÂÖÅËÆ∏URIËΩ¨ÂèëÁöÑOPTIONSËØ∑Ê±ÇÔºåÂàôÊ£ÄÊü•Max-Forwards„ÄÇÂ¶ÇÊûúMax-ForwardsÂÄº‰∏∫0ÔºåÂàô‰∏çËÉΩËΩ¨ÂèëËØ•Ê∂àÊÅØÔºõÁõ∏ÂèçÔºå‰ª£ÁêÜ‰ºöÂ∞ÜËá™Â∑±ÁöÑÈÄö‰ø°ÈÄâÈ°πÂéªÂìçÂ∫î„ÄÇÂ¶ÇÊûúMax-ForwardsÊòØÊ≠£Êï¥Êï∞Ôºå‰ª£ÁêÜËΩ¨ÂèëËØ∑Ê±ÇÁöÑÊó∂ÂÄô‰ºöÂ∞ÜËØ•ÂÄºÂáè1„ÄÇÂ¶ÇÊûúËØ∑Ê±Ç‰∏≠Ê≤°ÊúâMax-ForwardsÔºåËΩ¨ÂèëÁöÑËØ∑Ê±Ç‰πü‰∏ç‰ºöÊúâ„ÄÇ ÁÆÄËÄåË®Ä‰πãOPTIONSËØ∑Ê±ÇÊñπÊ≥ïÁöÑ‰∏ªË¶ÅÁî®ÈÄîÊúâ‰∏§‰∏™Ôºö 1„ÄÅËé∑ÂèñÊúçÂä°Âô®ÊîØÊåÅÁöÑHTTPËØ∑Ê±ÇÊñπÊ≥ïÔºõ‰πüÊòØÈªëÂÆ¢ÁªèÂ∏∏‰ΩøÁî®ÁöÑÊñπÊ≥ï„ÄÇ 2„ÄÅÁî®Êù•Ê£ÄÊü•ÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇ‰æãÂ¶ÇÔºöAJAXËøõË°åË∑®ÂüüËØ∑Ê±ÇÊó∂ÁöÑÈ¢ÑÊ£ÄÔºåÈúÄË¶ÅÂêëÂè¶Â§ñ‰∏Ä‰∏™ÂüüÂêçÁöÑËµÑÊ∫êÂèëÈÄÅ‰∏Ä‰∏™HTTP OPTIONSËØ∑Ê±ÇÂ§¥ÔºåÁî®‰ª•Âà§Êñ≠ÂÆûÈôÖÂèëÈÄÅÁöÑËØ∑Ê±ÇÊòØÂê¶ÂÆâÂÖ®„ÄÇÂ¶Ç‰∏ä‰∏§Âº†ÂõæÁâáÔºåÂõæ2Â∞±ÊòØÊú¨Âú∞ÁéØÂ¢ÉÔºåÊú¨Âú∞ÁéØÂ¢ÉËØ∑Ê±ÇÊé•Âè£ÁöÑÊó∂ÂÄôÔºåÊØèÊ¨°ËØ∑Ê±ÇÊé•Âè£‰πãÂâçÈÉΩ‰ºöÂ§ö‰∏ÄÊ¨°OPTIONSËØ∑Ê±Ç„ÄÇ CORSCORSÊòØ‰∏Ä‰∏™W3CÊ†áÂáÜÔºåÂÖ®Áß∞ÊòØ‚ÄùË∑®ÂüüËµÑÊ∫êÂÖ±‰∫´‚ÄùÔºàCross-origin resource sharingÔºâ„ÄÇ ÂÆÉÂÖÅËÆ∏ÊµèËßàÂô®ÂêëË∑®Ê∫êÊúçÂä°Âô®ÔºåÂèëÂá∫XMLHttpRequestËØ∑Ê±ÇÔºå‰ªéËÄåÂÖãÊúç‰∫ÜAJAXÂè™ËÉΩÂêåÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇ CORSÈúÄË¶ÅÊµèËßàÂô®ÂíåÊúçÂä°Âô®ÂêåÊó∂ÊîØÊåÅ„ÄÇÁõÆÂâçÔºåÊâÄÊúâÊµèËßàÂô®ÈÉΩÊîØÊåÅËØ•ÂäüËÉΩÔºåIEÊµèËßàÂô®‰∏çËÉΩ‰Ωé‰∫éIE10„ÄÇÊï¥‰∏™CORSÈÄö‰ø°ËøáÁ®ãÔºåÈÉΩÊòØÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÔºå‰∏çÈúÄË¶ÅÁî®Êà∑ÂèÇ‰∏é„ÄÇÂØπ‰∫éÂºÄÂèëËÄÖÊù•ËØ¥ÔºåCORSÈÄö‰ø°‰∏éÂêåÊ∫êÁöÑAJAXÈÄö‰ø°Ê≤°ÊúâÂ∑ÆÂà´Ôºå‰ª£Á†ÅÂÆåÂÖ®‰∏ÄÊ†∑„ÄÇÊµèËßàÂô®‰∏ÄÊó¶ÂèëÁé∞AJAXËØ∑Ê±ÇË∑®Ê∫êÔºåÂ∞±‰ºöËá™Âä®Ê∑ªÂä†‰∏Ä‰∫õÈôÑÂä†ÁöÑÂ§¥‰ø°ÊÅØÔºåÊúâÊó∂Ëøò‰ºöÂ§öÂá∫‰∏ÄÊ¨°ÈôÑÂä†ÁöÑËØ∑Ê±ÇÔºå‰ΩÜÁî®Êà∑‰∏ç‰ºöÊúâÊÑüËßâ„ÄÇÂõ†Ê≠§ÔºåÂÆûÁé∞CORSÈÄö‰ø°ÁöÑÂÖ≥ÈîÆÊòØÊúçÂä°Âô®„ÄÇÂè™Ë¶ÅÊúçÂä°Âô®ÂÆûÁé∞‰∫ÜCORSÊé•Âè£ÔºåÂ∞±ÂèØ‰ª•Ë∑®Ê∫êÈÄö‰ø°„ÄÇ ‰∏§ÁßçËØ∑Ê±ÇÊµèËßàÂô®Â∞ÜCORSËØ∑Ê±ÇÂàÜ‰∏∫‰∏§Á±ªÔºöÁÆÄÂçïËØ∑Ê±ÇÔºàsimple requestÔºâÂíåÈùûÁÆÄÂçïËØ∑Ê±ÇÔºànot-so-simple requestÔºâ„ÄÇ ÂêåÊó∂Êª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÔºåÂ∞±ÊòØÁÆÄÂçïËØ∑Ê±ÇÔºö Ôºà1) ËØ∑Ê±ÇÊñπÊ≥ïÊòØ‰ª•‰∏ã‰∏âÁßçÊñπÊ≥ï‰πã‰∏ÄÔºö HEAD GET POST Ôºà2ÔºâHTTPÁöÑÂ§¥‰ø°ÊÅØ‰∏çË∂ÖÂá∫‰ª•‰∏ãÂá†ÁßçÂ≠óÊÆµÔºö Accept Accept-Language Content-Language Last-Event-ID Content-TypeÔºöÂè™Èôê‰∫é‰∏â‰∏™ÂÄºapplication/x-www-form-urlencoded„ÄÅmultipart/form-data„ÄÅtext/plain ÁÆÄÂçïËØ∑Ê±ÇÂØπ‰∫éÁÆÄÂçïËØ∑Ê±ÇÔºåÊµèËßàÂô®Áõ¥Êé•ÂèëÂá∫CORSËØ∑Ê±Ç„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ∞±ÊòØÂú®Â§¥‰ø°ÊÅØ‰πã‰∏≠ÔºåÂ¢ûÂä†‰∏Ä‰∏™OriginÂ≠óÊÆµ„ÄÇ OriginÂ≠óÊÆµÁî®Êù•ËØ¥ÊòéÔºåÊú¨Ê¨°ËØ∑Ê±ÇÊù•Ëá™Âì™‰∏™Ê∫êÔºàÂçèËÆÆ + ÂüüÂêç + Á´ØÂè£Ôºâ„ÄÇÊúçÂä°Âô®Ê†πÊçÆËøô‰∏™ÂÄºÔºåÂÜ≥ÂÆöÊòØÂê¶ÂêåÊÑèËøôÊ¨°ËØ∑Ê±Ç„ÄÇ Â¶ÇÊûúOriginÊåáÂÆöÁöÑÊ∫êÔºå‰∏çÂú®ËÆ∏ÂèØËåÉÂõ¥ÂÜÖÔºåÊúçÂä°Âô®‰ºöËøîÂõû‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑHTTPÂõûÂ∫î„ÄÇÊµèËßàÂô®ÂèëÁé∞ÔºåËøô‰∏™ÂõûÂ∫îÁöÑÂ§¥‰ø°ÊÅØÊ≤°ÊúâÂåÖÂê´Access-Control-Allow-OriginÂ≠óÊÆµÔºàËØ¶ËßÅ‰∏ãÊñáÔºâÔºåÂ∞±Áü•ÈÅìÂá∫Èîô‰∫ÜÔºå‰ªéËÄåÊäõÂá∫‰∏Ä‰∏™ÈîôËØØÔºåË¢´XMLHttpRequestÁöÑonerrorÂõûË∞ÉÂáΩÊï∞ÊçïËé∑„ÄÇÊ≥®ÊÑèÔºåËøôÁßçÈîôËØØÊó†Ê≥ïÈÄöËøáÁä∂ÊÄÅÁ†ÅËØÜÂà´ÔºåÂõ†‰∏∫HTTPÂõûÂ∫îÁöÑÁä∂ÊÄÅÁ†ÅÊúâÂèØËÉΩÊòØ200„ÄÇ Â¶ÇÊûúOriginÊåáÂÆöÁöÑÂüüÂêçÂú®ËÆ∏ÂèØËåÉÂõ¥ÂÜÖÔºåÊúçÂä°Âô®ËøîÂõûÁöÑÂìçÂ∫îÔºå‰ºöÂ§öÂá∫Âá†‰∏™Â§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇÈÉΩ‰ª•Access-Control- ÂºÄÂ§¥Ôºö Ôºà1ÔºâAccess-Control-Allow-Origin ËØ•Â≠óÊÆµÊòØÂøÖÈ°ªÁöÑ„ÄÇÂÆÉÁöÑÂÄºË¶Å‰πàÊòØËØ∑Ê±ÇÊó∂OriginÂ≠óÊÆµÁöÑÂÄºÔºåË¶Å‰πàÊòØ‰∏Ä‰∏™*ÔºåË°®Á§∫Êé•Âèó‰ªªÊÑèÂüüÂêçÁöÑËØ∑Ê±Ç„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûúË¶ÅÂèëÈÄÅCookieÔºåAccess-Control-Allow-OriginÂ∞±‰∏çËÉΩËÆæ‰∏∫ÊòüÂè∑ÔºåÂøÖÈ°ªÊåáÂÆöÊòéÁ°ÆÁöÑ„ÄÅ‰∏éËØ∑Ê±ÇÁΩëÈ°µ‰∏ÄËá¥ÁöÑÂüüÂêç„ÄÇÂêåÊó∂ÔºåCookie‰æùÁÑ∂ÈÅµÂæ™ÂêåÊ∫êÊîøÁ≠ñÔºåÂè™ÊúâÁî®ÊúçÂä°Âô®ÂüüÂêçËÆæÁΩÆÁöÑCookieÊâç‰ºö‰∏ä‰º†ÔºåÂÖ∂‰ªñÂüüÂêçÁöÑCookieÂπ∂‰∏ç‰ºö‰∏ä‰º†Ôºå‰∏îÔºàË∑®Ê∫êÔºâÂéüÁΩëÈ°µ‰ª£Á†Å‰∏≠ÁöÑdocument.cookie‰πüÊó†Ê≥ïËØªÂèñÊúçÂä°Âô®ÂüüÂêç‰∏ãÁöÑCookie„ÄÇ Ôºà2ÔºâAccess-Control-Allow-Credentials ËØ•Â≠óÊÆµÂèØÈÄâ„ÄÇÂÆÉÁöÑÂÄºÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÊòØÂê¶ÂÖÅËÆ∏ÂèëÈÄÅCookie„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåCookie‰∏çÂåÖÊã¨Âú®CORSËØ∑Ê±Ç‰πã‰∏≠„ÄÇËÆæ‰∏∫trueÔºåÂç≥Ë°®Á§∫ÊúçÂä°Âô®ÊòéÁ°ÆËÆ∏ÂèØÔºåCookieÂèØ‰ª•ÂåÖÂê´Âú®ËØ∑Ê±Ç‰∏≠Ôºå‰∏ÄËµ∑ÂèëÁªôÊúçÂä°Âô®„ÄÇËøô‰∏™ÂÄº‰πüÂè™ËÉΩËÆæ‰∏∫trueÔºåÂ¶ÇÊûúÊúçÂä°Âô®‰∏çË¶ÅÊµèËßàÂô®ÂèëÈÄÅCookieÔºåÂà†Èô§ËØ•Â≠óÊÆµÂç≥ÂèØ„ÄÇ Ôºà3ÔºâAccess-Control-Expose-Headers ËØ•Â≠óÊÆµÂèØÈÄâ„ÄÇCORSËØ∑Ê±ÇÊó∂ÔºåXMLHttpRequestÂØπË±°ÁöÑgetResponseHeader()ÊñπÊ≥ïÂè™ËÉΩÊãøÂà∞6‰∏™Âü∫Êú¨Â≠óÊÆµÔºöCache-Control„ÄÅContent-Language„ÄÅContent-Type„ÄÅExpires„ÄÅLast-Modified„ÄÅPragma„ÄÇÂ¶ÇÊûúÊÉ≥ÊãøÂà∞ÂÖ∂‰ªñÂ≠óÊÆµÔºåÂ∞±ÂøÖÈ°ªÂú®Access-Control-Expose-HeadersÈáåÈù¢ÊåáÂÆö„ÄÇ ÈùûÁÆÄÂçïËØ∑Ê±ÇÈùûÁÆÄÂçïËØ∑Ê±ÇÊòØÈÇ£ÁßçÂØπÊúçÂä°Âô®ÊúâÁâπÊÆäË¶ÅÊ±ÇÁöÑËØ∑Ê±ÇÔºåÊØîÂ¶ÇËØ∑Ê±ÇÊñπÊ≥ïÊòØPUTÊàñDELETEÔºåÊàñËÄÖContent-TypeÂ≠óÊÆµÁöÑÁ±ªÂûãÊòØapplication/json„ÄÇ ÊàëÂ∑•‰Ωú‰∏≠ÂÜôÁöÑÊâÄÊúâÈ°µÈù¢ÊãâÁöÑÊé•Âè£ÈÉΩÊòØÈùûÁÆÄÂçïËØ∑Ê±Ç„ÄÇÈùûÁÆÄÂçïËØ∑Ê±ÇÁöÑCORSËØ∑Ê±ÇÔºå‰ºöÂú®Ê≠£ÂºèÈÄö‰ø°‰πãÂâçÔºåÂ¢ûÂä†‰∏ÄÊ¨°HTTPÊü•ËØ¢ËØ∑Ê±ÇÔºåÁß∞‰∏∫‚ÄùÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÔºàpreflightÔºâ„ÄÇ ÊµèËßàÂô®ÂÖàËØ¢ÈóÆÊúçÂä°Âô®ÔºåÂΩìÂâçÁΩëÈ°µÊâÄÂú®ÁöÑÂüüÂêçÊòØÂê¶Âú®ÊúçÂä°Âô®ÁöÑËÆ∏ÂèØÂêçÂçï‰πã‰∏≠Ôºå‰ª•ÂèäÂèØ‰ª•‰ΩøÁî®Âì™‰∫õHTTPÂä®ËØçÂíåÂ§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇÂè™ÊúâÂæóÂà∞ËÇØÂÆöÁ≠îÂ§çÔºåÊµèËßàÂô®Êâç‰ºöÂèëÂá∫Ê≠£ÂºèÁöÑXMLHttpRequestËØ∑Ê±ÇÔºåÂê¶ÂàôÂ∞±Êä•Èîô„ÄÇ Âú®È°µÈù¢ÂüüÂêç‰∏éÊé•Âè£ÂüüÂêç‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞±Âá∫Áé∞‰∫ÜÊØèÊ¨°ËØ∑Ê±ÇÂâçÂÖàÂèëÈÄÅ‰∏Ä‰∏™optionsËØ∑Ê±ÇÁöÑÈóÆÈ¢ò„ÄÇ OPTIONSËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ‰∏≠ÔºåÈô§‰∫ÜOriginÂ≠óÊÆµÔºåËøòËá≥Â∞ë‰ºöÂ§ö‰∏§‰∏™ÁâπÊÆäÂ≠óÊÆµÔºö Ôºà1ÔºâAccess-Control-Request-Method ËØ•Â≠óÊÆµÊòØÂøÖÈ°ªÁöÑÔºåÁî®Êù•ÂàóÂá∫ÊµèËßàÂô®ÁöÑCORSËØ∑Ê±Ç‰ºöÁî®Âà∞Âì™‰∫õHTTPÊñπÊ≥ï„ÄÇ Ôºà2ÔºâAccess-Control-Request-Headers ËØ•Â≠óÊÆµÊòØ‰∏Ä‰∏™ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊåáÂÆöÊµèËßàÂô®CORSËØ∑Ê±Ç‰ºöÈ¢ùÂ§ñÂèëÈÄÅÁöÑÂ§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇ Ëá≥‰∫éÂÖ∂‰ªñ‰π±‰∏ÉÂÖ´Á≥üÁöÑÂ≠óÊÆµÔºåÁé∞Âú®ÁöÑÊàëËøòÁî®‰∏çÂà∞‰πü‰∏çÊáÇÔºåÂ∞Ü‰ºöÊÖ¢ÊÖ¢Ê∑±ÂÖ•‰∫ÜËß£„ÄÇ ÊúçÂä°Âô®Êî∂Âà∞È¢ÑÊ£ÄËØ∑Ê±ÇÂêéÔºåÊ£ÄÊü•‰∫ÜOrigin„ÄÅAccess-Control-Request-MethodÂíåAccess-Control-Request-HeadersÂ≠óÊÆµ‰ª•ÂêéÔºåÁ°ÆËÆ§ÂÖÅËÆ∏Ë∑®Ê∫êËØ∑Ê±ÇÔºåÂ∞±ÂèØ‰ª•ÂÅöÂá∫ÂõûÂ∫î„ÄÇ ‰∏äÈù¢ÁöÑHTTPÂõûÂ∫î‰∏≠ÔºåÂÖ≥ÈîÆÁöÑÊòØAccess-Control-Allow-OriginÂ≠óÊÆµÔºåË°®Á§∫http://lizard.qa.nt.ctripcorp.comÂèØ‰ª•ËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇËØ•Â≠óÊÆµ‰πüÂèØ‰ª•ËÆæ‰∏∫ÊòüÂè∑ÔºåË°®Á§∫ÂêåÊÑè‰ªªÊÑèË∑®Ê∫êËØ∑Ê±Ç„ÄÇ Â¶ÇÊûúÊµèËßàÂô®Âê¶ÂÆö‰∫Ü‚ÄùÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÔºå‰ºöËøîÂõû‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑHTTPÂõûÂ∫îÔºå‰ΩÜÊòØÊ≤°Êúâ‰ªª‰ΩïCORSÁõ∏ÂÖ≥ÁöÑÂ§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇËøôÊó∂ÔºåÊµèËßàÂô®Â∞±‰ºöËÆ§ÂÆöÔºåÊúçÂä°Âô®‰∏çÂêåÊÑèÈ¢ÑÊ£ÄËØ∑Ê±ÇÔºåÂõ†Ê≠§Ëß¶Âèë‰∏Ä‰∏™ÈîôËØØÔºåË¢´XMLHttpRequestÂØπË±°ÁöÑonerrorÂõûË∞ÉÂáΩÊï∞ÊçïËé∑„ÄÇÊéßÂà∂Âè∞‰ºöÊâìÂç∞Âá∫Â¶Ç‰∏ãÁöÑÊä•Èîô‰ø°ÊÅØ„ÄÇ XMLHttpRequest cannot load http://lizard.qa.nt.ctripcorp.comOrigin http://lizard.qa.nt.ctripcorp.com is not allowed by Access-Control-Allow-Origin. ÂÖ∂‰ªñÂ≠óÊÆµ‰∏≠Access-Control-Max-Age Áî®Êù•ÊåáÂÆöÊú¨Ê¨°È¢ÑÊ£ÄËØ∑Ê±ÇÁöÑÊúâÊïàÊúüÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇËØ•Â≠óÊÆµÂèØÈÄâ„ÄÇ ‰∏éJSONPÁöÑÂØπÊØîCORS‰∏éJSONPÁöÑ‰ΩøÁî®ÁõÆÁöÑÁõ∏ÂêåÔºå‰ΩÜÊòØÊØîJSONPÊõ¥Âº∫Â§ß„ÄÇ JSONPÂè™ÊîØÊåÅGETËØ∑Ê±ÇÔºåJSONPÁöÑ‰ºòÂäøÂú®‰∫éÊîØÊåÅËÄÅÊóßÊµèËßàÂô®„ÄÇ]]></content>
      <tags>
        <tag>Ë∑®Âüü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£window.onload]]></title>
    <url>%2F2017%2F12%2F30%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3window-onload%2F</url>
    <content type="text"><![CDATA[Áé∞Ë±°ÔºöÂú®‰∏Ä‰∏™ Hybrid Â∫îÁî®‰∏≠ÔºåÁî®Êà∑ÂèçÈ¶àÂº±ÁΩëÊù°‰ª∂‰∏ãÈ°µÈù¢ÁöÑËøõÂ∫¶Êù°ÊÄªÊòØ‰∏çÊ∂àÂ§±ÔºåÊúÄÂêéÂèëÁé∞ÊòØÈ°µÈù¢Êé•Âè£ÂÖà‰∫éÂÖ∂‰ªñËµÑÊ∫êËøîÂõûÔºåËÄåÊé•Âè£‰∏≠ÂåÖÂê´Â§ßÈáèÂõæÁâáÂØºËá¥‰∫Ü onload ‰ºöÊé®ËøüÔºå‰ªéËÄåÂÆ¢Êà∑Á´ØÊéßÂà∂ÁöÑËøõÂ∫¶Êù°‰∏ç‰ºöÊ∂àÂ§±ÔºåÈ°µÈù¢Ë∞ÉÁî®ÂÆ¢Êà∑Á´ØÁöÑÊñπÊ≥ï‰∏ç‰ºöÊâßË°å„ÄÇ ÂÖàÊîæÁªìËÆ∫onloadÁöÑËß¶ÂèëÊó∂Êú∫Ôºö JS Âä†ËΩΩÂπ∂ÊâßË°åÂÆåÊØï‰∏îÈ°µÈù¢‰∏≠ÊâÄÊúâÂ§ñÈìæËµÑÊ∫êÂä†ËΩΩÂÆåÊàê‰πãÂêéÂ§ßÁ∫¶ 3 - 4msÔºàËøô‰∏™ÂÄºË∑üÊú∫ÂûãÂíåÊµèËßàÂô®ÊúâÂÖ≥Ôºâ ÊúÄ‰Ω≥ÂÆûË∑µÔºö JS‰ª£Á†ÅÁöÑÊâßË°åË¶ÅÊîæÂà∞onloadÈáå„ÄÇÂ¶ÇÊûúÊòØÊúçÂä°Á´ØÊ∏≤ÊüìÂ∏¶ÂõæÁâáÁöÑÂàóË°®ÔºåÂõæÁâáÊúÄÂ•ΩÁî±JSÂºÇÊ≠•Âä†ËΩΩÔºåÈÅøÂÖçÈòªÂ°ûonload„ÄÇ onload‰∏çÊòØÁ´ãÂç≥Ëß¶ÂèëÁöÑËØ∑ÈóÆ‰∏ãÈù¢Âì™‰∏™alertÂÖàËß¶ÂèëÔºü123456window.onload = function() &#123; alert(&apos;onload&apos;);&#125;setTimeout(function()&#123; alert(&apos;timeout&apos;);&#125;, 2) Á≠îÊ°àÊòØ timeout ÂÖàËß¶Âèë„ÄÇËÄåÂú®ÊàëÁöÑÁîµËÑë‰∏äÔºåÊää timeout ÁöÑÂÄºË∞ÉÊàê100 Êàñ 100 ‰ª•‰∏äÔºåÂ∞±ÊòØ onload ÂÖàËß¶Âèë‰∫Ü„ÄÇ JSÁöÑÊâßË°åÂØπonloadÊúâÂΩ±Âìç1234567window.onload = function() &#123; alert(&apos;onload&apos;);&#125;var afor (var i = 0; i &lt; 100000000; i++) &#123; a = a + i;&#125; ‰Ω†‰ºöÂèëÁé∞ onload ‰ºöÁ≠âÂæà‰πÖÊâçËß¶ÂèëÔºåÂõ†Ê≠§JSÁöÑÊâßË°åÊúÄÂ•ΩÊîæÂú®onload‰πãÂêé„ÄÇ Âä®ÊÄÅÂä†ËΩΩÁöÑËµÑÊ∫êÂèØËÉΩÂØπonload‰∫ßÁîüÂΩ±Âìç1234567&lt;body&gt;&lt;/body&gt;&lt;script&gt; window.onload = function() &#123; alert(&apos;onload&apos;); &#125; document.body.innerHTML = &apos;&lt;img src=&quot;a.png&quot;&gt; .... &lt;img src=&quot;z.png&quot;&gt;&apos;;&lt;/script&gt; Êàë‰ª¨ÊääÁΩëÈÄüË∞ÉÁöÑÊÖ¢‰∏ÄÁÇπÔºåÊàë‰ª¨‰ºöÂæàÊ∏ÖÊô∞ÁöÑÂèëÁé∞ËøôÁßç JS Âä®ÊÄÅÂä†ËøõÂéªÁöÑÂõæÁâá‰πü‰ºöÈòªÂ°û onloadÔºåÂè™Êúâ a-z ÂõæÁâáÈÉΩÂä†ËΩΩÂÆåÊàêÔºåonload Êâç‰ºöËß¶Âèë„ÄÇËÄåÊàë‰ª¨ÊîπÊàê‰∏ãÈù¢Ôºö123456window.onload = function() &#123; setTimeout(function() &#123; document.body.innerHTML = &apos;&lt;img src=&quot;a.png&quot;&gt; .... &lt;img src=&quot;z.png&quot;&gt;&apos;; &#125;, 10) alert(&apos;onload&apos;);&#125; ËøôÊó∂Â∞±‰ºöÂèëÁé∞Ôºåonload È©¨‰∏äÂ∞±Ëß¶Âèë‰∫ÜÔºå‰∏çÂøÖÁ≠âÂæÖÂõæÁâáÂä†ËΩΩÂÆåÊàê„ÄÇ ÂÜçËÆ≤‰∏Ä‰∏™Êõ¥ÂÆûÈôÖÁöÑ‰æãÂ≠êÔºö1234567891011121314&lt;img src=&quot;aaa.png&quot;&gt;&lt;script&gt;window.onload = function() &#123; alert(&apos;onload&apos;);&#125;$.ajax(&#123; url: imgList, success: function(arr) &#123; arr.forEach(function() &#123; $(&apos;body&apos;).append(&apos;&lt;img src=&quot;&apos; + arr.imgUrl + &apos;&quot;&gt;&apos;) &#125;) &#125;&#125;)&lt;/script&gt; ÂÅáËÆæ aaa.png Âä†ËΩΩÊó∂Èó¥‰∏∫ 100msÔºåajax Êé•Âè£ËøîÂõûÊó∂Èó¥‰∏∫ 50msÔºåÈÇ£‰πàÂÅáËÆæ imgList ‰∏≠Êúâ 100 Âº†ÂõæÁâáÔºåÈÇ£‰πà onload ÁöÑÊó∂Èó¥Â∞±‰ºöË¢´Êé®ËøüÂà∞Ëøô 100 Âº†ÂõæÁâáÈÉΩÂä†ËΩΩÂÆåÊàê‰πãÂêé„ÄÇ ËÄåÂ¶ÇÊûú aaa.png Âä†ËΩΩÊó∂Èó¥‰∏∫ 50msÔºåÊé•Âè£ËØ∑Ê±Ç‰∏∫ 100ms ÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏ç‰ºöÊúâËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÊàë‰ª¨Ê≤°Ê≥ï‰øùËØÅÊé•Âè£ËØ∑Ê±Ç‰∏ÄÂÆöÊÖ¢‰∫éÂõæÁâáËØ∑Ê±Ç„ÄÇ Âõ†Ê≠§Â∏¶ÂõæÁâáÁöÑÂàóË°®ËØ∑Ê±ÇÈúÄË¶ÅÊîæÂú® window.onload ‰πãÂêéÊâßË°å„ÄÇ onloadÂíåÂÆ¢Êà∑Á´ØÊñπÊ≥ïÁöÑÂØπÂ∫îiOS ‰∏≠Âà§Êñ≠ webview Âä†ËΩΩÂÆåÊàêÁöÑ webViewDidFinishLoad ÊñπÊ≥ïÔºåAndroid ‰∏≠Âà§Êñ≠ webview Âä†ËΩΩÂÆåÊàêÁöÑ onPageFinished ÊñπÊ≥ïÊú¨Ë¥®Ëß¶ÂèëÊó∂Êú∫‰∏äÈÉΩÂØπÂ∫îÈ°µÈù¢‰∏äÁöÑ window.onloadÔºå‰∏ÄËà¨Êù•ËØ¥‰ºöÁ®çÊôö‰∫é window.onloadÔºàÊüê‰∫õÁâπÊÆäÊÉÖÂÜµ‰ºöÊó©‰∫é window.onloadÔºåÊØîÂ¶ÇÈ°µÈù¢ÈáåÊúâ iframe Á≠âÊÉÖÂÜµÔºâ„ÄÇ ‰πüÂ∞±ÊòØËØ¥ ÂØπ onload ÊúâÂΩ±ÂìçÁöÑÂõ†Á¥†‰πüÂêåÊ†∑‰ºöÂΩ±ÂìçËøô‰∫õ Native ÊñπÊ≥ï„ÄÇËÄåÂú® Hybrid ÂºÄÂèë‰∏≠Ôºå‰∏Ä‰∫õ Native Âíå Web ‰πãÈó¥ÁöÑ‰∫§‰∫íÂíåË∞ÉÁî®ÂæÄÂæÄË¶ÅÂú®webViewDidFinishLoad / onPageFinished ‰πãÂêé„ÄÇÂõ†Ê≠§Â¶ÇÊûú onload ÁöÑËß¶ÂèëË¢´Êé®Ëøü‰∫ÜÔºåÈÇ£‰πàËøô‰∫õ Native Áõ∏ÂÖ≥ÁöÑË∞ÉÁî®‰πüÈÉΩ‰ºöË¢´Êé®Ëøü„ÄÇ Âõ†Ê≠§Â¶ÇÊûúÊòØHybridÂ∫îÁî®ÔºåÂ∞§ÂÖ∂Ë¶ÅÊ≥®ÊÑèËÆ©onloadÂ∞ΩÂø´Ëß¶Âèë„ÄÇ ÁôæÂ∫¶ÁªüËÆ°ÂØπonloadÁöÑÂΩ±Âìç1234567var _hmt = _hmt || []; (function() &#123; var hm = document.createElement(&quot;script&quot;); hm.src = &quot;https://hm.baidu.com/hm.js?2fdsasa8f9f2f0e59e7db6c398edfbfcb1f&quot;; var s = document.getElementsByTagName(&quot;script&quot;)[0]; s.parentNode.insertBefore(hm, s);&#125;)(); ‰∏äÈù¢ÊòØÁôæÂ∫¶ÁªüËÆ°ÁöÑ‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂÆÉÂä®ÊÄÅÂä†ËΩΩ‰∫Ü‰∏Ä‰∏™ scriptÔºåËÄåËøô‰∏™ script ‰ºöÈ©¨‰∏ä‰ª•‰∏Ä‰∏™Â∞è gif ÁöÑÂΩ¢ÂºèÂèëÈÄÅ‰∏Ä‰∏™‰∏äÊä•ËØ∑Ê±ÇÔºåÁªèËøáÊµãËØïÔºåÂ¶ÇÊûúÈ°µÈù¢‰∏äÊ≤°ÊúâÂÖ∂ÂÆÉÂÖÉÁ¥†ÔºåËøô‰∏™ Â∞è gif Âä†ËΩΩÂÆåÊàêÂêéÊâç‰ºöËß¶Âèë onloadÔºåÈÇ£‰πàÊÄªÂä†ËΩΩÊó∂Èó¥Â∞±ÊòØ script Âä†ËΩΩÊó∂Èó¥ + gif Âä†ËΩΩÊó∂Èó¥„ÄÇ Âõ†Ê≠§Â∫îËØ•Â∞ΩÈáèÊääÁôæÂ∫¶ÁªüËÆ°‰ª£Á†ÅÊèêÂâçÔºåÈÅøÂÖçÁôæÂ∫¶ÁªüËÆ°ÊãñÊÖ¢ onload Êó∂Èó¥„ÄÇÁôæÂ∫¶ÁªüËÆ°ÂÆòÊñπ‰πüÊòØÂª∫ËÆÆÂ∞ÜÁªüËÆ°‰ª£Á†ÅÊîæÂú® head ‰∏≠„ÄÇ]]></content>
      <tags>
        <tag>window.onload</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÂ∏∏Áî®ËÆæËÆ°Ê®°Âºè]]></title>
    <url>%2F2017%2F12%2F25%2FJS%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Áî±‰∫é JS ÊàñËÄÖÂâçÁ´ØÁöÑÂú∫ÊôØÈôêÂà∂ÔºåÂπ∂‰∏çÊòØ 23 ÁßçËÆæËÆ°Ê®°ÂºèÈÉΩÂ∏∏Áî®„ÄÇ ÊúâÁöÑÊòØÊ≤°Êúâ‰ΩøÁî®Âú∫ÊôØÔºåÊúâÁöÑÊ®°Âºè‰ΩøÁî®Âú∫ÊôØÈùûÂ∏∏Â∞ëÔºåÊâÄ‰ª•Âè™ÊòØÂàó‰∏æ 7 ‰∏™Â∏∏ËßÅÁöÑÊ®°Âºè Êú¨ÊñáÁöÑËÑâÁªúÔºö ËÆæËÆ°‰∏éÊ®°Âºè 5 Â§ßËÆæËÆ°ÂéüÂàô 7 ÁßçÂ∏∏ËßÅÁöÑËÆæËÆ°Ê®°Âºè ‰∏ÄÂè•ËØùËß£ÈáäÂê´‰πâ Âàó‰∏æÁîüÊ¥ª‰∏≠ÁöÑÂú∫ÊôØ „ÄÅ ‰∏öÂä°‰ª£Á†ÅÂú∫ÊôØ js ‰ª£Á†ÅÊºîÁ§∫ ËÆæËÆ°‰∏éÊ®°Âºè‰πãÂâç‰∏ÄÁõ¥‰ª•‰∏∫„ÄåËÆæËÆ°Ê®°Âºè„ÄçÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂêçËØç ÂÖ∂ÂÆû„ÄåËÆæËÆ°„ÄçÂíå„ÄåÊ®°Âºè„ÄçÊòØË¶ÅÂàÜÂºÄÊù•ËØ¥ÁöÑ „ÄåËÆæËÆ°„ÄçÔºö5 ‰∏™Â∏∏ËßÅÁöÑËÆæËÆ°ÂéüÂàô „ÄåÊ®°Âºè„ÄçÔºö‰ª£Á†Å‰∏≠Â∏∏ËßÅÁöÑ‚ÄùÂ•óË∑Ø‚Äù,Ë¢´Á®ãÂ∫èÂëòÊÄªÁªìÊàê‰∫ÜÁõ∏ÂØπÂõ∫ÂÆöÁöÑÂÜôÊ≥ïÔºåÁß∞‰πã‰∏∫„ÄåÊ®°Âºè„Äç ‰πüÂ∞±ÊòØËØ¥Â≠¶‰π†‚ÄùËÆæËÆ°Ê®°Âºè‚Äù,È¶ñÂÖàËÇØÂÆöË¶ÅÂ≠¶‰π†ÂíåÁêÜËß£ 5 ‰∏™ËÆæËÆ°ÂéüÂàô„ÄÇ Âõ†‰∏∫ÊâÄÊúâÁöÑÊ®°ÂºèÔºåÈÉΩÊòØËÇØÂÆöÊòØÁ¨¶Âêà 5 Â§ßËÆæËÆ°ÂéüÂàô‰∏≠ÁöÑÂá†‰∏™ÔºåËá≥Â∞ë‰∏çËøùËÉåËÆæËÆ°ÂéüÂàôÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨Âú®Â≠¶‰π†Ê®°ÂºèÊó∂Ôºå‰∏çËÉΩ‰∏äÊù•Â∞±Êää 23 ÁßçÊ®°ÂºèÁöÑ js ÂÆûÁé∞Áúã‰∏ÄÈÅçÔºåËøôÊ†∑ÊòØÂæàÈöæÁêÜËß£ÁöÑ„ÄÇ ÊàëËßâÂæóÊ≠£Á°ÆÁöÑÂ≠¶‰π†È°∫Â∫èÊòØÔºö ÂÖàÂ≠¶‰π† 5 Â§ßËÆæËÆ°ÂéüÂàô ÂÜçÂ≠¶‰π† 23 ÁßçÊ®°Âºè ËÄå„ÄåÊ®°Âºè„ÄçÁöÑÂ≠¶‰π†È°∫Â∫èÊòØÔºö 1.Â∞ùËØïÁî®‰∏ÄÂè•ËØùÊ¶ÇÊã¨Ëøô‰∏™Ê®°Âºè„ÄÇ Ôºà‰∏çÁêÜËß£‰πüÊ≤°ÂÖ≥Á≥ªÔºåËá≥Â∞ëÂØπÂÆö‰πâÊúâ‰∏Ä‰∏™Â§ßËá¥Âç∞Ë±°Ôºâ 2.ËÅîÊÉ≥Âú®ÁîüÊ¥ª‰∏≠ÁöÑ‰æãÂ≠ê„ÄÇÔºàÊ®°ÂºèÂæÄÂæÄÂèçÊò†‰∏ÄÁßçÊÄùÊÉ≥Ôºâ 3.Êõ¥ÈáçË¶ÅÁöÑÊòØÁêÜËß£„ÄåÊ®°Âºè„ÄçÁöÑ‰ª£Á†Å‰∏≠ÁöÑÂ∫îÁî®ÔºàÊúâÁöÑÊ®°ÂºèÊÄùÊÉ≥Âú®ÁîüÊ¥ª‰∏≠ÂèØËÉΩÊ≤°ÊúâÂêàÈÄÇÁöÑ‰æãÂ≠êÔºâ 4.ÊúÄÂêéÊâçÊòØÁî® js ‰ª£Á†ÅÂéªÊºîÁ§∫ÂíåÂÆûÁé∞„ÄåÊ®°Âºè„Äç „ÄåÊ®°Âºè„ÄçÁöÑÂ≠¶‰π†Ê≠•È™§‰∏≠ÔºåÊàëËßâÂæóÁêÜËß£Âú®‰ª£Á†Å‰∏≠Â∫îÁî®Âú∫ÊôØÊòØÊúÄÈáçË¶ÅÁöÑ Ëøô‰πüÊòØ‰∏∫‰ªÄ‰πàÊâÄË∞ì 23 Áßç„ÄåÊ®°Âºè„ÄçÔºåËøô‰∏™ÊñáÁ´†Âè™ÊòØÂ§ßËá¥ËÆ≤‰∫Ü 7 Áßç„ÄÇ Âõ†‰∏∫ÊàëËßâÂæóÊ≤°ÊúâÂæàÂ§öÂú∫ÊôØÁöÑÊ®°ÂºèÔºåÂ≠¶‰π†‰∫ÜÊÑè‰πâ‰πü‰∏çÂ§ß„ÄÇ 5 Â§ßËÆæËÆ°ÂéüÂàô5 Â§ßËÆæËÆ°ÂéüÂàôÔºåÂèØËÉΩ‰π¶Âíå‰π¶ÁöÑÂè´Ê≥ï‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ ‰ΩÜÊòØÊàëËßâÂæóÊúÄÈáçË¶ÅÁöÑÊòØÔºåÁêÜËß£ÊÑèÊÄùÂç≥ÂèØÔºåÊØïÁ´üÂÆûÈôÖ‰∏äÂπ∂‰∏çÊòØÊâÄÊúâ„ÄåÊ®°Âºè„ÄçÈÉΩÊª°Ë∂≥ 5 Â§ßËÆæËÆ°ÂéüÂàô ÂæÄÂæÄÂè™ÊòØÊª°Ë∂≥ 1„ÄÅ2 Êù°ÔºåÁÑ∂Âêé‰∏çËøùÂèçÂÖ∂‰ªñÂéüÂàôÔºåËøôÊ†∑„ÄÇ 1.Âçï‰∏ÄËÅåË¥£ÂéüÂàô 2.ÂºÄÊîæ-Â∞ÅÈó≠ÂéüÂàô 3.Èù¢ÂêëÊé•Âè£ÁºñÁ®ã 4.ÊùéÊ∞èÁΩÆÊç¢ÂéüÂàô 5.Êé•Âè£Áã¨Á´ãÂéüÂàô ‰∏™‰∫∫ÁêÜËß£ Ââç 3 ÁÇπ ÊØîËæÉÂ∏∏ËßÅÔºåÂêéÈù¢ÁöÑ 2 ‰∏™ÂéüÂàôÊàë‰πü‰∏çÂ§™ÁêÜËß£ÔºåÊàñËÄÖÂèØËÉΩÂâçÁ´ØÂú∫ÊôØ‰∏ãÊØîËæÉÂ∞ëËßÅ„ÄÇ Âçï‰∏ÄËÅåË¥£ÂéüÂàô ‰∏Ä‰∏™ÂáΩÊï∞Âè™ÂÅö‰∏Ä‰ª∂‰∫ãÔºåÂ¶ÇÊûúÂäüËÉΩËøá‰∫éÂ§çÊùÇÔºåÊúÄÂ•ΩËÆ©‰∏ÄÊÆµ‰ª£Á†ÅÂè™Ë¥üË¥£‰∏ÄÈÉ®ÂàÜÈÄªËæë„ÄÇ ÂºÄÊîæ-Â∞ÅÈó≠ÂéüÂàô ÂØπÊãìÂ±ïÂºÄÊîæÔºåÂØπ‰øÆÊîπÂ∞ÅÈó≠„ÄÇ ÊØîÂ¶ÇÂ∏∏ËßÅÁöÑ Vue Âíå jQuery ÈÉΩÊèê‰æõÊèí‰ª∂ÊãìÂ±ïÊú∫Âà∂Ôºå‰Ω†Â¶ÇÊûúÂ∏åÊúõÂ¢ûÂä†ÂäüËÉΩÔºåÂèØ‰ª•ÊãìÂ±ïÊüê‰∏Ä‰∏™ÊäÄÊúØÊ†àÁöÑÁîüÊÄÅ„ÄÇËÄå‰∏çÊòØÁõ¥Êé•‰øÆÊîπÊ∫êÁ†Å Èù¢ÂêëÊé•Âè£ÁºñÁ®ã Ë∞ÉÁî®ËÄÖÊó∂ÔºåÂè™ÊåâÁÖßÊé•Âè£Ôºå‰∏çÂøÖÊ∏ÖÊ•öÊé•Âè£ÂÜÖÈÉ®ÁöÑÁ±ªÂ¶Ç‰ΩïÂÆûÁé∞„ÄÇ ÊØîÂ¶ÇÂâçÂêéÂàÜÁ¶ªÂºÄÂèëÊó∂ÔºåÂâçÁ´ØÂè™ÈúÄË¶ÅÂÖ≥Ê≥®Êé•Âè£ÊñáÊ°£Ôºå‰∏çÂøÖ‰∫ÜËß£ÂÖ∑‰ΩìÂÆûÁé∞ ÊØîÂ¶ÇËÆæËÆ° UI ÁªÑ‰ª∂Êó∂ÔºåÊàëÂè™ÈúÄË¶ÅËÄÉËôëÁî®Êà∑ÈúÄË¶ÅÂ¶Ç‰ΩïË∞ÉÁî®Ôºå‰∏çÁî®ËÆ©‰ªñÊìçÂøÉÔºåÊàëÁöÑÂÜÖÈÉ®ÂÆûÁé∞„ÄÇ 7 ÁßçÂ∏∏ËßÅÁöÑËÆæËÆ°Ê®°ÂºèÊàë‰ª¨Ë¶ÅËØ¥ÁöÑ 7 ÁßçÂ∏∏ËßÅËÆæËÆ°Ê®°ÂºèÂ¶Ç‰∏ãÔºö Â∑•ÂéÇÊ®°Âºè Âçï‰æãÊ®°Âºè ÈÄÇÈÖçÂô®Ê®°Âºè Ë£ÖÈ•∞Âô®Ê®°Âºè ‰ª£ÁêÜÊ®°Âºè ËßÇÂØüËÄÖÊ®°Âºè Ëø≠‰ª£Âô®Ê®°Âºè ÊØè 1 ‰∏™Ê®°ÂºèÁöÑÂ≠¶‰π†È°∫Â∫èÈÅµÂæ™‰ª•‰∏ã 3 ÁÇπ ‰∏ÄÂè•ËØùÊ¶ÇÊã¨Ëøô‰∏™Ê®°ÂºèÁöÑÊÄùÊÉ≥ ÁîüÊ¥ªÂú∫ÊôØÁöÑÂ∫îÁî® Âíå ‰∏öÂä°Âú∫ÊôØÁöÑÂ∫îÁî®(ÈáçÁÇπÁêÜËß£‰∏öÂä°Âú∫ÊôØ) js ÊºîÁ§∫ËØ•Ê®°Âºè Â∑•ÂéÇÊ®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞: Â∑•ÂéÇÊ®°ÂºèÂ∞Ü new Êìç‰ΩúÁ¨¶Â∞ÅË£ÖÔºåÊãìÂ±ï‰∏Ä‰∏™ create ÁöÑÊé•Âè£ÂºÄÂèëÁªôË∞ÉÁî®ËÄÖ ‰∏öÂä°Âú∫ÊôØ jQuery ÁöÑ $() 123window.$ = function(selector) &#123; returnnew jQuery(selector);&#125;; ÊØîÂ¶Ç jQuery Êää $Êö¥Èú≤ÁªôÂºÄÂèëËÄÖÔºåÁ±ª‰ºº‰∫é create ÊñπÊ≥ï„ÄÇ Êúâ‰∫Ü$‰∏ÄËà¨Êàë‰ª¨‰πü‰∏ç‰ºö‰ΩøÁî® new jQuery() Êù•ÂàõÂª∫ jquery ÂØπË±° ËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§Ñ: $‰Ωú‰∏∫ create ÂÜôËµ∑Êù•Êõ¥Âä†ÁÆÄÂçï ÂÅö‰∫Ü‰∏ÄÂ±ÇÊãìÂ±ïÔºåËøôÊ†∑Êö¥Èú≤ÁªôÁî®Êà∑ÁöÑÊòØ$,ÂÜÖÈÉ®Ê∫êÁ†ÅÂèØ‰ª•ÂÅöÂêÑÁßç‰øÆÊîπÔºåÁîöËá≥‰∏çÂè´jQueryÂè´xQuery‰πüÂèØ‰ª•ÔºåÂè™Ë¶ÅÊúÄÁªàËøòÊòØÊö¥Èú≤$,ÂØπÁî®Êà∑Êù•ËØ¥Â∞±ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ Á¨¶ÂêàÂºÄÊîæ-Â∞ÅÈó≠ÂéüÂàô js ÊºîÁ§∫ 123456789101112131415161718class Product&#123; constructor(options) &#123; this.name = options.name; this.time = options.time; this.init(); &#125; init() &#123; console.log(`‰∫ßÂìÅÂêçÔºö$&#123;this.name&#125; ‰øùË¥®ÊúüÔºö$&#123;this.time&#125;`); &#125;&#125;class Factory&#123; create(options) &#123; returnnew Product(options); &#125;&#125;let factory = new Factory();let product1 = factory.create(&#123; name: &quot;Èù¢ÂåÖ&quot;, time: &quot;1‰∏™Êúà&quot; &#125;); Âçï‰æãÊ®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞Ôºö‰∏Ä‰∏™Á±ªÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æã‰∏öÂä°Âú∫ÊôØ Âú∫ÊôØ 1: ÊØîÂ¶Ç Vue ÁöÑÊèí‰ª∂Êú∫Âà∂„ÄÇVue.use()Â§öÊ¨°Ôºå‰πüÂè™Â≠òÂú®Á¨¨‰∏Ä‰∏™Êèí‰ª∂ÂÆû‰æã„ÄÇ Âú∫ÊôØ 2: ÊØîÂ¶Ç Vuex ÁöÑ Store Âú®ÂÆû‰æãÂåñÊó∂ÔºåÂ∞±ÁÆó‰Ω†ÂÆû‰æãÂåñÂ§ö‰∏™Ôºå‰πüÂè™Â≠òÂú®‰∏Ä‰∏™ Store,ËøôÊ†∑ÊâçËÉΩ‰øùËØÅÂÖ±‰∫´Êï∞ÊçÆÂòõ„ÄÇ Âú∫ÊôØ 3: ÂàõÂª∫‰∏Ä‰∏™Ë¥≠Áâ©ËΩ¶ÁªÑ‰ª∂„ÄÇÂõ†‰∏∫Ë¥≠Áâ©ËΩ¶ÂæÄÂæÄÊï¥‰∏™È°πÁõÆÂè™ÈúÄË¶Å 1 ‰∏™ ÊØîÂ¶Ç Vue.use Êó∂ÔºåÊàë‰ª¨Áü•ÈÅì Vue Ê∫êÁ†Å‰∏≠‰ºöÂéªÂÅöÂà§Êñ≠Ë∞ÉÁî®Êèí‰ª∂ÁöÑ install ÊñπÊ≥ï ‰ΩÜÊòØÂè™Ë¶Å Vue.use Â∞±Áõ¥Êé•Ë∞ÉÁî®ÁöÑ„ÄÇ Vue ‰ºöÊää Vue.use ÁöÑ‰∏úË•ø push Âà∞‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØèÊ¨°ÊâßË°å use ÊñπÊ≥ïÈÉΩ‰ºöÂÖàÊ£ÄÊü•Êï∞ÁªÑÈáåÊòØÂê¶Â∑≤ÁªèÊúâËøô‰∏™Êèí‰ª∂‰∫ÜÔºåÊ≤°ÊúâÂ∞± pushÔºåÊúâÁöÑËØùÂ∞±‰∏çÂÜçÊâßË°åÂêéÈù¢ÁöÑÈÄªËæë‰∫Ü„ÄÇ ËøôÊ†∑‰øùËØÅÈ°πÁõÆÔºåËøô‰∏™Êèí‰ª∂ÁöÑ install Âè™ÂàùÂßãÂåñ 1 Ê¨°„ÄÇ ÊàëËßâÂæóËøôÂ∞±ÊòØÂçï‰æãÊ®°ÂºèÊÄùÊÉ≥ÁöÑ‰∏ÄÁßçÂ∫îÁî®„ÄÇÊù•ÈÅøÂÖçÂ§öÊ¨°ÂàùÂßãÂåñÂèØËÉΩÈÄ†ÊàêÁöÑÈóÆÈ¢ò„ÄÇ js ÂÆûÁé∞ÊºîÁ§∫ ÂÆûÁé∞ÊÄùË∑Ø Áªô SingleObject Ê∑ªÂä†‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ï getInstance Â∞ÜÊù•ÂÆû‰æãÂåñÊó∂Ôºå‰∏çÊòØÈÄöËøá newÔºåËÄåÊòØ SingleObject.getInstance() getInstance ÂÜÖÈÉ®ÁöÑÂÆûÁé∞Â∞±ÊòØÔºåÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÊòØÁî®ÂèòÈáèÁºìÂ≠òÂÆû‰æã„ÄÇ‰πãÂêéË∞ÉÁî®Êó∂Âà§Êñ≠ËØ•ÂèòÈáèÊòØÂê¶ÊúâÂÄºÔºåÊ≤°ÊúâÂÄºÂ∞±ÂèØ‰ª• newÔºåÊúâÂÄºÂ∞±ÊääËøô‰∏™ÂèòÈáè return 1234567891011121314151617function SingleObject() &#123; this.instance = null; this.name = &quot;Âçï‰æã&quot;;&#125;SingleObject.getInstance = function() &#123; if (this.instance === null) &#123; this.instance = new SingleObject(); &#125; else &#123; returnthis.instance; &#125;&#125;;var obj1 = SingleObject.getInstance();var obj2 = SingleObject.getInstance();console.log(obj1 === obj2); ÈÄÇÈÖçÂô®Ê®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞Ôºö Êé•Âè£‰∏çÂÖºÂÆπÊó∂ÔºåÂØπÊóßÊé•Âè£ÂÅö‰∏ÄÂ±ÇÂåÖË£ÖÔºåÊù•ÈÄÇÈÖçÊñ∞ÈúÄÊ±Ç„ÄÇÁîüÊ¥ªÂú∫ÊôØ ÊèíÂ§¥ÁöÑÁîµÂéãÔºå‰∏çÂêåÂõΩÂÆ∂ÊòØÂ≠òÂú®Â∑ÆÂºÇÁöÑÂòõÔºåÁªèÂ∏∏ÊúâÁîµÊ∫êÈÄÇÈÖçÂô®Êù•ÂÅö‰∏ÄÂ±ÇÂåÖË£ÖÔºå‰ªéËÄåÈÄÇÈÖçÊàë‰ª¨ÁöÑÁîµÂéã„ÄÇ ‰∏öÂä°Âú∫ÊôØ Vue ÁöÑ computed Êèê‰æõÁªôÂáΩÊï∞ÂíåÂØπË±° 2 ÁßçÂÜôÊ≥ï„ÄÇVue ÂÜÖÈÉ®ÈúÄË¶ÅÂÅö‰∏ÄÂ±ÇÈÄÇÈÖç Node.js ‰∏≠Èó¥Â±Ç ÊØîÂ¶Ç Vue Ê∫êÁ†ÅÂÜÖÈÉ®ÈÅçÂéÜ computed ÂØπË±°ÂêéÔºåÈúÄË¶ÅÊääÁî®Êà∑‰º†ÈÄíÁöÑÂáΩÊï∞‰Ωú‰∏∫ËØ•ËÆ°ÁÆóÂ±ûÊÄßÁöÑ getter ÁöÑËøîÂõûÂÄºÂòõ ‰ΩÜÊòØÁî®Êà∑ÊúâÂèØËÉΩ‰ºö‰º†ÈÄí fnÔºå‰πüÂèØËÉΩ‰º†ÈÄí‰∏Ä‰∏™Â∏¶ get„ÄÅset ÊñπÊ≥ïÁöÑÂØπË±° ÈÇ£‰πà Vue Èù¢ÂØπÁî®Êà∑Êèê‰æõÁöÑ‰∏çÂêåÊé•Âè£ÔºåÂÆÉÂ∞±ÈúÄË¶ÅÂÅö‰∏ÄÂ±ÇÈÄÇÈÖç„ÄÇ Êó†ËÆ∫ÂáΩÊï∞Áõ¥Êé•Êèê‰æõÂáΩÊï∞ÔºåËøòÊòØÊèê‰æõÁöÑÂØπË±°ÔºåVue ÈÉΩËΩ¨Âåñ‰∏∫‰∏Ä‰∏™ÂáΩÊï∞ Vue Á±ª‰ººËøôÁßçÂ§ÑÁêÜÈùûÂ∏∏Â§öÔºåÂõ†‰∏∫ Vue Êèê‰æõÁªôÁî®Êà∑ÂæàÂÆΩÊùæÁöÑÂÜôÊ≥ïÂòõ„ÄÇÊØîÂ¶Ç‰Ω†ÂèØ‰ª•Áî® template ‰πüÂèØ‰ª•Áî® renderÔºå‰ΩÜÊòØÊúÄÁªà template ‰∏ÄÂÆö‰ºöË¢´ÈÄÇÈÖçÊàê render Êù•Ë∞ÉÁî® Âè¶‰∏Ä‰∏™‰æãÂ≠êÔºåÊàëËßâÂæóÁé∞Âú®ÊµÅË°åÁöÑ Node.js ‰∏≠Èó¥Â±ÇÔºå‰πüÁÆóÊòØÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑÂ∫îÁî®„ÄÇ ÂêéÁ´ØÊèê‰æõ‰∏Ä‰∫õÂü∫Á°ÄÊï∞ÊçÆÔºå‰ΩÜÊòØÁßªÂä®Á´ØÂíå PC Á´ØË¶ÅÊ±ÇÁöÑÊï∞ÊçÆÊ†ºÂºèÊòØ‰∏çÂêåÔºå‰∏îÁªèÂ∏∏ÂèòÂåñÁöÑ„ÄÇ Node.js ‰∏≠Èó¥Â±ÇÁöÑ‰ΩúÁî®ÔºåÂèØ‰ª•ËÆ©ÂêéÁ´ØÁöÑÂü∫Á°ÄÊï∞ÊçÆ‰∏çÂÅöÂèòÂåñÔºåÂè™ÊòØÂØπÊï∞ÊçÆÂú® Node ‰∏≠ÂÜçÂåÖË£Ö‰∏ÄÊ¨°ÔºåÊù•ÈÄÇÈÖçÂÖ∑‰ΩìÁöÑ‰∏öÂä°Âú∫ÊôØ js ÂÆûÁé∞ÊºîÁ§∫ ÈáçÁÇπÁêÜËß£Ëøô‰∏™ÈÄÇÈÖçÂô®ÔºåÂú®‰∏öÂä°ÁöÑÂ∫îÁî®„ÄÇ ÊÑüËßâÂçïÁ∫ØÁî® js ‰ª£Á†ÅÊºîÁ§∫ÂèØËÉΩÊØîËæÉÂëÜÊùø12345678910111213141516171819// Êñ∞Â¢ûÂä†ÁöÑÈÄÇÈÖçÂô®class Adaptee&#123; constructor() &#123; this.name = &quot;ÊàëÊòØÈÄÇÈÖçÂô®&quot;; &#125; parse() &#123;&#125;&#125;// ÂéüÊù•ÁöÑÊóß‰ª£Á†Åclass OldApi&#123; constructor()&#123; this.name = &apos;ÊàëÊòØÊóßÁöÑÊé•Âè£&apos;this.adaptee = new Adaptee() this.adaptee.parse() &#125;&#125;var oldApi = new OldApi() ËøôÊ†∑Êàë‰ª¨ÊãìÂ±ï‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂè´ÂÅöÈÄÇÈÖçÂô®ÁöÑÁ±ªÔºåÂà©Áî®ÂÆÉÊù•Â§ÑÁêÜÊóßÊï∞ÊçÆÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂéªÂÖ∑‰Ωì‰øÆÊîπÊóßÊï∞ÊçÆ ÂØπÊãìÂ±ïÂºÄÂèëÔºåÂØπ‰øÆÊîπÂ∞ÅÈó≠ÔºåÂÖ∏ÂûãÁöÑÁ¨¶ÂêàÂºÄÂèë-Â∞ÅÈó≠ÁöÑËÆæËÆ°ÂéüÂàô Ë£ÖÈ•∞Âô®Ê®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞Ôºö 1.‰∏∫ÂØπË±°Ë£ÖÈ•∞‰∏Ä‰∫õÊñ∞ÂäüËÉΩÔºå2.ÊóßÁöÑÂäüËÉΩÂ±ûÊÄßÂÖ®ÈÉΩ‰øùÁïôÁîüÊ¥ªÂú∫ÊôØ ÊâãÊú∫Â£≥ÂØπ‰∫éÊâãÊú∫ÔºåÂ∞±ÊòØ‰∏ÄÁßçË£ÖÈ•∞Âô® ‰∏öÂä°Âú∫ÊôØ ES7ÁöÑË£ÖÈ•∞Âô®ËØ≠Ê≥ï ‰∏ãÈù¢‰ªãÁªç‰∫Ü„ÄåES7ÁöÑ @ Ë£ÖÈ•∞Á¨¶„ÄçÁöÑ‰ΩøÁî®ÔºåÂèØ‰ª•Áõ¥Êé•Ë∑≥Ëøá„ÄÇ ÂèØ‰ª•‰øÆÈ•∞Á±ª ‰æãÂ¶Ç12345678function decorator(target)&#123; target.type = &apos;‰∫∫Á±ª&apos;&#125;@decoratorclass Animal&#123;&#125;console.log(Animal.type) ‰∏ç‰º†ÈÄíÂèÇÊï∞Êó∂ @ Â∞±Áõ∏ÂΩì‰∫é Animal = decorator(Animal) || Animal ‰πüÂèØ‰ª•‰º†ÈÄíÂèÇÊï∞12345678910function setType(type)&#123; returnfunction(target)&#123; target.type = type &#125;&#125;@setType(&apos;‰∫∫Á±ª&apos;)classAnimal&#123;&#125;console.log(Animal.type) ‰º†ÈÄíÂèÇÊï∞Êó∂ @ Â∞±Áõ∏ÂΩì‰∫é Animal = setType(type)(Animal) || Animal ‰πüÂèØ‰ª•‰øÆÈ•∞Á±ª‰∏≠ÁöÑÊñπÊ≥ï123456789class Person&#123; @readonly name() &#123; return`$&#123;this.first&#125;$&#123;this.last&#125;` &#125;&#125;function readonly(target, name, descriptor)&#123; descriptor.writable = false; return descriptor;&#125; readonlyÁöÑ3‰∏™ÂèÇÊï∞Âê´‰πâÂ¶Ç‰∏ã targetÔºö Person.prototype name : key descriptor : ÊèèËø∞Âô® jsÊºîÁ§∫ ÂÆûÁé∞‰∏úË•ø Â∞±ÊòØÊàëÊúâ‰∏Ä‰∏™CircleÁ±ªÔºåÁî®circle.draw()ÂèØ‰ª•Áîª‰∏Ä‰∏™ÂúÜ ÁªèËøáË£ÖÈ•∞ÂêéÔºåÂèØ‰ª•Áîª‰∏Ä‰∏™Â∏¶Á∫¢Ëâ≤ËæπÊ°ÜÁöÑÂúÜ1234567891011121314151617181920212223242526class Circle&#123; draw() &#123; console.log(&quot;draw&quot;); &#125;&#125;class Decorator&#123; constructor(circle) &#123; this.circle = circle &#125; setRedBorder() &#123; console.log(&apos;borderË£ÖÈ•∞‰∏∫Á∫¢Ëâ≤&apos;) &#125; draw() &#123; this.circle.draw() this.setRedBorder() &#125;&#125;let circle = new Circle()let decorator = new Decorator(circle)circle.draw()decorator.draw() Á¨¶ÂêàÂçï‰∏ÄËÅåË¥£ÂéüÂàôÔºåÂíåÂºÄÊîæ-Â∞ÅÈó≠ÂéüÂàô ‰ª£ÁêÜÊ®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞: Êó†Ê≥ïÁõ¥Êé•ËÆøÈóÆÊó∂ÔºåÈÄöËøá‰ª£ÁêÜÊù•ËÆøÈóÆÁõÆÊ†áÂØπË±° ËøôÈáåÂå∫ÂàÜ‰∏Ä‰∏ãÈÄÇÈÖçÂô®Ê®°Âºè„ÄÅ‰ª£ÁêÜÊ®°Âºè„ÄÅË£ÖÈ•∞Âô®Ê®°Âºè ÈÄÇÈÖçÂô®Ê®°ÂºèÊòØÂú®ÂéüÊù•ÁöÑÂü∫Á°Ä‰∏äÔºåÂÅö‰∫Ü‰∏ÄÂ±ÇÂåÖË£Ö„ÄÇËôΩÁÑ∂Ê≤°ÊúâÂä®ÂéüÊù•ÁöÑÊé•Âè£Ôºå‰ΩÜÊúÄÁªàÊàë‰ª¨ÊòØÁî®ÂåÖË£ÖÂ•ΩÁöÑÈÄÇÈÖçÂêéÁöÑÊï∞ÊçÆÔºåËÇØÂÆöÊúâ‰øÆÊîπÁöÑ„ÄÇ ‰ª£ÁêÜÊ®°ÂºèÔºåÊòØÈÄöËøá‰ª£ÁêÜÔºåËÆøÈóÆÂéüÊï∞ÊçÆ„ÄÇÊ≤°Êúâ‰ªÄ‰πàÂåÖË£ÖÂíå‰øÆÊîπ„ÄÇ Ë£ÖÈ•∞Âô®Ê®°ÂºèÔºåÊòØÂéüÊù•ÁöÑÂäüËÉΩÂíåÂáΩÊï∞ÈÉΩËøòË¶ÅÁî®ÁöÑÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∏Ä‰∫õÊãìÂ±ïÂäüËÉΩ„ÄÇËÄåÈÄÇÈÖçÁöÑËØùÊòØÂú®ÂåÖË£ÖÊó∂ÂÅö‰∏Ä‰∫õÊîπÈÄ†„ÄÇ ÁîüÊ¥ªÂú∫ÊôØ ÁøªÂ¢ôÁî®ÁöÑVPN Êµ∑Â§ñ‰ª£Ë¥≠ ÂêÑÁ∫ß‰ª£ÁêÜÂïÜ ‰∏öÂä°Âú∫ÊôØ ÁªëÂÆöÂ§ö‰∏™liÊó∂ÁöÑ‰∫ã‰ª∂‰ª£ÁêÜ VueÁöÑdata„ÄÅpropsË¢´ËÆøÈóÆÊó∂ÔºåÂ∞±ÂÅö‰∫Ü‰ª£ÁêÜ„ÄÇ ES6ÁöÑproxyÁöÑ‰ª£ÁêÜ ul‰∏ãÂ§ö‰∏™liÔºåÈÄöËøáÁªôÁà∂ÂÖÉÁ¥†ÁªëÂÆöclick‰∫ã‰ª∂ÔºåÂÆûÁé∞ÂØπÂ§ö‰∏™liÁöÑÁõëÂê¨„ÄÇÂè´ÂÅö‰∫ã‰ª∂‰ª£ÁêÜ ÂΩìÁÑ∂ËøôÈáåËÉΩÂÆûÁé∞‰ª£ÁêÜÔºå‰πü‰æùÈù†‰∫Ü‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ‰ΩÜÊòØ‰∏çËøáÊòØÂà©Áî®‰ªÄ‰πàÊú∫Âà∂ÂÅöÁöÑ‰ª£ÁêÜ„ÄÇËøôÁßçÊÄùÊÉ≥ÂèØ‰ª•ÁúãÂÅöÊòØ‰ª£ÁêÜÁöÑÊÄùÊÉ≥„ÄÇ VueÁöÑdataÔºåÂú®VueÂàùÂßãÂåñÊó∂Ôºåthis._init() ==&gt; this.initState() ==&gt; this.initData() Âú®initData‰∏≠ÔºåÈô§‰∫ÜÈÄíÂΩíÂæ™ÁéØÊäävmÁöÑdataÂÖ®ÈÉΩÂåÖË£Ö‰∏∫ÂìçÂ∫îÂºèÂØπË±°‰πãÂ§ñÔºåËøòË∞ÉÁî®‰∫Üproxy() Ëøô‰∏™proxyÂÜÖÈÉ®ÂÆûÁé∞ÁöÑÔºåÂ∞±ÊòØÂΩì‰Ω†ËÆøÈóÆthis.msgÊó∂ÔºåÂÆûÈôÖ‰∏äÂ∞±ËÆøÈóÆ‰∫Üthis.data.msg ÊØïÁ´üÊàë‰ª¨‰∏çÂèØËÉΩÁúüÁöÑÊäämsgÊåÇÂà∞Vue.prototype‰∏ä„ÄÇ Ëøô‰πüÊòØ‰ª£ÁêÜÁöÑÊÄùÊÉ≥„ÄÇ‰ΩÜÊòØÂΩìÁÑ∂‰∏çÊòØÂÜíÊ≥°Êú∫Âà∂ÂÆûÁé∞ÁöÑÔºåËøôÈáåÊòØÂà©Áî®ÂºïÁî®ÁöÑ‰º†ÈÄí„ÄÇ ES6ËøòÊèê‰æõ‰∫ÜProxy,Ë¢´ProxyÂåÖË£ÖÁöÑÂØπË±°Ôºå‰πüÊòØ‰∏ÄÁßç‰ª£ÁêÜ„ÄÇ ÂéüÂØπË±°ÂíåÂåÖË£ÖÂêéÁöÑÂØπË±°ÔºåÂæàÂÉèÊòéÊòüÂíåÁªèÁ∫™‰∫∫‰πãÈó¥ÁöÑÂÖ≥Á≥ª jsÊºîÁ§∫ ÂÆûÁé∞ÁöÑÊïàÊûúÂ∞±ÊòØproxyData.getName()Ôºå‰ª£ÁêÜÁöÑÊòØdata.getName()1234567891011121314151617181920212223242526class Data&#123; constructor()&#123; this.name = &apos;ÂÖÉÊï∞ÊçÆ&apos; &#125; getName()&#123; console.log(this.name) &#125;&#125;class ProxyData&#123; constructor(data)&#123; this.data = data &#125; getName()&#123; this.data.getName() &#125;&#125;let data = new Data()let proxyData = new ProxyData(data)data.getName()proxyData.getName() ‰ª£ÁêÜÊ®°ÂºèÁ¨¶ÂêàÂºÄÊîæ-Â∞ÅÈó≠ÂéüÂàô ËßÇÂØüËÄÖÊ®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞ÔºöÊääwatcherÊî∂ÈõÜÂà∞‰∏Ä‰∏™ÈòüÂàóÔºåÁ≠âÂà∞ÂèëÂ∏ÉÊó∂ÂÜç‰æùÊ¨°ÈÄöÁü•watcherÔºåÊù•ÂÆûÁé∞ÂºÇÊ≠•ÁöÑ‰∏ÄÁßçÊ®°Âºè„ÄÇÁîüÊ¥ªÂú∫ÊôØ ËßÇÂØüËÄÖÊ®°ÂºèË¢´ÂπøÊ≥õÁöÑÂ∫îÁî®Âú®Êó•Â∏∏ÁîüÊ¥ªÂíåÂºÄÂèëÂÆûË∑µ‰∏≠ ÊñóÈ±º‰∏ªÊí≠ÊòØÂèëÂ∏ÉËÄÖÔºåËßÇ‰ºó‰ΩÜÊòØËÆ¢ÈòÖËÄÖ„ÄÇ ÁåéÂ§¥ÊòØÂèëÂ∏ÉËÄÖÔºåÂÄôÈÄâ‰∫∫ÊòØËÆ¢ÈòÖËÄÖ ËµõË∑ëÊó∂ÔºåË£ÅÂà§ÂºÄÊû™Êù•ÂèëÂ∏ÉÔºåÊâÄÊúâÁöÑËøêÂä®ÂëòÂ∞±ÊòØËÆ¢ÈòÖËÄÖ„ÄÇ ËøôÈáåËÆ¢ÈòÖËÄÖ‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ËßÇÂØüËÄÖ„ÄÇ ‰∏öÂä°Âú∫ÊôØ 1.VueÁöÑÊî∂ÈõÜ‰æùËµñ„ÄÅÊ¥æÂèëÊõ¥Êñ∞ 2.ÊµèËßàÂô®‰∫ã‰ª∂Êú∫Âà∂ 3.Promise.thenÁöÑÂºÇÊ≠•‰∫ã‰ª∂ 4.VueÁöÑÁîüÂëΩÂë®ÊúüÈí©Â≠ê 5.Node.jsÁöÑeventEmitter Âú∫ÊôØ1ÔºöVueÁöÑÊî∂ÈõÜ‰æùËµñ„ÄÅÊ¥æÂèëÊõ¥Êñ∞ „ÄåËÆ¢ÈòÖ„Äç: VueÁöÑÂìçÂ∫îÂºèÊï∞ÊçÆÔºåÂú®È°µÈù¢Ê∏≤ÊüìÊó∂ÔºåËß¶ÂèëgetterÊî∂ÈõÜwatcher‰æùËµñ„ÄÇ „ÄåÂèëÂ∏É„Äç:Êï∞ÊçÆÂèòÂåñÊó∂ÔºåËß¶ÂèësetterÔºåNotifyÊâÄÊúâÁöÑwatcherË∞ÉÁî®‰ªñ‰ª¨ÁöÑupdateÊñπÊ≥ï Âú∫ÊôØ2ÔºöÊµèËßàÂô®‰∫ã‰ª∂Êú∫Âà∂ „ÄåËÆ¢ÈòÖ„Äç: btnÁªëÂÆö‰∫Üclick‰∫ã‰ª∂ÔºåÈÇ£‰∏™fnÂ∞±Ë¢´ÊîæÂà∞‰∫ã‰ª∂ÈòüÂàó‰∏≠„ÄåÂèëÂ∏É„Äç: Áî®Êà∑ÁÇπÂáªÊó∂ÔºåËß¶Âèëclick‰∫ã‰ª∂„ÄÇ Âú∫ÊôØ3 : Promise.then „ÄåËÆ¢ÈòÖ„Äç: thenË∞ÉÁî®Êó∂ÔºåÊääthenÁöÑÊàêÂäüÂáΩÊï∞‰øùÂ≠òÂú®‰∏Ä‰∏™ÂèòÈáè‰∏≠ „ÄåÂèëÂ∏É„Äç: ÂΩìË∞ÉÁî®resolveÊó∂ÔºåÁä∂ÊÄÅÂèòÂåñÔºåÂπ∂‰∏îÊää‰øùÂ≠òÁöÑthenÁöÑÊàêÂäüÂáΩÊï∞Ë∞ÉÁî® Âú∫ÊôØ4: VueÁöÑÁîüÂëΩÂë®ÊúüÈí©Â≠ê „ÄåËÆ¢ÈòÖ„Äç: Âú®option‰∏äÂÜôbeforeCreateÂØπÂ∫îÁöÑÂáΩÊï∞ „ÄåÂèëÂ∏É„Äç: ÂΩìÁªÑ‰ª∂ÂàùÂßãÂåñÈò∂ÊÆµÔºåÂà∞‰∫ÜÂØπÂ∫îÊó∂Êú∫ÔºåvueÂ∏Æ‰Ω†Ë∞ÉÁî®Áî®Êà∑Êèê‰æõÁöÑÂáΩÊï∞ jsÂÆûÁé∞‰∏Ä‰∏™eventEmiiter 123456789101112131415161718192021222324252627class EventEmitter&#123; constructor() &#123; this.eventMap = &#123;&#125;; &#125; on( type, fn ) &#123; if ( !this.eventMap[type] ) &#123; this.eventMap[type] = [] &#125; this.eventMap[type].push(fn) &#125; emit( type, ...params ) &#123; this.eventMap[type].forEach(fn =&gt; &#123; fn(...params); &#125;); &#125; off( type, fn ) &#123; let list = this.eventMap[type]; let atIndex = list.indexOf(fn); if (atIndex !== -1) &#123; list.splice(atIndex, 1); &#125; &#125;&#125; Ëø≠‰ª£Âô®Ê®°Âºè ‰∏ÄÂè•ËØùÊèèËø∞Ôºö 1.ÊåâÈ°∫Â∫èËÆøÈóÆÈõÜÂêà, 2.Ë∞ÉÁî®ËÄÖ‰∏çÁî®ÂÖ≥Á≥ªÂÜÖÈÉ®ÁöÑÊï∞ÊçÆÁªìÊûÑ ES6‰πãÂêéÔºåÊàë‰ª¨Áü•ÈÅìÈô§‰∫ÜÊï∞ÁªÑ‰πãÂ§ñÁöÑÊúâÂ∫èÈõÜÂêàÊå∫Â§öÁöÑ Array Map Set nodelist arguments ÈÇ£Êï∞ÁªÑÁöÑËø≠‰ª£ÔºåÊàñËÄÖÈÅçÂéÜÂèØ‰ª•Áî®10Âá†ÁßçAPI ÈÇ£‰πàÂ¶ÇÊûúË¶ÅÈÅçÂéÜMap/SetÊàñËÄÖnodelistÂë¢„ÄÇÂ¶ÇÊûúÁªôÊØè‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÈÉΩÊêû‰∏ÄÂ•óAPIÂ∞±‰ºöÂæàÈ∫ªÁÉ¶ ÂåÖÊã¨JQÈÉΩÊúâeachÈÅçÂéÜ„ÄÇ ‰ºöÂØºËá¥apiÊ≥õÊª•ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÊääÈÅçÂéÜËøôÁßçË°å‰∏∫ÔºåÊäΩË±°Êàê‰∏ÄÁßçÊ®°Âºè„ÄÇ Âú∫ÊôØ ES6ÁöÑiterator ‰∏∫‰ªÄ‰πàÈúÄË¶Åiterator iteratorÊòØ‰ªÄ‰πà ‰∫ÜËß£‰∏Ä‰∏ãiteratorÁöÑÂÜÖÂÆπÔºåÂ¶ÇÊûúÂ∑≤Áªè‰∫ÜËß£ÂèØ‰ª•Áõ¥Êé•Ë∑≥Ëøá ‰∏∫‰ªÄ‰πàÈúÄË¶Åiterator Âõ†‰∏∫jsÈúÄË¶ÅÈÅçÂéÜÁöÑÊï∞ÊçÆÁªìÊûÑË∂äÊù•Ë∂äÂ§öÔºåÂ¶ÇÊûúÁªôÊØè‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÈÉΩÊêû‰∏ÄÂ•óAPI‰ºöÂæàÈ∫ªÁÉ¶„ÄÇ ÊâÄ‰ª•ÔºåÈúÄË¶ÅÊúâ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£ÔºåÂèØ‰ª•ÈÅçÂéÜÂêÑÁßçÊï∞ÊçÆÁªìÊûÑ„ÄÇ iteratorÊòØ‰ªÄ‰πà Â∞±ÊòØÊØîÂ¶ÇArray.prototypeÂ∞±Êúâ‰∏Ä‰∏™[Symbol.iterator]Â±ûÊÄß Ëøô‰∏™Â±ûÊÄßÂØπÂ∫îÁöÑÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂáΩÊï∞Ë∞ÉÁî®ÂêéÔºåÂæóÂà∞‰∏Ä‰∏™Ëø≠‰ª£Âô® Êàë‰ª¨Áî®Ëøô‰∏™Ëø≠‰ª£Âô®Â∞±ÂèØ‰ª•ÈÅçÂéÜÂêÑÁßçÁ¨¶ÂêàiteratorÊ†áÂáÜÁöÑÊï∞ÊçÆÁªìÊûÑÂï¶„ÄÇ ÊÄé‰πàÈÅçÂéÜÂë¢Ôºü Ëø≠‰ª£Âô®ÊúânextÔºåÁî®whileÂéªËø≠‰ª£ ÊØîÂ¶Ç1234567891011121314151617181920function each(data) &#123; let iterator = data[Symbol.iterator](); let item = &#123; done: false &#125;; while (item.done === false) &#123; item = iterator.next(); if ( item.done ) return item console.log(item) &#125;&#125;let arr = [1, 2, 3, 4];let nodeList = document.querySelectorAll(&quot;p&quot;);let m = newMap();m.set(&quot;a&quot;, 100);m.set(&quot;b&quot;, 100);each(arr)each(nodeList)each(m) ÈÇ£‰πàÔºåÈöæÈÅìÊØè‰∏Ä‰∏™ÂºÄÂèëËÄÖÔºåÈÉΩÈúÄË¶ÅËá™Â∑±Â∞ÅË£Ö‰∏Ä‰∏™eachÊñπÊ≥ïÂêóÔºü ES6Êèê‰æõÁöÑfor‚Ä¶ofÂ∞±ÊòØÁ±ª‰ºº‰∫éeachÔºåÁî®Êù•ÈÅçÂéÜÁ¨¶ÂêàiteratorÊé•Âè£ÁöÑÊï∞ÊçÆÁªìÊûÑ123for ( let v of nodeList ) &#123; console.log(v)&#125; Ëø≠‰ª£Âô®Ê®°ÂºèÁöÑjsÂÆûÁé∞ Ëøô‰∏™Ë¶ÅÂÖ≥Ê≥®ÂÆûÁé∞ÊÄùË∑Ø„ÄÇ ËøôÈáåÂè™ÊòØÊääÊï∞ÁªÑËÆæËÆ°ÊàêËø≠‰ª£Âô®ÔºåÊúâ‰∏Ä‰∏™nextÊñπÊ≥ïÂíåhasNextÊñπÊ≥ï ÈúÄË¶ÅÊúâ2‰∏™Á±ª 1.WrapperÁ±ªÔºåÊèê‰æõ‰∏Ä‰∏™getIteratorÊñπÊ≥ïÔºåÂèØ‰ª•ÁîüÊàê‰∏Ä‰∏™Ëø≠‰ª£Âô® 2.IteratorÁ±ªÔºåËø≠‰ª£Âô®„ÄÇÊúânextÂíåhasNextÊñπÊ≥ï class Iterator{ constructor(wrapper) { this.list = wrapper.list this.index = 0 } next() { if ( this.hasNext() ) { returnthis.list[this.index++] } else { returnnull } } hasNext() { returnthis.index &lt; this.list.length } } class Wrapper{ constructor(list) { this.list = list } getIterator(iterator) { returnnew Iterator(this) } } var arr = [1, 2, 3] var iterator = new Wrapper( arr ).getIterator() while ( iterator.hasNext() ) { console.log(iterator.next()) }]]></content>
      <tags>
        <tag>ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[promiseÁöÑÊ®°ÊãüÂÆûÁé∞]]></title>
    <url>%2F2017%2F12%2F20%2FPromise%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[1.Ê¶ÇËø∞1.1 ‰ªÄ‰πàÊòØpromisePromise ÂØπË±°ÊòØ JavaScript ÁöÑÂºÇÊ≠•Êìç‰ΩúËß£ÂÜ≥ÊñπÊ°àÔºå‰∏∫ÂºÇÊ≠•Êìç‰ΩúÊèê‰æõÁªü‰∏ÄÊé•Âè£„ÄÇÂÆÉËµ∑Âà∞‰ª£ÁêÜ‰ΩúÁî®ÔºàproxyÔºâÔºåÂÖÖÂΩìÂºÇÊ≠•Êìç‰Ωú‰∏éÂõûË∞ÉÂáΩÊï∞‰πãÈó¥ÁöÑ‰∏≠‰ªãÔºå‰ΩøÂæóÂºÇÊ≠•Êìç‰ΩúÂÖ∑Â§áÂêåÊ≠•Êìç‰ΩúÁöÑÊé•Âè£„ÄÇ 1.2 promiseËß£ÂÜ≥ÁöÑÈóÆÈ¢ò1.2.1 ÂõûË∞ÉÂú∞Áã±Promise ÂèØ‰ª•ËÆ©ÂºÇÊ≠•Êìç‰ΩúÂÜôËµ∑Êù•ÔºåÂ∞±ÂÉèÂú®ÂÜôÂêåÊ≠•Êìç‰ΩúÁöÑÊµÅÁ®ãÔºåËÄå‰∏çÂøÖ‰∏ÄÂ±ÇÂ±ÇÂú∞ÂµåÂ•óÂõûË∞ÉÂáΩÊï∞„ÄÇ 1.2.2 Âπ∂Ë°åÁªìÊûúÂ¶ÇÊûúÂá†‰∏™ÂºÇÊ≠•Êìç‰Ωú‰πãÈó¥Âπ∂Ê≤°ÊúâÂâçÂêéÈ°∫Â∫è‰πãÂàÜ,‰ΩÜÈúÄË¶ÅÁ≠âÂ§ö‰∏™ÂºÇÊ≠•Êìç‰ΩúÈÉΩÂÆåÊàêÂêéÊâçËÉΩÊâßË°åÂêéÁª≠ÁöÑ‰ªªÂä°ÔºåÊó†Ê≥ïÂÆûÁé∞Âπ∂Ë°åËäÇÁ∫¶Êó∂Èó¥„ÄÇ 1.3 promiseÁÆÄ‰ªãÂú® ES6 Promises Ê†áÂáÜ‰∏≠ÂÆö‰πâÁöÑAPIËøò‰∏çÊòØÂæàÂ§öÔºåÁõÆÂâçÂ§ßËá¥Êúâ‰∏ãÈù¢‰∏âÁßçÁ±ªÂûã„ÄÇ 1.3.1 consturctorÈ¶ñÂÖàÔºåPromise ÊòØ‰∏Ä‰∏™ÂØπË±°Ôºå‰πüÊòØ‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ functionf1(resolve, reject) { // ÂºÇÊ≠•‰ª£Á†Å... } var promise = newPromise(f1); 1.3.2 Instance MethodPromiseÂØπË±°ÈÄöËøáËá™Ë∫´ÁöÑÁä∂ÊÄÅÔºåÊù•ÊéßÂà∂ÂºÇÊ≠•Êìç‰Ωú„ÄÇPromiseÂÆû‰æãÂÖ∑Êúâ‰∏âÁßçÁä∂ÊÄÅ„ÄÇ ÂºÇÊ≠•Êìç‰ΩúÊú™ÂÆåÊàêÔºàpendingÔºâ ÂºÇÊ≠•Êìç‰ΩúÊàêÂäüÔºàfulfilledÔºâ ÂºÇÊ≠•Êìç‰ΩúÂ§±Ë¥•ÔºàrejectedÔºâ Ëøô‰∏âÁßçÁöÑÁä∂ÊÄÅÁöÑÂèòÂåñÈÄîÂæÑÂè™Êúâ‰∏§Áßç„ÄÇ ‰ªé‚ÄúÊú™ÂÆåÊàê‚ÄùÂà∞‚ÄúÊàêÂäü‚Äù ‰ªé‚ÄúÊú™ÂÆåÊàê‚ÄùÂà∞‚ÄúÂ§±Ë¥•‚Äù ÊâÄ‰ª•PromiseÁöÑÊúÄÁªàÁªìÊûúÂè™Êúâ‰∏§‰∏™, ÂºÇÊ≠•Êìç‰ΩúÊàêÂäüÔºåPromiseÂÆû‰æã‰º†Âõû‰∏Ä‰∏™ÂÄºÔºàvalueÔºâ,Áä∂ÊÄÅÂèò‰∏∫fulfilled„ÄÇ ÂºÇÊ≠•Êìç‰ΩúÂ§±Ë¥•ÔºåPromise ÂÆû‰æãÊäõÂá∫‰∏Ä‰∏™ÈîôËØØÔºàerrorÔºâ,Áä∂ÊÄÅÂèò‰∏∫rejected„ÄÇ promise.then(onFulfilled, onRejected) // resolve(ÊàêÂäü)Êó∂,onFulfilled ‰ºöË¢´Ë∞ÉÁî®// reject(Â§±Ë¥•)Êó∂,onRejected ‰ºöË¢´Ë∞ÉÁî® 1.3.3 Static MethodÂÉè PromiseËøôÊ†∑ÁöÑÂÖ®Â±ÄÂØπË±°ËøòÊã•Êúâ‰∏Ä‰∫õÈùôÊÄÅÊñπÊ≥ï„ÄÇÂåÖÊã¨ Promise.all()ËøòÊúâPromise.resolve() Á≠âÂú®ÂÜÖÔºå‰∏ªË¶ÅÈÉΩÊòØ‰∏Ä‰∫õÂØπPromiseËøõË°åÊìç‰ΩúÁöÑËæÖÂä©ÊñπÊ≥ï„ÄÇ 2.PromiseÁöÑÂÆûÁé∞2.1 resolveÂíårejectresolveÂíårejectÈÉΩÊòØÂáΩÊï∞ //ÊûÑÈÄ†ÂáΩÊï∞‰∏≠functionPromise(executor) { let self = this; /*ÂàùÂßãÂåñstatus*/ self.status = &apos;pending&apos;; /*ÂàùÂßãÂåñvalue*/ self.value = undefined; /*ËÆ¢ÈòÖ‰∫ã‰ª∂ÁöÑÊï∞ÁªÑ*/ self.onResolvedCallBacks = []; self.onRejectedCallBacks = []; /*Ê≠§ÂáΩÊï∞Â∞ÜPromiseÂÆû‰æãÁöÑÁä∂ÊÄÅÁî±pending ËΩ¨Âåñ‰∏∫ fulfilled*/functionresolve(value) { if (value instanceofPromise) { return value.then(resolve, reject); } setTimeout(function () { if (self.status === &apos;pending&apos;) { self.status = &apos;fulfilled&apos;; self.value = value; /*ÂèëÂ∏ÉÂ∑≤ÁªèËÆ¢ÈòÖËøáÁöÑ‰∫ã‰ª∂*/ self.onResolvedCallBacks.forEach(item =&gt; item(self.value)) } }, 0) } /*Ê≠§ÂáΩÊï∞Â∞ÜPromiseÂÆû‰æãÁöÑÁä∂ÊÄÅÁî±pending ËΩ¨Âåñ‰∏∫ rejected*/functionreject(reason) { setTimeout(function () { if (self.status === &apos;pending&apos;) { self.status = &apos;rejected&apos;; self.value = reason; /*ÂèëÂ∏ÉÂ∑≤ÁªèËÆ¢ÈòÖËøáÁöÑ‰∫ã‰ª∂*/ self.onRejectedCallBacks.forEach(item =&gt; item(self.value)) } }, 0) } // new Promise ÁöÑÊó∂ÂÄôÔºåÊâßË°åÂô®ÔºàexecutorÔºâÁöÑ‰ª£Á†Å‰ºöÁ´ãÂç≥ÊâßË°åtry { executor(resolve, reject); } catch (e) { reject(e); } } 2.2 thenÊñπÊ≥ïpromiseÊàêÂäüÂêéÔºåonFullfilled‰ºöË¢´Ë∞ÉÁî®„ÄÇÂπ∂‰∏îÊääpromiseÁöÑÂÄºÂΩìÂÅöÂÆÉÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇpromiseÂú®ÊàêÂäü‰πãÂâçÔºå‰∏ç‰ºöË∞ÉÁî®ÂÆÉÔºåÂπ∂‰∏îÂè™ËÉΩË¢´Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇreject‰πü‰∏ÄÊ†∑„ÄÇ // ÂÖàÂ∞ÅË£Ö‰∏Ä‰∏™ÊñπÊ≥ï function resolvePromise(promise2,x,resolve,reject){ // if(promise2 === x){ return reject(new TypeError(&apos;Âæ™ÁéØÂºïÁî®&apos;)); } // ‰∏∫‰∫ÜÈò≤Ê≠¢resolveÂíårejectÂêåÊó∂Ë∞ÉÁî® let called = false;//promise2ÊòØÂê¶Â∑≤Áªèresolve Êàñreject‰∫Ü if(x instanceof Promise){ if(x.status == PENDING){ x.then(function(y){ resolvePromise(promise2,y,resolve,reject); },reject); }else{ x.then(resolve,reject); } //xÊòØ‰∏Ä‰∏™thenableÂØπË±°ÊàñÂáΩÊï∞ÔºåÂè™Ë¶ÅÊúâthenÊñπÊ≥ïÁöÑÂØπË±°Ôºå }elseif(x!= null &amp;&amp;((typeof x==&apos;object&apos;)||(typeof x == &apos;function&apos;))){ //ÂΩìÊàë‰ª¨ÁöÑpromiseÂíåÂà´ÁöÑpromiseËøõË°å‰∫§‰∫íÔºåÁºñÂÜôËøôÊÆµ‰ª£Á†ÅÁöÑÊó∂ÂÄôÂ∞ΩÈáèÁöÑËÄÉËôëÂÖºÂÆπÊÄßÔºå //ÂÖÅËÆ∏Âà´‰∫∫ÁûéÂÜôÔºåxÂèØ‰ª•ÊòØÂØπË±°Ôºå‰πüÂèØ‰ª•ÊòØÂáΩÊï∞ try{ letthen = x.then; if(typeof then == &apos;function&apos;){ //Êúâ‰∫õpromise‰ºöÂêåÊó∂ÊâßË°åÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÂõûË∞É then.call(x,function(y){ //Â¶ÇÊûúpromise2Â∑≤ÁªèÊàêÂäüÊàñÂ§±Ë¥•‰∫ÜÔºåÂàô‰∏ç‰ºöÂÜçÂ§ÑÁêÜ‰∫Ü if(called)return; called = true; resolvePromise(promise2,y,resolve,reject) },function(err){ if(called)return; called = true; reject(err); }); }else{ //Âà∞Ê≠§ÁöÑËØùx‰∏çÊòØ‰∏Ä‰∏™thenableÂØπË±°ÔºåÈÇ£Áõ¥Êé•ÊääÂÆÉÂΩìÊàêÂÄºresolve promise2Â∞±ÂèØ‰ª•‰∫Ü // ÂΩìËøîÂõû‰∏Ä‰∏™ÂØπË±° {name:&apos;a&apos;,then:{age:8}},ÂØπË±°ÈáåÁöÑthen‰∏çÊòØthenableÂØπË±° resolve(x); } }catch(e){ if(called)return; called = true; reject(e); } }else{ //Â¶ÇÊûúXÊòØ‰∏Ä‰∏™ÊôÆÈÄö ÁöÑÂÄºÔºåÂàôÁî®xÁöÑÂÄºÂéªresolve promise2 resolve(x); } } Promise.prototype.then = function(onFulfilled,onRejected){ //Â¶ÇÊûúÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÂõûË∞ÉÊ≤°Êúâ‰º†ÔºåÂàôË°®Á§∫Ëøô‰∏™thenÊ≤°Êúâ‰ªª‰ΩïÈÄªËæëÔºåÂè™‰ºöÊääÂÄºÂæÄÂêéÊäõ,Âè´ÂÅöÂÄºÁöÑÁ©øÈÄè // ‰æãÂ¶ÇÔºöpromise.then().then().then(function(data){},function(err){}) onFulfilled = typeof onFulfilled == &apos;function&apos;?onFulfilled:function(value){return value}; onRejected = typeof onRejected == &apos;function&apos;?onRejected:reason=&gt;{throw reason}; //Â¶ÇÊûúÂΩìÂâçpromiseÁä∂ÊÄÅÂ∑≤ÁªèÊòØÊàêÂäüÊÄÅ‰∫ÜÔºåonFulfilledÁõ¥Êé•ÂèñÂÄº let self = this; let promise2; if(self.status == FULFILLED){ return promise2 = new Promise(function(resolve,reject){ setTimeout(function(){ try{ let x =onFulfilled(self.value); //Â¶ÇÊûúËé∑ÂèñÂà∞‰∫ÜËøîÂõûÂÄºx,‰ºöËµ∞Ëß£ÊûêpromiseÁöÑËøáÁ®ã resolvePromise(promise2,x,resolve,reject); }catch(e){ //Â¶ÇÊûúÊâßË°åÊàêÂäüÁöÑÂõûË∞ÉËøáÁ®ã‰∏≠Âá∫Èîô‰∫ÜÔºåÁî®ÈîôËØØÂéüÂõ†Êääpromise2 reject reject(e); } }) }); } if(self.status == REJECTED){ return promise2 = new Promise(function(resolve,reject){ setTimeout(function(){ try{ let x =onRejected(self.value); resolvePromise(promise2,x,resolve,reject); }catch(e){ reject(e); } }) }); } if(self.status == PENDING){ return promise2 = new Promise(function(resolve,reject){ self.onResolvedCallbacks.push(function(){ try{ let x =onFulfilled(self.value); //Â¶ÇÊûúËé∑ÂèñÂà∞‰∫ÜËøîÂõûÂÄºx,‰ºöËµ∞Ëß£ÊûêpromiseÁöÑËøáÁ®ã resolvePromise(promise2,x,resolve,reject); }catch(e){ reject(e); } }); self.onRejectedCallbacks.push(function(){ try{ let x =onRejected(self.value); resolvePromise(promise2,x,resolve,reject); }catch(e){ reject(e); } }); }); } } 2.2 catchÊñπÊ≥ïPromise.prototype.catch=function (callback) { returnthis.then(null,callback); } ---------‰ΩøÁî®------- let promise = newPromise(function (resolve, reject) { reject(&apos;ÈîôËØØ&apos;); }) promise.then(function(data){console.log(data)}).catch(e=&gt;{console.log(e)}); 2.3 all ÊñπÊ≥ïPromise.all = function (promises) { returnnewPromise(function (resolve,reject) { let arr =[];//arrÊòØÊúÄÁªàËøîÂõûÂÄºÁöÑÁªìÊûúÁöÑÈõÜÂêà„ÄÇlet j =0; functionprocessData(i,data){// ÊØèË∞ÉÁî®‰∏ÄÊ¨°Ê≠§ÂáΩÊï∞ÔºåjÂ∞±‰ºö+1Ôºõ arr[i] = data;// ÊØèÊ¨°ÊàêÂäüÁöÑÁªìÊûúÈÉΩÊîæÂÖ•Êï∞ÁªÑ‰∏≠if(++j===promises.length){ resolve(arr); //Âè™Êúâpromises‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™ÊàêÂäüÔºåÊâçËÉΩË∞ÉÁî®resolveÊñπÊ≥ï„ÄÇ } } for(let i=0;i&lt;promises.length;i++){ promises[i].then(function (data) { processData(i,data); },reject)// Â¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•ÔºåÊï¥‰ΩìÂ∞±‰ºöÂ§±Ë¥• } }) } ‰ΩøÁî®ÊñπÊ≥ïÔºö functionread(file) { returnnew Promise1(function (resolve, reject) { require(&apos;fs&apos;).readFile(file,&apos;utf8&apos;,function (err, data) { resolve(data); }) }) } Promise1.all([read(&apos;./1.txt&apos;),read(&apos;./2.txt&apos;)]).then(function (data) { console.log(data) }) // [&apos;file1&apos;,&apos;file2&apos;] 2.4 race ÊñπÊ≥ïÂè™Ë¶ÅÊúâ‰∏Ä‰∏™promiseÊàêÂäüÔºåÂ∞±‰ºöÊâßË°åÊàêÂäüÁöÑÂõûË∞ÉÔºåÂèÇÊï∞ÊòØÁî±promiseÁªÑÊàêÁöÑÊï∞ÁªÑ Promise.race=function (promises) { return new Promise(function (resolve, reject) { for(let i=0;i&lt;promises.length;i++){ promises[i].then(resolve,reject); } }) } 2.5 resolveÊñπÊ≥ïPromise.resolve = function (value) { return new Promise(function (resolve, reject) { resolve(value) }) } 2.6 reject ÊñπÊ≥ïPromise.reject = function (reason) { return new Promise(function (resolve, reject) { reject(reason); }) } 3.PromiseÂØπË±°ÁöÑÁº∫ÁÇπÔºö 1„ÄÅÊó†Ê≥ïÂèñÊ∂àPromiseÔºå‰∏ÄÊó¶Êñ∞Âª∫ÂÆÉÂ∞±‰ºöÁ´ãÂç≥ÊâßË°åÔºåÊó†Ê≥ï‰∏≠ÈÄîÂèñÊ∂à„ÄÇ 2„ÄÅÂ¶ÇÊûú‰∏çËÆæÁΩÆÂõûË∞ÉÂáΩÊï∞ÔºåPromiseÂÜÖÈÉ®ÊäõÂá∫ÁöÑÈîôËØØÔºå‰∏ç‰ºöÂèçÂ∫îÂà∞Â§ñÈÉ®„ÄÇ 3„ÄÅÂΩìÂ§Ñ‰∫éPendingÁä∂ÊÄÅÊó∂ÔºåÊó†Ê≥ïÂæóÁü•ÁõÆÂâçËøõÂ±ïÂà∞Âì™‰∏Ä‰∏™Èò∂ÊÆµÔºàÂàöÂàöÂºÄÂßãËøòÊòØÂç≥Â∞ÜÂÆåÊàêÔºâ„ÄÇ]]></content>
      <tags>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(a ==1 && a== 2 && a==3) ÊúâÂèØËÉΩÊòØ true ÂêóÔºü]]></title>
    <url>%2F2017%2F12%2F10%2Fa-1-a-2-a-3-%E6%9C%89%E5%8F%AF%E8%83%BD%E6%98%AF-true-%E5%90%97%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[‰∏Ä‰∏™ÊúâË∂£ÁöÑÈóÆÈ¢òÔºöÂú® JavaScript ‰∏≠Ôºå (a ==1 &amp;&amp; a== 2 &amp;&amp; a==3) ÊòØÂê¶ÊúâÂèØËÉΩ‰∏∫ true Ôºü ËøôÊòØ‰∏ÄÈÅìÊàëË¢´ÊüêÁßëÊäÄÂÖ¨Âè∏ÈóÆÂà∞ÁöÑÈù¢ËØïÈ¢ò„ÄÇÂèëÁîüÂú®‰∏§Âë®‰πãÂâçÔºåÊàë‰ªçÁÑ∂Âú®Âä™ÂäõÂØªÊâæÁ≠îÊ°à„ÄÇ ÊàëÁü•ÈÅìÊàë‰ª¨‰ªéÊù•‰∏ç‰ºöÂú®Êó•Â∏∏Â∑•‰Ωú‰∏≠ÂÜôÂá∫ËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºå‰ΩÜÊàëÂØπÈóÆÈ¢òÁöÑÁ≠îÊ°à‰ªçÁÑ∂ÂçÅÂàÜÂæàÂ•ΩÂ•á„ÄÇ Ëß£Ê≥ï‰∏ÄÔºöÂà©Áî®ÊùæÊï£Áõ∏Á≠âËøêÁÆóÁ¨¶ == ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºå‰Ω†ÂèØ‰ª•ÁÆÄÂçïÂú∞ÂàõÂª∫‰∏Ä‰∏™Â∏¶ÊúâËá™ÂÆö‰πâtoString( ÊàñËÄÖ valueOf)ÂáΩÊï∞ÁöÑÂØπË±°ÔºåÂú®ÊØè‰∏ÄÊ¨°‰ΩøÁî®ÂÆÉÊó∂ÂÄôÊîπÂèòÂÆÉÊâÄÁöÑËøîÂõûÂÄºÔºå‰ΩøÂÖ∂Êª°Ë∂≥ÊâÄÊúâ‰∏â‰∏™Êù°‰ª∂„ÄÇ const a = { i: 1, toString: function () { return a.i++; } } if(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) { console.log(&apos;Hello World!&apos;); } // Hello World! ‰πãÊâÄ‰ª•‰ºöÂæóÂà∞Â¶ÇÊ≠§ÁªìÊûúÔºåÊòØÁî±‰∫éË°®ËææÂºè‰∏≠‰ΩøÁî®‰∫ÜÊùæÊï£Áõ∏Á≠âÁöÑËøêÁÆóÁ¨¶ ==„ÄÇ‰ΩøÁî®ÊùæÊï£Áõ∏Á≠âÊó∂ÔºåÂ¶ÇÊûúÂÖ∂‰∏≠‰∏Ä‰∏™Êìç‰ΩúÊï∞‰∏éÂè¶‰∏Ä‰∏™Á±ªÂûã‰∏çÂêåÔºåÂàô JS ÂºïÊìéÂ∞ÜÂ∞ùËØïÂ∞Ü‰∏Ä‰∏™Êìç‰ΩúËΩ¨Êç¢‰∏∫Âè¶‰∏Ä‰∏™Á±ªÂûã„ÄÇÂú®Â∑¶ËæπÂØπË±°„ÄÅÂè≥ËæπÁöÑÊï∞Â≠óÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆÉ‰ºöÂ∞ùËØïÂ∞ÜÂØπË±°ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êï∞ÔºåÈ¶ñÂÖàÈÄöËøáË∞ÉÁî® valueOf Â¶ÇÊûúÊòØÂèØË∞ÉÁî®ÁöÑ„ÄÇÂê¶ÂàôÔºåÂÆÉ‰ºöË∞ÉÁî®toStringÊñπÊ≥ï„ÄÇÊàë‰ΩøÁî®toString‰ªÖ‰ªÖÊòØÂõ†‰∏∫ÂÆÉÊòØÊàëÁöÑÁ¨¨‰∏ÄÂèçÂ∫îÔºåvalueOf ‰ºöÊõ¥ÂêàÁêÜ„ÄÇÂ¶ÇÊûúÊàë‰∏ç‰ªétoStringËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºàËÄåÊòØËøîÂõûÊï∞Â≠óÔºâÔºåJS ÂºïÊìé‰ºöÂ∞ùËØïÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êï∞Â≠óÔºåËôΩÁÑ∂Êúâ‰∏Ä‰∏™Á®çÈïøÁöÑË∑ØÂæÑÔºå‰ΩÜÂÆÉ‰ªçÁÑ∂‰ºöÁªôÊàë‰ª¨ÂêåÊ†∑ÁöÑÁªìÊûú„ÄÇ Ëß£Ê≥ï‰∫åÔºöÊàë‰∏çÂèØÂê¶ËÆ§‚Äî‚ÄîÂÖ∂‰ªñÁ≠îÊ°àÊó†ÁñëÊòØÊ≠£Á°ÆÁöÑÔºå‰ΩÜ‰Ω†ÁúüÁöÑ‰∏çËÉΩËøáÈîô‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö var aÔæ† = 1; var a = 2; var Ôæ†a = 3; if(aÔæ†==1 &amp;&amp; a== 2 &amp;&amp;Ôæ†a==3) { console.log(&quot;Why hello there!&quot;) } ËØ∑Ê≥®ÊÑèif ËØ≠Âè•‰∏≠ÁöÑÂ•áÊÄ™Èó¥Ë∑ù„ÄÇÂÆÉÊòØÂçäÂÆΩÂ∫¶Èü©Êñá=,=„ÄÇËøôÊòØ‰∏Ä‰∏™ Unicode Á©∫Ê†ºÂ≠óÁ¨¶Ôºå‰ΩÜÊòØ ECMAScript ‰∏çÂ∞ÜÂÖ∂Ëß£Èáä‰∏∫‰∏Ä‰∏™Á©∫Ê†º ‚Äî‚Äî ËøôÊÑèÂë≥ÁùÄÂÆÉÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑÊ†áËØÜÁ¨¶„ÄÇÂõ†Ê≠§Êúâ‰∏â‰∏™ÂÆåÂÖ®‰∏çÂêåÁöÑÂèòÈáèÔºå‰∏Ä‰∏™ÊòØaÂêéÂä†ÂçäÂÆΩÂ∫¶Èü©ÊñáÔºå‰∏Ä‰∏™ÊòØaÔºå ‰∏Ä‰∏™ÊòØaÂâçÂä†ÂçäÂÆΩÂ∫¶Èü©Êñá„ÄÇ„ÄÇ„ÄÇ Áî®‰∏ãÂàíÁ∫ø _ Êõø‰ª£ÂçäÂÆΩÂ∫¶Èü©ÊñáÔºåÂ¢ûÂä†ÂèØËØªÊÄßÔºåÁõ∏ÂêåÁöÑ‰ª£Á†ÅÁúãËµ∑Êù•ÂÉèËøôÊ†∑Ôºö var a_ = 1; var a = 2; var _a = 3; if(a_==1 &amp;&amp; a== 2 &amp;&amp;_a==3) { console.log(&quot;Why hello there!&quot;) } Ëß£Ê≥ï‰∏âÔºöËøôÊòØÂÆåÂÖ®ÂèØËÉΩÁöÑÔºÅ var val = 0; Object.defineProperty(window, &apos;a&apos;, { get: function() { return ++val; } }); if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) { console.log(&apos;yay&apos;); } ‰ΩøÁî®‰∏Ä‰∏™getÔºåËÆ© a ÁöÑËøîÂõûÂÄº‰∏∫‰∏â‰∏™‰∏çÂêåÁöÑÂÄº„ÄÇÁÑ∂ËÄåËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄÊàë‰ª¨Â∫îËØ•Âú®ÁúüÊ≠£ÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®„ÄÇ„ÄÇ„ÄÇ]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[html2canvas‰øùÂ≠òÂõæÁâáÂéãÁº©ÂõæÁâá]]></title>
    <url>%2F2017%2F12%2F05%2Fhtml2canvas%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263async $html2canvas(el, options = &#123;&#125;) &#123; const &#123; type &#125; = options; const canvas = await html2canvas(el, &#123; useCORS: true &#125;); try &#123; if(type &amp;&amp; type === &quot;dataURL&quot;) &#123; return canvas.toDataURL(&quot;image/png&quot;); &#125; else &#123; console.warn(&quot;warn&quot;); return canvas; &#125; &#125; catch(err) &#123; console.log(&quot;err&quot;); console.log(err); &#125; return canvas;&#125;,async print() &#123; const el = document.getElementById(&quot;invite&quot;); var width = el.offsetWidth * 0.8; var height = el.offsetHeight * 0.8; const options = &#123; type: &quot;dataURL&quot;, useCORS: true, logging: true, taintTest: false, allowTaint: false, width: el.offsetWidth * 0.8, height: el.offsetHeight * 0.8 &#125;; var output = await this.$html2canvas(el, options); this.ImgToBase64(output, width, height);&#125;,ImgToBase64(base64, width, height) &#123; //ÂéãÁº©ÂõæÁâá var that = this; var img = new Image(); img.src = base64; img.onload = function() &#123; var rate = 0.8; //ÂéãÁº©ÂõæÁâá img.width = width * rate; img.height = height * rate; //ÁîüÊàêcanvas var canvas = document.createElement(&quot;canvas&quot;); var ctx = canvas.getContext(&quot;2d&quot;); canvas.width = img.width; canvas.height = img.height; ctx.drawImage(img, 0, 0, img.width, img.height); var base64 = canvas.toDataURL(&apos;image/jpeg&apos;, 0.95); that.output = base64; that.$nextTick(() =&gt; &#123; setTimeout(() =&gt; &#123; that.$emit(&quot;savaImg&quot;, that.output); &#125;, 0) &#125;) console.log(&apos;that.output&apos;) console.log(that.output) &#125;&#125;]]></content>
      <tags>
        <tag>html2canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÁöÑMVVMÊ®°ÂºèÂÆûÁé∞]]></title>
    <url>%2F2017%2F11%2F19%2FVue%E7%9A%84MVVM%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[1„ÄÅMVVMÊ®°ÂºèMVVMÁöÑËÆæËÆ°ÊÄùÊÉ≥ÔºöÂÖ≥Ê≥®ModelÔºàÊï∞ÊçÆÔºâÁöÑÂèòÂåñÔºåËÆ©MVVMÊ°ÜÊû∂ÂéªËá™Âä®Êõ¥Êñ∞DOMÁöÑÁä∂ÊÄÅÔºåÊØîËæÉ‰∏ªÊµÅÁöÑÂÆûÁé∞ÊúâÔºöangularÁöÑÔºàËÑèÂÄºÊ£ÄÊµãÔºâvueÁöÑÔºàÊï∞ÊçÆÂä´ÊåÅ-&gt;ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºâÊàë‰ª¨ÈáçÁÇπ‰∫ÜËß£vueÔºàÊï∞ÊçÆÂä´ÊåÅ-&gt;ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºâÁöÑÂÆûÁé∞ÊñπÂºèÔºåËÆ©Êàë‰ª¨‰ªéÊìç‰ΩúDOMÁöÑÁπÅÁêêÊìç‰Ωú‰∏≠Ëß£ËÑ±Âá∫Êù• 2„ÄÅÊ†∏ÂøÉÊñπÊ≥ïObject.definePropertyÁöÑÁêÜËß£Êàë‰ª¨ÂÖàÁÆÄÂçïÁúã‰∏Ä‰∏ãËøô‰∏™ÊñπÊ≥ïÂÆÉ‰πüÊòØÁî®Êù•ÂÆûÁé∞Êàë‰ª¨Êï∞ÊçÆÂä´ÊåÅÔºàÊï∞ÊçÆÁõëÂê¨ÔºâÁöÑÂÖ≥ÈîÆÊñπÊ≥ïÔºåÊàë‰ª¨Áü•ÈÅìvueÊ°ÜÊû∂ÊòØ‰∏çÂÖºÂÆπIE6~8‰ΩéÁâàÊú¨ÁöÑÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ÂÆÉÁöÑÁî®Âà∞‰∫ÜES5‰∏≠ÁöÑËøô‰∏™Object.definePropertyÁöÑÊñπÊ≥ïÔºåËÄå‰∏îËøô‰∏™ÊñπÊ≥ïÊöÇÊó∂Ê≤°ÊúâÂæàÂ•ΩÁöÑÈôçÁ∫ßÊñπÊ°à„ÄÇ12345678var a = &#123;&#125;;Object.defineProperty(a, &apos;b&apos;, &#123; value: 123, // ËÆæÁΩÆÁöÑÂ±ûÊÄßÂÄº writable: false, // ÊòØÂê¶Âè™ËØª enumerable: false, // ÊòØÂê¶ÂèØÊûö‰∏æ configurable: false// &#125;);console.log(a.b); //123 ÊñπÊ≥ï‰ΩøÁî®ÂæàÁÆÄÂçïÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºåËÄå‰∏îÈÉΩÊòØÂøÖÂ°´ÁöÑ Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÁõÆÊ†áÂØπË±° Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöÈúÄË¶ÅÂÆö‰πâÁöÑÂ±ûÊÄßÊàñÊñπÊ≥ïÁöÑÂêçÂ≠ó„ÄÇ Á¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöÁõÆÊ†áÂ±ûÊÄßÊâÄÊã•ÊúâÁöÑÁâπÊÄß Ââç‰∏§‰∏™ÂèÇÊï∞ÊØîËæÉÂ•ΩÁêÜËß£Ôºå‰∏ªË¶ÅÁúãÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÂÆÉÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÁúãÁúãÊúâÂì™‰∫õÂ±ûÊÄßÂÆö‰πâ valueÔºöÂ±ûÊÄßÁöÑÂÄº„ÄÇ writableÔºöÂ¶ÇÊûú‰∏∫ false ÔºåÂ±ûÊÄßÁöÑÂÄºÂ∞±‰∏çËÉΩË¢´ÈáçÂÜô,Âè™ËÉΩ‰∏∫Âè™ËØª‰∫Ü„ÄÇ enumerableÔºöÊòØÂê¶ÂèØÊûö‰∏æÔºåÈªòËÆ§ÊòØfalse‰∏çÂèØÊûö‰∏æÁöÑÔºàÈÄöÂ∏∏ËÆæÁΩÆ‰∏∫trueÔºâ configurableÔºöÊÄªÂºÄÂÖ≥Ôºå‰∏ÄÊó¶‰∏∫falseÔºåÂ∞±‰∏çËÉΩÂÜçËÆæÁΩÆÂÖ∂‰ªñÁöÑÔºà value Ôºå writable Ôºå enumerableÔºâ get()ÔºöÂáΩÊï∞ÔºåËé∑ÂèñÂ±ûÊÄßÂÄºÊó∂ÊâßË°åÁöÑÊñπÊ≥ïÔºà‰∏çÂèØ‰ª•Âíåwritable„ÄÅvalueÂ±ûÊÄßÂÖ±Â≠òÔºâ set()ÔºöÂáΩÊï∞ÔºåËÆæÁΩÆÂ±ûÊÄßÂÄºÊó∂ÊâßË°åÁöÑÊñπÊ≥ïÔºà‰∏çÂèØ‰ª•Âíåwritable„ÄÅvalueÂ±ûÊÄßÂÖ±Â≠òÔºâ 123456789101112// Â∏∏Áî®ÂÆö‰πâvar obj = &#123;&#125;;Object.defineProperty(obj, &apos;school&apos;, &#123; enumerable: true, get: function()&#123; // Ëé∑ÂèñÂ±ûÊÄßÂÄºÊó∂‰ºöË∞ÉÁî®getÊñπÊ≥ï &#125;, set: function(newVal)&#123; // ËÆæÁΩÆÂ±ûÊÄßÂÄºÊó∂‰ºöË∞ÉÁî®setÊñπÊ≥ï return newVal &#125;&#125;); Êàë‰ª¨ÈÄöËøáËøô‰∏™Object.definePropertyËøô‰∏™ÊñπÊ≥ïÔºåÂèØ‰ª•ÂÆûÁé∞ÂØπÂÆö‰πâÁöÑÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÁöÑÂÆûÁé∞ÁõëÂê¨ÔºåË¢´ÊñπÊ≥ïÁõëÂê¨ÂêéÁöÑÂØπË±°ÔºåÈáåÈù¢ÂÆö‰πâÁöÑÂÄºÂèëÁîüË¢´Ëé∑ÂèñÂíåËÆæÁΩÆÊìç‰ΩúÁöÑÊó∂ÂÄôÔºå‰ºöÂàÜÂà´Ëß¶ÂèëObject.definePropertyÈáåÈù¢ÂèÇÊï∞‰∏âÁöÑgetÂíåsetÊñπÊ≥ï„ÄÇ 3„ÄÅÊï∞ÊçÆÂä´ÊåÅÂú®‰∫ÜËß£ÂÆå‰∫ÜObject.definePropertyÊñπÊ≥ïÂêéÔºåÊàë‰ª¨Áé∞Âú®Ë¶ÅÈÄöËøáÂÆÉÊù•ÂÆûÁé∞Êàë‰ª¨ÁöÑÊï∞ÊçÆÂä´ÊåÅÂäüËÉΩObaerveÁöÑÊñπÊ≥ïÔºåÁúãÂ¶Ç‰∏ã‰ª£Á†Å 1234567891011121314151617181920212223242526272829303132333435function MyVue(options = &#123;&#125;)&#123; // Â∞ÜÊâÄÊúâÁöÑÂ±ûÊÄßÊåÇËΩΩÂà∞$optionsË∫´‰∏ä this.$options = options; // Ëé∑ÂèñÂà∞dataÊï∞ÊçÆÔºàModelÔºâ var data = this._data = this.$options.data; // Âä´ÊåÅÊï∞ÊçÆ observe(data)&#125;// ÁªôÈúÄË¶ÅËßÇÂØüÁöÑÂØπË±°ÈÉΩÊ∑ªÂä† Object.defineProperty ÁöÑÁõëÂê¨function Observe(data)&#123; for (let key in data) &#123; let val = data[key]; // ÈÄíÂΩí =„ÄãÊù•ÂÆûÁé∞Ê∑±Â±ÇÁöÑÊï∞ÊçÆÁõëÂê¨ observe(val) Object.defineProperty(data, key, &#123; enumerable: true, get() &#123; return val &#125;, set(newval) &#123; if (val === newval) &#123; //ËÆæÁΩÆÁöÑÂÄºÊòØÂê¶Âíå‰ª•ÂâçÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂ¶ÇÊûúÊòØÂ∞±‰ªÄ‰πàÈÉΩ‰∏çÂÅö return &#125; val = newval // ËøôÈáåË¶ÅÊääÊñ∞ËÆæÁΩÆÁöÑÂÄº‰πüÂú®Ê∑ªÂä†‰∏ÄÊ¨°Êï∞ÊçÆÂä´ÊåÅÊù•ÂÆûÁé∞Ê∑±Â∫¶ÂìçÂ∫î, observe(newval); &#125; &#125;) &#125;&#125;function observe(data)&#123; // ËøôÈáåÂÅö‰∏Ä‰∏ãÊï∞ÊçÆÁ±ªÂûãÁöÑÂà§Êñ≠ÔºåÂè™ÊúâÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÊâçÂéªÂÅöÊï∞ÊçÆÂä´ÊåÅ if (typeof data != &apos;object&apos;) return returnnew Observe(data)&#125; 1Ôºâ‰ª•‰∏ä‰ª£Á†ÅÂÅö‰∫ÜËøô‰∫õ‰∫ãÊÉÖÔºåÂÖàÂÆö‰πâ‰∫ÜÂàùÂßãÊç¢ÊûÑÈÄ†ÂáΩÊï∞MyVueÊàë‰ª¨ÈÄöËøáÂÆÉÊù•Ëé∑ÂèñÂà∞Êàë‰ª¨‰º†ËøõÊù•ÁöÑÊï∞ÊçÆdataÂíåÊàë‰ª¨ÂÆö‰πâÁöÑDOMËäÇÁÇπËåÉÂõ¥ÔºåÁÑ∂ÂêéÊäädata‰º†ËøõÂÆöÂ•ΩÁöÑÊï∞ÊçÆÂä´ÊåÅÊñπÊ≥ïobserve2ÔºâObserveÂÆûÁé∞‰∫ÜÂØπÊï∞ÊçÆÁöÑÁõëÂê¨Êï¥‰ΩìÈÄªËæëÔºåËøôÈáåÊúâ‰∏™ÁªÜËäÇÁÇπÔºåÊ≤°ÊúâÁõ¥Êé•Áî®ÊûÑÈÄ†ÂáΩÊï∞ObserveÂéªÂä´ÊåÅÊàë‰ª¨ÁöÑÊï∞ÊçÆÔºåËÄåÊòØÂÜôÂ§ö‰∫Ü‰∏Ä‰∏™observeÁöÑÂ∞èÊñπÊ≥ïÁî®Êù•new ObserveÔºåÂπ∂‰∏îÂú®ÈáåÈù¢ÂÅö‰∫ÜÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÁöÑÂà§Êñ≠„ÄÇËøôÊ†∑ÂÅöÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊñπ‰æøÈÄíÂΩíÊù•ÂÆûÁé∞Êï∞ÊçÆÁªìÊûÑÁöÑÊ∑±Â±ÇÁõëÂê¨ÔºåÂõ†‰∏∫Êàë‰ª¨ÁöÑdataÁªìÊûÑËÇØÂÆöÊòØÂ§çÊùÇÂ§öÊ†∑ÁöÑÔºå‰æãÂ¶Ç‰∏ãÈù¢‰ª£Á†Å12// ËøôÈáåÊï∞ÊçÆÁªìÊûÑÂµåÂ•óÂæàÂ§öÔºåË¶ÅÂÆûÁé∞Ê∑±Â±ÇÁöÑÊï∞ÊçÆÁõëÂê¨ÈááÁî®‰∫ÜÈÄíÂΩíÁöÑÂÆûÁé∞ÊñπÂºèdata: &#123; a: &#123;b:2&#125; , c:&#123;q:12,k:&#123;name:&apos;binhemori&apos;&#125;&#125; , f:&apos;mvvvm&apos;,o:[12,5,9,8]&#125; 3ÔºâËøôÈáåËøòÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÊàë‰ª¨Âú®setÊñπÊ≥ïÈáåÈù¢ÊúâÂÜç‰∏ÄÊ¨°ÊääËÆæÁΩÆÁöÑÊñ∞ÂÄºÔºåÊâßË°å‰∫Ü‰∏ÄÈÅçobserveÊñπÊ≥ïÔºåÊòØ‰∏∫‰∫ÜÂÆûÁé∞Ê∑±Â∫¶ÂìçÂ∫îÔºåÂõ†‰∏∫Âú®ËµãÂÄºÁöÑÊó∂ÂÄôÂèØËÉΩ‰ºöËµãÂÄº‰∏Ä‰∏™ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄºÔºåÊàë‰ª¨Áü•ÈÅìvueÊúâ‰∏™ÁâπÁÇπÔºåÊòØ‰∏çËÉΩÊñ∞Â¢û‰∏çÂ≠òÂú®ÁöÑÂ±ûÊÄßÂíå‰∏çËÉΩÂ≠òÂú®Â±ûÊÄßÊ≤°ÊúâgetÂíåsetÊñπÊ≥ïÁöÑÔºåÂ¶ÇÊûúËµãÂÄºËøõÊù•ÁöÑÊñ∞Â±ûÊÄßÂÄºÊòØÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºåÂ∞±‰ºöÊääÊàë‰ª¨ÂéüÂÖàÊâßË°åËøáÊï∞ÊçÆÂä´ÊåÅÊñπÊ≥ïÁöÑÂØπË±°Âú∞ÂùÄÁªôÊõøÊç¢ÊéâÔºåËÄåÊñ∞ÂØπË±°ÊòØÊ≤°ÊúâÁªèËøáÊï∞ÊçÆÂä´ÊåÅÁöÑÂ∞±ÊòØÊ≤°ÊúâgetÂíåsetÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËÆæÁΩÆÊñ∞ÂÄºÁöÑÊó∂ÂÄôÈúÄË¶ÅÂú®ÈáçÊñ∞Áªô‰ªñÊâßË°å‰∏ÄÈÅçobserveÊï∞ÊçÆÂä´ÊåÅÔºåÁ°Æ‰øùÂºÄÂèëËÄÖ‰∏çÁÆ°ÊÄéÊ†∑ÂéªËÆæÁΩÆÂÄºÁöÑÊó∂ÂÄôÈÉΩËÉΩË¢´Âä´ÊåÅÂà∞ ËØ¥‰∫ÜËøô‰πàÂ§öÔºåÊàë‰ª¨Êù•‰ΩøÁî®‰∏Ä‰∏ãÁúãÁúãÊúâÊ≤°ÊúâÂÆûÁé∞ÂØπÊï∞ÊçÆÁöÑÂä´ÊåÅÔºàÊï∞ÊçÆÁõëÂê¨ÔºâÂêß12345678910111213141516&lt;div id=&quot;app&quot;&gt; &lt;div&gt; &lt;div&gt;ËøôÈáåÁöÑÊï∞ÊçÆ1======&lt;span style=&quot;color: red;&quot;&gt;&#123;&#123;a.b&#125;&#125;&lt;/span&gt;&lt;/div&gt; &lt;div&gt;ËøôÈáåÊòØÊï∞ÊçÆ2======&lt;span style=&quot;color: green;&quot;&gt;&#123;&#123;c&#125;&#125;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;input type=&quot;text&quot; v-model=&quot;a.b&quot; value=&quot;&quot;&gt; &lt;/div&gt; &lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑmvvmÊ®°Âùó --&gt; &lt;script src=&quot;./mvvm.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var myvue = new MyVue(&#123; el: &apos;#app&apos;, data: &#123; a: &#123; b: &apos;‰Ω†Â•Ω&apos; &#125;, c: 12, o: [12, 5, 9, 8] &#125; &#125;) &lt;/script&gt; ÂèØ‰ª•ÁúãÂà∞ÂØπÊàë‰ª¨ÊâÄÂÆö‰πâÁöÑdata‰∏≠ÁöÑÊï∞ÊçÆÈÉΩÂ∑≤ÁªèÊúâ‰∫ÜgetÂíåsetÊñπÊ≥ï‰∫ÜÔºåÂà∞ËøôÈáåÊàë‰ª¨ÂØπdata‰∏≠Êï∞ÊçÆÁöÑÂèòÂåñÈÉΩÊòØÂèØ‰ª•ÁõëÂê¨ÁöÑÂà∞‰∫Ü 4„ÄÅÊï∞ÊçÆ‰ª£ÁêÜÊï∞ÊçÆ‰ª£ÁêÜÔºåÊàë‰ª¨Áî®ËøávueÁöÑÈÉΩÁü•ÈÅìÔºåÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠ÊòØËÉΩÁõ¥Êé•ÈÄöËøáÂÆû‰æã+Â±ûÊÄßÔºàvm.aÔºâÁõ¥Êé•Ëé∑ÂèñÂà∞Êï∞ÊçÆÁöÑÔºåËÄåÊàë‰ª¨‰∏äÈù¢ÁöÑ‰ª£Á†ÅË¶ÅËé∑ÂèñÂà∞Êï∞ÊçÆËøòÈúÄË¶ÅËøôÊ†∑myvue._data.aËøôÊ†∑Êù•Ëé∑ÂèñÂà∞Êï∞ÊçÆÔºå‰∏≠Èó¥Â§ö‰∫Ü‰∏Ä‰∏™ _data ÁöÑÁéØËäÇÔºåËøôÊ†∑‰ΩøÁî®Ëµ∑Êù•‰∏çÊòØÂæàÊñπ‰æøÁöÑÔºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÁé∞ËÆ©Êàë‰ª¨ÁöÑÂÆû‰æãthisÊù•‰ª£ÁêÜÔºà _dataÔºâÊï∞ÊçÆÔºå‰ªéËÄåÂÆûÁé∞ myvue.a ËøôÊ†∑ÁöÑÊìç‰ΩúÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÂà∞Êï∞ÊçÆ12345678910111213141516171819202122function MyVue(options = &#123;&#125;) &#123; // Â∞ÜÊâÄÊúâÁöÑÂ±ûÊÄßÊåÇËΩΩÂà∞$optionsË∫´‰∏ä this.$options = options; // Ëé∑ÂèñÂà∞dataÊï∞ÊçÆÔºàModelÔºâ var data = this._data = this.$options.data; observe(data); // this Â∞±‰ª£ÁêÜÊï∞ÊçÆ this._data for (const key in data) &#123; Object.defineProperty(this, key, &#123; enumerable: true, get() &#123; // this.a ËøôÈáåÂèñÂÄºÁöÑÊó∂ÂÄô ÂÆûÈôÖ‰∏äÊòØÂéª_data‰∏≠ÁöÑÂÄº return this._data[key] &#125;, set(newVal) &#123; // ËÆæÁΩÆÂÄºÁöÑÊó∂ÂÄôÂÖ∂ÂÆû‰πüÊòØÂéªÊîπthis._data.aÁöÑÂÄº this._data[key] = newVal &#125; &#125;) &#125;&#125; ‰ª•‰∏ä‰ª£Á†ÅÂÆûÁé∞‰∫ÜÊàë‰ª¨ÁöÑÊï∞ÊçÆ‰ª£ÁêÜÔºåÂ∞±ÊòØÂú®ÊûÑÂª∫ÂÆû‰æãÁöÑÊó∂ÂÄôÔºåÊäädata‰∏≠ÁöÑÊï∞ÊçÆÈÅçÂéÜ‰∏ÄÊ¨°Âá∫Êù•Ôºå‰æùÊ¨°Âä†Âà∞Êàë‰ª¨this‰∏äÔºåÂä†ÁöÑËøáÁ®ã‰∏≠‰πü‰∏çË¶ÅÂøòËÆ∞Ê∑ªÂä†Object.definePropertyÔºåÂè™Ë¶ÅÊòØÊï∞ÊçÆÊàë‰ª¨ÈÉΩÈúÄË¶ÅÊ∑ªÂä†ÁõëÂê¨„ÄÇÂ¶Ç‰∏ãÂõæÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂØπÊï∞ÊçÆÁöÑ‰ª£ÁêÜ 5„ÄÅÁºñËØëÊ®°ÊùøÔºàCompileÔºâÊàë‰ª¨Â∑≤ÁªèÂÆåÊàêÂØπÊï∞ÊçÆÂä´ÊåÅ‰πüÂÆûÁé∞‰∫ÜthisÂØπÊï∞ÊçÆÁöÑ‰ª£ÁêÜÔºåÈÇ£‰πàÊé•‰∏ãÊù•Ë¶ÅÂÅöÁöÑÂ∞±ÊòØÊÄéÊ†∑ÊääÊï∞ÊçÆÁºñËØëÂà∞Êàë‰ª¨ÁöÑDOMËäÇÁÇπ‰∏äÈù¢Ôºå‰πüÂ∞±ÊòØËÆ©ËßÜÂõæÂ±ÇÔºàviewÔºâË¶ÅÂ±ïÁ§∫Êàë‰ª¨ÁöÑÊï∞ÊçÆ‰∫Ü12345678910111213141516171819202122232425262728293031323334353637383940414243// Â∞ÜÊï∞ÊçÆÂíåËäÇÁÇπÊåÇËΩΩÂú®‰∏ÄËµ∑function Compile(el, vm) &#123; // elË°®Á§∫ÊõøÊç¢ÁöÑËåÉÂõ¥ vm.$el = document.querySelector(el); // ËøôÈáåÊ≥®ÊÑèÊàë‰ª¨Ê≤°ÊúâÂéªÁõ¥Êé•Êìç‰ΩúDOMÔºåËÄåÊòØÊääËøô‰∏™Ê≠•È™§ÁßªÂà∞ÂÜÖÂ≠ò‰∏≠Êù•Êìç‰ΩúÔºåËøôÈáåÁöÑÊìç‰ΩúÊòØ‰∏ç‰ºöÂºïÂèëDOMËäÇÁÇπÁöÑÂõûÊµÅ let fragment = document.createDocumentFragment(); // ÊñáÊ°£Á¢éÁâá let child; while (child = vm.$el.firstChild) &#123; // Â∞ÜappÁöÑÂÜÖÂÆπÁßªÂÖ•ÂÜÖÂ≠ò‰∏≠ fragment.appendChild(child); &#125; replace(fragment) function replace(fragment) &#123; Array.from(fragment.childNodes).forEach(function (node) &#123; //Âæ™ÁéØÊØè‰∏ÄÂ±Ç let text = node.textContent; let reg = /\&#123;\&#123;(.*)\&#125;\&#125;/g; // ËøôÈáåÂÅö‰∫ÜÂà§Êñ≠Âè™ÊúâÊñáÊú¨ËäÇÁÇπÊâçÂéªÂåπÈÖçÔºåËÄå‰∏îËøòË¶ÅÂ∏¶&#123;&#123;***&#125;&#125;ÁöÑÂ≠óÁ¨¶‰∏≤ if (node.nodeType === 3 &amp;&amp; reg.test(text)) &#123; // ÊääÂåπÈÖçÂà∞ÁöÑÂÜÖÂÆπÊãÜÂàÜÊàêÊï∞ÁªÑ let arr = RegExp.$1.split(&apos;.&apos;); let val = vm; // ËøôÈáåÂØπÊàë‰ª¨ÂåπÈÖçÂà∞ÁöÑÂÆö‰πâÊï∞ÁªÑÔºå‰ºö‰æùÊ¨°ÂéªÈÅçÂéÜÂÆÉÔºåÊù•ÂÆûÁé∞ÂØπÂÆû‰æãÁöÑÊ∑±Â∫¶ËµãÂÄº arr.forEach(function (k) &#123; // this.a.b this.c val = val[k] &#125;) // Áî®Â≠óÁ¨¶‰∏≤ÁöÑreplaceÊñπÊ≥ïÊõøÊç¢ÊéâÊàë‰ª¨Ëé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆval node.textContent = text.replace(/\&#123;\&#123;(.*)\&#125;\&#125;/, val) &#125; // ËøôÈáåÂÅö‰∫ÜÂà§Êñ≠ÔºåÂ¶ÇÊûúÊúâÂ≠êËäÇÁÇπÁöÑËØù ‰ΩøÁî®ÈÄíÂΩí if (node.childNodes) &#123; replace(node) &#125; &#125;) &#125; // ÊúÄÂêéÊääÁºñËØëÂÆåÁöÑDOMÂä†ÂÖ•Âà∞appÂÖÉÁ¥†‰∏≠ vm.$el.appendChild(fragment)&#125; ‰ª•‰∏ä‰ª£Á†ÅÂÆûÁé∞Êàë‰ª¨ÂØπÊï∞ÊçÆÁöÑÁºñËØëCompileÂ¶Ç‰∏ãÂõæÔºåÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÊääËé∑ÂèñÂà∞el‰∏ãÈù¢ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÈÉΩÂ≠òÂÇ®Âà∞‰∫ÜÊñáÊ°£Á¢éÁâá fragment ‰∏≠ÊöÇÊó∂Â≠òÂÇ®‰∫ÜËµ∑Êù•ÔºàÊîæÂà∞ÂÜÖÂ≠ò‰∏≠ÔºâÔºåÂõ†‰∏∫ËøôÈáåË¶ÅÂéªÈ¢ëÁπÅÁöÑÊìç‰ΩúDOMÂíåÊü•ÊâæDOMÔºåÊâÄ‰ª•ÁßªÂà∞ÂÜÖÂ≠ò‰∏≠Êìç‰Ωú 1ÔºâÂÖàÁî®whileÂæ™ÁéØÔºåÂÖàÊää el ‰∏≠ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÈÉΩÊ∑ªÂä†Âà∞ÊñáÊ°£Á¢éÁâá‰∏≠fragment.appendChild(child); 2ÔºâÁÑ∂ÂêéÊàë‰ª¨ÈÄöËøáreplaceÊñπÊ≥ïÂéªÈÅçÂéÜÊñáÊ°£‰∏≠ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÔºåÂ∞Ü‰ªñ‰ª¨ÊñáÊú¨ËäÇÁÇπ‰∏≠Ôºànode.nodeType = 3ÔºâÂ∏¶ÊúâÂèåÂ§ßÊã¨Âè∑ËØ≠Ê≥ï‰∏≠ÁöÑÂÜÖÂÆπÈÉΩËé∑ÂèñÂà∞ÔºåÊääÂåπÈÖçÂà∞ÁöÑÂÄºÊãÜÂàÜÊàêÊï∞ÁªÑÔºåÁÑ∂ÂêéÈÅçÂéÜ‰æùÊ¨°Âéªdata‰∏≠Êü•ÊâæËé∑ÂèñÔºåÈÅçÂéÜÁöÑËäÇÁÇπÂ¶ÇÊûúÊúâÂ≠êËäÇÁÇπÁöÑËØùÁªßÁª≠‰ΩøÁî®replaceÊñπÊ≥ïÁõ¥Âà∞ÂèçÂõûundefined 3ÔºâËé∑ÂèñÂà∞Êï∞ÊçÆÂêéÔºåÁî®replaceÊñπÊ≥ïÊõøÊç¢ÊéâÊñáÊú¨‰∏≠ÂèåÂ§ßÊã¨Âè∑ÁöÑÊï¥ÂùóÂÜÖÂÆπÔºåÁÑ∂ÂêéÂú®ÊîæÂõûelÂÖÉÁ¥†‰∏≠vm.$el.appendChild(fragment)Ôºå 6„ÄÅÂÖ≥ËÅîËßÜÂõæÔºàviewÔºâ‰∏éÊï∞ÊçÆÔºàmodelÔºâÂú®ÊàêÂäüÁöÑÂ∞ÜÊàë‰ª¨ÁöÑÊï∞ÊçÆÁªëÂÆöÂà∞‰∫ÜDOMËäÇÁÇπ‰πãÂêéÔºåË¶ÅÂÆûÁé∞Êàë‰ª¨ÁöÑËßÜÂõæÂ±ÇÔºàviewÔºâË∑üÊï∞ÊçÆÂ±ÇÔºàmodelÔºâÁöÑÂÖ≥ËÅîÔºåÁé∞Âú®ÂÆûÈôÖ‰∏äËøòÊ≤°ÊúâÂÖ≥ËÅîËµ∑Êù•ÔºåÂõ†‰∏∫Êó†Ê≥ïÈÄöËøáÊîπÊï∞ÊçÆÂÄºÊù•ÂºïÂèëËßÜÂõæÁöÑÂèòÂåñÔºåÂÆûÁé∞ËøôÊ≠•‰πãÂâçÂÖàËÅä‰∏Ä‰∏ãJS‰∏≠ÊØîËæÉÂ∏∏Áî®ÁöÑËÆæËÆ°Ê®°ÂºèÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰πüÊòØvueÂÆûÁé∞ÂèåÂêëÊï∞ÊçÆÁªëÂÆöÁöÑÂæàÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠• ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºàÂèàÁß∞ËßÇÂØüËÄÖÊ®°ÂºèÔºâÊàë‰ª¨ÂÖàÁÆÄÂçïÊâãÂä®ÂÆûÁé∞‰∏Ä‰∏™ÔºàÂ∞±ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÂÖ≥Á≥ªÔºâ1234567891011121314151617181920// ÂèëÂ∏ÉËÆ¢ÈòÖfunction Dep() &#123; this.subs = []&#125;// ËÆ¢ÈòÖDep.prototype.addSub = function (sub) &#123; this.subs.push(sub)&#125;// ÈÄöÁü•Dep.prototype.notify = function (sub) &#123; this.subs.forEach(item =&gt; item.update())&#125; // watcherÊòØ‰∏Ä‰∏™Á±ªÔºåÈÄöËøáËøô‰∏™Á±ªÂàõÂª∫ÁöÑÂáΩÊï∞ÈÉΩ‰ºöÊúâupdateÁöÑÊñπÊ≥ïfunction Watcher(fn) &#123; this.fn = fn;&#125;Watcher.prototype.update = function () &#123; this.fn() &#125; ËøôÈáåÁî®DepÊñπÊ≥ïÊù•ÂÆûÁé∞ËÆ¢ÈòÖÂíåÈÄöÁü•ÔºåÂú®Ëøô‰∏™Á±ª‰∏≠ÊúâaddSubÔºàÊ∑ªÂä†ÔºâÂíånotifyÔºàÈÄöÁü•Ôºâ‰∏§‰∏™ÊñπÊ≥ïÔºåÊàë‰ª¨ÊääÂ∞ÜË¶ÅÂÅöÁöÑ‰∫ãÊÉÖÔºàÂáΩÊï∞ÔºâÈÄöËøáaddSubÊ∑ªÂä†ËøõÊï∞ÁªÑÈáåÔºåÁ≠âÊó∂Êú∫‰∏ÄÂà∞Â∞±notifyÈÄöÁü•ÈáåÈù¢ÊâÄÊúâÁöÑÊñπÊ≥ïÊâßË°å Â§ßÂÆ∂‰ºöÂèëÁé∞‰∏∫‰ªÄ‰πàË¶ÅÂè¶Â§ñÂÆö‰πâ‰∏Ä‰∏™ÂàõÂª∫ÂáΩÊï∞ÁöÑÊñπÊ≥ïwatcherÔºåËÄå‰∏çÊòØÁõ¥Êé•ÊääÊñπÊ≥ïÊâîÂà∞addSub‰∏≠Â•ΩÔºåËøôÊ†∑‰∏çÊòØÂ§öÊ≠§‰∏Ä‰∏æÂòõÔºüÂÖ∂ÂÆûËøôÊ†∑ÂÅöÁöÑÊúâÂÆÉÁöÑÁõÆÁöÑÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Â•ΩÂ§ÑÂ∞±ÊòØÊàë‰ª¨ÈÄöËøáwatcherÂàõÂª∫ÁöÑÂáΩÊï∞ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™updateÊâßË°åÁöÑÊñπÊ≥ïÂèØ‰ª•Êñπ‰æøÊàë‰ª¨Ë∞ÉÁî®„ÄÇËÄåÂè¶Â§ñ‰∏Ä‰∏™Áî®Â§ÑÊàë‰∏ãÈù¢‰ºöËÆ≤Âà∞ÔºåÂÖàÊääÂÆÉËøêÁî®Ëµ∑Êù•Âêß123456789101112131415161718192021222324function replace(fragment) &#123; Array.from(fragment.childNodes).forEach(function (node) &#123; let text = node.textContent; let reg = /\&#123;\&#123;(.*)\&#125;\&#125;/g; if (node.nodeType === 3 &amp;&amp; reg.test(text)) &#123; let arr = RegExp.$1.split(&apos;.&apos;); let val = vm; arr.forEach(function (k) &#123; val = val[k] &#125;) // Âú®ËøôÈáåËøêÁî®‰∫ÜWatcherÂáΩÊï∞Êù•Êñ∞Â¢ûË¶ÅÊìç‰ΩúÁöÑ‰∫ãÊÉÖ new Watcher(vm, RegExp.$1, function (newVal) &#123; node.textContent = text.replace(/\&#123;\&#123;(.*)\&#125;\&#125;/, newVal) &#125;) node.textContent = text.replace(/\&#123;\&#123;(.*)\&#125;\&#125;/, val) &#125; if (node.childNodes) &#123; replace(node) &#125; &#125;) &#125; ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÊääÂÆö‰πâÂáΩÊï∞ÁöÑÊñπÊ≥ïwatcherÂä†Âà∞‰∫ÜreplaceÊñπÊ≥ïÈáåÈù¢Ôºå‰ΩÜÊòØËøôÈáåÁöÑwatcherÊõ¥ÂàöÂÜôÁºñÂÜôÁöÑÂ§ö‰∫Ü‰∏§‰∏™ÂΩ¢ÂèÇvm„ÄÅRegExp.$1ÔºåËÄå‰∏îÂÜôÊ≥ï‰πüÊñ∞Â¢û‰∫Ü‰∏Ä‰∫õÂÜÖÂÆπÔºåÂõ†‰∏∫ÂΩìnew WatcherÁöÑÊó∂ÂÄô‰ºöÂºïÂèëÂèëÁîüÂá†‰∏™Êìç‰ΩúÔºåÊù•Áúã‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071 // vmÂÅöÊï∞ÊçÆ‰ª£ÁêÜÁöÑÂú∞Êñπfunction MyVue(options = &#123;&#125;) &#123; this.$options = options; var data = this._data = this.$options.data; observe(data); for (const key in data) &#123; Object.defineProperty(this, key, &#123; enumerable: true, get() &#123; return this._data[key] &#125;, set(newVal) &#123; this._data[key] = newVal &#125; &#125;) &#125;&#125;// Êï∞ÊçÆÂä´ÊåÅÂáΩÊï∞function Observe(data) &#123; let dep = new Dep(); for (let key in data) &#123; let val = data[key]; observe(val) Object.defineProperty(data, key, &#123; enumerable: true, get() &#123; /* Ëé∑ÂèñÂÄºÁöÑÊó∂ÂÄô Dep.target ÂØπ‰∫éÁùÄ watcherÁöÑÂÆû‰æãÔºåÊää‰ªñÂàõÂª∫ÁöÑÂÆû‰æãÂä†Âà∞ËÆ¢ÈòÖÈòüÂàó‰∏≠ */ Dep.target &amp;&amp; dep.addSub(Dep.target); return val &#125;, set(newval) &#123; if (val === newval) &#123; return &#125; val = newval; observe(newval); // ËÆæÁΩÆÂÄºÁöÑÊó∂ÂÄôËÆ©ÊâÄÊúâÁöÑwatcher.updateÊñπÊ≥ïÊâßË°åÂç≥ÂèØËß¶ÂèëÊâÄÊúâÊï∞ÊçÆÊõ¥Êñ∞ dep.notify() &#125; &#125;) &#125;&#125;function Watcher(vm, exp, fn) &#123; this.fn = fn; // ËøôÈáåÊàë‰ª¨Êñ∞Â¢û‰∫Ü‰∏Ä‰∫õÂÜÖÂÆπÔºåÁî®Êù•ÂèØ‰ª•Ëé∑ÂèñÂØπ‰∫éÁöÑÊï∞ÊçÆ this.vm = vm; this.exp = exp; Dep.target = this let val = vm; let arr = exp.split(&apos;.&apos;); /* ÊâßË°åËøô‰∏ÄÊ≠•ÁöÑÊó∂ÂÄôÊìç‰ΩúÁöÑÊòØvm.aÔºå ËÄåËøô‰∏ÄÊ≠•Êìç‰ΩúÂÖ∂ÂÆûÂ∞±ÊòØÊìç‰ΩúÁöÑvm._data.aÁöÑÊìç‰ΩúÔºå ‰ºöËß¶Âèëthis‰ª£ÁêÜÁöÑÊï∞ÊçÆÂíå_data‰∏äÈù¢ÁöÑÊï∞ÊçÆ */ arr.forEach(function (k) &#123; val = val[k] &#125;) Dep.target = null;&#125;// ËøôÈáåÊòØËÆæÁΩÆÂÄºÊìç‰ΩúWatcher.prototype.update = function () &#123; let val = this.vm; let arr = this.exp.split(&apos;.&apos;); arr.forEach(function (k) &#123; val = val[k] &#125;) this.fn(val) //ËøôÈáåÈù¢Ë¶Å‰º†‰∏Ä‰∏™Êñ∞ÂÄº&#125; ËøôÈáåÂºÄÂßã‰ºöÊúâÁÇπÁªïÔºå‰∏ÄÂÆöË¶ÅÁêÜËß£Â•ΩÊìç‰ΩúÊï∞ÊçÆÁöÑÊó∂ÂÄô‰ºöËß¶ÂèëÁöÑÈÇ£‰∏™ÂÆû‰æã‰∏äÈù¢Êï∞ÊçÆÁöÑgetÂíåsetÔºåÊìç‰ΩúÁöÑÊòØÈÇ£‰∏™Êï∞ÊçÆËøô‰∏™ÊÄùÁª¥ 1ÔºâÈ¶ñÂÖàÁúãÂú®WatcherÊûÑÈÄ†ÂáΩÊï∞‰∏≠Êñ∞Â¢û‰∫Ü‰∏Ä‰∫õÁßÅÊúâÂ±ûÊÄßÂàÜÂà´‰ª£Ë°®Ôºö Dep.target = thisÔºàÂú®ÊûÑÈÄ†ÂáΩÊï∞Dep.target‰∏¥Êó∂Â≠òÂÇ®ÁùÄwatcherÁöÑÂΩìÂâçÂÆû‰æãÔºâ this.vm = vmÔºàvm = myvueÂÆû‰æãÔºâ this.exp = expÔºàexp = ÂåπÈÖçÁöÑÊü•ÊâæÁöÑÂØπË±°‚Äùa.b‚ÄùÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂÄºÔºâ Êàë‰ª¨Â≠òÂÇ®Ëøô‰∫õÂ±ûÊÄßÂêéÔºåÊé•‰∏ãÊù•Â∞±Ë¶ÅÂéªËé∑ÂèñÁî®expÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÂØπ‰∫éÊï∞ÊçÆ‰πüÂ∞±ÊòØ vm.a.bÔºå‰ΩÜÊòØÊ≠§Êó∂ÁöÑexpÊòØ‰∏™Â≠óÁ¨¶‰∏≤Ôºå‰Ω†‰∏çËÉΩÁõ¥Êé•ËøôÊ†∑ÂèñÂÄºvm[a.b]ËøôÊòØÈîôËØØÁöÑËØ≠Ê≥ïÔºåÊâÄ‰ª•Ë¶ÅÂæ™ÁéØÂéªÂèñÂà∞ÂØπ‰∫éÁöÑÂÄº1234arr.forEach(function (k) &#123; // arr = [a,b] val = val[k]&#125;) Á¨¨‰∏ÄÊ¨°Âæ™ÁéØÁöÑÊó∂ÂÄôÊòØvm[a] = {b:12}ÔºåÂèñÂà∞‰∫ÜaËøô‰∏™ÂØπË±°ÔºåÁÑ∂ÂêéÂú®ËµãÂÄºÂõûÂéªÂ∞±ÊòØÊääÂΩìÂâçÁöÑvalÂèòÊàê‰∫ÜaËøô‰∏™ÂØπË±° Á¨¨‰∫åÊ¨°Âæ™ÁéØÁöÑÊó∂ÂÄôvalÂ∑≤ÁªèÂèòÊàê‰∫Ü aÂØπË±°ÔºåÊ≠§Êó∂ÁöÑkÂèòÊàê‰∫ÜbÔºåvalÂ∞±ÂèòÊàê‰∫ÜÔºöa[b] = 12 ÁªèËøá‰∏§Ê¨°ÈÅçÂéÜÂêéÊàë‰ª¨Ëé∑ÂèñÂà∞ÂÄºÊòØvm‰ª£ÁêÜÊï∞ÊçÆ‰∏äÈù¢ÁöÑaÂØπË±°Ôºå‰πüÂ∞±ÊòØ‰ºöËß¶Âèë‰ª£ÁêÜÊï∞ÊçÆ‰∏äÈù¢ÂØπ‰∫éÊï∞ÊçÆÁöÑgetÁöÑÊñπÊ≥ïÔºàvm.a.bÔºâËÄåËøô‰∏™Êìç‰ΩúËøîÂõûÁöÑÊòØ this._data[k] ÂÆÉÂèà‰ºöËß¶Âèë vm._data.a.b Êï∞ÊçÆ‰∏äÁöÑgetÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØËµ∞Âà∞‰∫ÜObserve ÂáΩÊï∞ÈáåÈù¢ÁöÑgetÔºåÊ≠§Êó∂ÁöÑDep.targetÂ≠òÂÇ®ÁöÑÊòØÂΩìÂâçwatcherÊñπÊ≥ïÁöÑÂÆû‰æãÔºàËøô‰∏™ÂÆû‰æãÈáåÈù¢Â∑≤ÁªèÊúâË¶ÅÊìç‰ΩúÊï∞ÊçÆÁöÑ‰ø°ÊÅØÔºâÔºåÂπ∂‰∏îÊääÂèñÂà∞ÊúÄÊñ∞ÁöÑÂÄº‰º†Âà∞‰∫ÜÊñπÊ≥ï‰∏≠123456789101112131415161718get() &#123; // Ëµ∞Âà∞ËøôÈáåÁöÑÊó∂ÂÄô Dep.target Â∑≤ÁªèÂ≠òÂÇ®‰∫Ü watcherÁöÑÂΩìÂâçÂÆû‰æãÂÆû‰æãÔºåÊää‰ªñÂàõÂª∫ÁöÑÂÆû‰æãÂä†Âà∞ËÆ¢ÈòÖÈòüÂàó‰∏≠ Dep.target &amp;&amp; dep.addSub(Dep.target); return val&#125;, // ÊääË¶ÅÂÅöÁöÑÊõ¥Êñ∞ËßÜÂõæÂ±ÇÁöÑÊìç‰ΩúÊñπÊ≥ïÁî®WatcherÂÆö‰πâÂ•ΩÔºåÈáåÈù¢Â∑≤ÁªèÂÆö‰πâÂ•Ω‰∫ÜË¶ÅÊìç‰ΩúÁöÑÂØπË±°new Watcher(vm, RegExp.$1, function (newVal) &#123; node.textContent = text.replace(/\&#123;\&#123;(.*)\&#125;\&#125;/, newVal)&#125;)Watcher.prototype.update = function () &#123; let val = this.vm; let arr = this.exp.split(&apos;.&apos;); arr.forEach(function (k) &#123; val = val[k] &#125;) this.fn(val) // ÊääÂØπ‰∫éÁöÑÊñ∞ÂÄº‰º†ÈÄíÂà∞ÊñπÊ≥ïÈáåÈù¢&#125; ËøôÈáåÂõ†‰∏∫Âä†Â§ö‰∫Ü‰∏ÄÂ±Ç vm.a ËøôÊ†∑ÁöÑÊï∞ÊçÆ‰ª£ÁêÜÔºåÊâÄ‰ª•ÈÄªËæëÊúâÁÇπÁªïÔºåËÆ∞‰ΩèËøôÂè•ËØùÂ∞±Â•ΩÁêÜËß£Êìç‰Ωú vm.a ‰ª£ÁêÜÊï∞ÊçÆ‰∏äÈù¢ÂÄºÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊìç‰ΩúÁöÑvm._data‰∏≠ÁöÑÊï∞ÊçÆÊâÄ‰ª•‰ºöËß¶Âèë‰∏§‰∏™Âú∞ÊñπÁöÑgetÂíåsetÊñπÊ≥ïÔºåÂ•ΩËØ¥Ëøô‰πàÂ§öÔºåÊàë‰ª¨Êù•ÁúãÊòØÂê¶ÂÆûÁé∞Êï∞ÊçÆÂèòÂä®Ëß¶ÂèëËßÜÂõæÂ±ÇÁöÑÂèòÂåñÂêß ËøôÈáåÂ∞±ÂÆûÁé∞‰∫ÜÊï∞ÊçÆÁöÑÂèòÊõ¥Ëß¶ÂèëËßÜÂõæÂ±ÇÁöÑÊõ¥Êñ∞Êìç‰Ωú‰∫Ü 7„ÄÅinputÂèåÂêëÊï∞ÊçÆÁªëÂÆöÁöÑÂÆûÁé∞ÊúÄÂêé‰∏ÄÊ≠•Â∞±Êù•ÂÆûÁé∞ËßÜÂõæÂ±ÇÁöÑÂèòÊõ¥Ëß¶ÂèëÊï∞ÊçÆÁªìÊûÑÁöÑÂèòÊõ¥Êìç‰ΩúÔºå‰∏äÈù¢Êàë‰ª¨Â∑≤ÁªèÊääËßÜÂõæ‰∏éÊï∞ÊçÆÂÖ≥ËÅîÊúÄÊ†∏ÂøÉÁöÑ‰ª£Á†ÅËÆ≤Ëß£‰∫ÜÔºåÂâ©‰∏ãËßÜÂõæÂèòÊõ¥Ëß¶ÂèëÊï∞ÊçÆÂèòÊõ¥Â∞±ÊØîËæÉÂ•ΩÂÆûÁé∞‰∫Ü12345678910111213141516 &lt;div id=&quot;app&quot;&gt; &lt;div&gt; &lt;div&gt;ËøôÈáåÁöÑÊï∞ÊçÆ1======&lt;span style=&quot;color: red;&quot;&gt;&#123;&#123;a.b&#125;&#125;&lt;/span&gt;&lt;/div&gt; &lt;div&gt;ËøôÈáåÊòØÊï∞ÊçÆ2======&lt;span style=&quot;color: green;&quot;&gt;&#123;&#123;c&#125;&#125;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;input type=&quot;text&quot; v-model=&quot;a.b&quot; value=&quot;&quot;&gt;&lt;/div&gt;&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑmvvmÊ®°Âùó --&gt;&lt;script src=&quot;./mvvm.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; var myvue = new MyVue(&#123; el: &apos;#app&apos;, data: &#123; a: &#123; b: &apos;‰Ω†Â•Ω&apos; &#125;, c: 12, o: [12, 5, 9, 8] &#125; &#125;)&lt;/script&gt; 123456789101112131415161718192021222324252627282930313233343536373839// Ëé∑ÂèñÊâÄÊúâÂÖÉÁ¥†ËäÇÁÇπif (node.nodeType === 1) &#123; let nodeAttr = node.attributes Array.from(nodeAttr).forEach(function (attr) &#123; let name = attr.name; // v-model=&quot;a.b&quot; let exp = attr.value; // a.b if (name.indexOf(&apos;v-&apos;) &gt;= 0) &#123; let val = vm; let arr = exp.split(&apos;.&apos;); arr.forEach(function (n) &#123; val = val[n] &#125;) // Ëøô‰∏™ËøòÂ•ΩÂ§ÑÁêÜÔºåÂèñÂà∞ÂØπÂ∫îÁöÑÂÄºËÆæÁΩÆÁªôinput.valueÂ∞±Â•Ω node.value = val; &#125; // ËøôÈáå‰πüË¶ÅÂÆö‰πâ‰∏Ä‰∏™WatcherÔºåÂõ†‰∏∫Êï∞ÊçÆÂèòÊõ¥ÁöÑÊó∂ÂÄô‰πüË¶ÅÂèòÊõ¥Â∏¶Êúâv-modelÂ±ûÊÄßÂêçÁöÑÂÄº new Watcher(vm, exp, function (newVal) &#123; node.value = newVal &#125;) // ËøôÈáåÊòØËßÜÂõæÂèòÂåñÁöÑÊó∂ÂÄôÔºåÂèòÊõ¥Êï∞ÊçÆÁªìÊûÑ‰∏äÈù¢ÁöÑÂÄº node.addEventListener(&apos;input&apos;, function (e) &#123; let newVal = e.target.value if (name.indexOf(&apos;v-&apos;) &gt;= 0) &#123; let val = vm; let arr = exp.split(&apos;.&apos;); arr.forEach(function (k,index) &#123; if (typeof val[k] === &apos;object&apos;) &#123; val = val[k] &#125; else&#123; if (index === arr.length-1) &#123; val[k] = newVal &#125; &#125; &#125;) &#125; &#125;) &#125;)&#125; ‰∏äÈù¢‰ª£Á†ÅÂØπÊï∞ÊçÆÂèòÊõ¥Ëß¶ÂèëËßÜÂõæÂ±ÇÂèòÊõ¥ÁöÑÈÄªËæëÊõ¥‰∏ä‰∏ÄËäÇ‰∏ÄÊ†∑Âç≥ÂèØÔºå‰∏ªË¶ÅÊòØnode.addEventListener(‚Äòinput‚Äô)ËøôÈáåËÆæÁΩÆÊï∞ÊçÆÁöÑÈóÆÈ¢òÔºåÂÖ∂ÂÆûÂéüÁêÜË∑üÁ¨¨ÂÖ≠ËäÇÂÖ≥ËÅîËßÜÂõæÔºàviewÔºâ‰∏éÊï∞ÊçÆÔºàmodelÔºâÁöÑÈÄªËæë‰∏ÄÊ†∑ÔºåÊúâ‰∏ÄÂÆöÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØËøôËæπÂä†‰∫Ü‰∏Ä‰∏™ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÁöÑÂà§Êñ≠Ôºå‰∏çÁÑ∂‰ªñÁöÑÂæ™ÁéØ‰ºöÂà∞ÊúÄÂ∫ïÂ±ÇÁöÑÊï∞ÊçÆÁ±ªÂûãÂÄºÔºà‰πüÂ∞±ÊòØÂü∫Á°ÄÊï∞ÊçÆÁ±ªÂûãÔºâ 1ÔºâËøôÈáåÂà§Êñ≠Âà∞ÂèñÂà∞ÁöÑ‰∏çÊòØÂØπË±°Êï∞ÊçÆÁ±ªÂûãÔºå‰∏çÂÅöÊõøÊç¢Êìç‰Ωú Ôºàval = val[k]Ôºâ2ÔºâÂà§Êñ≠ÊòØ‰∏çÊòØÂ∑≤ÁªèÊúÄÂêé‰∏Ä‰∏™Â±ÇÁ∫ß‰∫Üindex === arr.length-1ÔºåÂ¶ÇÊûúÊòØÁöÑËØùÁõ¥Êé•Êääinput‰∏≠ÁöÑÂÄºËµãÂÄºËøõÂΩìÂâçÊï∞ÊçÆ‰∏≠Âç≥ÂèØ1234567891011arr.forEach(function (k,index) &#123; if (typeof val[k] === &apos;object&apos;) &#123; // Â¶ÇÊûúÊúâÂµåÂ•óÁöÑËØùÂ∞±ÁªßÁª≠Êü•Êâæ val = val[k] &#125; else&#123; if (index === arr.length-1) &#123; // Êü•ÊâæÂà∞ÊúÄÂêé‰∏Ä‰∏™ÂêéÁõ¥Êé•ËµãÂÄº val[k] = newVal &#125; &#125;&#125;) ‰ª•‰∏äÊòØÊï¥‰∏™mvvmÂèåÂêëÊï∞ÊçÆÁªëÂÆöÁöÑÁÆÄÂçïÂÆûÁé∞ÂéüÁêÜ„ÄÇ]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Virtual Dom‰ªãÁªç]]></title>
    <url>%2F2017%2F11%2F18%2FVirtual-Dom%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºà‰∏ÄÔºâÔºöVirtual Dom‰ªãÁªç‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºà‰∫åÔºâÔºöVirtual DomÁöÑÊõ¥Êñ∞‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºà‰∏âÔºâÔºöVirtual DomÊõ¥Êñ∞‰ºòÂåñ‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºàÂõõÔºâÔºökeyÁöÑ‰ΩúÁî®‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºà‰∫îÔºâÔºöËá™ÂÆö‰πâÁªÑ‰ª∂‰Ω†‰∏çÁü•ÈÅìÁöÑVirtual DOMÔºàÂÖ≠ÔºâÔºö‰∫ã‰ª∂Â§ÑÁêÜ&amp;ÂºÇÊ≠•Êõ¥Êñ∞]]></content>
      <tags>
        <tag>Virtual Dom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-routerÊµÖÊûêÂéüÁêÜ]]></title>
    <url>%2F2017%2F11%2F15%2FVue-router%E6%B5%85%E6%9E%90%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ËøëÊúüË¢´ÈóÆÂà∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂú®‰Ω†‰ª¨È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑÊòØVueÁöÑSPAÔºàÂçïÈ°µÈù¢ÔºâËøòÊòØVueÁöÑÂ§öÈ°µÈù¢ËÆæËÆ°Ôºü ËøôÁØáÊñáÁ´†‰∏ªË¶ÅÂõ¥ÁªïVueÁöÑSPAÂçïÈ°µÈù¢ËÆæËÆ°Â±ïÂºÄ„ÄÇÂÖ≥‰∫éÂ¶Ç‰ΩïÂ±ïÂºÄVueÂ§öÈ°µÈù¢ËÆæËÆ°ËØ∑ÁÇπÂáªÊü•Áúã„ÄÇ vue-routerÊòØ‰ªÄ‰πàÔºüÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìvue-routerÊòØ‰ªÄ‰πàÔºåÂÆÉÊòØÂπ≤‰ªÄ‰πàÁöÑÔºü ËøôÈáåÊåáÁöÑË∑ØÁî±Âπ∂‰∏çÊòØÊåáÊàë‰ª¨Âπ≥Êó∂ÊâÄËØ¥ÁöÑÁ°¨‰ª∂Ë∑ØÁî±Âô®ÔºåËøôÈáåÁöÑË∑ØÁî±Â∞±ÊòØSPAÔºàÂçïÈ°µÂ∫îÁî®ÔºâÁöÑË∑ØÂæÑÁÆ°ÁêÜÂô®„ÄÇÊç¢Âè•ËØùËØ¥Ôºåvue-routerÂ∞±ÊòØWebAppÁöÑÈìæÊé•Ë∑ØÂæÑÁÆ°ÁêÜÁ≥ªÁªü„ÄÇ vue-routerÊòØVue.jsÂÆòÊñπÁöÑË∑ØÁî±Êèí‰ª∂ÔºåÂÆÉÂíåvue.jsÊòØÊ∑±Â∫¶ÈõÜÊàêÁöÑÔºåÈÄÇÂêàÁî®‰∫éÊûÑÂª∫ÂçïÈ°µÈù¢Â∫îÁî®„ÄÇ ÈÇ£‰∏é‰º†ÁªüÁöÑÈ°µÈù¢Ë∑≥ËΩ¨Êúâ‰ªÄ‰πàÂå∫Âà´Âë¢Ôºü 1.vueÁöÑÂçïÈ°µÈù¢Â∫îÁî®ÊòØÂü∫‰∫éË∑ØÁî±ÂíåÁªÑ‰ª∂ÁöÑÔºåË∑ØÁî±Áî®‰∫éËÆæÂÆöËÆøÈóÆË∑ØÂæÑÔºåÂπ∂Â∞ÜË∑ØÂæÑÂíåÁªÑ‰ª∂Êò†Â∞ÑËµ∑Êù•„ÄÇ 2.‰º†ÁªüÁöÑÈ°µÈù¢Â∫îÁî®ÔºåÊòØÁî®‰∏Ä‰∫õË∂ÖÈìæÊé•Êù•ÂÆûÁé∞È°µÈù¢ÂàáÊç¢ÂíåË∑≥ËΩ¨ÁöÑ„ÄÇ Âú®vue-routerÂçïÈ°µÈù¢Â∫îÁî®‰∏≠ÔºåÂàôÊòØË∑ØÂæÑ‰πãÈó¥ÁöÑÂàáÊç¢Ôºå‰πüÂ∞±ÊòØÁªÑ‰ª∂ÁöÑÂàáÊç¢„ÄÇË∑ØÁî±Ê®°ÂùóÁöÑÊú¨Ë¥® Â∞±ÊòØÂª∫Á´ãËµ∑urlÂíåÈ°µÈù¢‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ Ëá≥‰∫é‰∏∫Âï•‰∏çËÉΩÁî®aÊ†áÁ≠æÔºåËøôÊòØÂõ†‰∏∫Áî®VueÂÅöÁöÑÈÉΩÊòØÂçïÈ°µÂ∫îÁî®ÔºåÂ∞±Áõ∏ÂΩì‰∫éÂè™Êúâ‰∏Ä‰∏™‰∏ªÁöÑindex.htmlÈ°µÈù¢ÔºåÊâÄ‰ª•‰Ω†ÂÜôÁöÑÊ†áÁ≠æÊòØ‰∏çËµ∑‰ΩúÁî®ÁöÑÔºåÂøÖÈ°ª‰ΩøÁî®vue-routerÊù•ËøõË°åÁÆ°ÁêÜ„ÄÇ vue-routerÂÆûÁé∞ÂéüÁêÜSPA(single page application):Âçï‰∏ÄÈ°µÈù¢Â∫îÁî®Á®ãÂ∫èÔºåÊúâ‰∏îÂè™Êúâ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÈ°µÈù¢ÔºõÂΩìÂÆÉÂú®Âä†ËΩΩÈ°µÈù¢ÁöÑÊó∂ÂÄôÔºå‰∏ç‰ºöÂä†ËΩΩÊï¥‰∏™È°µÈù¢ÁöÑÂÜÖÂÆπÔºåËÄåÂè™Êõ¥Êñ∞Êüê‰∏™ÊåáÂÆöÁöÑÂÆπÂô®‰∏≠ÂÜÖÂÆπ„ÄÇ ÂçïÈ°µÈù¢Â∫îÁî®(SPA)ÁöÑÊ†∏ÂøÉ‰πã‰∏ÄÊòØ: 1.Êõ¥Êñ∞ËßÜÂõæËÄå‰∏çÈáçÊñ∞ËØ∑Ê±ÇÈ°µÈù¢; 2.vue-routerÂú®ÂÆûÁé∞ÂçïÈ°µÈù¢ÂâçÁ´ØË∑ØÁî±Êó∂ÔºåÊèê‰æõ‰∫Ü‰∏âÁßçÊñπÂºèÔºöHashÊ®°Âºè„ÄÅHistoryÊ®°Âºè„ÄÅabstractÊ®°ÂºèÔºåÊ†πÊçÆmodeÂèÇÊï∞Êù•ÂÜ≥ÂÆöÈááÁî®Âì™‰∏ÄÁßçÊñπÂºè„ÄÇ Ë∑ØÁî±Ê®°Âºèvue-router Êèê‰æõ‰∫Ü‰∏âÁßçËøêË°åÊ®°ÂºèÔºö ‚óè hash: ‰ΩøÁî® URL hash ÂÄºÊù•‰ΩúË∑ØÁî±„ÄÇÈªòËÆ§Ê®°Âºè„ÄÇ ‚óè history: ‰æùËµñ HTML5 History API ÂíåÊúçÂä°Âô®ÈÖçÁΩÆ„ÄÇÊü•Áúã HTML5 History Ê®°Âºè„ÄÇ ‚óè abstract: ÊîØÊåÅÊâÄÊúâ JavaScript ËøêË°åÁéØÂ¢ÉÔºåÂ¶Ç Node.js ÊúçÂä°Âô®Á´Ø„ÄÇ HashÊ®°Âºèvue-router ÈªòËÆ§Ê®°ÂºèÊòØ hash Ê®°Âºè ‚Äî‚Äî ‰ΩøÁî® URL ÁöÑ hash Êù•Ê®°Êãü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ URLÔºåÂΩì URL ÊîπÂèòÊó∂ÔºåÈ°µÈù¢‰∏ç‰ºöÂéªÈáçÊñ∞Âä†ËΩΩ„ÄÇ hashÔºà#ÔºâÊòØURL ÁöÑÈîöÁÇπÔºå‰ª£Ë°®ÁöÑÊòØÁΩëÈ°µ‰∏≠ÁöÑ‰∏Ä‰∏™‰ΩçÁΩÆÔºåÂçïÂçïÊîπÂèò#ÂêéÁöÑÈÉ®ÂàÜÔºà/#/..ÔºâÔºåÊµèËßàÂô®Âè™‰ºöÂä†ËΩΩÁõ∏Â∫î‰ΩçÁΩÆÁöÑÂÜÖÂÆπÔºå‰∏ç‰ºöÈáçÊñ∞Âä†ËΩΩÁΩëÈ°µÔºå‰πüÂ∞±ÊòØËØ¥ #ÊòØÁî®Êù•ÊåáÂØºÊµèËßàÂô®Âä®‰ΩúÁöÑÔºåÂØπÊúçÂä°Âô®Á´ØÂÆåÂÖ®Êó†Áî®ÔºåHTTPËØ∑Ê±Ç‰∏≠‰∏çÂåÖÊã¨#ÔºõÂêåÊó∂ÊØè‰∏ÄÊ¨°ÊîπÂèò#ÂêéÁöÑÈÉ®ÂàÜÔºåÈÉΩ‰ºöÂú®ÊµèËßàÂô®ÁöÑËÆøÈóÆÂéÜÂè≤‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËÆ∞ÂΩïÔºå‰ΩøÁî®‚ÄùÂêéÈÄÄ‚ÄùÊåâÈíÆÔºåÂ∞±ÂèØ‰ª•ÂõûÂà∞‰∏ä‰∏Ä‰∏™‰ΩçÁΩÆÔºõÊâÄ‰ª•ËØ¥HashÊ®°ÂºèÈÄöËøáÈîöÁÇπÂÄºÁöÑÊîπÂèòÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÂÄºÔºåÊ∏≤ÊüìÊåáÂÆöDOM‰ΩçÁΩÆÁöÑ‰∏çÂêåÊï∞ÊçÆ„ÄÇ HistoryÊ®°ÂºèHTML5 History APIÊèê‰æõ‰∫Ü‰∏ÄÁßçÂäüËÉΩÔºåËÉΩËÆ©ÂºÄÂèë‰∫∫ÂëòÂú®‰∏çÂà∑Êñ∞Êï¥‰∏™È°µÈù¢ÁöÑÊÉÖÂÜµ‰∏ã‰øÆÊîπÁ´ôÁÇπÁöÑURLÔºåÂ∞±ÊòØÂà©Áî® history.pushState API Êù•ÂÆåÊàê URL Ë∑≥ËΩ¨ËÄåÊó†È°ªÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢Ôºõ Áî±‰∫éhashÊ®°Âºè‰ºöÂú®url‰∏≠Ëá™Â∏¶#ÔºåÂ¶ÇÊûú‰∏çÊÉ≥Ë¶ÅÂæà‰∏ëÁöÑ hashÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ë∑ØÁî±ÁöÑ history Ê®°ÂºèÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆË∑ØÁî±ËßÑÂàôÊó∂ÔºåÂä†ÂÖ•‚Äùmode: ‚Äòhistory‚Äô‚Äù,ËøôÁßçÊ®°ÂºèÂÖÖÂàÜÂà©Áî® history.pushState API Êù•ÂÆåÊàê URL Ë∑≥ËΩ¨ËÄåÊó†È°ªÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢„ÄÇ //main.jsÊñá‰ª∂‰∏≠ const router = new VueRouter({ mode: &apos;history&apos;, routes: [...] }) ÂΩì‰ΩøÁî® history Ê®°ÂºèÊó∂ÔºåURL Â∞±ÂÉèÊ≠£Â∏∏ÁöÑ urlÔºå‰æãÂ¶Ç yoursite.com/user/idÔºåÊØîËæÉÂ•Ω‚Ä¶‰∏çËøáËøôÁßçÊ®°ÂºèË¶ÅÁé©Â•ΩÔºåËøòÈúÄË¶ÅÂêéÂè∞ÈÖçÁΩÆÊîØÊåÅ„ÄÇÂõ†‰∏∫Êàë‰ª¨ÁöÑÂ∫îÁî®ÊòØ‰∏™ÂçïÈ°µÂÆ¢Êà∑Á´ØÂ∫îÁî®ÔºåÂ¶ÇÊûúÂêéÂè∞Ê≤°ÊúâÊ≠£Á°ÆÁöÑÈÖçÁΩÆÔºåÂΩìÁî®Êà∑Âú®ÊµèËßàÂô®Áõ¥Êé•ËÆøÈóÆ ÊâÄ‰ª•Âë¢Ôºå‰Ω†Ë¶ÅÂú®ÊúçÂä°Á´ØÂ¢ûÂä†‰∏Ä‰∏™Ë¶ÜÁõñÊâÄÊúâÊÉÖÂÜµÁöÑÂÄôÈÄâËµÑÊ∫êÔºöÂ¶ÇÊûú URL ÂåπÈÖç‰∏çÂà∞‰ªª‰ΩïÈùôÊÄÅËµÑÊ∫êÔºåÂàôÂ∫îËØ•ËøîÂõûÂêå‰∏Ä‰∏™ index.html È°µÈù¢ÔºåËøô‰∏™È°µÈù¢Â∞±ÊòØ‰Ω† app ‰æùËµñÁöÑÈ°µÈù¢„ÄÇ export const routes = [ {path: &quot;/&quot;, name: &quot;homeLink&quot;, component:Home} {path: &quot;/register&quot;, name: &quot;registerLink&quot;, component: Register}, {path: &quot;/login&quot;, name: &quot;loginLink&quot;, component: Login}, {path: &quot;*&quot;, redirect: &quot;/&quot;}] Ê≠§Â§ÑÂ∞±ËÆæÁΩÆÂ¶ÇÊûúURLËæìÂÖ•ÈîôËØØÊàñËÄÖÊòØURL ÂåπÈÖç‰∏çÂà∞‰ªª‰ΩïÈùôÊÄÅËµÑÊ∫êÔºåÂ∞±Ëá™Âä®Ë∑≥Âà∞Âà∞HomeÈ°µÈù¢„ÄÇ abstractÊ®°ÂºèabstractÊ®°ÂºèÊòØ‰ΩøÁî®‰∏Ä‰∏™‰∏ç‰æùËµñ‰∫éÊµèËßàÂô®ÁöÑÊµèËßàÂéÜÂè≤ËôöÊãüÁÆ°ÁêÜÂêéÁ´Ø„ÄÇ Ê†πÊçÆÂπ≥Âè∞Â∑ÆÂºÇÂèØ‰ª•ÁúãÂá∫ÔºåÂú® Weex ÁéØÂ¢É‰∏≠Âè™ÊîØÊåÅ‰ΩøÁî® abstract Ê®°Âºè„ÄÇ ‰∏çËøáÔºåvue-router Ëá™Ë∫´‰ºöÂØπÁéØÂ¢ÉÂÅöÊ†°È™åÔºåÂ¶ÇÊûúÂèëÁé∞Ê≤°ÊúâÊµèËßàÂô®ÁöÑ APIÔºåvue-router ‰ºöËá™Âä®Âº∫Âà∂ËøõÂÖ• abstract Ê®°ÂºèÔºåÊâÄ‰ª• Âú®‰ΩøÁî® vue-router Êó∂Âè™Ë¶Å‰∏çÂÜô mode ÈÖçÁΩÆÂç≥ÂèØÔºåÈªòËÆ§‰ºöÂú®ÊµèËßàÂô®ÁéØÂ¢É‰∏≠‰ΩøÁî® hash Ê®°ÂºèÔºåÂú®ÁßªÂä®Á´ØÂéüÁîüÁéØÂ¢É‰∏≠‰ΩøÁî® abstract Ê®°Âºè„ÄÇ ÔºàÂΩìÁÑ∂Ôºå‰Ω†‰πüÂèØ‰ª•ÊòéÁ°ÆÊåáÂÆöÂú®ÊâÄÊúâÊÉÖÂÜµ‰∏ãÈÉΩ‰ΩøÁî® abstract Ê®°ÂºèÔºâ vue-router‰ΩøÁî®ÊñπÂºè1:‰∏ãËΩΩ npm i vue-router -S 2:Âú®main.js‰∏≠ÂºïÂÖ• import VueRouter from ‚Äòvue-router‚Äô; 3:ÂÆâË£ÖÊèí‰ª∂ Vue.use(VueRouter); 4:ÂàõÂª∫Ë∑ØÁî±ÂØπË±°Âπ∂ÈÖçÁΩÆË∑ØÁî±ËßÑÂàô let router = new VueRouter({routes:[{path:‚Äô/home‚Äô,component:Home}]}); 5:Â∞ÜÂÖ∂Ë∑ØÁî±ÂØπË±°‰º†ÈÄíÁªôVueÁöÑÂÆû‰æãÔºåoptions‰∏≠Âä†ÂÖ• router:router 6:Âú®app.vue‰∏≠ÁïôÂùë &lt;router-view&gt;&lt;/router-view&gt; ÂÖ∑‰ΩìÂÆûÁé∞ËØ∑ÁúãÂ¶Ç‰∏ã‰ª£Á†ÅÔºö //main.jsÊñá‰ª∂‰∏≠ÂºïÂÖ• import Vue from &apos;vue&apos;; import VueRouter from &apos;vue-router&apos;; //‰∏ª‰Ωì import App from &apos;./components/app.vue&apos;; import index from &apos;./components/index.vue&apos; //ÂÆâË£ÖÊèí‰ª∂ Vue.use(VueRouter); //ÊåÇËΩΩÂ±ûÊÄß //ÂàõÂª∫Ë∑ØÁî±ÂØπË±°Âπ∂ÈÖçÁΩÆË∑ØÁî±ËßÑÂàô let router = new VueRouter({ routes: [ //‰∏Ä‰∏™‰∏™ÂØπË±° { path: &apos;/index&apos;, component: index } ] }); //new Vue ÂêØÂä® new Vue({ el: &apos;#app&apos;, //ËÆ©vueÁü•ÈÅìÊàë‰ª¨ÁöÑË∑ØÁî±ËßÑÂàô router: router, //ÂèØ‰ª•ÁÆÄÂÜôrouter render: c =&gt; c(App), }) ÊúÄÂêéËÆ∞ÂæóÂú®Âú®app.vue‰∏≠‚ÄúÁïôÂùë‚Äù //app.vue‰∏≠ &lt;template&gt; &lt;div&gt; &lt;!-- ÁïôÂùëÔºåÈùûÂ∏∏ÈáçË¶Å --&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data(){ return {} } } &lt;/script&gt; vue-routerÊ∫êÁ†ÅÂàÜÊûêÊàë‰ª¨ÂÖàÊù•ÁúãÁúãvueÁöÑÂÆûÁé∞Ë∑ØÂæÑ„ÄÇÂú®ÂÖ•Âè£Êñá‰ª∂‰∏≠ÈúÄË¶ÅÂÆû‰æãÂåñ‰∏Ä‰∏™ VueRouter ÁöÑÂÆû‰æãÂØπË±° ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂‰º†ÂÖ• Vue ÂÆû‰æãÁöÑ options ‰∏≠„ÄÇ export default class VueRouter { static install: () =&gt; void; static version: string; app: any; apps: Array&lt;any&gt;; ready: boolean; readyCbs: Array&lt;Function&gt;; options: RouterOptions; mode: string; history: HashHistory | HTML5History | AbstractHistory; matcher: Matcher; fallback: boolean; beforeHooks: Array&lt;?NavigationGuard&gt;; resolveHooks: Array&lt;?NavigationGuard&gt;; afterHooks: Array&lt;?AfterNavigationHook&gt;; constructor (options: RouterOptions = {}) { this.app = null this.apps = [] this.options = options this.beforeHooks = [] this.resolveHooks = [] this.afterHooks = [] // ÂàõÂª∫ matcher ÂåπÈÖçÂáΩÊï∞ this.matcher = createMatcher(options.routes || [], this) // Ê†πÊçÆ mode ÂÆû‰æãÂåñÂÖ∑‰ΩìÁöÑ HistoryÔºåÈªòËÆ§‰∏∫&apos;hash&apos;Ê®°Âºè let mode = options.mode || &apos;hash&apos; // ÈÄöËøá supportsPushState Âà§Êñ≠ÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅ&apos;history&apos;Ê®°Âºè // Â¶ÇÊûúËÆæÁΩÆÁöÑÊòØ&apos;history&apos;‰ΩÜÊòØÂ¶ÇÊûúÊµèËßàÂô®‰∏çÊîØÊåÅÁöÑËØùÔºå&apos;history&apos;Ê®°Âºè‰ºöÈÄÄÂõûÂà∞&apos;hash&apos;Ê®°Âºè // fallback ÊòØÂΩìÊµèËßàÂô®‰∏çÊîØÊåÅ history.pushState ÊéßÂà∂Ë∑ØÁî±ÊòØÂê¶Â∫îËØ•ÂõûÈÄÄÂà∞ hash Ê®°Âºè„ÄÇÈªòËÆ§ÂÄº‰∏∫ true„ÄÇ this.fallback = mode === &apos;history&apos; &amp;&amp; !supportsPushState &amp;&amp; options.fallback !== falseif (this.fallback) { mode = &apos;hash&apos; } // ‰∏çÂú®ÊµèËßàÂô®ÂÜÖÈÉ®ÁöÑËØùÔºåÂ∞±‰ºöÂèòÊàê&apos;abstract&apos;Ê®°Âºè if (!inBrowser) { mode = &apos;abstract&apos; } this.mode = mode // Ê†πÊçÆ‰∏çÂêåÊ®°ÂºèÈÄâÊã©ÂÆû‰æãÂåñÂØπÂ∫îÁöÑ History Á±ª switch (mode) { case&apos;history&apos;: this.history = new HTML5History(this, options.base) breakcase&apos;hash&apos;: this.history = new HashHistory(this, options.base, this.fallback) breakcase&apos;abstract&apos;: this.history = new AbstractHistory(this, options.base) break default: if (process.env.NODE_ENV !== &apos;production&apos;) { assert(false, `invalid mode: ${mode}`) } } } match ( raw: RawLocation, current?: Route, redirectedFrom?: Location ): Route { return this.matcher.match(raw, current, redirectedFrom) } get currentRoute (): ?Route { return this.history &amp;&amp; this.history.current } init (app: any /* Vue component instance */) { process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; assert( install.installed, `not installed. Make sure to call \`Vue.use(VueRouter)\` ` + `before creating root instance.` ) this.apps.push(app) // main app already initialized. if (this.app) { return } this.app = app const history = this.history // Ê†πÊçÆhistoryÁöÑÁ±ªÂà´ÊâßË°åÁõ∏Â∫îÁöÑÂàùÂßãÂåñÊìç‰ΩúÂíåÁõëÂê¨ if (history instanceof HTML5History) { history.transitionTo(history.getCurrentLocation()) } elseif (history instanceof HashHistory) { const setupHashListener = () =&gt; { history.setupListeners() } history.transitionTo( history.getCurrentLocation(), setupHashListener, setupHashListener ) } history.listen(route =&gt; { this.apps.forEach((app) =&gt; { app._route = route }) }) } // Ë∑ØÁî±Ë∑≥ËΩ¨‰πãÂâç beforeEach (fn: Function): Function { return registerHook(this.beforeHooks, fn) } // Ë∑ØÁî±ÂØºËà™Ë¢´Á°ÆËÆ§‰πãÈó¥Ââç beforeResolve (fn: Function): Function { return registerHook(this.resolveHooks, fn) } // Ë∑ØÁî±Ë∑≥ËΩ¨‰πãÂêé afterEach (fn: Function): Function { return registerHook(this.afterHooks, fn) } // Á¨¨‰∏ÄÊ¨°Ë∑ØÁî±Ë∑≥ËΩ¨ÂÆåÊàêÊó∂Ë¢´Ë∞ÉÁî®ÁöÑÂõûË∞ÉÂáΩÊï∞ onReady (cb: Function, errorCb?: Function) { this.history.onReady(cb, errorCb) } // Ë∑ØÁî±Êä•Èîô onError (errorCb: Function) { this.history.onError(errorCb) } // Ë∑ØÁî±Ê∑ªÂä†ÔºåËøô‰∏™ÊñπÊ≥ï‰ºöÂêëhistoryÊ†àÊ∑ªÂä†‰∏Ä‰∏™ËÆ∞ÂΩïÔºåÁÇπÂáªÂêéÈÄÄ‰ºöËøîÂõûÂà∞‰∏ä‰∏Ä‰∏™È°µÈù¢„ÄÇ push (location: RawLocation, onComplete?: Function, onAbort?: Function) { this.history.push(location, onComplete, onAbort) } // Ëøô‰∏™ÊñπÊ≥ï‰∏ç‰ºöÂêëhistoryÈáåÈù¢Ê∑ªÂä†Êñ∞ÁöÑËÆ∞ÂΩïÔºåÁÇπÂáªËøîÂõûÔºå‰ºöË∑≥ËΩ¨Âà∞‰∏ä‰∏ä‰∏Ä‰∏™È°µÈù¢„ÄÇ‰∏ä‰∏Ä‰∏™ËÆ∞ÂΩïÊòØ‰∏çÂ≠òÂú®ÁöÑ„ÄÇ replace (location: RawLocation, onComplete?: Function, onAbort?: Function) { this.history.replace(location, onComplete, onAbort) } // Áõ∏ÂØπ‰∫éÂΩìÂâçÈ°µÈù¢ÂêëÂâçÊàñÂêëÂêéË∑≥ËΩ¨Â§öÂ∞ë‰∏™È°µÈù¢,Á±ª‰ºº window.history.go(n)„ÄÇnÂèØ‰∏∫Ê≠£Êï∞ÂèØ‰∏∫Ë¥üÊï∞„ÄÇÊ≠£Êï∞ËøîÂõû‰∏ä‰∏Ä‰∏™È°µÈù¢ go (n: number) { this.history.go(n) } // ÂêéÈÄÄÂà∞‰∏ä‰∏Ä‰∏™È°µÈù¢ back () { this.go(-1) } // ÂâçËøõÂà∞‰∏ã‰∏Ä‰∏™È°µÈù¢ forward () { this.go(1) } getMatchedComponents (to?: RawLocation | Route): Array&lt;any&gt; { const route: any = to ? to.matched ? to : this.resolve(to).route : this.currentRoute if (!route) { return [] } return [].concat.apply([], route.matched.map(m =&gt; { return Object.keys(m.components).map(key =&gt; { return m.components[key] }) })) } resolve ( to: RawLocation, current?: Route, append?: boolean ): { location: Location, route: Route, href: string, // for backwards compat normalizedTo: Location, resolved: Route } { const location = normalizeLocation( to, current || this.history.current, append, this ) const route = this.match(location, current) const fullPath = route.redirectedFrom || route.fullPath const base = this.history.base const href = createHref(base, fullPath, this.mode) return { location, route, href, // for backwards compat normalizedTo: location, resolved: route } } addRoutes (routes: Array&lt;RouteConfig&gt;) { this.matcher.addRoutes(routes) if (this.history.current !== START) { this.history.transitionTo(this.history.getCurrentLocation()) } } } HashHistory‚Ä¢ hashËôΩÁÑ∂Âá∫Áé∞Âú®url‰∏≠Ôºå‰ΩÜ‰∏ç‰ºöË¢´ÂåÖÊã¨Âú®httpËØ∑Ê±Ç‰∏≠ÔºåÂÆÉÊòØÁî®Êù•ÊåáÂØºÊµèËßàÂô®Âä®‰ΩúÁöÑÔºåÂØπÊúçÂä°Âô®Á´ØÊ≤°ÂΩ±ÂìçÔºåÂõ†Ê≠§ÔºåÊîπÂèòhash‰∏ç‰ºöÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢„ÄÇ ‚Ä¢ ÂèØ‰ª•‰∏∫hashÁöÑÊîπÂèòÊ∑ªÂä†ÁõëÂê¨‰∫ã‰ª∂Ôºö window.addEventListener(&quot;hashchange&quot;,funcRef,false) ‚Ä¢ ÊØè‰∏ÄÊ¨°ÊîπÂèòhash(window.location.hash)ÔºåÈÉΩ‰ºöÂú®ÊµèËßàÂô®ËÆøÈóÆÂéÜÂè≤‰∏≠Â¢ûÂä†‰∏Ä‰∏™ËÆ∞ÂΩï„ÄÇ export class HashHistory extends History { constructor (router: Router, base: ?string, fallback: boolean) { super(router, base) // check history fallback deeplinking // Â¶ÇÊûúÊòØ‰ªéhistoryÊ®°ÂºèÈôçÁ∫ßÊù•ÁöÑÔºåÈúÄË¶ÅÂÅöÈôçÁ∫ßÊ£ÄÊü• if (fallback &amp;&amp; checkFallback(this.base)) { // Â¶ÇÊûúÈôçÁ∫ß‰∏îÂÅö‰∫ÜÈôçÁ∫ßÂ§ÑÁêÜÔºåÂàôËøîÂõû return } ensureSlash() } ....... function checkFallback (base) { const location = getLocation(base) // ÂæóÂà∞Èô§ÂéªbaseÁöÑÁúüÊ≠£ÁöÑ location ÂÄº if (!/^\/#/.test(location)) { // Â¶ÇÊûúÊ≠§Êó∂Âú∞ÂùÄ‰∏çÊòØ‰ª• /# ÂºÄÂ§¥ÁöÑ // ÈúÄË¶ÅÂÅö‰∏ÄÊ¨°ÈôçÁ∫ßÂ§ÑÁêÜÔºåÈôç‰∏∫ hash Ê®°Âºè‰∏ãÂ∫îÊúâÁöÑ /# ÂºÄÂ§¥ window.location.replace( cleanPath(base + &apos;/#&apos; + location) ) returntrue } } function ensureSlash (): boolean { // ÂæóÂà∞ hash ÂÄº const path = getHash() if (path.charAt(0) === &apos;/&apos;) { // Â¶ÇÊûúÊòØ‰ª• / ÂºÄÂ§¥ÁöÑÔºåÁõ¥Êé•ËøîÂõûÂç≥ÂèØ returntrue } // ‰∏çÊòØÁöÑËØùÔºåÈúÄË¶ÅÊâãÂä®‰øùËØÅ‰∏ÄÊ¨° ÊõøÊç¢ hash ÂÄº replaceHash(&apos;/&apos; + path) returnfalse } exportfunction getHash (): string { // We can&apos;t use window.location.hash here because it&apos;s not // consistent across browsers - Firefox will pre-decode it! // Âõ†‰∏∫ÂÖºÂÆπÊÄßÁöÑÈóÆÈ¢òÔºåËøôÈáåÊ≤°ÊúâÁõ¥Êé•‰ΩøÁî® window.location.hash // Âõ†‰∏∫ Firefox decode hash ÂÄº const href = window.location.href const index = href.indexOf(&apos;#&apos;) return index === -1 ? &apos;&apos; : decodeURI(href.slice(index + 1)) } // ÂæóÂà∞hash‰πãÂâçÁöÑurlÂú∞ÂùÄ function getUrl (path) { const href = window.location.href const i = href.indexOf(&apos;#&apos;) const base = i &gt;= 0 ? href.slice(0, i) : href return `${base}#${path}` } // Ê∑ªÂä†‰∏Ä‰∏™hashfunction pushHash (path) { if (supportsPushState) { pushState(getUrl(path)) } else { window.location.hash = path } } // Êõø‰ª£hashfunction replaceHash (path) { if (supportsPushState) { replaceState(getUrl(path)) } else { window.location.replace(getUrl(path)) } } hashÁöÑÊîπÂèò‰ºöËá™Âä®Ê∑ªÂä†Âà∞ÊµèËßàÂô®ÁöÑËÆøÈóÆÂéÜÂè≤ËÆ∞ÂΩï‰∏≠„ÄÇ ÈÇ£‰πàËßÜÂõæÁöÑÊõ¥Êñ∞ÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢ÔºåÁúã‰∏ã transitionTo()ÊñπÊ≥ïÔºö transitionTo (location: RawLocation, onComplete?: Function, onAbort?: Function) { const route = this.router.match(location, this.current) //ÊâæÂà∞ÂåπÈÖçË∑ØÁî± this.confirmTransition(route, () =&gt; { //Á°ÆËÆ§ÊòØÂê¶ËΩ¨Âåñ this.updateRoute(route) //Êõ¥Êñ∞route onComplete &amp;&amp; onComplete(route) this.ensureURL() // fire ready cbs once if (!this.ready) { this.ready = true this.readyCbs.forEach(cb =&gt; { cb(route) }) } }, err =&gt; { if (onAbort) { onAbort(err) } if (err &amp;&amp; !this.ready) { this.ready = true this.readyErrorCbs.forEach(cb =&gt; { cb(err) }) } }) } //Êõ¥Êñ∞Ë∑ØÁî± updateRoute (route: Route) { const prev = this.current // Ë∑≥ËΩ¨ÂâçË∑ØÁî± this.current = route // Ë£ÖÂ§áË∑≥ËΩ¨Ë∑ØÁî± this.cb &amp;&amp; this.cb(route) // ÂõûË∞ÉÂáΩÊï∞ÔºåËøô‰∏ÄÊ≠•ÂæàÈáçË¶ÅÔºåËøô‰∏™ÂõûË∞ÉÂáΩÊï∞Âú®indexÊñá‰ª∂‰∏≠Ê≥®ÂÜåÔºå‰ºöÊõ¥Êñ∞Ë¢´Âä´ÊåÅÁöÑÊï∞ÊçÆ _router this.router.afterHooks.forEach(hook =&gt; { hook &amp;&amp; hook(route, prev) }) } } pushStateexportfunction pushState (url?: string, replace?: boolean) { saveScrollPosition() // try...catch the pushState call to get around Safari // DOM Exception 18 where it limits to 100 pushState calls // Âä†‰∫Ü try...catch ÊòØÂõ†‰∏∫ Safari ÊúâË∞ÉÁî® pushState 100 Ê¨°ÈôêÂà∂ // ‰∏ÄÊó¶ËææÂà∞Â∞±‰ºöÊäõÂá∫ DOM Exception 18 ÈîôËØØ const history = window.history try { if (replace) { // replace ÁöÑËØù key ËøòÊòØÂΩìÂâçÁöÑ key Ê≤°ÂøÖË¶ÅÁîüÊàêÊñ∞ÁöÑ history.replaceState({ key: _key }, &apos;&apos;, url) } else { // ÈáçÊñ∞ÁîüÊàê key _key = genKey() // Â∏¶ÂÖ•Êñ∞ÁöÑ key ÂÄº history.pushState({ key: _key }, &apos;&apos;, url) } } catch (e) { // ËææÂà∞ÈôêÂà∂‰∫Ü ÂàôÈáçÊñ∞ÊåáÂÆöÊñ∞ÁöÑÂú∞ÂùÄ window.location[replace ? &apos;replace&apos; : &apos;assign&apos;](url) } } replaceState// Áõ¥Êé•Ë∞ÉÁî® pushState ‰º†ÂÖ• replace ‰∏∫ trueexportfunction replaceState (url?: string) { pushState(url, true) } pushStateÂíåreplaceState‰∏§ÁßçÊñπÊ≥ïÁöÑÂÖ±ÂêåÁâπÁÇπÔºöÂΩìË∞ÉÁî®‰ªñ‰ª¨‰øÆÊîπÊµèËßàÂô®ÂéÜÂè≤Ê†àÂêéÔºåËôΩÁÑ∂ÂΩìÂâçurlÊîπÂèò‰∫ÜÔºå‰ΩÜÊµèËßàÂô®‰∏ç‰ºöÁ´ãÂç≥ÂèëÈÄÅËØ∑Ê±ÇËØ•urlÔºåËøôÂ∞±‰∏∫ÂçïÈ°µÂ∫îÁî®ÂâçÁ´ØË∑ØÁî±ÔºåÊõ¥Êñ∞ËßÜÂõæ‰ΩÜ‰∏çÈáçÊñ∞ËØ∑Ê±ÇÈ°µÈù¢Êèê‰æõ‰∫ÜÂü∫Á°Ä„ÄÇ supportsPushStateexport const supportsPushState = inBrowser &amp;&amp; (function () { const ua = window.navigator.userAgent if ( (ua.indexOf(&apos;Android 2.&apos;) !== -1 || ua.indexOf(&apos;Android 4.0&apos;) !== -1) &amp;&amp; ua.indexOf(&apos;Mobile Safari&apos;) !== -1 &amp;&amp; ua.indexOf(&apos;Chrome&apos;) === -1 &amp;&amp; ua.indexOf(&apos;Windows Phone&apos;) === -1 ) { returnfalse } return window.history &amp;&amp; &apos;pushState&apos;in window.history })() ÂÖ∂ÂÆûÊâÄË∞ìÂìçÂ∫îÂºèÂ±ûÊÄßÔºåÂç≥ÂΩì_routeÂÄºÊîπÂèòÊó∂Ôºå‰ºöËá™Âä®Ë∞ÉÁî®VueÂÆû‰æãÁöÑrender()ÊñπÊ≥ïÔºåÊõ¥Êñ∞ËßÜÂõæ„ÄÇ$router.push()‚Äì&gt;HashHistory.push()‚Äì&gt;History.transitionTo()‚Äì&gt;History.updateRoute()‚Äì&gt;{app._route=route}‚Äì&gt;vm.render() ÁõëÂê¨Âú∞ÂùÄÊ†èÂú®ÊµèËßàÂô®‰∏≠ÔºåÁî®Êà∑ÂèØ‰ª•Áõ¥Êé•Âú®ÊµèËßàÂô®Âú∞ÂùÄÊ†è‰∏≠ËæìÂÖ•ÊîπÂèòË∑ØÁî±ÔºåÂõ†Ê≠§ËøòÈúÄË¶ÅÁõëÂê¨ÊµèËßàÂô®Âú∞ÂùÄÊ†è‰∏≠Ë∑ØÁî±ÁöÑÂèòÂåñ ÔºåÂπ∂ÂÖ∑Êúâ‰∏éÈÄöËøá‰ª£Á†ÅË∞ÉÁî®Áõ∏ÂêåÁöÑÂìçÂ∫îË°å‰∏∫ÔºåÂú®HashHistory‰∏≠Ëøô‰∏ÄÂäüËÉΩÈÄöËøásetupListenersÁõëÂê¨hashchangeÂÆûÁé∞Ôºö setupListeners () { window.addEventListener(&apos;hashchange&apos;, () =&gt; { if (!ensureSlash()) { return } this.transitionTo(getHash(), route =&gt; { replaceHash(route.fullPath) }) }) } HTML5HistoryHistory interfaceÊòØÊµèËßàÂô®ÂéÜÂè≤ËÆ∞ÂΩïÊ†àÊèê‰æõÁöÑÊé•Âè£ÔºåÈÄöËøáback(),forward(),go()Á≠âÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ËØªÂèñÊµèËßàÂô®ÂéÜÂè≤ËÆ∞ÂΩïÊ†àÁöÑ‰ø°ÊÅØÔºåËøõË°åÂêÑÁßçË∑≥ËΩ¨Êìç‰Ωú„ÄÇ export class HTML5History extends History { constructor (router: Router, base: ?string) { super(router, base) const expectScroll = router.options.scrollBehavior //ÊåáÂõûÊªöÊñπÂºè const supportsScroll = supportsPushState &amp;&amp; expectScroll if (supportsScroll) { setupScroll() } const initLocation = getLocation(this.base) //ÁõëÊéßpopstate‰∫ã‰ª∂ window.addEventListener(&apos;popstate&apos;, e =&gt; { const current = this.current // Avoiding first `popstate` event dispatched in some browsers but first // history route not updated since async guard at the same time. // ÈÅøÂÖçÂú®Êüê‰∫õÊµèËßàÂô®‰∏≠È¶ñÊ¨°ÂèëÂá∫‚Äúpopstate‚Äù‰∫ã‰ª∂ // Áî±‰∫éÂêå‰∏ÄÊó∂Èó¥ÂºÇÊ≠•ÁõëÂê¨ÔºåhistoryË∑ØÁî±Ê≤°ÊúâÂêåÊó∂Êõ¥Êñ∞„ÄÇ const location = getLocation(this.base) if (this.current === START &amp;&amp; location === initLocation) { return } this.transitionTo(location, route =&gt; { if (supportsScroll) { handleScroll(router, route, current, true) } }) }) } hashÊ®°Âºè‰ªÖÊîπÂèòhashÈÉ®ÂàÜÁöÑÂÜÖÂÆπÔºåËÄåhashÈÉ®ÂàÜÊòØ‰∏ç‰ºöÂåÖÂê´Âú®httpËØ∑Ê±Ç‰∏≠ÁöÑ(hashÂ∏¶#)Ôºö oursite.com/#/user/id //Â¶ÇËØ∑Ê±ÇÔºåÂè™‰ºöÂèëÈÄÅhttp://oursite.com/ ÊâÄ‰ª•hashÊ®°Âºè‰∏ãÈÅáÂà∞Ê†πÊçÆurlËØ∑Ê±ÇÈ°µÈù¢‰∏ç‰ºöÊúâÈóÆÈ¢ò ËÄåhistoryÊ®°ÂºèÂàôÂ∞Üurl‰øÆÊîπÁöÑÂ∞±ÂíåÊ≠£Â∏∏ËØ∑Ê±ÇÂêéÁ´ØÁöÑurl‰∏ÄÊ†∑(history‰∏çÂ∏¶#) oursite.com/user/id Â¶ÇÊûúËøôÁßçÂêëÂêéÁ´ØÂèëÈÄÅËØ∑Ê±ÇÁöÑËØùÔºåÂêéÁ´ØÊ≤°ÊúâÈÖçÁΩÆÂØπÂ∫î/user/idÁöÑgetË∑ØÁî±Â§ÑÁêÜ,‰ºöËøîÂõû404ÈîôËØØ„ÄÇ ÂÆòÊñπÊé®ËçêÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊòØÂú®ÊúçÂä°Á´ØÂ¢ûÂä†‰∏Ä‰∏™Ë¶ÜÁõñÊâÄÊúâÊÉÖÂÜµÁöÑÂÄôÈÄâËµÑÊ∫êÔºöÂ¶ÇÊûú URL ÂåπÈÖç‰∏çÂà∞‰ªª‰ΩïÈùôÊÄÅËµÑÊ∫êÔºåÂàôÂ∫îËØ•ËøîÂõûÂêå‰∏Ä‰∏™ index.html È°µÈù¢ÔºåËøô‰∏™È°µÈù¢Â∞±ÊòØ‰Ω† app ‰æùËµñÁöÑÈ°µÈù¢„ÄÇÂêåÊó∂Ëøô‰πàÂÅö‰ª•ÂêéÔºåÊúçÂä°Âô®Â∞±‰∏çÂÜçËøîÂõû 404 ÈîôËØØÈ°µÈù¢ÔºåÂõ†‰∏∫ÂØπ‰∫éÊâÄÊúâË∑ØÂæÑÈÉΩ‰ºöËøîÂõû index.html Êñá‰ª∂„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåÂú® Vue Â∫îÁî®ÈáåÈù¢Ë¶ÜÁõñÊâÄÊúâÁöÑË∑ØÁî±ÊÉÖÂÜµÔºåÁÑ∂ÂêéÂú®ÁªôÂá∫‰∏Ä‰∏™ 404 È°µÈù¢„ÄÇÊàñËÄÖÔºåÂ¶ÇÊûúÊòØÁî® Node.js ‰ΩúÂêéÂè∞ÔºåÂèØ‰ª•‰ΩøÁî®ÊúçÂä°Á´ØÁöÑË∑ØÁî±Êù•ÂåπÈÖç URLÔºåÂΩìÊ≤°ÊúâÂåπÈÖçÂà∞Ë∑ØÁî±ÁöÑÊó∂ÂÄôËøîÂõû 404Ôºå‰ªéËÄåÂÆûÁé∞ fallback„ÄÇ ‰∏§ÁßçÊ®°ÂºèÊØîËæÉ‰∏ÄËà¨ÁöÑÈúÄÊ±ÇÂú∫ÊôØ‰∏≠ÔºåhashÊ®°Âºè‰∏éhistoryÊ®°ÂºèÊòØÂ∑Æ‰∏çÂ§öÁöÑÔºåÊ†πÊçÆMDNÁöÑ‰ªãÁªçÔºåË∞ÉÁî®history.pushState()Áõ∏ÊØî‰∫éÁõ¥Êé•‰øÆÊîπhash‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰ºòÂäøÔºö ‚Ä¢ pushStateËÆæÁΩÆÁöÑÊñ∞urlÂèØ‰ª•ÊòØ‰∏éÂΩìÂâçurlÂêåÊ∫êÁöÑ‰ªªÊÑèurl,ËÄåhashÂè™ÂèØ‰øÆÊîπ#ÂêéÈù¢ÁöÑÈÉ®ÂàÜÔºåÊïÖÂè™ÂèØËÆæÁΩÆ‰∏éÂΩìÂâçÂêåÊñáÊ°£ÁöÑurl ‚Ä¢ pushStateËÆæÁΩÆÁöÑÊñ∞urlÂèØ‰ª•‰∏éÂΩìÂâçurl‰∏ÄÊ®°‰∏ÄÊ†∑ÔºåËøôÊ†∑‰πü‰ºöÊääËÆ∞ÂΩïÊ∑ªÂä†Âà∞Ê†à‰∏≠ÔºåËÄåhashËÆæÁΩÆÁöÑÊñ∞ÂÄºÂøÖÈ°ª‰∏éÂéüÊù•‰∏ç‰∏ÄÊ†∑Êâç‰ºöËß¶ÂèëËÆ∞ÂΩïÊ∑ªÂä†Âà∞Ê†à‰∏≠ ‚Ä¢ pushStateÈÄöËøástateObjectÂèØ‰ª•Ê∑ªÂä†‰ªªÊÑèÁ±ªÂûãÁöÑÊï∞ÊçÆËÆ∞ÂΩï‰∏≠ÔºåËÄåhashÂè™ÂèØÊ∑ªÂä†Áü≠Â≠óÁ¨¶‰∏≤pushStateÂèØÈ¢ùÂ§ñËÆæÁΩÆtitleÂ±ûÊÄß‰æõÂêéÁª≠‰ΩøÁî® AbstractHistory‚Äòabstract‚ÄôÊ®°ÂºèÔºå‰∏çÊ∂âÂèäÂíåÊµèËßàÂô®Âú∞ÂùÄÁöÑÁõ∏ÂÖ≥ËÆ∞ÂΩïÔºåÊµÅÁ®ãË∑ü‚ÄôHashHistory‚ÄôÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂÖ∂ÂéüÁêÜÊòØÈÄöËøáÊï∞ÁªÑÊ®°ÊãüÊµèËßàÂô®ÂéÜÂè≤ËÆ∞ÂΩïÊ†àÁöÑÂäüËÉΩ //abstract.jsÂÆûÁé∞ÔºåËøôÈáåÈÄöËøáÊ†àÁöÑÊï∞ÊçÆÁªìÊûÑÊù•Ê®°ÊãüË∑ØÁî±Ë∑ØÂæÑ export class AbstractHistory extends History { index: number; stack: Array&lt;Route&gt;; constructor (router: Router, base: ?string) { super(router, base) this.stack = [] this.index = -1 } // ÂØπ‰∫é go ÁöÑÊ®°Êãü go (n: number) { // Êñ∞ÁöÑÂéÜÂè≤ËÆ∞ÂΩï‰ΩçÁΩÆ const targetIndex = this.index + n // Â∞è‰∫éÊàñÂ§ß‰∫éË∂ÖÂá∫ÂàôËøîÂõû if (targetIndex &lt; 0 || targetIndex &gt;= this.stack.length) { return } // ÂèñÂæóÊñ∞ÁöÑ route ÂØπË±° // Âõ†‰∏∫ÊòØÂíåÊµèËßàÂô®Êó†ÂÖ≥ÁöÑ ËøôÈáåÂæóÂà∞ÁöÑ‰∏ÄÂÆöÊòØÂ∑≤ÁªèËÆøÈóÆËøáÁöÑ const route = this.stack[targetIndex] // ÊâÄ‰ª•ËøôÈáåÁõ¥Êé•Ë∞ÉÁî® confirmTransition ‰∫Ü // ËÄå‰∏çÊòØË∞ÉÁî® transitionTo ËøòË¶ÅËµ∞‰∏ÄÈÅç match ÈÄªËæë this.confirmTransition(route, () =&gt; { this.index = targetIndex this.updateRoute(route) }) } //Á°ÆËÆ§ÊòØÂê¶ËΩ¨ÂåñË∑ØÁî± confirmTransition (route: Route, onComplete: Function, onAbort?: Function) { const current = this.current const abort = err =&gt; { if (isError(err)) { if (this.errorCbs.length) { this.errorCbs.forEach(cb =&gt; { cb(err) }) } else { warn(false, &apos;uncaught error during route navigation:&apos;) console.error(err) } } onAbort &amp;&amp; onAbort(err) } //Âà§Êñ≠Â¶ÇÊûúÂâçÂêéÊòØÂêå‰∏Ä‰∏™Ë∑ØÁî±Ôºå‰∏çËøõË°åÊìç‰Ωú if ( isSameRoute(route, current) &amp;&amp; route.matched.length === current.matched.length ) { this.ensureURL() return abort() } //‰∏ãÈù¢ÊòØÂêÑÁ±ªÈí©Â≠êÂáΩÊï∞ÁöÑÂ§ÑÁêÜ //********************* }) }]]></content>
      <tags>
        <tag>vue-router</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Service Worker,PWA]]></title>
    <url>%2F2017%2F11%2F14%2FService-Worker-PWA%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØService WorkerService WorkerÊú¨Ë¥®‰∏äÂÖÖÂΩìWebÂ∫îÁî®Á®ãÂ∫è‰∏éÊµèËßàÂô®‰πãÈó¥ÁöÑ‰ª£ÁêÜÊúçÂä°Âô®Ôºå‰πüÂèØ‰ª•Âú®ÁΩëÁªúÂèØÁî®Êó∂‰Ωú‰∏∫ÊµèËßàÂô®ÂíåÁΩëÁªúÈó¥ÁöÑ‰ª£ÁêÜ„ÄÇÂÆÉ‰ª¨Êó®Âú®ÔºàÈô§ÂÖ∂‰ªñ‰πãÂ§ñÔºâ‰ΩøÂæóËÉΩÂ§üÂàõÂª∫ÊúâÊïàÁöÑÁ¶ªÁ∫ø‰ΩìÈ™åÔºåÊã¶Êà™ÁΩëÁªúËØ∑Ê±ÇÂπ∂Âü∫‰∫éÁΩëÁªúÊòØÂê¶ÂèØÁî®‰ª•ÂèäÊõ¥Êñ∞ÁöÑËµÑÊ∫êÊòØÂê¶È©ªÁïôÂú®ÊúçÂä°Âô®‰∏äÊù•ÈááÂèñÈÄÇÂΩìÁöÑÂä®‰Ωú„ÄÇ‰ªñ‰ª¨ËøòÂÖÅËÆ∏ËÆøÈóÆÊé®ÈÄÅÈÄöÁü•ÂíåÂêéÂè∞ÂêåÊ≠•API„ÄÇ Service WorkerÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™Web WorkerÔºåÂÆÉÁã¨Á´ã‰∫éJavaScript‰∏ªÁ∫øÁ®ãÔºåÂõ†Ê≠§ÂÆÉ‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆDOMÔºå‰πü‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆwindowÂØπË±°Ôºå‰ΩÜÊòØÔºåService WorkerÂèØ‰ª•ËÆøÈóÆnavigatorÂØπË±°Ôºå‰πüÂèØ‰ª•ÈÄöËøáÊ∂àÊÅØ‰º†ÈÄíÁöÑÊñπÂºèÔºàpostMessageÔºâ‰∏éJavaScript‰∏ªÁ∫øÁ®ãËøõË°åÈÄö‰ø°„ÄÇ Service WorkerÊòØ‰∏Ä‰∏™ÁΩëÁªú‰ª£ÁêÜÔºåÂÆÉÂèØ‰ª•ÊéßÂà∂WebÈ°µÈù¢ÁöÑÊâÄÊúâÁΩëÁªúËØ∑Ê±Ç„ÄÇ Service WorkerÂÖ∑ÊúâËá™Ë∫´ÁöÑÁîüÂëΩÂë®ÊúüÔºå‰ΩøÁî®Â•ΩService WorkerÁöÑÂÖ≥ÈîÆÊòØÁÅµÊ¥ªÊéßÂà∂ÂÖ∂ÁîüÂëΩÂë®Êúü„ÄÇ Service WorkerÁöÑ‰ΩúÁî® Áî®‰∫éÊµèËßàÂô®ÁºìÂ≠ò ÂÆûÁé∞Á¶ªÁ∫øWeb APP Ê∂àÊÅØÊé®ÈÄÅ Service WorkerÂÖºÂÆπÊÄß Service WorkerÊòØÁé∞‰ª£ÊµèËßàÂô®ÁöÑ‰∏Ä‰∏™È´òÁ∫ßÁâπÊÄßÔºåÂÆÉ‰æùËµñ‰∫éfetch API„ÄÅCache Storage„ÄÅPromiseÁ≠âÔºåÂÖ∂‰∏≠ÔºåCacheÊèê‰æõ‰∫ÜRequest / ResponseÂØπË±°ÂØπÁöÑÂ≠òÂÇ®Êú∫Âà∂ÔºåCache StorageÂ≠òÂÇ®Â§ö‰∏™Cache„ÄÇ Á§∫‰æãÂú®‰∫ÜËß£Service WorkerÁöÑÂéüÁêÜ‰πãÂâçÔºåÂÖàÊù•Áúã‰∏ÄÊÆµService WorkerÁöÑÁ§∫‰æãÔºö self.importScripts(&apos;./serviceworker-cache-polyfill.js&apos;); var urlsToCache = [ &apos;/&apos;, &apos;/index.js&apos;, &apos;/style.css&apos;, &apos;/favicon.ico&apos;, ]; varCACHE_NAME=&apos;counterxing&apos;; self.addEventListener(&apos;install&apos;, function(event) { self.skipWaiting(); event.waitUntil( caches.open(CACHE_NAME) .then(function(cache) { returncache.addAll(urlsToCache); }) ); }); self.addEventListener(&apos;fetch&apos;, function(event) { event.respondWith( caches.match(event.request) .then(function(response) { if (response) { return response; } returnfetch(event.request); }) ); }); self.addEventListener(&apos;activate&apos;, function(event) { var cacheWhitelist = [&apos;counterxing&apos;]; event.waitUntil( caches.keys().then(function(cacheNames) { returnPromise.all( cacheNames.map(function(cacheName) { if (cacheWhitelist.indexOf(cacheName) ===-1) { returncaches.delete(cacheName); } }) ); }) ); }); ‰∏ãÈù¢ÂºÄÂßãÈÄêÊÆµÈÄêÊÆµÂú∞ÂàÜÊûêÔºåÊè≠ÂºÄService WorkerÁöÑÁ•ûÁßòÈù¢Á∫±Ôºö polyfillÈ¶ñÂÖàÁúãÁ¨¨‰∏ÄË°åÔºöself.importScripts(&#39;./serviceworker-cache-polyfill.js&#39;);ÔºåËøôÈáåÂºïÂÖ•‰∫ÜCache APIÁöÑ‰∏Ä‰∏™polyfillÔºåËøô‰∏™polyfillÊîØÊåÅ‰ΩøÂæóÂú®ËæÉ‰ΩéÁâàÊú¨ÁöÑÊµèËßàÂô®‰∏ã‰πüÂèØ‰ª•‰ΩøÁî®Cache Storage API„ÄÇÊÉ≥Ë¶ÅÂÆûÁé∞Service WorkerÁöÑÂäüËÉΩÔºå‰∏ÄËà¨ÈÉΩÈúÄË¶ÅÊê≠ÈÖçCache API‰ª£ÁêÜÁΩëÁªúËØ∑Ê±ÇÂà∞ÁºìÂ≠ò‰∏≠„ÄÇ Âú®Service WorkerÁ∫øÁ®ã‰∏≠Ôºå‰ΩøÁî®importScriptsÂºïÂÖ•polyfillËÑöÊú¨ÔºåÁõÆÁöÑÊòØÂØπ‰ΩéÁâàÊú¨ÊµèËßàÂô®ÁöÑÂÖºÂÆπ„ÄÇ Cache Resources List And Cache Name‰πãÂêéÔºå‰ΩøÁî®‰∏Ä‰∏™urlsToCacheÂàóË°®Êù•Â£∞ÊòéÈúÄË¶ÅÁºìÂ≠òÁöÑÈùôÊÄÅËµÑÊ∫êÔºåÂÜç‰ΩøÁî®‰∏Ä‰∏™ÂèòÈáèCACHE_NAMEÊù•Á°ÆÂÆöÂΩìÂâçÁºìÂ≠òÁöÑCache Storage NameÔºåËøôÈáåÂèØ‰ª•ÁêÜËß£ÊàêCache StorageÊòØ‰∏Ä‰∏™DBÔºåËÄåCACHE_NAMEÂàôÊòØDBÂêçÔºö var urlsToCache = [ &apos;/&apos;, &apos;/index.js&apos;, &apos;/style.css&apos;, &apos;/favicon.ico&apos;, ]; varCACHE_NAME=&apos;counterxing&apos;; LifecycleService WorkerÁã¨Á´ã‰∫éÊµèËßàÂô®JavaScript‰∏ªÁ∫øÁ®ãÔºåÊúâÂÆÉËá™Â∑±Áã¨Á´ãÁöÑÁîüÂëΩÂë®Êúü„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÂú®ÁΩëÁ´ô‰∏äÂÆâË£ÖService WorkerÔºåÂàôÈúÄË¶ÅÂú®JavaScript‰∏ªÁ∫øÁ®ã‰∏≠‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂºïÂÖ•Service Worker„ÄÇ if (&apos;serviceWorker&apos;innavigator) { navigator.serviceWorker.register(&apos;/sw.js&apos;).then(function(registration) { console.log(&apos;ÊàêÂäüÂÆâË£Ö&apos;, registration.scope); }).catch(function(err) { console.log(err); }); } Ê≠§Â§ÑÔºå‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèsw.jsÊñá‰ª∂ÁöÑË∑ØÂæÑÔºåÂú®ÊàëÁöÑÁ§∫‰æã‰∏≠ÔºåÂ§Ñ‰∫éÂΩìÂâçÂüüÊ†πÁõÆÂΩï‰∏ãÔºåËøôÊÑèÂë≥ÁùÄÔºåService WorkerÂíåÁΩëÁ´ôÊòØÂêåÊ∫êÁöÑÔºåÂèØ‰ª•‰∏∫ÂΩìÂâçÁΩëÁ´ôÁöÑÊâÄÊúâËØ∑Ê±ÇÂÅö‰ª£ÁêÜÔºåÂ¶ÇÊûúService WorkerË¢´Ê≥®ÂÜåÂà∞/imaging/sw.js‰∏ãÔºåÈÇ£Âè™ËÉΩ‰ª£ÁêÜ/imaging‰∏ãÁöÑÁΩëÁªúËØ∑Ê±Ç„ÄÇ ÂèØ‰ª•‰ΩøÁî®ChromeÊéßÂà∂Âè∞ÔºåÊü•ÁúãÂΩìÂâçÈ°µÈù¢ÁöÑService WorkerÊÉÖÂÜµÔºö ÂÆâË£ÖÂÆåÊàêÂêéÔºåService Worker‰ºöÁªèÂéÜ‰ª•‰∏ãÁîüÂëΩÂë®ÊúüÔºö ‰∏ãËΩΩÔºàdownloadÔºâ ÂÆâË£ÖÔºàinstallÔºâ ÊøÄÊ¥ªÔºàactivateÔºâ Áî®Êà∑È¶ñÊ¨°ËÆøÈóÆService WorkerÊéßÂà∂ÁöÑÁΩëÁ´ôÊàñÈ°µÈù¢Êó∂ÔºåService Worker‰ºöÁ´ãÂàªË¢´‰∏ãËΩΩ„ÄÇ‰πãÂêéËá≥Â∞ëÊØè24Â∞èÊó∂ÂÆÉ‰ºöË¢´‰∏ãËΩΩ‰∏ÄÊ¨°„ÄÇÂÆÉÂèØËÉΩË¢´Êõ¥È¢ëÁπÅÂú∞‰∏ãËΩΩÔºå‰∏çËøáÊØè24Â∞èÊó∂‰∏ÄÂÆö‰ºöË¢´‰∏ãËΩΩ‰∏ÄÊ¨°Ôºå‰ª•ÈÅøÂÖç‰∏çËâØËÑöÊú¨ÈïøÊó∂Èó¥ÁîüÊïà„ÄÇ Âú®‰∏ãËΩΩÂÆåÊàêÂêéÔºåÂºÄÂßãÂÆâË£ÖService WorkerÔºåÂú®ÂÆâË£ÖÈò∂ÊÆµÔºåÈÄöÂ∏∏ÈúÄË¶ÅÁºìÂ≠ò‰∏Ä‰∫õÊàë‰ª¨È¢ÑÂÖàÂ£∞ÊòéÁöÑÈùôÊÄÅËµÑÊ∫êÔºåÂú®Êàë‰ª¨ÁöÑÁ§∫‰æã‰∏≠ÔºåÈÄöËøáurlsToCacheÈ¢ÑÂÖàÂ£∞Êòé„ÄÇ Âú®ÂÆâË£ÖÂÆåÊàêÂêéÔºå‰ºöÂºÄÂßãËøõË°åÊøÄÊ¥ªÔºåÊµèËßàÂô®‰ºöÂ∞ùËØï‰∏ãËΩΩService WorkerËÑöÊú¨Êñá‰ª∂Ôºå‰∏ãËΩΩÊàêÂäüÂêéÔºå‰ºö‰∏éÂâç‰∏ÄÊ¨°Â∑≤ÁºìÂ≠òÁöÑService WorkerËÑöÊú¨Êñá‰ª∂ÂÅöÂØπÊØîÔºåÂ¶ÇÊûú‰∏éÂâç‰∏ÄÊ¨°ÁöÑService WorkerËÑöÊú¨Êñá‰ª∂‰∏çÂêåÔºåËØÅÊòéService WorkerÂ∑≤ÁªèÊõ¥Êñ∞Ôºå‰ºöËß¶Âèëactivate‰∫ã‰ª∂„ÄÇÂÆåÊàêÊøÄÊ¥ª„ÄÇ Â¶ÇÂõæÊâÄÁ§∫Ôºå‰∏∫Service WorkerÂ§ßËá¥ÁöÑÁîüÂëΩÂë®ÊúüÔºö installÂú®ÂÆâË£ÖÂÆåÊàêÂêéÔºåÂ∞ùËØïÁºìÂ≠ò‰∏Ä‰∫õÈùôÊÄÅËµÑÊ∫êÔºö self.addEventListener(&apos;install&apos;, function(event) { self.skipWaiting(); event.waitUntil( caches.open(CACHE_NAME) .then(function(cache) { returncache.addAll(urlsToCache); }) ); }); È¶ñÂÖàÔºåself.skipWaiting()ÊâßË°åÔºåÂëäÁü•ÊµèËßàÂô®Áõ¥Êé•Ë∑≥ËøáÁ≠âÂæÖÈò∂ÊÆµÔºåÊ∑òÊ±∞ËøáÊúüÁöÑsw.jsÁöÑService WorkerËÑöÊú¨ÔºåÁõ¥Êé•ÂºÄÂßãÂ∞ùËØïÊøÄÊ¥ªÊñ∞ÁöÑService Worker„ÄÇ ÁÑ∂Âêé‰ΩøÁî®caches.openÊâìÂºÄ‰∏Ä‰∏™CacheÔºåÊâìÂºÄÂêéÔºåÈÄöËøácache.addAllÂ∞ùËØïÁºìÂ≠òÊàë‰ª¨È¢ÑÂÖàÂ£∞ÊòéÁöÑÈùôÊÄÅÊñá‰ª∂„ÄÇ ÁõëÂê¨fetchÔºå‰ª£ÁêÜÁΩëÁªúËØ∑Ê±ÇÈ°µÈù¢ÁöÑÊâÄÊúâÁΩëÁªúËØ∑Ê±ÇÔºåÈÉΩ‰ºöÈÄöËøáService WorkerÁöÑfetch‰∫ã‰ª∂Ëß¶ÂèëÔºåService WorkerÈÄöËøácaches.matchÂ∞ùËØï‰ªéCache‰∏≠Êü•ÊâæÁºìÂ≠òÔºåÁºìÂ≠òÂ¶ÇÊûúÂëΩ‰∏≠ÔºåÂàôÁõ¥Êé•ËøîÂõûÁºìÂ≠ò‰∏≠ÁöÑresponseÔºåÂê¶ÂàôÔºåÂàõÂª∫‰∏Ä‰∏™ÁúüÂÆûÁöÑÁΩëÁªúËØ∑Ê±Ç„ÄÇ self.addEventListener(&apos;fetch&apos;, function(event) { event.respondWith( caches.match(event.request) .then(function(response) { if (response) { return response; } returnfetch(event.request); }) ); }); Â¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂú®ËØ∑Ê±ÇËøáÁ®ã‰∏≠ÔºåÂÜçÂêëCache Storage‰∏≠Ê∑ªÂä†Êñ∞ÁöÑÁºìÂ≠òÔºåÂèØ‰ª•ÈÄöËøácache.putÊñπÊ≥ïÊ∑ªÂä†ÔºåÁúã‰ª•‰∏ã‰æãÂ≠êÔºö self.addEventListener(&apos;fetch&apos;, function(event) { event.respondWith( caches.match(event.request) .then(function(response) { // ÁºìÂ≠òÂëΩ‰∏≠if (response) { return response; } // Ê≥®ÊÑèÔºåËøôÈáåÂøÖÈ°ª‰ΩøÁî®cloneÊñπÊ≥ïÂÖãÈöÜËøô‰∏™ËØ∑Ê±Ç// ÂéüÂõ†ÊòØresponseÊòØ‰∏Ä‰∏™StreamÔºå‰∏∫‰∫ÜËÆ©ÊµèËßàÂô®Ë∑üÁºìÂ≠òÈÉΩ‰ΩøÁî®Ëøô‰∏™response// ÂøÖÈ°ªÂÖãÈöÜËøô‰∏™responseÔºå‰∏Ä‰ªΩÂà∞ÊµèËßàÂô®Ôºå‰∏Ä‰ªΩÂà∞ÁºìÂ≠ò‰∏≠ÁºìÂ≠ò„ÄÇ// Âè™ËÉΩË¢´Ê∂àË¥π‰∏ÄÊ¨°ÔºåÊÉ≥Ë¶ÅÂÜçÊ¨°Ê∂àË¥πÔºåÂøÖÈ°ªclone‰∏ÄÊ¨°var fetchRequest =event.request.clone(); returnfetch(fetchRequest).then( function(response) { // ÂøÖÈ°ªÊòØÊúâÊïàËØ∑Ê±ÇÔºåÂøÖÈ°ªÊòØÂêåÊ∫êÂìçÂ∫îÔºåÁ¨¨‰∏âÊñπÁöÑËØ∑Ê±ÇÔºåÂõ†‰∏∫‰∏çÂèØÊéßÔºåÊúÄÂ•Ω‰∏çË¶ÅÁºìÂ≠òif (!response ||response.status!==200||response.type!==&apos;basic&apos;) { return response; } // Ê∂àË¥πËøá‰∏ÄÊ¨°ÔºåÂèàÈúÄË¶ÅÂÜçÂÖãÈöÜ‰∏ÄÊ¨°var responseToCache =response.clone(); caches.open(CACHE_NAME) .then(function(cache) { cache.put(event.request, responseToCache); }); return response; } ); }) ); }); Âú®È°πÁõÆ‰∏≠Ôºå‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÊéßÂà∂ÁºìÂ≠òÔºåÊé•Âè£ËØ∑Ê±Ç‰∏ÄËà¨ÊòØ‰∏çÊé®ËçêÁºìÂ≠òÁöÑ„ÄÇÊâÄ‰ª•Âú®ÊàëËá™Â∑±ÁöÑÈ°πÁõÆ‰∏≠ÔºåÂπ∂Ê≤°ÊúâÂú®ËøôÈáåÂÅöÂä®ÊÄÅÁöÑÁºìÂ≠òÊñπÊ°à„ÄÇ activateService WorkerÊÄªÊúâÈúÄË¶ÅÊõ¥Êñ∞ÁöÑ‰∏ÄÂ§©ÔºåÈöèÁùÄÁâàÊú¨Ëø≠‰ª£ÔºåÊüê‰∏ÄÂ§©ÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÊñ∞ÁâàÊú¨ÁöÑÂäüËÉΩÂèëÂ∏É‰∏äÁ∫øÔºåÊ≠§Êó∂ÈúÄË¶ÅÊ∑òÊ±∞ÊéâÊóßÁöÑÁºìÂ≠òÔºåÊóßÁöÑService WorkerÂíåCache StorageÂ¶Ç‰ΩïÊ∑òÊ±∞Âë¢Ôºü self.addEventListener(&apos;activate&apos;, function(event) { var cacheWhitelist = [&apos;counterxing&apos;]; event.waitUntil( caches.keys().then(function(cacheNames) { returnPromise.all( cacheNames.map(function(cacheName) { if (cacheWhitelist.indexOf(cacheName) ===-1) { returncaches.delete(cacheName); } }) ); }) ); }); È¶ñÂÖàÊúâ‰∏Ä‰∏™ÁôΩÂêçÂçïÔºåÁôΩÂêçÂçï‰∏≠ÁöÑCacheÊòØ‰∏çË¢´Ê∑òÊ±∞ÁöÑ„ÄÇ ‰πãÂêéÈÄöËøácaches.keys()ÊãøÂà∞ÊâÄÊúâÁöÑCache StorageÔºåÊää‰∏çÂú®ÁôΩÂêçÂçï‰∏≠ÁöÑCacheÊ∑òÊ±∞„ÄÇ Ê∑òÊ±∞‰ΩøÁî®caches.delete()ÊñπÊ≥ï„ÄÇÂÆÉÊé•Êî∂cacheName‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂà†Èô§ËØ•cacheNameÊâÄÊúâÁºìÂ≠ò„ÄÇ sw-precache-webpack-pluginsw-precache-webpack-pluginÊòØ‰∏Ä‰∏™webpack pluginÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÁöÑÊñπÂºèÂú®webpackÊâìÂåÖÊó∂ÁîüÊàêÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑsw.jsÁöÑService WorkerËÑöÊú¨„ÄÇ ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÈÖçÁΩÆÂ¶Ç‰∏ãÔºö var path =require(&apos;path&apos;); var SWPrecacheWebpackPlugin =require(&apos;sw-precache-webpack-plugin&apos;); constPUBLIC_PATH=&apos;https://www.my-project-name.com/&apos;; // webpack needs the trailing slash for output.publicPathmodule.exports= { entry: { main:path.resolve(__dirname, &apos;src/index&apos;), }, output: { path:path.resolve(__dirname, &apos;src/bundles/&apos;), filename:&apos;[name]-[hash].js&apos;, publicPath:PUBLIC_PATH, }, plugins: [ newSWPrecacheWebpackPlugin( { cacheId:&apos;my-project-name&apos;, dontCacheBustUrlsMatching:/\.\w{8}\./, filename:&apos;service-worker.js&apos;, minify:true, navigateFallback:PUBLIC_PATH+&apos;index.html&apos;, staticFileGlobsIgnorePatterns: [/\.map$/,/asset-manifest\.json$/], } ), ], } Âú®ÊâßË°åwebpackÊâìÂåÖÂêéÔºå‰ºöÁîüÊàê‰∏Ä‰∏™Âêç‰∏∫service-worker.jsÊñá‰ª∂ÔºåÁî®‰∫éÁºìÂ≠òwebpackÊâìÂåÖÂêéÁöÑÈùôÊÄÅÊñá‰ª∂„ÄÇ ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÁ§∫‰æã„ÄÇ Service Worker Cache VS Http CacheÂØπÊØîËµ∑Http HeaderÁºìÂ≠òÔºåService WorkerÈÖçÂêàCache Storage‰πüÊúâËá™Â∑±ÁöÑ‰ºòÂäøÔºö ÁºìÂ≠ò‰∏éÊõ¥Êñ∞Âπ∂Â≠òÔºöÊØèÊ¨°Êõ¥Êñ∞ÁâàÊú¨ÔºåÂÄüÂä©Service WorkerÂèØ‰ª•Á´ãÈ©¨‰ΩøÁî®ÁºìÂ≠òËøîÂõûÔºå‰ΩÜ‰∏éÊ≠§ÂêåÊó∂ÂèØ‰ª•ÂèëËµ∑ËØ∑Ê±ÇÔºåÊ†°È™åÊòØÂê¶ÊúâÊñ∞ÁâàÊú¨Êõ¥Êñ∞„ÄÇ Êó†‰æµÂÖ•ÂºèÔºöhashÂÄºÂÆûÂú®ÊòØÂ§™ÈöæÁúã‰∫Ü„ÄÇ ‰∏çÊòìË¢´ÂÜ≤ÊéâÔºöHttpÁºìÂ≠òÂÆπÊòìË¢´ÂÜ≤ÊéâÔºå‰πüÂÆπÊòìËøáÊúüÔºåËÄåCache StorageÂàô‰∏çÂÆπÊòìË¢´ÂÜ≤Êéâ„ÄÇ‰πüÊ≤°ÊúâËøáÊúüÊó∂Èó¥ÁöÑËØ¥Ê≥ï„ÄÇ Á¶ªÁ∫øÔºöÂÄüÂä©Service WorkerÂèØ‰ª•ÂÆûÁé∞Á¶ªÁ∫øËÆøÈóÆÂ∫îÁî®„ÄÇ ‰ΩÜÊòØÁº∫ÁÇπÊòØÔºåÁî±‰∫éService Worker‰æùËµñ‰∫éfetch API„ÄÅ‰æùËµñ‰∫éPromise„ÄÅCache StorageÁ≠âÔºåÂÖºÂÆπÊÄß‰∏çÂ§™Â•Ω„ÄÇ ÂêéËØùÊú¨ÊñáÂè™ÊòØÁÆÄÂçïÊÄªÁªì‰∫ÜService WorkerÁöÑÂü∫Êú¨‰ΩøÁî®Âíå‰ΩøÁî®Service WorkerÂÅöÂÆ¢Êà∑Á´ØÁºìÂ≠òÁöÑÁÆÄÂçïÊñπÂºèÔºåÁÑ∂ËÄåÔºåService WorkerÁöÑ‰ΩúÁî®Ëøú‰∏çÊ≠¢‰∫éÊ≠§Ôºå‰æãÂ¶ÇÔºöÂÄüÂä©Service WorkerÂÅöÁ¶ªÁ∫øÂ∫îÁî®„ÄÅÁî®‰∫éÂÅöÁΩëÁªúÂ∫îÁî®ÁöÑÊé®ÈÄÅÔºàÂèØÂèÇËÄÉpush-notificationsÔºâÁ≠â„ÄÇ ÁîöËá≥ÂèØ‰ª•ÂÄüÂä©Service WorkerÔºåÂØπÊé•Âè£ËøõË°åÁºìÂ≠òÔºåÂú®ÊàëÊâÄÂú®ÁöÑÈ°πÁõÆ‰∏≠ÔºåÂÖ∂ÂÆûÂπ∂‰∏ç‰ºöÂÅöÁöÑËøô‰πàÂ§çÊùÇ„ÄÇ‰∏çËøáÂÅöÊé•Âè£ÁºìÂ≠òÁöÑÂ•ΩÂ§ÑÊòØÊîØÊåÅÁ¶ªÁ∫øËÆøÈóÆÔºåÂØπÁ¶ªÁ∫øÁä∂ÊÄÅ‰∏ã‰πüËÉΩÊ≠£Â∏∏ËÆøÈóÆÊàë‰ª¨ÁöÑWebÂ∫îÁî®„ÄÇ Cache StorageÂíåService WorkerÊÄªÊòØÂàÜ‰∏çÂºÄÁöÑ„ÄÇService WorkerÁöÑÊúÄ‰Ω≥Áî®Ê≥ïÂÖ∂ÂÆûÂ∞±ÊòØÈÖçÂêàCache StorageÂÅöÁ¶ªÁ∫øÁºìÂ≠ò„ÄÇÂÄüÂä©‰∫éService WorkerÔºåÂèØ‰ª•ËΩªÊùæÂÆûÁé∞ÂØπÁΩëÁªúËØ∑Ê±ÇÁöÑÊéßÂà∂ÔºåÂØπ‰∫é‰∏çÂêåÁöÑÁΩëÁªúËØ∑Ê±ÇÔºåÈááÂèñ‰∏çÂêåÁöÑÁ≠ñÁï•„ÄÇ‰æãÂ¶ÇÂØπ‰∫éCacheÁöÑÁ≠ñÁï•ÔºåÂÖ∂ÂÆû‰πüÊòØÂ≠òÂú®Â§öÁßçÊÉÖÂÜµ„ÄÇ‰æãÂ¶ÇÂèØ‰ª•‰ºòÂÖà‰ΩøÁî®ÁΩëÁªúËØ∑Ê±ÇÔºåÂú®ÁΩëÁªúËØ∑Ê±ÇÂ§±Ë¥•Êó∂ÂÜç‰ΩøÁî®ÁºìÂ≠ò„ÄÅ‰∫¶ÂèØ‰ª•ÂêåÊó∂‰ΩøÁî®ÁºìÂ≠òÂíåÁΩëÁªúËØ∑Ê±ÇÔºå‰∏ÄÊñπÈù¢Ê£ÄÊü•ËØ∑Ê±ÇÔºå‰∏ÄÊñπÈù¢ÊúâÊ£ÄÊü•ÁºìÂ≠òÔºåÁÑ∂ÂêéÁúã‰∏§‰∏™Ë∞ÅÂø´ÔºåÂ∞±Áî®Ë∞Å„ÄÇ Progressive Web AppsÔºàPWAÔºâProgressive Web App, ÁÆÄÁß∞ PWAÔºåÊòØÊèêÂçáWeb AppÁöÑ‰ΩìÈ™åÁöÑ‰∏ÄÁßçÊñ∞ÊñπÊ≥ïÔºåËÉΩÁªôÁî®Êà∑ÂéüÁîüÂ∫îÁî®ÁöÑ‰ΩìÈ™å„ÄÇ PWAËÉΩÂÅöÂà∞ÂéüÁîüÂ∫îÁî®ÁöÑ‰ΩìÈ™å‰∏çÊòØÈù†ÁâπÊåáÊüê‰∏ÄÈ°πÊäÄÊúØÔºåËÄåÊòØÁªèËøáÂ∫îÁî®‰∏Ä‰∫õÊñ∞ÊäÄÊúØËøõË°åÊîπËøõÔºåÂú®ÂÆâÂÖ®„ÄÅÊÄßËÉΩÂíå‰ΩìÈ™å‰∏â‰∏™ÊñπÈù¢ÈÉΩÊúâÂæàÂ§ßÊèêÂçáÔºåPWAÊú¨Ë¥®‰∏äÊòØWeb AppÔºåÂÄüÂä©‰∏Ä‰∫õÊñ∞ÊäÄÊúØ‰πüÂÖ∑Â§á‰∫ÜNative AppÁöÑ‰∏Ä‰∫õÁâπÊÄßÔºåÂÖºÂÖ∑Web AppÂíåNative AppÁöÑ‰ºòÁÇπ„ÄÇ PWAÁöÑ‰∏ªË¶ÅÁâπÁÇπÂåÖÊã¨‰∏ãÈù¢‰∏âÁÇπÔºö ÂèØÈù† - Âç≥‰ΩøÂú®‰∏çÁ®≥ÂÆöÁöÑÁΩëÁªúÁéØÂ¢É‰∏ãÔºå‰πüËÉΩÁû¨Èó¥Âä†ËΩΩÂπ∂Â±ïÁé∞ ‰ΩìÈ™å - Âø´ÈÄüÂìçÂ∫îÔºåÂπ∂‰∏îÊúâÂπ≥ÊªëÁöÑÂä®ÁîªÂìçÂ∫îÁî®Êà∑ÁöÑÊìç‰Ωú Á≤òÊÄß - ÂÉèËÆæÂ§á‰∏äÁöÑÂéüÁîüÂ∫îÁî®ÔºåÂÖ∑ÊúâÊ≤âÊµ∏ÂºèÁöÑÁî®Êà∑‰ΩìÈ™åÔºåÁî®Êà∑ÂèØ‰ª•Ê∑ªÂä†Âà∞Ê°åÈù¢PWAÊú¨Ë∫´Âº∫Ë∞ÉÊ∏êËøõÂºèÔºåÂπ∂‰∏çË¶ÅÊ±Ç‰∏ÄÊ¨°ÊÄßËææÂà∞ÂÆâÂÖ®„ÄÅÊÄßËÉΩÂíå‰ΩìÈ™å‰∏äÁöÑÊâÄÊúâË¶ÅÊ±ÇÔºåÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøáPWA ChecklistÊü•ÁúãÁé∞ÊúâÁöÑÁâπÂæÅ„ÄÇ ÈÄöËøá‰∏äÈù¢ÁöÑPWA ChecklistÔºåÊÄªÁªìËµ∑Êù•ÔºåPWAÂ§ßËá¥Êúâ‰ª•‰∏ãÁöÑ‰ºòÂäøÔºö ‰ΩìÈ™åÔºöÈÄöËøáService WorkerÈÖçÂêàCache Storage APIÔºå‰øùËØÅ‰∫ÜPWAÈ¶ñÂ±èÁöÑÂä†ËΩΩÊïàÁéáÔºåÁîöËá≥ÈÖçÂêàÊú¨Âú∞Â≠òÂÇ®ÂèØ‰ª•ÊîØÊåÅÁ¶ªÁ∫øÂ∫îÁî®Ôºõ Á≤òÊÄßÔºöPWAÊòØÂèØ‰ª•ÂÆâË£ÖÁöÑÔºåÁî®Êà∑ÁÇπÂáªÂÆâË£ÖÂà∞Ê°åÈù¢ÂêéÔºå‰ºöÂú®Ê°åÈù¢ÂàõÂª∫‰∏Ä‰∏™ PWA Â∫îÁî®ÔºåÂπ∂‰∏î‰∏çÈúÄË¶Å‰ªéÂ∫îÁî®ÂïÜÂ∫ó‰∏ãËΩΩÔºåÂèØ‰ª•ÂÄüÂä©Web App ManifestÊèê‰æõÁªôÁî®Êà∑ÂíåNative App‰∏ÄÊ†∑ÁöÑÊ≤âÊµ∏Âºè‰ΩìÈ™åÔºåÂèØ‰ª•ÈÄöËøáÁªôÁî®Êà∑ÂèëÈÄÅÁ¶ªÁ∫øÈÄöÁü•ÔºåËÆ©Áî®Êà∑ÂõûÊµÅÔºõ Ê∏êËøõÂºèÔºöÈÄÇÁî®‰∫éÂ§ßÂ§öÊï∞Áé∞‰ª£ÊµèËßàÂô®ÔºåÈöèÁùÄÊµèËßàÂô®ÁâàÊú¨ÁöÑËø≠‰ª£ÔºåÂÖ∂ÂäüËÉΩÊòØÊ∏êËøõÂ¢ûÂº∫ÁöÑÔºõ Êó†ÁâàÊú¨ÈóÆÈ¢òÔºöÂ¶ÇWebÂ∫îÁî®ÁöÑ‰ºòÂäøÔºåÊõ¥Êñ∞ÁâàÊú¨Âè™ÈúÄË¶ÅÊõ¥Êñ∞Â∫îÁî®Á®ãÂ∫èÂØπÂ∫îÁöÑÈùôÊÄÅÊñá‰ª∂Âç≥ÂèØÔºåService Worker‰ºöÂ∏ÆÂä©Êàë‰ª¨ËøõË°åÊõ¥Êñ∞Ôºõ Ë∑®Âπ≥Âè∞ÔºöWindows„ÄÅMac OSX„ÄÅAndroid„ÄÅIOSÔºå‰∏ÄÂ•ó‰ª£Á†ÅÔºåÂ§öÂ§Ñ‰ΩøÁî®Ôºõ Ê∂àÊÅØÊé®ÈÄÅÔºöÂç≥‰ΩøÁî®Êà∑Â∑≤ÁªèÂÖ≥Èó≠Â∫îÁî®Á®ãÂ∫èÔºå‰ªçÁÑ∂ÂèØ‰ª•ÂØπÁî®Êà∑ËøõË°åÊ∂àÊÅØÊé®ÈÄÅÔºõ ÊÄªÁöÑËØ¥Êù•ÔºåÂè™Ë¶ÅWebÂ∫îÁî®ÊîØÊåÅÁöÑÂäüËÉΩÔºåÂØπ‰∫éPWAËÄåË®ÄÔºåÂü∫Êú¨ÈÉΩÊîØÊåÅÔºåÊ≠§Â§ñÔºåËøòÊèê‰æõ‰∫ÜÂéüÁîüËÉΩÂäõ„ÄÇ ‰ΩøÁî®PWA manifestÊ∑ªÂä†Ê°åÈù¢ÂÖ•Âè£Ê≥®ÊÑèËøôÈáåËØ¥ÁöÑmanifest‰∏çÊòØÊåáÁöÑmanifestÁºìÂ≠òÔºåËøô‰∏™manifestÊòØ‰∏Ä‰∏™JSONÊñá‰ª∂ÔºåÂºÄÂèëËÄÖÂèØ‰ª•Âà©Áî®ÂÆÉÊéßÂà∂Âú®Áî®Êà∑ÊÉ≥Ë¶ÅÁúãÂà∞Â∫îÁî®ÁöÑÂå∫ÂüüÔºà‰æãÂ¶ÇÁßªÂä®ËÆæÂ§á‰∏ªÂ±èÂπïÔºâ‰∏≠Â¶Ç‰ΩïÂêëÁî®Êà∑ÊòæÁ§∫ÁΩëÁªúÂ∫îÁî®ÊàñÁΩëÁ´ôÔºåÊåáÁ§∫Áî®Êà∑ÂèØ‰ª•ÂêØÂä®Âì™‰∫õÂäüËÉΩÔºå‰ª•ÂèäÂÆö‰πâÂÖ∂Âú®ÂêØÂä®Êó∂ÁöÑÂ§ñËßÇ„ÄÇ manifestÊèê‰æõ‰∫ÜÂ∞ÜÁΩëÁ´ô‰π¶Á≠æ‰øùÂ≠òÂà∞ËÆæÂ§á‰∏ªÂ±èÂπïÁöÑÂäüËÉΩ„ÄÇÂΩìÁΩëÁ´ô‰ª•ËøôÁßçÊñπÂºèÂêØÂä®Êó∂Ôºö ÂÆÉÂÖ∑ÊúâÂîØ‰∏ÄÁöÑÂõæÊ†áÂíåÂêçÁß∞Ôºå‰ª•‰æøÁî®Êà∑Â∞ÜÂÖ∂‰∏éÂÖ∂‰ªñÁΩëÁ´ôÂå∫ÂàÜÂºÄÊù•„ÄÇ ÂÆÉ‰ºöÂú®‰∏ãËΩΩËµÑÊ∫êÊàñ‰ªéÁºìÂ≠òÊÅ¢Â§çËµÑÊ∫êÊó∂ÂêëÁî®Êà∑ÊòæÁ§∫Êüê‰∫õ‰ø°ÊÅØ„ÄÇ ÂÆÉ‰ºöÂêëÊµèËßàÂô®Êèê‰æõÈªòËÆ§ÊòæÁ§∫ÁâπÊÄßÔºå‰ª•ÈÅøÂÖçÁΩëÁ´ôËµÑÊ∫êÂèØÁî®Êó∂ÁöÑËøáÊ∏°Ëøá‰∫éÁîüÁ°¨„ÄÇ ‰∏ãÈù¢ÊòØÊàëÁöÑÂçöÂÆ¢ÁΩëÁ´ôÁöÑmanifest.jsonÊñá‰ª∂Ôºå‰Ωú‰∏∫Ê°åÈù¢ÂÖ•Âè£ÈÖçÁΩÆÊñá‰ª∂ÁöÑÁ§∫‰æãÔºö { &quot;name&quot;: &quot;Counterxing&quot;, &quot;short_name&quot;: &quot;Counterxing&quot;, &quot;description&quot;: &quot;Why did you encounter me?&quot;, &quot;start_url&quot;: &quot;/index.html&quot;, &quot;display&quot;: &quot;standalone&quot;, &quot;orientation&quot;: &quot;any&quot;, &quot;background_color&quot;: &quot;#ACE&quot;, &quot;theme_color&quot;: &quot;#ACE&quot;, &quot;icons&quot;: [{ &quot;src&quot;: &quot;/images/logo/logo072.png&quot;, &quot;sizes&quot;: &quot;72x72&quot;, &quot;type&quot;: &quot;image/png&quot; }, { &quot;src&quot;: &quot;/images/logo/logo152.png&quot;, &quot;sizes&quot;: &quot;152x152&quot;, &quot;type&quot;: &quot;image/png&quot; }, { &quot;src&quot;: &quot;/images/logo/logo192.png&quot;, &quot;sizes&quot;: &quot;192x192&quot;, &quot;type&quot;: &quot;image/png&quot; }, { &quot;src&quot;: &quot;/images/logo/logo256.png&quot;, &quot;sizes&quot;: &quot;256x256&quot;, &quot;type&quot;: &quot;image/png&quot; }, { &quot;src&quot;: &quot;/images/logo/logo512.png&quot;, &quot;sizes&quot;: &quot;512x512&quot;, &quot;type&quot;: &quot;image/png&quot; }] } ‰∏äÈù¢ÁöÑÂ≠óÊÆµÂê´‰πâ‰πü‰∏çÁî®Â§öËß£Èáä‰∫ÜÔºåÂ§ßËá¥Â∞±ÊòØÂêØÂä®ÁöÑiconÊ†∑ÂºèÔºåÂ∫îÁî®ÂêçÁß∞„ÄÅÁÆÄÂÜôÂêçÁß∞‰∏éÊèèËø∞Á≠âÔºåÂÖ∂‰∏≠ÂøÖÈ°ªÁ°Æ‰øùÊúâshort_nameÂíåname„ÄÇÊ≠§Â§ñÔºåÊúÄÂ•ΩËÆæÂÆöÂ•Ωstart_urlÔºåË°®Á§∫ÂêØÂä®ÁöÑÊ†πÈ°µÈù¢Ë∑ØÂæÑÔºåÂ¶ÇÊûú‰∏çÊ∑ªÂä†ÔºåÂàôÊòØ‰ΩøÁî®ÂΩìÂâçË∑ØÂæÑ„ÄÇ display‰∏∫standaloneÔºåÂàô‰ºöÈöêËóèÊµèËßàÂô®ÁöÑUIÁïåÈù¢ÔºåÂ¶ÇÊûúËÆæÁΩÆdisplay‰∏∫browserÔºåÂàôÂêØÂä®Êó∂‰øùÂ≠òÊµèËßàÂô®ÁöÑUIÁïåÈù¢„ÄÇ orientationË°®Á§∫ÂêØÂä®Êó∂ÁöÑÊñπÂêëÔºåÊ®™Â±è„ÄÅÁ´ñÂ±èÁ≠âÔºåÂÖ∑‰ΩìÂèÇÊï∞ÂÄºÂèØÂèÇËÄÉÊñáÊ°£„ÄÇ background_colorÂíåtheme_colorË°®Á§∫Â∫îÁî®Á®ãÂ∫èÁöÑËÉåÊôØÈ¢úËâ≤Âíå‰∏ªÈ¢òÈ¢úËâ≤„ÄÇ Âú®ÂàõÂª∫Â•Ωmanifest.jsonÂêéÔºåÂ∞Ü„ÄÅ‰ΩøÁî®linkÊ†áÁ≠æÊ∑ªÂä†Âà∞Â∫îÁî®Á®ãÂ∫èÁöÑÊâÄÊúâÈ°µÈù¢‰∏äÔºå&lt;link rel=&quot;manifest&quot; href=&quot;/manifest.json&quot;&gt; ÂÆâË£ÖÂà∞Ê°åÈù¢Ê°åÈù¢Á´ØÔºà‰ª•Mac OSX‰∏∫‰æãÔºâÂè™ÊúâÊ≥®ÂÜå„ÄÅÊøÄÊ¥ª‰∫ÜService WorkerÁöÑÁΩëÁ´ôÊâçËÉΩÂ§üÂÆâË£ÖÂà∞Ê°åÈù¢ÔºåÂú®Chrome 70ÁâàÊú¨‰πãÂâçÔºåÈúÄË¶ÅÊâãÂä®ÂºÄÂêØÂÆûÈ™åÊÄßÂäüËÉΩÔºåÊ≠•È™§Â¶Ç‰∏ãÔºö ËøõÂÖ•chrome://flags ÊâæÂà∞Desktop PWAsÔºåÈÄâÊã©Enabled Ê≠§Êó∂ÔºåËøõÂÖ•‰∏Ä‰∏™ÊîØÊåÅPWAÁöÑÁΩëÁ´ôÔºà‰æãÂ¶ÇGoogle I/OÔºâÔºåÂú®ChromeÊµèËßàÂô®Âè≥‰∏äËßíÔºåÁÇπÂáªÂÆâË£Ö„ÄÇÂç≥ÂèØÂÆâË£ÖÂà∞Ê°åÈù¢„ÄÇËøôÈáå‰ª•ÊàëÁöÑÂçöÂÆ¢‰∏∫‰æãÔºö ÂèØ‰ª•Âà∞awesome-pwaÊü•ÊâæÁõÆÂâçÊîØÊåÅPWAÁöÑÁΩëÁ´ôÂàóË°® Êé•ÁùÄÁÇπÂáªÂÆâË£ÖÔºö ËøôÊ†∑Ôºå‰∏Ä‰∏™PWAÂ∫îÁî®Â∞±ÂÆâË£ÖÂà∞‰Ω†ÁöÑÊú∫Âô®‰∏ä‰∫ÜÔºåËøôÈáåÊàëÁöÑÊìç‰ΩúÁ≥ªÁªü‰∏∫Mac OSXÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÈÄöËøáLaunchpadÊâìÂºÄÔºåÂú®Windows‰πüÊòØÂêåÁêÜÁöÑÔºå‰ºöË¢´ÂÆâË£ÖÂà∞Ê°åÈù¢‰∏äÔºåÂèØÈÄöËøáÂºÄÂßãËèúÂçïÊâæÂà∞Â∫îÁî®Á®ãÂ∫è„ÄÇ ÊâìÂºÄÂ∫îÁî®Á®ãÂ∫èÔºåÂèëÁé∞ÂÖ∂‰∏éÂéüÂßãÂ∫îÁî®Âá†‰πéÊ≤°Êúâ‰ªª‰ΩïÂ∑ÆË∑ùÔºö Windows‰∏é‰∏äËø∞ÊñπÊ≥ïÁ±ª‰ººÔºåËøôÈáåÂ∞±‰∏çÂÅöËøáÂ§öÈòêËø∞ ÁßªÂä®Á´ØÔºà‰ª•IOS‰∏∫‰æãÔºâÁî±‰∫éÂΩìÂàùËãπÊûúÊé®Âá∫PWAÊó∂ÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™Áªü‰∏ÄÁöÑmanifestÁöÑËßÑËåÉÔºåÊúÄÂºÄÂßãÁöÑËÆæËÆ°ÊòØÈÄöËøámetaÂíålinkÊ†áÁ≠æÊù•ËÆæÂÆöÂ∫îÁî®ÁöÑÂØπÂ∫îÂèÇÊï∞ÁöÑÔºåÊâÄ‰ª•ÔºåÂú®ÁßªÂä®Á´Ø‰∏äÁöÑPWAÂ∫îÁî®Ôºå‰∏∫‰∫ÜÂÖºÂÆπWindows PhoneÂíåiPhoneÔºåÈúÄË¶ÅÂú®ÊâÄÊúâÈ°µÈù¢ÁöÑHTMLÁöÑhead‰∏≠Ê∑ªÂä†‰ª•‰∏ãÁöÑÊ†áÁ≠æÔºö &lt;metaname=&quot;msapplication-TileImage&quot;content=&quot;./images/logo/logo152.png&quot;&gt; &lt;metaname=&quot;msapplication-TileColor&quot;content=&quot;#2F3BA2&quot;&gt; &lt;metaname=&quot;apple-mobile-web-app-capable&quot;content=&quot;yes&quot;&gt; &lt;metaname=&quot;apple-mobile-web-app-status-bar-style&quot;content=&quot;black&quot;&gt; &lt;metaname=&quot;apple-mobile-web-app-title&quot;content=&quot;Counterxing&quot;&gt; &lt;linkrel=&quot;apple-touch-icon&quot;href=&quot;./images/logo/logo152.png&quot;&gt; Ê∑ªÂä†Â•ΩÂêéÔºåÂ∞±ÂèØ‰ª•‰ΩìÈ™åÊàë‰ª¨ÁöÑPWA‰∫ÜÔºÅ IOSÂú®11.3ÁâàÊú¨‰πãÂêé‰πüÊîØÊåÅPWA‰∫ÜÔºåÁü•ÈÅìËøô‰∏ÄÊ∂àÊÅØÁöÑÊàëÔºåÂç∏ËΩΩ‰∫ÜÊâãÊú∫‰∏äÂæàÂ§öËΩØ‰ª∂ÔºåÁ´ãÂàª‰ΩìÈ™å‰∏ä‰∫ÜPWA„ÄÇ ËøôÈáå‰ª•Ë±ÜÁì£ÁßªÂä®Á´Ø‰∏∫‰æã‰ΩøÁî®SafiriÊµèËßàÂô®ÊâìÂºÄ‰∏Ä‰∏™ÁΩëÁ´ôÔºåÁÇπÂáª‰∏ãÊñπÂàÜ‰∫´ÂõæÊ†áÔºåÈÄâÊã©Ê∑ªÂä†Âà∞‰∏ªÂ±èÂπï„ÄÇ ÁÑ∂ÂêéÂú®Êñ∞ÂºπÂá∫ÁöÑ‰∏Ä‰∏™ÊµèËßàÂô®È°µÈù¢ÔºåÈÄâÊã©Ê∑ªÂä†Ôºö Â∞±‰ª•‰∏äÁÆÄÁü≠ÁöÑÊ≠•È™§ÔºåÁßªÂä®Á´Ø‰∏äÁöÑ‰∏Ä‰∏™PWAÊ°åÈù¢Â∫îÁî®Â∞±Ê∑ªÂä†Â•Ω‰∫ÜÔºåËµ∂Á¥ß‰ΩìÈ™åÂêßÔºÅ Â∞èÁªìÊú¨ÊñáÊòØÁ¨îËÄÖÂÜôÁöÑService WorkerÂ≠¶‰π†‰∏éÂÆûË∑µÁ≥ªÂàóÊñáÁ´†ÁöÑÁ¨¨‰∫åÁØáÔºå‰∏ªË¶ÅËÆ≤Ëø∞ÁöÑÊòØÈÖçÂêàService Worker‰ΩøÁî®ÁöÑPWAÁöÑ‰ºòÂäøÔºåÂ¶Ç‰ΩïÈÖçÁΩÆmanifest.jsonÊñá‰ª∂Êù•ÂÆûÁé∞Â∞ÜPWAÂÆâË£ÖÂà∞Ê°åÈù¢ÔºåÂπ∂ÈÄöËøáMac OSXÂíåIOSÂ¶Ç‰ΩïÂÆâË£ÖPWAÂà∞Ê°åÈù¢ÁöÑËØ¶ÁªÜÊ≠•È™§ÔºåÈòêËø∞‰∫ÜÂ¶Ç‰ΩïÈÖçÁΩÆPWAÔºå‰ΩøÂÖ∂Êñπ‰æøÂú∞ÂÆâË£ÖÂà∞Ê°åÈù¢‰∏ä„ÄÇ ‰∏ã‰∏ÄÁØáÊñáÁ´†‰∏≠Ôºå‰∏ªË¶ÅËÆ≤Ëø∞Service WorkerÂú®PWAÂÆûË∑µ‰∏≠ÁöÑÈáçË¶ÅËÉΩÂäõÔºöWeb Push„ÄÇ NotificationËØ¥Âà∞Â∫ïÔºåPWAÁöÑÊ∂àÊÅØÊé®ÈÄÅ‰πüÊòØÊúçÂä°Á´ØÊé®ÈÄÅÁöÑ‰∏ÄÁßçÔºåÂ∏∏ËßÅÁöÑÊúçÂä°Á´ØÊé®ÈÄÅÊñπÊ≥ïÔºå‰æãÂ¶ÇÂπøÊ≥õ‰ΩøÁî®ÁöÑËΩÆËØ¢„ÄÅÈïøËΩÆËØ¢„ÄÅWeb SocketÁ≠âÔºåËØ¥Âà∞Â∫ïÔºåÈÉΩÊòØÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´Ø‰πãÈó¥ÁöÑÈÄö‰ø°ÔºåÂú®Service Worker‰∏≠ÔºåÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÈÄöÁü•ÔºåÊòØÂü∫‰∫éNotificationÊù•ËøõË°åÊé®ÈÄÅÁöÑ„ÄÇ ÈÇ£‰πàÔºåÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÔºåÂ¶Ç‰ΩïÁõ¥Êé•‰ΩøÁî®NotificationÊù•ÂèëÈÄÅ‰∏ÄÊù°Êé®ÈÄÅÂë¢Ôºü‰∏ãÈù¢ÊòØ‰∏ÄÊÆµÁ§∫‰æã‰ª£Á†ÅÔºö // Âú®‰∏ªÁ∫øÁ®ã‰∏≠‰ΩøÁî®let notification =newNotification(&apos;ÊÇ®ÊúâÊñ∞Ê∂àÊÅØ&apos;, { body:&apos;Hello Service Worker&apos;, icon:&apos;./images/logo/logo152.png&apos;, }); notification.onclick=function() { console.log(&apos;ÁÇπÂáª‰∫Ü&apos;); }; Âú®ÊéßÂà∂Âè∞Êï≤‰∏ã‰∏äËø∞‰ª£Á†ÅÂêéÔºåÂàô‰ºöÂºπÂá∫‰ª•‰∏ãÈÄöÁü•Ôºö ÁÑ∂ËÄåÔºåNotificationËøô‰∏™APIÔºåÂè™Êé®ËçêÂú®Service Worker‰∏≠‰ΩøÁî®Ôºå‰∏çÊé®ËçêÂú®‰∏ªÁ∫øÁ®ã‰∏≠‰ΩøÁî®ÔºåÂú®Service Worker‰∏≠ÁöÑ‰ΩøÁî®ÊñπÊ≥ï‰∏∫Ôºö // Ê∑ªÂä†notificationclick‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºåÂú®ÁÇπÂáªnotificationÊó∂Ëß¶Âèëself.addEventListener(&apos;notificationclick&apos;, function(event) { // ÂÖ≥Èó≠ÂΩìÂâçÁöÑÂºπÁ™óevent.notification.close(); // Âú®Êñ∞Á™óÂè£ÊâìÂºÄÈ°µÈù¢event.waitUntil( clients.openWindow(&apos;https://google.com&apos;) ); }); // Ëß¶Âèë‰∏ÄÊù°ÈÄöÁü•self.registration.showNotification(&apos;ÊÇ®ÊúâÊñ∞Ê∂àÊÅØ&apos;, { body:&apos;Hello Service Worker&apos;, icon:&apos;./images/logo/logo152.png&apos;, }); ËØªËÄÖÂèØ‰ª•Âú®MDN Web DocsÂÖ≥‰∫éNotificationÂú®Service Worker‰∏≠ÁöÑÁõ∏ÂÖ≥Áî®Ê≥ïÔºåÂú®Êú¨ÊñáÂ∞±‰∏çÊµ™Ë¥πÂ§ßÈáèÁØáÂπÖÊù•ËøõË°åËæÉ‰∏∫ËØ¶ÁªÜÁöÑÈòêËø∞‰∫Ü„ÄÇ Áî≥ËØ∑Êé®ÈÄÅÁöÑÊùÉÈôêÂ¶ÇÊûúÊµèËßàÂô®Áõ¥Êé•ÁªôÊâÄÊúâÂºÄÂèëËÄÖÂºÄÊîæÂêëÁî®Êà∑Êé®ÈÄÅÈÄöÁü•ÁöÑÊùÉÈôêÔºåÈÇ£‰πàÂäøÂøÖÁî®Êà∑‰ºöÂèóÂà∞Â§ßÈáèÂûÉÂúæ‰ø°ÊÅØÁöÑÈ™öÊâ∞ÔºåÂõ†Ê≠§Ëøô‰∏ÄÊùÉÈôêÊòØÈúÄË¶ÅÁî≥ËØ∑ÁöÑÔºåÂ¶ÇÊûúÁî®Êà∑Á¶ÅÊ≠¢‰∫ÜÊ∂àÊÅØÊé®ÈÄÅÔºåÂºÄÂèëËÄÖÊòØÊ≤°ÊúâÊùÉÂà©ÂêëÁî®Êà∑ÂèëËµ∑Ê∂àÊÅØÊé®ÈÄÅÁöÑ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáserviceWorkerRegistration.pushManager.getSubscriptionÊñπÊ≥ïÊü•ÁúãÁî®Êà∑ÊòØÂê¶Â∑≤ÁªèÂÖÅËÆ∏Êé®ÈÄÅÈÄöÁü•ÁöÑÊùÉÈôê„ÄÇ‰øÆÊîπsw-register.js‰∏≠ÁöÑ‰ª£Á†ÅÔºö if (&apos;serviceWorker&apos;innavigator) { navigator.serviceWorker.register(&apos;/sw.js&apos;).then(function (swReg) { swReg.pushManager.getSubscription() .then(function(subscription) { if (subscription) { console.log(JSON.stringify(subscription)); } else { console.log(&apos;Ê≤°ÊúâËÆ¢ÈòÖ&apos;); subscribeUser(swReg); } }); }); } ‰∏äÈù¢ÁöÑ‰ª£Á†ÅË∞ÉÁî®‰∫ÜswReg.pushManagerÁöÑgetSubscriptionÔºåÂèØ‰ª•Áü•ÈÅìÁî®Êà∑ÊòØÂê¶Â∑≤ÁªèÂÖÅËÆ∏ËøõË°åÊ∂àÊÅØÊé®ÈÄÅÔºåÂ¶ÇÊûúswReg.pushManager.getSubscriptionÁöÑPromiseË¢´reject‰∫ÜÔºåÂàôË°®Á§∫Áî®Êà∑ËøòÊ≤°ÊúâËÆ¢ÈòÖÊàë‰ª¨ÁöÑÊ∂àÊÅØÔºåË∞ÉÁî®subscribeUserÊñπÊ≥ïÔºåÂêëÁî®Êà∑Áî≥ËØ∑Ê∂àÊÅØÊé®ÈÄÅÁöÑÊùÉÈôêÔºö functionsubscribeUser(swReg) { constapplicationServerKey=urlB64ToUint8Array(applicationServerPublicKey); swReg.pushManager.subscribe({ userVisibleOnly:true, applicationServerKey: applicationServerKey }) .then(function(subscription) { console.log(JSON.stringify(subscription)); }) .catch(function(err) { console.log(&apos;ËÆ¢ÈòÖÂ§±Ë¥•: &apos;, err); }); } ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÈÄöËøáserviceWorkerRegistration.pushManager.subscribeÂêëÁî®Êà∑ÂèëËµ∑ËÆ¢ÈòÖÁöÑÊùÉÈôêÔºåËøô‰∏™ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™PromiseÔºåÂ¶ÇÊûúPromiseË¢´resolveÔºåÂàôË°®Á§∫Áî®Êà∑ÂÖÅËÆ∏Â∫îÁî®Á®ãÂ∫èÊé®ÈÄÅÊ∂àÊÅØÔºåÂèç‰πãÔºåÂ¶ÇÊûúË¢´rejectÔºåÂàôË°®Á§∫Áî®Êà∑ÊãíÁªù‰∫ÜÂ∫îÁî®Á®ãÂ∫èÁöÑÊ∂àÊÅØÊé®ÈÄÅ„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö serviceWorkerRegistration.pushManager.subscribeÊñπÊ≥ïÈÄöÂ∏∏ÈúÄË¶Å‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞Ôºö userVisibleOnlyÔºåËøô‰∏™ÂèÇÊï∞ÈÄöÂ∏∏Ë¢´ËÆæÁΩÆ‰∏∫trueÔºåÁî®Êù•Ë°®Á§∫ÂêéÁª≠‰ø°ÊÅØÊòØÂê¶Â±ïÁ§∫ÁªôÁî®Êà∑„ÄÇ applicationServerKeyÔºåËøô‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Uint8ArrayÔºåÁî®‰∫éÂä†ÂØÜÊúçÂä°Á´ØÁöÑÊé®ÈÄÅ‰ø°ÊÅØÔºåÈò≤Ê≠¢‰∏≠Èó¥‰∫∫ÊîªÂáªÔºå‰ºöËØùË¢´ÊîªÂáªËÄÖÁØ°Êîπ„ÄÇËøô‰∏ÄÂèÇÊï∞ÊòØÁî±ÊúçÂä°Á´ØÁîüÊàêÁöÑÂÖ¨Èí•ÔºåÈÄöËøáurlB64ToUint8ArrayËΩ¨Êç¢ÁöÑÔºåËøô‰∏ÄÂáΩÊï∞ÈÄöÂ∏∏ÊòØÂõ∫ÂÆöÁöÑÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö functionurlB64ToUint8Array(base64String) { constpadding=&apos;=&apos;.repeat((4-base64String.length%4) %4); constbase64= (base64String + padding) .replace(/\-/g, &apos;+&apos;) .replace(/_/g, &apos;/&apos;); constrawData=window.atob(base64); constoutputArray=newUint8Array(rawData.length); for (let i =0; i &lt;rawData.length; ++i) { outputArray[i] =rawData.charCodeAt(i); } return outputArray; } ÂÖ≥‰∫éÊúçÂä°Á´ØÂÖ¨Èí•Â¶Ç‰ΩïËé∑ÂèñÔºåÂú®ÊñáÁ´†ÂêéÁª≠‰ºöÊúâÁõ∏ÂÖ≥ÈòêËø∞„ÄÇ Â§ÑÁêÜÊãíÁªùÁöÑÊùÉÈôêÂ¶ÇÊûúÂú®Ë∞ÉÁî®serviceWorkerRegistration.pushManager.subscribeÂêéÔºåÁî®Êà∑ÊãíÁªù‰∫ÜÊé®ÈÄÅÊùÉÈôêÔºåÂêåÊ†∑‰πüÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÈÄöËøáNotification.permissionËé∑ÂèñÂà∞Ëøô‰∏ÄÁä∂ÊÄÅÔºåNotification.permissionÊúâ‰ª•‰∏ã‰∏â‰∏™ÂèñÂÄºÔºåÔºö grantedÔºöÁî®Êà∑Â∑≤ÁªèÊòéÁ°ÆÁöÑÊéà‰∫à‰∫ÜÊòæÁ§∫ÈÄöÁü•ÁöÑÊùÉÈôê„ÄÇ deniedÔºöÁî®Êà∑Â∑≤ÁªèÊòéÁ°ÆÁöÑÊãíÁªù‰∫ÜÊòæÁ§∫ÈÄöÁü•ÁöÑÊùÉÈôê„ÄÇ defaultÔºöÁî®Êà∑ËøòÊú™Ë¢´ËØ¢ÈóÆÊòØÂê¶ÊéàÊùÉÔºåÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÊùÉÈôêÂ∞ÜËßÜ‰∏∫denied„ÄÇ if (Notification.permission===‚Äôgranted‚Äô) { // Áî®Êà∑ÂÖÅËÆ∏Ê∂àÊÅØÊé®ÈÄÅ } else { // Ëøò‰∏çÂÖÅËÆ∏Ê∂àÊÅØÊé®ÈÄÅÔºåÂêëÁî®Êà∑Áî≥ËØ∑Ê∂àÊÅØÊé®ÈÄÅÁöÑÊùÉÈôê } ÂØÜÈí•ÁîüÊàê‰∏äËø∞‰ª£Á†Å‰∏≠ÁöÑapplicationServerPublicKeyÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊòØÁî±ÊúçÂä°Á´ØÁîüÊàêÁöÑÂÖ¨Èí•ÔºåÂú®È°µÈù¢ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÂ∞±‰ºöËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÊúçÂä°Á´Ø‰ºö‰øùÂ≠òÊØè‰∏™Áî®Êà∑ÂØπÂ∫îÁöÑÂÖ¨Èí•‰∏éÁßÅÈí•Ôºå‰ª•‰æøËøõË°åÊ∂àÊÅØÊé®ÈÄÅ„ÄÇ Âú®ÊàëÁöÑÁ§∫‰æãÊºîÁ§∫‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®GoogleÈÖçÂ•óÁöÑÂÆûÈ™åÁΩëÁ´ôweb-push-codelabÁîüÊàêÂÖ¨Èí•‰∏éÁßÅÈí•Ôºå‰ª•‰æøÂèëÈÄÅÊ∂àÊÅØÈÄöÁü•Ôºö ÂèëÈÄÅÊé®ÈÄÅÂú®Service Worker‰∏≠ÔºåÈÄöËøáÁõëÂê¨push‰∫ã‰ª∂Êù•Â§ÑÁêÜÊ∂àÊÅØÊé®ÈÄÅÔºö self.addEventListener(&apos;push&apos;, function(event) { consttitle=event.data.text(); constoptions= { body:event.data.text(), icon:&apos;./images/logo/logo512.png&apos;, }; event.waitUntil(self.registration.showNotification(title, options)); }); Âú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂú®push‰∫ã‰ª∂ÂõûË∞É‰∏≠ÔºåÈÄöËøáevent.data.text()ÊãøÂà∞Ê∂àÊÅØÊé®ÈÄÅÁöÑÊñáÊú¨ÔºåÁÑ∂ÂêéË∞ÉÁî®‰∏äÈù¢ÊâÄËØ¥ÁöÑself.registration.showNotificationÊù•Â±ïÁ§∫Ê∂àÊÅØÊé®ÈÄÅ„ÄÇ ÊúçÂä°Á´ØÂèëÈÄÅÈÇ£‰πàÔºåÂ¶Ç‰ΩïÂú®ÊúçÂä°Á´ØËØÜÂà´ÊåáÂÆöÁöÑÁî®Êà∑ÔºåÂêëÂÖ∂ÂèëÈÄÅÂØπÂ∫îÁöÑÊ∂àÊÅØÊé®ÈÄÅÂë¢Ôºü Âú®Ë∞ÉÁî®swReg.pushManager.subscribeÊñπÊ≥ïÂêéÔºåÂ¶ÇÊûúÁî®Êà∑ÊòØÂÖÅËÆ∏Ê∂àÊÅØÊé®ÈÄÅÁöÑÔºåÈÇ£‰πàËØ•ÂáΩÊï∞ËøîÂõûÁöÑPromiseÂ∞Ü‰ºöresolveÔºåÂú®then‰∏≠Ëé∑ÂèñÂà∞ÂØπÂ∫îÁöÑsubscription„ÄÇ subscription‰∏ÄËà¨ÊòØ‰∏ãÈù¢ÁöÑÊ†ºÂºèÔºö { &quot;endpoint&quot;: &quot;https://fcm.googleapis.com/fcm/send/cSEJGmI_x2s:APA91bHzRHllE6tNoEHqjHQSlLpcQHeiGr7X78EIa1QrUPFqDGDM_4RVKNxoLPV3_AaCCejR4uwUawBKYcQLmLpUrCUoZetQ9pVzQCJSomB5BvoFZBzkSnUb-ALm4D1lqwV9w_uP3M0E&quot;, &quot;expirationTime&quot;: null, &quot;keys&quot;: { &quot;p256dh&quot;: &quot;BDOx1ZTtsFL2ncSN17Bu7-Wl_1Z7yIiI-lKhtoJ2dAZMToGz-XtQOe6cuMLMa3I8FoqPfcPy232uAqoISB4Z-UU&quot;, &quot;auth&quot;: &quot;XGWy-wlmrAw3Be818GLZ8Q&quot; } } ‰ΩøÁî®GoogleÈÖçÂ•óÁöÑÂÆûÈ™åÁΩëÁ´ôweb-push-codelabÔºåÂèëÈÄÅÊ∂àÊÅØÊé®ÈÄÅ„ÄÇ web-pushÂú®ÊúçÂä°Á´ØÔºå‰ΩøÁî®web-push-libsÔºåÂÆûÁé∞ÂÖ¨Èí•‰∏éÁßÅÈí•ÁöÑÁîüÊàêÔºåÊ∂àÊÅØÊé®ÈÄÅÂäüËÉΩÔºåNode.jsÁâàÊú¨„ÄÇ constwebpush=require(&apos;web-push&apos;); // VAPID keys should only be generated only once.constvapidKeys=webpush.generateVAPIDKeys(); webpush.setGCMAPIKey(&apos;&lt;Your GCM API Key Here&gt;&apos;); webpush.setVapidDetails( &apos;mailto:example@yourdomain.org&apos;, vapidKeys.publicKey, vapidKeys.privateKey ); // pushSubscriptionÊòØÂâçÁ´ØÈÄöËøáswReg.pushManager.subscribeËé∑ÂèñÂà∞ÁöÑsubscriptionconstpushSubscription= { endpoint:&apos;.....&apos;, keys: { auth:&apos;.....&apos;, p256dh:&apos;.....&apos; } }; webpush.sendNotification(pushSubscription, &apos;Your Push Payload Text&apos;); ‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåGCM API KeyÈúÄË¶ÅÂú®Firebase console‰∏≠Áî≥ËØ∑ÔºåÁî≥ËØ∑ÊïôÁ®ãÂèØÂèÇËÄÉËøôÁØáÂçöÊñá„ÄÇ Âú®Ëøô‰∏™ÊàëÂÜôÁöÑÁ§∫‰æãDemo‰∏≠ÔºåÊàëÊääsubscriptionÂÜôÊ≠ª‰∫ÜÔºö constwebpush=require(&apos;web-push&apos;); webpush.setVapidDetails( &apos;mailto:503908971@qq.com&apos;, &apos;BCx1qqSFCJBRGZzPaFa8AbvjxtuJj9zJie_pXom2HI-gisHUUnlAFzrkb-W1_IisYnTcUXHmc5Ie3F58M1uYhZU&apos;, &apos;g5pubRphHZkMQhvgjdnVvq8_4bs7qmCrlX-zWAJE9u8&apos; ); constsubscription= { &quot;endpoint&quot;:&quot;https://fcm.googleapis.com/fcm/send/cSEJGmI_x2s:APA91bHzRHllE6tNoEHqjHQSlLpcQHeiGr7X78EIa1QrUPFqDGDM_4RVKNxoLPV3_AaCCejR4uwUawBKYcQLmLpUrCUoZetQ9pVzQCJSomB5BvoFZBzkSnUb-ALm4D1lqwV9w_uP3M0E&quot;, &quot;expirationTime&quot;:null, &quot;keys&quot;: { &quot;p256dh&quot;:&quot;BDOx1ZTtsFL2ncSN17Bu7-Wl_1Z7yIiI-lKhtoJ2dAZMToGz-XtQOe6cuMLMa3I8FoqPfcPy232uAqoISB4Z-UU&quot;, &quot;auth&quot;:&quot;XGWy-wlmrAw3Be818GLZ8Q&quot; } }; webpush.sendNotification(subscription, &apos;Counterxing&apos;); ‰∫§‰∫íÂìçÂ∫îÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊé®ÈÄÅÁöÑÊ∂àÊÅØÁÇπÂáªÂêéÊòØÊ≤°ÊúâÂØπÂ∫îÁöÑ‰∫§‰∫íÁöÑÔºåÈÖçÂêàclients APIÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∫õÁ±ª‰ºº‰∫éÂéüÁîüÂ∫îÁî®ÁöÑ‰∫§‰∫íÔºåËøôÈáåÂèÇËÄÉ‰∫ÜËøôÁØáÂçöÊñáÁöÑÂÆûÁé∞Ôºö Service Worker‰∏≠ÁöÑself.clientsÂØπË±°Êèê‰æõ‰∫ÜClientÁöÑËÆøÈóÆÔºåClientÊé•Âè£Ë°®Á§∫‰∏Ä‰∏™ÂèØÊâßË°åÁöÑ‰∏ä‰∏ãÊñáÔºåÂ¶ÇWorkerÊàñSharedWorker„ÄÇWindowÂÆ¢Êà∑Á´ØÁî±Êõ¥ÂÖ∑‰ΩìÁöÑWindowClientË°®Á§∫„ÄÇ ‰Ω†ÂèØ‰ª•‰ªéClients.matchAll()ÂíåClients.get()Á≠âÊñπÊ≥ïËé∑ÂèñClient/WindowClientÂØπË±°„ÄÇ Êñ∞Á™óÂè£ÊâìÂºÄ‰ΩøÁî®clients.openWindowÂú®Êñ∞Á™óÂè£ÊâìÂºÄ‰∏Ä‰∏™ÁΩëÈ°µÔºö self.addEventListener(&apos;notificationclick&apos;, function(event) { event.notification.close(); // Êñ∞Á™óÂè£ÊâìÂºÄevent.waitUntil( clients.openWindow(&apos;https://google.com/&apos;) ); }); ËÅöÁÑ¶Â∑≤ÁªèÊâìÂºÄÁöÑÈ°µÈù¢Âà©Áî®cilentsÊèê‰æõÁöÑÁõ∏ÂÖ≥APIËé∑ÂèñÔºåÂΩìÂâçÊµèËßàÂô®Â∑≤ÁªèÊâìÂºÄÁöÑÈ°µÈù¢URLs„ÄÇ‰∏çËøáËøô‰∫õURLsÂè™ËÉΩÊòØÂíå‰Ω†SWÂêåÂüüÁöÑ„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáÂåπÈÖçURLÔºåÈÄöËøámatchingClient.focus()ËøõË°åËÅöÁÑ¶„ÄÇÊ≤°ÊúâÁöÑËØùÔºåÂàôÊñ∞ÊâìÂºÄÈ°µÈù¢Âç≥ÂèØ„ÄÇ self.addEventListener(&apos;notificationclick&apos;, function(event) { event.notification.close(); consturlToOpen=self.location.origin+&apos;/index.html&apos;; constpromiseChain=clients.matchAll({ type:&apos;window&apos;, includeUncontrolled:true }) .then((windowClients) =&gt; { let matchingClient =null; for (let i =0; i &lt;windowClients.length; i++) { constwindowClient= windowClients[i]; if (windowClient.url=== urlToOpen) { matchingClient = windowClient; break; } } if (matchingClient) { returnmatchingClient.focus(); } else { returnclients.openWindow(urlToOpen); } }); event.waitUntil(promiseChain); }); Ê£ÄÊµãÊòØÂê¶ÈúÄË¶ÅÊé®ÈÄÅÂ¶ÇÊûúÁî®Êà∑Â∑≤ÁªèÂÅúÁïôÂú®ÂΩìÂâçÁöÑÁΩëÈ°µÔºåÈÇ£Êàë‰ª¨ÂèØËÉΩÂ∞±‰∏çÈúÄË¶ÅÊé®ÈÄÅ‰∫ÜÔºåÈÇ£‰πàÈíàÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Â∫îËØ•ÊÄé‰πàÊ£ÄÊµãÁî®Êà∑ÊòØÂê¶Ê≠£Âú®ÁΩëÈ°µ‰∏äÂë¢Ôºü ÈÄöËøáwindowClient.focusedÂèØ‰ª•Ê£ÄÊµãÂà∞ÂΩìÂâçÁöÑClientÊòØÂê¶Â§Ñ‰∫éËÅöÁÑ¶Áä∂ÊÄÅ„ÄÇ self.addEventListener(&apos;push&apos;, function(event) { constpromiseChain=clients.matchAll({ type:&apos;window&apos;, includeUncontrolled:true }) .then((windowClients) =&gt; { let mustShowNotification =true; for (let i =0; i &lt;windowClients.length; i++) { constwindowClient= windowClients[i]; if (windowClient.focused) { mustShowNotification =false; break; } } return mustShowNotification; }) .then((mustShowNotification) =&gt; { if (mustShowNotification) { consttitle=event.data.text(); constoptions= { body:event.data.text(), icon:&apos;./images/logo/logo512.png&apos;, }; returnself.registration.showNotification(title, options); } else { console.log(&apos;Áî®Êà∑Â∑≤ÁªèËÅöÁÑ¶‰∫éÂΩìÂâçÈ°µÈù¢Ôºå‰∏çÈúÄË¶ÅÊé®ÈÄÅ„ÄÇ&apos;); } }); }); ÂêàÂπ∂Ê∂àÊÅØËØ•Âú∫ÊôØÁöÑ‰∏ªË¶ÅÈíàÂØπÊ∂àÊÅØÁöÑÂêàÂπ∂„ÄÇÊØîÂ¶ÇÔºåÂΩìÂè™Êúâ‰∏ÄÊù°Ê∂àÊÅØÊó∂ÔºåÂèØ‰ª•Áõ¥Êé•Êé®ÈÄÅÔºåÈÇ£Â¶ÇÊûúËØ•Áî®Êà∑ÂèàÂèëÈÄÅ‰∏Ä‰∏™Ê∂àÊÅØÂë¢Ôºü ËøôÊó∂ÂÄôÔºåÊØîËæÉÂ•ΩÁöÑÁî®Êà∑‰ΩìÈ™åÊòØÁõ¥Êé•Â∞ÜÊé®ÈÄÅÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÔºåÁÑ∂ÂêéÊõøÊç¢Âç≥ÂèØ„ÄÇ ÈÇ£‰πàÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±ÈúÄË¶ÅËé∑ÂæóÂΩìÂâçÂ∑≤ÁªèÂ±ïÁ§∫ÁöÑÊé®ÈÄÅÊ∂àÊÅØÔºåËøôÈáå‰∏ªË¶ÅÈÄöËøáregistration.getNotifications() APIÊù•ËøõË°åËé∑Âèñ„ÄÇËØ•APIËøîÂõûÁöÑ‰πüÊòØ‰∏Ä‰∏™PromiseÂØπË±°„ÄÇÈÄöËøáPromiseÂú®resolveÂêéÊãøÂà∞ÁöÑnotificationsÔºåÂà§Êñ≠ÂÖ∂lengthÔºåËøõË°åÊ∂àÊÅØÂêàÂπ∂„ÄÇ self.addEventListener(&apos;push&apos;, function(event) { // ... .then((mustShowNotification) =&gt; { if (mustShowNotification) { returnregistration.getNotifications() .then(notifications=&gt; { let options = { icon:&apos;./images/logo/logo512.png&apos;, badge:&apos;./images/logo/logo512.png&apos; }; let title =event.data.text(); if (notifications.length) { options.body=`ÊÇ®Êúâ${notifications.length}Êù°Êñ∞Ê∂àÊÅØ`; } else { options.body=event.data.text(); } returnself.registration.showNotification(title, options); }); } else { console.log(&apos;Áî®Êà∑Â∑≤ÁªèËÅöÁÑ¶‰∫éÂΩìÂâçÈ°µÈù¢Ôºå‰∏çÈúÄË¶ÅÊé®ÈÄÅ„ÄÇ&apos;); } }); // ... }); ÊúçÂä°Á´ØÊé®ÈÄÅÁöÑÂá†ÁßçÊñπÂºèÊúçÂä°Á´ØÊé®ÈÄÅÊòØÁé∞‰ªäWebÂºÄÂèëËøáÁ®ã‰∏≠ÊúÄÂ∏∏ËßÅÁöÑÈúÄÊ±Ç„ÄÇ‰æãÂ¶ÇÔºö Âç≥Êó∂ËÅäÂ§©Â∑•ÂÖ∑ H5ÁΩëÁªúÊ∏∏Êàè Ê∂àÊÅØÈÄöÁü• ‰∏ÄËà¨ÁöÑÊúçÂä°Âô®Êé®ÈÄÅÂåÖÊã¨Ôºö ÊúÄÁÆÄÂçïÁöÑÊòØÂÆ¢Êà∑Á´ØËΩÆËØ¢ÁöÑÊñπÂºèÔºåÂú®ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÊØèÈöî‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂéªËØ∑Ê±ÇÊúçÂä°Á´ØÔºåÊØèÊ¨°ËØ∑Ê±ÇÊ£ÄÊü•Áä∂ÊÄÅÂèòÂåñ‰ª•Âà§Êñ≠ÊúçÂä°Á´ØÊòØÂê¶ÊúâÊñ∞Êï∞ÊçÆÊõ¥Êñ∞„ÄÇ Âü∫‰∫é AJAX ÁöÑÈïøËΩÆËØ¢Ôºàlong-pollingÔºâÊñπÂºèÔºåÊúçÂä°Âô®Âú®‰∏ÄÊÆµÊó∂Èó¥ÂêéÂÜçËøîÂõû‰ø°ÊÅØÔºõ HTTP StreamingÔºåÈÄöËøáiframeÂíå&lt;script&gt;Ê†áÁ≠æÂÆåÊàêÊï∞ÊçÆÁöÑ‰º†ËæìÔºõ TCPÈïøËøûÊé•/WebSocketÔºåÂèØ‰ª•ÂÆûÁé∞ÊúçÂä°Âô®‰∏ªÂä®ÂèëÈÄÅÊï∞ÊçÆËá≥ÁΩëÈ°µÁ´ØÔºåÂÆÉÂíåHTTP‰∏ÄÊ†∑ÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éHTTPÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆÔºåË∑ëÁöÑÊòØTCPÔºåÊâÄ‰ª•Êú¨Ë¥®‰∏äËøòÊòØ‰∏™ÈïøËøûÊé•ÔºåÂèåÂêëÈÄö‰ø°ÔºåÊÑèÂë≥ÁùÄÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÂèØ‰ª•ÂêåÊó∂ÂèëÈÄÅÂπ∂ÂìçÂ∫îËØ∑Ê±ÇÔºåËÄå‰∏çÂÜçÂÉèHTTPÁöÑËØ∑Ê±ÇÂíåÂìçÂ∫î SSE: Server-Sent EventsÔºåËøôÊòØÈÄöËøáhttpÂçèËÆÆÂèòÈÄöÂÆûÁé∞ÁöÑÔºåÈÄöËøáÊúçÂä°Á´ØÂêëÂÆ¢Êà∑Á´ØÂ£∞ÊòéÔºåÊé•‰∏ãÊù•ÊòØË¶ÅÂèëÈÄÅÁöÑÊòØÊµÅ‰ø°ÊÅØÔºåÊú¨Ë¥®‰∏äÂ∞±ÊòØÂÆåÊàê‰∏ÄÊ¨°ËÄóÊó∂ÈïøÁöÑ‰∏ãËΩΩ„ÄÇ Â∞èÁªìÊú¨ÊñáÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåËÆ≤Ëø∞‰∫ÜService Worker‰∏≠Ê∂àÊÅØÊé®ÈÄÅÁöÑÂéüÁêÜ„ÄÇService Worker‰∏≠ÁöÑÊ∂àÊÅØÊé®ÈÄÅÊòØÂü∫‰∫éNotification APIÁöÑÔºåËøô‰∏ÄAPIÁöÑ‰ΩøÁî®È¶ñÂÖàÈúÄË¶ÅÁî®Êà∑ÊéàÊùÉÔºåÈÄöËøáÂú®Service WorkerÊ≥®ÂÜåÊó∂ÁöÑserviceWorkerRegistration.pushManager.subscribeÊñπÊ≥ïÊù•ÂêëÁî®Êà∑Áî≥ËØ∑ÊùÉÈôêÔºåÂ¶ÇÊûúÁî®Êà∑ÊãíÁªù‰∫ÜÊ∂àÊÅØÊé®ÈÄÅÔºåÂ∫îÁî®Á®ãÂ∫è‰πüÈúÄË¶ÅÁõ∏ÂÖ≥Â§ÑÁêÜ„ÄÇ Ê∂àÊÅØÊé®ÈÄÅÊòØÂü∫‰∫éË∞∑Ê≠å‰∫ëÊúçÂä°ÁöÑÔºåÂõ†Ê≠§ÔºåÂú®ÂõΩÂÜÖÔºåÊî∂Âà∞GFWÁöÑÈôêÂà∂ÔºåËøô‰∏ÄÂäüËÉΩÁöÑÊîØÊåÅÂπ∂‰∏çÂ•ΩÔºåGoogleÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÊé®ÈÄÅÁõ∏ÂÖ≥ÁöÑÂ∫ìÔºå‰æãÂ¶ÇNode.js‰∏≠Ôºå‰ΩøÁî®web-pushÊù•ÂÆûÁé∞„ÄÇ‰∏ÄËà¨ÂéüÁêÜÊòØÔºöÂú®ÊúçÂä°Á´ØÁîüÊàêÂÖ¨Èí•ÂíåÁßÅÈí•ÔºåÂπ∂ÈíàÂØπÁî®Êà∑Â∞ÜÂÖ∂ÂÖ¨Èí•ÂíåÁßÅÈí•Â≠òÂÇ®Âà∞ÊúçÂä°Á´ØÔºåÂÆ¢Êà∑Á´ØÂè™Â≠òÂÇ®ÂÖ¨Èí•„ÄÇService WorkerÁöÑswReg.pushManager.subscribeÂèØ‰ª•Ëé∑ÂèñÂà∞subscriptionÔºåÂπ∂ÂèëÈÄÅÁªôÊúçÂä°Á´ØÔºåÊúçÂä°Á´ØÂà©Áî®subscriptionÂêëÊåáÂÆöÁöÑÁî®Êà∑ÂèëËµ∑Ê∂àÊÅØÊé®ÈÄÅ„ÄÇ Ê∂àÊÅØÊé®ÈÄÅÂäüËÉΩÂèØ‰ª•ÈÖçÂêàclients APIÂÅöÁâπÊÆäÂ§ÑÁêÜ„ÄÇ Â¶ÇÊûúÁî®Êà∑ÂÆâË£Ö‰∫ÜPWAÂ∫îÁî®ÔºåÂç≥‰ΩøÁî®Êà∑ÂÖ≥Èó≠‰∫ÜÂ∫îÁî®Á®ãÂ∫èÔºåService Worker‰πüÂú®ËøêË°åÔºåÂç≥‰ΩøÁî®Êà∑Êú™ÊâìÂºÄÂ∫îÁî®Á®ãÂ∫èÔºå‰πü‰ºöÊî∂Âà∞Ê∂àÊÅØÈÄöÁü•„ÄÇ]]></content>
      <tags>
        <tag>Service Worker</tag>
        <tag>PWA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[callÂíåapplyÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØnull/undefinedÊó∂ÂáΩÊï∞ÂÜÖÁöÑÁöÑthisÊåáÂêëwindowÊàñglobal]]></title>
    <url>%2F2017%2F11%2F11%2Fcall%E5%92%8Capply%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E6%98%AFnull-undefined%E6%97%B6%E5%87%BD%E6%95%B0%E5%86%85%E7%9A%84%E7%9A%84this%E6%8C%87%E5%90%91window%E6%88%96global%2F</url>
    <content type="text"><![CDATA[Ë∞ÅËØ¥ JavaScript ÂæàÁÆÄÂçï‰∫ÜÔºüJavaScriptÁ≥ªÂàó‚Äî‚ÄîÊï∞ÁªÑÂÖÉÁ¥†Â∑¶Âè≥ÁßªÂä®N‰ΩçÁÆóÊ≥ïÂÆûÁé∞14Âπ¥ÁöÑÈù¢ËØïÈ¢òÔºåÊÉ≥‰∏çÂà∞‰ªäÂ§©Âú®Áæ§ÈáåÊúâ‰∫∫ËøòÈóÆ‰∫ÜËøô‰∏™ÔºÅcall/applyÁî®Êù•ÊîπÂèòÂáΩÊï∞ÁöÑÊâßË°å‰∏ä‰∏ãÊñáÔºàthisÔºâÔºåÂÆÉ‰ª¨ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞thisArgÊòØ‰∏™ÂØπË±°ÔºåÂç≥‰Ωú‰∏∫ÂáΩÊï∞ÂÜÖÁöÑthis„ÄÇ Â§öÊï∞Êó∂ÂÄô‰Ω†‰º†Âï•ÂáΩÊï∞ÂÜÖÂ∞±ÊòØÂï•„ÄÇ‰ªÖ‰ª•callÁ§∫‰æã function fun() { alert(this); } fun.call(1); fun.call(&apos;a&apos;); fun.call(true); fun.call({name:&apos;jack&apos;}); ÂàÜÂà´ÂºπÂá∫‚Äú1‚Äù„ÄÅ‚Äúa‚Äù„ÄÅ‚Äútrue‚Äù„ÄÅ‚Äú[object Object]‚Äù„ÄÇ Êúâ‰∏§ÁßçÊÉÖÂÜµÈúÄË¶ÅÊ≥®ÊÑèÔºå‰º†nullÊàñundefinedÊó∂ÔºåÂ∞ÜÊòØJSÊâßË°åÁéØÂ¢ÉÁöÑÂÖ®Â±ÄÂèòÈáè„ÄÇÊµèËßàÂô®‰∏≠ÊòØwindowÔºåÂÖ∂ÂÆÉÁéØÂ¢ÉÔºàÂ¶ÇnodeÔºâÂàôÊòØglobal„ÄÇ fun.call(null); // window or global fun.call(undefined); // window or global ËøôÂú®ECMAScript5.1 15.3.4.4‰∏≠ÊúâËß£ÈáäÔºåÂ¶Ç‰∏ã‰∏•Ê†ºÊ®°Âºè‰∏ãÊÉÖÂÜµÂèàÊúâÊâÄ‰∏çÂêåÔºåES3ÊØîËæÉÂÆΩÂÆπÂ∞ΩÈáèÂéªÊè£Êµã‰ª£Á†ÅÊÑèÂõæ„ÄÇES5‰∏•Ê†ºÊ®°ÂºèÔºàie6/7/8/9Èô§Â§ñÔºâÂàô‰∏çÂÜçÊè£ÊµãÔºåÁªôcall/apply‰º†ÂÖ•ÁöÑ‰ªª‰ΩïÂèÇÊï∞‰∏çÂÜçËΩ¨Êç¢„ÄÇÂ¶Ç‰∏ã &apos;use strict&apos; function fun() { alert(this); } fun.call(null) // null fun.call(undefined) // undefined Âá†‰∏™Èù¢ËØïÂ∞èÈ¢òÔºö1.alert(alert(1)&amp;&amp;alert(2)): Á¨¨‰∏Ä‰∏™alertÊâßË°åÊ≤°ËøîÂõûundefined„Äêalert ÊòØÂáΩÊï∞ÔºåalertÔºà1ÔºâÁõ∏ÂΩìË∞ÉÁî®Ôºå‰ΩÜÊ≤°ÊúâËøîÂõûÂÄºÔºåÊâÄ‰ª•ÊòØundefined„ÄëÔºåalertÔºà2Ôºâ Áõ¥Êé•Áü≠Ë∑ØÊéâ„ÄÇ 2.alert(1&amp;&amp;2) &amp;&amp;Á¨¨‰∏Ä‰∏™‰∏∫trueÔºåÊâç‰ºöÊâßË°åÁ¨¨‰∫å‰∏™ÔºåÂ¶ÇÊûúÂÖ®ÈÉ®ÊòØtrueËøîÂõûÊúÄÂêé‰∏Ä‰∏™ÂÄº„ÄÇ 3.Â§öÊ¨°bindÂè™‰øùÁïôÁ¨¨‰∏ÄÊ¨°ÁöÑ„ÄÇ 4.5.6.Ëá™ÂÆö‰πâ‰∫ã‰ª∂ var myEvent = new Event(&apos;myEvent&apos;); document.addEventListener(&apos;myEvent&apos;, log, false); function log() { console.log(&apos;hello event&apos;); } document.dispatchEvent(myEvent); 7.Êï∞ÁªÑÂæ™ÁéØÁßªÂä®ÈúÄÊ±Ç ÂÅáËÆæÊúâËøôÊ†∑‰∏Ä‰∏™Êï∞ÁªÑ [1,2,3,4,5] Áé∞Âú®ÊÉ≥Ë¶ÅÂ∑¶ÁßªÊàñËÄÖÂè≥ÁßªN‰ΩçÔºåÊØîÂ¶ÇÁßªÂä®1‰Ωç //Â∑¶Áßª1‰Ωç [2,3,4,5,1] //Âè≥Áßª1‰Ωç [5,1,2,3,4] ÁÆóÊ≥ïÂÆûÁé∞ ËøôÊ†∑‰∏ÄÈÅìÈ¢òÁõÆÔºå‰Ω†ÂÖà‰∏çË¶ÅÁúãÊàë‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºåËá™Â∑±ÊÄùËÄÉ‰∏Ä‰∏ãÂ¶Ç‰ΩïÂÆûÁé∞ÂÆÉÔºå‰∏çÁÆ°ÊòØÂ§çÊùÇÁöÑËøòÊòØÁÆÄÂçïÁöÑÊñπÊ≥ï„ÄÇÂèØ‰ª•ÂÖàÂëäËØâ‰Ω†ÊàëÁî®‰∫Ü2Ë°å‰ª£Á†ÅÂÆûÁé∞Â∑¶„ÄÅÂè≥ÁßªÂä®ÂÖÉÁ¥†„ÄÇ ÊãÜÂàÜÊ≥ï ÂΩìÊàë‰ª¨Ê≤°ÊúâÂÖ∑‰ΩìÊÄùË∑ØÁöÑÊó∂ÂÄôÔºåÂ∞±ÂÖàÂÅáËÆæÊï∞ÁªÑÁßªÂä®1‰ΩçÁöÑÊÉÖÂÜµ„ÄÇ [1,2,3,4,5] =&gt; [null,1,2,3,4] and [5,null,null,null,null] =&gt; [5,1,2,3,4] ËøôÈáåÂèØ‰ª•ÁúãÊàê2‰∏™Êï∞ÁªÑÔºå‰∏Ä‰∏™ÊòØÊ≤°ÊúâÂà∞ËææËæπÁïåÁöÑÂÖÉÁ¥†ÁßªÂä®[null,1,2,3,4]Ôºå‰∏Ä‰∏™ÊòØÂà∞Ëææ‰∫ÜËæπÁïåÁöÑÂÖÉÁ¥†ÁßªÂä®[5,null,null,null,null]ÔºåÂΩìÂÖÉÁ¥†Âà∞ËææËæπÁïåÔºåÂ∞±‰ºöÂæÄÊï∞ÁªÑÁöÑÂàùÂßã‰ΩçÁΩÆÁßªÂä®ÔºåÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Âæ™ÁéØÁöÑËøáÁ®ã„ÄÇ ÂæàÊòéÊòæÔºåÂ¶ÇÊûúÊàë‰ª¨Â∞ÜËøô2‰∏™ÁßªÂä®ÂêéÁöÑÊï∞ÁªÑÂêàÂπ∂Ëµ∑Êù•ÔºåÂ∞±ÊòØÈúÄÊ±ÇÁöÑÁªìÊûú„ÄÇ ÁßªÂä®2‰Ωç ÂêåÊ†∑Á¨¶Âêà2‰∏™ÁßªÂä®ÂêéÁöÑÊï∞ÁªÑÂêàÂπ∂Ëµ∑Êù•‰∏∫ÁªìÊûúÁöÑÊÉÖÂÜµ [1,2,3,4,5] =&gt; [null,null,1,2,3] and [4,5,null,null,null] =&gt; [4,5,1,2,3] ÂàöÂ•ΩÁßªÂä®Êï∞ÁªÑÈïøÂ∫¶ [1,2,3,4,5] =&gt; [1,2,3,4,5] and [] //Â¶ÇÊûúÊ≤°ÊúâÔºåÂ∞±ÂÅáËÆæ‰∏∫Á©∫Êï∞ÁªÑ ÂêàÂπ∂Êï∞ÁªÑ ÂÅáËÆæÁßªÂä®1‰ΩçÁöÑÊÉÖÂÜµ‰∏äÈù¢ÁöÑÊ≠•È™§ÔºåÊàë‰ª¨ÊâæÂà∞‰∫ÜËßÑÂæãÔºåÊé•‰∏ãÊù•Ë¶ÅÂÅöÁöÑÊòØÊâæÂà∞2‰∏™Êï∞ÁªÑÔºåÈúÄË¶ÅÁî®Âà∞sliceÊà™ÂèñÊï∞ÁªÑÂÖÉÁ¥†„ÄÇÊà™ÂèñÁ¨¨‰∏Ä‰∏™Êï∞ÁªÑ arr.slice(0,-1) // [1,2,3,4] Êà™ÂèñÁ¨¨‰∫å‰∏™Êï∞ÁªÑ arr.slice(-1) // [5] ÂêàÂπ∂Êï∞ÁªÑ arr.slice(-1).concat(arr.slice(0,-1)) // [5,1,2,3,4] ËøôÊ†∑‰Ω†Â∞±ÂÆûÁé∞‰∫ÜÁßªÂä®1‰ΩçÁöÑÊÉÖÂÜµÔºåÊé•ÁùÄÔºå‰Ω†ÁªßÁª≠Êãø+5Âíå-5ËåÉÂõ¥ÂÜÖÁöÑÊï∞Â≠óËøõË°åÊµãËØïÔºåÂèëÁé∞ÈÉΩÂèØ‰ª•Ê≠£Â∏∏ÁßªÂä®ÔºåÂΩìÊï∞Â≠óÂ§ß‰∫é5ÊàñËÄÖÂ∞è‰∫é-5ÁöÑÊó∂ÂÄôÔºå‰ª£Á†ÅÂ∞±Êó†Êïà‰∫ÜÔºåÂßãÁªàËæìÂá∫[1,2,3,4,5] arr.slice(-6).concat(arr.slice(0,-6)) // [1,2,3,4,5] Êàë‰ª¨ÂÜçÂä†‰∏ä‰∏Ä‰∏™Â∞èÊäÄÂ∑ßÔºåÊ±Ç‰ΩôÊï∞ÔºåÂÅáËÆæÊòØÁßªÂä®6ÔºåÈÇ£‰πàÔºåÂÆûÈôÖ‰∏äÂíåÁßªÂä®1ÊòØÁõ∏ÂêåÁöÑÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Ê†πÊçÆÂÖ¨ÂºèÊ±Ç‰ΩôÊï∞ n = n%arr.length // n = 6%5 ‰Ωô1 ÂêåÁêÜÔºåÂΩìÁßªÂä®-6Êó∂ n = n%arr.length // n = -6%5 ‰Ωô-1 Êé•ÁùÄÂ∏¶ÂÖ•ÂÖ¨ÂºèÔºåÂèëÁé∞ËæìÂá∫ÂÖ®ÈÉ®ÈÉΩÊ≠£Á°Æ‰∫ÜÔºÅÔºÅ ÊÄùË∑ØÂàÜÊûêÂÆå‰∫ÜÔºåÂ∫îËØ•ÂæàÊ∏ÖÊô∞‰∫ÜÂêßÔºåÊ∫êÁ†ÅÂú®‰∏ãÈù¢„ÄÅ ÁÆóÊ≥ïÊ∫êÁ†Å arrË°®Á§∫ÂéüÂßãÊï∞ÁªÑÔºånË°®Á§∫ÁßªÂä®ÁöÑË∑ùÁ¶ªÔºåÂèØ‰ª•ÊòØÊ≠£Êï∞„ÄÅÂèØ‰ª•ÊòØ0„ÄÅ‰πüÂèØ‰ª•ÊòØË¥üÊï∞„ÄÅÊ≠£Êï∞Ë°®Á§∫Âè≥ÁßªÔºåË¥üÊï∞Ë°®Á§∫Â∑¶ÁßªÔºå0Ë°®Á§∫‰∏çÁßªÂä®„ÄÇ function moveElement(arr, n) { if(Math.abs(n)&gt;arr.length) n = n%arr.length return arr.slice(-n).concat(arr.slice(0,-n)) } // moveElement(arr, 9) // moveElement(arr, 0) // moveElement(arr, -9)]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[H5Â¶Ç‰ΩïÂî§Ëµ∑APP]]></title>
    <url>%2F2017%2F11%2F04%2FH5%E5%A6%82%E4%BD%95%E5%94%A4%E8%B5%B7APP%2F</url>
    <content type="text"><![CDATA[Ââç‰∏ÄÊÆµÊó∂Èó¥Âú®ÂÅöÁîµÊµÅApp H5È°µÈù¢ÔºåÈúÄÊ±Ç‰∏≠ËêΩÂú∞È°µÂç†ÊØîËæÉÂ§ßÔºåËêΩÂú∞È°µÊâøÊãÖÁöÑËÅåË¥£Â∞±ÊòØÂºïÊµÅ„ÄÇÂºïÊµÅÊúâ‰∏§ÁßçÂΩ¢ÂºèÔºåÂêåÊó∂‰πüÊòØÊàë‰ª¨ÂØπÂî§Á´ØÁöÑÂÆö‰πâÔºöÂºïÂØºÂ∑≤‰∏ãËΩΩÁî®Êà∑ÊâìÂºÄAPPÔºåÂºïÂØºÊú™‰∏ãËΩΩÁî®Êà∑‰∏ãËΩΩAPP„ÄÇ ÂºïÂØºÂ∑≤‰∏ãËΩΩÁî®Êà∑ÊâìÂºÄAPPÔºå‰ªéÊï∞ÊçÆ‰∏äËØ¥Áî®Êà∑ÂÅúÁïôÂú®APP‰∏≠ÁöÑÊó∂Èó¥Êõ¥Â§ö‰∫ÜÔºåÊòØÂú®ÊèêÈ´òÁî®Êà∑Á≤òÊÄßÔºõ‰ªé‰ΩìÈ™å‰∏äËØ¥ÔºåAPP‰ΩìÈ™åÊòØË¶ÅÊØîH5Â•ΩÁöÑ„ÄÇÂºïÂØºÊú™‰∏ãËΩΩÁî®Êà∑‰∏ãËΩΩAPPÔºåÂèØ‰ª•Â¢ûÂä†Êàë‰ª¨ÁöÑÁî®Êà∑Èáè„ÄÇ ‰∏äÈù¢ÂÖ∂ÂÆûÂàÜÂà´Ëß£Èáä‰∫Ü ‰ªÄ‰πàÊòØÂî§Á´Ø ‰ª•Âèä ‰∏∫‰ªÄ‰πàË¶ÅÂî§Á´ØÔºå‰πüÂ∞±ÊòØ 3WÊ≥ïÂàô ‰∏≠ÁöÑ What Âíå WhyÔºåÈÇ£‰πàÊé•‰∏ãÊù•Êàë‰ª¨Â∞±Ë¶ÅËÅä‰∏ÄËÅä How ‰∫ÜÔºå‰πüÂ∞±ÊòØ Â¶Ç‰ΩïÂî§Á´Ø „ÄÇ Êàë‰ª¨ÂÖàÊù•ÁúãÁúãÂ∏∏ËßÅÁöÑÂî§Á´ØÊñπÂºè‰ª•Âèä‰ªñ‰ª¨ÈÄÇÁî®ÁöÑÂú∫ÊôØÔºö Âî§Á´ØÂ™í‰ªãURL SchemeÊù•Ê∫êÊàë‰ª¨ÁöÑÊâãÊú∫‰∏äÊúâËÆ∏Â§öÁßÅÂØÜ‰ø°ÊÅØÔºåËÅîÁ≥ªÊñπÂºè„ÄÅÁÖßÁâá„ÄÅÈì∂Ë°åÂç°‰ø°ÊÅØ‚Ä¶Êàë‰ª¨‰∏çÂ∏åÊúõËøô‰∫õ‰ø°ÊÅØÂèØ‰ª•Ë¢´ÊâãÊú∫Â∫îÁî®ÈöèÊÑèËé∑ÂèñÂà∞Ôºå‰ø°ÊÅØÊ≥ÑÈú≤ÁöÑÂç±ÂÆ≥ÁîöÂ§ß„ÄÇÊâÄ‰ª•ÔºåÂ¶Ç‰Ωï‰øùËØÅ‰∏™‰∫∫‰ø°ÊÅØÂú®ËÆæÂ§áÊâÄÊúâËÄÖÁü•ÊÉÖÂπ∂ÂÖÅËÆ∏ÁöÑÊÉÖÂÜµ‰∏ãË¢´‰ΩøÁî®ÔºåÊòØÊô∫ËÉΩËÆæÂ§áÁöÑÊ†∏ÂøÉÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ ÂØπÊ≠§ÔºåËãπÊûú‰ΩøÁî®‰∫ÜÂêç‰∏∫ Ê≤ôÁõí ÁöÑÊú∫Âà∂ÔºöÂ∫îÁî®Âè™ËÉΩËÆøÈóÆÂÆÉÂ£∞ÊòéÂèØËÉΩËÆøÈóÆÁöÑËµÑÊ∫ê„ÄÇ‰ΩÜÊ≤ôÁõí‰πüÈòªÁ¢ç‰∫ÜÂ∫îÁî®Èó¥ÂêàÁêÜÁöÑ‰ø°ÊÅØÂÖ±‰∫´ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏äÈôêÂà∂‰∫ÜÂ∫îÁî®ÁöÑËÉΩÂäõ„ÄÇ Âõ†Ê≠§ÔºåÊàë‰ª¨ÊÄ•ÈúÄË¶Å‰∏Ä‰∏™ËæÖÂä©Â∑•ÂÖ∑Êù•Â∏ÆÂä©Êàë‰ª¨ÂÆûÁé∞Â∫îÁî®ÈÄö‰ø°Ôºå URL Scheme Â∞±ÊòØËøô‰∏™Â∑•ÂÖ∑„ÄÇ URL Scheme ÊòØ‰ªÄ‰πàÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ã URL ÁöÑÁªÑÊàêÔºö [scheme:][//authority][path][?query][#fragment] Êàë‰ª¨Êãø https://www.baidu.com Êù•‰∏æ‰æãÔºåscheme Ëá™ÁÑ∂Â∞±ÊòØ https ‰∫Ü„ÄÇ Â∞±ÂÉèÁªôÊúçÂä°Âô®ËµÑÊ∫êÂàÜÈÖç‰∏Ä‰∏™ URLÔºå‰ª•‰æøÊàë‰ª¨ÂéªËÆøÈóÆÂÆÉ‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÂêåÊ†∑‰πüÂèØ‰ª•ÁªôÊâãÊú∫APPÂàÜÈÖç‰∏Ä‰∏™ÁâπÊÆäÊ†ºÂºèÁöÑ URLÔºåÁî®Êù•ËÆøÈóÆËøô‰∏™APPÊàñËÄÖËøô‰∏™APP‰∏≠ÁöÑÊüê‰∏™ÂäüËÉΩ(Êù•ÂÆûÁé∞ÈÄö‰ø°)„ÄÇAPPÂæóÊúâ‰∏Ä‰∏™Ê†áËØÜÔºåÂ•ΩËÆ©Êàë‰ª¨ÂèØ‰ª•ÂÆö‰ΩçÂà∞ÂÆÉÔºåÂÆÉÂ∞±ÊòØ URL ÁöÑ Scheme ÈÉ®ÂàÜ„ÄÇ Â∏∏Áî®APPÁöÑ URL Scheme APP ÂæÆ‰ø° ÊîØ‰ªòÂÆù Ê∑òÂÆù ÂæÆÂçö QQ URL Scheme weixin:// alipay:// taobao:// sinaweibo:// mqq:// URL Scheme ËØ≠Ê≥ï‰∏äÈù¢Ë°®Ê†º‰∏≠ÈÉΩÊòØÊúÄÁÆÄÂçïÁöÑÁî®‰∫éÊâìÂºÄ APP ÁöÑ URL SchemeÔºå‰∏ãÈù¢ÊâçÊòØÊàë‰ª¨Â∏∏Áî®ÁöÑ URL Scheme Ê†ºÂºèÔºö Ë°å‰∏∫(Â∫îÁî®ÁöÑÊüê‰∏™ÂäüËÉΩ) | scheme://[path][?query] | | Â∫îÁî®Ê†áËØÜ ÂäüËÉΩÈúÄË¶ÅÁöÑÂèÇÊï∞ IntentÂÆâÂçìÁöÑÂéüÁîüË∞∑Ê≠åÊµèËßàÂô®Ëá™‰ªé chrome25 ÁâàÊú¨ÂºÄÂßãÂØπ‰∫éÂî§Á´ØÂäüËÉΩÂÅö‰∫Ü‰∏Ä‰∫õÂèòÂåñÔºåURL Scheme Êó†Ê≥ïÂÜçÂêØÂä®AndroidÂ∫îÁî®„ÄÇ ‰æãÂ¶ÇÔºåÈÄöËøá iframe ÊåáÂêë weixin://ÔºåÂç≥‰ΩøÁî®Êà∑ÂÆâË£Ö‰∫ÜÂæÆ‰ø°‰πüÊó†Ê≥ïÊâìÂºÄ„ÄÇÊâÄ‰ª•ÔºåAPPÈúÄË¶ÅÂÆûÁé∞Ë∞∑Ê≠åÂÆòÊñπÊèê‰æõÁöÑ intent: ËØ≠Ê≥ïÔºåÊàñËÄÖÂÆûÁé∞ËÆ©Áî®Êà∑ÈÄöËøáËá™ÂÆö‰πâÊâãÂäøÊù•ÊâìÂºÄAPPÔºåÂΩìÁÑ∂ËøôÂ∞±ÊòØÈ¢òÂ§ñËØù‰∫Ü„ÄÇ Intent ËØ≠Ê≥ïintent: HOST/URI-path // Optional host #Intent; package=[string]; action=[string]; category=[string]; component=[string]; scheme=[string]; end; Â¶ÇÊûúÁî®Êà∑Êú™ÂÆâË£Ö APPÔºåÂàô‰ºöË∑≥ËΩ¨Âà∞Á≥ªÁªüÈªòËÆ§ÂïÜÂ∫ó„ÄÇÂΩìÁÑ∂ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÊåáÂÆö‰∏Ä‰∏™Âî§Ëµ∑Â§±Ë¥•ÁöÑË∑≥ËΩ¨Âú∞ÂùÄÔºåÊ∑ªÂä†‰∏ãÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤Âú® end; ÂâçÂ∞±ÂèØ‰ª•‰∫Ü: S.browser_fallback_url=[encoded_full_url] Á§∫‰æã‰∏ãÈù¢ÊòØÊâìÂºÄ Zxing ‰∫åÁª¥Á†ÅÊâ´Êèè APP ÁöÑ intent„ÄÇ intent: //scan/ #Intent; package=com.google.zxing.client.android; scheme=zxing; end; ÊâìÂºÄËøô‰∏™ APP ÔºåÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÁöÑÊñπÂºèÔºö &lt;ahref=&quot;intent://scan/#Intent;scheme=zxing;package=com.google.zxing.client.android;S.browser_fallback_url=http%3A%2F%2Fzxing.org;end&quot;&gt; Take a QR code &lt;/a&gt; Universal LinkUniversal Link ÊòØ‰ªÄ‰πàUniversal Link ÊòØËãπÊûúÂú® WWDC2015 ‰∏ä‰∏∫ iOS9 ÂºïÂÖ•ÁöÑÊñ∞ÂäüËÉΩÔºåÈÄöËøá‰º†ÁªüÁöÑ HTTP ÈìæÊé•Âç≥ÂèØÊâìÂºÄ APP„ÄÇÂ¶ÇÊûúÁî®Êà∑Êú™ÂÆâË£Ö APPÔºåÂàô‰ºöË∑≥ËΩ¨Âà∞ËØ•ÈìæÊé•ÊâÄÂØπÂ∫îÁöÑÈ°µÈù¢„ÄÇ ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî® Universal Link‰º†ÁªüÁöÑ Scheme ÈìæÊé•Êúâ‰ª•‰∏ãÂá†‰∏™ÁóõÁÇπÔºö Âú® ios ‰∏ä‰ºöÊúâÁ°ÆËÆ§ÂºπÁ™óÊèêÁ§∫Áî®Êà∑ÊòØÂê¶ÊâìÂºÄÔºåÂØπ‰∫éÁî®Êà∑Êù•ËØ¥Âî§Á´ØÔºåÂ§öÂá∫‰∫Ü‰∏ÄÊ≠•Êìç‰Ωú„ÄÇËã•Áî®Êà∑Êú™ÂÆâË£Ö APP Ôºå‰πü‰ºöÊúâ‰∏Ä‰∏™ÊèêÁ§∫Á™óÔºåÂëäÁü•Êàë‰ª¨ ‚ÄúÊâì‰∏çÂºÄËØ•ÁΩëÈ°µÔºåÂõ†‰∏∫ÁΩëÂùÄÊó†Êïà‚Äù ‰º†Áªü Scheme Ë∑≥ËΩ¨Êó†Ê≥ïÂæóÁü•Âî§Á´ØÊòØÂê¶ÊàêÂäüÔºåUniversal Link Âî§Á´ØÂ§±Ë¥•ÂèØ‰ª•Áõ¥Êé•ÊâìÂºÄÊ≠§ÈìæÊé•ÂØπÂ∫îÁöÑÈ°µÈù¢ Scheme Âú®ÂæÆ‰ø°„ÄÅÂæÆÂçö„ÄÅQQÊµèËßàÂô®„ÄÅÊâãÁôæ‰∏≠ÈÉΩÂ∑≤ÁªèË¢´Á¶ÅÊ≠¢‰ΩøÁî®Ôºå‰ΩøÁî® Universal Link ÂèØ‰ª•ÈÅøÂºÄÂÆÉ‰ª¨ÁöÑÂ±èËîΩÔºà Êà™Ê≠¢Âà∞ 18Âπ¥8Êúà21Êó•ÔºåÂæÆ‰ø°ÂíåQQÊµèËßàÂô®Â∑≤ÁªèÁ¶ÅÊ≠¢‰∫Ü Universal LinkÔºåÂÖ∂‰ªñ‰∏ªÊµÅAPPÊú™ÂèëÁé∞ÊúâÁ¶ÅÊ≠¢ Ôºâ Â¶Ç‰ΩïËÆ© APP ÊîØÊåÅ Universal LinkÊúâÂ§ßÈáèÁöÑÊñáÁ´†‰ºöËØ¶ÁªÜÁöÑÂëäËØâÊàë‰ª¨Â¶Ç‰ΩïÈÖçÁΩÆÔºå‰Ω†‰πüÂèØ‰ª•ÂéªÁúãÂÆòÊñπÊñáÊ°£ÔºåÊàëËøôÈáåÁÆÄÂçïÁöÑÂÜô‰∏Ä‰∏™12345„ÄÇ Êã•Êúâ‰∏Ä‰∏™ÊîØÊåÅ https ÁöÑÂüüÂêç Âú® ÂºÄÂèëËÄÖ‰∏≠ÂøÉ ÔºåIdentifiers ‰∏ã AppIDs ÊâæÂà∞Ëá™Â∑±ÁöÑ App IDÔºåÁºñËæëÊâìÂºÄ Associated Domains ÊúçÂä°„ÄÇ ÊâìÂºÄÂ∑•Á®ãÈÖçÁΩÆ‰∏≠ÁöÑ Associated Domains ÔºåÂú®ÂÖ∂‰∏≠ÁöÑ Domains ‰∏≠Â°´ÂÖ•‰Ω†ÊÉ≥ÊîØÊåÅÁöÑÂüüÂêçÔºåÂøÖÈ°ª‰ª• applinks: ‰∏∫ÂâçÁºÄ ÈÖçÁΩÆ apple-app-site-association Êñá‰ª∂ÔºåÊñá‰ª∂ÂêçÂøÖÈ°ª‰∏∫ apple-app-site-association Ôºå‰∏çÂ∏¶‰ªª‰ΩïÂêéÁºÄ ‰∏ä‰º†ËØ•Êñá‰ª∂Âà∞‰Ω†ÁöÑ HTTPS ÊúçÂä°Âô®ÁöÑ Ê†πÁõÆÂΩï ÊàñËÄÖ .well-known ÁõÆÂΩï‰∏ã Universal Link ÈÖçÁΩÆ‰∏≠ÁöÑÂùëËøôÈáåÊîæ‰∏Ä‰∏ãÊàë‰ª¨Âú®ÈÖçÁΩÆËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂùëÔºåÂΩìÁÑ∂È¶ñÂÖà‰Ω†Âú®ÈÖçÁΩÆËøáÁ®ã‰∏≠ÂøÖÈ°ªÂæó‰∏•Ê†ºÊåâÁÖß‰∏äÈù¢ÁöÑË¶ÅÊ±ÇÂéªÂÅöÔºåÂ∞§ÂÖ∂ÊòØÂä†Á≤óÁöÑÂú∞Êñπ„ÄÇ ÂüüÂêçÈóÆÈ¢ò Universal Link ÊîØÊåÅÁöÑÂüüÂêçÊúÄÂ§öÂè™ËÉΩÊîØÊåÅÂà∞‰∫åÁ∫ßÂüüÂêçÔºåÂ¶ÇÊûú‰Ω†Áî®Âà∞‰∫Ü‰∏âÁ∫ßÂüüÂêçÔºåUniversal Link Âî§Á´ØÊòØ‰∏ç‰ºöÁîüÊïàÁöÑ„ÄÇ Ë∑®ÂüüÈóÆÈ¢ò IOS 9.2 ‰ª•ÂêéÔºåÂøÖÈ°ªË¶ÅËß¶ÂèëË∑®ÂüüÊâçËÉΩÊîØÊåÅ Universal Link Âî§Á´Ø„ÄÇ IOS ÈÇ£ËæπÊúâËøôÊ†∑‰∏Ä‰∏™Âà§Êñ≠ÔºåÂ¶ÇÊûú‰Ω†Ë¶ÅÊâìÂºÄÁöÑ Universal Link Âíå ÂΩìÂâçÈ°µÈù¢ÊòØÂêå‰∏ÄÂüüÂêçÔºåios Â∞äÈáçÁî®Êà∑ÊúÄÂèØËÉΩÁöÑÊÑèÂõæÔºåÁõ¥Êé•ÊâìÂºÄÈìæÊé•ÊâÄÂØπÂ∫îÁöÑÈ°µÈù¢„ÄÇÂ¶ÇÊûú‰∏çÂú®Âêå‰∏ÄÂüüÂêç‰∏ãÔºåÂàôÂú®‰Ω†ÁöÑ APP ‰∏≠ÊâìÂºÄÈìæÊé•Ôºå‰πüÂ∞±ÊòØÊâßË°åÂÖ∑‰ΩìÁöÑÂî§Á´ØÊìç‰Ωú„ÄÇ Universal Link ÊòØÁ©∫È°µÈù¢ Universal Link Êú¨Ë¥®‰∏äÊòØ‰∏™Á©∫È°µÈù¢ÔºåÂ¶ÇÊûúÊú™ÂÆâË£Ö APPÔºåUniversal Link Ë¢´ÂΩìÂÅöÊôÆÈÄöÁöÑÈ°µÈù¢ÈìæÊé•ÔºåËá™ÁÑ∂‰ºöË∑≥Âà∞ 404 È°µÈù¢ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆÉÁªëÂÆöÂà∞Êàë‰ª¨ÁöÑ‰∏≠ËΩ¨È°µÊàñËÄÖ‰∏ãËΩΩÈ°µ„ÄÇ Â¶Ç‰ΩïË∞ÉÁî®‰∏âÁßçÂî§Á´ØÂ™í‰ªãÈÄöËøáÂâçÈù¢ÁöÑ‰ªãÁªçÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÔºåÊó†ËÆ∫ÊòØ URL Scheme ËøòÊòØ Intent ÊàñËÄÖ Universal Link Ôºå‰ªñ‰ª¨ÈÉΩÁÆóÊòØ URL ÔºåÂè™ÊòØ URL Scheme Âíå Intent ÁÆóÊòØÁâπÊÆäÁöÑ URL„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Êãø‰ΩøÁî® URL ÁöÑÊñπÊ≥ïÊù•‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ iframe&lt;iframesrc=&quot;sinaweibo://qrcode&quot;&gt; Âú®Âè™Êúâ URL Scheme ÁöÑÊó•Â≠êÈáåÔºåiframe ÊòØ‰ΩøÁî®ÊúÄÂ§öÁöÑ‰∫Ü„ÄÇÂõ†‰∏∫Âú®Êú™ÂÆâË£Ö app ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ç‰ºöÂéªË∑≥ËΩ¨ÈîôËØØÈ°µÈù¢„ÄÇ‰ΩÜÊòØ iframe Âú®ÂêÑ‰∏™Á≥ªÁªü‰ª•ÂèäÂêÑ‰∏™Â∫îÁî®‰∏≠ÁöÑÂÖºÂÆπÈóÆÈ¢òËøòÊòØÊå∫Â§öÁöÑÔºå‰∏çËÉΩÂÖ®ÈÉ®‰ΩøÁî® URL Scheme„ÄÇ a Ê†áÁ≠æ&lt;ahref=&quot;intent://scan/#Intent;scheme=zxing;package=com.google.zxing.client.android;end&quot;&quot;&gt;Êâ´‰∏ÄÊâ´&lt;/a&gt; ÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ Intent ÂçèËÆÆÔºåÂÆòÊñπÁªôÂá∫ÁöÑÁî®‰æã‰ΩøÁî®ÁöÑÂ∞±ÊòØ‰ΩøÁî®ÁöÑ a Ê†áÁ≠æÔºåÊâÄ‰ª•Êàë‰ª¨Ë∑üÁùÄ‰∏ÄËµ∑Áî®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÂØπ‰∫éÂä®ÊÄÅÁîüÊàêÁöÑ a Ê†áÁ≠æÔºå‰ΩøÁî® dispatch Êù•Ê®°ÊãüËß¶ÂèëÁÇπÂáª‰∫ã‰ª∂ÔºåÂèëÁé∞ÂæàÂ§öÁßç event ‰º†ÈÄíËøáÂéªÈÉΩÊó†ÊïàÔºõ‰ΩøÁî® click() Êù•Ê®°ÊãüËß¶ÂèëÔºåÈÉ®ÂàÜÂú∫ÊôØ‰∏ãÂ≠òÂú®ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåÁ¨¨‰∏ÄÊ¨°ÁÇπÂáªËøáÂêéÔºåÂõûÂà∞ÂéüÂÖàÈ°µÈù¢ÔºåÂÜçÊ¨°ÁÇπÂáªÔºåÁÇπÂáª‰ΩçÁΩÆÂíåÈ°µÈù¢ÊâÄËØÜÂà´‰ΩçÁΩÆÊúâ‰∏çÂ∞èÁöÑÂÅèÁßªÔºåÊâÄ‰ª• Intent ÂçèËÆÆ‰ªé a Ê†áÁ≠æÊç¢Êàê‰∫Ü window.location„ÄÇ window.locationURL Scheme Âú® ios 9+ ‰∏äËØ∏Â¶Ç safari„ÄÅUC„ÄÅQQÊµèËßàÂô®‰∏≠Ôºå iframe ÂùáÊó†Ê≥ïÊàêÂäüÂî§Ëµ∑ APPÔºåÂè™ËÉΩÈÄöËøá window.location ÊâçËÉΩÊàêÂäüÂî§Á´Ø„ÄÇ ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑ app ÊîØÊåÅ Universal LinkÔºåios 9+ Â∞±Áî®‰∏çÂà∞ URL Scheme ‰∫Ü„ÄÇËÄå Universal Link Âú®‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊàëÂèëÁé∞Âú® qq ‰∏≠ÔºåÊó†ËÆ∫ÊòØ iframe ÂØºËà™ ËøòÊòØ a Ê†áÁ≠æÊâìÂºÄ ÂèàÊàñËÄÖ window.location ÈÉΩÊó†Ê≥ïÊàêÂäüÂî§Á´ØÔºå‰∏ÄÂºÄÂßãÊàë‰ª•‰∏∫ÊòØ qq ÂíåÂæÆ‰ø°‰∏ÄÊ†∑Á¶ÅÊ≠¢‰∫Ü Universal Link Âî§Á´ØÁöÑÂäüËÉΩÔºåÂÖ∂ÂÆû‰∏çÁÑ∂ÔºåÁôæËà¨ËØïÈ™å‰∏ãÔºåÈÄöËøá top.location Âî§Á´ØÊàêÂäü‰∫Ü„ÄÇ Âà§Êñ≠Âî§Á´ØÊòØÂê¶ÊàêÂäüÂ¶ÇÊûúÂî§Á´ØÂ§±Ë¥•ÔºàAPP Êú™ÂÆâË£ÖÔºâÔºåÊàë‰ª¨ÊÄªÊòØË¶ÅÂÅö‰∏Ä‰∫õÂ§ÑÁêÜÁöÑÔºåÂèØ‰ª•ÊòØË∑≥ËΩ¨‰∏ãËΩΩÈ°µÔºåÂèØ‰ª•ÊòØ ios ‰∏ãË∑≥ËΩ¨ App Store‚Ä¶ ‰ΩÜÊòØJs Âπ∂‰∏çËÉΩÊèê‰æõÁªôÊàë‰ª¨Ëé∑Âèñ APP Âî§Ëµ∑Áä∂ÊÄÅÁöÑËÉΩÂäõÔºåAndroid Intent ‰ª•Âèä Universal Link ÂÄíÊòØ‰∏çÁî®ÊãÖÂøÉÔºåÂÆÉ‰ª¨‰ø©ÁöÑËá™Ë∫´Êú∫Âà∂ÂÖÅËÆ∏ÂÆÉ‰ª¨Âî§Á´ØÂ§±Ë¥•ÂêéÁõ¥Êé•ÂØºËà™Ëá≥Áõ∏Â∫îÁöÑÈ°µÈù¢Ôºå‰ΩÜÊòØ URL Scheme Âπ∂‰∏çÂÖ∑Â§áËøôÊ†∑ÁöÑËÉΩÂäõÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩÈÄöËøá‰∏Ä‰∫õÂæà hack ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ APP Âî§Ëµ∑Ê£ÄÊµãÂäüËÉΩ„ÄÇ const initialTime = newDate(); let counter = 0; let waitTime = 0; const checkOpen = setInterval(() =&gt; { count++; waitTime = newDate() - initialTime; if (waitTime &gt; 2500) { clearInterval(checkOpen); cb(); } if (counter &lt; 100) return; clearInterval(checkOpen); const hide = document.hidden || document.webkitHidden; if (!hide) { cb(); // Âî§Á´ØÂ§±Ë¥•ÁöÑÂõûË∞ÉÂáΩÊï∞ } }, 20); APP Â¶ÇÊûúË¢´Âî§Ëµ∑ÁöÑËØùÔºåÈ°µÈù¢Â∞±‰ºöËøõÂÖ•ÂêéÂè∞ËøêË°åÔºåsetInterval Âú® ios ‰∏≠‰∏ç‰ºöÂÅúÊ≠¢ËøêË°åÔºåÂú® android ‰∏≠ÂÅúÊ≠¢ËøêË°å„ÄÇ ÊØè 20ms ÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°å 100Ê¨° Âú®È°µÈù¢‰∏≠ÂÆûÈôÖËÄóË¥π‰∏é 2000 ms ‰∏ç‰ºöÁõ∏Â∑ÆÂ§öÂ∞ë„ÄÇ Êàë‰ª¨ÁöÑÂà§Êñ≠Êù°‰ª∂ÊØîÈ¢ÑÊúüÊó∂Èó¥Â§öËÆæÁΩÆ‰∫Ü 500msÔºåÊâÄ‰ª•Â¶ÇÊûúÂÆâÂçì‰∏≠ setInterval ÂÜÖÁöÑÂáΩÊï∞ÊâßË°å 100 Ê¨°‰ª•ÂÜÖÊâÄË¥πÊó∂Èó¥Ë∂ÖËøá 2500msÔºåÂàôËØ¥Êòé APP Âî§Ëµ∑ÊàêÂäüÔºåÂèç‰πãÂàô‰ª£Ë°®Â§±Ë¥•„ÄÇ Êàë‰ª¨ÈÄöËøá document.hidden Âíå document.webkitHidden Â±ûÊÄßÊù•Âà§Êñ≠ APP Âú® ios ‰∏≠ÊòØÂê¶Ë¢´Ê≠£Â∏∏Âî§Ëµ∑Ôºå2000ms ÂÜÖÔºåÈ°µÈù¢ËΩ¨ÂÖ•ÂêéÂè∞ËøêË°åÔºådocument.hidden ‰ºöËøîÂõû trueÔºå‰ª£Ë°®Âî§Á´ØÊàêÂäüÔºåÂèç‰πãÂàô‰ª£Ë°®Â§±Ë¥•„ÄÇ Ê≤°ÊúâÂÆåÁæéÁöÑÊñπÊ°àÈÄèËøá‰∏äÈù¢ÁöÑÂá†‰∏™ÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÔºåÊó†ËÆ∫ÊòØ Âî§Á´ØÂ™í‰ªã „ÄÅ Ë∞ÉÁî®Âî§Á´ØÂ™í‰ªã ËøòÊòØ Âà§Êñ≠Âî§Á´ØÁªìÊûú ÈÉΩÊ≤°Êúâ‰∏Ä‰∏™ÂçÅÂÖ®ÂçÅÁæéÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨Âú®‰ª£Á†ÅÂ±Ç‰∏äËÉΩÂÅöÁöÑÂè™ÊòØÂú®Á°Æ‰øùÊúÄÂ∏∏Áî®ÁöÑÂú∫ÊôØÔºàÊØîÂ¶Ç ÂæÆ‰ø°„ÄÅÂæÆÂçö„ÄÅÊâãÁôæ Á≠âÔºâÂî§Á´ØÊó†ËØØÁöÑÊÉÖÂÜµ‰∏ãÔºåÊúÄÂ§ßÂåñÁöÑÂÖºÂÆπÂâ©‰ΩôÁöÑÂú∫ÊôØ„ÄÇ Â•ΩÁöÑÔºåÊàë‰ª¨Êé•‰∏ãÊù•ÊâØ‰∏Ä‰∫õ‰ª£Á†Å‰ª•Â§ñÁöÑÔºåËÆ©Êàë‰ª¨ÁöÑ APP ËÉΩÂ§üÂú®Êõ¥Â§öÁöÑÂπ≥Âè∞Âî§Ëµ∑„ÄÇ ÂæÆ‰ø°„ÄÅÂæÆÂçö„ÄÅÊâãÁôæ„ÄÅQQÊµèËßàÂô®Á≠â„ÄÇ Ëøô‰∫õÂ∫îÁî®ËÉΩÈòªÊ≠¢Âî§Á´ØÊòØÂõ†‰∏∫ÂÆÉ‰ª¨Áõ¥Êé•Â±èËîΩÊéâ‰∫Ü URL Scheme „ÄÇÊé•‰∏ãÊù•ÂèØËÉΩÂ∞±ÊúâÁúãÂÆòÁñëÊÉë‰∫ÜÔºåÂæÆ‰ø°‰∏≠ÊòØÂèØ‰ª•ÊâìÂºÄÂ§ß‰ºóÁÇπËØÑÁöÑÂëÄÔºåÂæÆÂçöÈáåÈù¢ÂèØ‰ª•ÊâìÂºÄ‰ºòÈÖ∑ÂëÄÔºåÈÇ£ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢Ôºü ÂÆÉ‰ª¨ÈÉΩÂêÑËá™Áª¥Êä§ÁùÄ‰∏Ä‰∏™ÁôΩÂêçÂçïÔºåÂ¶ÇÊûú‰Ω†ÁöÑÂüüÂêçÂú®ÁôΩÂêçÂçïÂÜÖÔºåÈÇ£Ëøô‰∏™ÂüüÂêç‰∏ãÊâÄÊúâÁöÑÈ°µÈù¢ÂèëËµ∑ÁöÑ URL Scheme Â∞±ÈÉΩ‰ºöË¢´ÂÖÅËÆ∏„ÄÇÂ∞±ÂÉèÂæÆ‰ø°ÔºåÂ¶ÇÊûú‰Ω†ÊòØËÖæËÆØÁöÑ‚ÄúÂÆ∂Â±û‚ÄùÔºå‰Ω†Â∞±ÂèØ‰ª•Âä†ÂÖ•ÁôΩÂêçÂçï‰∫ÜÔºåÂæÆ‰ø°ÁöÑÁôΩÂêçÂçï‰∏ÄËà¨Âè™ÂåÖÂê´ÁùÄ‚ÄúÂÆ∂Â±û‚ÄùÔºåÈô§Ê≠§Â§ñÂæàÈöæÁî≥ËØ∑Âà∞ÁôΩÂêçÂçïËµÑË¥®„ÄÇ‰ΩÜÊòØÂæÆÂçö‰πãÁ±ªÁöÑÈÉΩÊòØÂèØ‰ª•ËÅîÁ≥ª‰ªñ‰ª¨ÁöÑÊ∏†ÈÅìÁ´•ÈûãËøõË°åÁî≥ËØ∑ÁöÑÔºåÂè™ÊòØÊù°‰ª∂ÂêÑ‰∏çÁõ∏ÂêåÔºåÊØîÂ¶ÇÂæÆÂçöÁöÑÂ∞±ÊòØÂú®‰Ω†ÁöÑ APP ‰∏≠Ê∑ªÂä†ÊâìÂºÄÂæÆÂçöÁöÑÂÖ•Âè£Ôºå‰∏â‰∏™ÊúàÂÜÖÂî§Ëµ∑Ë∂ÖËøá 100w Ê¨°ÔºåÂ∞±ÂèØ‰ª•Âä†ÂÖ•ÁôΩÂêçÂçï‰∫Ü„ÄÇ ËÖæËÆØÂ∫îÁî®ÂÆùÁõ¥Êé•ÊâìÂºÄ APP ÁöÑÊüê‰∏™ÂäüËÉΩ ÂàöÂàöÊàë‰ª¨ËØ¥Âà∞ÔºåÂ¶ÇÊûú‰Ω†‰∏çÊòØÂæÆ‰ø°ÁöÑÂÆ∂Â±ûÔºåÈÇ£‰Ω†ÊòØÂæàÈöæËøõÂÖ•ÁôΩÂêçÂçïÁöÑÔºåÊâÄ‰ª•Âú®ÂÆâÂçì‰∏≠Êàë‰ª¨‰∏ÄËà¨ÈÉΩÊòØÁõ¥Êé•ÊâìÂºÄËÖæËÆØÂ∫îÁî®ÂÆùÔºåios ‰∏≠ Áõ¥Êé•ÊâìÂºÄ App Store„ÄÇÁÇπÂáªËÖæËÆØÂ∫îÁî®ÂÆù‰∏≠ÁöÑ‚ÄúÊâìÂºÄ‚ÄùÊåâÈíÆÔºåÂèØ‰ª•Áõ¥Êé•Âî§Ëµ∑Êàë‰ª¨ÁöÑ APPÔºå‰ΩÜÊòØÊó†Ê≥ïÊâìÂºÄ APP ‰∏≠ÁöÑÊüê‰∏™ÂäüËÉΩÔºàÂ∞±ÊòØÊó†Ê≥ïÊâìÂºÄÊåáÂÆöÈ°µÈù¢Ôºâ„ÄÇ ËÖæËÆØÂ∫îÁî®ÂÆùÂØπÂ§ñÂºÄÊîæ‰∫Ü‰∏Ä‰∏™Âè´ÂÅö APP Link ÁöÑÁî≥ËØ∑ÔºåÂè™Ë¶Å‰Ω†Áî≥ËØ∑‰∫Ü APP LinkÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáÂú®ÊâìÂºÄÂ∫îÁî®ÂÆùÁöÑÊó∂ÂÄôÂú®Â∫îÁî®ÂÆùÂú∞ÂùÄÂêéÈù¢Ê∑ªÂä†‰∏ä &amp;android_schema={your_scheme} ÔºåÊù•ÊâìÂºÄÊåáÂÆöÁöÑÈ°µÈù¢‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>app</tag>
        <tag>native</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git ÁöÑ 4 ‰∏™Èò∂ÊÆµÁöÑÊí§ÈîÄÊõ¥Êîπ]]></title>
    <url>%2F2017%2F11%2F03%2FGit-%E7%9A%84-4-%E4%B8%AA%E9%98%B6%E6%AE%B5%E7%9A%84%E6%92%A4%E9%94%80%E6%9B%B4%E6%94%B9%2F</url>
    <content type="text"><![CDATA[Git ËØØÊìç‰ΩúÊïëÂëΩÁØá‰∏ÄÔºö Â¶Ç‰ΩïÂ∞ÜÊîπÂä®Êí§ÈîÄÔºüËôΩÁÑ∂gitËØûÁîüË∑ù‰ªäÂ∑≤Êúâ12Âπ¥‰πã‰πÖÔºåÁΩë‰∏äÂêÑÁßçÂÖ≥‰∫égitÁöÑ‰ªãÁªçÊñáÁ´†Êï∞‰∏çËÉúÊï∞Ôºå‰ΩÜÊòØ‰æùÁÑ∂ÊúâÂæàÂ§ö‰∫∫ÔºàÂåÖÊã¨ÊàëËá™Â∑±Âú®ÂÜÖÔºâÂØπ‰∫éÂÆÉÁöÑÂäüËÉΩ‰∏çËÉΩÂÆåÂÖ®ÊéåÊè°„ÄÇ‰ª•‰∏ãÁöÑ‰ªãÁªçÂè™ÊòØÂü∫‰∫éÊàë‰∏™‰∫∫ÂØπ‰∫égitÁöÑÁêÜËß£ÔºåÂπ∂‰∏îÂèØËÉΩÁîüÁºñÁ°¨ÈÄ†‰∫Ü‰∏Ä‰∫õ‰∏çÂÆåÂÖ®Á¨¶ÂêàgitËØ¥Ê≥ïÁöÑËØçËØ≠„ÄÇÁõÆÁöÑÂè™ÊòØ‰∏∫‰∫ÜËÆ©gitÈÄö‰øóÂåñÔºå‰ΩøÂàùÂ≠¶ËÄÖ‰πüËÉΩÂ§ßÊ¶Ç‰∫ÜËß£Â¶Ç‰ΩïÂø´ÈÄü‰∏äÊâãgit„ÄÇÂêåÊó∂Ôºå‰∏ãÈù¢ÊâÄÊúâËÆ®ËÆ∫ÔºåÊàë‰ª¨ÈÉΩÂÅáËÆæÂè™‰ΩøÁî®‰∏Ä‰∏™ÂàÜÊîØÔºå‰πüÂ∞±ÊòØ‰∏ªÂàÜÊîØmasterÁöÑÊÉÖÂÜµÔºåËôΩÁÑ∂ËøôÁßç‰ΩúÊ≥ïÂπ∂‰∏çÁ¨¶ÂêàgitËßÑËåÉÔºå‰ΩÜÊòØÁé∞ÂÆûÊÉÖÂÜµ‰∏≠ÁªùÂ§ßÈÉ®ÂàÜÁî®Êà∑ÊòØÁõ¥Êé•Âú®masterÂàÜÊîØ‰∏äËøõË°åÂ∑•‰ΩúÁöÑÔºåÊâÄ‰ª•Âú®ËøôÈáåÊàë‰ª¨‰∏çÂéªÂºïÂÖ•Êõ¥Âä†Â§çÊùÇÁöÑÂêÑÁßçÂàÜÊîØÁöÑÊÉÖÂÜµÔºå‰πü‰∏çÊ∂âÂèäÊ†áÁ≠ætagÁöÑÊìç‰ΩúÔºåÂè™ËÆ≤Âú®ÊúÄÁÆÄÂçïÁöÑ‰∏ªÂàÜÊîØ‰∏äÂ¶Ç‰ΩïÂõûÈÄÄ„ÄÇ Âü∫Êú¨Ê¶ÇÂøµ3‰∏™Ê≠•È™§ Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÁöÑÂ∑•‰ΩúÊµÅÂ∞±ÊòØ3‰∏™Ê≠•È™§ÔºåÂØπÂ∫î‰∏äÂõæ‰∏≠ÁöÑ3‰∏™ÁÆ≠Â§¥Á∫øÔºö1234567891011121314 git add . git commit -m &quot;comment&quot; git push git add .ÊääÊâÄÊúâÊñá‰ª∂ÊîæÂÖ•ÊöÇÂ≠òÂå∫Ôºõ git commitÊääÊâÄÊúâÊñá‰ª∂‰ªéÊöÇÂ≠òÂå∫Êèê‰∫§ËøõÊú¨Âú∞‰ªìÂ∫ìÔºõ git pushÊääÊâÄÊúâÊñá‰ª∂‰ªéÊú¨Âú∞‰ªìÂ∫ìÊé®ÈÄÅËøõËøúÁ®ã‰ªìÂ∫ì„ÄÇ 4‰∏™Âå∫git‰πãÊâÄ‰ª•‰ª§‰∫∫Ë¥πËß£Ôºå‰∏ªË¶ÅÊòØÂÆÉÁõ∏ÊØî‰∫ésvnÁ≠âÁ≠â‰º†ÁªüÁöÑÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂ§öÂºïÂÖ•‰∫Ü‰∏Ä‰∏™ÊöÇÂ≠òÂå∫(Stage)ÁöÑÊ¶ÇÂøµÔºåÂ∞±Âõ†‰∏∫Â§ö‰∫ÜËøô‰∏Ä‰∏™Ê¶ÇÂøµÔºåËÄå‰ΩøÂæàÂ§ö‰∫∫ÁñëÊÉë„ÄÇÂÖ∂ÂÆûÔºåÂú®ÂàùÂ≠¶ËÄÖÊù•ËØ¥ÔºåÊØè‰∏™Âå∫ÂÖ∑‰ΩìÊÄé‰πàÂ∑•‰ΩúÁöÑÔºåÊàë‰ª¨ÂÆåÂÖ®‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÔºåËÄåÂè™Ë¶ÅÁü•ÈÅìÊúâËøô‰πà4‰∏™Âå∫Â∞±Â§ü‰∫ÜÔºö Â∑•‰ΩúÂå∫(Working Area) ÊöÇÂ≠òÂå∫(Stage) Êú¨Âú∞‰ªìÂ∫ì(Local Repository) ËøúÁ®ã‰ªìÂ∫ì(Remote Repository) 5ÁßçÁä∂ÊÄÅ‰ª•‰∏ä4‰∏™Âå∫ÔºåËøõÂÖ•ÊØè‰∏Ä‰∏™Âå∫ÊàêÂäü‰πãÂêé‰ºö‰∫ßÁîü‰∏Ä‰∏™Áä∂ÊÄÅÔºåÂÜçÂä†‰∏äÊúÄÂàùÂßãÁöÑ‰∏Ä‰∏™Áä∂ÊÄÅÔºå‰∏ÄÂÖ±ÊòØ5ÁßçÁä∂ÊÄÅ„ÄÇ‰ª•‰∏ãÊàë‰ª¨ÊääËøô5ÁßçÁä∂ÊÄÅÂàÜÂà´ÂëΩÂêç‰∏∫Ôºö Êú™‰øÆÊîπ(Origin) Â∑≤‰øÆÊîπ(Modified) Â∑≤ÊöÇÂ≠ò(Staged) Â∑≤Êèê‰∫§(Committed) Â∑≤Êé®ÈÄÅ(Pushed) Ê£ÄÊü•‰øÆÊîπ‰∫ÜËß£‰∫ÜÂü∫Êú¨Ê¶ÇÂøµ‰πãÂêéÔºåÊàë‰ª¨Êù•Ë∞à‰∏ÄË∞àÁäØÈîôËØØ‰πãÂêéÂ¶Ç‰ΩïÊí§ÈîÄÁöÑÈóÆÈ¢ò„ÄÇÈ¶ñÂÖàÔºåÊàë‰ª¨Ë¶Å‰∫ÜËß£Â¶Ç‰ΩïÊ£ÄÊü•Ëøô3‰∏™Ê≠•È™§ÂΩì‰∏≠ÊØè‰∏Ä‰∏™Ê≠•È™§‰øÆÊîπ‰∫Ü‰ªÄ‰πàÔºåÁÑ∂ÂêéÊâçÂ•ΩÂà§Êñ≠ÊúâÊ≤°Êúâ‰øÆÊîπÊàêÂäü„ÄÇÊ£ÄÊü•‰øÆÊîπÁöÑ‰∫åÁ∫ßÂëΩ‰ª§ÈÉΩÁõ∏ÂêåÔºåÈÉΩÊòØdiffÔºåÂè™ÊòØÂèÇÊï∞ÊúâÊâÄ‰∏çÂêå„ÄÇ Â∑≤‰øÆÊîπÔºåÊú™ÊöÇÂ≠ò1git diff È¶ñÂÖàÔºåÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÊàë‰ª¨Âè™ÊòØÁÆÄÂçïÂú∞Âú®ÊµèËßàÂô®Èáå‰øùÂ≠ò‰∫Ü‰∏Ä‰∏ãÊñá‰ª∂Ôºå‰ΩÜÊòØËøòÊ≤°ÊúâÂÅögit add .‰πãÂâçÔºåÊàë‰ª¨Â¶Ç‰ΩïÊ£ÄÊü•ÊúâÂì™‰∫õ‰øÆÊîπ„ÄÇÊàë‰ª¨ÂÖàÈöè‰æøÊãø‰∏Ä‰∏™Êñá‰ª∂Êù•ÂÅö‰∏Ä‰∏ãÂÆûÈ™åÔºö Êàë‰ª¨Âú®Êñá‰ª∂ÂºÄÂ§¥ÁöÑÁ¨¨2Ë°åËÉ°‰π±Âä†‰∫Ü4‰∏™Êï∞Â≠ó1234ÔºåÂ≠òÁõòÔºåËøôÊó∂Êñá‰ª∂ËøõÂÖ•‰∫ÜÂ∑≤‰øÆÊîπÁä∂ÊÄÅÔºå‰ΩÜÊòØËøòÊ≤°ÊúâËøõÂÖ•ÊöÇÂ≠òÂå∫ÔºåÊàë‰ª¨ËøêË°ågit diffÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö12345678910111213141516171819diff --git a/index.md b/index.mdindex 73ff1ba..1066758 100644--- a/index.md+++ b/index.md@@ -1,5 +1,5 @@----layout: main+1234layout: maincolor: black--- git diffÁöÑÁªìÊûúÂëäËØâÊàë‰ª¨Âì™‰∫õÊñá‰ª∂Â∑≤ÁªèÂÅö‰∫ÜÂì™‰∫õ‰øÆÊîπ„ÄÇ Â∑≤ÊöÇÂ≠òÔºåÊú™Êèê‰∫§1git diff --cached Áé∞Âú®Êàë‰ª¨Êää‰øÆÊîπÊîæÂÖ•ÊöÇÂ≠òÂå∫Áúã‰∏Ä‰∏ã„ÄÇÂÖàÊâßË°ågit add .ÔºåÁÑ∂ÂêéÊâßË°ågit diffÔºå‰Ω†‰ºöÂèëÁé∞Ê≤°Êúâ‰ªª‰ΩïÁªìÊûúÔºö ËøôËØ¥Êòégit diffËøô‰∏™ÂëΩ‰ª§Âè™Ê£ÄÊü•Êàë‰ª¨ÁöÑÂ∑•‰ΩúÂå∫ÂíåÊöÇÂ≠òÂå∫‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥ÁúãÂà∞ÊöÇÂ≠òÂå∫ÂíåÊú¨Âú∞‰ªìÂ∫ì‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåÂ∞±ÈúÄË¶ÅÂä†‰∏Ä‰∏™ÂèÇÊï∞git diff ‚ÄìcachedÔºö12345678910111213141516171819diff --git a/index.md b/index.mdindex 73ff1ba..1066758 100644--- a/index.md+++ b/index.md@@ -1,5 +1,5 @@----layout: main+1234layout: maincolor: black--- ËøôÊó∂ÂÄôÊàë‰ª¨ÁúãÂà∞ÁöÑÂ∑ÆÂºÇÊòØÊöÇÂ≠òÂå∫ÂíåÊú¨Âú∞‰ªìÂ∫ì‰πãÈó¥ÁöÑÂ∑ÆÂºÇ„ÄÇ Â∑≤Êèê‰∫§ÔºåÊú™Êé®ÈÄÅ1git diff master origin/master Áé∞Âú®ÔºåÊàë‰ª¨Êää‰øÆÊîπ‰ªéÊöÇÂ≠òÂå∫Êèê‰∫§Âà∞Êú¨Âú∞‰ªìÂ∫ìÔºåÂÜçÁúã‰∏Ä‰∏ãÂ∑ÆÂºÇ„ÄÇÂÖàÊâßË°ågit commitÔºåÁÑ∂ÂêéÂÜçÊâßË°ågit diff ‚ÄìcachedÔºåÊ≤°ÊúâÂ∑ÆÂºÇÔºåÊâßË°ågit diff master origin/masterÔºåÂèØ‰ª•ÁúãÂà∞Â∑ÆÂºÇÔºö Âú®ËøôÈáåÔºåmasterÂ∞±ÊòØ‰Ω†ÁöÑÊú¨Âú∞‰ªìÂ∫ìÔºåËÄåorigin/masterÂ∞±ÊòØ‰Ω†ÁöÑËøúÁ®ã‰ªìÂ∫ìÔºåmasterÊòØ‰∏ªÂàÜÊîØÁöÑÊÑèÊÄùÔºåÂõ†‰∏∫Êàë‰ª¨ÈÉΩÂú®‰∏ªÂàÜÊîØ‰∏äÂ∑•‰ΩúÔºåÊâÄ‰ª•ËøôÈáå‰∏§ËæπÈÉΩÊòØmasterÔºåËÄåoriginÂ∞±‰ª£Ë°®ËøúÁ®ã„ÄÇ Êí§ÈîÄ‰øÆÊîπ‰∫ÜËß£Ê∏ÖÊ•öÂ¶Ç‰ΩïÊ£ÄÊü•ÂêÑÁßç‰øÆÊîπ‰πãÂêéÔºåÊàë‰ª¨ÂºÄÂßãÂ∞ùËØïÂêÑÁßçÊí§ÈîÄÊìç‰Ωú„ÄÇ Â∑≤‰øÆÊîπÔºåÊú™ÊöÇÂ≠òÂ¶ÇÊûúÊàë‰ª¨Âè™ÊòØÂú®ÁºñËæëÂô®Èáå‰øÆÊîπ‰∫ÜÊñá‰ª∂Ôºå‰ΩÜËøòÊ≤°ÊúâÊâßË°ågit add .ÔºåËøôÊó∂ÂÄôÊàë‰ª¨ÁöÑÊñá‰ª∂ËøòÂú®Â∑•‰ΩúÂå∫ÔºåÂπ∂Ê≤°ÊúâËøõÂÖ•ÊöÇÂ≠òÂå∫ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Ôºö12345 git checkout .ÊàñËÄÖ git reset --hard Êù•ËøõË°åÊí§ÈîÄÊìç‰Ωú„ÄÇ ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ÊâßË°åÂÆågit checkout .‰πãÂêéÔºå‰øÆÊîπÂ∑≤Ë¢´Êí§ÈîÄÔºågit diffÊ≤°Êúâ‰ªª‰ΩïÂÜÖÂÆπ‰∫Ü„ÄÇ ‰∏ÄÂØπÂèç‰πâËØç git add .ÁöÑÂèç‰πâËØçÊòØgit checkout .„ÄÇÂÅöÂÆå‰øÆÊîπ‰πãÂêéÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥ÂêëÂâçËµ∞‰∏ÄÊ≠•ÔºåËÆ©‰øÆÊîπËøõÂÖ•ÊöÇÂ≠òÂå∫ÔºåÂ∞±ÊâßË°ågit add .ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥ÂêëÂêéÈÄÄ‰∏ÄÊ≠•ÔºåÊí§ÈîÄÂàöÊâçÁöÑ‰øÆÊîπÔºåÂ∞±ÊâßË°ågit checkout .„ÄÇ Â∑≤ÊöÇÂ≠òÔºåÊú™Êèê‰∫§‰Ω†Â∑≤ÁªèÊâßË°å‰∫Ügit add .Ôºå‰ΩÜËøòÊ≤°ÊúâÊâßË°ågit commit -m ‚Äúcomment‚Äù„ÄÇËøôÊó∂ÂÄô‰Ω†ÊÑèËØÜÂà∞‰∫ÜÈîôËØØÔºåÊÉ≥Ë¶ÅÊí§ÈîÄÔºå‰Ω†ÂèØ‰ª•ÊâßË°åÔºö123git resetgit checkout . ÊàñËÄÖ1git reset --hard git resetÂè™ÊòØÊää‰øÆÊîπÈÄÄÂõûÂà∞‰∫Ügit add .‰πãÂâçÁöÑÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØËØ¥Êñá‰ª∂Êú¨Ë∫´ËøòÂ§Ñ‰∫éÂ∑≤‰øÆÊîπÊú™ÊöÇÂ≠òÁä∂ÊÄÅÔºå‰Ω†Â¶ÇÊûúÊÉ≥ÈÄÄÂõûÊú™‰øÆÊîπÁä∂ÊÄÅÔºåËøòÈúÄË¶ÅÊâßË°ågit checkout .„ÄÇ ÊàñËÆ∏‰Ω†Â∑≤ÁªèÊ≥®ÊÑèÂà∞‰∫ÜÔºå‰ª•‰∏ä‰∏§‰∏™Ê≠•È™§ÈÉΩÂèØ‰ª•Áî®Âêå‰∏Ä‰∏™ÂëΩ‰ª§git reset ‚ÄìhardÊù•ÂÆåÊàê„ÄÇÊòØÁöÑÔºåÂ∞±ÊòØËøô‰∏™Âº∫Â§ßÁöÑÂëΩ‰ª§ÔºåÂèØ‰ª•‰∏ÄÊ≠•Âà∞‰ΩçÂú∞Êää‰Ω†ÁöÑ‰øÆÊîπÂÆåÂÖ®ÊÅ¢Â§çÂà∞Êú™‰øÆÊîπÁöÑÁä∂ÊÄÅ„ÄÇ Â∑≤Êèê‰∫§ÔºåÊú™Êé®ÈÄÅ ‰Ω†ÁöÑÊâãÂ§™Âø´Ôºå‰Ω†Êó¢ÊâßË°å‰∫Ügit add .ÔºåÂèàÊâßË°å‰∫Ügit commitÔºåËøôÊó∂ÂÄô‰Ω†ÁöÑ‰ª£Á†ÅÂ∑≤ÁªèËøõÂÖ•‰∫Ü‰Ω†ÁöÑÊú¨Âú∞‰ªìÂ∫ìÔºåÁÑ∂ËÄå‰Ω†ÂêéÊÇî‰∫ÜÔºåÊÄé‰πàÂäûÔºü‰∏çË¶ÅÁùÄÊÄ•ÔºåËøòÊúâÂäûÊ≥ï„ÄÇ1git reset --hard origin/master ËøòÊòØËøô‰∏™git reset ‚ÄìhardÂëΩ‰ª§ÔºåÂè™‰∏çËøáËøôÊ¨°Â§ö‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞origin/masterÔºåÊ≠£Â¶ÇÊàë‰ª¨‰∏äÈù¢ËÆ≤ËøáÁöÑÔºåorigin/master‰ª£Ë°®ËøúÁ®ã‰ªìÂ∫ìÔºåÊó¢ÁÑ∂‰Ω†Â∑≤ÁªèÊ±°Êüì‰∫Ü‰Ω†ÁöÑÊú¨Âú∞‰ªìÂ∫ìÔºåÈÇ£‰πàÂ∞±‰ªéËøúÁ®ã‰ªìÂ∫ìÊää‰ª£Á†ÅÂèñÂõûÊù•Âêß„ÄÇ Â∑≤Êé®ÈÄÅ Âæà‰∏çÂπ∏Ôºå‰Ω†ÁöÑÊâãÂÆûÂú®ÊòØÂ§™Âø´‰∫ÜÔºå‰Ω†Êó¢git add‰∫ÜÔºåÂèàgit commit‰∫ÜÔºåÂπ∂‰∏îËøògit push‰∫ÜÔºåËøôÊó∂‰Ω†ÁöÑ‰ª£Á†ÅÂ∑≤ÁªèËøõÂÖ•ËøúÁ®ã‰ªìÂ∫ì„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ÊÅ¢Â§çÁöÑËØùÔºåËøòÂ•ΩÔºåÁî±‰∫é‰Ω†ÁöÑÊú¨Âú∞‰ªìÂ∫ìÂíåËøúÁ®ã‰ªìÂ∫ìÊòØÁ≠â‰ª∑ÁöÑÔºå‰Ω†Âè™ÈúÄË¶ÅÂÖàÊÅ¢Â§çÊú¨Âú∞‰ªìÂ∫ìÔºåÂÜçÂº∫Âà∂pushÂà∞ËøúÁ®ã‰ªìÂ∫ìÂ∞±Â•Ω‰∫ÜÔºö123git reset --hard HEAD^git push -f ÊÄªÁªì‰ª•‰∏ä4ÁßçÁä∂ÊÄÅÁöÑÊí§ÈîÄÊàë‰ª¨ÈÉΩÁî®Âà∞‰∫ÜÂêå‰∏Ä‰∏™ÂëΩ‰ª§git reset ‚ÄìhardÔºåÂâç2ÁßçÁä∂ÊÄÅÁöÑÁî®Ê≥ïÁîöËá≥ÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÊâÄ‰ª•Âè™Ë¶ÅÊéåÊè°‰∫Ügit reset ‚ÄìhardËøô‰∏™ÂëΩ‰ª§ÁöÑÁî®Ê≥ïÔºå‰ªéÊ≠§‰Ω†ÂÜç‰πü‰∏çÁî®ÊãÖÂøÉÊèê‰∫§ÈîôËØØ‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ªéVue.jsÊ∫êÁ†ÅÁúãnextTickÊú∫Âà∂]]></title>
    <url>%2F2017%2F10%2F29%2F%E4%BB%8EVue-js%E6%BA%90%E7%A0%81%E7%9C%8BnextTick%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[VueÊ∫êÁ†ÅËØ¶Ëß£‰πãnextTickÔºöMutationObserverÂè™ÊòØÊµÆ‰∫ëÔºåmicrotaskÊâçÊòØÊ†∏ÂøÉÔºÅ ÂèØËÉΩ‰ºöÊúâÁêÜËß£Â≠òÂú®ÂÅèÂ∑ÆÁöÑÂú∞ÊñπÔºåÊ¨¢ËøéÂ§ßÁ•ûÊñßÊ≠£ÔºåÂÖ±ÂêåÂ≠¶‰π†ÔºåÂÖ±ÂêåËøõÊ≠•„ÄÇÊìç‰ΩúDOMÂú®‰ΩøÁî®vue.jsÁöÑÊó∂ÂÄôÔºåÊúâÊó∂ÂÄôÂõ†‰∏∫‰∏Ä‰∫õÁâπÂÆöÁöÑ‰∏öÂä°Âú∫ÊôØÔºå‰∏çÂæó‰∏çÂéªÊìç‰ΩúDOMÔºåÊØîÂ¶ÇËøôÊ†∑Ôºö &lt;template&gt; &lt;div&gt; &lt;div ref=&quot;test&quot;&gt;{{test}}&lt;/div&gt; &lt;button @click=&quot;handleClick&quot;&gt;tet&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; export default { data () { return { test: &apos;begin&apos; }; }, methods () { handleClick () { this.test = &apos;end&apos;; console.log(this.$refs.test.innerText);//ÊâìÂç∞‚Äúbegin‚Äù } } } ÊâìÂç∞ÁöÑÁªìÊûúÊòØbeginÔºå‰∏∫‰ªÄ‰πàÊàë‰ª¨ÊòéÊòéÂ∑≤ÁªèÂ∞ÜtestËÆæÁΩÆÊàê‰∫Ü‚Äúend‚ÄùÔºåËé∑ÂèñÁúüÂÆûDOMËäÇÁÇπÁöÑinnerTextÂç¥Ê≤°ÊúâÂæóÂà∞Êàë‰ª¨È¢ÑÊúü‰∏≠ÁöÑ‚Äúend‚ÄùÔºåËÄåÊòØÂæóÂà∞‰πãÂâçÁöÑÂÄº‚Äúbegin‚ÄùÂë¢Ôºü WatcherÈòüÂàóÂ∏¶ÁùÄÁñëÈóÆÔºåÊàë‰ª¨ÊâæÂà∞‰∫ÜVue.jsÊ∫êÁ†ÅÁöÑWatchÂÆûÁé∞„ÄÇÂΩìÊüê‰∏™ÂìçÂ∫îÂºèÊï∞ÊçÆÂèëÁîüÂèòÂåñÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑsetterÂáΩÊï∞‰ºöÈÄöÁü•Èó≠ÂåÖ‰∏≠ÁöÑDepÔºåDepÂàô‰ºöË∞ÉÁî®ÂÆÉÁÆ°ÁêÜÁöÑÊâÄÊúâWatchÂØπË±°„ÄÇËß¶ÂèëWatchÂØπË±°ÁöÑupdateÂÆûÁé∞„ÄÇÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãupdateÁöÑÂÆûÁé∞„ÄÇ update () { /* istanbul ignore else */ if (this.lazy) { this.dirty = true } else if (this.sync) { /*ÂêåÊ≠•ÂàôÊâßË°årunÁõ¥Êé•Ê∏≤ÊüìËßÜÂõæ*/ this.run() } else { /*ÂºÇÊ≠•Êé®ÈÄÅÂà∞ËßÇÂØüËÄÖÈòüÂàó‰∏≠Ôºå‰∏ã‰∏Ä‰∏™tickÊó∂Ë∞ÉÁî®„ÄÇ*/ queueWatcher(this) } } Êàë‰ª¨ÂèëÁé∞Vue.jsÈªòËÆ§ÊòØ‰ΩøÁî®ÂºÇÊ≠•ÊâßË°åDOMÊõ¥Êñ∞„ÄÇÂΩìÂºÇÊ≠•ÊâßË°åupdateÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî®queueWatcherÂáΩÊï∞„ÄÇ /*Â∞Ü‰∏Ä‰∏™ËßÇÂØüËÄÖÂØπË±°pushËøõËßÇÂØüËÄÖÈòüÂàóÔºåÂú®ÈòüÂàó‰∏≠Â∑≤ÁªèÂ≠òÂú®Áõ∏ÂêåÁöÑidÂàôËØ•ËßÇÂØüËÄÖÂØπË±°Â∞ÜË¢´Ë∑≥ËøáÔºåÈô§ÈùûÂÆÉÊòØÂú®ÈòüÂàóË¢´Âà∑Êñ∞Êó∂Êé®ÈÄÅ*/ export function queueWatcher (watcher: Watcher) { /*Ëé∑ÂèñwatcherÁöÑid*/ const id = watcher.id /*Ê£ÄÈ™åidÊòØÂê¶Â≠òÂú®ÔºåÂ∑≤ÁªèÂ≠òÂú®ÂàôÁõ¥Êé•Ë∑≥ËøáÔºå‰∏çÂ≠òÂú®ÂàôÊ†áËÆ∞ÂìàÂ∏åË°®hasÔºåÁî®‰∫é‰∏ãÊ¨°Ê£ÄÈ™å*/ if (has[id] == null) { has[id] = true if (!flushing) { /*Â¶ÇÊûúÊ≤°ÊúâflushÊéâÔºåÁõ¥Êé•pushÂà∞ÈòüÂàó‰∏≠Âç≥ÂèØ*/ queue.push(watcher) } else { // if already flushing, splice the watcher based on its id // if already past its id, it will be run next immediately. let i = queue.length - 1 while (i &gt;= 0 &amp;&amp; queue[i].id &gt; watcher.id) { i-- } queue.splice(Math.max(i, index) + 1, 0, watcher) } // queue the flush if (!waiting) { waiting = true nextTick(flushSchedulerQueue) } } } Êü•ÁúãqueueWatcherÁöÑÊ∫êÁ†ÅÊàë‰ª¨ÂèëÁé∞ÔºåWatchÂØπË±°Âπ∂‰∏çÊòØÁ´ãÂç≥Êõ¥Êñ∞ËßÜÂõæÔºåËÄåÊòØË¢´pushËøõ‰∫Ü‰∏Ä‰∏™ÈòüÂàóqueueÔºåÊ≠§Êó∂Áä∂ÊÄÅÂ§Ñ‰∫éwaitingÁöÑÁä∂ÊÄÅÔºåËøôÊó∂ÂÄô‰ºöÁªßÁª≠‰ºöÊúâWatchÂØπË±°Ë¢´pushËøõËøô‰∏™ÈòüÂàóqueueÔºåÁ≠âÂæÖ‰∏ã‰∏Ä‰∏™tickÊó∂ÔºåËøô‰∫õWatchÂØπË±°Êâç‰ºöË¢´ÈÅçÂéÜÂèñÂá∫ÔºåÊõ¥Êñ∞ËßÜÂõæ„ÄÇÂêåÊó∂ÔºåidÈáçÂ§çÁöÑWatcher‰∏ç‰ºöË¢´Â§öÊ¨°Âä†ÂÖ•Âà∞queue‰∏≠ÂéªÔºåÂõ†‰∏∫Âú®ÊúÄÁªàÊ∏≤ÊüìÊó∂ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÖ≥ÂøÉÊï∞ÊçÆÁöÑÊúÄÁªàÁªìÊûú„ÄÇ ÈÇ£‰πàÔºå‰ªÄ‰πàÊòØ‰∏ã‰∏Ä‰∏™tickÔºü nextTickvue.jsÊèê‰æõ‰∫Ü‰∏Ä‰∏™nextTickÂáΩÊï∞ÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØ‰∏äÈù¢Ë∞ÉÁî®ÁöÑnextTick„ÄÇ nextTickÁöÑÂÆûÁé∞ÊØîËæÉÁÆÄÂçïÔºåÊâßË°åÁöÑÁõÆÁöÑÊòØÂú®microtaskÊàñËÄÖtask‰∏≠Êé®ÂÖ•‰∏Ä‰∏™funtionÔºåÂú®ÂΩìÂâçÊ†àÊâßË°åÂÆåÊØïÔºà‰πüË°åËøò‰ºöÊúâ‰∏Ä‰∫õÊéíÂú®ÂâçÈù¢ÁöÑÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°Ôºâ‰ª•ÂêéÊâßË°ånextTick‰º†ÂÖ•ÁöÑfuntionÔºåÁúã‰∏Ä‰∏ãÊ∫êÁ†ÅÔºö /** * Defer a task to execute it asynchronously. */ /* Âª∂Ëøü‰∏Ä‰∏™‰ªªÂä°‰ΩøÂÖ∂ÂºÇÊ≠•ÊâßË°åÔºåÂú®‰∏ã‰∏Ä‰∏™tickÊó∂ÊâßË°åÔºå‰∏Ä‰∏™Á´ãÂç≥ÊâßË°åÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™function Ëøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®taskÊàñËÄÖmicrotask‰∏≠Êé®ÂÖ•‰∏Ä‰∏™timerFuncÔºå Âú®ÂΩìÂâçË∞ÉÁî®Ê†àÊâßË°åÂÆå‰ª•Âêé‰ª•Ê≠§ÊâßË°åÁõ¥Âà∞ÊâßË°åÂà∞timerFunc ÁõÆÁöÑÊòØÂª∂ËøüÂà∞ÂΩìÂâçË∞ÉÁî®Ê†àÊâßË°åÂÆå‰ª•ÂêéÊâßË°å */ export const nextTick = (function () { /*Â≠òÊîæÂºÇÊ≠•ÊâßË°åÁöÑÂõûË∞É*/ const callbacks = [] /*‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºåÂ¶ÇÊûúÂ∑≤ÁªèÊúâtimerFuncË¢´Êé®ÈÄÅÂà∞‰ªªÂä°ÈòüÂàó‰∏≠ÂéªÂàô‰∏çÈúÄË¶ÅÈáçÂ§çÊé®ÈÄÅ*/ let pending = false /*‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíàÔºåÊåáÂêëÂáΩÊï∞Â∞ÜË¢´Êé®ÈÄÅÂà∞‰ªªÂä°ÈòüÂàó‰∏≠ÔºåÁ≠âÂà∞‰∏ªÁ∫øÁ®ã‰ªªÂä°ÊâßË°åÂÆåÊó∂Ôºå‰ªªÂä°ÈòüÂàó‰∏≠ÁöÑtimerFuncË¢´Ë∞ÉÁî®*/ let timerFunc /*‰∏ã‰∏Ä‰∏™tickÊó∂ÁöÑÂõûË∞É*/ function nextTickHandler () { /*‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºåÊ†áËÆ∞Á≠âÂæÖÁä∂ÊÄÅÔºàÂç≥ÂáΩÊï∞Â∑≤ÁªèË¢´Êé®ÂÖ•‰ªªÂä°ÈòüÂàóÊàñËÄÖ‰∏ªÁ∫øÁ®ãÔºåÂ∑≤ÁªèÂú®Á≠âÂæÖÂΩìÂâçÊ†àÊâßË°åÂÆåÊØïÂéªÊâßË°åÔºâÔºåËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÂú®pushÂ§ö‰∏™ÂõûË∞ÉÂà∞callbacksÊó∂Â∞ÜtimerFuncÂ§öÊ¨°Êé®ÂÖ•‰ªªÂä°ÈòüÂàóÊàñËÄÖ‰∏ªÁ∫øÁ®ã*/ pending = false /*ÊâßË°åÊâÄÊúâcallback*/ const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) { copies[i]() } } // the nextTick behavior leverages the microtask queue, which can be accessed // via either native Promise.then or MutationObserver. // MutationObserver has wider support, however it is seriously bugged in // UIWebView in iOS &gt;= 9.3.3 when triggered in touch event handlers. It // completely stops working after triggering a few times... so, if native // Promise is available, we will use it: /* istanbul ignore if */ /* ËøôÈáåËß£Èáä‰∏Ä‰∏ãÔºå‰∏ÄÂÖ±ÊúâPromise„ÄÅMutationObserver‰ª•ÂèäsetTimeout‰∏âÁßçÂ∞ùËØïÂæóÂà∞timerFuncÁöÑÊñπÊ≥ï ‰ºòÂÖà‰ΩøÁî®PromiseÔºåÂú®Promise‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®MutationObserverÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩ‰ºöÂú®microtask‰∏≠ÊâßË°åÔºå‰ºöÊØîsetTimeoutÊõ¥Êó©ÊâßË°åÔºåÊâÄ‰ª•‰ºòÂÖà‰ΩøÁî®„ÄÇ Â¶ÇÊûú‰∏äËø∞‰∏§ÁßçÊñπÊ≥ïÈÉΩ‰∏çÊîØÊåÅÁöÑÁéØÂ¢ÉÂàô‰ºö‰ΩøÁî®setTimeoutÔºåÂú®taskÂ∞æÈÉ®Êé®ÂÖ•Ëøô‰∏™ÂáΩÊï∞ÔºåÁ≠âÂæÖË∞ÉÁî®ÊâßË°å„ÄÇ ÂèÇËÄÉÔºöhttps://www.zhihu.com/question/55364497 */ if (typeof Promise !== &apos;undefined&apos; &amp;&amp; isNative(Promise)) { /*‰ΩøÁî®Promise*/ var p = Promise.resolve() var logError = err =&gt; { console.error(err) } timerFunc = () =&gt; { p.then(nextTickHandler).catch(logError) // in problematic UIWebViews, Promise.then doesn&apos;t completely break, but // it can get stuck in a weird state where callbacks are pushed into the // microtask queue but the queue isn&apos;t being flushed, until the browser // needs to do some other work, e.g. handle a timer. Therefore we can // &quot;force&quot; the microtask queue to be flushed by adding an empty timer. if (isIOS) setTimeout(noop) } } else if (typeof MutationObserver !== &apos;undefined&apos; &amp;&amp; ( isNative(MutationObserver) || // PhantomJS and iOS 7.x MutationObserver.toString() === &apos;[object MutationObserverConstructor]&apos; )) { // use MutationObserver where native Promise is not available, // e.g. PhantomJS IE11, iOS7, Android 4.4 /*Êñ∞Âª∫‰∏Ä‰∏™textNodeÁöÑDOMÂØπË±°ÔºåÁî®MutationObserverÁªëÂÆöËØ•DOMÂπ∂ÊåáÂÆöÂõûË∞ÉÂáΩÊï∞ÔºåÂú®DOMÂèòÂåñÁöÑÊó∂ÂÄôÂàô‰ºöËß¶ÂèëÂõûË∞É,ËØ•ÂõûË∞É‰ºöËøõÂÖ•‰∏ªÁ∫øÁ®ãÔºàÊØî‰ªªÂä°ÈòüÂàó‰ºòÂÖàÊâßË°åÔºâÔºåÂç≥textNode.data = String(counter)Êó∂‰æø‰ºöËß¶ÂèëÂõûË∞É*/ var counter = 1 var observer = new MutationObserver(nextTickHandler) var textNode = document.createTextNode(String(counter)) observer.observe(textNode, { characterData: true }) timerFunc = () =&gt; { counter = (counter + 1) % 2 textNode.data = String(counter) } } else { // fallback to setTimeout /* istanbul ignore next */ /*‰ΩøÁî®setTimeoutÂ∞ÜÂõûË∞ÉÊé®ÂÖ•‰ªªÂä°ÈòüÂàóÂ∞æÈÉ®*/ timerFunc = () =&gt; { setTimeout(nextTickHandler, 0) } } /* Êé®ÈÄÅÂà∞ÈòüÂàó‰∏≠‰∏ã‰∏Ä‰∏™tickÊó∂ÊâßË°å cb ÂõûË∞ÉÂáΩÊï∞ ctx ‰∏ä‰∏ãÊñá */ return function queueNextTick (cb?: Function, ctx?: Object) { let _resolve /*cbÂ≠òÂà∞callbacks‰∏≠*/ callbacks.push(() =&gt; { if (cb) { try { cb.call(ctx) } catch (e) { handleError(e, ctx, &apos;nextTick&apos;) } } else if (_resolve) { _resolve(ctx) } }) if (!pending) { pending = true timerFunc() } if (!cb &amp;&amp; typeof Promise !== &apos;undefined&apos;) { return new Promise((resolve, reject) =&gt; { _resolve = resolve }) } } })() ÂÆÉÊòØ‰∏Ä‰∏™Á´ãÂç≥ÊâßË°åÂáΩÊï∞,ËøîÂõû‰∏Ä‰∏™queueNextTickÊé•Âè£„ÄÇ ‰º†ÂÖ•ÁöÑcb‰ºöË¢´pushËøõcallbacks‰∏≠Â≠òÊîæËµ∑Êù•ÔºåÁÑ∂ÂêéÊâßË°åtimerFuncÔºàpendingÊòØ‰∏Ä‰∏™Áä∂ÊÄÅÊ†áËÆ∞Ôºå‰øùËØÅtimerFuncÂú®‰∏ã‰∏Ä‰∏™tick‰πãÂâçÂè™ÊâßË°å‰∏ÄÊ¨°Ôºâ„ÄÇ timerFuncÊòØ‰ªÄ‰πàÔºü Áúã‰∫ÜÊ∫êÁ†ÅÂèëÁé∞timerFunc‰ºöÊ£ÄÊµãÂΩìÂâçÁéØÂ¢ÉËÄå‰∏çÂêåÂÆûÁé∞ÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊåâÁÖßPromiseÔºåMutationObserverÔºåsetTimeout‰ºòÂÖàÁ∫ßÔºåÂì™‰∏™Â≠òÂú®‰ΩøÁî®Âì™‰∏™ÔºåÊúÄ‰∏çÊµéÁöÑÁéØÂ¢É‰∏ã‰ΩøÁî®setTimeout„ÄÇ ‰∏§ËÄÖÁöÑÂÖ∑‰ΩìÂÆûÁé∞ macrotasks: setTimeout ÔºåsetIntervalÔºå setImmediateÔºårequestAnimationFrame, I/O ÔºåUIÊ∏≤Êüì microtasks: PromiseÔºå process.nextTickÔºå Object.observeÔºå MutationObserver ÂÜçÁÆÄÂçïÁÇπÂèØ‰ª•ÊÄªÁªì‰∏∫Ôºö Âú® macrotask ÈòüÂàó‰∏≠ÊâßË°åÊúÄÊó©ÁöÑÈÇ£‰∏™ task ÔºåÁÑ∂ÂêéÁßªÂá∫ ÂÜçÊâßË°å microtask ÈòüÂàó‰∏≠ÊâÄÊúâÂèØÁî®ÁöÑ‰ªªÂä°ÔºåÁÑ∂ÂêéÁßªÂá∫ ‰∏ã‰∏Ä‰∏™Âæ™ÁéØÔºåÊâßË°å‰∏ã‰∏Ä‰∏™ macrotask ‰∏≠ÁöÑ‰ªªÂä° (ÂÜçË∑≥Âà∞Á¨¨2Ê≠•) ËøôÈáåËß£Èáä‰∏Ä‰∏ãÔºå‰∏ÄÂÖ±ÊúâPromise„ÄÅMutationObserver‰ª•ÂèäsetTimeout‰∏âÁßçÂ∞ùËØïÂæóÂà∞timerFuncÁöÑÊñπÊ≥ï„ÄÇ ‰ºòÂÖà‰ΩøÁî®PromiseÔºåÂú®Promise‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®MutationObserverÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÁöÑÂõûË∞ÉÂáΩÊï∞ÈÉΩ‰ºöÂú®microtask‰∏≠ÊâßË°åÔºåÂÆÉ‰ª¨‰ºöÊØîsetTimeoutÊõ¥Êó©ÊâßË°åÔºåÊâÄ‰ª•‰ºòÂÖà‰ΩøÁî®„ÄÇ Â¶ÇÊûú‰∏äËø∞‰∏§ÁßçÊñπÊ≥ïÈÉΩ‰∏çÊîØÊåÅÁöÑÁéØÂ¢ÉÂàô‰ºö‰ΩøÁî®setTimeoutÔºåÂú®taskÂ∞æÈÉ®Êé®ÂÖ•Ëøô‰∏™ÂáΩÊï∞ÔºåÁ≠âÂæÖË∞ÉÁî®ÊâßË°å„ÄÇ ‰∏∫‰ªÄ‰πàË¶Å‰ºòÂÖà‰ΩøÁî®microtaskÔºüÊàëÂú®È°æËΩ∂ÁÅµÂú®Áü•‰πéÁöÑÂõûÁ≠î‰∏≠Â≠¶‰π†Âà∞Ôºö JS ÁöÑ event loop ÊâßË°åÊó∂‰ºöÂå∫ÂàÜ task Âíå microtaskÔºåÂºïÊìéÂú®ÊØè‰∏™ task ÊâßË°åÂÆåÊØïÔºå‰ªéÈòüÂàó‰∏≠Âèñ‰∏ã‰∏Ä‰∏™ task Êù•ÊâßË°å‰πãÂâçÔºå‰ºöÂÖàÊâßË°åÂÆåÊâÄÊúâ microtask ÈòüÂàó‰∏≠ÁöÑ microtask„ÄÇsetTimeout ÂõûË∞É‰ºöË¢´ÂàÜÈÖçÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ task ‰∏≠ÊâßË°åÔºåËÄå Promise ÁöÑ resolver„ÄÅ MutationObserver ÁöÑÂõûË∞ÉÈÉΩ‰ºöË¢´ÂÆâÊéíÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ microtask ‰∏≠ÊâßË°åÔºå‰ºöÊØî setTimeout ‰∫ßÁîüÁöÑ task ÂÖàÊâßË°å„ÄÇ Ë¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ microtaskÔºå‰ºòÂÖà‰ΩøÁî® PromiseÔºåÂ¶ÇÊûúÊµèËßàÂô®‰∏çÊîØÊåÅÔºåÂÜçÂ∞ùËØï MutationObserver„ÄÇ ÂÆûÂú®‰∏çË°åÔºåÂè™ËÉΩÁî® setTimeout ÂàõÂª∫ task ‰∫Ü„ÄÇ ‰∏∫Âï•Ë¶ÅÁî® microtaskÔºü Ê†πÊçÆ HTML StandardÔºåÂú®ÊØè‰∏™ task ËøêË°åÂÆå‰ª•ÂêéÔºåUI ÈÉΩ‰ºöÈáçÊ∏≤ÊüìÔºåÈÇ£‰πàÂú® microtask ‰∏≠Â∞±ÂÆåÊàêÊï∞ÊçÆÊõ¥Êñ∞ÔºåÂΩìÂâç task ÁªìÊùüÂ∞±ÂèØ‰ª•ÂæóÂà∞ÊúÄÊñ∞ÁöÑ UI ‰∫Ü„ÄÇ Âèç‰πãÂ¶ÇÊûúÊñ∞Âª∫‰∏Ä‰∏™ task Êù•ÂÅöÊï∞ÊçÆÊõ¥Êñ∞ÔºåÈÇ£‰πàÊ∏≤ÊüìÂ∞±‰ºöËøõË°å‰∏§Ê¨°„ÄÇ È¶ñÂÖàÊòØPromiseÔºå(Promise.resolve()).then()ÂèØ‰ª•Âú®microtask‰∏≠Âä†ÂÖ•ÂÆÉÁöÑÂõûË∞ÉÔºå MutationObserverÊñ∞Âª∫‰∏Ä‰∏™textNodeÁöÑDOMÂØπË±°ÔºåÁî®MutationObserverÁªëÂÆöËØ•DOMÂπ∂ÊåáÂÆöÂõûË∞ÉÂáΩÊï∞ÔºåÂú®DOMÂèòÂåñÁöÑÊó∂ÂÄôÂàô‰ºöËß¶ÂèëÂõûË∞É,ËØ•ÂõûË∞É‰ºöËøõÂÖ•microtaskÔºåÂç≥textNode.data = String(counter)Êó∂‰æø‰ºöÂä†ÂÖ•ËØ•ÂõûË∞É„ÄÇ Ëá≥‰∫é MutationObserver Â¶Ç‰ΩïÊ®°Êãü nextTick ËøôÁÇπÔºåÁõ¥Êé•ÁúãÊ∫êÁ†ÅÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂàõÂª∫‰∏Ä‰∏™ TextNode Âπ∂ÁõëÂê¨ÂÜÖÂÆπÂèòÂåñÔºåÁÑ∂ÂêéË¶Å nextTick ÁöÑÊó∂ÂÄôÂéªÊîπ‰∏Ä‰∏ãËøô‰∏™ËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπÔºö var counter = 1 var observer = new MutationObserver(nextTickHandler) var textNode = document.createTextNode(String(counter)) observer.observe(textNode, { characterData: true }) timerFunc = () =&gt; { counter = (counter + 1) % 2 textNode.data = String(counter) } setTimeoutÊòØÊúÄÂêéÁöÑ‰∏ÄÁßçÂ§áÈÄâÊñπÊ°àÔºåÂπ∂‰∏îÈªòËÆ§Êúâ4msÂª∂Êó∂ÔºåsetTimeoutÂª∂Êó∂0‰∏ç‰ºöËÄÅËÄÅÂÆûÂÆûÁ´ãÂç≥ÊâßË°åÔºö setTimeout(function(){ console.log(&quot;Êàë‰∏çÊòØÁ´ãÂç≥ÊâßË°åÁöÑ,‰∏ÄËà¨Êàë‰ºöÂª∂Êó∂4ms,ÂìàÂìà&quot;); },0); ÂÆÉ‰ºöÂ∞ÜÂõûË∞ÉÂáΩÊï∞Âä†ÂÖ•task‰∏≠ÔºåÁ≠âÂà∞ÊâßË°å„ÄÇ setTimeout(function(){console.log(4)},0); new Promise(function(resolve){ console.log(1) for( var i=0 ; i&lt;10000 ; i++ ){ i==9999 &amp;&amp; resolve() } console.log(2) }).then(function(){ console.log(5) }); console.log(3); ÁªìÊûúÊòØÔºö 1,2,3,5,4 ÂÜçÁúãËøô‰∏™Ôºå‰∏§‰∏™Ëá™ÊâßË°åÂêåÊó∂ÊâßË°åÔºö &lt;script&gt; (function test() { setTimeout(function () { console.log(4) }, 0); new Promise(function executor (resolve) { console.log(1); for(var i = 0; i &lt; 10000; i++) { i == 9999 &amp;&amp; resolve(); } console.log(2); }).then(function() { console.log(5); }); console.log(3); })() (function test2() { setTimeout(function () { console.log(42) }, 0); new Promise(function executor (resolve) { console.log(12); for(var i = 0; i &lt; 10000; i++) { i == 9999 &amp;&amp; resolve(); } console.log(22); }).then(function() { console.log(52); }); console.log(32); })() &lt;/script&gt; Êï¥‰∏™ÊâßË°åËøáÁ®ãÊòØ‰∏Ä‰∏™ main thread „Äê‰∏ªÁ∫øÁ®ã„Äë Ôºå‰ΩÜÂπ∂‰∏çÊÑèÂë≥ÁùÄÂÖàÊâßË°åÁ¨¨‰∏Ä‰∏™Ëá™ÊâßË°åÂêéÂÜçÊâßË°åÁ¨¨‰∫å‰∏™ÔºåÂõ†‰∏∫‰∏§‰∏™Ëá™ÊâßË°å‰∏≠ÁöÑ setTimeout ËøõÂÖ•ÁöÑÊòØÂêå‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ‰∏≠Á≠âÂæÖÔºåÂõ†Ê≠§‰ªñ‰ø©Âú®ÊúÄÂêéÂàÜÂà´ËæìÂá∫‰∫Ü‰∫Ü 4 Âíå 42„ÄÇ ÂΩì‰∏Ä‰∏™Á®ãÂ∫èÊúâÔºösetTimeoutÔºå setInterval ÔºåsetImmediateÔºå I/OÔºå UIÊ∏≤ÊüìÔºåPromise Ôºåprocess.nextTickÔºå Object.observeÔºå MutationObserverÁöÑÊó∂ÂÄôÔºö 1.ÂÖàÊâßË°å macrotasksÔºöI/O -„Äã UIÊ∏≤Êüì 2.ÂÜçÊâßË°å microtasks Ôºöprocess.nextTick -„Äã Promise -„ÄãMutationObserver -&gt;Object.observe 3.ÂÜçÊääsetTimeout setInterval setImmediate Â°ûÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑmacrotasksÔºå‰æùÊ¨°Ôºö setTimeout ÔºåsetInterval ‚Äì„ÄãsetImmediate Áªº‰∏äÔºånextTickÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∫ßÁîü‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Âä†ÂÖ•taskÊàñËÄÖmicrotask‰∏≠ÔºåÂΩìÂâçÊ†àÊâßË°åÂÆå‰ª•ÂêéÔºàÂèØËÉΩ‰∏≠Èó¥ËøòÊúâÂà´ÁöÑÊéíÂú®ÂâçÈù¢ÁöÑÂáΩÊï∞ÔºâË∞ÉÁî®ËØ•ÂõûË∞ÉÂáΩÊï∞ÔºåËµ∑Âà∞‰∫ÜÂºÇÊ≠•Ëß¶ÂèëÔºàÂç≥‰∏ã‰∏Ä‰∏™tickÊó∂Ëß¶ÂèëÔºâÁöÑÁõÆÁöÑ„ÄÇ setImmediate(function(){ console.log(1); },0); setTimeout(function(){ console.log(2); },0); new Promise(function(resolve){ console.log(3); resolve(); console.log(4); }).then(function(){ console.log(5); }); console.log(6); process.nextTick(function(){ console.log(7); }); console.log(8); ÁªìÊûúÊòØÔºö3 4 6 8 7 5 2 1 flushSchedulerQueue/*Github:https://github.com/answershuto*/ /** * Flush both queues and run the watchers. */ /*nextTickÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂú®‰∏ã‰∏Ä‰∏™tickÊó∂flushÊéâ‰∏§‰∏™ÈòüÂàóÂêåÊó∂ËøêË°åwatchers*/ function flushSchedulerQueue () { flushing = true let watcher, id // Sort queue before flush. // This ensures that: // 1. Components are updated from parent to child. (because parent is always // created before the child) // 2. A component&apos;s user watchers are run before its render watcher (because // user watchers are created before the render watcher) // 3. If a component is destroyed during a parent component&apos;s watcher run, // its watchers can be skipped. /* ÁªôqueueÊéíÂ∫èÔºåËøôÊ†∑ÂÅöÂèØ‰ª•‰øùËØÅÔºö 1.ÁªÑ‰ª∂Êõ¥Êñ∞ÁöÑÈ°∫Â∫èÊòØ‰ªéÁà∂ÁªÑ‰ª∂Âà∞Â≠êÁªÑ‰ª∂ÁöÑÈ°∫Â∫èÔºåÂõ†‰∏∫Áà∂ÁªÑ‰ª∂ÊÄªÊòØÊØîÂ≠êÁªÑ‰ª∂ÂÖàÂàõÂª∫„ÄÇ 2.‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑuser watchersÊØîrender watcherÂÖàËøêË°åÔºåÂõ†‰∏∫user watchersÂæÄÂæÄÊØîrender watcherÊõ¥Êó©ÂàõÂª∫ 3.Â¶ÇÊûú‰∏Ä‰∏™ÁªÑ‰ª∂Âú®Áà∂ÁªÑ‰ª∂watcherËøêË°åÊúüÈó¥Ë¢´ÈîÄÊØÅÔºåÂÆÉÁöÑwatcherÊâßË°åÂ∞ÜË¢´Ë∑≥Ëøá„ÄÇ */ queue.sort((a, b) =&gt; a.id - b.id) // do not cache length because more watchers might be pushed // as we run existing watchers /*ËøôÈáå‰∏çÁî®index = queue.length;index &gt; 0; index--ÁöÑÊñπÂºèÂÜôÊòØÂõ†‰∏∫‰∏çË¶ÅÂ∞ÜlengthËøõË°åÁºìÂ≠òÔºåÂõ†‰∏∫Âú®ÊâßË°åÂ§ÑÁêÜÁé∞ÊúâwatcherÂØπË±°ÊúüÈó¥ÔºåÊõ¥Â§öÁöÑwatcherÂØπË±°ÂèØËÉΩ‰ºöË¢´pushËøõqueue*/ for (index = 0; index &lt; queue.length; index++) { watcher = queue[index] id = watcher.id /*Â∞ÜhasÁöÑÊ†áËÆ∞Âà†Èô§*/ has[id] = null /*ÊâßË°åwatcher*/ watcher.run() // in dev build, check and stop circular updates. /* Âú®ÊµãËØïÁéØÂ¢É‰∏≠ÔºåÊ£ÄÊµãwatchÊòØÂê¶Âú®Ê≠ªÂæ™ÁéØ‰∏≠ ÊØîÂ¶ÇËøôÊ†∑‰∏ÄÁßçÊÉÖÂÜµ watch: { test () { this.test++; } } ÊåÅÁª≠ÊâßË°å‰∫Ü‰∏ÄÁôæÊ¨°watch‰ª£Ë°®ÂèØËÉΩÂ≠òÂú®Ê≠ªÂæ™ÁéØ */ if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; has[id] != null) { circular[id] = (circular[id] || 0) + 1 if (circular[id] &gt; MAX_UPDATE_COUNT) { warn( &apos;You may have an infinite update loop &apos; + ( watcher.user ? `in watcher with expression &quot;${watcher.expression}&quot;` : `in a component render function.` ), watcher.vm ) break } } } // keep copies of post queues before resetting state /**/ /*ÂæóÂà∞ÈòüÂàóÁöÑÊã∑Ë¥ù*/ const activatedQueue = activatedChildren.slice() const updatedQueue = queue.slice() /*ÈáçÁΩÆË∞ÉÂ∫¶ËÄÖÁöÑÁä∂ÊÄÅ*/ resetSchedulerState() // call component updated and activated hooks /*‰ΩøÂ≠êÁªÑ‰ª∂Áä∂ÊÄÅÈÉΩÊîπÁºñÊàêactiveÂêåÊó∂Ë∞ÉÁî®activatedÈí©Â≠ê*/ callActivatedHooks(activatedQueue) /*Ë∞ÉÁî®updatedÈí©Â≠ê*/ callUpdateHooks(updatedQueue) // devtool hook /* istanbul ignore if */ if (devtools &amp;&amp; config.devtools) { devtools.emit(&apos;flush&apos;) } } flushSchedulerQueueÊòØ‰∏ã‰∏Ä‰∏™tickÊó∂ÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØÊâßË°åWatcherÁöÑrunÂáΩÊï∞ÔºåÁî®Êù•Êõ¥Êñ∞ËßÜÂõæ ‰∏∫‰ªÄ‰πàË¶ÅÂºÇÊ≠•Êõ¥Êñ∞ËßÜÂõæÊù•Áúã‰∏Ä‰∏ã‰∏ãÈù¢Ëøô‰∏ÄÊÆµ‰ª£Á†Å &lt;template&gt; &lt;div&gt; &lt;div&gt;{{test}}&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; export default { data () { return { test: 0 }; }, created () { for(let i = 0; i &lt; 1000; i++) { this.test++; } } } Áé∞Âú®ÊúâËøôÊ†∑ÁöÑ‰∏ÄÁßçÊÉÖÂÜµÔºåcreatedÁöÑÊó∂ÂÄôtestÁöÑÂÄº‰ºöË¢´++Âæ™ÁéØÊâßË°å1000Ê¨°„ÄÇÊØèÊ¨°++Êó∂ÔºåÈÉΩ‰ºöÊ†πÊçÆÂìçÂ∫îÂºèËß¶Âèësetter-&gt;Dep-&gt;Watcher-&gt;update-&gt;patch„ÄÇÂ¶ÇÊûúËøôÊó∂ÂÄôÊ≤°ÊúâÂºÇÊ≠•Êõ¥Êñ∞ËßÜÂõæÔºåÈÇ£‰πàÊØèÊ¨°++ÈÉΩ‰ºöÁõ¥Êé•Êìç‰ΩúDOMÊõ¥Êñ∞ËßÜÂõæÔºåËøôÊòØÈùûÂ∏∏Ê∂àËÄóÊÄßËÉΩÁöÑ„ÄÇÊâÄ‰ª•Vue.jsÂÆûÁé∞‰∫Ü‰∏Ä‰∏™queueÈòüÂàóÔºåÂú®‰∏ã‰∏Ä‰∏™tickÁöÑÊó∂ÂÄô‰ºöÁªü‰∏ÄÊâßË°åqueue‰∏≠WatcherÁöÑrun„ÄÇÂêåÊó∂ÔºåÊã•ÊúâÁõ∏ÂêåidÁöÑWatcher‰∏ç‰ºöË¢´ÈáçÂ§çÂä†ÂÖ•Âà∞ËØ•queue‰∏≠ÂéªÔºåÊâÄ‰ª•‰∏ç‰ºöÊâßË°å1000Ê¨°WatcherÁöÑrun„ÄÇÊúÄÁªàÊõ¥Êñ∞ËßÜÂõæÂè™‰ºöÁõ¥Êé•Â∞ÜtestÂØπÂ∫îÁöÑDOMÁöÑ0ÂèòÊàê1000„ÄÇ‰øùËØÅÊõ¥Êñ∞ËßÜÂõæÊìç‰ΩúDOMÁöÑÂä®‰ΩúÊòØÂú®ÂΩìÂâçÊ†àÊâßË°åÂÆå‰ª•Âêé‰∏ã‰∏Ä‰∏™tickÁöÑÊó∂ÂÄôË∞ÉÁî®ÔºåÂ§ßÂ§ß‰ºòÂåñ‰∫ÜÊÄßËÉΩ„ÄÇ ËÆøÈóÆÁúüÂÆûDOMËäÇÁÇπÊõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®‰øÆÊîπdata‰∏≠ÁöÑÊï∞ÊçÆÂêéËÆøÈóÆÁúüÂÆûÁöÑDOMËäÇÁÇπÊõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÔºåÂè™ÈúÄË¶ÅËøôÊ†∑ÔºåÊàë‰ª¨ÊääÊñáÁ´†Á¨¨‰∏Ä‰∏™‰æãÂ≠êËøõË°å‰øÆÊîπ„ÄÇ &lt;template&gt; &lt;div&gt; &lt;div ref=&quot;test&quot;&gt;{{test}}&lt;/div&gt; &lt;button @click=&quot;handleClick&quot;&gt;tet&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; export default { data () { return { test: &apos;begin&apos; }; }, methods () { handleClick () { this.test = &apos;end&apos;; this.$nextTick(() =&gt; { console.log(this.$refs.test.innerText);//ÊâìÂç∞&quot;end&quot; }); console.log(this.$refs.test.innerText);//ÊâìÂç∞‚Äúbegin‚Äù } } } ‰ΩøÁî®Vue.jsÁöÑglobal APIÁöÑ$nextTickÊñπÊ≥ïÔºåÂç≥ÂèØÂú®ÂõûË∞É‰∏≠Ëé∑ÂèñÂ∑≤ÁªèÊõ¥Êñ∞Â•ΩÁöÑDOMÂÆû‰æã‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>Vue</tag>
        <tag>nextTick</tag>
        <tag>event loop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSÁΩëÊ†ºÂ∏ÉÂ±ÄÔºàGridÔºâÂÆåÂÖ®ÊïôÁ®ã]]></title>
    <url>%2F2017%2F10%2F28%2FCSS%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80%EF%BC%88Grid%EF%BC%89%E5%AE%8C%E5%85%A8%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[CSSÁΩëÊ†ºÂ∏ÉÂ±ÄÔºàGridÔºâÂÆåÂÖ®ÊïôÁ®ã]]></content>
      <tags>
        <tag>CSS</tag>
        <tag>Grid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue.js Áà∂Â≠êÁªÑ‰ª∂ÈÄö‰ø°ÁöÑÂçÅÁßçÊñπÂºè&Â•áÊäÄÊ∑´Â∑ß]]></title>
    <url>%2F2017%2F10%2F22%2FVue-js-%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E7%9A%84%E5%8D%81%E7%A7%8D%E6%96%B9%E5%BC%8F%26%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïÂÆòÔºöVue ‰∏≠Áà∂Â≠êÁªÑ‰ª∂ÈÄö‰ø°ÊúâÂì™‰∫õÊñπÂºèÔºü vueÁªÑ‰ª∂ÈÄö‰ø°ÂÖ®Êè≠Áßò(ÂÖ±7Á´†) Âá†ÁßçÈÄö‰ø°ÊñπÂºèÊó†Â§ñ‰πé‰ª•‰∏ãÂá†ÁßçÔºö PropÔºàÂ∏∏Áî®Ôºâ $emit (ÁªÑ‰ª∂Â∞ÅË£ÖÁî®ÁöÑËæÉÂ§ö) .syncËØ≠Ê≥ïÁ≥ñ ÔºàËæÉÂ∞ëÔºâ $attrs Âíå $listeners (ÁªÑ‰ª∂Â∞ÅË£ÖÁî®ÁöÑËæÉÂ§ö) provide Âíå inject ÔºàÈ´òÈò∂ÁªÑ‰ª∂/ÁªÑ‰ª∂Â∫ìÁî®ÁöÑËæÉÂ§öÔºâ ÂÖ∂‰ªñÊñπÂºèÈÄö‰ø° PropËã±ÂºèÂèëÈü≥Ôºö[pr…íp]„ÄÇËøô‰∏™Âú®Êàë‰ª¨Êó•Â∏∏ÂºÄÂèëÂΩì‰∏≠Áî®Âà∞ÁöÑÈùûÂ∏∏Â§ö„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá Prop ÂêëÂ≠êÁªÑ‰ª∂‰º†ÈÄíÊï∞ÊçÆ„ÄÇÁî®‰∏Ä‰∏™ÂΩ¢Ë±°ÁöÑÊØîÂñªÊù•ËØ¥ÔºåÁà∂Â≠êÁªÑ‰ª∂‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ÈÄíÁõ∏ÂΩì‰∫éËá™‰∏äËÄå‰∏ãÁöÑ‰∏ãÊ∞¥ÁÆ°Â≠êÔºåÂè™ËÉΩ‰ªé‰∏äÂæÄ‰∏ãÊµÅÔºå‰∏çËÉΩÈÄÜÊµÅ„ÄÇËøô‰πüÊ≠£ÊòØ Vue ÁöÑËÆæËÆ°ÁêÜÂøµ‰πãÂçïÂêëÊï∞ÊçÆÊµÅ„ÄÇËÄå Prop Ê≠£ÊòØÁÆ°ÈÅì‰∏éÁÆ°ÈÅì‰πãÈó¥ÁöÑ‰∏Ä‰∏™Ë°îÊé•Âè£ÔºåËøôÊ†∑Ê∞¥ÔºàÊï∞ÊçÆÔºâÊâçËÉΩÂæÄ‰∏ãÊµÅ„ÄÇËØ¥Ëøô‰πàÂ§öÔºåÁúã‰ª£Á†ÅÔºö1234567891011121314151617181920212223&lt;divid=&quot;app&quot;&gt; &lt;child:content=&quot;message&quot;&gt;&lt;/child&gt;&lt;/div&gt;let Child = Vue.extend(&#123; template: &apos;&lt;h2&gt;&#123;&#123; content &#125;&#125;&lt;/h2&gt;&apos;, props: &#123; content: &#123; type: String, default: () =&gt; &#123; return&apos;from child&apos; &#125; &#125; &#125;&#125;)new Vue(&#123; el: &apos;#app&apos;, data: &#123; message: &apos;from parent&apos; &#125;, components: &#123; Child &#125;&#125;) 1from parent $emitËã±ÂºèÂèëÈü≥Ôºö[iÀàm…™t]„ÄÇÂÆòÊñπËØ¥Ê≥ïÊòØËß¶ÂèëÂΩìÂâçÂÆû‰æã‰∏äÁöÑ‰∫ã‰ª∂„ÄÇÈôÑÂä†ÂèÇÊï∞ÈÉΩ‰ºö‰º†ÁªôÁõëÂê¨Âô®ÂõûË∞É„ÄÇÊåâÁÖßÊàëÁöÑÁêÜËß£‰∏çÁü•ÈÅìËÉΩ‰∏çËÉΩÁªôÂ§ßÂÆ∂ËØ¥ÊòéÁôΩÔºåÂÖàÁÆÄÂçïÁúã‰∏ã‰ª£Á†ÅÂêßÔºö &lt;divid=&quot;app&quot;&gt; &lt;my-button @greet=&quot;sayHi&quot;&gt;&lt;/my-button&gt; &lt;/div&gt; let MyButton = Vue.extend({ template: &apos;&lt;button @click=&quot;triggerClick&quot;&gt;click&lt;/button&gt;&apos;, data () { return { greeting: &apos;vue.js!&apos; } }, methods: { triggerClick () { this.$emit(&apos;greet&apos;, this.greeting) } } }) new Vue({ el: &apos;#app&apos;, components: { MyButton }, methods: { sayHi (val) { alert(&apos;Hi, &apos; + val) // &apos;Hi, vue.js!&apos; } } }) Â§ßËá¥ÈÄªËæëÊòØÈÖ±Â©∂ÂÑøÁöÑÔºöÂΩìÊàëÂú®È°µÈù¢‰∏äÁÇπÂáªÊåâÈíÆÊó∂ÔºåËß¶Âèë‰∫ÜÁªÑ‰ª∂ MyButton ‰∏äÁöÑÁõëÂê¨‰∫ã‰ª∂ greetÔºåÂπ∂‰∏îÊääÂèÇÊï∞‰º†Áªô‰∫ÜÂõûË∞ÉÂáΩÊï∞ sayHi „ÄÇËØ¥ÁôΩ‰∫ÜÔºåÂΩìÊàë‰ª¨‰ªéÂ≠êÁªÑ‰ª∂ EmitÔºàÊ¥æÂèëÔºâ ‰∏Ä‰∏™‰∫ã‰ª∂‰πãÂâçÔºåÂÖ∂ÂÜÖÈÉ®ÈÉΩÊèêÂâçÂú®‰∫ã‰ª∂ÈòüÂàó‰∏≠ OnÔºàÁõëÂê¨Ôºâ‰∫ÜËøô‰∏™‰∫ã‰ª∂ÂèäÂÖ∂ÁõëÂê¨ÂõûË∞É„ÄÇÂÖ∂ÂÆûÁõ∏ÂΩì‰∫é‰∏ãÈù¢ËøôÁßçÂÜôÊ≥ïÔºö vm.$on(&apos;greet&apos;, functionsayHi (val) { console.log(&apos;Hi, &apos; + val) }) vm.$emit(&apos;greet&apos;, &apos;vue.js&apos;) // =&gt; &quot;Hi, vue.js&quot; .sync ‰øÆÈ•∞Á¨¶Ëøô‰∏™ÂÆ∂‰ºôÂú® vue@1.x ÁöÑÊó∂ÂÄôÊõæ‰Ωú‰∏∫ÂèåÂêëÁªëÂÆöÂäüËÉΩÂ≠òÂú®ÔºåÂç≥Â≠êÁªÑ‰ª∂ÂèØ‰ª•‰øÆÊîπÁà∂ÁªÑ‰ª∂‰∏≠ÁöÑÂÄº„ÄÇÂõ†‰∏∫ÂÆÉËøùÂèç‰∫ÜÂçïÂêëÊï∞ÊçÆÊµÅÁöÑËÆæËÆ°ÁêÜÂøµÔºåÊâÄ‰ª•Âú® vue@2.0 ÁöÑÊó∂ÂÄôË¢´Âπ≤Êéâ‰∫Ü„ÄÇ‰ΩÜÊòØÂú® vue@2.3.0+ ‰ª•‰∏äÁâàÊú¨ÂèàÈáçÊñ∞ÂºïÂÖ•‰∫ÜËøô‰∏™ .sync ‰øÆÈ•∞Á¨¶„ÄÇ‰ΩÜÊòØËøôÊ¨°ÂÆÉÂè™ÊòØ‰Ωú‰∏∫‰∏Ä‰∏™ÁºñËØëÊó∂ÁöÑËØ≠Ê≥ïÁ≥ñÂ≠òÂú®„ÄÇÂÆÉ‰ºöË¢´Êâ©Â±ï‰∏∫‰∏Ä‰∏™Ëá™Âä®Êõ¥Êñ∞Áà∂ÁªÑ‰ª∂Â±ûÊÄßÁöÑ v-on ÁõëÂê¨Âô®„ÄÇËØ¥ÁôΩ‰∫ÜÂ∞±ÊòØËÆ©Êàë‰ª¨ÊâãÂä®ËøõË°åÊõ¥Êñ∞Áà∂ÁªÑ‰ª∂‰∏≠ÁöÑÂÄº‰∫ÜÔºå‰ªéËÄå‰ΩøÊï∞ÊçÆÊîπÂä®Êù•Ê∫êÊõ¥Âä†ÁöÑÊòéÊòæ„ÄÇ‰∏ãÈù¢ÂºïÂÖ•Ëá™ÂÆòÊñπÁöÑ‰∏ÄÊÆµËØùÔºö Âú®Êúâ‰∫õÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØËÉΩÈúÄË¶ÅÂØπ‰∏Ä‰∏™ prop ËøõË°å‚ÄúÂèåÂêëÁªëÂÆö‚Äù„ÄÇ‰∏çÂπ∏ÁöÑÊòØÔºåÁúüÊ≠£ÁöÑÂèåÂêëÁªëÂÆö‰ºöÂ∏¶Êù•Áª¥Êä§‰∏äÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫Â≠êÁªÑ‰ª∂ÂèØ‰ª•‰øÆÊîπÁà∂ÁªÑ‰ª∂Ôºå‰∏îÂú®Áà∂ÁªÑ‰ª∂ÂíåÂ≠êÁªÑ‰ª∂ÈÉΩÊ≤°ÊúâÊòéÊòæÁöÑÊîπÂä®Êù•Ê∫ê„ÄÇ Êó¢ÁÑ∂‰Ωú‰∏∫‰∏Ä‰∏™ËØ≠Ê≥ïÁ≥ñÔºåËÇØÂÆöÊòØÊüêÁßçÂÜôÊ≥ïÁöÑÁÆÄÂÜôÂΩ¢ÂºèÔºåÂì™ÁßçÂÜôÊ≥ïÂë¢ÔºåÁúã‰ª£Á†ÅÔºö1234&lt;text-document v-bind:title=&quot;doc.title&quot; v-on:update:title=&quot;doc.title = $event&quot;&gt;&lt;/text-document&gt; ‰∫éÊòØÊàë‰ª¨ÂèØ‰ª•Áî® .sync ËØ≠Ê≥ïÁ≥ñÁÆÄÂÜôÊàêÂ¶Ç‰∏ãÂΩ¢ÂºèÔºö &lt;text-document v-bind:title.sync=&quot;doc.title&quot;&gt;&lt;/text-document&gt; Â∫üËØùËøô‰πàÂ§öÔºåÂ¶Ç‰ΩïÂÅöÂà∞‚ÄúÂèåÂêëÁªëÂÆö‚Äù Âë¢ÔºüËÆ©Êàë‰ª¨ËøõÊÆµÂπøÂëäÔºåÂπøÂëä‰πãÂêéÊõ¥Âä†Á≤æÂΩ©ÔºÅ‚Ä¶Â•ΩÁöÑÔºåÊ¨¢ËøéÂõûÊù•„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÊÉ≥ÂÆûÁé∞ËøôÊ†∑‰∏Ä‰∏™ÊïàÊûúÔºöÊîπÂèòÂ≠êÁªÑ‰ª∂ÊñáÊú¨Ê°Ü‰∏≠ÁöÑÂÄºÂêåÊó∂ÊîπÂèòÁà∂ÁªÑ‰ª∂‰∏≠ÁöÑÂÄº„ÄÇÊÄé‰πàÂÅöÔºüÂàó‰Ωç‰∏çÂ¶®ÂÖàÊÉ≥ÊÉ≥„ÄÇÂÖàÁúãÊÆµ‰ª£Á†ÅÔºö &lt;divid=&quot;app&quot;&gt; &lt;login:name.sync=&quot;userName&quot;&gt;&lt;/login&gt; {{ userName }} &lt;/div&gt; let Login = Vue.extend({ template: ` &lt;div class=&quot;input-group&quot;&gt; &lt;label&gt;ÂßìÂêç:&lt;/label&gt; &lt;input v-model=&quot;text&quot;&gt; &lt;/div&gt; `, props: [&apos;name&apos;], data () { return { text: &apos;&apos; } }, watch: { text (newVal) { this.$emit(&apos;update:name&apos;, newVal) } } }) new Vue({ el: &apos;#app&apos;, data: { userName: &apos;&apos; }, components: { Login } }) ‰∏ãÈù¢ÂàíÈáçÁÇπÔºå‰ª£Á†ÅÈáåÊúâËøô‰∏ÄÂè•ËØùÔºö this.$emit(&apos;update:name&apos;, newVal) ÂÆòÊñπËØ≠Ê≥ïÊòØÔºöupdate:myPropName ÂÖ∂‰∏≠ myPropName Ë°®Á§∫Ë¶ÅÊõ¥Êñ∞ÁöÑ prop ÂÄº„ÄÇÂΩìÁÑ∂Â¶ÇÊûú‰Ω†‰∏çÁî® .sync ËØ≠Ê≥ïÁ≥ñ‰ΩøÁî®‰∏äÈù¢ÁöÑ .$emit ‰πüËÉΩËææÂà∞ÂêåÊ†∑ÁöÑÊïàÊûú„ÄÇ‰ªÖÊ≠§ËÄåÂ∑≤ÔºÅ $attrs Âíå $listeners ÂÆòÁΩëÂØπ $attrs ÁöÑËß£ÈáäÂ¶Ç‰∏ãÔºö ÂåÖÂê´‰∫ÜÁà∂‰ΩúÁî®Âüü‰∏≠‰∏ç‰Ωú‰∏∫ prop Ë¢´ËØÜÂà´ (‰∏îËé∑Âèñ) ÁöÑÁâπÊÄßÁªëÂÆö (class Âíå style Èô§Â§ñ)„ÄÇÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂Ê≤°ÊúâÂ£∞Êòé‰ªª‰Ωï prop Êó∂ÔºåËøôÈáå‰ºöÂåÖÂê´ÊâÄÊúâÁà∂‰ΩúÁî®ÂüüÁöÑÁªëÂÆö (class Âíå style Èô§Â§ñ)ÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøá v-bind=&quot;$attrs&quot; ‰º†ÂÖ•ÂÜÖÈÉ®ÁªÑ‰ª∂‚Äî‚ÄîÂú®ÂàõÂª∫È´òÁ∫ßÂà´ÁöÑÁªÑ‰ª∂Êó∂ÈùûÂ∏∏ÊúâÁî®„ÄÇ ÂÆòÁΩëÂØπ $listeners ÁöÑËß£ÈáäÂ¶Ç‰∏ãÔºö ÂåÖÂê´‰∫ÜÁà∂‰ΩúÁî®Âüü‰∏≠ÁöÑ (‰∏çÂê´ .native ‰øÆÈ•∞Âô®ÁöÑ) v-on ‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇÂÆÉÂèØ‰ª•ÈÄöËøá v-on=&quot;$listeners&quot; ‰º†ÂÖ•ÂÜÖÈÉ®ÁªÑ‰ª∂‚Äî‚ÄîÂú®ÂàõÂª∫Êõ¥È´òÂ±ÇÊ¨°ÁöÑÁªÑ‰ª∂Êó∂ÈùûÂ∏∏ÊúâÁî®„ÄÇ ÊàëËßâÂæó $attrs Âíå $listeners Â±ûÊÄßÂÉè‰∏§‰∏™Êî∂Á∫≥ÁÆ±Ôºå‰∏Ä‰∏™Ë¥üË¥£Êî∂Á∫≥Â±ûÊÄßÔºå‰∏Ä‰∏™Ë¥üË¥£Êî∂Á∫≥‰∫ã‰ª∂ÔºåÈÉΩÊòØ‰ª•ÂØπË±°ÁöÑÂΩ¢ÂºèÊù•‰øùÂ≠òÊï∞ÊçÆ„ÄÇÁúã‰∏ãÈù¢ÁöÑ‰ª£Á†ÅËß£ÈáäÔºö &lt;divid=&quot;app&quot;&gt; &lt;child:foo=&quot;foo&quot;:bar=&quot;bar&quot; @one.native=&quot;triggerOne&quot; @two=&quot;triggerTwo&quot;&gt; &lt;/child&gt; &lt;/div&gt; ‰ªé Html ‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÈáåÊúâ‰ø©Â±ûÊÄßÂíå‰ø©ÊñπÊ≥ïÔºåÂå∫Âà´ÊòØÂ±ûÊÄß‰∏Ä‰∏™ÊòØ prop Â£∞ÊòéÔºå‰∫ã‰ª∂‰∏Ä‰∏™ÊòØ .native ‰øÆÈ•∞Âô®„ÄÇ let Child = Vue.extend({ template: &apos;&lt;h2&gt;{{ foo }}&lt;/h2&gt;&apos;, props: [&apos;foo&apos;], created () { console.log(this.$attrs, this.$listeners) // -&gt; {bar: &quot;parent bar&quot;} // -&gt; {two: fn} // ËøôÈáåÊàë‰ª¨ËÆøÈóÆÁà∂ÁªÑ‰ª∂‰∏≠ÁöÑ `triggerTwo` ÊñπÊ≥ï this.$listeners.two() // -&gt; &apos;two&apos; } }) new Vue({ el: &apos;#app&apos;, data: { foo: &apos;parent foo&apos;, bar: &apos;parent bar&apos; }, components: { Child }, methods: { triggerOne () { alert(&apos;one&apos;) }, triggerTwo () { alert(&apos;two&apos;) } } }) ÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá $attrs Âíå $listeners ËøõË°åÊï∞ÊçÆ‰º†ÈÄíÔºåÂú®ÈúÄË¶ÅÁöÑÂú∞ÊñπËøõË°åË∞ÉÁî®ÂíåÂ§ÑÁêÜÔºåËøòÊòØÂæàÊñπ‰æøÁöÑ„ÄÇÂΩìÁÑ∂ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøá v-on=&quot;$listeners&quot; ‰∏ÄÁ∫ßÁ∫ßÁöÑÂæÄ‰∏ã‰º†ÈÄíÔºåÂ≠êÂ≠êÂ≠ôÂ≠ôÊó†Á©∑Â∞Ω‰πüÔºÅ ‰∏Ä‰∏™ÊèíÊõ≤ÔºÅ ÂΩìÊàë‰ª¨Âú®ÁªÑ‰ª∂‰∏äËµã‰∫à‰∫Ü‰∏Ä‰∏™ÈùûProp Â£∞ÊòéÊó∂ÔºåÁºñËØë‰πãÂêéÁöÑ‰ª£Á†Å‰ºöÊääËøô‰∫õ‰∏™Â±ûÊÄßÈÉΩÂΩìÊàêÂéüÂßãÂ±ûÊÄßÂØπÂæÖÔºåÊ∑ªÂä†Âà∞ html ÂéüÁîüÊ†áÁ≠æ‰∏äÔºåÁúã‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁºñËØë‰πãÂêéÁöÑÊ†∑Â≠êÔºö &lt;h2 bar=&quot;parent bar&quot;&gt;parent foo&lt;/h2&gt; ËøôÊ†∑‰ºöÂæàÈöæÁúãÔºåÂêåÊó∂‰πüÁàÜ‰∫ÜÊüê‰∫õ‰∏úË•ø„ÄÇÂ¶Ç‰ΩïÂéªÊéâÔºüËøôÊ≠£ÊòØ inheritAttrs Â±ûÊÄßÁöÑÁî®Ê≠¶‰πãÂú∞ÔºÅÁªôÁªÑ‰ª∂Âä†‰∏äËøô‰∏™Â±ûÊÄßÂ∞±Ë°å‰∫ÜÔºå‰∏ÄËà¨ÊòØÈÖçÂêà $attrs ‰ΩøÁî®„ÄÇÁúã‰ª£Á†ÅÔºö // Ê∫êÁ†Å let Child = Vue.extend({ ... inheritAttrs: false, // ÈªòËÆ§ÊòØ true ... }) ÂÜçÊ¨°ÁºñËØëÔºö &lt;h2&gt;parent foo&lt;/h2&gt; provide / inject‰ªñ‰ø©ÊòØÂØπCP, ÊÑüËßâÊå∫Á•ûÁßòÁöÑ„ÄÇÊù•Áúã‰∏ãÂÆòÊñπÂØπ provide / inject ÁöÑÊèèËø∞Ôºö provide Âíå inject ‰∏ªË¶Å‰∏∫È´òÈò∂Êèí‰ª∂/ÁªÑ‰ª∂Â∫ìÊèê‰æõÁî®‰æã„ÄÇÂπ∂‰∏çÊé®ËçêÁõ¥Êé•Áî®‰∫éÂ∫îÁî®Á®ãÂ∫è‰ª£Á†Å‰∏≠„ÄÇÂπ∂‰∏îËøôÂØπÈÄâÈ°πÈúÄË¶Å‰∏ÄËµ∑‰ΩøÁî®Ôºå‰ª•ÂÖÅËÆ∏‰∏Ä‰∏™Á•ñÂÖàÁªÑ‰ª∂ÂêëÂÖ∂ÊâÄÊúâÂ≠êÂ≠ôÂêé‰ª£Ê≥®ÂÖ•‰∏Ä‰∏™‰æùËµñÔºå‰∏çËÆ∫ÁªÑ‰ª∂Â±ÇÊ¨°ÊúâÂ§öÊ∑±ÔºåÂπ∂Âú®Ëµ∑‰∏ä‰∏ãÊ∏∏ÂÖ≥Á≥ªÊàêÁ´ãÁöÑÊó∂Èó¥ÈáåÂßãÁªàÁîüÊïà„ÄÇ ÁúãÂÆåÊèèËø∞ÊúâÁÇπÊáµÊáµÊáÇÊáÇÔºÅ‰∏ÄÂè•ËØùÊÄªÁªìÂ∞±ÊòØÔºöÂ∞èÊó∂ÂÄô‰Ω†ËÄÅÁà∏‰ªÄ‰πà‰∏úË•øÈÉΩÂÖàÂ∏Æ‰Ω†Â≠òÁùÄÁ≠â‰Ω†ÈïøÂ§ßËØ•Â®∂Â™≥Â¶áÂÑø‰∫Ü‰Ω†Ë¶ÅÊàøÂ≠êÁªô‰Ω†‰π∞Ë¶ÅËΩ¶Áªô‰Ω†‰π∞Âè™Ë¶Å‰ªñÊúâÁöÑÂ∞ΩÈáèÈÉΩ‰ºöÊª°Ë∂≥‰Ω†„ÄÇ‰∏ãÈù¢ÊòØËøôÂè•ËØùÁöÑ‰ª£Á†ÅËß£ÈáäÔºö &lt;divid=&quot;app&quot;&gt; &lt;son&gt;&lt;/son&gt; &lt;/div&gt; let Son = Vue.extend({ template: &apos;&lt;h2&gt;son&lt;/h2&gt;&apos;, inject: { house: { default: &apos;Ê≤°Êàø&apos; }, car: { default: &apos;Ê≤°ËΩ¶&apos; }, money: { // ÈïøÂ§ßÂ∑•‰Ωú‰∫ÜËôΩÁÑ∂ÊúâÁÇπÈí±// ‰ªÖ‰æõÁîüÊ¥ªË¥πÔºåÈúÄË¶ÅÂêëÁà∂ÊØçË¶Ådefault: &apos;Ôø•4500&apos; } }, created () { console.log(this.house, this.car, this.money) // -&gt; &apos;ÊàøÂ≠ê&apos;, &apos;ËΩ¶Â≠ê&apos;, &apos;Ôø•10000&apos; } }) new Vue({ el: &apos;#app&apos;, provide: { house: &apos;ÊàøÂ≠ê&apos;, car: &apos;ËΩ¶Â≠ê&apos;, money: &apos;Ôø•10000&apos; }, components: { Son } }) ÂÖ∂‰ªñÊñπÂºèÈÄö‰ø°Èô§‰∫Ü‰ª•‰∏ä‰∫îÁßçÊñπÂºèÂ§ñÔºåÂÖ∂ÂÆûËøòÊúâÔºö EventBus ÊÄùË∑ØÂ∞±ÊòØÂ£∞Êòé‰∏Ä‰∏™ÂÖ®Â±ÄVueÂÆû‰æãÂèòÈáè EventBus , ÊääÊâÄÊúâÁöÑÈÄö‰ø°Êï∞ÊçÆÔºå‰∫ã‰ª∂ÁõëÂê¨ÈÉΩÂ≠òÂÇ®Âà∞Ëøô‰∏™ÂèòÈáè‰∏ä„ÄÇËøôÊ†∑Â∞±ËææÂà∞Âú®ÁªÑ‰ª∂Èó¥Êï∞ÊçÆÂÖ±‰∫´‰∫ÜÔºåÊúâÁÇπÁ±ª‰ºº‰∫é Vuex„ÄÇ‰ΩÜËøôÁßçÊñπÂºèÂè™ÈÄÇÁî®‰∫éÊûÅÂ∞èÁöÑÈ°πÁõÆÔºåÂ§çÊùÇÈ°πÁõÆËøòÊòØÊé®Ëçê Vuex„ÄÇ‰∏ãÈù¢ÊòØÂÆûÁé∞ EventBus ÁöÑÁÆÄÂçï‰ª£Á†ÅÔºö &lt;divid=&quot;app&quot;&gt; &lt;child&gt;&lt;/child&gt; &lt;/div&gt; // ÂÖ®Â±ÄÂèòÈáè let EventBus = new Vue() // Â≠êÁªÑ‰ª∂ let Child = Vue.extend({ template: &apos;&lt;h2&gt;child&lt;/h2&gt;&apos;, created () { console.log(EventBus.message) // -&gt; &apos;hello&apos; EventBus.$emit(&apos;received&apos;, &apos;from child&apos;) } }) new Vue({ el: &apos;#app&apos;, components: { Child }, created () { // ÂèòÈáè‰øùÂ≠ò EventBus.message = &apos;hello&apos;// ‰∫ã‰ª∂ÁõëÂê¨ EventBus.$on(&apos;received&apos;, function (val) { console.log(&apos;received: &apos;+ val) // -&gt; &apos;received: from child&apos; }) } }) Vuex ÂÆòÊñπÊé®ËçêÁöÑÔºåVuex ÊòØ‰∏Ä‰∏™‰∏ì‰∏∫ Vue.js Â∫îÁî®Á®ãÂ∫èÂºÄÂèëÁöÑÁä∂ÊÄÅÁÆ°ÁêÜÊ®°Âºè„ÄÇ $parent Áà∂ÂÆû‰æãÔºåÂ¶ÇÊûúÂΩìÂâçÂÆû‰æãÊúâÁöÑËØù„ÄÇÈÄöËøáËÆøÈóÆÁà∂ÂÆû‰æã‰πüËÉΩËøõË°åÊï∞ÊçÆ‰πãÈó¥ÁöÑ‰∫§‰∫íÔºå‰ΩÜÊûÅÂ∞èÊÉÖÂÜµ‰∏ã‰ºöÁõ¥Êé•‰øÆÊîπÁà∂ÁªÑ‰ª∂‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ $root ÂΩìÂâçÁªÑ‰ª∂Ê†ëÁöÑÊ†π Vue ÂÆû‰æã„ÄÇÂ¶ÇÊûúÂΩìÂâçÂÆû‰æãÊ≤°ÊúâÁà∂ÂÆû‰æãÔºåÊ≠§ÂÆû‰æãÂ∞Ü‰ºöÊòØÂÖ∂Ëá™Â∑±„ÄÇÈÄöËøáËÆøÈóÆÊ†πÁªÑ‰ª∂‰πüËÉΩËøõË°åÊï∞ÊçÆ‰πãÈó¥ÁöÑ‰∫§‰∫íÔºå‰ΩÜÊûÅÂ∞èÊÉÖÂÜµ‰∏ã‰ºöÁõ¥Êé•‰øÆÊîπÁà∂ÁªÑ‰ª∂‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ broadcast / dispatch ‰ªñ‰ø©ÊòØ vue@1.0 ‰∏≠ÁöÑÊñπÊ≥ïÔºåÂàÜÂà´ÊòØ‰∫ã‰ª∂ÂπøÊí≠ Âíå ‰∫ã‰ª∂Ê¥æÂèë„ÄÇËôΩÁÑ∂ vue@2.0 ÈáåÈù¢Âà†Êéâ‰∫ÜÔºå‰ΩÜÂèØ‰ª•Ê®°ÊãüËøô‰∏§‰∏™ÊñπÊ≥ï„ÄÇÂèØ‰ª•ÂÄüÈâ¥ Element ÂÆûÁé∞„ÄÇÊúâÊó∂ÂÄôËøòÊòØÈùûÂ∏∏ÊúâÁî®ÁöÑÔºåÊØîÂ¶ÇÊàë‰ª¨Âú®ÂºÄÂèëÊ†ëÂΩ¢ÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÁ≠âÁ≠â„ÄÇ Áªô props Â±ûÊÄßËÆæÁΩÆÂ§ö‰∏™Á±ªÂûãËøô‰∏™ÊäÄÂ∑ßÂú®ÂºÄÂèëÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÁî®ÁöÑËæÉÂ§öÔºå‰∏∫‰∫ÜÊõ¥Â§ßÁöÑÂÆπÈîôÊÄßËÄÉËôë„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ &lt;my-button&gt; ‰∏äÊö¥Èú≤‰∫Ü‰∏Ä‰∏™ width Â±ûÊÄßÔºö1234567// my-button.vueexport default &#123; props: &#123; width: [String, Number], default: &apos;100px&apos; &#125;&#125; Êàë‰ª¨Êó¢ÂèØ‰ª•‰º† 100pxÔºå‰πüÂèØ‰ª•‰º† 100 „ÄÇ123456789101112131415161718192021&lt;!-- my-button.vue --&gt;&lt;template&gt; &lt;button :style=&quot;computedWidth&quot;&gt;width: &#123;&#123; computedWidth &#125;&#125;&lt;/button&gt;&lt;/template&gt;&lt;script&gt; export default &#123; props: &#123; width: [String, Number], default: &apos;100px&apos; &#125;, computed: &#123; computedWidth () &#123; let o = &#123;&#125; if (typeof this.width === &apos;string&apos;) o.width = this.width if (typeof this.width === &apos;number&apos;) o.width = this.width + &apos;px&apos; return o &#125; &#125; &#125;&lt;/script&gt; ‰ΩøÁî®Ôºö 123456&lt;!-- Âú®ÂÖ∂‰ªñÁªÑ‰ª∂‰∏≠‰ΩøÁî® --&gt;&lt;template&gt; &lt;my-button width=&quot;100px&quot;&gt;&lt;/my-button&gt; &lt;!-- or --&gt; &lt;my-button width=&quot;100&quot;&gt;&lt;/my-button&gt;&lt;/template&gt; data ÂàùÂßãÂåñÂõ†‰∏∫ props Ë¶ÅÊØî data ÂÖàÂÆåÊàêÂàùÂßãÂåñÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Âà©Áî®Ëøô‰∏ÄÁÇπÁªô data ÂàùÂßãÂåñ‰∏Ä‰∫õÊï∞ÊçÆËøõÂéªÔºåÁúã‰ª£Á†ÅÔºö export default { data () { return { buttonSize: this.size } }, props: { size: String } } Èô§‰∫Ü‰ª•‰∏äÔºåÂ≠êÁªÑ‰ª∂ÁöÑ data ÂáΩÊï∞‰πüÂèØ‰ª•ÊúâÂèÇÊï∞Ôºå‰∏îËØ•ÂèÇÊï∞ÊòØÂΩìÂâçÂÆû‰æãÂØπË±°„ÄÇÊâÄÊúâÊàë‰ª¨ÂèØ‰ª•Âà©Áî®Ëøô‰∏ÄÁÇπÂÅö‰∏Ä‰∫õËá™Â∑±ÁöÑÂà§Êñ≠„ÄÇÂ¶ÇÔºåÊîπÂÜô‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºö export default { data (vm) { return { buttonSize: vm.size } }, props: { size: String } } templateÊàë‰ª¨Âú®ÂÅö v-if Âà§Êñ≠ÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÊääÂà§Êñ≠Êù°‰ª∂ÊîæÂú® template ÁªÑ‰ª∂‰∏äÔºåÊúÄÁªàÁöÑÊ∏≤ÊüìÁªìÊûúÂ∞Ü‰∏çÂåÖÂê´ &lt;template&gt; ÂÖÉÁ¥†„ÄÇ 12345678910&lt;template&gt; &lt;div class=&quot;box&quot;&gt; &lt;template v-if=&quot;isVal&quot;&gt; &lt;h2&gt;...&lt;/h2&gt; &lt;/template&gt; &lt;template v-else&gt; &lt;h2&gt;...&lt;/h2&gt; &lt;/template&gt; &lt;/div&gt;&lt;/template&gt; v-for ‰πüÂêåÊ†∑ÈÄÇÁî®„ÄÇ Lifecycle hookÁîüÂëΩÂë®ÊúüÈí©Â≠êÂèØ‰ª•ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÁ±ªÂûãÔºå‰∏îÊï∞ÁªÑ‰∏≠ÁöÑÂáΩÊï∞‰ºö‰æùÊ¨°ÊâßË°å„ÄÇ export default { ... created: [ function one () { console.log(1) }, function two () { console.log(2) } ] ... } Ê≤°‰ªÄ‰πàÁî®ÔºåÁü•ÈÅìÂ∞±Ë°å‰∫Ü„ÄÇ‰∫ãÂÆû‰∏äÁîüÂëΩÂë®ÊúüÈí©Â≠êËøòÂèØ‰ª•‰ΩúÁî®‰∫é DOM ÂÖÉÁ¥†‰∏äÔºåÂà©Áî®Ëøô‰∏ÄÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•Áî®Áà∂ÁªÑ‰ª∂‰∏≠ÁöÑÊñπÊ≥ïÊù•ÂàùÂßãÂåñÂ≠êÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüÈí©Â≠êÔºö 123456789101112131415161718192021&lt;!-- Child.vue --&gt;&lt;template&gt; &lt;h3&gt;I&apos;m child!&lt;/h3&gt;&lt;/template&gt;&lt;!-- Parent.vue --&gt;&lt;template&gt; &lt;child @hook:created=&quot;handleChildCreated&quot;&gt;&lt;/child&gt;&lt;/template&gt;&lt;script&gt; import Child from &apos;./child.vue&apos; export default &#123; components: [ Child ], methods: &#123; handleChildCreated () &#123; console.log(&apos;handle child created...&apos;) &#125; &#125; &#125;&lt;/script&gt; ÂÖ∂‰ªñÈí©Â≠êÈõ∑ÂêåÔºå‰∏çÂÜçËµòËø∞„ÄÇ v-for Âíå v-if ‰∏ÄËµ∑‰ΩøÁî®Áî±‰∫é v-for ÊØî v-if Ê∏≤Êüì‰ºòÂÖàÁ∫ßÊõ¥È´òÔºåÊâÄ‰ª•ÊúâÊó∂ÂÄôÂèØ‰ª•‰∏ÄËµ∑‰ΩøÁî®„ÄÇ‰∏ãÈù¢‰∏§ÁßçÂ∏∏ËßÅÁöÑÊÉÖÂÜµ‰∏ã‰ºöÂÄæÂêë‰∫éÊää v-for Âíå v-if ÊîæÂú®Âêå‰∏Ä‰∏™Ê†áÁ≠æ‰∏ä‰ΩøÁî®Ôºö Á≠õÈÄâ‰∏Ä‰∫õ‰∏çÊÉ≥ÊòæÁ§∫ÁöÑÊù°ÁõÆ ‰∏∫‰∫ÜÈÅøÂÖçÊ∏≤ÊüìÊú¨Â∫îËØ•Ë¢´ÈöêËóèÁöÑÂàóË°® ‰∏æ‰∏™Ê†óÂ≠êÔºö 12345&lt;template&gt; &lt;ul class=&quot;items&quot;&gt; &lt;!-- Âè™ÊúâÊøÄÊ¥ªÁöÑÁî®Êà∑ÊâçÂèØ‰ª•ÊòæÁ§∫ --&gt; &lt;li v-for=&quot;(user, index) in users&quot; v-if=&quot;user.isActive&quot; :key=&quot;user.id&quot;&gt;&#123;&#123; user.name &#125;&#125;&lt;/li&gt;&lt;/template&gt; ÂÖ≥‰∫é‰ª•‰∏ä‰∏§ÁÇπ‰∏çÊòéÁôΩÁöÑÂú∞ÊñπÂèØ‰ª•ÂèÇËßÅ Vue È£éÊ†ºÊåáÂçó„ÄÇ Ê∑∑ÂêàÂ¶ÇÊûúÂ•ΩÂ§öÁªÑ‰ª∂ÈÉΩÂÖ±Áî®Âà∞‰∏Ä‰∫õÂÉè props„ÄÅdata„ÄÅmethods Á≠âÔºåÂèØ‰ª•ÂçïÁã¨ÊäΩÂá∫Êù•ÊîæÂà∞ mixins Ê∑∑ÂêàÂô®‰∏≠„ÄÇ // paging-mixin.vue export default { props: { pageSize: 1, pageLength: 10, currentPage: 1 total: 20 }, methods: { /** * ‰∏ä‰∏ÄÈ°µ */ prevPage (page) { ... }, /** * ‰∏ã‰∏ÄÈ°µ */ nextPage (page) { ... } /** * Ë∑≥ËΩ¨Âà∞ÂΩìÂâçÈ°µ */ currentPage (page) { ... } } } ÊØîÂ¶ÇÂú®Áî®Êà∑ÁÆ°ÁêÜÂàóË°®‰ΩøÁî®Ôºö 12345678910111213141516171819202122232425262728&lt;!-- Users.vue --&gt;&lt;template&gt; &lt;div class=&quot;user-model&quot;&gt; &lt;my-table :data=&quot;users&quot;&gt;&lt;/my-table&gt; &lt;my-paging :page-length=&quot;pageLength&quot; :page-size=&quot;pageSize&quot; :current-page=&quot;currentPage&quot; :total=&quot;total&quot;&gt; &lt;/my-paging&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import PagingMixin from &apos;../mixins/paging-mixin.vue&apos; export default &#123; mixins: [PagingMixin], data () &#123; return &#123; users: [], pageLength: 10, pageSize: 1, currentPage: 1, total: 20 &#125; &#125; &#125;&lt;/script&gt; ‰∏çÁî®ÊØè‰∏™È°µÈù¢ÈÉΩÂÜô‰∏ÄÈÅç props Âíå methods ‰∫Ü„ÄÇ render ÂáΩÊï∞‰∏ãÈù¢ÊòØ‰∏ÄÊÆµÁÆÄÂçïÁöÑ template Ê®°Êùø‰ª£Á†ÅÔºö 123456&lt;template&gt; &lt;div class=&quot;box&quot;&gt; &lt;h2&gt;title&lt;/h2&gt; this is content &lt;/div&gt;&lt;/template&gt; Êàë‰ª¨Áî®Ê∏≤ÊüìÂáΩÊï∞Êù•ÈáçÂÜô‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºö 12345678export default &#123; render (h) &#123; let _c = h return _c(&apos;div&apos;, &#123; class: &apos;box&apos;&#125;, [_c(&apos;h2&apos;, &#123;&#125;, &apos;title&apos;), &apos;this is content&apos;]) &#125;&#125; ‰∫ãÂÆû‰∏äÔºåVue ‰ºöÊääÊ®°Êùø(template)ÁºñËØëÊàêÊ∏≤ÊüìÂáΩÊï∞(render) „ÄÇ‰∏äÈù¢ÁöÑ template Ê®°Êùø‰ºöË¢´ÁºñËØëÊàêÂ¶Ç‰∏ãÊ∏≤ÊüìÂáΩÊï∞Ôºö 12345let render = function () &#123; return _c(&apos;div&apos;, &#123;staticClass:&quot;box&quot;&#125;, [_c(&apos;h2&apos;, [_v(&quot;title&quot;)]), _v(&quot;this is content&quot;)])&#125; ÊòØ‰∏çÊòØÂæàÂÉèÔºü Ê≠£Â¶ÇÂÆòÊñπËØ¥ÁöÑÔºåÊ∏≤ÊüìÂáΩÊï∞ÊØî template Êõ¥Êé•ËøëÁºñËØëÂô®„ÄÇÂ¶ÇÊûúÁî®‰∏Ä‰∏™ÊµÅÁ®ãÂõæÊù•Ëß£ÈáäÁöÑËØùÔºåÂ§ßÊ¶ÇÊòØËøô‰∏™Ê†∑Â≠êÔºö1234567template ‚ÜìÈ¢ÑÁºñËØëÂ∑•ÂÖ∑Ôºàvue-loader + vue-template-compileÔºâ ‚Üì render ‚Üìresolve vnode ÂÖ∑‰ΩìÂèÇËßÅ VueÂ£∞ÊòéÂë®ÊúüÂõæÁ§∫ Ê∏≤ÊüìÂáΩÊï∞Áî®Â§ÑÔºö ÂºÄÂèëÁªÑ‰ª∂Â∫ìÔºåElement Ê∫êÁ†ÅÁî®ÁöÑÈÉΩÊòØ render Â∞ÅË£Ö‰∏Ä‰∫õÈ´òÈò∂ÁªÑ‰ª∂„ÄÇÁªÑ‰ª∂ÈáåÈù¢ÂµåÂ•óÁªÑ‰ª∂Â∞±ÊòØÈ´òÈò∂ÁªÑ‰ª∂ÔºåÂâçÊèêÊòØË¶ÅÊª°Ë∂≥ÁªÑ‰ª∂‰∏âË¶ÅÁ¥†Ôºöprops„ÄÅevent„ÄÅslot Áî®‰∫éÂ§ÑÁêÜ‰∏Ä‰∫õÂ§çÊùÇÁöÑÈÄªËæëÂà§Êñ≠„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰∏Ä‰∏™ÁªÑ‰ª∂ÈáåÈù¢ÊúâÂæàÂ§öÁöÑ v-if Âà§Êñ≠ÁöÑËØùÔºåÁî®Ê®°ÊùøÂ∞±ÊòæÂæó‰∏çÂêàÈÄÇ‰∫ÜÔºåËøô‰∏™Êó∂ÂÄôÂèØ‰ª•Áî®Ê∏≤ÊüìÂáΩÊï∞Êù•ËΩªÊùæÂ§ÑÁêÜ errorCapturedÊçïËé∑‰∏Ä‰∏™Êù•Ëá™Â≠êÂ≠ôÁªÑ‰ª∂ÁöÑÈîôËØØÊó∂Ë¢´Ë∞ÉÁî®„ÄÇÊúâÊó∂ÂÄôÂΩìÊàë‰ª¨ÊÉ≥Êî∂ÈõÜÈîôËØØÊó•ÂøóÔºåÂç¥‰∏çÊÉ≥ÊääÈîôËØØÊö¥Èú≤Âà∞ÊµèËßàÂô®ÊéßÂà∂Âè∞ÁöÑÊó∂ÂÄôÂæàÊúâÁî®„ÄÇ‰∏ãÈù¢ÊòØ‰∏™‰æãÂ≠êÔºö Child.vue 1234567891011&lt;template&gt; &lt;!-- ÁúÅÁï•‰∏Ä‰∫õÊó†ÂÖ≥‰ª£Á†Å --&gt;&lt;/template&gt;&lt;script&gt; export default &#123; mounted () &#123; // ÊïÖÊÑèÊää console ÂÜôÈîô consol.log(&apos;ËøôÈáå‰ºöÊä•ÈîôÔºÅ&apos;) &#125; &#125;&lt;/script&gt; Parent.vue 123456789101112131415161718192021222324252627&lt;template&gt; &lt;child&gt;&lt;/child&gt;&lt;/template&gt;&lt;script&gt; import Child from &apos;./Child.vue&apos; export default &#123; components: [ Child ], /** * Êî∂Âà∞‰∏â‰∏™ÂèÇÊï∞Ôºö * ÈîôËØØÂØπË±°„ÄÅÂèëÁîüÈîôËØØÁöÑÁªÑ‰ª∂ÂÆû‰æã * ‰ª•Âèä‰∏Ä‰∏™ÂåÖÂê´ÈîôËØØÊù•Ê∫ê‰ø°ÊÅØÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ * Ê≠§Èí©Â≠êÂèØ‰ª•ËøîÂõû false ‰ª•ÈòªÊ≠¢ËØ•ÈîôËØØÁªßÁª≠Âêë‰∏ä‰º†Êí≠„ÄÇ */ errorCaptured (err, vm, info) &#123; console.log(err) // -&gt; ReferenceError: consle is not defined ... console.log(vm) // -&gt; &#123;_uid: 1, _isVue: true, $options: &#123;‚Ä¶&#125;, _renderProxy: o, _self: o,‚Ä¶&#125; console.log(info) // -&gt; `mounted hook` // ÂëäËØâÊàë‰ª¨Ëøô‰∏™ÈîôËØØÊòØÂú® vm ÁªÑ‰ª∂‰∏≠ÁöÑ mounted Èí©Â≠ê‰∏≠ÂèëÁîüÁöÑ // ÈòªÊ≠¢ËØ•ÈîôËØØÁªßÁª≠Âêë‰∏ä‰º†Êí≠ return false &#125; &#125;&lt;/script&gt; ÂÖ≥‰∫é errorCaptured Êõ¥Â§öËØ¥ÊòéÔºåËØ∑ÁßªÊ≠•ÂÆòÁΩë-&gt; „ÄÇ v-onceÈÄöËøá v-once ÂàõÂª∫‰ΩéÂºÄÈîÄÁöÑÈùôÊÄÅÁªÑ‰ª∂„ÄÇÊ∏≤ÊüìÊôÆÈÄöÁöÑ HTML ÂÖÉÁ¥†Âú® Vue ‰∏≠ÊòØÈùûÂ∏∏Âø´ÈÄüÁöÑÔºå‰ΩÜÊúâÁöÑÊó∂ÂÄô‰Ω†ÂèØËÉΩÊúâ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂ÂåÖÂê´‰∫ÜÂ§ßÈáèÈùôÊÄÅÂÜÖÂÆπ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•Âú®Ê†πÂÖÉÁ¥†‰∏äÊ∑ªÂä† v-once ÁâπÊÄß‰ª•Á°Æ‰øùËøô‰∫õÂÜÖÂÆπÂè™ËÆ°ÁÆó‰∏ÄÊ¨°ÁÑ∂ÂêéÁºìÂ≠òËµ∑Êù•ÔºåÂ∞±ÂÉèËøôÊ†∑Ôºö 123456&lt;template&gt; &lt;div class=&quot;box&quot; v-once&gt; &lt;h2&gt; Áî®Êà∑ÂçèËÆÆ &lt;/h2&gt; ... a lot of static content ... &lt;/div&gt;&lt;/template&gt; Âè™Ê∏≤ÊüìÂÖÉÁ¥†ÂíåÁªÑ‰ª∂‰∏ÄÊ¨°„ÄÇÈöèÂêéÁöÑÈáçÊñ∞Ê∏≤ÊüìÔºåÂÖÉÁ¥†/ÁªÑ‰ª∂ÂèäÂÖ∂ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÂ∞ÜË¢´ËßÜ‰∏∫ÈùôÊÄÅÂÜÖÂÆπÂπ∂Ë∑≥Ëøá„ÄÇËøôÂèØ‰ª•Áî®‰∫é‰ºòÂåñÊõ¥Êñ∞ÊÄßËÉΩ„ÄÇÂÖ≥‰∫é v-once Êõ¥Â§ö‰ªãÁªçÔºåËØ∑ÁßªÊ≠•ÂÆòÁΩë-&gt;„ÄÇ slot-scope‰ΩúÁî®ÂüüÊèíÊßΩ„ÄÇ`vue@2.5.0ÁâàÊú¨‰ª•ÂâçÂè´scopeÔºå‰πãÂêéÁöÑÁâàÊú¨Áî®slot-scopeÂ∞ÜÂÖ∂‰ª£Êõø„ÄÇÈô§‰∫Ü scope Âè™ÂèØ‰ª•Áî®‰∫éÂÖÉÁ¥†ÔºåÂÖ∂ÂÆÉÂíåslot-scope` ÈÉΩÁõ∏Âêå„ÄÇ Áî®Ëøá Element ÁªÑ‰ª∂ÁöÑÂêåÂ≠¶ÈÉΩÁü•ÈÅìÔºåÂΩìÊàë‰ª¨Âú®‰ΩøÁî® &lt;el-table&gt; ÁöÑÊó∂ÂÄô‰ºöÁúãÂà∞Â¶Ç‰∏ã‰ª£Á†ÅÔºö Element@1.4.x ÁöÑÁâàÊú¨Ôºö 1234567891011&lt;el-table-column label=&quot;Êìç‰Ωú&quot;&gt; &lt;template scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;ÁºñËæë&lt;/el-button&gt; &lt;el-button size=&quot;small&quot; type=&quot;danger&quot; @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;Âà†Èô§&lt;/el-button&gt; &lt;/template&gt;&lt;/el-table-column&gt; ‰ΩÜÂú® 2.0 ‰πãÂêéÁöÑÁâàÊú¨ÊõøÊç¢Êàê‰∫Ü slot-scope„ÄÇ Element@2.0.11Ôºö 1234567891011&lt;el-table-column label=&quot;Êìç‰Ωú&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;mini&quot; @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;ÁºñËæë&lt;/el-button&gt; &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;Âà†Èô§&lt;/el-button&gt; &lt;/template&gt;&lt;/el-table-column&gt; ËØ¥ÁôΩ‰∫ÜÔºåslot-scope Áõ∏ÂΩì‰∫éÂáΩÊï∞ÁöÑÂõûË∞ÉÔºåÊàëÊääÁªìÊûúÁªô‰Ω†Ôºå‰Ω†ÊÉ≥ÊÄé‰πàÂ§ÑÁêÜÂ∞±ÊÄé‰πàÂ§ÑÁêÜÔºå‰∏ÄÂàáÈöè‰Ω†Ôºö 1234567891011121314function getUserById (url, data, callback) &#123; $.ajax(&#123; url, data, success: function (result) &#123; callback(result) &#125; &#125;)&#125;// ‰ΩøÁî®getUserById(&apos;/users&apos;, &#123; id: 1 &#125;, function (response) &#123; // ÊãøÂà∞Êï∞ÊçÆÂπ∂ÂºÄÂßãÂ§ÑÁêÜËá™Â∑±ÁöÑÈ°µÈù¢ÈÄªËæë&#125;) ‰∏ãÈù¢Êàë‰ª¨Êù•ÁÆÄÂçïÊ®°Êãü‰∏ã &lt;el-table&gt; ÁªÑ‰ª∂ÂÜÖÈÉ®ÊòØÊÄé‰πà‰ΩøÁî® slot-scope ÁöÑÔºåÁúã‰ª£Á†ÅÔºö 12345678910111213141516171819202122232425262728293031323334// ÂÆö‰πâÊ®°Êùølet template = ` &lt;ul class=&quot;table&quot;&gt; &lt;li v-for=&quot;(item, index) in data&quot; :key=&quot;index&quot;&gt; &lt;!-- ÊàëÂ∏åÊúõÊï∞ÊçÆÁî±Ë∞ÉÁî®ËÄÖËá™Â∑±Â§ÑÁêÜ --&gt; &lt;!-- &apos;row&apos; Áõ∏ÂΩì‰∫éÂèòÈáèÂêçÔºåÈöè‰æøËµ∑Âêç --&gt; &lt;slot :row=&quot;item&quot;&gt; &lt;!-- ÂΩì‰ΩøÁî®ËÄÖ‰ªÄ‰πàÈÉΩÊ≤°ÂÜôÁöÑÊó∂ÂÄôÔºåÈªòËÆ§ÂÄºÊâç‰ºöÊòæÁ§∫--&gt; &#123;&#123; item.name &#125;&#125; &lt;/slot&gt; &lt;/li&gt; &lt;/ul&gt;`// Â£∞Êòé `el-table` ÁªÑ‰ª∂Vue.component(&apos;el-table&apos;, &#123; template, props: &#123; data: Array, default: [] &#125;&#125;)// Ê†πÁªÑ‰ª∂new Vue(&#123; el: &apos;#app&apos;, data: &#123; userData: [ &#123;id: 1, name: &apos;Âº†‰∏â&apos;, isActived: false&#125;, &#123;id: 2, name: &apos;ÊùéÂõõ&apos;, isActived: false&#125;, &#123;id: 1, name: &apos;Áéã‰∫î&apos;, isActived: true&#125;, &#123;id: 1, name: &apos;ËµµÂÖ≠&apos;, isActived: false&#125;, ] &#125;&#125;) ÁªÑ‰ª∂‰ΩøÁî®Ôºö1234567891011121314151617181920&lt;div id=&quot;app&quot;&gt; &lt;el-table :data=&quot;userData&quot;&gt; &lt;!-- ‰ΩøÁî®ÁöÑÊó∂ÂÄôÂèØ‰ª•Áî® template --&gt; &lt;!-- `scope` Âè™ÊòØ‰∏™ÂΩ¢ÂèÇÔºåÈöè‰æøËµ∑Âêç --&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;template v-if=&quot;scope.row.isActived&quot;&gt; &lt;span class=&quot;red&quot;&gt;&#123;&#123; scope.row.name &#125;&#125;&lt;/span&gt; &lt;/template&gt; &lt;template v-else&gt; &#123;&#123; scope.row.name &#125;&#125; &lt;/template&gt; &lt;/template&gt; &lt;/el-table&gt;&lt;/div&gt;CSSÔºö.red &#123; color: red&#125; Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•Âú® &lt;li&gt; ‰∏≠ËøõË°åÈÄªËæëÂà§Êñ≠Ôºå‰∏∫‰ªÄ‰πàËøòË¶ÅÊîæÂà∞Â§ñÈù¢ËøõË°åÂ§ÑÁêÜÂë¢Ôºü Âõ†‰∏∫ÊúâÊó∂ÂÄôÊàë‰ª¨Áî®ÁöÑ‰∏çÊòØËá™Â∑±ÂºÄÂèëÁöÑÁªÑ‰ª∂ÔºåÊØîÂ¶Ç‰∏äÈù¢ÁöÑ &lt;el-table&gt; ÔºåÊâÄ‰ª•Â∞±ÊúâÂøÖË¶ÅËøô‰πàÂÅö‰∫Ü„ÄÇÊúÄÂêéÔºå‰Ω†ÂèØ‰ª•Áã†Áã†ÁöÑÊà≥ËøôÈáåÊü•ÁúãÊïàÊûúÔºÅ]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Èù¢ËØï‰πãVue.$nextTickÂéüÁêÜ]]></title>
    <url>%2F2017%2F10%2F21%2F%E9%9D%A2%E8%AF%95%E4%B9%8BVue-nextTick%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïÂÆò:VueÁöÑnextTickÊòØÊÄé‰πàÁõëÂê¨DOMÊ†ëÊõ¥Êñ∞ÂÆåÊØïÁöÑÔºünextTickÊòØÂÖ®Â±ÄvueÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂú®vueÁ≥ªÁªü‰∏≠ÔºåÁî®‰∫éÂ§ÑÁêÜdomÊõ¥Êñ∞ÁöÑÊìç‰Ωú„ÄÇvueÈáåÈù¢Êúâ‰∏Ä‰∏™watcherÔºåÁî®‰∫éËßÇÂØüÊï∞ÊçÆÁöÑÂèòÂåñÔºåÁÑ∂ÂêéÊõ¥Êñ∞domÔºåvueÈáåÈù¢Âπ∂‰∏çÊòØÊØèÊ¨°Êï∞ÊçÆÊîπÂèòÈÉΩ‰ºöËß¶ÂèëÊõ¥Êñ∞domÔºåËÄåÊòØÂ∞ÜËøô‰∫õÊìç‰ΩúÈÉΩÁºìÂ≠òÂú®‰∏Ä‰∏™ÈòüÂàóÔºåÂú®‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÁªìÊùü‰πãÂêéÔºåÂà∑Êñ∞ÈòüÂàóÔºåÁªü‰∏ÄÊâßË°ådomÊõ¥Êñ∞Êìç‰Ωú„ÄÇ ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅÂÖ≥ÂøÉËøô‰∏™ÈóÆÈ¢òÔºåËÄåÂ¶ÇÊûúÊÉ≥Âú®DOMÁä∂ÊÄÅÊõ¥Êñ∞ÂêéÂÅöÁÇπ‰ªÄ‰πàÔºåÂàôÈúÄË¶ÅÁî®Âà∞nextTick„ÄÇÂú®vueÁîüÂëΩÂë®ÊúüÁöÑcreated()Èí©Â≠êÂáΩÊï∞ËøõË°åÁöÑDOMÊìç‰ΩúË¶ÅÊîæÂú®Vue.nextTick()ÁöÑÂõûË∞ÉÂáΩÊï∞‰∏≠ÔºåÂõ†‰∏∫created()Èí©Â≠êÂáΩÊï∞ÊâßË°åÁöÑÊó∂ÂÄôDOMÂπ∂Êú™ËøõË°å‰ªª‰ΩïÊ∏≤ÊüìÔºåËÄåÊ≠§Êó∂ËøõË°åDOMÊìç‰ΩúÊòØÂæíÂä≥ÁöÑÔºåÊâÄ‰ª•Ê≠§Â§Ñ‰∏ÄÂÆöË¶ÅÂ∞ÜDOMÊìç‰ΩúÁöÑJS‰ª£Á†ÅÊîæËøõVue.nextTick()ÁöÑÂõûË∞ÉÂáΩÊï∞‰∏≠„ÄÇËÄå‰∏é‰πãÂØπÂ∫îÁöÑmountedÈí©Â≠êÂáΩÊï∞ÔºåËØ•Èí©Â≠êÂáΩÊï∞ÊâßË°åÊó∂ÊâÄÊúâÁöÑDOMÊåÇËΩΩÂíåÊ∏≤ÊüìÈÉΩÂ∑≤ÂÆåÊàêÔºåÊ≠§Êó∂ËØ•Èí©Â≠êÂáΩÊï∞ËøõË°å‰ªª‰ΩïDOMÊìç‰ΩúÈÉΩ‰∏ç‰ºöÊúâ‰∏™ÈóÆÈ¢ò„ÄÇ Vue.nextTick(callback)ÔºåÂΩìÊï∞ÊçÆÂèëÁîüÂèòÂåñÔºåÊõ¥Êñ∞ÂêéÊâßË°åÂõûË∞É„ÄÇ Vue.$nextTick(callback)ÔºåÂΩìdomÂèëÁîüÂèòÂåñÔºåÊõ¥Êñ∞ÂêéÊâßË°åÁöÑÂõûË∞É„ÄÇ Â∫üËØùÂ∞ëËØ¥ÔºåÊù•Áúã‰∏Ä‰∏™‰æãÂ≠ê1234567891011121314151617181920212223242526&lt;div id=&quot;app&quot;&gt; &lt;span id=&apos;name&apos; ref=&apos;name&apos;&gt;&#123;&#123; name &#125;&#125;&lt;/span&gt; &lt;button @click=&apos;change&apos;&gt;change name&lt;/button&gt; &lt;div id=&apos;content&apos;&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt; new Vue(&#123; el: &apos;#app&apos;, data() &#123; return &#123; name: &apos;SHERlocked93&apos; &#125; &#125;, methods: &#123; change() &#123; const $name = this.$refs.name this.$nextTick(() =&gt; console.log(&apos;setterÂâçÔºö&apos; + $name.innerHTML)) this.name = &apos; nameÊîπÂñΩ &apos; console.log(&apos;ÂêåÊ≠•ÊñπÂºèÔºö&apos; + this.$refs.name.innerHTML) setTimeout(() =&gt; this.console(&quot;setTimeoutÊñπÂºèÔºö&quot; + this.$refs.name.innerHTML)) this.$nextTick(() =&gt; console.log(&apos;setterÂêéÔºö&apos; + $name.innerHTML)) this.$nextTick().then(() =&gt; console.log(&apos;PromiseÊñπÂºèÔºö&apos; + $name.innerHTML)) &#125; &#125; &#125;)&lt;/script&gt; ÊâßË°å‰ª•‰∏ãÁúãÁúãÁªìÊûúÔºö123456ÂêåÊ≠•ÊñπÂºèÔºöSHERlocked93 setterÂâçÔºöSHERlocked93 setterÂêéÔºönameÊîπÂñΩ PromiseÊñπÂºèÔºönameÊîπÂñΩ setTimeoutÊñπÂºèÔºönameÊîπÂñΩ ÂÜçÁúã‰∏ÄÊÆµ‰ª£Á†Å: 12345678910111213141516171819&lt;template&gt; &lt;div&gt; &lt;div ref=&quot;text&quot;&gt;&#123;&#123;text&#125;&#125;&lt;/div&gt; &lt;button @click=&quot;handleClick&quot;&gt;text&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;export default &#123; data () &#123; return &#123; text: &apos;start&apos; &#125;; &#125;, methods () &#123; handleClick () &#123; this.text = &apos;end&apos;; console.log(this.$refs.text.innerText);//ÊâìÂç∞‚Äústart‚Äù &#125; &#125;&#125; ÊâìÂç∞ÁöÑÁªìÊûúÊòØstartÔºå‰∏∫‰ªÄ‰πàÊòéÊòéÂ∑≤ÁªèÂ∞ÜtextËÆæÁΩÆÊàê‰∫Ü‚Äúend‚ÄùÔºåËé∑ÂèñÁúüÂÆûDOMËäÇÁÇπÁöÑinnerTextÂç¥Ê≤°ÊúâÂæóÂà∞Êàë‰ª¨È¢ÑÊúü‰∏≠ÁöÑ‚Äúend‚ÄùÔºåËÄåÊòØÂæóÂà∞‰πãÂâçÁöÑÂÄº‚Äústart‚ÄùÂë¢Ôºü Ê∫êÁ†ÅËß£ËØªÂ∏¶ÁùÄËøô‰∏™ÁñëÈóÆÔºåÊàë‰ª¨ÊâæÂà∞‰∫ÜVue.jsÊ∫êÁ†ÅÁöÑWatchÂÆûÁé∞„ÄÇÂΩìÊüê‰∏™ÂìçÂ∫îÂºèÊï∞ÊçÆÂèëÁîüÂèòÂåñÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑsetterÂáΩÊï∞‰ºöÈÄöÁü•Èó≠ÂåÖ‰∏≠ÁöÑDepÔºåDepÂàô‰ºöË∞ÉÁî®ÂÆÉÁÆ°ÁêÜÁöÑÊâÄÊúâWatchÂØπË±°„ÄÇËß¶ÂèëWatchÂØπË±°ÁöÑupdateÂÆûÁé∞„ÄÇÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãupdateÁöÑÂÆûÁé∞„ÄÇ watcher123456789101112131415/* Ë∞ÉÂ∫¶ËÄÖÊé•Âè£ÔºåÂΩì‰æùËµñÂèëÁîüÊîπÂèòÁöÑÊó∂ÂÄôËøõË°åÂõûË∞É„ÄÇ */ update () &#123; /* istanbul ignore else */ if (this.lazy) &#123; this.dirty = true &#125; else if (this.sync) &#123; /*ÂêåÊ≠•ÂàôÊâßË°årunÁõ¥Êé•Ê∏≤ÊüìËßÜÂõæ*/ this.run() &#125; else &#123; /*ÂºÇÊ≠•Êé®ÈÄÅÂà∞ËßÇÂØüËÄÖÈòüÂàó‰∏≠ÔºåÁî±Ë∞ÉÂ∫¶ËÄÖË∞ÉÁî®„ÄÇ*/ queueWatcher(this) &#125; &#125; Êàë‰ª¨ÂèëÁé∞Vue.jsÈªòËÆ§ÊòØ‰ΩøÁî®ÂºÇÊ≠•ÊâßË°åDOMÊõ¥Êñ∞„ÄÇÂΩìÂºÇÊ≠•ÊâßË°åupdateÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî®queueWatcherÂáΩÊï∞„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637/** * Push a watcher into the watcher queue. * Jobs with duplicate IDs will be skipped unless it&apos;s * pushed when the queue is being flushed. **/ /*Â∞Ü‰∏Ä‰∏™ËßÇÂØüËÄÖÂØπË±°pushËøõËßÇÂØüËÄÖÈòüÂàóÔºåÂú®ÈòüÂàó‰∏≠Â∑≤ÁªèÂ≠òÂú®Áõ∏ÂêåÁöÑidÂàôËØ•ËßÇÂØüËÄÖÂØπË±°Â∞ÜË¢´Ë∑≥ËøáÔºåÈô§ÈùûÂÆÉÊòØÂú®ÈòüÂàóË¢´Âà∑Êñ∞Êó∂Êé®ÈÄÅ*/export function queueWatcher (watcher: Watcher) &#123; /*Ëé∑ÂèñwatcherÁöÑid*/ const id = watcher.id /*Ê£ÄÈ™åidÊòØÂê¶Â≠òÂú®ÔºåÂ∑≤ÁªèÂ≠òÂú®ÂàôÁõ¥Êé•Ë∑≥ËøáÔºå‰∏çÂ≠òÂú®ÂàôÊ†áËÆ∞ÂìàÂ∏åË°®hasÔºåÁî®‰∫é‰∏ãÊ¨°Ê£ÄÈ™å*/ if (has[id] == null) &#123; has[id] = true if (!flushing) &#123; /*Â¶ÇÊûúÊ≤°ÊúâflushÊéâÔºåÁõ¥Êé•pushÂà∞ÈòüÂàó‰∏≠Âç≥ÂèØ*/ queue.push(watcher) &#125; else &#123; // if already flushing, splice the watcher based on its id // if already past its id, it will be run next immediately. let i = queue.length - 1 while (i &gt; index &amp;&amp; queue[i].id &gt; watcher.id) &#123; i-- &#125; queue.splice(i + 1, 0, watcher) &#125; // queue the flush // Âà∑Êñ∞ÈòüÂàó if (!waiting) &#123; waiting = true if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; !config.async) &#123; flushSchedulerQueue() return &#125; nextTick(flushSchedulerQueue) &#125; &#125;&#125; Êü•ÁúãqueueWatcherÁöÑÊ∫êÁ†ÅÊàë‰ª¨ÂèëÁé∞ÔºåWatchÂØπË±°Âπ∂‰∏çÊòØÁ´ãÂç≥Êõ¥Êñ∞ËßÜÂõæÔºåËÄåÊòØË¢´pushËøõ‰∫Ü‰∏Ä‰∏™ÈòüÂàóqueueÔºåÊ≠§Êó∂Áä∂ÊÄÅÂ§Ñ‰∫éwaitingÁöÑÁä∂ÊÄÅÔºåËøôÊó∂ÂÄôÁªßÁª≠‰ºöÊúâWatchÂØπË±°Ë¢´pushËøõËøô‰∏™ÈòüÂàóqueueÔºåÁ≠âÂæÖ‰∏ã‰∏Ä‰∏™tickÊó∂ÔºåËøô‰∫õWatchÂØπË±°Êâç‰ºöË¢´ÈÅçÂéÜÂèñÂá∫ÔºåÊõ¥Êñ∞ËßÜÂõæ„ÄÇÂêåÊó∂ÔºåidÈáçÂ§çÁöÑWatcher‰∏ç‰ºöË¢´Â§öÊ¨°Âä†ÂÖ•Âà∞queue‰∏≠ÂéªÔºåÂõ†‰∏∫Âú®ÊúÄÁªàÊ∏≤ÊüìÊó∂ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÖ≥ÂøÉÊï∞ÊçÆÁöÑÊúÄÁªàÁªìÊûú„ÄÇ flushSchedulerQueue1vue/src/core/observer/scheduler.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283/** * Flush both queues and run the watchers. */ /*nextTickÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂú®‰∏ã‰∏Ä‰∏™tickÊó∂flushÊéâ‰∏§‰∏™ÈòüÂàóÂêåÊó∂ËøêË°åwatchers*/function flushSchedulerQueue () &#123; flushing = true let watcher, id // Sort queue before flush. // This ensures that: // 1. Components are updated from parent to child. (because parent is always // created before the child) // 2. A component&apos;s user watchers are run before its render watcher (because // user watchers are created before the render watcher) // 3. If a component is destroyed during a parent component&apos;s watcher run, // its watchers can be skipped. /* Âà∑Êñ∞ÂâçÁªôqueueÊéíÂ∫èÔºåËøôÊ†∑ÂÅöÂèØ‰ª•‰øùËØÅÔºö 1.ÁªÑ‰ª∂Êõ¥Êñ∞ÁöÑÈ°∫Â∫èÊòØ‰ªéÁà∂ÁªÑ‰ª∂Âà∞Â≠êÁªÑ‰ª∂ÁöÑÈ°∫Â∫èÔºåÂõ†‰∏∫Áà∂ÁªÑ‰ª∂ÊÄªÊòØÊØîÂ≠êÁªÑ‰ª∂ÂÖàÂàõÂª∫„ÄÇ 2.‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑuser watchersÊØîrender watcherÂÖàËøêË°åÔºåÂõ†‰∏∫user watchersÂæÄÂæÄÊØîrender watcherÊõ¥Êó©ÂàõÂª∫ 3.Â¶ÇÊûú‰∏Ä‰∏™ÁªÑ‰ª∂Âú®Áà∂ÁªÑ‰ª∂watcherËøêË°åÊúüÈó¥Ë¢´ÈîÄÊØÅÔºåÂÆÉÁöÑwatcherÊâßË°åÂ∞ÜË¢´Ë∑≥Ëøá„ÄÇ */ queue.sort((a, b) =&gt; a.id - b.id) // do not cache length because more watchers might be pushed // as we run existing watchers /*ËøôÈáå‰∏çÁî®index = queue.length;index &gt; 0; index--ÁöÑÊñπÂºèÂÜôÊòØÂõ†‰∏∫‰∏çË¶ÅÂ∞ÜlengthËøõË°åÁºìÂ≠òÔºå Âõ†‰∏∫Âú®ÊâßË°åÂ§ÑÁêÜÁé∞ÊúâwatcherÂØπË±°ÊúüÈó¥ÔºåÊõ¥Â§öÁöÑwatcherÂØπË±°ÂèØËÉΩ‰ºöË¢´pushËøõqueue*/ for (index = 0; index &lt; queue.length; index++) &#123; watcher = queue[index] if (watcher.before) &#123; watcher.before() &#125; id = watcher.id /*Â∞ÜhasÁöÑÊ†áËÆ∞Âà†Èô§*/ has[id] = null /*ÊâßË°åwatcher*/ watcher.run() // in dev build, check and stop circular updates. /* Âú®ÊµãËØïÁéØÂ¢É‰∏≠ÔºåÊ£ÄÊµãwatchÊòØÂê¶Âú®Ê≠ªÂæ™ÁéØ‰∏≠ ÊØîÂ¶ÇËøôÊ†∑‰∏ÄÁßçÊÉÖÂÜµ watch: &#123; test () &#123; this.test++; &#125; &#125; ÊåÅÁª≠ÊâßË°å‰∫Ü‰∏ÄÁôæÊ¨°watch‰ª£Ë°®ÂèØËÉΩÂ≠òÂú®Ê≠ªÂæ™ÁéØ */ if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; has[id] != null) &#123; circular[id] = (circular[id] || 0) + 1 if (circular[id] &gt; MAX_UPDATE_COUNT) &#123; warn( &apos;You may have an infinite update loop &apos; + ( watcher.user ? `in watcher with expression &quot;$&#123;watcher.expression&#125;&quot;` : `in a component render function.` ), watcher.vm ) break &#125; &#125; &#125; // keep copies of post queues before resetting state /*ÂæóÂà∞ÈòüÂàóÁöÑÊã∑Ë¥ù*/ const activatedQueue = activatedChildren.slice() const updatedQueue = queue.slice() /*ÈáçÁΩÆË∞ÉÂ∫¶ËÄÖÁöÑÁä∂ÊÄÅ*/ resetSchedulerState() // call component updated and activated hooks /*‰ΩøÂ≠êÁªÑ‰ª∂Áä∂ÊÄÅÈÉΩÊîπÁºñÊàêactiveÂêåÊó∂Ë∞ÉÁî®activatedÈí©Â≠ê*/ callActivatedHooks(activatedQueue) /*Ë∞ÉÁî®updatedÈí©Â≠ê*/ callUpdatedHooks(updatedQueue) // devtool hook /* istanbul ignore if */ if (devtools &amp;&amp; config.devtools) &#123; devtools.emit(&apos;flush&apos;) &#125;&#125; flushSchedulerQueueÊòØ‰∏ã‰∏Ä‰∏™tickÊó∂ÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØÊâßË°åWatcherÁöÑrunÂáΩÊï∞ÔºåÁî®Êù•Êõ¥Êñ∞ËßÜÂõæ nextTickvue.jsÊèê‰æõ‰∫Ü‰∏Ä‰∏™nextTickÂáΩÊï∞ÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØ‰∏äÈù¢Ë∞ÉÁî®ÁöÑnextTick„ÄÇ nextTickÁöÑÂÆûÁé∞ÊØîËæÉÁÆÄÂçïÔºåÊâßË°åÁöÑÁõÆÁöÑÊòØÂú®microtaskÊàñËÄÖtask‰∏≠Êé®ÂÖ•‰∏Ä‰∏™funtionÔºåÂú®ÂΩìÂâçÊ†àÊâßË°åÂÆåÊØïÔºà‰πüË°åËøò‰ºöÊúâ‰∏Ä‰∫õÊéíÂú®ÂâçÈù¢ÁöÑÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°Ôºâ‰ª•ÂêéÊâßË°ånextTick‰º†ÂÖ•ÁöÑfuntion„ÄÇ ÁΩë‰∏äÂæàÂ§öÊñáÁ´†ËÆ®ËÆ∫ÁöÑnextTickÂÆûÁé∞ÊòØ2.4ÁâàÊú¨‰ª•‰∏ãÁöÑÂÆûÁé∞Ôºå2.5‰ª•‰∏äÁâàÊú¨ÂØπ‰∫énextTickÁöÑÂÜÖÈÉ®ÂÆûÁé∞ËøõË°å‰∫ÜÂ§ßÈáèÁöÑ‰øÆÊîπÔºåÁúã‰∏Ä‰∏ãÊ∫êÁ†ÅÔºö È¶ñÂÖàÊòØ‰ªéVue 2.5+ÂºÄÂßãÔºåÊäΩÂá∫Êù•‰∫Ü‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊñá‰ª∂next-tick.jsÊù•ÊâßË°åÂÆÉ„ÄÇ1vue/src/core/util/next-tick.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163 /* Âª∂Ëøü‰∏Ä‰∏™‰ªªÂä°‰ΩøÂÖ∂ÂºÇÊ≠•ÊâßË°åÔºåÂú®‰∏ã‰∏Ä‰∏™tickÊó∂ÊâßË°åÔºå‰∏Ä‰∏™Á´ãÂç≥ÊâßË°åÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™function Ëøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®taskÊàñËÄÖmicrotask‰∏≠Êé®ÂÖ•‰∏Ä‰∏™timerFuncÔºå Âú®ÂΩìÂâçË∞ÉÁî®Ê†àÊâßË°åÂÆå‰ª•Âêé‰ª•Ê≠§ÊâßË°åÁõ¥Âà∞ÊâßË°åÂà∞timerFunc ÁõÆÁöÑÊòØÂª∂ËøüÂà∞ÂΩìÂâçË∞ÉÁî®Ê†àÊâßË°åÂÆå‰ª•ÂêéÊâßË°å*//*Â≠òÊîæÂºÇÊ≠•ÊâßË°åÁöÑÂõûË∞É*/const callbacks = []/*‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºåÂ¶ÇÊûúÂ∑≤ÁªèÊúâtimerFuncË¢´Êé®ÈÄÅÂà∞‰ªªÂä°ÈòüÂàó‰∏≠ÂéªÂàô‰∏çÈúÄË¶ÅÈáçÂ§çÊé®ÈÄÅ*/let pending = false/*‰∏ã‰∏Ä‰∏™tickÊó∂ÁöÑÂõûË∞É*/function flushCallbacks () &#123;/*‰∏Ä‰∏™Ê†áËÆ∞‰ΩçÔºåÊ†áËÆ∞Á≠âÂæÖÁä∂ÊÄÅÔºàÂç≥ÂáΩÊï∞Â∑≤ÁªèË¢´Êé®ÂÖ•‰ªªÂä°ÈòüÂàóÊàñËÄÖ‰∏ªÁ∫øÁ®ãÔºåÂ∑≤ÁªèÂú®Á≠âÂæÖÂΩìÂâçÊ†àÊâßË°åÂÆåÊØïÂéªÊâßË°åÔºâÔºåËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÂú®pushÂ§ö‰∏™ÂõûË∞ÉÂà∞callbacksÊó∂Â∞ÜtimerFuncÂ§öÊ¨°Êé®ÂÖ•‰ªªÂä°ÈòüÂàóÊàñËÄÖ‰∏ªÁ∫øÁ®ã*/ pending = false //Â§çÂà∂callback const copies = callbacks.slice(0) //Ê∏ÖÈô§callbacks callbacks.length = 0 for (let i = 0; i &lt; copies.length; i++) &#123; //Ëß¶ÂèëcallbackÁöÑÂõûË∞ÉÂáΩÊï∞ copies[i]() &#125;&#125;// Here we have async deferring wrappers using both microtasks and (macro) tasks.// In &lt; 2.4 we used microtasks everywhere, but there are some scenarios where// microtasks have too high a priority and fire in between supposedly// sequential events (e.g. #4521, #6690) or even between bubbling of the same// event (#6566). However, using (macro) tasks everywhere also has subtle problems// when state is changed right before repaint (e.g. #6813, out-in transitions).// Here we use microtask by default, but expose a way to force (macro) task when// needed (e.g. in event handlers attached by v-on)./**ÂÖ∂Â§ßÊ¶ÇÁöÑÊÑèÊÄùÂ∞±ÊòØÔºöÂú®Vue2.4‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºånextTickÂá†‰πéÈÉΩÊòØÂü∫‰∫émicroTaskÂÆûÁé∞ÁöÑÔºå‰ΩÜÊòØÁî±‰∫émicroTaskÁöÑÊâßË°å‰ºòÂÖàÁ∫ßÈùûÂ∏∏È´òÔºåÂú®Êüê‰∫õÂú∫ÊôØ‰πã‰∏ãÂÆÉÁîöËá≥Ë¶ÅÊØî‰∫ã‰ª∂ÂÜíÊ≥°ËøòË¶ÅÂø´ÔºåÂ∞±‰ºöÂØºËá¥‰∏Ä‰∫õËØ°ÂºÇÁöÑÈóÆÈ¢òÔºõ‰ΩÜÊòØÂ¶ÇÊûúÂÖ®ÈÉ®ÈÉΩÊîπÊàêmacroTaskÔºåÂØπ‰∏Ä‰∫õÊúâÈáçÁªòÂíåÂä®ÁîªÁöÑÂú∫ÊôØ‰πü‰ºöÊúâÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇÊâÄ‰ª•ÊúÄÁªànextTickÈááÂèñÁöÑÁ≠ñÁï•ÊòØÈªòËÆ§Ëµ∞microTaskÔºåÂØπ‰∫é‰∏Ä‰∫õDOMÁöÑ‰∫§‰∫í‰∫ã‰ª∂ÔºåÂ¶Çv-onÁªëÂÆöÁöÑ‰∫ã‰ª∂ÂõûË∞ÉÂ§ÑÁêÜÂáΩÊï∞ÁöÑÂ§ÑÁêÜÔºå‰ºöÂº∫Âà∂Ëµ∞macroTask„ÄÇ**/let microTimerFunclet macroTimerFunclet useMacroTask = false// Determine (macro) task defer implementation.// Technically setImmediate should be the ideal choice, but it&apos;s only available// in IE. The only polyfill that consistently queues the callback after all DOM// events triggered in the same loop is by using MessageChannel./* istanbul ignore if *//**ËÄåÂØπ‰∫émacroTaskÁöÑÊâßË°åÔºåVue‰ºòÂÖàÊ£ÄÊµãÊòØÂê¶ÊîØÊåÅÂéüÁîüsetImmediateÔºàÈ´òÁâàÊú¨IEÂíåEdgeÊîØÊåÅÔºâÔºå‰∏çÊîØÊåÅÁöÑËØùÂÜçÂéªÊ£ÄÊµãÊòØÂê¶ÊîØÊåÅÂéüÁîüMessageChannelÔºåÂ¶ÇÊûúËøò‰∏çÊîØÊåÅÁöÑËØù‰∏∫setTimeout(fn, 0)„ÄÇ**/if (typeof setImmediate !== &apos;undefined&apos; &amp;&amp; isNative(setImmediate)) &#123; macroTimerFunc = () =&gt; &#123; setImmediate(flushCallbacks) &#125;&#125; else if (typeof MessageChannel !== &apos;undefined&apos; &amp;&amp; ( // MessageChannel‰∏éÂéüÂÖàÁöÑMutationObserverÂºÇÊõ≤ÂêåÂ∑•/**Âú®Vue 2.4ÁâàÊú¨‰ª•Ââç‰ΩøÁî®ÁöÑMutationObserverÊù•Ê®°ÊãüÂºÇÊ≠•‰ªªÂä°„ÄÇËÄåVue 2.5ÁâàÊú¨‰ª•ÂêéÔºåÁî±‰∫éÂÖºÂÆπÊÄßÂºÉÁî®‰∫ÜMutationObserver„ÄÇVue 2.5+ÁâàÊú¨‰ΩøÁî®‰∫ÜMessageChannelÊù•Ê®°ÊãümacroTask„ÄÇÈô§‰∫ÜIE‰ª•Â§ñÔºåmessageChannelÁöÑÂÖºÂÆπÊÄßËøòÊòØÊØîËæÉÂèØËßÇÁöÑ„ÄÇ**/ isNative(MessageChannel) || // PhantomJS MessageChannel.toString() === &apos;[object MessageChannelConstructor]&apos;)) &#123; /** ÂèØËßÅÔºåÊñ∞Âª∫‰∏Ä‰∏™MessageChannelÂØπË±°ÔºåËØ•ÂØπË±°ÈÄöËøáport1Êù•Ê£ÄÊµã‰ø°ÊÅØÔºåport2ÂèëÈÄÅ‰ø°ÊÅØ„ÄÇ ÈÄöËøáport2ÁöÑ‰∏ªÂä®postMessageÊù•Ëß¶Âèëport1ÁöÑonmessage‰∫ã‰ª∂Ôºå ËøõËÄåÊääÂõûË∞ÉÂáΩÊï∞flushCallbacks‰Ωú‰∏∫macroTaskÂèÇ‰∏é‰∫ã‰ª∂Âæ™ÁéØ„ÄÇ **/ const channel = new MessageChannel() const port = channel.port2 channel.port1.onmessage = flushCallbacks macroTimerFunc = () =&gt; &#123; port.postMessage(1) &#125;&#125; else &#123; /* istanbul ignore next */ //‰∏äÈù¢‰∏§ÁßçÈÉΩ‰∏çÊîØÊåÅÔºåÁî®setTimeout macroTimerFunc = () =&gt; &#123; setTimeout(flushCallbacks, 0) &#125;&#125;// Determine microtask defer implementation./* istanbul ignore next, $flow-disable-line */if (typeof Promise !== &apos;undefined&apos; &amp;&amp; isNative(Promise)) &#123;/*‰ΩøÁî®Promise*/ const p = Promise.resolve() microTimerFunc = () =&gt; &#123; p.then(flushCallbacks) // in problematic UIWebViews, Promise.then doesn&apos;t completely break, but // it can get stuck in a weird state where callbacks are pushed into the // microtask queue but the queue isn&apos;t being flushed, until the browser // needs to do some other work, e.g. handle a timer. Therefore we can // &quot;force&quot; the microtask queue to be flushed by adding an empty timer. //iOSÁöÑwebview‰∏ãÔºåÈúÄË¶ÅÂº∫Âà∂Âà∑Êñ∞ÈòüÂàóÔºåÊâßË°å‰∏äÈù¢ÁöÑÂõûË∞ÉÂáΩÊï∞ if (isIOS) setTimeout(noop) &#125;&#125; else &#123; // fallback to macro microTimerFunc = macroTimerFunc&#125;/** * Wrap a function so that if any code inside triggers state change, * the changes are queued using a (macro) task instead of a microtask. */ /** Âú®VueÊâßË°åÁªëÂÆöÁöÑDOM‰∫ã‰ª∂Êó∂ÔºåÈªòËÆ§‰ºöÁªôÂõûË∞ÉÁöÑhandlerÂáΩÊï∞Ë∞ÉÁî®withMacroTaskÊñπÊ≥ïÂÅö‰∏ÄÂ±ÇÂåÖË£ÖÔºå ÂÆÉ‰øùËØÅÊï¥‰∏™ÂõûË∞ÉÂáΩÊï∞ÁöÑÊâßË°åËøáÁ®ã‰∏≠ÔºåÈÅáÂà∞Êï∞ÊçÆÁä∂ÊÄÅÁöÑÊîπÂèòÔºåËøô‰∫õÊîπÂèòËÄåÂØºËá¥ÁöÑËßÜÂõæÊõ¥Êñ∞ÔºàDOMÊõ¥Êñ∞Ôºâ ÁöÑ‰ªªÂä°ÈÉΩ‰ºöË¢´Êé®Âà∞macroTaskËÄå‰∏çÊòØmicrotask„ÄÇ **/export function withMacroTask (fn: Function): Function &#123; return fn._withTask || (fn._withTask = function () &#123; useMacroTask = true const res = fn.apply(null, arguments) useMacroTask = false return res &#125;)&#125; /* Êé®ÈÄÅÂà∞ÈòüÂàó‰∏≠‰∏ã‰∏Ä‰∏™tickÊó∂ÊâßË°å cb ÂõûË∞ÉÂáΩÊï∞ ctx ‰∏ä‰∏ãÊñá */export function nextTick (cb?: Function, ctx?: Object) &#123; let _resolve /*cbÂ≠òÂà∞callbacks‰∏≠*/ callbacks.push(() =&gt; &#123; if (cb) &#123; try &#123; cb.call(ctx) &#125; catch (e) &#123; handleError(e, ctx, &apos;nextTick&apos;) &#125; &#125; else if (_resolve) &#123; _resolve(ctx) &#125; &#125;) if (!pending) &#123; pending = true if (useMacroTask) &#123; macroTimerFunc() &#125; else &#123; microTimerFunc() &#125; &#125; // $flow-disable-line if (!cb &amp;&amp; typeof Promise !== &apos;undefined&apos;) &#123; return new Promise(resolve =&gt; &#123; _resolve = resolve &#125;) &#125;&#125; MessageChannel VS setTimeout‰∏∫‰ªÄ‰πàË¶Å‰ºòÂÖàMessageChannelÂàõÂª∫macroTaskËÄå‰∏çÊòØsetTimeoutÔºü HTML5‰∏≠ËßÑÂÆösetTimeoutÁöÑÊúÄÂ∞èÊó∂Èó¥Âª∂ËøüÊòØ4msÔºå‰πüÂ∞±ÊòØËØ¥ÁêÜÊÉ≥ÁéØÂ¢É‰∏ãÂºÇÊ≠•ÂõûË∞ÉÊúÄÂø´‰πüÊòØ4msÊâçËÉΩËß¶Âèë„ÄÇ Vue‰ΩøÁî®Ëøô‰πàÂ§öÂáΩÊï∞Êù•Ê®°ÊãüÂºÇÊ≠•‰ªªÂä°ÔºåÂÖ∂ÁõÆÁöÑÂè™Êúâ‰∏Ä‰∏™ÔºåÂ∞±ÊòØËÆ©ÂõûË∞ÉÂºÇÊ≠•‰∏îÂ∞ΩÊó©Ë∞ÉÁî®„ÄÇËÄåMessageChannelÁöÑÂª∂ËøüÊòéÊòæÊòØÂ∞è‰∫ésetTimeoutÁöÑ„ÄÇ ËØ¥‰∫ÜËøô‰πàÂ§öÔºåÂà∞Â∫ï‰ªÄ‰πàÊòØmacrotasksÔºå‰ªÄ‰πàÊòØmicrotasksÂë¢Ôºü ‰∏§ËÄÖÁöÑÂÖ∑‰ΩìÂÆûÁé∞macrotasksÔºö setTimeout ÔºåsetIntervalÔºå setImmediateÔºårequestAnimationFrame, I/O ÔºåUIÊ∏≤Êüì microtasks: PromiseÔºå process.nextTickÔºå Object.observeÔºå MutationObserver 1.Âú® macrotask ÈòüÂàó‰∏≠ÊâßË°åÊúÄÊó©ÁöÑÈÇ£‰∏™ task ÔºåÁÑ∂ÂêéÁßªÂá∫ 2.ÂÜçÊâßË°å microtask ÈòüÂàó‰∏≠ÊâÄÊúâÂèØÁî®ÁöÑ‰ªªÂä°ÔºåÁÑ∂ÂêéÁßªÂá∫ 3.‰∏ã‰∏Ä‰∏™Âæ™ÁéØÔºåÊâßË°å‰∏ã‰∏Ä‰∏™ macrotask ‰∏≠ÁöÑ‰ªªÂä° (ÂÜçË∑≥Âà∞Á¨¨2Ê≠•) ÈÇ£Êàë‰ª¨‰∏äÈù¢ÊèêÂà∞ÁöÑ‰ªªÂä°ÈòüÂàóÂà∞Â∫ïÊòØ‰ªÄ‰πàÂë¢ÔºüË∑ümacrotasksÂíåmicrotasksÊúâ‰ªÄ‰πàËÅîÁ≥ªÂë¢Ôºü ‚Ä¢ ‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÊúâ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™‰ªªÂä°ÈòüÂàóÔºõ ‚Ä¢ ÊØè‰∏™‰∫ã‰ª∂Âæ™ÁéØÈÉΩÊúâ‰∏Ä‰∏™microtaskÈòüÂàóÔºõ ‚Ä¢ macrotaskÈòüÂàóÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‰ªªÂä°ÈòüÂàóÔºåmicrotaskÈòüÂàó‰∏çÊòØ‰ªªÂä°ÈòüÂàóÔºõ ‚Ä¢ ‰∏Ä‰∏™‰ªªÂä°ÂèØ‰ª•Ë¢´ÊîæÂÖ•Âà∞macrotaskÈòüÂàóÔºå‰πüÂèØ‰ª•ÊîæÂÖ•microtaskÈòüÂàóÔºõ ‚Ä¢ ÂΩì‰∏Ä‰∏™‰ªªÂä°Ë¢´ÊîæÂÖ•microtaskÊàñËÄÖmacrotaskÈòüÂàóÂêéÔºåÂáÜÂ§áÂ∑•‰ΩúÂ∞±Â∑≤ÁªèÁªìÊùüÔºåËøôÊó∂ÂÄôÂèØ‰ª•ÂºÄÂßãÊâßË°å‰ªªÂä°‰∫Ü„ÄÇ ÂèØËßÅÔºåsetTimeoutÂíåPromises‰∏çÊòØÂêå‰∏ÄÁ±ªÁöÑ‰ªªÂä°ÔºåÂ§ÑÁêÜÊñπÂºèÂ∫îËØ•‰ºöÊúâÂå∫Âà´ÔºåÂÖ∑‰ΩìÁöÑÂ§ÑÁêÜÊñπÂºèÊúâ‰ªÄ‰πà‰∏çÂêåÂë¢Ôºü ÈÄö‰øóÁöÑËß£Èáä‰∏Ä‰∏ãÔºåmicrotasksÁöÑ‰ΩúÁî®ÊòØÁî®Êù•Ë∞ÉÂ∫¶Â∫îÂú®ÂΩìÂâçÊâßË°åÁöÑËÑöÊú¨ÊâßË°åÁªìÊùüÂêéÁ´ãÂç≥ÊâßË°åÁöÑ‰ªªÂä°„ÄÇ ‰æãÂ¶ÇÂìçÂ∫î‰∫ã‰ª∂„ÄÅÊàñËÄÖÂºÇÊ≠•Êìç‰ΩúÔºå‰ª•ÈÅøÂÖç‰ªòÂá∫È¢ùÂ§ñÁöÑ‰∏Ä‰∏™taskÁöÑË¥πÁî®„ÄÇ microtask‰ºöÂú®‰∏§ÁßçÊÉÖÂÜµ‰∏ãÊâßË°åÔºö ‰ªªÂä°ÈòüÂàó(macrotask = task queue)ÂõûË∞ÉÂêéÊâßË°åÔºåÂâçÊèêÊù°‰ª∂ÊòØÂΩìÂâçÊ≤°ÊúâÂÖ∂‰ªñÊâßË°å‰∏≠ÁöÑ‰ª£Á†Å„ÄÇÊØè‰∏™taskÊú´Â∞æÊâßË°å„ÄÇÂè¶Â§ñÂú®Â§ÑÁêÜmicrotaskÊúüÈó¥ÔºåÂ¶ÇÊûúÊúâÊñ∞Ê∑ªÂä†ÁöÑmicrotasksÔºå‰πü‰ºöË¢´Ê∑ªÂä†Âà∞ÈòüÂàóÁöÑÊú´Â∞æÂπ∂ÊâßË°å„ÄÇ ‰πüÂ∞±ÊòØËØ¥ÊâßË°åÈ°∫Â∫èÊòØÔºö ÂºÄÂßã -&gt; Âèñtask queueÁ¨¨‰∏Ä‰∏™taskÊâßË°å -&gt; ÂèñmicrotaskÂÖ®ÈÉ®‰ªªÂä°‰æùÊ¨°ÊâßË°å -&gt; Âèñtask queue‰∏ã‰∏Ä‰∏™‰ªªÂä°ÊâßË°å -&gt; ÂÜçÊ¨°ÂèñÂá∫microtaskÂÖ®ÈÉ®‰ªªÂä°ÊâßË°å -&gt; ‚Ä¶ ËøôÊ†∑Âæ™ÁéØÂæÄÂ§ç Promise‰∏ÄÊó¶Áä∂ÊÄÅÁΩÆ‰∏∫ÂÆåÊàêÊÄÅÔºå‰æø‰∏∫ÂÖ∂ÂõûË∞É(.thenÂÜÖÁöÑÂáΩÊï∞)ÂÆâÊéí‰∏Ä‰∏™microtask„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÂõûÊàë‰ª¨‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºö 12345678910111213setTimeout(function()&#123; console.log(1)&#125;,0);new Promise(function(resolve)&#123; console.log(2) for( var i=100000 ; i&gt;0 ; i-- )&#123; i==1 &amp;&amp; resolve() &#125; console.log(3)&#125;).then(function()&#123; console.log(4)&#125;);console.log(5); ÊåâÁÖß‰∏äÈù¢ÁöÑËßÑÂàôÈáçÊñ∞ÂàÜÊûê‰∏ÄÈÅçÔºö ÂΩìËøêË°åÂà∞setTimeoutÊó∂Ôºå‰ºöÊääsetTimeoutÁöÑÂõûË∞ÉÂáΩÊï∞console.log(1)ÊîæÂà∞‰ªªÂä°ÈòüÂàóÈáåÂéªÔºåÁÑ∂ÂêéÁªßÁª≠Âêë‰∏ãÊâßË°å„ÄÇ Êé•‰∏ãÊù•‰ºöÈÅáÂà∞‰∏Ä‰∏™Promise„ÄÇÈ¶ñÂÖàÊâßË°åÊâìÂç∞console.log(2)ÔºåÁÑ∂ÂêéÊâßË°åforÂæ™ÁéØÔºåÂç≥Êó∂forÂæ™ÁéØË¶ÅÁ¥ØÂä†Âà∞10‰∏áÔºå‰πüÊòØÂú®ÊâßË°åÊ†àÈáåÈù¢ÔºåÁ≠âÂæÖforÂæ™ÁéØÊâßË°åÂÆåÊØï‰ª•ÂêéÔºåÂ∞ÜPromiseÁöÑÁä∂ÊÄÅ‰ªéfulfilledÂàáÊç¢Âà∞resolveÔºåÈöèÂêéÊääË¶ÅÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰πüÂ∞±ÊòØthenÈáåÈù¢ÁöÑconsole.log(4)Êé®Âà∞microtaskÈáåÈù¢Âéª„ÄÇÊé•‰∏ãÊù•È©¨‰∏äÊâßË°åÈ©¨‰∏äconsole.log(3)„ÄÇ ÁÑ∂ÂêéÂá∫PromiseÔºåËøòÂâ©‰∏Ä‰∏™ÂêåÊ≠•ÁöÑconsole.log(5)ÔºåÁõ¥Êé•ÊâìÂç∞„ÄÇËøôÊ†∑Á¨¨‰∏ÄËΩÆ‰∏ãÊù•ÔºåÂ∑≤Áªè‰æùÊ¨°ÊâìÂç∞‰∫Ü2Ôºå3Ôºå5„ÄÇ Áé∞Âú®Á¨¨‰∏ÄËΩÆ‰ªªÂä°ÈòüÂàóÂ∑≤ÁªèÊâßË°åÂÆåÊØïÔºåÊ≤°ÊúâÊ≠£Âú®ÊâßË°åÁöÑ‰ª£Á†Å„ÄÇÁ¨¶Âêà‰∏äÈù¢ËÆ≤ÁöÑmicrotaskÊâßË°åÊù°‰ª∂ÔºåÂõ†Ê≠§‰ºöÂ∞Ümicrotask‰∏≠ÁöÑ‰ªªÂä°‰ºòÂÖàÊâßË°åÔºåÂõ†Ê≠§ÊâßË°åconsole.log(4) ÊúÄÂêéËøòÂâ©macrotaskÈáåÁöÑsetTimeoutÊîæÂÖ•ÁöÑÂáΩÊï∞console.log(1)ÊúÄÂêéÊâßË°å„ÄÇ Â¶ÇÊ≠§ÂàÜÊûêËæìÂá∫È°∫Â∫èÊòØÔºö 1234523541 Êàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏™Ôºö ÂΩì‰∏Ä‰∏™Á®ãÂ∫èÊúâÔºösetTimeoutÔºå setInterval ÔºåsetImmediateÔºå I/OÔºå UIÊ∏≤ÊüìÔºåPromise Ôºåprocess.nextTickÔºå Object.observeÔºå MutationObserverÁöÑÊó∂ÂÄôÔºö 1.ÂÖàÊâßË°å macrotasksÔºöI/O -„Äã UIÊ∏≤Êüì 2.ÂÜçÊâßË°å microtasks Ôºöprocess.nextTick -„Äã Promise -„ÄãMutationObserver -&gt;Object.observe 3.ÂÜçÊääsetTimeout setInterval setImmediate Â°ûÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑmacrotasksÔºå‰æùÊ¨°Ôºö setTimeout ÔºåsetInterval ‚Äì„ÄãsetImmediate Áªº‰∏äÔºånextTickÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∫ßÁîü‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Âä†ÂÖ•taskÊàñËÄÖmicrotask‰∏≠ÔºåÂΩìÂâçÊ†àÊâßË°åÂÆå‰ª•ÂêéÔºàÂèØËÉΩ‰∏≠Èó¥ËøòÊúâÂà´ÁöÑÊéíÂú®ÂâçÈù¢ÁöÑÂáΩÊï∞ÔºâË∞ÉÁî®ËØ•ÂõûË∞ÉÂáΩÊï∞ÔºåËµ∑Âà∞‰∫ÜÂºÇÊ≠•Ëß¶ÂèëÔºàÂç≥‰∏ã‰∏Ä‰∏™tickÊó∂Ëß¶ÂèëÔºâÁöÑÁõÆÁöÑ„ÄÇ 12345678910111213141516171819setImmediate(function()&#123; console.log(1);&#125;,0);setTimeout(function()&#123; console.log(2);&#125;,0);new Promise(function(resolve)&#123; console.log(3); resolve(); console.log(4);&#125;).then(function()&#123; console.log(5);&#125;);console.log(6);process.nextTick(function()&#123; console.log(7);&#125;);console.log(8);ÁªìÊûúÊòØÔºö3 4 6 8 7 5 2 1 ‰ΩøÁî®‰∫ÜnextTickÂºÇÊ≠•Êõ¥Êñ∞ËßÜÂõæÊúâ‰ªÄ‰πàÂ•ΩÂ§ÑÂë¢ÔºüÊé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏Ä‰∏ã‰∏Ä‰∏™DemoÔºö 1234567891011121314151617&lt;template&gt; &lt;div&gt; &lt;div&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;export default &#123; data () &#123; return &#123; test: 0 &#125;; &#125;, created () &#123; for(let i = 0; i &lt; 1000; i++) &#123; this.test++; &#125; &#125;&#125; Áé∞Âú®ÊúâËøôÊ†∑ÁöÑ‰∏ÄÁßçÊÉÖÂÜµÔºåcreatedÁöÑÊó∂ÂÄôtestÁöÑÂÄº‰ºöË¢´++Âæ™ÁéØÊâßË°å1000Ê¨°„ÄÇÊØèÊ¨°++Êó∂ÔºåÈÉΩ‰ºöÊ†πÊçÆÂìçÂ∫îÂºèËß¶Âèësetter-&gt;Dep-&gt;Watcher-&gt;update-&gt;patch„ÄÇÂ¶ÇÊûúËøôÊó∂ÂÄôÊ≤°ÊúâÂºÇÊ≠•Êõ¥Êñ∞ËßÜÂõæÔºåÈÇ£‰πàÊØèÊ¨°++ÈÉΩ‰ºöÁõ¥Êé•Êìç‰ΩúDOMÊõ¥Êñ∞ËßÜÂõæÔºåËøôÊòØÈùûÂ∏∏Ê∂àËÄóÊÄßËÉΩÁöÑ„ÄÇÊâÄ‰ª•Vue.jsÂÆûÁé∞‰∫Ü‰∏Ä‰∏™queueÈòüÂàóÔºåÂú®‰∏ã‰∏Ä‰∏™tickÁöÑÊó∂ÂÄô‰ºöÁªü‰∏ÄÊâßË°åqueue‰∏≠WatcherÁöÑrun„ÄÇÂêåÊó∂ÔºåÊã•ÊúâÁõ∏ÂêåidÁöÑWatcher‰∏ç‰ºöË¢´ÈáçÂ§çÂä†ÂÖ•Âà∞ËØ•queue‰∏≠ÂéªÔºåÊâÄ‰ª•‰∏ç‰ºöÊâßË°å1000Ê¨°WatcherÁöÑrun„ÄÇÊúÄÁªàÊõ¥Êñ∞ËßÜÂõæÂè™‰ºöÁõ¥Êé•Â∞ÜtestÂØπÂ∫îÁöÑDOMÁöÑ0ÂèòÊàê1000„ÄÇ‰øùËØÅÊõ¥Êñ∞ËßÜÂõæÊìç‰ΩúDOMÁöÑÂä®‰ΩúÊòØÂú®ÂΩìÂâçÊ†àÊâßË°åÂÆå‰ª•Âêé‰∏ã‰∏Ä‰∏™tickÁöÑÊó∂ÂÄôË∞ÉÁî®ÔºåÂ§ßÂ§ß‰ºòÂåñ‰∫ÜÊÄßËÉΩ„ÄÇ]]></content>
      <tags>
        <tag>vue</tag>
        <tag>nextTick</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[19 ‰∏™ JavaScript ÊúâÁî®ÁöÑÁÆÄÂÜôÊäÄÊúØ]]></title>
    <url>%2F2017%2F10%2F11%2F19-%E4%B8%AA-JavaScript-%E6%9C%89%E7%94%A8%E7%9A%84%E7%AE%80%E5%86%99%E6%8A%80%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[1.‰∏âÂÖÉÊìç‰ΩúÁ¨¶ÂΩìÊÉ≥ÂÜôif‚Ä¶elseËØ≠Âè•Êó∂Ôºå‰ΩøÁî®‰∏âÂÖÉÊìç‰ΩúÁ¨¶Êù•‰ª£Êõø„ÄÇ const x = 20; let answer; if (x &gt; 10) { answer = &apos;is greater&apos;; } else { answer = &apos;is lesser&apos;; } ÁÆÄÂÜôÔºöconst answer = x &gt; 10 ? &#39;is greater&#39; : &#39;is lesser&#39;; ‰πüÂèØ‰ª•ÂµåÂ•óifËØ≠Âè•Ôºöconst big = x &gt; 10 ? &quot; greater 10&quot; : x 2.Áü≠Ë∑ØÊ±ÇÂÄºÁÆÄÂÜôÊñπÂºèÂΩìÁªô‰∏Ä‰∏™ÂèòÈáèÂàÜÈÖçÂè¶‰∏Ä‰∏™ÂÄºÊó∂ÔºåÊÉ≥Á°ÆÂÆöÊ∫êÂßãÂÄº‰∏çÊòØnullÔºåundefinedÊàñÁ©∫ÂÄº„ÄÇÂèØ‰ª•ÂÜôÊí∞ÂÜô‰∏Ä‰∏™Â§öÈáçÊù°‰ª∂ÁöÑifËØ≠Âè•„ÄÇ if (variable1 !== null || variable1 !== undefined || variable1 !== &apos;&apos;) { let variable2 = variable1; } ÊàñËÄÖÂèØ‰ª•‰ΩøÁî®Áü≠Ë∑ØÊ±ÇÂÄºÊñπÊ≥ïÔºöconst variable2 = variable1 || &#39;new&#39;; 3.Â£∞ÊòéÂèòÈáèÁÆÄÂÜôÊñπÊ≥ïlet x; let y; let z = 3; ÁÆÄÂÜôÊñπÊ≥ïÔºölet x, y, z=3; 4.ifÂ≠òÂú®Êù°‰ª∂ÁÆÄÂÜôÊñπÊ≥ïif (likeJavaScript === true) ÁÆÄÂÜôÔºöif (likeJavaScript) Âè™ÊúâlikeJavaScriptÊòØÁúüÂÄºÊó∂Ôºå‰∫åËÄÖËØ≠Âè•ÊâçÁõ∏Á≠â Â¶ÇÊûúÂà§Êñ≠ÂÄº‰∏çÊòØÁúüÂÄºÔºåÂàôÂèØ‰ª•ËøôÊ†∑Ôºö let a; if ( a !== true ) { // do something... } ÁÆÄÂÜôÔºö let a; if ( !a ) { // do something... } 5.JavaScriptÂæ™ÁéØÁÆÄÂÜôÊñπÊ≥ïfor (let i = 0; i &lt; allImgs.length; i++) ÁÆÄÂÜôÔºöfor (let index in allImgs)‰πüÂèØ‰ª•‰ΩøÁî®Array.forEachÔºö function logArrayElements(element, index, array) { console.log(&quot;a[&quot; + index + &quot;] = &quot; + element); } [2, 5, 9].forEach(logArrayElements); // logs: // a[0] = 2 // a[1] = 5 // a[2] = 9 6.Áü≠Ë∑ØËØÑ‰ª∑Áªô‰∏Ä‰∏™ÂèòÈáèÂàÜÈÖçÁöÑÂÄºÊòØÈÄöËøáÂà§Êñ≠ÂÖ∂ÂÄºÊòØÂê¶‰∏∫nullÊàñundefinedÔºåÂàôÂèØ‰ª•Ôºö let dbHost; if (process.env.DB_HOST) { dbHost = process.env.DB_HOST; } else { dbHost = &apos;localhost&apos;; } ÁÆÄÂÜôÔºöconst dbHost = process.env.DB_HOST || &#39;localhost&#39;; 7.ÂçÅËøõÂà∂ÊåáÊï∞ÂΩìÈúÄË¶ÅÂÜôÊï∞Â≠óÂ∏¶ÊúâÂæàÂ§öÈõ∂Êó∂ÔºàÂ¶Ç10000000ÔºâÔºåÂèØ‰ª•ÈááÁî®ÊåáÊï∞Ôºà1e7ÔºâÊù•‰ª£ÊõøËøô‰∏™Êï∞Â≠óÔºöfor (let i = 0; i &lt; 10000; i++) {}ÁÆÄÂÜôÔºö for (let i = 0; i &lt; 1e7; i++) {} // ‰∏ãÈù¢ÈÉΩÊòØËøîÂõûtrue 1e0 === 1; 1e1 === 10; 1e2 === 100; 1e3 === 1000; 1e4 === 10000; 1e5 === 100000; 8.ÂØπË±°Â±ûÊÄßÁÆÄÂÜôÂ¶ÇÊûúÂ±ûÊÄßÂêç‰∏ékeyÂêçÁõ∏ÂêåÔºåÂàôÂèØ‰ª•ÈááÁî®ES6ÁöÑÊñπÊ≥ïÔºöconst obj = { x:x, y:y }; ÁÆÄÂÜôÔºöconst obj = { x, y }; 9.ÁÆ≠Â§¥ÂáΩÊï∞ÁÆÄÂÜô‰º†ÁªüÂáΩÊï∞ÁºñÂÜôÊñπÊ≥ïÂæàÂÆπÊòìËÆ©‰∫∫ÁêÜËß£ÂíåÁºñÂÜôÔºå‰ΩÜÊòØÂΩìÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™ÂáΩÊï∞‰∏≠ÔºåÂàôËøô‰∫õ‰ºòÂäøÂ∞±Ëç°ÁÑ∂Êó†Â≠ò„ÄÇ function sayHello(name) { console.log(&apos;Hello&apos;, name); } setTimeout(function() { console.log(&apos;Loaded&apos;) }, 2000); list.forEach(function(item) { console.log(item); }); ÁÆÄÂÜôÔºö sayHello = name =&gt; console.log(&apos;Hello&apos;, name); setTimeout(() =&gt; console.log(&apos;Loaded&apos;), 2000); list.forEach(item =&gt; console.log(item)); 10.ÈöêÂºèËøîÂõûÂÄºÁÆÄÂÜôÁªèÂ∏∏‰ΩøÁî®returnËØ≠Âè•Êù•ËøîÂõûÂáΩÊï∞ÊúÄÁªàÁªìÊûúÔºå‰∏Ä‰∏™ÂçïÁã¨ËØ≠Âè•ÁöÑÁÆ≠Â§¥ÂáΩÊï∞ËÉΩÈöêÂºèËøîÂõûÂÖ∂ÂÄºÔºàÂáΩÊï∞ÂøÖÈ°ªÁúÅÁï•{}‰∏∫‰∫ÜÁúÅÁï•returnÂÖ≥ÈîÆÂ≠óÔºâ ‰∏∫ËøîÂõûÂ§öË°åËØ≠Âè•Ôºà‰æãÂ¶ÇÂØπË±°Â≠óÈù¢Ë°®ËææÂºèÔºâÔºåÂàôÈúÄË¶Å‰ΩøÁî®()ÂåÖÂõ¥ÂáΩÊï∞‰Ωì„ÄÇ function calcCircumference(diameter) { return Math.PI * diameter } var func = function func() { return { foo: 1 }; }; ÁÆÄÂÜôÔºö calcCircumference = diameter =&gt; ( Math.PI * diameter; ) var func = () =&gt; ({ foo: 1 }); 11.ÈªòËÆ§ÂèÇÊï∞ÂÄº‰∏∫‰∫ÜÁªôÂáΩÊï∞‰∏≠ÂèÇÊï∞‰º†ÈÄíÈªòËÆ§ÂÄºÔºåÈÄöÂ∏∏‰ΩøÁî®ifËØ≠Âè•Êù•ÁºñÂÜôÔºå‰ΩÜÊòØ‰ΩøÁî®ES6ÂÆö‰πâÈªòËÆ§ÂÄºÔºåÂàô‰ºöÂæàÁÆÄÊ¥ÅÔºö function volume(l, w, h) { if (w === undefined) w = 3; if (h === undefined) h = 4; return l * w * h; } ÁÆÄÂÜôÔºö volume = (l, w = 3, h = 4 ) =&gt; (l * w * h); volume(2) //output: 24 12.Ê®°ÊùøÂ≠óÁ¨¶‰∏≤‰º†ÁªüÁöÑJavaScriptËØ≠Ë®ÄÔºåËæìÂá∫Ê®°ÊùøÈÄöÂ∏∏ÊòØËøôÊ†∑ÂÜôÁöÑ„ÄÇ const welcome = &apos;You have logged in as &apos; + first + &apos; &apos; + last + &apos;.&apos; const db = &apos;http://&apos; + host + &apos;:&apos; + port + &apos;/&apos; + database; ES6ÂèØ‰ª•‰ΩøÁî®ÂèçÂºïÂè∑Âíå${}ÁÆÄÂÜôÔºö const welcome = `You have logged in as ${first} ${last}`; const db = `http://${host}:${port}/${database}`; 13.Ëß£ÊûÑËµãÂÄºÁÆÄÂÜôÊñπÊ≥ïÂú®webÊ°ÜÊû∂‰∏≠ÔºåÁªèÂ∏∏ÈúÄË¶Å‰ªéÁªÑ‰ª∂ÂíåAPI‰πãÈó¥Êù•Âõû‰º†ÈÄíÊï∞ÁªÑÊàñÂØπË±°Â≠óÈù¢ÂΩ¢ÂºèÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÈúÄË¶ÅËß£ÊûÑÂÆÉ const observable = require(&apos;mobx/observable&apos;); const action = require(&apos;mobx/action&apos;); const runInAction = require(&apos;mobx/runInAction&apos;); const store = this.props.store; const form = this.props.form; const loading = this.props.loading; const errors = this.props.errors; const entity = this.props.entity; ÁÆÄÂÜôÔºö import { observable, action, runInAction } from &apos;mobx&apos;; const { store, form, loading, errors, entity } = this.props; ‰πüÂèØ‰ª•ÂàÜÈÖçÂèòÈáèÂêçÔºö const { store, form, loading, errors, entity:contact } = this.props; //ÊúÄÂêé‰∏Ä‰∏™ÂèòÈáèÂêç‰∏∫contact 14.Â§öË°åÂ≠óÁ¨¶‰∏≤ÁÆÄÂÜôÈúÄË¶ÅËæìÂá∫Â§öË°åÂ≠óÁ¨¶‰∏≤ÔºåÈúÄË¶Å‰ΩøÁî®+Êù•ÊãºÊé•Ôºö const lorem = &apos;Lorem ipsum dolor sit amet, consectetur\n\t&apos; + &apos;adipisicing elit, sed do eiusmod tempor incididunt\n\t&apos; + &apos;ut labore et dolore magna aliqua. Ut enim ad minim\n\t&apos; + &apos;veniam, quis nostrud exercitation ullamco laboris\n\t&apos; + &apos;nisi ut aliquip ex ea commodo consequat. Duis aute\n\t&apos; + &apos;irure dolor in reprehenderit in voluptate velit esse.\n\t&apos; ‰ΩøÁî®ÂèçÂºïÂè∑ÔºåÂàôÂèØ‰ª•ËææÂà∞ÁÆÄÂÜô‰ΩúÁî®Ôºö const lorem = `Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse.` 15.Êâ©Â±ïËøêÁÆóÁ¨¶ÁÆÄÂÜôÊâ©Â±ïËøêÁÆóÁ¨¶ÊúâÂá†ÁßçÁî®‰æãËÆ©JavaScript‰ª£Á†ÅÊõ¥Âä†ÊúâÊïà‰ΩøÁî®ÔºåÂèØ‰ª•Áî®Êù•‰ª£ÊõøÊüê‰∏™Êï∞ÁªÑÂáΩÊï∞„ÄÇ // joining arrays const odd = [1, 3, 5]; const nums = [2 ,4 , 6].concat(odd); // cloning arrays const arr = [1, 2, 3, 4]; const arr2 = arr.slice() ÁÆÄÂÜôÔºö // joining arrays const odd = [1, 3, 5 ]; const nums = [2 ,4 , 6, ...odd]; console.log(nums); // [ 2, 4, 6, 1, 3, 5 ] // cloning arrays const arr = [1, 2, 3, 4]; const arr2 = [...arr]; ‰∏çÂÉèconcat()ÂáΩÊï∞ÔºåÂèØ‰ª•‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶Êù•Âú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠‰ªªÊÑèÂ§ÑÊèíÂÖ•Âè¶‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇ const odd = [1, 3, 5 ]; const nums = [2, ...odd, 4 , 6]; ‰πüÂèØ‰ª•‰ΩøÁî®Êâ©Â±ïËøêÁÆóÁ¨¶Ëß£ÊûÑÔºö const { a, b, ...z } = { a: 1, b: 2, c: 3, d: 4 }; console.log(a) // 1 console.log(b) // 2 console.log(z) // { c: 3, d: 4 } 16.Âº∫Âà∂ÂèÇÊï∞ÁÆÄÂÜôJavaScript‰∏≠Â¶ÇÊûúÊ≤°ÊúâÂêëÂáΩÊï∞ÂèÇÊï∞‰º†ÈÄíÂÄºÔºåÂàôÂèÇÊï∞‰∏∫undefined„ÄÇ‰∏∫‰∫ÜÂ¢ûÂº∫ÂèÇÊï∞ËµãÂÄºÔºåÂèØ‰ª•‰ΩøÁî®ifËØ≠Âè•Êù•ÊäõÂá∫ÂºÇÂ∏∏ÔºåÊàñ‰ΩøÁî®Âº∫Âà∂ÂèÇÊï∞ÁÆÄÂÜôÊñπÊ≥ï„ÄÇ function foo(bar) { if(bar === undefined) { throw new Error(&apos;Missing parameter!&apos;); } return bar; } ÁÆÄÂÜôÔºö mandatory = () =&gt; { throw new Error(&apos;Missing parameter!&apos;); } foo = (bar = mandatory()) =&gt; { return bar; } 17.Array.findÁÆÄÂÜôÊÉ≥‰ªéÊï∞ÁªÑ‰∏≠Êü•ÊâæÊüê‰∏™ÂÄºÔºåÂàôÈúÄË¶ÅÂæ™ÁéØ„ÄÇÂú®ES6‰∏≠Ôºåfind()ÂáΩÊï∞ËÉΩÂÆûÁé∞ÂêåÊ†∑ÊïàÊûú„ÄÇ const pets = [ { type: &apos;Dog&apos;, name: &apos;Max&apos;}, { type: &apos;Cat&apos;, name: &apos;Karl&apos;}, { type: &apos;Dog&apos;, name: &apos;Tommy&apos;}, ] function findDog(name) { for(let i = 0; i&lt;pets.length; ++i) { if(pets[i].type === &apos;Dog&apos; &amp;&amp; pets[i].name === name) { return pets[i]; } } } ÁÆÄÂÜôÔºö pet = pets.find(pet =&gt; pet.type ===&apos;Dog&apos; &amp;&amp; pet.name === &apos;Tommy&apos;); console.log(pet); // { type: &apos;Dog&apos;, name: &apos;Tommy&apos; } 18.Object[key]ÁÆÄÂÜôËÄÉËôë‰∏Ä‰∏™È™åËØÅÂáΩÊï∞ function validate(values) { if(!values.first) return false; if(!values.last) return false; return true; } console.log(validate({first:&apos;Bruce&apos;,last:&apos;Wayne&apos;})); // true ÂÅáËÆæÂΩìÈúÄË¶Å‰∏çÂêåÂüüÂíåËßÑÂàôÊù•È™åËØÅÔºåËÉΩÂê¶ÁºñÂÜô‰∏Ä‰∏™ÈÄöÁî®ÂáΩÊï∞Âú®ËøêË°åÊó∂Á°ÆËÆ§Ôºü // ÂØπË±°È™åËØÅËßÑÂàô const schema = { first: { required:true }, last: { required:true } } // ÈÄöÁî®È™åËØÅÂáΩÊï∞ const validate = (schema, values) =&gt; { for(field in schema) { if(schema[field].required) { if(!values[field]) { return false; } } } return true; } console.log(validate(schema, {first:&apos;Bruce&apos;})); // false console.log(validate(schema, {first:&apos;Bruce&apos;,last:&apos;Wayne&apos;})); // true Áé∞Âú®ÂèØ‰ª•ÊúâÈÄÇÁî®‰∫éÂêÑÁßçÊÉÖÂÜµÁöÑÈ™åËØÅÂáΩÊï∞Ôºå‰∏çÈúÄË¶Å‰∏∫‰∫ÜÊØè‰∏™ËÄåÁºñÂÜôËá™ÂÆö‰πâÈ™åËØÅÂáΩÊï∞‰∫Ü 19.ÂèåÈáçÈùû‰ΩçËøêÁÆóÁÆÄÂÜôÊúâ‰∏Ä‰∏™ÊúâÊïàÁî®‰æãÁî®‰∫éÂèåÈáçÈùûËøêÁÆóÊìç‰ΩúÁ¨¶„ÄÇÂèØ‰ª•Áî®Êù•‰ª£ÊõøMath.floor()ÔºåÂÖ∂‰ºòÂäøÂú®‰∫éËøêË°åÊõ¥Âø´ÔºåÂèØ‰ª•ÈòÖËØªÊ≠§ÊñáÁ´†‰∫ÜËß£Êõ¥Â§ö‰ΩçËøêÁÆó„ÄÇMath.floor(4.9) === 4 //true ÁÆÄÂÜôÔºö~~4.9 === 4 //true]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ReactÈ´òÈò∂ÁªÑ‰ª∂HOC]]></title>
    <url>%2F2017%2F10%2F04%2FReact%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÈ´òÈò∂ÁªÑ‰ª∂Ôºü È´òÈò∂ÈÉ®‰ª∂ÊòØ‰∏ÄÁßçÁî®‰∫éÂ§çÁî®ÁªÑ‰ª∂ÈÄªËæëÁöÑÈ´òÁ∫ßÊäÄÊúØÔºåÂÆÉÂπ∂‰∏çÊòØ React APIÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄåÊòØ‰ªéReact ÊºîÂåñËÄåÊù•ÁöÑ‰∏ÄÁßçÊ®°Âºè„ÄÇ ÂÖ∑‰ΩìÂú∞ËØ¥ÔºåÈ´òÈò∂ÁªÑ‰ª∂Â∞±ÊòØ‰∏Ä‰∏™Êé•Êî∂‰∏Ä‰∏™ÁªÑ‰ª∂Âπ∂ËøîÂõûÂè¶Â§ñ‰∏Ä‰∏™Êñ∞ÁªÑ‰ª∂ÁöÑÂáΩÊï∞ÔºÅ ËøôÊòØÂÆòÊñπÊñáÊ°£ËØ¥ÁöÑÔºåÊàëÊ≤°ÊúâÊà™ÂÖ®ÔºåÂõ†‰∏∫ÂêéÈù¢ÁöÑËß£Èáä‰ºöÈÄ†ÊàêËØØËß£Ôºå‰ΩÜÁÆÄÂçïËÆ≤È´òÈò∂ÁªÑ‰ª∂ÔºàÂáΩÊï∞ÔºâÂ∞±Â•ΩÊØî‰∏Ä‰∏™Âä†Â∑•ÂéÇÔºåÂêåÊ†∑ÁöÑÔºåÂ±èÂπï„ÄÅcpu„ÄÅÊâ¨Â£∞Âô®„ÄÅÈîÆÁõòÊåâÈîÆ„ÄÅÂ§ñÂ£≥„ÄÅÁîµÊ±†ÔºåÂ∞èÁ±≥ÊâãÊú∫Â∑•ÂéÇÁªÑË£ÖÂÆåÂ∞±ÊòØÂ∞èÁ±≥ÊâãÊú∫ÔºåÈ≠ÖÊóèÊâãÊú∫ÁªÑË£ÖÂÆåÂ∞±ÊòØÈ≠ÖÊóèÊâãÊú∫ÔºåÂü∫Êú¨ÊùêÊñôÈÉΩÊòØÁõ∏ÂêåÁöÑÔºå‰∏çÂêåÂ∑•ÂéÇÔºàÈ´òÈò∂ÁªÑ‰ª∂ÔºâÊúâ‰∏çÂêåÁöÑÂÆûÁé∞Âèä‰∫ßÂá∫ÔºåÂΩìÁÑ∂Ëøô‰∏™Â∑•ÂéÇÔºàÈ´òÈò∂ÁªÑ‰ª∂Ôºâ‰πüÂèØËÉΩÊòØÈíàÂØπÊüê‰∏™Âü∫Êú¨ÊùêÊñôÁöÑÂ§ÑÁêÜ„ÄÇ ÊÄª‰πã‰∫ßÂá∫ÁöÑÁªìÊûúÊã•Êúâ‰∫ÜËæìÂÖ•ÁªÑ‰ª∂‰∏çÂÖ∑Â§áÁöÑÂäüËÉΩÔºåËæìÂÖ•ÁöÑÁªÑ‰ª∂ÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑÂÆû‰æãÔºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÁªÑ‰ª∂Á±ªÔºåËøòÂèØ‰ª•ÊòØ‰∏Ä‰∏™Êó†Áä∂ÊÄÅÁªÑ‰ª∂ÁöÑÂáΩÊï∞„ÄÇ Ëß£ÂÜ≥‰ªÄ‰πàÈóÆÈ¢òÔºüÈöèÁùÄÈ°πÁõÆË∂äÊù•Ë∂äÂ§çÊùÇÔºåÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÂ§ö‰∏™ÁªÑ‰ª∂ÈúÄË¶ÅÊüê‰∏™ÂäüËÉΩÔºåËÄå‰∏îËøô‰∏™ÂäüËÉΩÂíåÈ°µÈù¢Âπ∂Ê≤°ÊúâÂÖ≥Á≥ªÔºåÊâÄ‰ª•‰πü‰∏çËÉΩÁÆÄÂçïÁöÑÊäΩÂèñÊàê‰∏Ä‰∏™Êñ∞ÁöÑÁªÑ‰ª∂Ôºå‰ΩÜÊòØÂ¶ÇÊûúËÆ©ÂêåÊ†∑ÁöÑÈÄªËæëÂú®ÂêÑ‰∏™ÁªÑ‰ª∂ÈáåÂêÑËá™ÂÆûÁé∞ÔºåÊó†Áñë‰ºöÂØºËá¥ÈáçÂ§çÁöÑ‰ª£Á†Å„ÄÇÊØîÂ¶ÇÈ°µÈù¢Êúâ‰∏âÁßçÂºπÁ™ó‰∏Ä‰∏™ÊúâtitleÔºå‰∏Ä‰∏™Ê≤°ÊúâÔºå‰∏Ä‰∏™ÂèàÊúâÂè≥‰∏äËßíÂÖ≥Èó≠ÊåâÈíÆÔºåÈô§Ê≠§‰πãÂ§ñÂà´Êó†ÂÆÉÊ†∑Ôºå‰Ω†ÊÄª‰∏çËÉΩÊï¥Â•ΩÂá†‰∏™ÂºπÁ™óÁªÑ‰ª∂ÂêßÔºåËøôÈáåÈô§‰∫Ütilte,ÂÖ≥Èó≠ÊåâÈíÆÂÖ∂‰ªñÁöÑÂ∞±ÂèØ‰ª•ÂÅö‰∏∫‰∏äÈù¢ËØ¥ÁöÑÂü∫Êú¨ÊùêÊñô„ÄÇ È´òÈò∂ÁªÑ‰ª∂ÊÄªÂÖ±ÂàÜ‰∏∫‰∏§Â§ßÁ±ª ‰ª£ÁêÜÊñπÂºè ÊìçÁ∫µprop ËÆøÈóÆrefÔºà‰∏çÊé®ËçêÔºâ ÊäΩÂèñÁä∂ÊÄÅ ÂåÖË£ÖÁªÑ‰ª∂ ÁªßÊâøÊñπÂºè ÊìçÁ∫µÁîüÂëΩÂë®Êúü ÊìçÁ∫µprop ‰ª£ÁêÜÊñπÂºè‰πã ÊìçÁ∫µpropÂà†Èô§propimport React from&apos;react&apos;functionHocRemoveProp(WrappedComponent) { returnclassWrappingComPonentextendsReact.Component{ render() { const { user, ...otherProps } = this.props; return&lt;WrappedComponent {...otherProps} /&gt; } } } export default HocRemoveProp; Â¢ûÂä†propÊé•‰∏ãÊù•ÊàëÊääÁÆÄÂåñ‰∫ÜÂÜôÊ≥ïÔºåÊääÂåøÂêçÂáΩÊï∞ÂéªÊéâÔºåÂêåÊó∂Êç¢ÊàêÁÆ≠Â§¥ÂáΩÊï∞ import React from&apos;react&apos;const HocAddProp = (WrappedComponentÔºåuid) =&gt;classextendsReact.Component{ render() { const newProps = { uid, }; return&lt;WrappedComponent {...this.props} {...newProps} /&gt; } } export default HocAddProp; ‰∏äÈù¢HocRemovePropÈ´òÈò∂ÁªÑ‰ª∂‰∏≠ÔºåÊâÄÂÅöÁöÑ‰∫ãÊÉÖÂíåËæìÂÖ•ÁªÑ‰ª∂WrappedComponentÂäüËÉΩ‰∏ÄÊ†∑ÔºåÂè™ÊòØÂøΩÁï•‰∫ÜÂêç‰∏∫userÁöÑprop„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúWrappedComponentËÉΩÂ§ÑÁêÜÂêç‰∏∫userÁöÑprop,Ëøô‰∏™È´òÈò∂ÁªÑ‰ª∂ËøîÂõûÁöÑÁªÑ‰ª∂ÂàôÂÆåÂÖ®Êó†ËßÜËøô‰∏™prop„ÄÇ const { user, ...otherProps } = this.props; ËøôÊòØ‰∏Ä‰∏™Âà©Áî®es6ËØ≠Ê≥ïÊäÄÂ∑ßÔºåÁªèËøá‰∏äÈù¢ÁöÑËØ≠Âè•ÔºåotherPropsÈáåÈù¢Â∞±Êúâthis.props‰∏≠ÊâÄÊúâÁöÑÂ≠óÊÆµÈô§‰∫Üuser. ÂÅáÂ¶ÇÊàë‰ª¨Áé∞Âú®‰∏çÂ∏åÊúõÊüê‰∏™ÁªÑ‰ª∂Êé•Êî∂userÁöÑprop,ÈÇ£‰πàÊàë‰ª¨Â∞±‰∏çË¶ÅÁõ¥Êé•‰ΩøÁî®Ëøô‰∏™ÁªÑ‰ª∂ÔºåËÄåÊòØÊääËøô‰∏™ÁªÑ‰ª∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôHocRemovePropÔºåÁÑ∂ÂêéÊàë‰ª¨ÊääËøô‰∏™ÂáΩÊï∞ÁöÑËøîÂõûÁªìÊûúÂΩì‰ΩúÁªÑ‰ª∂Êù•‰ΩøÁî® ‰∏§‰∏™È´òÈò∂ÁªÑ‰ª∂ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºö const newComponent = HocRemoveProp(SampleComponent); const newComponent = HocAddProp(SampleComponent,&apos;1111111&apos;); ‰πüÂèØ‰ª•Âà©Áî®decoratorËØ≠Ê≥ïÁ≥ñËøôÊ†∑‰ΩøÁî® import React, { Component } from&apos;React&apos;; @HocRemoveProp classSampleComponentextendsComponent{ render() {} } exportdefault SampleComponent; ‰ª£ÁêÜÊñπÂºè‰πã ÊäΩÂèñÁä∂ÊÄÅÂ∞ÜÊâÄÊúâÁöÑÁä∂ÊÄÅÁöÑÁÆ°ÁêÜ‰∫§ÁªôÂ§ñÈù¢ÁöÑÂÆπÂô®ÁªÑ‰ª∂ÔºåËøô‰∏™Ê®°ÂºèÂ∞±ÊòØ ÊäΩÂèñÁä∂ÊÄÅ Â§ñÈù¢ÁöÑÂÆπÂô®Â∞±ÊòØËøô‰∏™È´òÈò∂ÁªÑ‰ª∂ const HocContainer = (WrappedComponent) =&gt;classextendsReact.Component{ constructor(props) { super(props) this.state = { name: &apos;&apos; } } onNameChange = (event) =&gt; { this.setState({ name: event.target.value }) } render() { const newProps = { name: { value: this.state.name, onChange: this.onNameChange } } return&lt;WrappedComponent {...this.props} {...newProps} /&gt; } } @HocContainer classSampleComponentextendsReact.Component{ render() { return&lt;inputname=&quot;name&quot; {...this.props.name}/&gt; } } ËøôÊ†∑ÂΩìÊàë‰ª¨Âú®‰ΩøÁî®Ëøô‰∏™Â∑≤ÁªèË¢´ÂåÖË£πÁöÑinputÁªÑ‰ª∂ÔºàSampleComponentÔºâÊó∂ÂÄô ÂÆÉÁöÑÂÄºÂ∞±Ë¢´ÊîæÂú®‰∫ÜHocContainerÈ´òÈò∂ÁªÑ‰ª∂‰∏≠ÔºåÂΩìÂæàÂ§öËøôÊ†∑ÁöÑinputÁªÑ‰ª∂ÈÉΩÁî®Ëøô‰∏™HocContainerÈ´òÈò∂ÁªÑ‰ª∂Êó∂ÔºåÈÇ£‰πàÂÆÉ‰ª¨ÁöÑÂÄºÈÉΩÂ∞Ü‰øùÂ≠òÂú®Ëøô‰∏™HocContainerÈ´òÈò∂ÁªÑ‰ª∂‰∏≠ ‰ª£ÁêÜÊñπÂºè‰πã ÂåÖË£ÖÁªÑ‰ª∂const HocStyleComponent = (WrappedComponent, style) =&gt;classextendsReact.Component{ render() { return ( &lt;divstyle={style}&gt;&lt;WrappedComponent {...this.props} {...newProps} /&gt;&lt;/div&gt; ) } } ËøôÊ†∑‰ΩøÁî® import HocStyleComponent from&apos;./HocStyleComponent&apos;; const colorSytle ={color:&apos;#ff5555&apos;} const newComponent = HocStyleComponent(SampleComponent, colorSytle); -‰ª£ÁêÜÊñπÂºèÁöÑÁîüÂëΩÂë®ÊúüÁöÑËøáÁ®ãÁ±ª‰ºº‰∫éÂ†ÜÊ†àË∞ÉÁî®: didmount ‰∏Ä&gt; HOC didmount ‰∏Ä&gt;(HOCs didmount) ‰∏Ä&gt;(HOCs will unmount) ‰∏Ä&gt;HOC will unmount‰∏Ä&gt;unmount Âú®ËØ¥ÁªßÊâøÊñπÂºè‰πãÂâçÂÖàÁúã‰∏Ä‰∏™‰æãÂ≠êconst MyContainer = (WrappedComponent) =&gt;classextendsWrappedComponent{ render() { returnsuper.render(); } } Ëøô‰∏™‰æãÂ≠êÂæàÁÆÄÂçïÔºåÁõ∏ÂΩì‰∫éÊääWrappedComponentÁªÑ‰ª∂ÁöÑrenderÊñπÊ≥ïÔºåÈÄöËøásuper.render()ÊñπÊ≥ïÂêêÂà∞‰∫ÜMyContainer ‰∏≠ÔºåÂèØ‰ª•È°∫Â∫èË∞ÉÁî®„ÄÇ ÁªßÊâøÊñπÂºèÁöÑÁîüÂëΩÂë®ÊúüÁöÑËøáÁ®ãÁ±ª‰ºº‰∫éÈòüÂàóË∞ÉÁî®: didmount ‰∏Ä&gt; HOC didmount ‰∏Ä&gt;(HOCs didmount) ‰∏Ä&gt;will unmount‰∏Ä&gt;HOC will unmount‰∏Ä&gt; (HOCs will unmount) ‰ª£ÁêÜÊñπÂºè‰∏ãWrappedComponent‰ºöÁªèÂéÜ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁîüÂëΩÂë®ÊúüÔºå‰∫ßÁîüÁöÑÊñ∞ÁªÑ‰ª∂ÂíåÂèÇÊï∞ÁªÑ‰ª∂ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÁªÑ‰ª∂Ôºå‰∏ÄÊ¨°Ê∏≤ÊüìÔºå‰∏§‰∏™ÁªÑ‰ª∂ÈÉΩ‰ºöÁªèÂéÜÂêÑËá™ÁöÑÁîüÂëΩÂë®ÊúüÔºå Âú®ÁªßÊâøÊñπÂºè‰∏ãÔºå‰∫ßÁîüÁöÑÊñ∞ÁªÑ‰ª∂ÂíåÂèÇÊï∞ÁªÑ‰ª∂Âêà‰∫å‰∏∫‰∏ÄÔºåsuper.renderÂè™ÊòØÁîüÂëΩÂë®Êúü‰∏≠ÁöÑÂáΩÊï∞ÔºåÂèòÊàê‰∏Ä‰∏™ÁîüÂëΩÂë®Êúü„ÄÇ Êù•Áúã‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰Ω†Â∞±‰ºöÊòéÁôΩ‰∫Ü„ÄÇ ÁªßÊâøÊñπÂºè‰πã ÊìçÁ∫µÁîüÂëΩÂë®Êúü(Ê∏≤ÊüìÂä´ÊåÅ)È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™È´òÈò∂ÔºåÂú®ÂàõÂª∫‰∏Ä‰∏™‰ΩøÁî®È´òÈò∂ÁªÑ‰ª∂ÁöÑÁªÑ‰ª∂Ôºå‰πüÂ∞±ÊòØÊòØËæìÂÖ•ÁªÑ‰ª∂ÔºåÊúÄÂêéÊàëÂú®ÊîπÂèòËøô‰∏™ËæìÂÖ•ÁªÑ‰ª∂props import * as React from&apos;react&apos;; const HocComponent = (WrappedComponent) =&gt;classMyContainerextendsWrappedComponent{ render() { if (this.props.time &amp;&amp; this.state.success) { returnsuper.render() } return&lt;div&gt;ÂÄíËÆ°Êó∂ÂÆåÊàê‰∫Ü...&lt;/div&gt; } } Ëøô‰∏™È´òÈò∂ÁªÑ‰ª∂‰ºöÁõ¥Êé•ËØªÂèñËæìÂÖ•ÁªÑ‰ª∂‰∏≠ÁöÑprops,state,ÁÑ∂ÂêéÊéßÂà∂‰∫ÜËæìÂÖ•ÁªÑ‰ª∂ÁöÑrenderÂ±ïÁ§∫ Âè™ÊúâÂú®props.timeÂíåstate.successÂêåÊó∂‰∏∫ÁúüÁöÑÊó∂ÂÄôÊâç‰ºöÂ±ïÁ§∫ import * as React from&apos;react&apos;; import HocComponent from&apos;./HocComponent&apos; @HocComponent classDemoComponentextendsReact.Component{ constructor(props) { super(props); this.state = { success: true, }; } render() { return&lt;div&gt;ÊàëÊòØ‰∏Ä‰∏™ÁªÑ‰ª∂&lt;/div&gt; } } exportdefault DemoComponent; ÁÑ∂ÂêéË∞ÉÁî®ÔºåÈÄíÂáètimeÊï∞ÂÄºÁõ¥Âà∞Âèò‰∏∫0 Áî±Ê≠§ÂèØ‰ª•ÁúãÂá∫È´òÈò∂ÁªÑ‰ª∂‰πüÂèØ‰ª•ÊéßÂà∂state‰ΩÜÊòØÊúÄÂ•ΩË¶ÅÈôêÂà∂ËøôÊ†∑ÂÅöÔºåÂèØËÉΩ‰ºöËÆ©WrappedComponentÁªÑ‰ª∂ÂÜÖÈÉ®Áä∂ÊÄÅÂèòÂæó‰∏ÄÂõ¢Á≥ü„ÄÇÂª∫ËÆÆÂèØ‰ª•ÈÄöËøáÈáçÊñ∞ÂëΩÂêçstateÔºå‰ª•Èò≤Ê≠¢Ê∑∑Ê∑Ü„ÄÇ ÁªßÊâøÊñπÂºè‰πã ÊìçÁ∫µpropconst HOCPropsComponent = (WrappedComponent) =&gt;classextendsWrappedComponent{ render() { const elementsTree = super.render(); let newProps = { color: (elementsTree &amp;&amp; elementsTree.type === &apos;div&apos;) ? &apos;#fff&apos; : &apos;#ff5555&apos; }; const props = Object.assign({}, elementsTree.props, newProps) const newElementsTree = React.cloneElement(elementsTree, props, elementsTree.props.children) return newElementsTree } } ËøôÊ†∑Â∞±‰º†ÂÖ•‰∫ÜÊñ∞ÁöÑpropsÔºå„ÄÇ React.cloneElement( element, [props], [‚Ä¶children]) ÂèÇÊï∞ÔºöTYPEÔºàReactElementÔºâÔºå[PROPSÔºàobjectÔºâ]Ôºå[CHILDRENÔºàReactElementÔºâ] ÂÖãÈöÜÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ ReactElement ÔºåÊñ∞ËøîÂõûÁöÑÂÖÉÁ¥†‰ºö‰øùÁïôÊúâÊóßÂÖÉÁ¥†ÁöÑ props„ÄÅref„ÄÅkeyÔºå‰πü‰ºöÈõÜÊàêÊñ∞ÁöÑ props„ÄÇ ËøòÊúâ‰∏Ä‰∏™ÊñπÂºèÔºåÂú®‰º†ÈÄíprops‰∏äÊúâÁùÄÂº∫‰∫éÈ´òÈò∂ÁªÑ‰ª∂ÁöÑ‰ºòÂäø‰∏çÁî®ÂÖ≥ÂøÉÂëΩÂêçÔºåclassaddPropsextendsReact.Component{ render() { const newProps = &apos;uid&apos;returnthis.props.children(newProps) } } ‰ΩøÁî®ÊñπÂºè &lt;addProps&gt; { (argument) =&gt; &lt;div&gt;{argument}&lt;/div&gt; } &lt;/addProps&gt; ÊÑüËßâÂæàÊñπ‰æøÔºå‰ΩÜÊòØÊØèÊ¨°Ê∏≤ÊüìÈÉΩ‰ºöÈáçÊñ∞ÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÂ¶ÇÊûú‰∏çÊÉ≥ÁöÑËØùÂ∞±‰∏çË¶ÅÂÆö‰πâÂåøÂêçÂáΩÊï∞Ôºå showUid(argument) { return&lt;div&gt;{argument}&lt;/div&gt; } ÂΩ©ËõãrecomposeÂ∫ìrecomposeÊòØ‰∏Ä‰∏™ÂæàÊµÅË°åÁöÑÂ∫ìÔºåÂÆÉÊèê‰æõ‰∫ÜÂæàÂ§öÂæàÊúâÁî®ÁöÑÈ´òÈò∂ÁªÑ‰ª∂ÔºàÂ∞èÂ∑•ÂÖ∑ÔºâÔºåËÄå‰∏î‰πüÂèØ‰ª•‰ºòÈõÖÁöÑÁªÑÂêàÂÆÉ‰ª¨„ÄÇ Step 1 ÊâÅÂπ≥props.Êàë‰ª¨ÊúâËøôÊ†∑‰∏Ä‰∏™ÁªÑ‰ª∂ const Profile = ({ user }) =&gt; ( &lt;div&gt;&lt;div&gt;Username: {user.username}&lt;/div&gt;&lt;div&gt;Age: {user.age}&lt;/div&gt;&lt;/div&gt; ) Â¶ÇÊûúÊÉ≥Ë¶ÅÊîπÂèòÁªÑ‰ª∂Êé•Âè£Êù•Êé•Êî∂Âçï‰∏™ prop ËÄå‰∏çÊòØÊï¥‰∏™Áî®Êà∑ÂØπË±°ÔºåÂèØ‰ª•Áî® recompose Êèê‰æõÁöÑÈ´ò Èò∂ÁªÑ‰ª∂ flattenProp Êù•ÂÆûÁé∞„ÄÇ const Profile = ({ usernameÔºåage }) =&gt; ( &lt;div&gt;&lt;div&gt;Username: {username}&lt;/div&gt;&lt;div&gt;Age: {age}&lt;/div&gt;&lt;/div&gt; ) const ProfileWithFlattenUser = flattenProp(‚Äòuser‚Äô)(Profile)Ôºõ Áé∞Âú®Êàë‰ª¨Â∏åÊúõÂêåÊó∂‰ΩøÁî®Â§ö‰∏™È´òÈò∂ÁªÑ‰ª∂Ôºö‰∏Ä‰∏™Áî®‰∫éÊâÅÂπ≥ÂåñÂ§ÑÁêÜÁî®Êà∑ propÔºåÂè¶‰∏Ä‰∏™Áî®‰∫éÈáçÂëΩÂêçÁî® Êà∑ÂØπË±°ÁöÑÂçï‰∏™ propÔºå‰∏çËøá‰∏≤ËÅî‰ΩøÁî®ÂáΩÊï∞ÁöÑÂÅöÊ≥ï‰ºº‰πé‰∏çÂ§™Â•Ω„ÄÇ Ê≠§Êó∂ recompose Â∫ìÊèê‰æõÁöÑ compose ÂáΩÊï∞Â∞±Ê¥æ‰∏äÁî®Âú∫‰∫Ü„ÄÇ const enhance = compose( flattenProp(&apos;user&apos;), renameProp(&apos;username&apos;, &apos;name&apos;) ) ÁÑ∂ÂêéÊåâÁÖß‰ª•‰∏ãÊñπÂºèÂ∞ÜÂÆÉÂ∫îÁî®‰∫éÂéüÊúâÁªÑ‰ª∂Ôºö const EnhancedProfile = enhance(Profile) ËøòÂèØ‰ª•Â∞Ü compose ÂáΩÊï∞Áî® Âú®Êàë‰ª¨Ëá™Â∑±ÁöÑÈ´òÈò∂ÁªÑ‰ª∂‰∏äÔºåÁîöËá≥ÁªìÂêà‰ΩøÁî®ÈÉΩÂèØ‰ª•Ôºö const enhance = compose( flattenProp(&apos;user&apos;), renameProp(&apos;username&apos;, &apos;name&apos;), withInnerWidth ) Step 2 ÊèêÂèñËæìÂÖ•Ë°®ÂçïÁöÑStateÊàë‰ª¨Â∞Ü‰ªéRecomposeÂ∫ì‰∏≠‰ΩøÁî®withStateHandlersÈ´òÈò∂ÁªÑ‰ª∂„ÄÇ ÂÆÉÂ∞ÜÂÖÅËÆ∏Êàë‰ª¨Â∞ÜÁªÑ‰ª∂Áä∂ÊÄÅ‰∏éÁªÑ‰ª∂Êú¨Ë∫´ÈöîÁ¶ªÂºÄÊù•„ÄÇ Êàë‰ª¨Â∞Ü‰ΩøÁî®ÂÆÉ‰∏∫ÁîµÂ≠êÈÇÆ‰ª∂ÔºåÂØÜÁ†ÅÂíåÁ°ÆËÆ§ÂØÜÁ†ÅÂ≠óÊÆµÊ∑ªÂä†Ë°®ÂçïÁä∂ÊÄÅÔºå‰ª•Âèä‰∏äËø∞Â≠óÊÆµÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ import { withStateHandlers, compose } from&quot;recompose&quot;; const initialState = { email: { value: &quot;&quot; }, password: { value: &quot;&quot; }, confirmPassword: { value: &quot;&quot; } }; const onChangeEmail = props =&gt; event =&gt; ({ email: { value: event.target.value, isDirty: true } }); const onChangePassword = props =&gt; event =&gt; ({ password: { value: event.target.value, isDirty: true } }); const onChangeConfirmPassword = props =&gt; event =&gt; ({ confirmPassword: { value: event.target.value, isDirty: true } }); const withTextFieldState = withStateHandlers(initialState, { onChangeEmail, onChangePassword, onChangeConfirmPassword }); exportdefault withTextFieldState; withStateHandlersÂÆÉÊé•ÂèóÂàùÂßãÁä∂ÊÄÅÂíåÂåÖÂê´Áä∂ÊÄÅÂ§ÑÁêÜÁ®ãÂ∫èÁöÑÂØπË±°„ÄÇË∞ÉÁî®Êó∂ÔºåÊØè‰∏™Áä∂ÊÄÅÂ§ÑÁêÜÁ®ãÂ∫èÂ∞ÜËøîÂõûÊñ∞ÁöÑÁä∂ÊÄÅ„ÄÇ Â•Ω‰∫ÜÔºåÂæàËæõËã¶‰πüÂæàÊÑüË∞¢‰Ω†ËÉΩÁúãÂà∞ËøôÈáåÔºåÂÖ≥‰∫érecompose‰ªãÁªçÂà∞Ê≠§‰∏∫Ê≠¢ÔºåÂñúÊ¨¢ÁöÑÊúãÂèãÂèØ‰ª•Ê∑±ÂÖ•Á†îÁ©∂recomposeÂÖ∂ÂÆÉÁöÑÊñπÊ≥ïÂíåÊ∫êÁ†Å„ÄÇ ‰∏çÂáÜÁ°ÆÁöÑÂú∞ÊñπÊ¨¢ËøéÊãçÁ†ñ]]></content>
      <tags>
        <tag>React</tag>
        <tag>È´òÈò∂ÁªÑ‰ª∂</tag>
        <tag>HOC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Event Loop ÂøÖÁü•ÂøÖ‰ºöÔºàÂÖ≠ÈÅìÈ¢òÔºâ]]></title>
    <url>%2F2017%2F10%2F03%2FEvent-Loop-%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%EF%BC%88%E5%85%AD%E9%81%93%E9%A2%98%EF%BC%89%2F</url>
    <content type="text"><![CDATA[‰∏ÄÁõ¥ÊÉ≥ÂÜô‰∏ÄÁØáÂÖ≥‰∫é Event Loop ÁöÑÊñáÁ´†ÔºåÂâç‰∏ç‰πÖÂèëÁé∞ CNode ‰∏äÊúâ‰ΩçÂêåÂ≠¶ÂÜô‰∫Ü‰∏ÄÁØáÂéüÁêÜÂàÜÊûêÁöÑÊñáÁ´†ÂæàËØ¶ÁªÜÔºåËøôÈáåÊàëÂ∞±‰∏çÁåÆ‰∏ë‰∫Ü„ÄÇÊú¨ÊñáÂ∞±ÊãøÂá∫ÂÖ≠ÈÅìÈ¢òÊù•Ë°•ÂÖÖ‰∏Ä‰∏ãÔºåÊîæÂá∫‰∏ÄÂº†ÊàëËÆ§‰∏∫ÈùûÂ∏∏Áõ¥ËßÇÁöÑÂõæ„ÄÇÁªøËâ≤Â∞èÂùóÊòØ macrotaskÔºàÂÆè‰ªªÂä°ÔºâÔºåmacrotask ‰∏≠Èó¥ÁöÑÁ≤âÁ∫¢ÁÆ≠Â§¥ÊòØ microtaskÔºàÂæÆ‰ªªÂä°Ôºâ„ÄÇ È¢òÁõÆ‰∏ÄsetTimeout(()=&gt;{console.log(&apos;setTimeout&apos;)},0)setImmediate(()=&gt;{console.log(&apos;setImmediate&apos;)}) ËøêË°åÁªìÊûúÔºö setImmediate setTimeout ÊàñËÄÖÔºö setTimeout setImmediate ‰∏∫‰ªÄ‰πàÁªìÊûú‰∏çÁ°ÆÂÆöÂë¢Ôºü Ëß£ÈáäÔºösetTimeout/setInterval ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂèñÂÄºËåÉÂõ¥ÊòØÔºö[1, 2^31 - 1]ÔºåÂ¶ÇÊûúË∂ÖËøáËøô‰∏™ËåÉÂõ¥Âàô‰ºöÂàùÂßãÂåñ‰∏∫ 1ÔºåÂç≥ setTimeout(fn, 0) === setTimeout(fn, 1)„ÄÇÊàë‰ª¨Áü•ÈÅì setTimeout ÁöÑÂõûË∞ÉÂáΩÊï∞Âú® timer Èò∂ÊÆµÊâßË°åÔºåsetImmediate ÁöÑÂõûË∞ÉÂáΩÊï∞Âú® check Èò∂ÊÆµÊâßË°åÔºåevent loop ÁöÑÂºÄÂßã‰ºöÂÖàÊ£ÄÊü• timer Èò∂ÊÆµÔºå‰ΩÜÊòØÂú®ÂºÄÂßã‰πãÂâçÂà∞ timer Èò∂ÊÆµ‰ºöÊ∂àËÄó‰∏ÄÂÆöÊó∂Èó¥ÔºåÊâÄ‰ª•Â∞±‰ºöÂá∫Áé∞‰∏§ÁßçÊÉÖÂÜµÔºö timer ÂâçÁöÑÂáÜÂ§áÊó∂Èó¥Ë∂ÖËøá 1msÔºåÊª°Ë∂≥ loop-&gt;time &gt;= 1ÔºåÂàôÊâßË°å timer Èò∂ÊÆµÔºàsetTimeoutÔºâÁöÑÂõûË∞ÉÂáΩÊï∞ timer ÂâçÁöÑÂáÜÂ§áÊó∂Èó¥Â∞è‰∫é 1msÔºåÂàôÂÖàÊâßË°å check Èò∂ÊÆµÔºàsetImmediateÔºâÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰∏ã‰∏ÄÊ¨° event loop ÊâßË°å timer Èò∂ÊÆµÔºàsetTimeoutÔºâÁöÑÂõûË∞ÉÂáΩÊï∞ ÂÜçÁúã‰∏™‰æãÂ≠êÔºö setTimeout(()=&gt;{console.log(&apos;setTimeout&apos;)},0)setImmediate(()=&gt;{console.log(&apos;setImmediate&apos;)})conststart=Date.now()while(Date.now()-start&lt;10); ËøêË°åÁªìÊûú‰∏ÄÂÆöÊòØÔºö setTimeout setImmediate È¢òÁõÆ‰∫åconstfs=require(&apos;fs&apos;)fs.readFile(__filename,()=&gt;{setTimeout(()=&gt;{console.log(&apos;setTimeout&apos;)},0)setImmediate(()=&gt;{console.log(&apos;setImmediate&apos;)})}) ËøêË°åÁªìÊûúÔºö setImmediate setTimeout Ëß£ÈáäÔºöfs.readFile ÁöÑÂõûË∞ÉÂáΩÊï∞ÊâßË°åÂÆåÂêéÔºö Ê≥®ÂÜå setTimeout ÁöÑÂõûË∞ÉÂáΩÊï∞Âà∞ timer Èò∂ÊÆµ Ê≥®ÂÜå setImmediate ÁöÑÂõûË∞ÉÂáΩÊï∞Âà∞ check Èò∂ÊÆµ event loop ‰ªé pool Èò∂ÊÆµÂá∫Êù•ÁªßÁª≠ÂæÄ‰∏ã‰∏Ä‰∏™Èò∂ÊÆµÊâßË°åÔºåÊÅ∞Â•ΩÊòØ check Èò∂ÊÆµÔºåÊâÄ‰ª• setImmediate ÁöÑÂõûË∞ÉÂáΩÊï∞ÂÖàÊâßË°å Êú¨Ê¨° event loop ÁªìÊùüÂêéÔºåËøõÂÖ•‰∏ã‰∏ÄÊ¨° event loopÔºåÊâßË°å setTimeout ÁöÑÂõûË∞ÉÂáΩÊï∞ ÊâÄ‰ª•ÔºåÂú® I/O Callbacks ‰∏≠Ê≥®ÂÜåÁöÑ setTimeout Âíå setImmediateÔºåÊ∞∏ËøúÈÉΩÊòØ setImmediate ÂÖàÊâßË°å„ÄÇ È¢òÁõÆ‰∏âsetInterval(()=&gt;{console.log(&apos;setInterval&apos;)},100)process.nextTick(functiontick(){process.nextTick(tick)}) ËøêË°åÁªìÊûúÔºösetInterval Ê∞∏Ëøú‰∏ç‰ºöÊâìÂç∞Âá∫Êù•„ÄÇ Ëß£ÈáäÔºöprocess.nextTick ‰ºöÊó†ÈôêÂæ™ÁéØÔºåÂ∞Ü event loop ÈòªÂ°ûÂú® microtask Èò∂ÊÆµÔºåÂØºËá¥ event loop ‰∏äÂÖ∂‰ªñ macrotask Èò∂ÊÆµÁöÑÂõûË∞ÉÂáΩÊï∞Ê≤°ÊúâÊú∫‰ºöÊâßË°å„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÈÄöÂ∏∏ÊòØÁî® setImmediate Êõø‰ª£ process.nextTickÔºåÂ¶Ç‰∏ãÔºö setInterval(()=&gt;{console.log(&apos;setInterval&apos;)},100)setImmediate(functionimmediate(){setImmediate(immediate)}) ËøêË°åÁªìÊûúÔºöÊØè 100ms ÊâìÂç∞‰∏ÄÊ¨° setInterval„ÄÇ Ëß£ÈáäÔºöprocess.nextTick ÂÜÖÊâßË°å process.nextTick ‰ªçÁÑ∂Â∞Ü tick ÂáΩÊï∞Ê≥®ÂÜåÂà∞ÂΩìÂâç microtask ÁöÑÂ∞æÈÉ®ÔºåÊâÄ‰ª•ÂØºËá¥ microtask Ê∞∏ËøúÊâßË°å‰∏çÂÆåÔºõ setImmediate ÂÜÖÊâßË°å setImmediate ‰ºöÂ∞Ü immediate ÂáΩÊï∞Ê≥®ÂÜåÂà∞‰∏ã‰∏ÄÊ¨° event loop ÁöÑ check Èò∂ÊÆµÔºåËÄå‰∏çÊòØÂΩìÂâçÊ≠£Âú®ÊâßË°åÁöÑ check Èò∂ÊÆµÔºåÊâÄ‰ª•Áªô‰∫Ü event loop ‰∏äÂÖ∂‰ªñ macrotask ÊâßË°åÁöÑÊú∫‰ºö„ÄÇ ÂÜçÁúã‰∏™‰æãÂ≠êÔºö setImmediate(()=&gt;{console.log(&apos;setImmediate1&apos;)setImmediate(()=&gt;{console.log(&apos;setImmediate2&apos;)})process.nextTick(()=&gt;{console.log(&apos;nextTick&apos;)})})setImmediate(()=&gt;{console.log(&apos;setImmediate3&apos;)}) ËøêË°åÁªìÊûúÔºö setImmediate1 setImmediate3 nextTick setImmediate2 Ê≥®ÊÑèÔºöÂπ∂‰∏çÊòØËØ¥ setImmediate ÂèØ‰ª•ÂÆåÂÖ®Êõø‰ª£ process.nextTickÔºåprocess.nextTick Âú®ÁâπÂÆöÂú∫ÊôØ‰∏ãËøòÊòØÊó†Ê≥ïË¢´Êõø‰ª£ÁöÑÔºåÊØîÂ¶ÇÊàë‰ª¨Â∞±ÊÉ≥Â∞Ü‰∏Ä‰∫õÊìç‰ΩúÊîæÂà∞ÊúÄËøëÁöÑ microtask ÈáåÊâßË°å„ÄÇ È¢òÁõÆÂõõconstpromise=Promise.resolve().then(()=&gt;{returnpromise})promise.catch(console.error) ËøêË°åÁªìÊûúÔºö TypeError: Chaining cycle detected for promise #&lt;Promise&gt; at &lt;anonymous&gt; at process._tickCallback (internal/process/next_tick.js:188:7) at Function.Module.runMain (module.js:667:11) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:607:3 Ëß£ÈáäÔºöpromise.then Á±ª‰ºº‰∫é process.nextTickÔºåÈÉΩ‰ºöÂ∞ÜÂõûË∞ÉÂáΩÊï∞Ê≥®ÂÜåÂà∞ microtask Èò∂ÊÆµ„ÄÇ‰∏äÈù¢‰ª£Á†Å‰ºöÂØºËá¥Ê≠ªÂæ™ÁéØÔºåÁ±ª‰ººÂâçÈù¢ÊèêÂà∞ÁöÑÔºö process.nextTick(functiontick(){process.nextTick(tick)}) ÂÜçÁúã‰∏™‰æãÂ≠êÔºö constpromise=Promise.resolve() promise.then(()=&gt;{ console.log(&apos;promise&apos;)}) process.nextTick(()=&gt;{ console.log(&apos;nextTick&apos;) }) ËøêË°åÁªìÊûúÔºö nextTick promise Ëß£ÈáäÔºöpromise.then ËôΩÁÑ∂Âíå process.nextTick ‰∏ÄÊ†∑ÔºåÈÉΩÂ∞ÜÂõûË∞ÉÂáΩÊï∞Ê≥®ÂÜåÂà∞ microtaskÔºå‰ΩÜ‰ºòÂÖàÁ∫ß‰∏ç‰∏ÄÊ†∑„ÄÇprocess.nextTick ÁöÑ microtask queue ÊÄªÊòØ‰ºòÂÖà‰∫é promise ÁöÑ microtask queue ÊâßË°å„ÄÇ È¢òÁõÆ‰∫îsetTimeout(()=&gt;{ console.log(1) },0) newPromise((resolve,reject)=&gt;{ console.log(2) for(leti=0;i&lt;10000;i++){ i===9999&amp;&amp;resolve() } console.log(3) }).then(()=&gt;{ console.log(4) }) console.log(5) ËøêË°åÁªìÊûúÔºö Ëß£ÈáäÔºöPromise ÊûÑÈÄ†ÂáΩÊï∞ÊòØÂêåÊ≠•ÊâßË°åÁöÑÔºåÊâÄ‰ª•ÂÖàÊâìÂç∞ 2„ÄÅ3ÔºåÁÑ∂ÂêéÊâìÂç∞ 5ÔºåÊé•‰∏ãÊù• event loop ËøõÂÖ•ÊâßË°å microtask Èò∂ÊÆµÔºåÊâßË°å promise.then ÁöÑÂõûË∞ÉÂáΩÊï∞ÊâìÂç∞Âá∫ 4ÔºåÁÑ∂ÂêéÊâßË°å‰∏ã‰∏Ä‰∏™ macrotaskÔºåÊÅ∞Â•ΩÊòØ timer Èò∂ÊÆµÁöÑ setTimeout ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÊâìÂç∞Âá∫ 1„ÄÇ È¢òÁõÆÂÖ≠setImmediate(()=&gt;{ console.log(1) setTimeout(()=&gt;{ console.log(2) },100) setImmediate(()=&gt;{ console.log(3) }) process.nextTick( ()=&gt;{console.log(4)}) }) process.nextTick(()=&gt;{ console.log(5) setTimeout(()=&gt;{ console.log(6)},100) setImmediate(()=&gt;{ console.log(7)}) process.nextTick( ()=&gt;{console.log(8)}) })console.log(9) ËøêË°åÁªìÊûúÔºö process.nextTick„ÄÅsetTimeout Âíå setImmediate ÁöÑÁªÑÂêàÔºåËØ∑ËØªËÄÖËá™Â∑±Êé®ÁêÜÂêß„ÄÇ ÂèÇËÄÉÈìæÊé• https://medium.com/the-node-js-collection/what-you-should-know-to-really-understand-the-node-js-event-loop-and-its-metrics-c4907b19da4c https://cnodejs.org/topic/57d68794cb6f605d360105bf]]></content>
      <tags>
        <tag>‰∫ã‰ª∂Âæ™ÁéØ</tag>
        <tag>Event Loop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSÂ¶Ç‰ΩïÂÆûÁé∞ÊñáÂ≠ó‰∏§Á´ØÂØπÈΩê]]></title>
    <url>%2F2017%2F10%2F02%2FCSS%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E4%B8%A4%E7%AB%AF%E5%AF%B9%E9%BD%90%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®Â∑•‰ΩúÈ°πÁõÆ‰∏≠Êé•Ëß¶Âà∞WebÁïåÈù¢ËÆæËÆ°ÁöÑÈóÆÈ¢òÔºåË¶ÅÂÆûÁé∞ÊñáÂ≠ó‰∏§Á´ØÂØπÈΩêÁöÑÊïàÊûú„ÄÇÂú®ÁΩë‰∏äÊêúÁ¥¢‰∫Ü‰∏Ä‰∏ãÔºåÂ∑Æ‰∏çÂ§öÈÉΩÊòØ‰∫íÁõ∏ËΩ¨Â∏ñÔºåÁî®ÁöÑÈÉΩÊòØÁ±ª‰ººÁöÑÊäÄÂ∑ßÔºö text-align:justify; text-justify:inter-ideograph; ‰ΩÜÈóÆÈ¢òÊòØÔºåÊàëÊÄé‰πàÂ∞±Áúã‰∏çÂà∞ÊïàÊûúÂë¢ÔºüÊó†ËÆ∫ÊòØËã±ÊñáËøòÊòØ‰∏≠ÊñáÔºåÂú®IEÂíåchrome‰∏ãÈÉΩ‰∏çËµ∑‰ΩúÁî®„ÄÇÂêéÊù•ÔºåÁªà‰∫éÂú®StackOverflow‰∏äÊâæÂà∞Ëß£ÂÜ≥ÊñπÊ≥ï‰∫Ü„ÄÇ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; .arter li { font-size: 14px; line-height: 24px; color: #4a4a4a; } .arter span { height: 24px; line-height: 24px; width: 65px; text-align: justify; display: inline-block; overflow: hidden; vertical-align: top; } .arter i { display: inline-block; width: 100%; height: 0; } .arter1 li { font-size: 14px; line-height: 24px; color: #4a4a4a; } .arter1 span { height: 24px; line-height: 24px; width: 65px; text-align: justify; display: inline-block; overflow: hidden; vertical-align: top; } .arter1 span:after { content: &quot; &quot;; display: inline-block; width: 100%; height: 0px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;ul class=&quot;arter&quot;&gt; &lt;li&gt;&lt;span&gt;‰ΩúÂìÅÂêçÁß∞&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö ÂÆùË¥ùÂÑø&lt;/li&gt; &lt;li&gt;&lt;span&gt;‰ΩúÂìÅÁ±ªÂûã&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö Ê≤πÁîª&lt;/li&gt; &lt;li&gt;&lt;span&gt;Ëâ∫ÊúØÂÆ∂&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö Âº†ÁéâÁÄõ&lt;/li&gt; &lt;li&gt;&lt;span&gt;È£éÊ†º&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö Ë∂ÖÁé∞ÂÆû&lt;/li&gt; &lt;li&gt;&lt;span&gt;ÊùêË¥®&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö Â∏ÉÈù¢Ê≤πÁîª&lt;/li&gt; &lt;li&gt;&lt;span&gt;È¢òÊùê&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö ‰∫∫Áâ©&lt;/li&gt; &lt;li&gt;&lt;span&gt;Âàõ‰ΩúÊó∂Èó¥&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö 2011&lt;/li&gt; &lt;li&gt;&lt;span&gt;ÊâÄÂú®‰ΩçÁΩÆ&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö Âçé‰∏ú&lt;/li&gt; &lt;li&gt;&lt;span&gt;Â∞∫ÂØ∏&lt;i&gt;&lt;/i&gt;&lt;/span&gt;Ôºö 78x78cm&lt;/li&gt; &lt;/ul&gt; &lt;br /&gt;&lt;br /&gt; &lt;ul class=&quot;arter1&quot;&gt; &lt;li&gt;&lt;span&gt;‰ΩúÂìÅÂêçÁß∞&lt;/span&gt;Ôºö ÂÆùË¥ùÂÑø&lt;/li&gt; &lt;li&gt;&lt;span&gt;‰ΩúÂìÅÁ±ªÂûã&lt;/span&gt;Ôºö Ê≤πÁîª&lt;/li&gt; &lt;li&gt;&lt;span&gt;Ëâ∫ÊúØÂÆ∂&lt;/span&gt;Ôºö Âº†ÁéâÁÄõ&lt;/li&gt; &lt;li&gt;&lt;span&gt;È£éÊ†º&lt;/span&gt;Ôºö Ë∂ÖÁé∞ÂÆû&lt;/li&gt; &lt;li&gt;&lt;span&gt;ÊùêË¥®&lt;/span&gt;Ôºö Â∏ÉÈù¢Ê≤πÁîª&lt;/li&gt; &lt;li&gt;&lt;span&gt;È¢òÊùê&lt;/span&gt;Ôºö ‰∫∫Áâ©&lt;/li&gt; &lt;li&gt;&lt;span&gt;Âàõ‰ΩúÊó∂Èó¥&lt;/span&gt;Ôºö 2011&lt;/li&gt; &lt;li&gt;&lt;span&gt;ÊâÄÂú®‰ΩçÁΩÆ&lt;/span&gt;Ôºö Âçé‰∏ú&lt;/li&gt; &lt;li&gt;&lt;span&gt;Â∞∫ÂØ∏&lt;/span&gt;Ôºö 78x78cm&lt;/li&gt; &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt; Ê†∑ÂºèÔºö‰ªéÊïàÊûúÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÈô§‰∫ÜË¶ÅÂú®ÂùóÁ∫ßÂÖÉÁ¥†Âä†text-align:justifyÊ†∑ÂºèÂ§ñÔºåËøòÈúÄË¶ÅÂú®ÈáåÈù¢Âä†‰∏Ä‰∏™Á©∫ÁöÑspanÂÖÉÁ¥†ÔºåÂπ∂Â∫îÁî®Ê†∑Âºè„ÄÇÂè¶Â§ñÔºåÂØπ‰∫é‰∏≠ÊñáËøòÂøÖÈ°ªÁî®Á©∫Ê†ºÈöîÂºÄÊ±âÂ≠óÔºåÂê¶Âàô‰πüÊ≤°Êúâ‰∏§Á´ØÂØπÈΩêÁöÑÊïàÊûú„ÄÇËã±ÊñáÊØè‰∏™ÂçïËØçÈÉΩÊúâÁ©∫Ê†ºÈöîÂºÄÔºåÊâÄ‰ª•Ê≤°ÈóÆÈ¢ò„ÄÇ ‰ΩÜÊòØÂä†ÂÖ•HTMLÂÖÉÁ¥†ÂèàËøùÂèç‰∫ÜÁªìÊûÑË°®Áé∞ÂàÜÁ¶ªÁöÑÂéüÂàôÔºåÊàë‰ª¨ÂèØ‰ª•ÊîπÁî®after„ÄÅbefore‰º™ÂÖÉÁ¥†Ôºö li:after { content: &quot; &quot;; display: inline-block; width: 100%; }]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pm2 Â∏∏Áî®ÈÖçÁΩÆÂèäÂëΩ‰ª§]]></title>
    <url>%2F2017%2F09%2F30%2Fpm2-%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[Â¶ÇÊûúÁõ¥Êé•ÈÄöËøánode appÊù•ÂêØÂä®ÔºåÂ¶ÇÊûúÊä•Èîô‰∫ÜÂèØËÉΩÁõ¥Êé•ÂÅúÂú®Êï¥‰∏™ËøêË°åÔºåsupervisorÊÑüËßâÂè™ÊòØÊãøÊù•Áî®‰ΩúÂºÄÂèëÁéØÂ¢ÉÁöÑ„ÄÇÂÜçÁΩë‰∏äÊâæÂà∞pm2.ÁõÆÂâç‰ºº‰πéÊúÄÂ∏∏ËßÅÁöÑÁ∫ø‰∏äÈÉ®ÁΩ≤nodejsÈ°πÁõÆÁöÑÊúâforever,pm2Ëøô‰∏§Áßç„ÄÇ‰ΩøÁî®Âú∫Âêà: supervisorÊòØÂºÄÂèëÁéØÂ¢ÉÁî®„ÄÇ foreverÁÆ°ÁêÜÂ§ö‰∏™Á´ôÁÇπÔºåÊØè‰∏™Á´ôÁÇπËÆøÈóÆÈáè‰∏çÂ§ßÔºå‰∏çÈúÄË¶ÅÁõëÊéß„ÄÇ nodemon ÊòØÂºÄÂèëÁéØÂ¢É‰ΩøÁî®Ôºå‰øÆÊîπËá™Âä®ÈáçÂêØ„ÄÇ pm2 ÁΩëÁ´ôËÆøÈóÆÈáèÊØîËæÉÂ§ß,ÈúÄË¶ÅÂÆåÊï¥ÁöÑÁõëÊéßÁïåÈù¢„ÄÇ PM2 ÊòØ node ËøõÁ®ãÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âà©Áî®ÂÆÉÊù•ÁÆÄÂåñÂæàÂ§ö node Â∫îÁî®ÁÆ°ÁêÜÁöÑÁπÅÁêê‰ªªÂä°ÔºåÂ¶ÇÊÄßËÉΩÁõëÊéß„ÄÅËá™Âä®ÈáçÂêØ„ÄÅË¥üËΩΩÂùáË°°Á≠âÔºåËÄå‰∏î‰ΩøÁî®ÈùûÂ∏∏ÁÆÄÂçï„ÄÇÊú¨ÊñáÂ∞± PM2 ËøõË°åÂÖ•Èó®ÊÄßÁöÑ‰ªãÁªçÔºåÂü∫Êú¨Ê∂µÁõñ‰∫Ü PM2 ÁöÑÂ∏∏Áî®ÁöÑÂäüËÉΩÂíåÈÖçÁΩÆ„ÄÇ ÂÆâË£Ö1npm install -g pm2 Â¶ÇÊûú‰Ω†ÁöÑnodeÈ°πÁõÆÈÖçÁΩÆÊñá‰ª∂Âíå‰ª•‰∏ä‰ª£Á†Å‰∏ç‰∏ÄÊ†∑ÔºåÔºåÔºåËé´ÊÄ•Ôºåpm2 ‰πüÊòØÊúâÂäûÊ≥ïÂèØ‰ª•ÂêØÂä®ÁöÑÔºà‰∏™‰∫∫ËßâÂæóËøôÊòØ‰∏Ä‰∏™‰∏áËÉΩÁöÑÂêØÂä®ÁöÑÊñπÊ≥ïÔºâÔºö12pm2 start npm -- run XXXpm2 start npm --watch --name XXX -- run start Áî®Â•πÊõø‰ª£Ôºönpm run devÔºåÂ∞±ÂèØ‰ª•ÂÜôÊàêÔºöpm2 start npm -- run devÔºåÈ°πÁõÆÂêØÂä®Ôºö Â∏∏Áî®ÂëΩ‰ª§12345678910111213141516171819202122232425262728293031323334353637383940pm2 start [server.js]# ÂêØÂä®ÊúçÂä°pm2 list# Êü•ÁúãÂΩìÂâçÊâÄË∑ëÊúçÂä°ÁöÑËØ¶ÊÉÖpm2 show [name]# Êü•ÁúãÊõ¥Âä†ËØ¶ÁªÜÁöÑ‰ø°ÊÅØËøô‰∏™ÂëΩ‰ª§ÂèØÊü•Áúãpm2ÈÖçÁΩÆ ÂåÖÊã¨Êó•ÂøóÊñá‰ª∂Â≠òÊîæÁöÑ‰ΩçÁΩÆÁ≠âpm2 stop [id/name]# ÂÖ≥Èó≠Êüê‰∏™ÊúçÂä°pm2 delete [id/name]# Âà†Èô§Êüê‰∏™ÊúçÂä°pm2 stop all# ÂÖ≥Èó≠ÊâÄÊúâÊúçÂä°pm2 logs# Êü•ÁúãÂÆûÊó∂Êó•Âøópm2 restart [name]# ÈáçÊñ∞ÂêØÂä®ÊúçÂä°$ pm2 logs ÊòæÁ§∫ÊâÄÊúâËøõÁ®ãÊó•Âøó$ pm2 stop all ÂÅúÊ≠¢ÊâÄÊúâËøõÁ®ã$ pm2 restart all ÈáçÂêØÊâÄÊúâËøõÁ®ã$ pm2 reload all 0ÁßíÂÅúÊú∫ÈáçËΩΩËøõÁ®ã (Áî®‰∫é NETWORKED ËøõÁ®ã)$ pm2 stop 0 ÂÅúÊ≠¢ÊåáÂÆöÁöÑËøõÁ®ã$ pm2 restart 0 ÈáçÂêØÊåáÂÆöÁöÑËøõÁ®ã$ pm2 startup ‰∫ßÁîü init ËÑöÊú¨ ‰øùÊåÅËøõÁ®ãÊ¥ªÁùÄ$ pm2 web ËøêË°åÂÅ•Â£ÆÁöÑ computer API endpoint (http://localhost:9615)$ pm2 delete 0 ÊùÄÊ≠ªÊåáÂÆöÁöÑËøõÁ®ã$ pm2 delete all ÊùÄÊ≠ªÂÖ®ÈÉ®ËøõÁ®ã ËøêË°åËøõÁ®ãÁöÑ‰∏çÂêåÊñπÂºèÔºö$ pm2 start app.js -i max Ê†πÊçÆÊúâÊïàCPUÊï∞ÁõÆÂêØÂä®ÊúÄÂ§ßËøõÁ®ãÊï∞ÁõÆ$ pm2 start app.js -i 3 ÂêØÂä®3‰∏™ËøõÁ®ã$ pm2 start app.js -x Áî®forkÊ®°ÂºèÂêØÂä® app.js ËÄå‰∏çÊòØ‰ΩøÁî® cluster$ pm2 start app.js -x -- -a 23 Áî®forkÊ®°ÂºèÂêØÂä® app.js Âπ∂‰∏î‰º†ÈÄíÂèÇÊï∞ (-a 23)$ pm2 start app.js --name serverone ÂêØÂä®‰∏Ä‰∏™ËøõÁ®ãÂπ∂ÊääÂÆÉÂëΩÂêç‰∏∫ serverone$ pm2 stop serverone ÂÅúÊ≠¢ serverone ËøõÁ®ã$ pm2 start app.json ÂêØÂä®ËøõÁ®ã, Âú® app.jsonÈáåËÆæÁΩÆÈÄâÈ°π$ pm2 start app.js -i max -- -a 23 Âú®--‰πãÂêéÁªô app.js ‰º†ÈÄíÂèÇÊï∞$ pm2 start app.js -i max -e err.log -o out.log ÂêØÂä® Âπ∂ ÁîüÊàê‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ ÂêØÂä®ÂèÇÊï∞ËØ¥ÊòéÔºö --watchÔºöÁõëÂê¨Â∫îÁî®ÁõÆÂΩïÁöÑÂèòÂåñÔºå‰∏ÄÊó¶ÂèëÁîüÂèòÂåñÔºåËá™Âä®ÈáçÂêØ„ÄÇÂ¶ÇÊûúË¶ÅÁ≤æÁ°ÆÁõëÂê¨„ÄÅ‰∏çËßÅÂê¨ÁöÑÁõÆÂΩïÔºåÊúÄÂ•ΩÈÄöËøáÈÖçÁΩÆÊñá‰ª∂„ÄÇ -i --instancesÔºöÂêØÁî®Â§öÂ∞ë‰∏™ÂÆû‰æãÔºåÂèØÁî®‰∫éË¥üËΩΩÂùáË°°„ÄÇÂ¶ÇÊûú -i 0 ÊàñËÄÖ -i maxÔºåÂàôÊ†πÊçÆÂΩìÂâçÊú∫Âô®Ê†∏Êï∞Á°ÆÂÆöÂÆû‰æãÊï∞ÁõÆ„ÄÇ --ignore-watchÔºöÊéíÈô§ÁõëÂê¨ÁöÑÁõÆÂΩï/Êñá‰ª∂ÔºåÂèØ‰ª•ÊòØÁâπÂÆöÁöÑÊñá‰ª∂ÂêçÔºå‰πüÂèØ‰ª•ÊòØÊ≠£Âàô„ÄÇÊØîÂ¶Ç --ignore-watch=&quot;test node_modules &quot;some scripts&quot;&quot; -n --nameÔºöÂ∫îÁî®ÁöÑÂêçÁß∞„ÄÇÊü•ÁúãÂ∫îÁî®‰ø°ÊÅØÁöÑÊó∂ÂÄôÂèØ‰ª•Áî®Âà∞„ÄÇ -o --output &lt;path&gt;ÔºöÊ†áÂáÜËæìÂá∫Êó•ÂøóÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇ -e --error &lt;path&gt;ÔºöÈîôËØØËæìÂá∫Êó•ÂøóÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇ ÁõëÂê¨pm2 start ./bin/www --watch #Ê≥®ÊÑèÔºåËøôÈáåÁî®‰∫Ü--watchÂèÇÊï∞ÔºåÊÑèÂë≥ÁùÄÂΩì‰Ω†ÁöÑÂ∫îÁî®‰ª£Á†ÅÂèëÁîüÂèòÂåñÊó∂Ôºåpm2‰ºöÂ∏Æ‰Ω†Ëá™Âä®ÈáçÂêØÊúçÂä° ÈÖçÁΩÆÂèäÈÉ®ÁΩ≤ÈÉ®ÁΩ≤ÁöÑÈÖçÁΩÆÊñá‰ª∂Á§∫‰æã12345678910111213141516171819202122232425262728293031&#123; // Êï∞ÁªÑ‰∏≠ÊîæÁöÑÊòØÈúÄË¶ÅÂèëÂ∏ÉÁöÑÈ°πÁõÆ‰∏Ä‰∫õÂèòÈáèÁöÑÂÆö‰πâ &quot;apps&quot;: [&#123; &quot;name&quot;: &quot;xxx&quot;, //È°πÁõÆÂêçÁß∞ &quot;script&quot;: &quot;server.js&quot;, //Áî®Êù•ÂêØÂä®ÁöÑËÑöÊú¨ // &quot;instances&quot;:2, // ÂêØÂä®È°πÁõÆÊâÄÈúÄË¶ÅÁöÑÁéØÂ¢ÉÂèòÈáè &quot;env&quot;: &#123; &quot;COMMON_VARIABLE&quot;: &quot;true&quot;, //ËÆæÁΩÆ‰∏∫true ÂèØ‰ª•Âú®ÂêØÂä®ÁöÑÊó∂‰º†ÂÖ•Â§ñÈÉ®ÁöÑÂèòÈáèËøõÂéª &#125;, &quot;env_production&quot;: &#123; &quot;NODE_ENV&quot;: &quot;production&quot; &#125; &#125;], // ÈÉ®ÁΩ≤ &quot;deploy&quot;: &#123; &quot;production&quot;: &#123; &quot;user&quot;: &quot;root&quot;, &quot;host&quot;: &quot;0.0.0.0&quot;, //ÂèØ‰ª•ÊòØÊï∞ÁªÑ ÈÉ®ÁΩ≤Âà∞Â§öÂè∞‰∏ªÊú∫ &quot;ref&quot;: &quot;origin/master&quot;, //ÈÄâÊã©ÊãøÂì™‰∏™‰∏™ÂàÜÊîØÁöÑ‰ª£Á†Å &quot;repo&quot;: &quot;git@github.com:ihoey/hitalk.git&quot;, //‰ªìÂ∫ìÂú∞ÂùÄ &quot;path&quot;: &quot;/root/www/hitalk/production&quot;, //Ë¶ÅÂèëÂ∏ÉÂà∞ÊúçÂä°Âô®‰∏äÂì™‰∏™ÁõÆÂΩï‰∏ãÈù¢ &quot;ssh_options&quot;: &quot;StrictHostKeyChecking=no&quot;, //ÈÅøÂÖçkeyÈ™åËØÅÂØºËá¥‰ª£Á†ÅÊõ¥Êñ∞Âà∞ËøúÁ®ã‰ªìÂ∫ìÂ§±Ë¥• &quot;post-deploy&quot;: &quot;source ~/.nvm/nvm.sh &amp;&amp; pm2 startOrRestart ecosystem.json --env production&quot;, //ÂèëÂ∏É‰πãÂêéÊâßË°åÁöÑÂä®‰Ωú ÊâßË°åÂºÄÂêØÊàñÊõ¥Êñ∞pm2ËøêË°åÁöÑÊúçÂä° &quot;pre-deploy-local&quot;: &quot;echo &apos;Deploy Done!&apos;&quot;, //Êú¨Âú∞ÂèëÂ∏É‰πãÂâçÁöÑÂä®‰Ωú &quot;env&quot;: &#123; //ÊåáÂÆöÈÉ®ÁΩ≤Âà∞ËøúÁ®ãÁöÑ‰ªìÂ∫ìÁöÑÁéØÂ¢É ÊòØproductionÁîü‰∫ßÁéØÂ¢É &quot;NODE_ENV&quot;: &quot;production&quot; &#125; &#125; &#125;&#125; ËØ¥Êòé: 123456789101112131415161718apps:jsonÁªìÊûÑÔºåappsÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏Ä‰∏™Êï∞ÁªÑÊàêÂëòÂ∞±ÊòØÂØπÂ∫î‰∏Ä‰∏™pm2‰∏≠ËøêË°åÁöÑÂ∫îÁî®name:Â∫îÁî®Á®ãÂ∫èÂêçÁß∞cwd:Â∫îÁî®Á®ãÂ∫èÊâÄÂú®ÁöÑÁõÆÂΩïscript:Â∫îÁî®Á®ãÂ∫èÁöÑËÑöÊú¨Ë∑ØÂæÑlog_date_format:error_file:Ëá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÁöÑÈîôËØØÊó•ÂøóÊñá‰ª∂out_file:Ëá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÊó•ÂøóÊñá‰ª∂pid_file:Ëá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÁöÑpidÊñá‰ª∂instances:min_uptime:ÊúÄÂ∞èËøêË°åÊó∂Èó¥ÔºåËøôÈáåËÆæÁΩÆÁöÑÊòØ60sÂç≥Â¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÂú®60sÂÜÖÈÄÄÂá∫Ôºåpm2‰ºöËÆ§‰∏∫Á®ãÂ∫èÂºÇÂ∏∏ÈÄÄÂá∫ÔºåÊ≠§Êó∂Ëß¶ÂèëÈáçÂêØmax_restartsËÆæÁΩÆÊï∞Èáèmax_restarts:ËÆæÁΩÆÂ∫îÁî®Á®ãÂ∫èÂºÇÂ∏∏ÈÄÄÂá∫ÈáçÂêØÁöÑÊ¨°Êï∞ÔºåÈªòËÆ§15Ê¨°Ôºà‰ªé0ÂºÄÂßãËÆ°Êï∞Ôºâcron_restart:ÂÆöÊó∂ÂêØÂä®ÔºåËß£ÂÜ≥ÈáçÂêØËÉΩËß£ÂÜ≥ÁöÑÈóÆÈ¢òwatch:ÊòØÂê¶ÂêØÁî®ÁõëÊéßÊ®°ÂºèÔºåÈªòËÆ§ÊòØfalse„ÄÇÂ¶ÇÊûúËÆæÁΩÆÊàêtrueÔºåÂΩìÂ∫îÁî®Á®ãÂ∫èÂèòÂä®Êó∂Ôºåpm2‰ºöËá™Âä®ÈáçËΩΩ„ÄÇËøôÈáå‰πüÂèØ‰ª•ËÆæÁΩÆ‰Ω†Ë¶ÅÁõëÊéßÁöÑÊñá‰ª∂„ÄÇmerge_logs:exec_interpreter:Â∫îÁî®Á®ãÂ∫èÁöÑËÑöÊú¨Á±ªÂûãÔºåËøôÈáå‰ΩøÁî®ÁöÑshellÔºåÈªòËÆ§ÊòØnodejsexec_mode:Â∫îÁî®Á®ãÂ∫èÂêØÂä®Ê®°ÂºèÔºåËøôÈáåËÆæÁΩÆÁöÑÊòØcluster_modeÔºàÈõÜÁæ§ÔºâÔºåÈªòËÆ§ÊòØforkautorestart:ÂêØÁî®/Á¶ÅÁî®Â∫îÁî®Á®ãÂ∫èÂ¥©Ê∫ÉÊàñÈÄÄÂá∫Êó∂Ëá™Âä®ÈáçÂêØvizion:ÂêØÁî®/Á¶ÅÁî®vizionÁâπÊÄß(ÁâàÊú¨ÊéßÂà∂) ÂàùÂßãÂåñÈÖçÁΩÆÁ¨¨‰∏ÄÊ¨°ÈÉ®ÁΩ≤ pm2 deploy ecosystem.json production setup ÈÉ®ÁΩ≤pm2 deploy ecosystem.json production Â•Ω‰∫ÜÔºåÂÖàËÆ∞ÂΩïËøô‰πàÂ§ö~]]></content>
      <tags>
        <tag>pm2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React setState]]></title>
    <url>%2F2017%2F09%2F21%2FReact-setState%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïÂÆòÔºö‚Äúreact‰∏≠setStateÊòØÂêåÊ≠•ÁöÑËøòÊòØÂºÇÊ≠•Ôºü‚Äù ÊàëÔºö‚ÄúÂºÇÊ≠•ÁöÑÔºåsetState‰∏çËÉΩÁ´ãÈ©¨ÊãøÂà∞ÁªìÊûú„ÄÇ‚Äù Èù¢ËØïÂÆòÔºö‚ÄúÈÇ£‰ªÄ‰πàÂú∫ÊôØ‰∏ãÊòØÂºÇÊ≠•ÁöÑÔºåÂèØ‰∏çÂèØËÉΩÊòØÂêåÊ≠•Ôºå‰ªÄ‰πàÂú∫ÊôØ‰∏ãÂèàÊòØÂêåÊ≠•ÁöÑÔºü‚Äù ÊàëÔºö‚Äú‚Ä¶‚Ä¶‚Äù setStateÁúüÁöÑÊòØÂºÇÊ≠•ÁöÑÂêóÔºüËøô‰∏§Â§©Ëá™Â∑±ÁÆÄÂçïÁöÑÁúã‰∫Ü‰∏ã setState ÁöÑÈÉ®ÂàÜÂÆûÁé∞‰ª£Á†ÅÔºåÂú®ËøôËæπÁªôÂà∞Â§ßÂÆ∂‰∏Ä‰∏™Ëá™Â∑±‰∏™‰∫∫ÁöÑËßÅËß£ÔºåÂèØËÉΩÊñáÂ≠óÊàñÂõæÁâáËæÉÂ§öÔºåÊ≤°ËÄêÂøÉÁöÑÂêåÂ≠¶ÂèØ‰ª•Áõ¥Êé•Ë∑≥ËøáÁúãÊÄªÁªì(Ê∫êÁ†ÅÁâàÊú¨ÊòØ16.4.1)„ÄÇ Áúã‰πãÂâçÔºå‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£ÂíåÁÆÄÂåñÊµÅÁ®ãÔºåÊàë‰ª¨ÈªòËÆ§reactÂÜÖÈÉ®‰ª£Á†ÅÊâßË°åÂà∞performWork„ÄÅperformWorkOnRoot„ÄÅperformSyncWork„ÄÅperformAsyncWorkËøôÂõõ‰∏™ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåÂ∞±ÊòØreactÂéªupdateÊõ¥Êñ∞Âπ∂‰∏î‰ΩúÁî®Âà∞UI‰∏ä„ÄÇ ‰∏Ä„ÄÅÂêàÊàê‰∫ã‰ª∂‰∏≠ÁöÑsetStateÈ¶ñÂÖàÂæó‰∫ÜËß£‰∏Ä‰∏ã‰ªÄ‰πàÊòØÂêàÊàê‰∫ã‰ª∂Ôºåreact‰∏∫‰∫ÜËß£ÂÜ≥Ë∑®Âπ≥Âè∞ÔºåÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåËá™Â∑±Â∞ÅË£Ö‰∫Ü‰∏ÄÂ•ó‰∫ã‰ª∂Êú∫Âà∂Ôºå‰ª£ÁêÜ‰∫ÜÂéüÁîüÁöÑ‰∫ã‰ª∂ÔºåÂÉèÂú®jsx‰∏≠Â∏∏ËßÅÁöÑonClick„ÄÅonChangeËøô‰∫õÈÉΩÊòØÂêàÊàê‰∫ã‰ª∂„ÄÇ123456789101112131415class App extends Component &#123; state = &#123; val: 0 &#125; increment = () =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) // ËæìÂá∫ÁöÑÊòØÊõ¥Êñ∞ÂâçÁöÑval --&gt; 0 &#125; render() &#123; return ( &lt;div onClick=&#123;this.increment&#125;&gt; &#123;`Counter is: $&#123;this.state.val&#125;`&#125; &lt;/div&gt; ) &#125;&#125; ÂêàÊàê‰∫ã‰ª∂‰∏≠ÁöÑsetStateÂÜôÊ≥ïÊØîËæÉÂ∏∏ËßÅÔºåÁÇπÂáª‰∫ã‰ª∂ÈáåÂéªÊîπÂèò this.state.val ÁöÑÁä∂ÊÄÅÂÄºÔºåÂú® increment ‰∫ã‰ª∂‰∏≠Êâì‰∏™Êñ≠ÁÇπÂèØ‰ª•ÁúãÂà∞Ë∞ÉÁî®Ê†àÔºåËøôÈáåÊàëË¥¥‰∏ÄÂº†Ëá™Â∑±ÁîªÁöÑÊµÅÁ®ãÂõæÔºö‰ªé dispatchInteractiveEvent Âà∞ callCallBack ‰∏∫Ê≠¢ÔºåÈÉΩÊòØÂØπÂêàÊàê‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÂíåÊâßË°åÔºå‰ªé setState Âà∞ requestWork ÊòØË∞ÉÁî® this.setState ÁöÑÈÄªËæëÔºåËøôËæπ‰∏ªË¶ÅÁúã‰∏ã requestWork Ëøô‰∏™ÂáΩÊï∞Ôºà‰ªé dispatchEvent Âà∞ requestWork ÁöÑË∞ÉÁî®Ê†àÊòØÂ±û‰∫é interactiveUpdates$1 ÁöÑ try ‰ª£Á†ÅÂùóÔºå‰∏ãÊñá‰ºöÊèêÂà∞Ôºâ„ÄÇ12345678910111213141516171819202122232425262728function requestWork(root, expirationTime) &#123; addRootToSchedule(root, expirationTime); if (isRendering) &#123; // Prevent reentrancy. Remaining work will be scheduled at the end of // the currently rendering batch. return; &#125; if (isBatchingUpdates) &#123; // Flush work at the end of the batch. if (isUnbatchingUpdates) &#123; // ...unless we&apos;re inside unbatchedUpdates, in which case we should // flush it now. nextFlushedRoot = root; nextFlushedExpirationTime = Sync; performWorkOnRoot(root, Sync, false); &#125; return; &#125; // TODO: Get rid of Sync and use current time? if (expirationTime === Sync) &#123; performSyncWork(); &#125; else &#123; scheduleCallbackWithExpiration(expirationTime); &#125;&#125; Âú® requestWork ‰∏≠Êúâ‰∏â‰∏™ifÂàÜÊîØÔºå‰∏â‰∏™ÂàÜÊîØ‰∏≠Êúâ‰∏§‰∏™ÊñπÊ≥ï performWorkOnRoot Âíå performSyncWork ÔºåÂ∞±ÊòØÊàë‰ª¨ÈªòËÆ§ÁöÑupdateÂáΩÊï∞Ôºå‰ΩÜÊòØÂú®ÂêàÊàê‰∫ã‰ª∂‰∏≠ÔºåËµ∞ÁöÑÊòØÁ¨¨‰∫å‰∏™ifÂàÜÊîØÔºåÁ¨¨‰∫å‰∏™ÂàÜÊîØ‰∏≠Êúâ‰∏§‰∏™Ê†áËØÜ isBatchingUpdates Âíå isUnbatchingUpdates ‰∏§‰∏™ÂàùÂßãÂÄºÈÉΩ‰∏∫ false Ôºå‰ΩÜÊòØÂú® interactiveUpdates$1 ‰∏≠‰ºöÊää isBatchingUpdates ËÆæ‰∏∫ true Ôºå‰∏ãÈù¢Â∞±ÊòØ interactiveUpdates$1 ÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627function interactiveUpdates$1(fn, a, b) &#123; if (isBatchingInteractiveUpdates) &#123; return fn(a, b); &#125; // If there are any pending interactive updates, synchronously flush them. // This needs to happen before we read any handlers, because the effect of // the previous event may influence which handlers are called during // this event. if (!isBatchingUpdates &amp;&amp; !isRendering &amp;&amp; lowestPendingInteractiveExpirationTime !== NoWork) &#123; // Synchronously flush pending interactive updates. performWork(lowestPendingInteractiveExpirationTime, false, null); lowestPendingInteractiveExpirationTime = NoWork; &#125; var previousIsBatchingInteractiveUpdates = isBatchingInteractiveUpdates; var previousIsBatchingUpdates = isBatchingUpdates; isBatchingInteractiveUpdates = true; isBatchingUpdates = true; // ÊäärequestWork‰∏≠ÁöÑisBatchingUpdatesÊ†áËØÜÊîπ‰∏∫true try &#123; return fn(a, b); &#125; finally &#123; isBatchingInteractiveUpdates = previousIsBatchingInteractiveUpdates; isBatchingUpdates = previousIsBatchingUpdates; if (!isBatchingUpdates &amp;&amp; !isRendering) &#123; performSyncWork(); &#125; &#125;&#125; Âú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠Êää isBatchingUpdates ËÆæ‰∏∫‰∫Ü true ,ÂØºËá¥Âú® requestWork ÊñπÊ≥ï‰∏≠Ôºå isBatchingUpdates ‰∏∫ true Ôºå‰ΩÜÊòØ isUnbatchingUpdates ÊòØ false ÔºåËÄåË¢´Áõ¥Êé•return‰∫Ü„ÄÇ ÈÇ£returnÂÆåÁöÑÈÄªËæëÂõûÂà∞Âì™ÈáåÂë¢ÔºåÊúÄÁªàÊ≠£ÊòØÂõûÂà∞‰∫Ü interactiveUpdates Ëøô‰∏™ÊñπÊ≥ïÔºå‰ªîÁªÜÁúã‰∏ÄÁúºÔºåËøô‰∏™ÊñπÊ≥ïÈáåÈù¢Êúâ‰∏™try finallyËØ≠Ê≥ïÔºåÂâçÁ´ØÂêåÂ≠¶Ëøô‰∏™ÂÖ∂ÂÆûÊòØÁî®ÁöÑÊØîËæÉÂ∞ëÁöÑÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØ‰ºöÂÖàÊâßË°å try ‰ª£Á†ÅÂùó‰∏≠ÁöÑËØ≠Âè•ÔºåÁÑ∂ÂêéÂÜçÊâßË°å finally ‰∏≠ÁöÑ‰ª£Á†ÅÔºåËÄå fn(a, b) ÊòØÂú®try‰ª£Á†ÅÂùó‰∏≠ÔºåÂàöÊâçËØ¥Âà∞Âú® requestWork ‰∏≠Ë¢´returnÊéâÁöÑ‰πüÂ∞±ÊòØËøô‰∏™fnÔºà‰∏äÊñáÊèêÂà∞ÁöÑ ‰ªédispatchEvent Âà∞ requestWork ÁöÑ‰∏ÄÊï¥‰∏™Ë∞ÉÁî®Ê†àÔºâ„ÄÇ ÊâÄ‰ª•ÂΩì‰Ω†Âú® increment ‰∏≠Ë∞ÉÁî® setState ‰πãÂêéÂéªconsole.logÁöÑÊó∂ÂÄôÔºåÊòØÂ±û‰∫é try ‰ª£Á†ÅÂùó‰∏≠ÁöÑÊâßË°åÔºå‰ΩÜÊòØÁî±‰∫éÊòØÂêàÊàê‰∫ã‰ª∂Ôºåtry‰ª£Á†ÅÂùóÊâßË°åÂÆåstateÂπ∂Ê≤°ÊúâÊõ¥Êñ∞ÔºåÊâÄ‰ª•‰Ω†ËæìÂÖ•ÁöÑÁªìÊûúÊòØÊõ¥Êñ∞ÂâçÁöÑ state ÂÄºÔºåËøôÂ∞±ÂØºËá¥‰∫ÜÊâÄË∞ìÁöÑ‚ÄùÂºÇÊ≠•‚ÄùÔºå‰ΩÜÊòØÂΩì‰Ω†ÁöÑtry‰ª£Á†ÅÂùóÊâßË°åÂÆåÁöÑÊó∂ÂÄôÔºà‰πüÂ∞±ÊòØ‰Ω†ÁöÑincrementÂêàÊàê‰∫ã‰ª∂ÔºâÔºåËøô‰∏™Êó∂ÂÄô‰ºöÂéªÊâßË°å finally ÈáåÁöÑ‰ª£Á†ÅÔºåÂú® finally ‰∏≠ÊâßË°å‰∫Ü performSyncWork ÊñπÊ≥ïÔºåËøô‰∏™Êó∂ÂÄôÊâç‰ºöÂéªÊõ¥Êñ∞‰Ω†ÁöÑ state Âπ∂‰∏îÊ∏≤ÊüìÂà∞UI‰∏ä„ÄÇ ‰∫å„ÄÅÁîüÂëΩÂë®ÊúüÂáΩÊï∞‰∏≠ÁöÑsetState12345678910111213141516class App extends Component &#123; state = &#123; val: 0 &#125; componentDidMount() &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) // ËæìÂá∫ÁöÑËøòÊòØÊõ¥Êñ∞ÂâçÁöÑÂÄº --&gt; 0 &#125; render() &#123; return ( &lt;div&gt; &#123;`Counter is: $&#123;this.state.val&#125;`&#125; &lt;/div&gt; ) &#125;&#125; Èí©Â≠êÂáΩÊï∞‰∏≠setStateÁöÑË∞ÉÁî®Ê†àÔºöÂÖ∂ÂÆûËøòÊòØÂíåÂêàÊàê‰∫ã‰ª∂‰∏ÄÊ†∑ÔºåÂΩì componentDidmount ÊâßË°åÁöÑÊó∂ÂÄôÔºåreactÂÜÖÈÉ®Âπ∂Ê≤°ÊúâÊõ¥Êñ∞ÔºåÊâßË°åÂÆåcomponentDidmount ÂêéÊâçÂéª commitUpdateQueue Êõ¥Êñ∞„ÄÇËøôÂ∞±ÂØºËá¥‰Ω†Âú® componentDidmount ‰∏≠ setState ÂÆåÂéªconsole.logÊãøÁöÑÁªìÊûúËøòÊòØÊõ¥Êñ∞ÂâçÁöÑÂÄº„ÄÇ ‰∏â„ÄÅÂéüÁîü‰∫ã‰ª∂‰∏≠ÁöÑsetState123456789101112131415161718192021class App extends Component &#123; state = &#123; val: 0 &#125; changeValue = () =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) // ËæìÂá∫ÁöÑÊòØÊõ¥Êñ∞ÂêéÁöÑÂÄº --&gt; 1 &#125; componentDidMount() &#123; document.body.addEventListener(&apos;click&apos;, this.changeValue, false) &#125; render() &#123; return ( &lt;div&gt; &#123;`Counter is: $&#123;this.state.val&#125;`&#125; &lt;/div&gt; ) &#125;&#125; ÂéüÁîü‰∫ã‰ª∂ÊòØÊåáÈùûreactÂêàÊàê‰∫ã‰ª∂ÔºåÂéüÁîüËá™Â∏¶ÁöÑ‰∫ã‰ª∂ÁõëÂê¨ addEventListener ÔºåÊàñËÄÖ‰πüÂèØ‰ª•Áî®ÂéüÁîüjs„ÄÅjqÁõ¥Êé• document.querySelector().onclick ËøôÁßçÁªëÂÆö‰∫ã‰ª∂ÁöÑÂΩ¢ÂºèÈÉΩÂ±û‰∫éÂéüÁîü‰∫ã‰ª∂„ÄÇÂéüÁîü‰∫ã‰ª∂ÁöÑË∞ÉÁî®Ê†àÂ∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÂõ†‰∏∫Ê≤°ÊúâËµ∞ÂêàÊàê‰∫ã‰ª∂ÁöÑÈÇ£‰∏ÄÂ§ßÂ†ÜÔºåÁõ¥Êé•Ëß¶Âèëclick‰∫ã‰ª∂ÔºåÂà∞ requestWork ,Âú®requestWorkÈáåÁî±‰∫é expirationTime === Sync ÁöÑÂéüÂõ†ÔºåÁõ¥Êé•Ëµ∞‰∫Ü performSyncWork ÂéªÊõ¥Êñ∞ÔºåÂπ∂‰∏çÂÉèÂêàÊàê‰∫ã‰ª∂ÊàñÈí©Â≠êÂáΩÊï∞‰∏≠Ë¢´returnÔºåÊâÄ‰ª•ÂΩì‰Ω†Âú®ÂéüÁîü‰∫ã‰ª∂‰∏≠setStateÂêéÔºåËÉΩÂêåÊ≠•ÊãøÂà∞Êõ¥Êñ∞ÂêéÁöÑstateÂÄº„ÄÇ Âõõ„ÄÅsetTimeout‰∏≠ÁöÑsetState12345678910111213141516171819class App extends Component &#123; state = &#123; val: 0 &#125; componentDidMount() &#123; setTimeout(_ =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) // ËæìÂá∫Êõ¥Êñ∞ÂêéÁöÑÂÄº --&gt; 1 &#125;, 0) &#125; render() &#123; return ( &lt;div&gt; &#123;`Counter is: $&#123;this.state.val&#125;`&#125; &lt;/div&gt; ) &#125;&#125; Âú® setTimeout ‰∏≠Âéª setState Âπ∂‰∏çÁÆóÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂú∫ÊôØÔºåÂÆÉÊòØÈöèÁùÄ‰Ω†Â§ñÂ±ÇÂéªÂÜ≥ÂÆöÁöÑÔºåÂõ†‰∏∫‰Ω†ÂèØ‰ª•Âú®ÂêàÊàê‰∫ã‰ª∂‰∏≠ setTimeout ÔºåÂèØ‰ª•Âú®Èí©Â≠êÂáΩÊï∞‰∏≠ setTimeout Ôºå‰πüÂèØ‰ª•Âú®ÂéüÁîü‰∫ã‰ª∂setTimeoutÔºå‰ΩÜÊòØ‰∏çÁÆ°ÊòØÂì™‰∏™Âú∫ÊôØ‰∏ãÔºåÂü∫‰∫éevent loopÁöÑÊ®°Âûã‰∏ãÔºå setTimeout ‰∏≠ÈáåÂéª setState ÊÄªËÉΩÊãøÂà∞ÊúÄÊñ∞ÁöÑstateÂÄº„ÄÇ ‰∏æ‰∏™Ê†óÂ≠êÔºåÊØîÂ¶Ç‰πãÂâçÁöÑÂêàÊàê‰∫ã‰ª∂ÔºåÁî±‰∫é‰Ω†ÊòØ setTimeout(_ =&gt; { this.setState()}, 0) ÊòØÂú® try ‰ª£Á†ÅÂùó‰∏≠,ÂΩì‰Ω† try ‰ª£Á†ÅÂùóÊâßË°åÂà∞ setTimeout ÁöÑÊó∂ÂÄôÔºåÊääÂÆÉ‰∏¢Âà∞ÂàóÈòüÈáåÔºåÂπ∂Ê≤°ÊúâÂéªÊâßË°åÔºåËÄåÊòØÂÖàÊâßË°åÁöÑ finally ‰ª£Á†ÅÂùóÔºåÁ≠â finally ÊâßË°åÂÆå‰∫ÜÔºå isBatchingUpdates ÂèàÂèò‰∏∫‰∫Ü false ÔºåÂØºËá¥ÊúÄÂêéÂéªÊâßË°åÈòüÂàóÈáåÁöÑ setState Êó∂ÂÄôÔºå requestWork Ëµ∞ÁöÑÊòØÂíåÂéüÁîü‰∫ã‰ª∂‰∏ÄÊ†∑ÁöÑ expirationTime === Sync ifÂàÜÊîØÔºåÊâÄ‰ª•Ë°®Áé∞Â∞±‰ºöÂíåÂéüÁîü‰∫ã‰ª∂‰∏ÄÊ†∑ÔºåÂèØ‰ª•ÂêåÊ≠•ÊãøÂà∞ÊúÄÊñ∞ÁöÑstateÂÄº„ÄÇ ‰∫î„ÄÅsetState‰∏≠ÁöÑÊâπÈáèÊõ¥Êñ∞123456789101112131415161718class App extends Component &#123; state = &#123; val: 0 &#125; batchUpdates = () =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) this.setState(&#123; val: this.state.val + 1 &#125;) this.setState(&#123; val: this.state.val + 1 &#125;) &#125; render() &#123; return ( &lt;div onClick=&#123;this.batchUpdates&#125;&gt; &#123;`Counter is $&#123;this.state.val&#125;`&#125; // 1 &lt;/div&gt; ) &#125;&#125; ‰∏äÈù¢ÁöÑÁªìÊûúÊúÄÁªàÊòØ1ÔºåÂú® setState ÁöÑÊó∂ÂÄôreactÂÜÖÈÉ®‰ºöÂàõÂª∫‰∏Ä‰∏™ updateQueue ÔºåÈÄöËøá firstUpdate „ÄÅ lastUpdate „ÄÅ lastUpdate.next ÂéªÁª¥Êä§‰∏Ä‰∏™Êõ¥Êñ∞ÁöÑÈòüÂàóÔºåÂú®ÊúÄÁªàÁöÑ performWork ‰∏≠ÔºåÁõ∏ÂêåÁöÑkey‰ºöË¢´Ë¶ÜÁõñÔºåÂè™‰ºöÂØπÊúÄÂêé‰∏ÄÊ¨°ÁöÑ setState ËøõË°åÊõ¥Êñ∞Ôºå‰∏ãÈù¢ÊòØÈÉ®ÂàÜÂÆûÁé∞‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031function createUpdateQueue(baseState) &#123; var queue = &#123; expirationTime: NoWork, baseState: baseState, firstUpdate: null, lastUpdate: null, firstCapturedUpdate: null, lastCapturedUpdate: null, firstEffect: null, lastEffect: null, firstCapturedEffect: null, lastCapturedEffect: null &#125;; return queue;&#125;function appendUpdateToQueue(queue, update, expirationTime) &#123; // Append the update to the end of the list. if (queue.lastUpdate === null) &#123; // Queue is empty queue.firstUpdate = queue.lastUpdate = update; &#125; else &#123; queue.lastUpdate.next = update; queue.lastUpdate = update; &#125; if (queue.expirationTime === NoWork || queue.expirationTime &gt; expirationTime) &#123; // The incoming update has the earliest expiration of any update in the // queue. Update the queue&apos;s expiration time. queue.expirationTime = expirationTime; &#125;&#125; Áúã‰∏™demo1234567891011121314151617181920212223class App extends React.Component &#123; state = &#123; val: 0 &#125; componentDidMount() &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) setTimeout(_ =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val); this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) &#125;, 0) &#125; render() &#123; return &lt;div&gt;&#123;this.state.val&#125;&lt;/div&gt; &#125;&#125; ÁªìÂêà‰∏äÈù¢ÂàÜÊûêÁöÑÔºåÈí©Â≠êÂáΩÊï∞‰∏≠ÁöÑ setState Êó†Ê≥ïÁ´ãÈ©¨ÊãøÂà∞Êõ¥Êñ∞ÂêéÁöÑÂÄºÔºåÊâÄ‰ª•Ââç‰∏§Ê¨°ÈÉΩÊòØËæìÂá∫0ÔºåÂΩìÊâßË°åÂà∞ setTimeout ÈáåÁöÑÊó∂ÂÄôÔºåÂâçÈù¢‰∏§‰∏™stateÁöÑÂÄºÂ∑≤ÁªèË¢´Êõ¥Êñ∞ÔºåÁî±‰∫é setState ÊâπÈáèÊõ¥Êñ∞ÁöÑÁ≠ñÁï•Ôºå this.state.val Âè™ÂØπÊúÄÂêé‰∏ÄÊ¨°ÁöÑÁîüÊïàÔºå‰∏∫1ÔºåËÄåÂú® setTimmout ‰∏≠ setState ÊòØÂèØ‰ª•ÂêåÊ≠•ÊãøÂà∞Êõ¥Êñ∞ÁªìÊûúÔºåÊâÄ‰ª• setTimeout ‰∏≠ÁöÑ‰∏§Ê¨°ËæìÂá∫2Ôºå3ÔºåÊúÄÁªàÁªìÊûúÂ∞±‰∏∫ 0, 0, 2, 3 „ÄÇ ÊÄªÁªì : setState Âè™Âú®ÂêàÊàê‰∫ã‰ª∂ÂíåÈí©Â≠êÂáΩÊï∞‰∏≠ÊòØ‚ÄúÂºÇÊ≠•‚ÄùÁöÑÔºåÂú®ÂéüÁîü‰∫ã‰ª∂Âíå setTimeout ‰∏≠ÈÉΩÊòØÂêåÊ≠•ÁöÑ„ÄÇ setStateÁöÑ‚ÄúÂºÇÊ≠•‚ÄùÂπ∂‰∏çÊòØËØ¥ÂÜÖÈÉ®Áî±ÂºÇÊ≠•‰ª£Á†ÅÂÆûÁé∞ÔºåÂÖ∂ÂÆûÊú¨Ë∫´ÊâßË°åÁöÑËøáÁ®ãÂíå‰ª£Á†ÅÈÉΩÊòØÂêåÊ≠•ÁöÑÔºåÂè™ÊòØÂêàÊàê‰∫ã‰ª∂ÂíåÈí©Â≠êÂáΩÊï∞ÁöÑË∞ÉÁî®È°∫Â∫èÂú®Êõ¥Êñ∞‰πãÂâçÔºåÂØºËá¥Âú®ÂêàÊàê‰∫ã‰ª∂ÂíåÈí©Â≠êÂáΩÊï∞‰∏≠Ê≤°Ê≥ïÁ´ãÈ©¨ÊãøÂà∞Êõ¥Êñ∞ÂêéÁöÑÂÄºÔºåÂΩ¢Âºè‰∫ÜÊâÄË∞ìÁöÑ‚ÄúÂºÇÊ≠•‚ÄùÔºåÂΩìÁÑ∂ÂèØ‰ª•ÈÄöËøáÁ¨¨‰∫å‰∏™ÂèÇÊï∞ setState(partialState, callback) ‰∏≠ÁöÑcallbackÊãøÂà∞Êõ¥Êñ∞ÂêéÁöÑÁªìÊûú„ÄÇ setState ÁöÑÊâπÈáèÊõ¥Êñ∞‰ºòÂåñ‰πüÊòØÂª∫Á´ãÂú®‚ÄúÂºÇÊ≠•‚ÄùÔºàÂêàÊàê‰∫ã‰ª∂„ÄÅÈí©Â≠êÂáΩÊï∞Ôºâ‰πã‰∏äÁöÑÔºåÂú®ÂéüÁîü‰∫ã‰ª∂ÂíåsetTimeout ‰∏≠‰∏ç‰ºöÊâπÈáèÊõ¥Êñ∞ÔºåÂú®‚ÄúÂºÇÊ≠•‚Äù‰∏≠Â¶ÇÊûúÂØπÂêå‰∏Ä‰∏™ÂÄºËøõË°åÂ§öÊ¨° setState Ôºå setState ÁöÑÊâπÈáèÊõ¥Êñ∞Á≠ñÁï•‰ºöÂØπÂÖ∂ËøõË°åË¶ÜÁõñÔºåÂèñÊúÄÂêé‰∏ÄÊ¨°ÁöÑÊâßË°åÔºåÂ¶ÇÊûúÊòØÂêåÊó∂ setState Â§ö‰∏™‰∏çÂêåÁöÑÂÄºÔºåÂú®Êõ¥Êñ∞Êó∂‰ºöÂØπÂÖ∂ËøõË°åÂêàÂπ∂ÊâπÈáèÊõ¥Êñ∞„ÄÇ ‰ª•‰∏äÂ∞±ÊòØÊàëÁúã‰∫ÜÈÉ®ÂàÜ‰ª£Á†ÅÂêéÁöÑÁ≤óÊµÖÁêÜËß£ÔºåÂØπÊ∫êÁ†ÅÁªÜËäÇÁöÑÈÇ£ÂùóÂàÜÊûêÁöÑËæÉÂ∞ëÔºå‰∏ªË¶ÅÊòØÊÉ≥ËÆ©Â§ßÂÆ∂ÁêÜËß£setStateÂú®‰∏çÂêåÁöÑÂú∫ÊôØÔºå‰∏çÂêåÁöÑÂÜôÊ≥ï‰∏ãÂà∞Â∫ïÂèëÁîü‰∫Ü‰ªÄ‰πàÊ†∑ÁöÑ‰∏Ä‰∏™ËøáÁ®ãÂíåÁªìÊûúÔºåÂ∏åÊúõÂØπÂ§ßÂÆ∂ÊúâÂ∏ÆÂä©ÔºåÁî±‰∫éÊòØ‰∏™‰∫∫ÁöÑÁêÜËß£ÂíåËßÅËß£ÔºåÂ¶ÇÊûúÂì™ÈáåÊúâËØ¥ÁöÑ‰∏çÂØπÁöÑÂú∞ÊñπÔºåÊ¨¢ËøéÂ§ßÂÆ∂‰∏ÄËµ∑ÊåáÂá∫Âπ∂ËÆ®ËÆ∫„ÄÇ]]></content>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git ÂøÖÁü•ÂøÖ‰ºö]]></title>
    <url>%2F2017%2F09%2F11%2FGit-%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%2F</url>
    <content type="text"><![CDATA[GitÊòØÁõÆÂâç‰∏ñÁïå‰∏äÊúÄÂÖàËøõÁöÑÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Á≥ªÁªü„ÄÇ ÂèÇËÄÉÊñáÁ´†Ôºö Â¶Ç‰Ωï‰ºòÈõÖÂú∞‰ΩøÁî® Git - ÊéòÈáë GIT Â∏∏ËßÅÂëΩ‰ª§Â≠¶‰π†Êï¥ÁêÜGITÂ∏∏Áî®ÂëΩ‰ª§Â§áÂøòGitËøúÁ®ãÊìç‰ΩúËØ¶Ëß£‰∏ÄÁØáÊñáÁ´†ÔºåÊïô‰Ω†Â≠¶‰ºöGitÂ¶Ç‰ΩïÂú® Git ‰∏≠‰ΩøÁî®Êí§Ê∂àÊìç‰Ωúgit‰ΩøÁî®‰∏≠Á¢∞Âà∞ÁöÑÈóÆÈ¢òÔºåÊåÅÁª≠Êõ¥Êñ∞Git ÁöÑ 4 ‰∏™Èò∂ÊÆµÁöÑÊí§ÈîÄÊõ¥ÊîπGitÊèê‰∫§ÂéÜÂè≤ÁöÑ‰øÆÊîπÂà†Èô§ÂêàÂπ∂ - ÊéòÈáë IDEA‰∏≠ÂàÜÊîØÂàáÊç¢error: The following untracked working tree files would be overwritten by checkoutÁõ¥Êé•ÊâßË°ågit clean -d -fxÂç≥ÂèØ„ÄÇ ÂèØËÉΩÂæàÂ§ö‰∫∫ÈÉΩ‰∏çÊòéÁôΩ-dÔºå-fxÂà∞Â∫ïÊòØÂï•ÊÑèÊÄùÔºå ÂÖ∂ÂÆûgit clean -d -fxË°®Á§∫ÔºöÂà†Èô§ ‰∏Ä‰∫õ Ê≤°Êúâ git add ÁöÑ Êñá‰ª∂Ôºõ git clean ÂèÇÊï∞ -n ÊòæÁ§∫Â∞ÜË¶ÅÂà†Èô§ÁöÑÊñá‰ª∂ÂíåÁõÆÂΩïÔºõ -x -----Âà†Èô§ÂøΩÁï•Êñá‰ª∂Â∑≤ÁªèÂØπgitÊù•ËØ¥‰∏çËØÜÂà´ÁöÑÊñá‰ª∂ -d -----Âà†Èô§Êú™Ë¢´Ê∑ªÂä†Âà∞gitÁöÑË∑ØÂæÑ‰∏≠ÁöÑÊñá‰ª∂ -f -----Âº∫Âà∂ËøêË°å git clean -n git clean -df git clean -f git reflog //ËØ•Êåá‰ª§ËæìÂá∫ËØ¶ÁªÜÁöÑÊìç‰ΩúÂéÜÂè≤ÔºåÂåÖÊã¨Êèê‰∫§ÔºåÊìç‰ΩúÔºå‰øÆÊîπÁ≠â ‰øÆÊîπÊ≥®Èáä git commit --amend Êàñ git commit --amend -m &quot;Fixes bug #42&quot; gitk Â≠óÁ¨¶ÈõÜÁºñÁ†ÅÔºö git config --global gui.encoding utf-8 //Âú®git GUI‰∏≠‰ΩøÁî®UTF-8ÁºñÁ†Å ÈÖçÁΩÆ git config --global user.name &quot;ihoey&quot; # ËÆæÁΩÆgitÁî®Êà∑Âêç git config --global user.email &quot;mail@ihoey.com&quot; # ËÆæÁΩÆgitÈÇÆÁÆ± git config --global color.ui true # ‰∏∫trueÊòØÁªàÁ´ØÁùÄËâ≤ git config --global alias.co checkout # ÈÖçÁΩÆcheckoutÁöÑÂà´Âêç git config --global alias.ci commit # ÈÖçÁΩÆcommitÁöÑÂà´Âêç git config --global alias.cm commit # ÈÖçÁΩÆcommitÁöÑÂà´Âêç git config --global alias.st status # ÈÖçÁΩÆstatusÁöÑÂà´Âêç git config --global alias.br branch # ÈÖçÁΩÆbranchÁöÑÂà´Âêç git config --global alias.cp cherry-pick # ÈÖçÁΩÆcherry-pickÁöÑÂà´Âêç git config --global alias.rb rebase # ÈÖçÁΩÆrebaseÁöÑÂà´Âêç git config --global core.editor &quot;mate -w&quot; # ËÆæÁΩÆEditor‰ΩøÁî®textmate git config -l # Âàó‰∏æÊâÄÊúâÈÖçÁΩÆ #Áî®Êà∑ÁöÑgitÈÖçÁΩÆÊñá‰ª∂~/.gitconfig SSH ÁßòÈí• ssh-keygen -t rsa -C &quot;mail@ihoey.com&quot; # ËøûÁª≠3‰∏™ÂõûËΩ¶„ÄÇÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂØÜÁ†ÅÁöÑËØù„ÄÇ # ÊúÄÂêéÂæóÂà∞‰∫Ü‰∏§‰∏™Êñá‰ª∂Ôºöid_rsaÂíåid_rsa.pubÔºåÂú®~/.ssh/Êñá‰ª∂Â§π‰∏ãÈù¢ # id_rsa‰∏∫‰Ω†ÁöÑÁßÅÈí•Ôºå‰∏çÂèØ‰ª•ÂëäËØâÂà´‰∫∫ # id_rsa.pub‰∏∫‰Ω†ÁöÑÂÖ¨Èí•Ôºå‰∏ÄËà¨‰ºöÊîæÂú®‰Ω†ÁöÑÊúçÂä°Âô®ÂÅösshÁôªÂΩïÔºåÊàñËÄÖÊîæÂú®github‰∏äÈù¢ Âü∫Êú¨ÂëΩ‰ª§ ÂàõÂª∫git‰ªìÂ∫ì git init Ê∑ªÂä†Êñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ git add fileName / git add . Êèê‰∫§Êñá‰ª∂Âà∞‰ªìÂ∫ì git commit -m &quot;ÁâàÊú¨Êèê‰∫§‰ø°ÊÅØ&quot; Êü•ÁúãÊñá‰ª∂Êèê‰∫§Áä∂ÊÄÅ git status Êü•ÁúãÊñá‰ª∂‰øÆÊîπÁöÑ‰ø°ÊÅØ git diff readme.txt git help &lt;command&gt; # ÊòæÁ§∫commandÁöÑhelp git show # ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§ÁöÑÂÜÖÂÆπ git show $id git checkout -- &lt;file&gt; # ÊäõÂºÉÂ∑•‰ΩúÂå∫‰øÆÊîπ git checkout . # ÊäõÂºÉÂ∑•‰ΩúÂå∫‰øÆÊîπ git add &lt;file&gt; # Â∞ÜÂ∑•‰ΩúÊñá‰ª∂‰øÆÊîπÊèê‰∫§Âà∞Êú¨Âú∞ÊöÇÂ≠òÂå∫ git add . # Â∞ÜÊâÄÊúâ‰øÆÊîπËøáÁöÑÂ∑•‰ΩúÊñá‰ª∂Êèê‰∫§ÊöÇÂ≠òÂå∫ git rm &lt;file&gt; # ‰ªéÁâàÊú¨Â∫ì‰∏≠Âà†Èô§Êñá‰ª∂ git rm &lt;file&gt; --cached # ‰ªéÁâàÊú¨Â∫ì‰∏≠Âà†Èô§Êñá‰ª∂Ôºå‰ΩÜ‰∏çÂà†Èô§Êñá‰ª∂ git reset &lt;file&gt; # ‰ªéÊöÇÂ≠òÂå∫ÊÅ¢Â§çÂà∞Â∑•‰ΩúÊñá‰ª∂ git reset -- . # ‰ªéÊöÇÂ≠òÂå∫ÊÅ¢Â§çÂà∞Â∑•‰ΩúÊñá‰ª∂ git reset --hard # ÊÅ¢Â§çÊúÄËøë‰∏ÄÊ¨°Êèê‰∫§ËøáÁöÑÁä∂ÊÄÅÔºåÂç≥ÊîæÂºÉ‰∏äÊ¨°Êèê‰∫§ÂêéÁöÑÊâÄÊúâÊú¨Ê¨°‰øÆÊîπ git reset SHA1 ID # ÊÅ¢Â§çÊåáÂÆöÊèê‰∫§ git commit -m &quot;some comments&quot; git revert &lt;$id&gt; # ÊÅ¢Â§çÊüêÊ¨°Êèê‰∫§ÁöÑÁä∂ÊÄÅÔºåÊÅ¢Â§çÂä®‰ΩúÊú¨Ë∫´‰πüÂàõÂª∫‰∫Ü‰∏ÄÊ¨°Êèê‰∫§ÂØπË±° git revert HEAD # ÊÅ¢Â§çÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÁä∂ÊÄÅ Êü•ÁúãÊñá‰ª∂ git diff &lt;file&gt; # ÊØîËæÉÂΩìÂâçÊñá‰ª∂ÂíåÊöÇÂ≠òÂå∫Êñá‰ª∂Â∑ÆÂºÇ git diff git diff &lt;$id1&gt; &lt;$id2&gt; # ÊØîËæÉ‰∏§Ê¨°Êèê‰∫§‰πãÈó¥ÁöÑÂ∑ÆÂºÇ git diff &lt;branch1&gt;..&lt;branch2&gt; # Âú®‰∏§‰∏™ÂàÜÊîØ‰πãÈó¥ÊØîËæÉ git diff --staged # ÊØîËæÉÊöÇÂ≠òÂå∫ÂíåÁâàÊú¨Â∫ìÂ∑ÆÂºÇ git diff --cached # ÊØîËæÉÊöÇÂ≠òÂå∫ÂíåÁâàÊú¨Â∫ìÂ∑ÆÂºÇ git diff --stat # ‰ªÖ‰ªÖÊØîËæÉÁªüËÆ°‰ø°ÊÅØ Êü•ÁúãÊèê‰∫§ËÆ∞ÂΩï git log git log &lt;file&gt; # Êü•ÁúãËØ•Êñá‰ª∂ÊØèÊ¨°Êèê‰∫§ËÆ∞ÂΩï git log -p &lt;file&gt; # Êü•ÁúãÊØèÊ¨°ËØ¶ÁªÜ‰øÆÊîπÂÜÖÂÆπÁöÑdiff git log -p -2 # Êü•ÁúãÊúÄËøë‰∏§Ê¨°ËØ¶ÁªÜ‰øÆÊîπÂÜÖÂÆπÁöÑdiff git log --stat # Êü•ÁúãÊèê‰∫§ÁªüËÆ°‰ø°ÊÅØ ÂàÜÊîØÁÆ°ÁêÜ git branch -l # Êü•ÁúãÊú¨Âú∞ÂàÜÊîØ git branch -r # Êü•ÁúãËøúÁ®ãÂàÜÊîØ git branch &lt;new_branch&gt; # ÂàõÂª∫Êñ∞ÁöÑÂàÜÊîØ git branch -v # Êü•ÁúãÂêÑ‰∏™ÂàÜÊîØÊúÄÂêéÊèê‰∫§‰ø°ÊÅØ git branch --merged # Êü•ÁúãÂ∑≤ÁªèË¢´ÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØÁöÑÂàÜÊîØ git branch --no-merged # Êü•ÁúãÂ∞öÊú™Ë¢´ÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØÁöÑÂàÜÊîØ git checkout &lt;branch&gt; # ÂàáÊç¢Âà∞Êüê‰∏™ÂàÜÊîØ git checkout -b &lt;new_branch&gt; # ÂàõÂª∫Êñ∞ÁöÑÂàÜÊîØÔºåÂπ∂‰∏îÂàáÊç¢ËøáÂéª git checkout -b &lt;new_branch&gt; &lt;branch&gt; # Âü∫‰∫ébranchÂàõÂª∫Êñ∞ÁöÑnew_branch git checkout $id # ÊääÊüêÊ¨°ÂéÜÂè≤Êèê‰∫§ËÆ∞ÂΩïcheckoutÂá∫Êù•Ôºå‰ΩÜÊó†ÂàÜÊîØ‰ø°ÊÅØÔºåÂàáÊç¢Âà∞ÂÖ∂‰ªñÂàÜÊîØ‰ºöËá™Âä®Âà†Èô§ git checkout $id -b &lt;new_branch&gt; # ÊääÊüêÊ¨°ÂéÜÂè≤Êèê‰∫§ËÆ∞ÂΩïcheckoutÂá∫Êù•ÔºåÂàõÂª∫Êàê‰∏Ä‰∏™ÂàÜÊîØ git branch -d &lt;branch&gt; # Âà†Èô§Êüê‰∏™ÂàÜÊîØ git branch -D &lt;branch&gt; # Âº∫Âà∂Âà†Èô§Êüê‰∏™ÂàÜÊîØ (Êú™Ë¢´ÂêàÂπ∂ÁöÑÂàÜÊîØË¢´Âà†Èô§ÁöÑÊó∂ÂÄôÈúÄË¶ÅÂº∫Âà∂) Âº∫Ë°åÂàáÊç¢ÂàÜÊîØ git checkout -f branch_name Âº∫Âà∂checkoutÂàÜÊîØË¶ÜÁõñÊú¨Âú∞Êñá‰ª∂ git checkout -f branchname ÂàÜÊîØÂêàÂπ∂Âíårebase git merge &lt;branch&gt; # Â∞ÜbranchÂàÜÊîØÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØ git merge --no-ff &lt;branch&gt; # ‰∏çË¶ÅFast-FowardÂêàÂπ∂ÔºåËøôÊ†∑ÂèØ‰ª•ÁîüÊàêmergeÊèê‰∫§ git rebase master &lt;branch&gt; # Â∞Ümaster rebaseÂà∞branchÔºåÁõ∏ÂΩì‰∫éÔºö git checkout &lt;branch&gt; &amp;&amp; git rebase master &amp;&amp; git checkout master &amp;&amp; git merge &lt;branch&gt; Âú®Êàë‰ª¨Êìç‰ΩúËøáÁ®ã‰∏≠„ÄÇmergeÊìç‰ΩúÈÅáÂà∞ÂÜ≤Á™ÅÁöÑÊó∂ÂÄôÔºåÂΩìÂâçmerge‰∏çËÉΩÁªßÁª≠ËøõË°å‰∏ãÂéª„ÄÇÊâãÂä®‰øÆÊîπÂÜ≤Á™ÅÂÜÖÂÆπÂêéÔºåadd ‰øÆÊîπÔºåcommit Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ ËÄårebase Êìç‰ΩúÁöÑËØùÔºå‰ºö‰∏≠Êñ≠rebase,ÂêåÊó∂‰ºöÊèêÁ§∫ÂéªËß£ÂÜ≥ÂÜ≤Á™Å„ÄÇËß£ÂÜ≥ÂÜ≤Á™ÅÂêé,Â∞Ü‰øÆÊîπaddÂêéÊâßË°ågit rebase ‚ÄìcontinueÁªßÁª≠Êìç‰ΩúÔºåÊàñËÄÖgit rebase ‚ÄìskipÂøΩÁï•ÂÜ≤Á™Å„ÄÇ GitÊöÇÂ≠òÁÆ°ÁêÜ git stash # ÊöÇÂ≠ò git stash pop # ÊÅ¢Â§çÊöÇÂ≠ò git stash list # ÂàóÊâÄÊúâstash git stash apply # ÊÅ¢Â§çÊöÇÂ≠òÁöÑÂÜÖÂÆπ git stash drop # Âà†Èô§ÊöÇÂ≠òÂå∫ git stash(gsta)ÔºöÂ∞ÜÊâÄÊúâÊöÇÂ≠òÂå∫ÁöÑÊñá‰ª∂ÁßªÂä®Âà∞‚ÄúÂÇ®ËóèÂå∫‚ÄùÔºåÁ±ª‰ºº‰∫éÂè¶‰∏ÄÁßçÁ±ªÂûãÁöÑÂ∑•‰ΩúÂå∫ git stash listÔºöÊü•ÁúãÂÇ®ËóèÈòüÂàó(Stash lists) git stash applyÔºöÂ∞ÜÊúÄËøë‰∏ÄÊ¨°ÂÇ®ËóèÊÅ¢Â§çÂà∞ÊöÇÂ≠òÂå∫(ÂèØ‰ª•Áî®Á±ª‰ºº git stash apply stash@{num}(num‰ªé0ÂºÄÂßãËÆ°Êï∞) ÁöÑÂëΩ‰ª§Êù•‰ΩøÁî®Âú®ÈòüÂàó‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÂÇ®Ëóè(stashes)) git stash clearÔºöÊ∏ÖÁ©∫ÂÇ®ËóèÈòüÂàó git stash save ‚Äúname of the stash‚ÄùÔºö‰∏∫ÂÇ®ËóèËÆæÁΩÆÂëΩÂêç git stash pop(gstp)ÔºöÂ∞ÜÊúÄËøë‰∏ÄÊ¨°ÂÇ®ËóèÊÅ¢Â§çÂà∞ÊöÇÂ≠òÂå∫Âπ∂‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§Ê≠§ÂÇ®Ëóè git stash drop(gstd)Ôºö‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§ÊúÄËøë‰∏ÄÊ¨°ÂÇ®Ëóè(stash@{0})(git stash drop stash@{num} ‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§ÊåáÂÆöÂÇ®Ëóè) ËøúÁ®ãÂàÜÊîØÁÆ°ÁêÜ git pull # ÊäìÂèñËøúÁ®ã‰ªìÂ∫ìÊâÄÊúâÂàÜÊîØÊõ¥Êñ∞Âπ∂ÂêàÂπ∂Âà∞Êú¨Âú∞ git pull ‚Äìno-ff # ÊäìÂèñËøúÁ®ã‰ªìÂ∫ìÊâÄÊúâÂàÜÊîØÊõ¥Êñ∞Âπ∂ÂêàÂπ∂Âà∞Êú¨Âú∞Ôºå‰∏çË¶ÅÂø´ËøõÂêàÂπ∂ git fetch origin # ÊäìÂèñËøúÁ®ã‰ªìÂ∫ìÊõ¥Êñ∞ git merge origin/master # Â∞ÜËøúÁ®ã‰∏ªÂàÜÊîØÂêàÂπ∂Âà∞Êú¨Âú∞ÂΩìÂâçÂàÜÊîØ git checkout ‚Äìtrack origin/branch # Ë∑üË∏™Êüê‰∏™ËøúÁ®ãÂàÜÊîØÂàõÂª∫Áõ∏Â∫îÁöÑÊú¨Âú∞ÂàÜÊîØ git checkout -b &lt;local_branch&gt; origin/&lt;remote_branch&gt; # Âü∫‰∫éËøúÁ®ãÂàÜÊîØÂàõÂª∫Êú¨Âú∞ÂàÜÊîØÔºåÂäüËÉΩÂêå‰∏ä git push # pushÊâÄÊúâÂàÜÊîØ git push origin master # Â∞ÜÊú¨Âú∞‰∏ªÂàÜÊîØÊé®Âà∞ËøúÁ®ã‰∏ªÂàÜÊîØ git push -u origin master # Â∞ÜÊú¨Âú∞‰∏ªÂàÜÊîØÊé®Âà∞ËøúÁ®ã(Â¶ÇÊó†ËøúÁ®ã‰∏ªÂàÜÊîØÂàôÂàõÂª∫ÔºåÁî®‰∫éÂàùÂßãÂåñËøúÁ®ã‰ªìÂ∫ì) git push origin &lt;local_branch&gt; # ÂàõÂª∫ËøúÁ®ãÂàÜÊîØÔºå originÊòØËøúÁ®ã‰ªìÂ∫ìÂêç git push origin &lt;local_branch&gt;:&lt;remote_branch&gt; # ÂàõÂª∫ËøúÁ®ãÂàÜÊîØ git push origin :&lt;remote_branch&gt; #ÂÖàÂà†Èô§Êú¨Âú∞ÂàÜÊîØ(git br -d )ÔºåÁÑ∂ÂêéÂÜçpushÂà†Èô§ËøúÁ®ãÂàÜÊîØ gitÂà†Èô§ËøúÁ®ãÂàÜÊîØ git push origin Ôºöbranch-name //originÂâçÈù¢ÂøÖÈ°ªÊúâÁ©∫Ê†ºÔºåË°®Á§∫push‰∏Ä‰∏™Á©∫ÂàÜÊîØÂà∞ËøúÁ®ãÂàÜÊîØÔºåÂç≥ÂèØÂà†Èô§ËøúÁ®ãÂàÜÊîØ„ÄÇÊ≥®ÊÑèÔºöËøô‰∏™Êìç‰ΩúÈúÄË¶ÅÊã•Êúâforce pushÁöÑÊùÉÈôê Ê∏ÖÁ©∫gitÊöÇÂ≠òÂå∫ git reset HEAD //ÂèØ‰ª•Ê∏ÖÁ©∫‰πãÂâçgit add ÁöÑÂÜÖÂÆπ GitËøúÁ®ã‰ªìÂ∫ìÁÆ°ÁêÜ git remote -v # Êü•ÁúãËøúÁ®ãÊúçÂä°Âô®Âú∞ÂùÄÂíå‰ªìÂ∫ìÂêçÁß∞ git remote show origin # Êü•ÁúãËøúÁ®ãÊúçÂä°Âô®‰ªìÂ∫ìÁä∂ÊÄÅ git remote add origin git@github.com:ihoey/blog.git # Ê∑ªÂä†ËøúÁ®ã‰ªìÂ∫ìÂú∞ÂùÄ git remote set-url origin git@github.com:ihoey/blog.git # ËÆæÁΩÆËøúÁ®ã‰ªìÂ∫ìÂú∞ÂùÄ(Áî®‰∫é‰øÆÊîπËøúÁ®ã‰ªìÂ∫ìÂú∞ÂùÄ) git remote rm # Âà†Èô§ËøúÁ®ã‰ªìÂ∫ì ÂàõÂª∫ËøúÁ®ã‰ªìÂ∫ì git clone ‚Äìbare ihoey.com blog.git # Áî®Â∏¶ÁâàÊú¨ÁöÑÈ°πÁõÆÂàõÂª∫Á∫ØÁâàÊú¨‰ªìÂ∫ì scp -r my_blog.git git@ihoey.com:~ # Â∞ÜÁ∫Ø‰ªìÂ∫ì‰∏ä‰º†Âà∞ÊúçÂä°Âô®‰∏ä mkdir blog.git &amp;&amp; cd blog.git &amp;&amp; git ‚Äìbare init # Âú®ÊúçÂä°Âô®ÂàõÂª∫Á∫Ø‰ªìÂ∫ì git push -u origin master # ÂÆ¢Êà∑Á´ØÈ¶ñÊ¨°Êèê‰∫§ git push -u origin develop # È¶ñÊ¨°Â∞ÜÊú¨Âú∞developÂàÜÊîØÊèê‰∫§Âà∞ËøúÁ®ãdevelopÂàÜÊîØÔºåÂπ∂‰∏îtrack git remote set-head origin master # ËÆæÁΩÆËøúÁ®ã‰ªìÂ∫ìÁöÑHEADÊåáÂêëmasterÂàÜÊîØ ËÆæÁΩÆË∑üË∏™ËøúÁ®ãÂ∫ìÂíåÊú¨Âú∞Â∫ì git branch ‚Äìset-upstream master origin/master #master git branch ‚Äìset-upstream develop origin/develop #develop ÂÖ∂‰ªñÂëΩ‰ª§ mkdir XX #(ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁõÆÂΩï XXÊåáÁõÆÂΩïÂêç) pwd #ÊòæÁ§∫ÂΩìÂâçÁõÆÂΩïÁöÑË∑ØÂæÑ„ÄÇ cat XX #Êü•ÁúãXXÊñá‰ª∂ÂÜÖÂÆπ rm XX #Âà†Èô§Êñá‰ª∂ ÂëΩ‰ª§Âà´ÂêçËÆæÁΩÆ: gitk --all &amp; //ÊâìÂºÄgit ÂõæÂΩ¢ÂåñÁïåÈù¢ git fetch --all //Âà∑Êñ∞Â∑•‰ΩúÂå∫ git remote -v //Êü•ÁúãËøúÁ´ØÂú∞ÂùÄ git checkout -b dbg_master -t origin/master //Âü∫‰∫éËøúÁ´ØmasterÂàÜÊîØÂàõÂª∫dbg_masterÂàÜÊîØ git merge --squash &lt;branch&gt;ÔºöÂ∞ÜÂ§öÊ¨°Êèê‰∫§ÂêàÂπ∂Êàê‰∏Ä‰∏™ÔºåÁÑ∂Âêégit add .;git commit -m &quot;XXXXX&quot;;git push origin XXXX... git push # pushÊâÄÊúâÂàÜÊîØ git push origin master # Â∞ÜÊú¨Âú∞‰∏ªÂàÜÊîØÊé®Âà∞ËøúÁ®ã‰∏ªÂàÜÊîØ git push -u origin master # Â∞ÜÊú¨Âú∞‰∏ªÂàÜÊîØÊé®Âà∞ËøúÁ®ã(Â¶ÇÊó†ËøúÁ®ã‰∏ªÂàÜÊîØÂàôÂàõÂª∫ÔºåÁî®‰∫éÂàùÂßãÂåñËøúÁ®ã‰ªìÂ∫ì) git push origin &lt;local_branch&gt; # ÂàõÂª∫ËøúÁ®ãÂàÜÊîØÔºå originÊòØËøúÁ®ã‰ªìÂ∫ìÂêç git push origin local-branch #Â∞ÜÂΩìÂâçlocal-branch ÂàÜÊîØÊé®ÈÄÅ‰∏Ä‰∏™ËøúÁ®ãlocal-branchÂàÜÊîØÔºåÊú¨Âú∞ÂàÜÊîØÂíåËøúÁ®ãÂàÜÊîØÂêåÂêç git push origin &lt;local_branch&gt;:&lt;remote_branch&gt; # ÂàõÂª∫ËøúÁ®ãÂàÜÊîØÔºåÂ∞Ülocal_branch‰ª£Á†ÅÊé®ÈÄÅÂà∞remote_branchÂàÜÊîØ git push origin :&lt;remote_branch&gt; #ÂÖàÂà†Èô§Êú¨Âú∞ÂàÜÊîØ(git br -d &lt;branch&gt;)ÔºåÁÑ∂ÂêéÂÜçpushÂà†Èô§ËøúÁ®ãÂàÜÊîØ ÂØπÊúÄËøë‰∏ÄÊ¨°commitÁöÑËøõË°å‰øÆÊîπÔºögit commit -a ‚Äìamend Git pull Âº∫Âà∂Ë¶ÜÁõñÊú¨Âú∞Êñá‰ª∂ git fetch --all git reset --hard origin/master git pull git remote add origin https://git.oschina.net/duandaoke/os.gitË¶ÅÊ±ÇÊúçÂä°Â∑≤ÁªèÂª∫Á´ãÂêåÂêç‰ªìÂ∫ì git remote # ÊòæÁ§∫ËøúÁ®ã‰ªìÂ∫ì git remote -v # ÊòæÁ§∫ËøúÁ®ã‰ªìÂ∫ìËØ¶ÊÉÖ git remote show origin # ÊòæÁ§∫ origin ËøúÁ®ãÂ∫ìÁöÑËØ¶ÊÉÖ rebaseÁöÑÂÜ≤Á™ÅËß£ÂÜ≥ Ëß£ÂÜ≥ÂÆå‰∏Ä‰∏™Ë°•‰∏ÅÂ∫îÁî®ÁöÑÂÜ≤Á™ÅÂêéÔºåÊâßË°å‰∏ãÈù¢ÂëΩ‰ª§Ê†áËÆ∞ÂÜ≤Á™ÅÂ∑≤Ëß£ÂÜ≥Ôºà‰πüÂ∞±ÊòØÊää‰øÆÊîπÂÜÖÂÆπÂä†ÂÖ•ÁºìÂ≠òÔºâ git add -u //Ê≥®Ôºö-u Ë°®Á§∫ÊääÊâÄÊúâÂ∑≤trackÁöÑÊñá‰ª∂ÁöÑÊñ∞ÁöÑ‰øÆÊîπÂä†ÂÖ•ÁºìÂ≠òÔºå‰ΩÜ‰∏çÂä†ÂÖ•Êñ∞ÁöÑÊñá‰ª∂„ÄÇ ÁÑ∂ÂêéÊâßË°å‰∏ãÈù¢ÂëΩ‰ª§ÁªßÁª≠rebaseÔºö git rebase --continue //ÊúâÂÜ≤Á™ÅÁªßÁª≠Ëß£ÂÜ≥ÔºåÈáçÂ§çËøôËøô‰∫õÊ≠•È™§ÔºåÁõ¥Âà∞rebaseÂÆåÊàê„ÄÇ Â¶ÇÊûú‰∏≠Èó¥ÈÅáÂà∞Êüê‰∏™Ë°•‰∏Å‰∏çÈúÄË¶ÅÂ∫îÁî®ÔºåÂèØ‰ª•Áî®‰∏ãÈù¢ÂëΩ‰ª§ÂøΩÁï•Ôºö git rebase --skip Â¶ÇÊûúÊÉ≥ÂõûÂà∞rebaseÊâßË°å‰πãÂâçÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊâßË°åÔºö git rebase --abort //ÊîæÂºÉrebase Ê≥®Ôºörebase‰πãÂêéÔºå‰∏çÈúÄË¶ÅÊâßË°åcommitÔºå‰πü‰∏çÂ≠òÂú®Êñ∞ÁöÑ‰øÆÊîπÈúÄË¶ÅÊèê‰∫§ÔºåÈÉΩÊòØgitËá™Âä®ÂÆåÊàê„ÄÇ cherry-pickÁöÑÂÜ≤Á™ÅËß£ÂÜ≥ Ëß£ÂÜ≥ÂÆå‰∏Ä‰∏™Ë°•‰∏ÅÂ∫îÁî®ÁöÑÂÜ≤Á™ÅÂêéÔºåÊâßË°å‰∏ãÈù¢ÂëΩ‰ª§Ê†áËÆ∞ÂÜ≤Á™ÅÂ∑≤Ëß£ÂÜ≥Ôºà‰πüÂ∞±ÊòØÊää‰øÆÊîπÂÜÖÂÆπÂä†ÂÖ•ÁºìÂ≠òÔºâ git add -u //Ê≥®Ôºö-u Ë°®Á§∫ÊääÊâÄÊúâÂ∑≤trackÁöÑÊñá‰ª∂ÁöÑÊñ∞ÁöÑ‰øÆÊîπÂä†ÂÖ•ÁºìÂ≠òÔºå‰ΩÜ‰∏çÂä†ÂÖ•Êñ∞ÁöÑÊñá‰ª∂„ÄÇ ÁÑ∂ÂêéÊâßË°å‰∏ãÈù¢ÂëΩ‰ª§ÁªßÁª≠rebaseÔºö git cherry-pick --continue //ÊúâÂÜ≤Á™ÅÁªßÁª≠Ëß£ÂÜ≥ÔºåÈáçÂ§çËøôËøô‰∫õÊ≠•È™§ÔºåÁõ¥Âà∞cherry-pickÂÆåÊàê„ÄÇ Â¶ÇÊûú‰∏≠Èó¥ÈÅáÂà∞Êüê‰∏™Ë°•‰∏Å‰∏çÈúÄË¶ÅÂ∫îÁî®ÔºåÂèØ‰ª•Áî®‰∏ãÈù¢ÂëΩ‰ª§ÂøΩÁï•Ôºö git cherry-pick --skip Â¶ÇÊûúÊÉ≥ÂõûÂà∞rebaseÊâßË°å‰πãÂâçÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊâßË°åÔºö git cherry-pick --abort //ÊîæÂºÉcherry-pick Ê≥®Ôºöcherry-pick‰πãÂêéÔºå‰∏çÈúÄË¶ÅÊâßË°åcommitÔºå‰πü‰∏çÂ≠òÂú®Êñ∞ÁöÑ‰øÆÊîπÈúÄË¶ÅÊèê‰∫§ÔºåÈÉΩÊòØgitËá™Âä®ÂÆåÊàê„ÄÇ ÊâãÂä®ÁºñËæëÂÜ≤Á™ÅÁöÑÊñá‰ª∂Ôºå‰ΩøÂÖ∂ÂÜÖÂÆπÂíåmaster_mlcÂàÜÊîØ‰∏äÁöÑÂÜÖÂÆπ‰∏ÄËá¥Ôºå ÁÑ∂Âêégit addÊ≠§Êñá‰ª∂ÔºåÊúÄÂêéÊâßË°ågit cherry-pick ‚ÄìcontinueÂç≥ÂèØ„ÄÇ 1„ÄÅgitÂà†Èô§ËøúÁ®ãÂàÜÊîØ git push origin Ôºöbranch-name //originÂâçÈù¢ÂøÖÈ°ªÊúâÁ©∫Ê†ºÔºåË°®Á§∫push‰∏Ä‰∏™Á©∫ÂàÜÊîØÂà∞ËøúÁ®ãÂàÜÊîØÔºåÂç≥ÂèØÂà†Èô§ËøúÁ®ãÂàÜÊîØ„ÄÇÊ≥®ÊÑèÔºöËøô‰∏™Êìç‰ΩúÈúÄË¶ÅÊã•Êúâforce pushÁöÑÊùÉÈôê 2„ÄÅÊ∏ÖÁ©∫gitÊöÇÂ≠òÂå∫ git reset HEAD //ÂèØ‰ª•Ê∏ÖÁ©∫‰πãÂâçgit add ÁöÑÂÜÖÂÆπ git cleanÂëΩ‰ª§Áî®Êù•‰ªé‰Ω†ÁöÑÂ∑•‰ΩúÁõÆÂΩï‰∏≠Âà†Èô§ÊâÄÊúâÊ≤°ÊúâtrackedËøáÁöÑÊñá‰ª∂. git cleanÁªèÂ∏∏Âíågit reset --hard‰∏ÄËµ∑ÁªìÂêà‰ΩøÁî®. ËÆ∞‰ΩèresetÂè™ÂΩ±ÂìçË¢´trackËøáÁöÑÊñá‰ª∂, ÊâÄ‰ª•ÈúÄË¶ÅcleanÊù•Âà†Èô§Ê≤°ÊúâtrackËøáÁöÑÊñá‰ª∂. ÁªìÂêà‰ΩøÁî®Ëøô‰∏§‰∏™ÂëΩ‰ª§ËÉΩËÆ©‰Ω†ÁöÑÂ∑•‰ΩúÁõÆÂΩïÂÆåÂÖ®ÂõûÂà∞‰∏Ä‰∏™ÊåáÂÆöÁöÑ&lt;commit&gt;ÁöÑÁä∂ÊÄÅ. Áî®Ê≥ï Âà†Èô§ÂΩìÂâçÁõÆÂΩï‰∏ãÊ≤°ÊúâË¢´trackËøáÁöÑÊñá‰ª∂ÂíåÊñá‰ª∂Â§π. git clean -xf ‰∏ãÈù¢ÁöÑ‰æãÂ≠êË¶ÅÂà†Èô§ÊâÄÊúâÂ∑•‰ΩúÁõÆÂΩï‰∏ãÈù¢ÁöÑ‰øÆÊîπ, ÂåÖÊã¨Êñ∞Ê∑ªÂä†ÁöÑÊñá‰ª∂. ÂÅáËÆæ‰Ω†Â∑≤ÁªèÊèê‰∫§‰∫Ü‰∏Ä‰∫õÂø´ÁÖß‰∫Ü, ËÄå‰∏îÂÅö‰∫Ü‰∏Ä‰∫õÊñ∞ÁöÑÂºÄÂèë. git reset --hard git clean -df ËøêË°åÂêé, Â∑•‰ΩúÁõÆÂΩïÂíåÁºìÂ≠òÂå∫ÂõûÂà∞ÊúÄËøë‰∏ÄÊ¨°commitÊó∂ÂÄô‰∏ÄÊë∏‰∏ÄÊ†∑ÁöÑÁä∂ÊÄÅ, git status‰ºöÂëäËØâ‰Ω†ËøôÊòØ‰∏Ä‰∏™Âπ≤ÂáÄÁöÑÂ∑•‰ΩúÁõÆÂΩï, ÂèàÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÂºÄÂßã‰∫Ü. git config --global gui.encoding utf-8 //Âú®git GUI‰∏≠‰ΩøÁî®UTF-8ÁºñÁ†Å //git ÂõûÊªöÂà∞‰πãÂâçÊüê‰∏Äcommit git reset ‚Äìhard 8ff24a6803173208f3e606e32dfcf82db9ac84d8 Âú®‰ΩøÁî®GitÁöÑÊó∂ÂÄô,ÁªèËøáÂá†Ê¨°Êèê‰∫§Âêé,ÂèëÁé∞ÈúÄË¶ÅÂõûÈÄÄÂà∞Êó©‰∫õÊó∂ÂÄôÁöÑÁä∂ÊÄÅ.‰æãÂ¶Ç: 7edb8524a xxxxxxxxxxxxxxxxxx 83dae5691 xxxxxxxxxxxxxxxxxx 45eadd642 xxxxxxxxxxxxxxxxxx 657834ade xxxxxxxxxxxxxxxxxx ÂÅáËÆæÁé∞Âú®Â§Ñ‰∫é7edb8524a Áä∂ÊÄÅ,Áé∞Âú®ÊàëÊÉ≥ÂõûÈÄÄÂà∞657834adeÊó∂ÁöÑÁä∂ÊÄÅ,Ê≠§Êó∂ÂèØ‰ª• git reset ‚Äìhard 7edb8524a ÁÑ∂Âêé git reset ‚Äìsoft 657834ade ‰ºöÂ∞Ü‰πãÈó¥ÁöÑ‰øÆÊîπÂÖ®ÈÉ®ËøõË°årevert,ÁÑ∂ÂêéÂú®ËøõË°åadd commitÊìç‰ΩúÂ∞±Ë°å‰∫Ü. Âè¶Â§ñÊùÉÈôêË∂≥Â§üÁöÑËØù,ÂèØ‰ª•‰ªé657834ade Êãâ‰∏Ä‰∏™ÂàÜÊîØÂá∫Êù•,ÁÑ∂ÂêéÂ∞ÜËøúÁ®ãÂàÜÊîØ Âà†Èô§,ÂÜçÂ∞ÜÊãâÂá∫Êù•ÁöÑÂàÜÊîØpushÂà∞ËøúÁ®ã‰ªìÂ∫ì‰∏ä,Êàê‰∏∫ÂéüÊù•ÁöÑÂàÜÊîØ,‰πüÂèØ‰ª•ÂÆûÁé∞ÂõûÈÄÄÂà∞ 657834ade ÁöÑÁõÆÁöÑ.Ê≠§ÊñπÊ≥ï‰∏ç‰ºö‰øùÁïô‰∏≠Èó¥ÁöÑÂêÑÁßç‰øÆÊîπ‰ø°ÊÅØÂíåÁä∂ÊÄÅ. Ê†πÊçÆ‚Äìsoft ‚Äìmixed ‚ÄìhardÔºå‰ºöÂØπworking treeÂíåindexÂíåHEADËøõË°åÈáçÁΩÆ: git reset ‚ÄìmixedÔºöÊ≠§‰∏∫ÈªòËÆ§ÊñπÂºèÔºå‰∏çÂ∏¶‰ªª‰ΩïÂèÇÊï∞ÁöÑgit resetÔºåÂç≥Êó∂ËøôÁßçÊñπÂºèÔºåÂÆÉÂõûÈÄÄÂà∞Êüê‰∏™ÁâàÊú¨ÔºåÂè™‰øùÁïôÊ∫êÁ†ÅÔºåÂõûÈÄÄcommitÂíåindex‰ø°ÊÅØ git reset ‚ÄìsoftÔºöÂõûÈÄÄÂà∞Êüê‰∏™ÁâàÊú¨ÔºåÂè™ÂõûÈÄÄ‰∫ÜcommitÁöÑ‰ø°ÊÅØÔºå‰∏ç‰ºöÊÅ¢Â§çÂà∞index file‰∏ÄÁ∫ß„ÄÇÂ¶ÇÊûúËøòË¶ÅÊèê‰∫§ÔºåÁõ¥Êé•commitÂç≥ÂèØ git reset ‚ÄìhardÔºöÂΩªÂ∫ïÂõûÈÄÄÂà∞Êüê‰∏™ÁâàÊú¨ÔºåÊú¨Âú∞ÁöÑÊ∫êÁ†Å‰πü‰ºöÂèò‰∏∫‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÁöÑÂÜÖÂÆπ Â∑≤Áªèpush ÂØπ‰∫éÂ∑≤ÁªèÊää‰ª£Á†ÅpushÂà∞Á∫ø‰∏ä‰ªìÂ∫ì,‰Ω†ÂõûÈÄÄÊú¨Âú∞‰ª£Á†ÅÂÖ∂ÂÆû‰πüÊÉ≥ÂêåÊó∂ÂõûÈÄÄÁ∫ø‰∏ä‰ª£Á†Å,ÂõûÊªöÂà∞Êüê‰∏™ÊåáÂÆöÁöÑÁâàÊú¨,Á∫ø‰∏ä,Á∫ø‰∏ã‰ª£Á†Å‰øùÊåÅ‰∏ÄËá¥.‰Ω†Ë¶ÅÁî®Âà∞‰∏ãÈù¢ÁöÑÂëΩ‰ª§ revert git revertÁî®‰∫éÂèçËΩ¨Êèê‰∫§,ÊâßË°åevertÂëΩ‰ª§Êó∂Ë¶ÅÊ±ÇÂ∑•‰ΩúÊ†ëÂøÖÈ°ªÊòØÂπ≤ÂáÄÁöÑ. git revertÁî®‰∏Ä‰∏™Êñ∞Êèê‰∫§Êù•Ê∂àÈô§‰∏Ä‰∏™ÂéÜÂè≤Êèê‰∫§ÊâÄÂÅöÁöÑ‰ªª‰Ωï‰øÆÊîπ. revert ‰πãÂêé‰Ω†ÁöÑÊú¨Âú∞‰ª£Á†Å‰ºöÂõûÊªöÂà∞ÊåáÂÆöÁöÑÂéÜÂè≤ÁâàÊú¨,ËøôÊó∂‰Ω†ÂÜç git push Êó¢ÂèØ‰ª•ÊääÁ∫ø‰∏äÁöÑ‰ª£Á†ÅÊõ¥Êñ∞.(ËøôÈáå‰∏ç‰ºöÂÉèresetÈÄ†ÊàêÂÜ≤Á™ÅÁöÑÈóÆÈ¢ò) revert ‰ΩøÁî®,ÈúÄË¶ÅÂÖàÊâæÂà∞‰Ω†ÊÉ≥ÂõûÊªöÁâàÊú¨ÂîØ‰∏ÄÁöÑcommitÊ†áËØÜ‰ª£Á†Å,ÂèØ‰ª•Áî® git log ÊàñËÄÖÂú®adgitÊê≠Âª∫ÁöÑwebÁéØÂ¢ÉÂéÜÂè≤Êèê‰∫§ËÆ∞ÂΩïÈáåÊü•Áúã. git revert c011eb3c20ba6fb38cc94fe5a8dda366a3990c61 ÈÄöÂ∏∏,ÂâçÂá†‰ΩçÂç≥ÂèØ git revert c011eb3 git revertÊòØÁî®‰∏ÄÊ¨°Êñ∞ÁöÑcommitÊù•ÂõûÊªö‰πãÂâçÁöÑcommitÔºågit resetÊòØÁõ¥Êé•Âà†Èô§ÊåáÂÆöÁöÑcommit Áúã‰ººËææÂà∞ÁöÑÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ,ÂÖ∂ÂÆûÂÆåÂÖ®‰∏çÂêå. ÂêàÁêÜÁöÑÂëΩ‰ª§Âà´ÂêçËÆæÁΩÆÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞ëËæìÂÖ•ÔºåÊúâÂä©‰∫éÊèêÈ´òÂ∑•‰ΩúÊïàÁéáÔºåÂª∫ËÆÆÈÅµÂÆà‰∏ãËø∞Âà´ÂêçËÆæÁΩÆÔºö git config --global alias.ci commit git config --global alias.co checkout git config --global alias.st status git config --global alias.rb rebase git config --global alias.ll ‚Äúlog --oneline --decorate --color‚Äù git config --global alias.lc ‚Äúlog --graph --color‚Äù Ê≠£Á°ÆÁöÑÂõûËΩ¶Êç¢Ë°åËÆæÁΩÆÔºåÈÅøÂÖç Unix Âíå Windows ‰∏ãÂºÄÂèëÁöÑÂõûËΩ¶Êç¢Ë°åÁöÑËΩ¨Êç¢ÈóÆÈ¢ò„ÄÇ (Windows ‰∏ã) git config --global core.autocrlf true git config --global core. safecrlf warn (Linux ‰∏ã) git config --global core.autocrlf input git config --global core. safecrlf warn Âü∫Êú¨ÂëΩ‰ª§ git config --global user.name &quot;Your Name&quot; git config --global user.email &quot;youremail@example.com&quot; git config --global core.editor &lt;your favorite editor here&gt; Ex: git config --global core.editor vim git initÔºöÂàùÂßãÂåñ‰∏Ä‰∏™repoÔºåÂàùÂßãÂåñÊú¨Âú∞git‰ªìÂ∫ìÔºàÂàõÂª∫Êñ∞‰ªìÂ∫ìÔºâ Commit ÁªìÊûÑ git status(gst)ÔºöÊü•Áúã repo Áä∂ÊÄÅ Â∑•‰ΩúÂå∫Ôºö .git ÁõÆÂΩï ÊöÇÂ≠òÂå∫ Â∑•‰ΩúÁõÆÂΩï git add &lt;filename&gt;(ga)ÔºöÊ∑ªÂä†‰∏Ä‰∏™Êñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ git add .(gaa)ÔºöÊ∑ªÂä†ÊâÄÊúâÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ git add *.jsÔºöÊ∑ªÂä†ÊâÄÊúâÂêéÁºÄ‰∏∫jsÁöÑÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ git rm --cached &lt;file&gt;Ôºö‰ªéÊöÇÂ≠òÂå∫Âà†Èô§‰∏Ä‰∏™Êñ∞Êñá‰ª∂ git commit -m &quot;My first commit&quot;(gcmsg)ÔºöÂàõÂª∫‰∏ÄÊ¨°Â∏¶ message ÁöÑÊèê‰∫§ git commit -v -a(gca)Ôºö -vÊòØ verbose ÁöÑÁº©ÂÜôÔºå‰ºöÂú®Â∫ïÈÉ®ÊòæÁ§∫Â∑ÆÂºÇ‰ø°ÊÅØÂíåÊõ¥Â§öÊúâÊÑè‰πâÁöÑ‰ø°ÊÅØ -a Á±ª‰ºº‰∫é git add .Ôºå‰ºöÊ∑ªÂä†ÊâÄÊúâË¢´‰øÆÊîπÂíåÂà†Èô§ÁöÑÊñá‰ª∂Ôºå‰ΩÜ‰ºöÂøΩÁï•Êñ∞ÂàõÂª∫ÁöÑÊñá‰ª∂ git help &lt;command&gt;ÔºöÊü•ÁúãÂØπÂ∫îÂëΩ‰ª§ÁöÑÂ∏ÆÂä©ÊâãÂÜå git log(glg,glgg,glo, glog)ÔºöÊü•ÁúãÈ°πÁõÆÁöÑÊèê‰∫§ÂéÜÂè≤ ÊöÇÂ≠òÂå∫ÁÆ°ÁêÜ git reset HEAD &lt;filename&gt;(grh)Ôºö‰ªéÊöÇÂ≠òÂå∫Âà†Èô§‰∏Ä‰∏™Ë¢´‰øÆÊîπÁöÑÊñá‰ª∂ git reset HEAD(grh)Ôºö‰ªéÊöÇÂ≠òÂå∫Âà†Èô§ÊâÄÊúâË¢´‰øÆÊîπÁöÑÊñá‰ª∂ git checkout &lt;filename&gt;(gco)Ôºö‰ªéÊöÇÂ≠òÂå∫Âà†Èô§‰∏Ä‰∏™Ë¢´‰øÆÊîπÁöÑÊñá‰ª∂ÔºåÂπ∂Êí§ÈîÄÊñá‰ª∂ÁöÑÊõ¥Êîπ // git checkout . git commit -m &quot;My first commit&quot; --amendÔºöÊ∑ªÂä†Êñá‰ª∂/Êõ¥ÊîπÂú®ÊöÇÂ≠òÂå∫ÁöÑÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ git commit -v -a --amend(gca!)ÔºöÊ∑ªÂä†Êñá‰ª∂/Êõ¥ÊîπÂú®ÊöÇÂ≠òÂå∫ÁöÑÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ .gitignoreÔºöÂëäËØâgitÔºåÂì™‰∫õÊñá‰ª∂‰∏çË¢´Âä†ÂÖ•ÁâàÊú¨Ë∑üË∏™ ÂèØ‰ª•‰ΩøÁî® git add &lt;filename&gt; -f ÂëΩ‰ª§Ê∑ªÂä†‰∏Ä‰∏™‰∏çË¢´ÁâàÊú¨Ë∑üË∏™ÁöÑÊñá‰ª∂ git diff &lt;filename&gt;(gd)ÔºöÊü•ÁúãÂü∫‰∫éÂΩìÂâçÊñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÊõ¥ÊîπÂ∑ÆÂºÇ git diff (gd)ÔºöÊü•ÁúãÂü∫‰∫éÊâÄÊúâÊñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÊõ¥ÊîπÂ∑ÆÂºÇ git reset HEAD~2 --softÔºö‰ªéÈ°πÁõÆÊèê‰∫§ÂéÜÂè≤‰∏≠Âà†Èô§ÊúÄËøë‰∏§Ê¨°Êèê‰∫§Ôºå‰ΩÜ‰∏ç‰∏¢ÂºÉÊñá‰ª∂ÁöÑÊõ¥Êîπ git reset HEAD~2 --hardÔºö‰ªéÈ°πÁõÆÊèê‰∫§ÂéÜÂè≤‰∏≠Âà†Èô§ÊúÄËøë‰∏§Ê¨°Êèê‰∫§Ôºå‰ΩÜ‰ºö‰∏¢ÂºÉÊñá‰ª∂ÁöÑÊõ¥ÊîπÂíåÂú®(ÊúÄÂêé‰∏§Ê¨°)Êèê‰∫§‰∏≠ÂàõÂª∫ÁöÑÊñ∞Êñá‰ª∂ git reset &lt;commit&gt; --soft --hardÔºö --softÔºöÂ∞ÜÊâÄÊúâË¢´Êõ¥ÊîπÁöÑÊñá‰ª∂ÂõûÊ∫ØÂà∞‚ÄúÂæÖÊèê‰∫§‚ÄùÁä∂ÊÄÅ --hardÔºöcommit ‰πãÂêéÔºåÂØπË¢´gitËøΩË∏™ÁöÑÊñá‰ª∂ÁöÑ‰ªª‰ΩïÊõ¥ÊîπÈÉΩË¢´‰∏¢ÂºÉ git reflogÔºöÊòæÁ§∫ÂåÖÊã¨&quot;Ë¢´Êí§ÈîÄ&quot;Âú®ÂÜÖÁöÑÊâÄÊúâÊèê‰∫§ git merge &lt;commit hash&gt;ÔºöÈáçÊñ∞Êèê‰∫§(restore the commit) git clean -fÔºöÂà†Èô§Â∑•‰ΩúÁõÆÂΩï‰∏≠‰∏çË¢´gitËøõË°åÁâàÊú¨ËøΩË∏™ÁöÑÊñá‰ª∂ Stashed &amp; BranchesStash git stash(gsta)ÔºöÂ∞ÜÊâÄÊúâÊöÇÂ≠òÂå∫ÁöÑÊñá‰ª∂ÁßªÂä®Âà∞‚ÄúÂÇ®ËóèÂå∫‚ÄùÔºåÁ±ª‰ºº‰∫éÂè¶‰∏ÄÁßçÁ±ªÂûãÁöÑÂ∑•‰ΩúÂå∫ git stash listÔºöÊü•ÁúãÂÇ®ËóèÈòüÂàó(Stash lists) git stash applyÔºöÂ∞ÜÊúÄËøë‰∏ÄÊ¨°ÂÇ®ËóèÊÅ¢Â§çÂà∞ÊöÇÂ≠òÂå∫(ÂèØ‰ª•Áî®Á±ª‰ºº git stash apply stash@{num}(num‰ªé0ÂºÄÂßãËÆ°Êï∞) ÁöÑÂëΩ‰ª§Êù•‰ΩøÁî®Âú®ÈòüÂàó‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÂÇ®Ëóè(stashes)) git stash clearÔºöÊ∏ÖÁ©∫ÂÇ®ËóèÈòüÂàó git stash save &quot;name of the stash&quot;Ôºö‰∏∫ÂÇ®ËóèËÆæÁΩÆÂëΩÂêç git stash pop(gstp)ÔºöÂ∞ÜÊúÄËøë‰∏ÄÊ¨°ÂÇ®ËóèÊÅ¢Â§çÂà∞ÊöÇÂ≠òÂå∫Âπ∂‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§Ê≠§ÂÇ®Ëóè git stash drop(gstd)Ôºö‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§ÊúÄËøë‰∏ÄÊ¨°ÂÇ®Ëóè(stash@{0})(git stash drop stash@{num} ‰ªéÂÇ®ËóèÈòüÂàóÂà†Èô§ÊåáÂÆöÂÇ®Ëóè) Branch git checkout -b dev(gco)ÔºöÂàõÂª∫ dev ÂàÜÊîØÂπ∂‰ªéÂΩìÂâçÂàÜÊîØÂàáÊç¢Âà∞ dev ÂàÜÊîØ // git checkout -b dbg_master -t origin/master //Âü∫‰∫émasterÂàÜÊîØÂàõÂª∫dbg_masterÂàÜÊîØ git branch(gb)ÔºöÊü•ÁúãÊâÄÊúâÂàÜÊîØ git checkout master(gcm)ÔºöÂàáÊç¢Âà∞‰∏ªÂàÜÊîØ git merge &lt;branch&gt;(gm)ÔºöÂêàÂπ∂ÂàÜÊîØ git rebase masterÔºöÂÖàÂ∞Ü master ‰∏äÁöÑÊõ¥ÊîπÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØÔºåÂÜçÊ∑ªÂä†ÂΩìÂâçÂàÜÊîØÁöÑÊõ¥Êîπ„ÄÇÂ¶ÇÊûúÊúâÂÜ≤Á™ÅÔºåËß£ÂÜ≥ÂÜ≤Á™ÅÂêéÂä† --continue ÂèÇÊï∞ÁªßÁª≠ÂêàÂπ∂ git branch -d &lt;branch&gt;Ôºö Âà†Èô§ÂàÜÊîØÔºå-D ÂàôÂº∫Âà∂Âà†Èô§ÂàÜÊîØ git merge &lt;branch&gt; --squashÔºöÂ∞ÜÂ§öÊ¨°Êèê‰∫§ÂêàÂπ∂Êàê‰∏Ä‰∏™ÔºåÂÖ∂ÊµÅÁ®ãÂ¶Ç‰∏ãÔºö # Go to the `master` branch git checkout master # Create a temp branch git checkout -b temp # Merge the feature/x branch into the temp using --squash git merge feature/x --squash # See the new modifications/files in the Staging Area git status # Create the unified commit git commit -m &quot;Add feature/x&quot; # Delete the feature/x branch git branch -D feature/x rebase Âíå merge ÁöÑÂå∫Âà´Ôºö rebase: Êèê‰∫§ÂéÜÂè≤(ÁöÑÂ±ïÁ§∫)ÊòØÁ∫øÊÄßÁöÑ Áº∫ÁÇπÔºö‰ºöÂà†Èô§ÊúÄËøë‰∏Ä‰∏™ commitÔºåÁÑ∂ÂêéÂàõÂª∫‰∏ÄÊ¨°Êñ∞ÁöÑ commit Â¶ÇÊûúÂ∑≤Êèê‰∫§Âà∞ËøúÁ®ãÔºå‰∏çË¶Å‰ΩøÁî® rebase merge: Êèê‰∫§ÂéÜÂè≤(ÁöÑÂ±ïÁ§∫)ÊòØÂàÜÂèâÁöÑ ÂØπ‰∫é‰∏§‰∏™ÂàÜÊîØÁöÑÂêàÂπ∂Ôºå‰ºöÂàõÂª∫‰∏Ä‰∏™Ê¨°Êñ∞ÁöÑ commit ËøúÁ®ã‰ªìÂ∫ìÁÆ°ÁêÜ git remote add &lt;name&gt; &lt;url&gt;ÔºöÊ∑ªÂä†‰∏Ä‰∏™Â∞ÜË¢´ËøΩË∏™ÁöÑËøúÁ®ã‰ªìÂ∫ì git remote rm &lt;name&gt;ÔºöÁßªÈô§‰∏Ä‰∏™ËøúÁ®ã‰ªìÂ∫ì git push &lt;remote&gt; &lt;remote-branch&gt;(gp,ggp)ÔºöÂ∞ÜÂΩìÂâçÂàÜÊîØÁöÑÊú¨Âú∞ commit Êé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ì git fetch &lt;remote&gt; &lt;remote-branch&gt;ÔºöÊãâÂèñËøúÁ®ã‰ªìÂ∫ìÁöÑÊúÄÊñ∞ commit Âà∞ÂΩìÂâç(Êú¨Âú∞)ÂàÜÊîØ(&lt;remote&gt;/&lt;branch&gt;)Ôºå‰∏ç‰ºöÂêàÂπ∂ git pull &lt;remote&gt; &lt;remote-branch&gt;(gl,ggl)ÔºöÊãâÂèñËøúÁ®ã‰ªìÂ∫ìÁöÑÊúÄÊñ∞ commit Âà∞ÂΩìÂâç(Êú¨Âú∞)ÂàÜÊîØÔºåÂπ∂Ëá™Âä® merge git pull --rebase(gup)Ôºö‰ª• rebase ÁöÑÊñπÂºèËøõË°åÂêàÂπ∂ÔºåËÄå‰∏çÊòØ merge ÂÖ∂ÂÆÉÊúâÁî®ÁöÑÂëΩ‰ª§ git tag &lt;name&gt;ÔºöÂàõÂª∫‰∏Ä‰∏™ tag(Â¶ÇÔºöv1.3) git push --tagsÔºöÂ∞ÜÊú¨Âú∞ tags Êé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ì git push &lt;tag&gt;ÔºöÊé®ÈÄÅÊåáÂÆöÁöÑÊú¨Âú∞ tag Âà∞ËøúÁ®ã Â±ïÁ§∫Â∏ÆÂä©‰ø°ÊÅØ git help -g ÂõûÂà∞ËøúÁ®ã‰ªìÂ∫ìÁöÑÁä∂ÊÄÅ ÊäõÂºÉÊú¨Âú∞ÊâÄÊúâÁöÑ‰øÆÊîπÔºåÂõûÂà∞ËøúÁ®ã‰ªìÂ∫ìÁöÑÁä∂ÊÄÅ„ÄÇ git fetch --all &amp;&amp; git reset --hard origin/master ÈáçËÆæÁ¨¨‰∏Ä‰∏™commit ‰πüÂ∞±ÊòØÊääÊâÄÊúâÁöÑÊîπÂä®ÈÉΩÈáçÊñ∞ÊîæÂõûÂ∑•‰ΩúÂå∫ÔºåÂπ∂Ê∏ÖÁ©∫ÊâÄÊúâÁöÑcommitÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈáçÊñ∞Êèê‰∫§Á¨¨‰∏Ä‰∏™commit‰∫Ü git update-ref -d HEAD Â±ïÁ§∫Â∑•‰ΩúÂå∫ÂíåÊöÇÂ≠òÂå∫ÁöÑ‰∏çÂêå ËæìÂá∫Â∑•‰ΩúÂå∫ÂíåÊöÇÂ≠òÂå∫ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff ËøòÂèØ‰ª•Â±ïÁ§∫Êú¨Âú∞‰ªìÂ∫ì‰∏≠‰ªªÊÑè‰∏§‰∏™commit‰πãÈó¥ÁöÑÊñá‰ª∂ÂèòÂä®Ôºö git diff &lt;commit-id&gt; &lt;commit-id&gt; Â±ïÁ§∫ÊöÇÂ≠òÂå∫ÂíåÊúÄËøëÁâàÊú¨ÁöÑ‰∏çÂêå ËæìÂá∫ÊöÇÂ≠òÂå∫ÂíåÊú¨Âú∞ÊúÄËøëÁöÑÁâàÊú¨(commit)ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff --cached Â±ïÁ§∫ÊöÇÂ≠òÂå∫„ÄÅÂ∑•‰ΩúÂå∫ÂíåÊúÄËøëÁâàÊú¨ÁöÑ‰∏çÂêå ËæìÂá∫Â∑•‰ΩúÂå∫„ÄÅÊöÇÂ≠òÂå∫ ÂíåÊú¨Âú∞ÊúÄËøëÁöÑÁâàÊú¨(commit)ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff HEAD Âø´ÈÄüÂàáÊç¢ÂàÜÊîØ git checkout - Âà†Èô§Â∑≤ÁªèÂêàÂπ∂Âà∞masterÁöÑÂàÜÊîØ git branch --merged master | grep -v &apos;^\*\| master&apos; | xargs -n 1 git branch -d Â±ïÁ§∫Êú¨Âú∞ÂàÜÊîØÂÖ≥ËÅîËøúÁ®ã‰ªìÂ∫ìÁöÑÊÉÖÂÜµ git branch -vv ÂÖ≥ËÅîËøúÁ®ãÂàÜÊîØ ÂÖ≥ËÅî‰πãÂêéÔºågit branch -vvÂ∞±ÂèØ‰ª•Â±ïÁ§∫ÂÖ≥ËÅîÁöÑËøúÁ®ãÂàÜÊîØÂêç‰∫ÜÔºåÂêåÊó∂Êé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ìÁõ¥Êé•Ôºögit pushÔºå‰∏çÈúÄË¶ÅÊåáÂÆöËøúÁ®ã‰ªìÂ∫ì‰∫Ü„ÄÇ git branch -u origin/mybranch ÊàñËÄÖÂú®pushÊó∂Âä†‰∏ä-uÂèÇÊï∞ git push origin/mybranch -u ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØ -lÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºölocal git branch -l ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ -rÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºöremote git branch -r ÂàóÂá∫Êú¨Âú∞ÂíåËøúÁ®ãÂàÜÊîØ -aÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºöall git branch -a ÂàõÂª∫Âπ∂ÂàáÊç¢Âà∞Êú¨Âú∞ÂàÜÊîØ git checkout -b &lt;branch-name&gt; ÂàõÂª∫Âπ∂ÂàáÊç¢Âà∞ËøúÁ®ãÂàÜÊîØ git checkout -b &lt;branch-name&gt; -t origin/&lt;branch-name&gt; Âà†Èô§Êú¨Âú∞ÂàÜÊîØ git branch -d &lt;local-branchname&gt; Âà†Èô§ËøúÁ®ãÂàÜÊîØ git push origin --delete &lt;remote-branchname&gt; ÊàñËÄÖ git push origin :&lt;remote-branchname&gt; ÈáçÂëΩÂêçÊú¨Âú∞ÂàÜÊîØ git branch -m &lt;new-branch-name&gt; git branch -m &lt;oldbranchname&gt; &lt;newbranchname&gt;ÔºöÂ∞ùËØï‰øÆÊîπ git branch -M &lt;oldbranchname&gt; &lt;newbranchname&gt;ÔºöÂº∫Âà∂‰øÆÊîπ Êü•ÁúãÊ†áÁ≠æ git tag Â±ïÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÊúÄËøëÁöÑtag git describe --tags --abbrev=0 Êú¨Âú∞ÂàõÂª∫Ê†áÁ≠æ git tag &lt;version-number&gt; ÈªòËÆ§tagÊòØÊâìÂú®ÊúÄËøëÁöÑ‰∏ÄÊ¨°commit‰∏äÔºåÂ¶ÇÊûúÈúÄË¶ÅÊåáÂÆöcommitÊâìtagÔºö $ git tag -a &lt;version-number&gt; -m &quot;v1.0 ÂèëÂ∏É(ÊèèËø∞)&quot; &lt;commit-id&gt; Êé®ÈÄÅÊ†áÁ≠æÂà∞ËøúÁ®ã‰ªìÂ∫ì È¶ñÂÖàË¶Å‰øùËØÅÊú¨Âú∞ÂàõÂª∫Â•Ω‰∫ÜÊ†áÁ≠æÊâçÂèØ‰ª•Êé®ÈÄÅÊ†áÁ≠æÂà∞ËøúÁ®ã‰ªìÂ∫ìÔºö git push origin &lt;local-version-number&gt; ‰∏ÄÊ¨°ÊÄßÊé®ÈÄÅÊâÄÊúâÊ†áÁ≠æÔºåÂêåÊ≠•Âà∞ËøúÁ®ã‰ªìÂ∫ìÔºö git push origin --tags Âà†Èô§Êú¨Âú∞Ê†áÁ≠æ git tag -d &lt;tag-name&gt; Âà†Èô§ËøúÁ®ãÊ†áÁ≠æ Âà†Èô§ËøúÁ®ãÊ†áÁ≠æÈúÄË¶ÅÂÖàÂà†Èô§Êú¨Âú∞Ê†áÁ≠æÔºåÂÜçÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö git push origin :refs/tags/&lt;tag-name&gt; ÂàáÂõûÂà∞Êüê‰∏™Ê†áÁ≠æ ‰∏ÄËà¨‰∏äÁ∫ø‰πãÂâçÈÉΩ‰ºöÊâìtagÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢‰∏äÁ∫øÂêéÂá∫Áé∞ÈóÆÈ¢òÔºåÊñπ‰æøÂø´ÈÄüÂõûÈÄÄÂà∞‰∏ä‰∏ÄÁâàÊú¨„ÄÇ‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÊòØÂõûÂà∞Êüê‰∏ÄÊ†áÁ≠æ‰∏ãÁöÑÁä∂ÊÄÅÔºö git checkout -b branch_name tag_name ÊîæÂºÉÂ∑•‰ΩúÂå∫ÁöÑ‰øÆÊîπ git checkout &lt;file-name&gt; ÊîæÂºÉÊâÄÊúâ‰øÆÊîπÔºö git checkout . ÊÅ¢Â§çÂà†Èô§ÁöÑÊñá‰ª∂ git rev-list -n 1 HEAD -- &lt;file_path&gt; #ÂæóÂà∞ deleting_commit git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt; #ÂõûÂà∞Âà†Èô§Êñá‰ª∂ deleting_commit ‰πãÂâçÁöÑÁä∂ÊÄÅ ÂõûÂà∞Êüê‰∏Ä‰∏™commitÁöÑÁä∂ÊÄÅÔºåÂπ∂ÈáçÊñ∞Â¢ûÊ∑ª‰∏Ä‰∏™commit //ÂõûÈÄÄÔºåÊúâËÆ∞ÂΩï git revert &lt;commit-id&gt; ÂõûÂà∞Êüê‰∏™commitÁöÑÁä∂ÊÄÅÔºåÂπ∂Âà†Èô§ÂêéÈù¢ÁöÑcommit ÂíårevertÁöÑÂå∫Âà´ÔºöresetÂëΩ‰ª§‰ºöÊäπÂéªÊüê‰∏™commit id‰πãÂêéÁöÑÊâÄÊúâcommit git reset &lt;commit-id&gt; ‰øÆÊîπ‰∏ä‰∏Ä‰∏™commitÁöÑÊèèËø∞ git commit --amend Êü•ÁúãcommitÂéÜÂè≤ git log Êü•ÁúãÊüêÊÆµ‰ª£Á†ÅÊòØË∞ÅÂÜôÁöÑ blameÁöÑÊÑèÊÄù‰∏∫‚ÄòË¥£ÊÄ™‚ÄôÔºå‰Ω†ÊáÇÁöÑ„ÄÇ git blame &lt;file-name&gt; ÊòæÁ§∫Êú¨Âú∞ÊâßË°åËøágitÂëΩ‰ª§ Â∞±ÂÉèshellÁöÑhistory‰∏ÄÊ†∑ git reflog ‰øÆÊîπ‰ΩúËÄÖÂêç git commit --amend --author=&apos;Author Name &lt;email@address.com&gt;&apos; ‰øÆÊîπËøúÁ®ã‰ªìÂ∫ìÁöÑurl git remote set-url origin &lt;URL&gt; Â¢ûÂä†ËøúÁ®ã‰ªìÂ∫ì git remote add origin &lt;remote-url&gt; ÂàóÂá∫ÊâÄÊúâËøúÁ®ã‰ªìÂ∫ì git remote // git remote -v Êü•Áúã‰∏§‰∏™ÊòüÊúüÂÜÖÁöÑÊîπÂä® git whatchanged --since=&apos;2 weeks ago&apos; ÊääAÂàÜÊîØÁöÑÊüê‰∏Ä‰∏™commitÔºåÊîæÂà∞BÂàÜÊîØ‰∏ä Ëøô‰∏™ËøáÁ®ãÈúÄË¶Åcherry-pickÂëΩ‰ª§ÔºåÂèÇËÄÉ git checkout &lt;branch-name&gt; &amp;&amp; git cherry-pick &lt;commit-id&gt; ÁªôgitÂëΩ‰ª§Ëµ∑Âà´Âêç ÁÆÄÂåñÂëΩ‰ª§ git config --global alias.&lt;handle&gt; &lt;command&gt; ÊØîÂ¶ÇÔºögit status ÊîπÊàê git stÔºåËøôÊ†∑ÂèØ‰ª•ÁÆÄÂåñÂëΩ‰ª§ git config --global alias.st status Â≠òÂÇ®ÂΩìÂâçÁöÑ‰øÆÊîπÔºå‰ΩÜ‰∏çÁî®Êèê‰∫§commit ËØ¶Ëß£ÂèØ‰ª•ÂèÇËÄÉÂªñÈõ™Â≥∞ËÄÅÂ∏àÁöÑgitÊïôÁ®ã git stash ‰øùÂ≠òÂΩìÂâçÁä∂ÊÄÅÔºåÂåÖÊã¨untrackedÁöÑÊñá‰ª∂ untrackedÊñá‰ª∂ÔºöÊñ∞Âª∫ÁöÑÊñá‰ª∂ git stash -u Â±ïÁ§∫ÊâÄÊúâstashes git stash list ÂõûÂà∞Êüê‰∏™stashÁöÑÁä∂ÊÄÅ git stash apply &lt;stash@{n}&gt; ÂõûÂà∞ÊúÄÂêé‰∏Ä‰∏™stashÁöÑÁä∂ÊÄÅÔºåÂπ∂Âà†Èô§Ëøô‰∏™stash git stash pop Âà†Èô§ÊâÄÊúâÁöÑstash git stash clear ‰ªéstash‰∏≠ÊãøÂá∫Êüê‰∏™Êñá‰ª∂ÁöÑ‰øÆÊîπ git checkout &lt;stash@{n}&gt; -- &lt;file-path&gt; Â±ïÁ§∫ÊâÄÊúâtrackedÁöÑÊñá‰ª∂ git ls-files -t Â±ïÁ§∫ÊâÄÊúâuntrackedÁöÑÊñá‰ª∂ git ls-files --others Â±ïÁ§∫ÊâÄÊúâÂøΩÁï•ÁöÑÊñá‰ª∂ git ls-files --others -i --exclude-standard Âº∫Âà∂Âà†Èô§untrackedÁöÑÊñá‰ª∂ ÂèØ‰ª•Áî®Êù•Âà†Èô§Êñ∞Âª∫ÁöÑÊñá‰ª∂„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÊñá‰ª∂Êñá‰ª∂ÂêçÔºåÂàôÊ∏ÖÁ©∫ÊâÄÊúâÂ∑•‰ΩúÁöÑuntrackedÊñá‰ª∂„ÄÇcleanÂëΩ‰ª§ÔºåÊ≥®ÊÑè‰∏§ÁÇπÔºö cleanÂêéÔºåÂà†Èô§ÁöÑÊñá‰ª∂Êó†Ê≥ïÊâæÂõû ‰∏ç‰ºöÂΩ±ÂìçtrackedÁöÑÊñá‰ª∂ÁöÑÊîπÂä®ÔºåÂè™‰ºöÂà†Èô§untrackedÁöÑÊñá‰ª∂git clean &lt;file-name&gt; -f Âº∫Âà∂Âà†Èô§untrackedÁöÑÁõÆÂΩï ÂèØ‰ª•Áî®Êù•Âà†Èô§Êñ∞Âª∫ÁöÑÁõÆÂΩïÔºåÊ≥®ÊÑè:Ëøô‰∏™ÂëΩ‰ª§‰πüÂèØ‰ª•Áî®Êù•Âà†Èô§untrackedÁöÑÊñá‰ª∂„ÄÇËØ¶ÊÉÖËßÅ‰∏ä‰∏ÄÊù° git clean &lt;directory-name&gt; -df Â±ïÁ§∫ÁÆÄÂåñÁöÑcommitÂéÜÂè≤ git log --pretty=oneline --graph --decorate --all ÊääÊüê‰∏Ä‰∏™ÂàÜÊîØÂà∞ÂØºÂá∫Êàê‰∏Ä‰∏™Êñá‰ª∂ git bundle create &lt;file&gt; &lt;branch-name&gt; ‰ªéÂåÖ‰∏≠ÂØºÂÖ•ÂàÜÊîØ Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÂàÜÊîØÂÜÖÂÆπÂ∞±ÊòØ‰∏äÈù¢git bundle createÂëΩ‰ª§ÂØºÂá∫ÁöÑÂÜÖÂÆπ git clone repo.bundle &lt;repo-dir&gt; -b &lt;branch-name&gt; ÊâßË°årebase‰πãÂâçËá™Âä®stash git rebase --autostash ‰ªéËøúÁ®ã‰ªìÂ∫ìÊ†πÊçÆIDÔºåÊãâ‰∏ãÊüê‰∏ÄÁä∂ÊÄÅÔºåÂà∞Êú¨Âú∞ÂàÜÊîØ git fetch origin pull/&lt;id&gt;/head:&lt;branch-name&gt; ËØ¶ÁªÜÂ±ïÁ§∫‰∏ÄË°å‰∏≠ÁöÑ‰øÆÊîπ git diff --word-diff Ê∏ÖÈô§gitignoreÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑÊñá‰ª∂ git clean -X -f Â±ïÁ§∫ÊâÄÊúâaliasÂíåconfigs Ê≥®ÊÑèÔºö configÂàÜ‰∏∫ÔºöÂΩìÂâçÁõÆÂΩïÔºàlocalÔºâÂíåÂÖ®Â±ÄÔºàgolbalÔºâÁöÑconfigÔºåÈªòËÆ§‰∏∫ÂΩìÂâçÁõÆÂΩïÁöÑconfig git config --local --list (ÂΩìÂâçÁõÆÂΩï) git config --global --list (ÂÖ®Â±Ä) Â±ïÁ§∫ÂøΩÁï•ÁöÑÊñá‰ª∂ git status --ignored commitÂéÜÂè≤‰∏≠ÊòæÁ§∫Branch1ÊúâÁöÑÔºå‰ΩÜÊòØBranch2Ê≤°Êúâcommit git log Branch1 ^Branch2 Âú®commit log‰∏≠ÊòæÁ§∫GPGÁ≠æÂêç git log --show-signature Âà†Èô§ÂÖ®Â±ÄËÆæÁΩÆ git config --global --unset &lt;entry-name&gt; Êñ∞Âª∫Âπ∂ÂàáÊç¢Âà∞Êñ∞ÂàÜÊîØ‰∏äÔºåÂêåÊó∂Ëøô‰∏™ÂàÜÊîØÊ≤°Êúâ‰ªª‰Ωïcommit Áõ∏ÂΩì‰∫é‰øùÂ≠ò‰øÆÊîπÔºå‰ΩÜÊòØÈáçÂÜôcommitÂéÜÂè≤ git checkout --orphan &lt;branch-name&gt; Â±ïÁ§∫‰ªªÊÑèÂàÜÊîØÊüê‰∏ÄÊñá‰ª∂ÁöÑÂÜÖÂÆπ git show &lt;branch-name&gt;:&lt;file-name&gt; clone‰∏ãÊù•ÊåáÂÆöÁöÑÂçï‰∏ÄÂàÜÊîØ git clone -b &lt;branch-name&gt; --single-branch https://github.com/user/repo.git ÂøΩÁï•Êüê‰∏™Êñá‰ª∂ÁöÑÊîπÂä® ÂÖ≥Èó≠ track ÊåáÂÆöÊñá‰ª∂ÁöÑÊîπÂä®Ôºå‰πüÂ∞±ÊòØ Git Â∞Ü‰∏ç‰ºöÂú®ËÆ∞ÂΩïËøô‰∏™Êñá‰ª∂ÁöÑÊîπÂä® git update-index --assume-unchanged path/to/file ÊÅ¢Â§ç track ÊåáÂÆöÊñá‰ª∂ÁöÑÊîπÂä® git update-index --no-assume-unchanged path/to/file ÂøΩÁï•Êñá‰ª∂ÁöÑÊùÉÈôêÂèòÂåñ ‰∏çÂÜçÂ∞ÜÊñá‰ª∂ÁöÑÊùÉÈôêÂèòÂåñËßÜ‰ΩúÊîπÂä® git config core.fileMode false Â±ïÁ§∫Êú¨Âú∞ÊâÄÊúâÁöÑÂàÜÊîØÁöÑcommit ÊúÄÊñ∞ÁöÑÊîæÂú®ÊúÄ‰∏äÈù¢ git for-each-ref --sort=-committerdate --format=&apos;%(refname:short)&apos; refs/heads/ Âú®commit log‰∏≠Êü•ÊâæÁõ∏ÂÖ≥ÂÜÖÂÆπ ÈÄöËøágrepÊü•ÊâæÔºågiven-textÔºöÊâÄÈúÄË¶ÅÊü•ÊâæÁöÑÂ≠óÊÆµ git log --all --grep=&apos;&lt;given-text&gt;&apos; ÊääÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöfileÊîæÂà∞Â∑•‰ΩúÂå∫‰∏≠ git reset &lt;file-name&gt; Âº∫Âà∂Êé®ÈÄÅ git push -f &lt;remote-name&gt; &lt;branch-name&gt;ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ -rÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºöremote git branch -r Êõ¥Êñ∞Âà∞Êú¨Âú∞ # Ê∫ê + ÂàÜÊîØÂêç git pull origin master ÂàùÂßãÂåñÊú¨Âú∞git‰ªìÂ∫ìÔºàÂàõÂª∫Êñ∞‰ªìÂ∫ìÔºâ git init # ÂàùÂßãÂåñ git È°πÁõÆ git init ÂÆâË£ÖÂ•Ω Git ‰πãÂêéÔºåÈÖçÁΩÆ‰Ω†ÁöÑËµÑÊñô: # ÈÖçÁΩÆÁî®Êà∑Âêç git config --global user.name &quot;Your Real Name&quot; # ÈÖçÁΩÆÈÇÆÁÆ±Âú∞ÂùÄ git config --global user.email you@email.address ÈÖçÁΩÆÁî®Êà∑Âêç git config --global user.name &quot;xxx&quot; ÈÖçÁΩÆÈÇÆ‰ª∂ git config --global user.email &quot;xxx@xxx.com&quot; git statusÁ≠âÂëΩ‰ª§Ëá™Âä®ÁùÄËâ≤ git config --global color.ui true git config --global color.status auto git config --global color.diff auto git config --global color.branch auto git config --global color.interactive auto cloneËøúÁ®ã‰ªìÂ∫ì git clone git+ssh://git@192.168.53.168/VT.git Êü•ÁúãÂΩìÂâçÁâàÊú¨Áä∂ÊÄÅÔºàÊòØÂê¶‰øÆÊîπÔºâ git status Ê∑ªÂä†xyzÊñá‰ª∂Ëá≥index git add xyz Â¢ûÂä†ÂΩìÂâçÂ≠êÁõÆÂΩï‰∏ãÊâÄÊúâÊõ¥ÊîπËøáÁöÑÊñá‰ª∂Ëá≥index git add . Êèê‰∫§ git commit -m &apos;xxx&apos; ÂêàÂπ∂‰∏ä‰∏ÄÊ¨°Êèê‰∫§ÔºàÁî®‰∫éÂèçÂ§ç‰øÆÊîπÔºâ git commit --amend -m &apos;xxx&apos; Â∞ÜaddÂíåcommitÂêà‰∏∫‰∏ÄÊ≠• git commit -am &apos;xxx&apos; Âà†Èô§index‰∏≠ÁöÑÊñá‰ª∂ git rm xxx ÈÄíÂΩíÂà†Èô§ git rm -r * ÊòæÁ§∫Êèê‰∫§Êó•Âøó git log ÊòæÁ§∫1Ë°åÊó•Âøó -n‰∏∫nË°å git log -1 git log -5 ÊòæÁ§∫Êèê‰∫§Êó•ÂøóÂèäÁõ∏ÂÖ≥ÂèòÂä®Êñá‰ª∂ git log --stat git log -p -m ÊòæÁ§∫Êüê‰∏™Êèê‰∫§ÁöÑËØ¶ÁªÜÂÜÖÂÆπ git show dfb02e6e4f2f7b573337763e5c0013802e392818 ÂèØÂè™Áî®commitidÁöÑÂâçÂá†‰Ωç git show dfb02 ÊòæÁ§∫HEADÊèê‰∫§Êó•Âøó git show HEAD ÊòæÁ§∫HEADÁöÑÁà∂Ôºà‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÔºâÁöÑÊèê‰∫§Êó•Âøó ^^‰∏∫‰∏ä‰∏§‰∏™ÁâàÊú¨ ^5‰∏∫‰∏ä5‰∏™ÁâàÊú¨ git show HEAD^ ÊòæÁ§∫Â∑≤Â≠òÂú®ÁöÑtag git tag Â¢ûÂä†v2.0ÁöÑtag git tag -a v2.0 -m &apos;xxx&apos; ÊòæÁ§∫v2.0ÁöÑÊó•ÂøóÂèäËØ¶ÁªÜÂÜÖÂÆπ git show v2.0 ÊòæÁ§∫v2.0ÁöÑÊó•Âøó git log v2.0 ÊòæÁ§∫ÊâÄÊúâÊú™Ê∑ªÂä†Ëá≥indexÁöÑÂèòÊõ¥ git diff ÊòæÁ§∫ÊâÄÊúâÂ∑≤Ê∑ªÂä†index‰ΩÜËøòÊú™commitÁöÑÂèòÊõ¥ git diff --cached ÊØîËæÉ‰∏é‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÁöÑÂ∑ÆÂºÇ git diff HEAD^ ÊØîËæÉ‰∏éHEADÁâàÊú¨libÁõÆÂΩïÁöÑÂ∑ÆÂºÇ git diff HEAD -- ./lib ÊØîËæÉËøúÁ®ãÂàÜÊîØmaster‰∏äÊúâÊú¨Âú∞ÂàÜÊîØmaster‰∏äÊ≤°ÊúâÁöÑ git diff origin/master..master Âè™ÊòæÁ§∫Â∑ÆÂºÇÁöÑÊñá‰ª∂Ôºå‰∏çÊòæÁ§∫ÂÖ∑‰ΩìÂÜÖÂÆπ git diff origin/master..master --stat Â¢ûÂä†ËøúÁ®ãÂÆö‰πâÔºàÁî®‰∫épush/pull/fetchÔºâ git remote add origin git+ssh://git@192.168.53.168/VT.git ÊòæÁ§∫Êú¨Âú∞ÂàÜÊîØ git branch ÊòæÁ§∫ÂåÖÂê´Êèê‰∫§50089ÁöÑÂàÜÊîØ git branch --contains 50089 ÊòæÁ§∫ÊâÄÊúâÂàÜÊîØ git branch -a ÊòæÁ§∫ÊâÄÊúâÂéüÂàõÂàÜÊîØ git branch -r ÊòæÁ§∫ÊâÄÊúâÂ∑≤ÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØÁöÑÂàÜÊîØ git branch --merged ÊòæÁ§∫ÊâÄÊúâÊú™ÂêàÂπ∂Âà∞ÂΩìÂâçÂàÜÊîØÁöÑÂàÜÊîØ git branch --no-merged Êú¨Âú∞ÂàÜÊîØÊîπÂêç git branch -m master master_copy ‰ªéÂΩìÂâçÂàÜÊîØÂàõÂª∫Êñ∞ÂàÜÊîØmaster_copyÂπ∂Ê£ÄÂá∫ git checkout -b master_copy ‰∏äÈù¢ÁöÑÂÆåÊï¥Áâà git checkout -b master master_copy Ê£ÄÂá∫Â∑≤Â≠òÂú®ÁöÑfeatures/performanceÂàÜÊîØ git checkout features/performance Ê£ÄÂá∫ËøúÁ®ãÂàÜÊîØhotfixes/BJVEP933Âπ∂ÂàõÂª∫Êú¨Âú∞Ë∑üË∏™ÂàÜÊîØ git checkout --track hotfixes/BJVEP933 Ê£ÄÂá∫ÁâàÊú¨v2.0 git checkout v2.0 ‰ªéËøúÁ®ãÂàÜÊîØdevelopÂàõÂª∫Êñ∞Êú¨Âú∞ÂàÜÊîØdevelÂπ∂Ê£ÄÂá∫ git checkout -b devel origin/develop Ê£ÄÂá∫headÁâàÊú¨ÁöÑREADMEÊñá‰ª∂ÔºàÂèØÁî®‰∫é‰øÆÊîπÈîôËØØÂõûÈÄÄÔºâ git checkout -- README ÂêàÂπ∂ËøúÁ®ãmasterÂàÜÊîØËá≥ÂΩìÂâçÂàÜÊîØ git merge origin/master ÂêàÂπ∂Êèê‰∫§ff44785404a8eÁöÑ‰øÆÊîπ git cherry-pick ff44785404a8e Â∞ÜÂΩìÂâçÂàÜÊîØpushÂà∞ËøúÁ®ãmasterÂàÜÊîØ git push origin master Âà†Èô§ËøúÁ®ã‰ªìÂ∫ìÁöÑhotfixes/BJVEP933ÂàÜÊîØ git push origin :hotfixes/BJVEP933 ÊääÊâÄÊúâtagÊé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ì git push --tags Ëé∑ÂèñÊâÄÊúâËøúÁ®ãÂàÜÊîØÔºà‰∏çÊõ¥Êñ∞Êú¨Âú∞ÂàÜÊîØÔºåÂè¶ÈúÄmergeÔºâ git fetch Ëé∑ÂèñÊâÄÊúâÂéüÂàõÂàÜÊîØÂπ∂Ê∏ÖÈô§ÊúçÂä°Âô®‰∏äÂ∑≤Âà†ÊéâÁöÑÂàÜÊîØ git fetch --prune Ëé∑ÂèñËøúÁ®ãÂàÜÊîØmasterÂπ∂mergeÂà∞ÂΩìÂâçÂàÜÊîØ git pull origin master ÈáçÂëΩÂêçÊñá‰ª∂README‰∏∫README2 git mv README README2 Â∞ÜÂΩìÂâçÁâàÊú¨ÈáçÁΩÆ‰∏∫HEADÔºàÈÄöÂ∏∏Áî®‰∫émergeÂ§±Ë¥•ÂõûÈÄÄÔºâ git reset --hard HEAD git rebase Âà†Èô§ÂàÜÊîØhotfixes/BJVEP933ÔºàÊú¨ÂàÜÊîØ‰øÆÊîπÂ∑≤ÂêàÂπ∂Âà∞ÂÖ∂‰ªñÂàÜÊîØÔºâ git branch -d hotfixes/BJVEP933 Âº∫Âà∂Âà†Èô§ÂàÜÊîØhotfixes/BJVEP933 git branch -D hotfixes/BJVEP933 ÂàóÂá∫git indexÂåÖÂê´ÁöÑÊñá‰ª∂ git ls-files ÂõæÁ§∫ÂΩìÂâçÂàÜÊîØÂéÜÂè≤ git show-branch ÂõæÁ§∫ÊâÄÊúâÂàÜÊîØÂéÜÂè≤ git show-branch --all ÊòæÁ§∫Êèê‰∫§ÂéÜÂè≤ÂØπÂ∫îÁöÑÊñá‰ª∂‰øÆÊîπ git whatchanged Êí§ÈîÄÊèê‰∫§dfb02e6e4f2f7b573337763e5c0013802e392818 git revert dfb02e6e4f2f7b573337763e5c0013802e392818 ÂÜÖÈÉ®ÂëΩ‰ª§ÔºöÊòæÁ§∫Êüê‰∏™gitÂØπË±° git ls-tree HEAD ÂÜÖÈÉ®ÂëΩ‰ª§ÔºöÊòæÁ§∫Êüê‰∏™refÂØπ‰∫éÁöÑSHA1 HASH git rev-parse v2.0 ÊòæÁ§∫ÊâÄÊúâÊèê‰∫§ÔºåÂåÖÊã¨Â≠§Á´ãËäÇÁÇπ git reflog git show HEAD@{5} ÊòæÁ§∫masterÂàÜÊîØÊò®Â§©ÁöÑÁä∂ÊÄÅ git show master@{yesterday} ÂõæÁ§∫Êèê‰∫§Êó•Âøó git log --pretty=format:&apos;%h %s&apos; --graph git show HEAD~3 git show -s --pretty=raw 2be7fcb476 ÊöÇÂ≠òÂΩìÂâç‰øÆÊîπÔºåÂ∞ÜÊâÄÊúâËá≥‰∏∫HEADÁä∂ÊÄÅ git stash Êü•ÁúãÊâÄÊúâÊöÇÂ≠ò git stash list ÂèÇËÄÉÁ¨¨‰∏ÄÊ¨°ÊöÇÂ≠ò git stash show -p stash@{0} Â∫îÁî®Á¨¨‰∏ÄÊ¨°ÊöÇÂ≠ò git stash apply stash@{0} Êñá‰ª∂‰∏≠ÊêúÁ¥¢ÊñáÊú¨‚Äúdelete from‚Äù git grep &quot;delete from&quot; git grep -e &apos;#define&apos; --and -e SORT_DIRENT git gc git fsck ‰∏ÄÂÆöË¶ÅÂÖàÊµãËØïÂëΩ‰ª§ÁöÑÊïàÊûúÂêéÔºåÂÜçÁî®‰∫éÂ∑•‰ΩúÁéØÂ¢É‰∏≠Ôºå‰ª•Èò≤ÈÄ†Êàê‰∏çËÉΩÂº•Ë°•ÁöÑÂêéÊûúÔºÅÂà∞Êó∂ÂÄôÂà´ÊãøÁùÄÁ†çÂàÄÊù•ÊâæÊàë ÊâÄÊúâÁöÑÂëΩ‰ª§ÈÉΩÂú®git version 2.7.4 (Apple Git-66)‰∏ãÊµãËØïÈÄöËøá Áªü‰∏ÄÊ¶ÇÂøµÔºö Â∑•‰ΩúÂå∫ÔºöÊîπÂä®ÔºàÂ¢ûÂà†Êñá‰ª∂ÂíåÂÜÖÂÆπÔºâ ÊöÇÂ≠òÂå∫ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºögit add ÊîπÂä®ÁöÑÊñá‰ª∂ÂêçÔºåÊ≠§Ê¨°ÊîπÂä®Â∞±ÊîæÂà∞‰∫Ü‚ÄòÊöÇÂ≠òÂå∫‚Äô Êú¨Âú∞‰ªìÂ∫ì(ÁÆÄÁß∞ÔºöÊú¨Âú∞)ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºögit commit Ê≠§Ê¨°‰øÆÊîπÁöÑÊèèËø∞ÔºåÊ≠§Ê¨°ÊîπÂä®Â∞±ÊîæÂà∞‰∫Ü‚ÄôÊú¨Âú∞‰ªìÂ∫ì‚ÄôÔºåÊØè‰∏™commitÔºåÊàëÂè´ÂÆÉ‰∏∫‰∏Ä‰∏™‚ÄòÁâàÊú¨‚Äô„ÄÇ ËøúÁ®ã‰ªìÂ∫ì(ÁÆÄÁß∞ÔºöËøúÁ®ã)ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºögit push ËøúÁ®ã‰ªìÂ∫ìÔºåÊ≠§Ê¨°ÊîπÂä®Â∞±ÊîæÂà∞‰∫Ü‚ÄòËøúÁ®ã‰ªìÂ∫ì‚ÄôÔºàGitHubÁ≠â) commit-idÔºöËæìÂá∫ÂëΩ‰ª§Ôºögit logÔºåÊúÄ‰∏äÈù¢ÈÇ£Ë°åcommit xxxxxxÔºåÂêéÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤Â∞±ÊòØcommit-id Â±ïÁ§∫Â∏ÆÂä©‰ø°ÊÅØgit help -g ÂõûÂà∞ËøúÁ®ã‰ªìÂ∫ìÁöÑÁä∂ÊÄÅÊäõÂºÉÊú¨Âú∞ÊâÄÊúâÁöÑ‰øÆÊîπÔºåÂõûÂà∞ËøúÁ®ã‰ªìÂ∫ìÁöÑÁä∂ÊÄÅ„ÄÇ gitfetch--all&amp;&amp;gitreset--hardorigin/master ÈáçËÆæÁ¨¨‰∏Ä‰∏™commit‰πüÂ∞±ÊòØÊääÊâÄÊúâÁöÑÊîπÂä®ÈÉΩÈáçÊñ∞ÊîæÂõûÂ∑•‰ΩúÂå∫ÔºåÂπ∂Ê∏ÖÁ©∫ÊâÄÊúâÁöÑcommitÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈáçÊñ∞Êèê‰∫§Á¨¨‰∏Ä‰∏™commit‰∫Ü git update-ref -d HEAD Â±ïÁ§∫Â∑•‰ΩúÂå∫ÂíåÊöÇÂ≠òÂå∫ÁöÑ‰∏çÂêåËæìÂá∫Â∑•‰ΩúÂå∫ÂíåÊöÇÂ≠òÂå∫ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff ËøòÂèØ‰ª•Â±ïÁ§∫Êú¨Âú∞‰ªìÂ∫ì‰∏≠‰ªªÊÑè‰∏§‰∏™commit‰πãÈó¥ÁöÑÊñá‰ª∂ÂèòÂä®Ôºö git diff &lt;commit-id&gt; &lt;commit-id&gt; Â±ïÁ§∫ÊöÇÂ≠òÂå∫ÂíåÊúÄËøëÁâàÊú¨ÁöÑ‰∏çÂêåËæìÂá∫ÊöÇÂ≠òÂå∫ÂíåÊú¨Âú∞ÊúÄËøëÁöÑÁâàÊú¨(commit)ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff --cached Â±ïÁ§∫ÊöÇÂ≠òÂå∫„ÄÅÂ∑•‰ΩúÂå∫ÂíåÊúÄËøëÁâàÊú¨ÁöÑ‰∏çÂêåËæìÂá∫Â∑•‰ΩúÂå∫„ÄÅÊöÇÂ≠òÂå∫ ÂíåÊú¨Âú∞ÊúÄËøëÁöÑÁâàÊú¨(commit)ÁöÑdifferent(‰∏çÂêå)„ÄÇ git diff HEAD Âø´ÈÄüÂàáÊç¢ÂàÜÊîØgit checkout - Âà†Èô§Â∑≤ÁªèÂêàÂπ∂Âà∞masterÁöÑÂàÜÊîØgit branch --merged master| grep -v &apos;^\*\| master&apos; | xargs -n 1 git branch -d Â±ïÁ§∫Êú¨Âú∞ÂàÜÊîØÂÖ≥ËÅîËøúÁ®ã‰ªìÂ∫ìÁöÑÊÉÖÂÜµgitbranch -vv ÂÖ≥ËÅîËøúÁ®ãÂàÜÊîØÂÖ≥ËÅî‰πãÂêéÔºågit branch -vvÂ∞±ÂèØ‰ª•Â±ïÁ§∫ÂÖ≥ËÅîÁöÑËøúÁ®ãÂàÜÊîØÂêç‰∫ÜÔºåÂêåÊó∂Êé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ìÁõ¥Êé•Ôºögit pushÔºå‰∏çÈúÄË¶ÅÊåáÂÆöËøúÁ®ã‰ªìÂ∫ì‰∫Ü„ÄÇ gitbranch -u origin/mybranch ÊàñËÄÖÂú®pushÊó∂Âä†‰∏ä-uÂèÇÊï∞ git pushorigin/mybranch -u ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ-rÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºöremote git branch -r ÂàóÂá∫Êú¨Âú∞ÂíåËøúÁ®ãÂàÜÊîØ-aÂèÇÊï∞Áõ∏ÂΩì‰∫éÔºöall git branch -a ÂàõÂª∫Âπ∂ÂàáÊç¢Âà∞Êú¨Âú∞ÂàÜÊîØgit checkout -b &lt;branch-name&gt; ÂàõÂª∫Âπ∂ÂàáÊç¢Âà∞ËøúÁ®ãÂàÜÊîØgit checkout -b &lt;branch-name&gt; origin/&lt;branch-name&gt; Âà†Èô§Êú¨Âú∞ÂàÜÊîØgit branch -d &lt;local-branchname&gt; Âà†Èô§ËøúÁ®ãÂàÜÊîØgit pushorigin --delete &lt;remote-branchname&gt; ÊàñËÄÖ git push origin :&lt;remote-branchname&gt; ÈáçÂëΩÂêçÊú¨Âú∞ÂàÜÊîØgit branch -m &lt;new-branch-name&gt; Êü•ÁúãÊ†áÁ≠ægit tag Â±ïÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÊúÄËøëÁöÑtag gitdescribe--tags--abbrev=0 Êú¨Âú∞ÂàõÂª∫Ê†áÁ≠ægit tag&lt;version-number&gt; ÈªòËÆ§tagÊòØÊâìÂú®ÊúÄËøëÁöÑ‰∏ÄÊ¨°commit‰∏äÔºåÂ¶ÇÊûúÈúÄË¶ÅÊåáÂÆöcommitÊâìtagÔºö $ git tag -a &lt;version-number&gt; -m &quot;v1.0 ÂèëÂ∏É(ÊèèËø∞)&quot; &lt;commit-id&gt; Êé®ÈÄÅÊ†áÁ≠æÂà∞ËøúÁ®ã‰ªìÂ∫ìÈ¶ñÂÖàË¶Å‰øùËØÅÊú¨Âú∞ÂàõÂª∫Â•Ω‰∫ÜÊ†áÁ≠æÊâçÂèØ‰ª•Êé®ÈÄÅÊ†áÁ≠æÂà∞ËøúÁ®ã‰ªìÂ∫ìÔºö git push origin &lt;local-version-number&gt; ‰∏ÄÊ¨°ÊÄßÊé®ÈÄÅÊâÄÊúâÊ†áÁ≠æÔºåÂêåÊ≠•Âà∞ËøúÁ®ã‰ªìÂ∫ìÔºö git pushorigin --tags Âà†Èô§Êú¨Âú∞Ê†áÁ≠ægit tag-d&lt;tag-name&gt; Âà†Èô§ËøúÁ®ãÊ†áÁ≠æÂà†Èô§ËøúÁ®ãÊ†áÁ≠æÈúÄË¶ÅÂÖàÂà†Èô§Êú¨Âú∞Ê†áÁ≠æÔºåÂÜçÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö git push origin :refs/tags/&lt;tag-name&gt; ÂàáÂõûÂà∞Êüê‰∏™Ê†áÁ≠æ‰∏ÄËà¨‰∏äÁ∫ø‰πãÂâçÈÉΩ‰ºöÊâìtagÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢‰∏äÁ∫øÂêéÂá∫Áé∞ÈóÆÈ¢òÔºåÊñπ‰æøÂø´ÈÄüÂõûÈÄÄÂà∞‰∏ä‰∏ÄÁâàÊú¨„ÄÇ‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÊòØÂõûÂà∞Êüê‰∏ÄÊ†áÁ≠æ‰∏ãÁöÑÁä∂ÊÄÅÔºö git checkout -b branch_name tag_name ÊîæÂºÉÂ∑•‰ΩúÂå∫ÁöÑ‰øÆÊîπgit checkout &lt;file-name&gt; ÊîæÂºÉÊâÄÊúâ‰øÆÊîπÔºö git checkout . ÊÅ¢Â§çÂà†Èô§ÁöÑÊñá‰ª∂git rev-list -n 1 HEAD -- &lt;file_path&gt;#ÂæóÂà∞ deleting_commit git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt;#ÂõûÂà∞Âà†Èô§Êñá‰ª∂ deleting_commit ‰πãÂâçÁöÑÁä∂ÊÄÅ ‰ª•Êñ∞Â¢û‰∏Ä‰∏™commitÁöÑÊñπÂºèËøòÂéüÊüê‰∏Ä‰∏™commitÁöÑ‰øÆÊîπgit revert &lt;commit-id&gt; ÂõûÂà∞Êüê‰∏™commitÁöÑÁä∂ÊÄÅÔºåÂπ∂Âà†Èô§ÂêéÈù¢ÁöÑcommitÂíårevertÁöÑÂå∫Âà´ÔºöresetÂëΩ‰ª§‰ºöÊäπÂéªÊüê‰∏™commit id‰πãÂêéÁöÑÊâÄÊúâcommit git reset &lt;commit-id&gt; #ÈªòËÆ§Â∞±ÊòØ-mixedÂèÇÊï∞„ÄÇ git reset ‚Äìmixed HEAD^ #ÂõûÈÄÄËá≥‰∏ä‰∏™ÁâàÊú¨ÔºåÂÆÉÂ∞ÜÈáçÁΩÆHEADÂà∞Âè¶Â§ñ‰∏Ä‰∏™commit,Âπ∂‰∏îÈáçÁΩÆÊöÇÂ≠òÂå∫‰ª•‰æøÂíåHEADÁõ∏ÂåπÈÖçÔºå‰ΩÜÊòØ‰πüÂà∞Ê≠§‰∏∫Ê≠¢„ÄÇÂ∑•‰ΩúÂå∫‰∏ç‰ºöË¢´Êõ¥Êîπ„ÄÇ git reset ‚Äìsoft HEAD~3 #ÂõûÈÄÄËá≥‰∏â‰∏™ÁâàÊú¨‰πãÂâçÔºåÂè™ÂõûÈÄÄ‰∫ÜcommitÁöÑ‰ø°ÊÅØÔºåÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫‰∏éÂõûÈÄÄ‰πãÂâç‰øùÊåÅ‰∏ÄËá¥„ÄÇÂ¶ÇÊûúËøòË¶ÅÊèê‰∫§ÔºåÁõ¥Êé•commitÂç≥ÂèØ git reset ‚Äìhard &lt;commit-id&gt; #ÂΩªÂ∫ïÂõûÈÄÄÂà∞ÊåáÂÆöcommit-idÁöÑÁä∂ÊÄÅÔºåÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫‰πü‰ºöÂèò‰∏∫ÊåáÂÆöcommit-idÁâàÊú¨ÁöÑÂÜÖÂÆπ ‰øÆÊîπ‰∏ä‰∏Ä‰∏™commitÁöÑÊèèËø∞git commit--amend Êü•ÁúãcommitÂéÜÂè≤git log Êü•ÁúãÊüêÊÆµ‰ª£Á†ÅÊòØË∞ÅÂÜôÁöÑblameÁöÑÊÑèÊÄù‰∏∫‚ÄòË¥£ÊÄ™‚ÄôÔºå‰Ω†ÊáÇÁöÑ„ÄÇ git blame &lt;file-name&gt; ÊòæÁ§∫Êú¨Âú∞Êõ¥Êñ∞ËøáHEADÁöÑgitÂëΩ‰ª§ËÆ∞ÂΩïÊØèÊ¨°Êõ¥Êñ∞‰∫ÜHEAD ÁöÑgit ÂëΩ‰ª§ÊØîÂ¶Ç commint„ÄÅamend„ÄÅcherry-pick„ÄÅreset„ÄÅrevertÁ≠âÈÉΩ‰ºöË¢´ËÆ∞ÂΩï‰∏ãÊù•Ôºà‰∏çÈôêÂàÜÊîØÔºâÔºåÂ∞±ÂÉèshellÁöÑhistory‰∏ÄÊ†∑„ÄÇËøôÊ†∑‰Ω†ÂèØ‰ª•reset Âà∞‰ªª‰Ωï‰∏ÄÊ¨°Êõ¥Êñ∞‰∫ÜHEAD ÁöÑÊìç‰Ωú‰πãÂêéÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÂõûÂà∞ÂΩìÂâçÂàÜÊîØ‰∏ãÁöÑÊüê‰∏™commit ‰πãÂêéÁöÑÁä∂ÊÄÅ„ÄÇ git reflog ‰øÆÊîπ‰ΩúËÄÖÂêçgit commit --amend --author=&apos;Author Name &lt;email@address.com&gt;&apos; ‰øÆÊîπËøúÁ®ã‰ªìÂ∫ìÁöÑurlgit remote set-urlorigin &lt;URL&gt; Â¢ûÂä†ËøúÁ®ã‰ªìÂ∫ìgit remote add origin &lt;remote-url&gt; ÂàóÂá∫ÊâÄÊúâËøúÁ®ã‰ªìÂ∫ìgit remote Êü•Áúã‰∏§‰∏™ÊòüÊúüÂÜÖÁöÑÊîπÂä®git whatchanged --since=&apos;2 weeks ago&apos; ÊääAÂàÜÊîØÁöÑÊüê‰∏Ä‰∏™commitÔºåÊîæÂà∞BÂàÜÊîØ‰∏äËøô‰∏™ËøáÁ®ãÈúÄË¶Åcherry-pickÂëΩ‰ª§ÔºåÂèÇËÄÉ git checkout &lt;branch-name&gt; &amp;&amp; git cherry-pick &lt;commit-id&gt; ÁªôgitÂëΩ‰ª§Ëµ∑Âà´ÂêçÁÆÄÂåñÂëΩ‰ª§ git config --globalalias.&lt;handle&gt; &lt;command&gt; ÊØîÂ¶ÇÔºögit status ÊîπÊàê git stÔºåËøôÊ†∑ÂèØ‰ª•ÁÆÄÂåñÂëΩ‰ª§ git config --globalalias.st status Â≠òÂÇ®ÂΩìÂâçÁöÑ‰øÆÊîπÔºå‰ΩÜ‰∏çÁî®Êèê‰∫§commitËØ¶Ëß£ÂèØ‰ª•ÂèÇËÄÉÂªñÈõ™Â≥∞ËÄÅÂ∏àÁöÑgitÊïôÁ®ã git stash ‰øùÂ≠òÂΩìÂâçÁä∂ÊÄÅÔºåÂåÖÊã¨untrackedÁöÑÊñá‰ª∂untrackedÊñá‰ª∂ÔºöÊñ∞Âª∫ÁöÑÊñá‰ª∂ git stash -u Â±ïÁ§∫ÊâÄÊúâstashesgit stash list ÂõûÂà∞Êüê‰∏™stashÁöÑÁä∂ÊÄÅgit stash apply &lt;stash@{n}&gt; ÂõûÂà∞ÊúÄÂêé‰∏Ä‰∏™stashÁöÑÁä∂ÊÄÅÔºåÂπ∂Âà†Èô§Ëøô‰∏™stashgit stash pop Âà†Èô§ÊâÄÊúâÁöÑstashgit stash clear ‰ªéstash‰∏≠ÊãøÂá∫Êüê‰∏™Êñá‰ª∂ÁöÑ‰øÆÊîπgit checkout &lt;stash@{n}&gt; -- &lt;file-path&gt; Â±ïÁ§∫ÊâÄÊúâtrackedÁöÑÊñá‰ª∂git ls-files -t Â±ïÁ§∫ÊâÄÊúâuntrackedÁöÑÊñá‰ª∂git ls-files--others Â±ïÁ§∫ÊâÄÊúâÂøΩÁï•ÁöÑÊñá‰ª∂gitls-files--others-i--exclude-standard Âº∫Âà∂Âà†Èô§untrackedÁöÑÊñá‰ª∂ÂèØ‰ª•Áî®Êù•Âà†Èô§Êñ∞Âª∫ÁöÑÊñá‰ª∂„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÊñá‰ª∂Êñá‰ª∂ÂêçÔºåÂàôÊ∏ÖÁ©∫ÊâÄÊúâÂ∑•‰ΩúÁöÑuntrackedÊñá‰ª∂„ÄÇcleanÂëΩ‰ª§ÔºåÊ≥®ÊÑè‰∏§ÁÇπÔºö cleanÂêéÔºåÂà†Èô§ÁöÑÊñá‰ª∂Êó†Ê≥ïÊâæÂõû ‰∏ç‰ºöÂΩ±ÂìçtrackedÁöÑÊñá‰ª∂ÁöÑÊîπÂä®ÔºåÂè™‰ºöÂà†Èô§untrackedÁöÑÊñá‰ª∂ git clean -f Âº∫Âà∂Âà†Èô§untrackedÁöÑÁõÆÂΩïÂèØ‰ª•Áî®Êù•Âà†Èô§Êñ∞Âª∫ÁöÑÁõÆÂΩïÔºåÊ≥®ÊÑè:Ëøô‰∏™ÂëΩ‰ª§‰πüÂèØ‰ª•Áî®Êù•Âà†Èô§untrackedÁöÑÊñá‰ª∂„ÄÇËØ¶ÊÉÖËßÅ‰∏ä‰∏ÄÊù° git clean &lt;directory-name&gt; -df Â±ïÁ§∫ÁÆÄÂåñÁöÑcommitÂéÜÂè≤gitlog--pretty=oneline--graph--decorate--all ÊääÊüê‰∏Ä‰∏™ÂàÜÊîØÂà∞ÂØºÂá∫Êàê‰∏Ä‰∏™Êñá‰ª∂git bundle create &lt;file&gt; &lt;branch-name&gt; ‰ªéÂåÖ‰∏≠ÂØºÂÖ•ÂàÜÊîØÊñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÂàÜÊîØÂÜÖÂÆπÂ∞±ÊòØ‰∏äÈù¢git bundle createÂëΩ‰ª§ÂØºÂá∫ÁöÑÂÜÖÂÆπ git clone repo.bundle &lt;repo-dir&gt; -b &lt;branch-name&gt; ÊâßË°årebase‰πãÂâçËá™Âä®stashgit rebase --autostash ‰ªéËøúÁ®ã‰ªìÂ∫ìÊ†πÊçÆIDÔºåÊãâ‰∏ãÊüê‰∏ÄÁä∂ÊÄÅÔºåÂà∞Êú¨Âú∞ÂàÜÊîØgit fetch origin pull/&lt;id&gt;/head:&lt;branch-name&gt; ËØ¶ÁªÜÂ±ïÁ§∫‰∏ÄË°å‰∏≠ÁöÑ‰øÆÊîπgit diff --word-diff Ê∏ÖÈô§gitignoreÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑÊñá‰ª∂git clean -X -f Â±ïÁ§∫ÊâÄÊúâaliasÂíåconfigsÊ≥®ÊÑèÔºö configÂàÜ‰∏∫ÔºöÂΩìÂâçÁõÆÂΩïÔºàlocalÔºâÂíåÂÖ®Â±ÄÔºàgolbalÔºâÁöÑconfigÔºåÈªòËÆ§‰∏∫ÂΩìÂâçÁõÆÂΩïÁöÑconfig gitconfig--local--list(ÂΩìÂâçÁõÆÂΩï)gitconfig--global--list(ÂÖ®Â±Ä) Â±ïÁ§∫ÂøΩÁï•ÁöÑÊñá‰ª∂git status--ignored commitÂéÜÂè≤‰∏≠ÊòæÁ§∫Branch1ÊúâÁöÑÔºå‰ΩÜÊòØBranch2Ê≤°Êúâcommitgit log Branch1 ^Branch2 Âú®commit log‰∏≠ÊòæÁ§∫GPGÁ≠æÂêçgit log--show-signature Âà†Èô§ÂÖ®Â±ÄËÆæÁΩÆgit config --global --unset &lt;entry-name&gt; Êñ∞Âª∫Âπ∂ÂàáÊç¢Âà∞Êñ∞ÂàÜÊîØ‰∏äÔºåÂêåÊó∂Ëøô‰∏™ÂàÜÊîØÊ≤°Êúâ‰ªª‰ΩïcommitÁõ∏ÂΩì‰∫é‰øùÂ≠ò‰øÆÊîπÔºå‰ΩÜÊòØÈáçÂÜôcommitÂéÜÂè≤ git checkout --orphan &lt;branch-name&gt; Â±ïÁ§∫‰ªªÊÑèÂàÜÊîØÊüê‰∏ÄÊñá‰ª∂ÁöÑÂÜÖÂÆπgit show &lt;branch-name&gt;:&lt;file-name&gt; clone‰∏ãÊù•ÊåáÂÆöÁöÑÂçï‰∏ÄÂàÜÊîØgit clone -b &lt;branch-name&gt; --single-branch https://github.com/user/repo.git ÂøΩÁï•Êüê‰∏™Êñá‰ª∂ÁöÑÊîπÂä®ÂÖ≥Èó≠ track ÊåáÂÆöÊñá‰ª∂ÁöÑÊîπÂä®Ôºå‰πüÂ∞±ÊòØ Git Â∞Ü‰∏ç‰ºöÂú®ËÆ∞ÂΩïËøô‰∏™Êñá‰ª∂ÁöÑÊîπÂä® git update-index --assume-unchanged path/to/file ÊÅ¢Â§ç track ÊåáÂÆöÊñá‰ª∂ÁöÑÊîπÂä® git update-index --no-assume-unchanged path/to/file ÂøΩÁï•Êñá‰ª∂ÁöÑÊùÉÈôêÂèòÂåñ‰∏çÂÜçÂ∞ÜÊñá‰ª∂ÁöÑÊùÉÈôêÂèòÂåñËßÜ‰ΩúÊîπÂä® git config core.fileMode false ‰ª•ÊúÄÂêéÊèê‰∫§ÁöÑÈ°∫Â∫èÂàóÂá∫ÊâÄÊúâGitÂàÜÊîØÊúÄÊñ∞ÁöÑÊîæÂú®ÊúÄ‰∏äÈù¢ git for-each-ref --sort=-committerdate --format=&apos;%(refname:short)&apos; refs/heads/ Âú®commit log‰∏≠Êü•ÊâæÁõ∏ÂÖ≥ÂÜÖÂÆπÈÄöËøágrepÊü•ÊâæÔºågiven-textÔºöÊâÄÈúÄË¶ÅÊü•ÊâæÁöÑÂ≠óÊÆµ git log --all --grep=&apos;&lt;given-text&gt;&apos; ÊääÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöfileÊîæÂà∞Â∑•‰ΩúÂå∫‰∏≠‰∏çÊ∑ªÂä†ÂèÇÊï∞ÔºåÈªòËÆ§ÊòØ-mixed git reset &lt;file-name&gt; Âº∫Âà∂Êé®ÈÄÅgit push -f &lt;remote-name&gt; &lt;branch-name&gt; ÈïøÊåâÂÖ≥Ê≥®ËÆ¢ÈòÖÂè∑ ÈïøÊåâËøõÂÖ•RDhubÁæ§]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS‰πãcallÂíåapply,bindÁöÑÊ®°ÊãüÂÆûÁé∞]]></title>
    <url>%2F2017%2F09%2F02%2FJS%E4%B9%8Bcall%E5%92%8Capply-bind%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[call‰∏ÄÂè•ËØù‰ªãÁªç callÔºö call() ÊñπÊ≥ïÂú®‰ΩøÁî®‰∏Ä‰∏™ÊåáÂÆöÁöÑ this ÂÄºÂíåËã•Âπ≤‰∏™ÊåáÂÆöÁöÑÂèÇÊï∞ÂÄºÁöÑÂâçÊèê‰∏ãË∞ÉÁî®Êüê‰∏™ÂáΩÊï∞ÊàñÊñπÊ≥ï„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºö var foo = { value: 1 }; function bar() { console.log(this.value); } bar.call(foo); // 1 Ê≥®ÊÑè‰∏§ÁÇπÔºö call ÊîπÂèò‰∫Ü this ÁöÑÊåáÂêëÔºåÊåáÂêëÂà∞ foo bar ÂáΩÊï∞ÊâßË°å‰∫Ü Ê®°ÊãüÂÆûÁé∞Á¨¨‰∏ÄÊ≠•ÈÇ£‰πàÊàë‰ª¨ËØ•ÊÄé‰πàÊ®°ÊãüÂÆûÁé∞Ëøô‰∏§‰∏™ÊïàÊûúÂë¢Ôºü ËØïÊÉ≥ÂΩìË∞ÉÁî® call ÁöÑÊó∂ÂÄôÔºåÊää foo ÂØπË±°ÊîπÈÄ†ÊàêÂ¶Ç‰∏ãÔºö var foo = { value: 1, bar: function() { console.log(this.value) } }; foo.bar(); // 1 Ëøô‰∏™Êó∂ÂÄô this Â∞±ÊåáÂêë‰∫Ü fooÔºåÊòØ‰∏çÊòØÂæàÁÆÄÂçïÂë¢Ôºü ‰ΩÜÊòØËøôÊ†∑Âç¥Áªô foo ÂØπË±°Êú¨Ë∫´Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Â±ûÊÄßÔºåËøôÂèØ‰∏çË°åÂëêÔºÅ ‰∏çËøá‰πü‰∏çÁî®ÊãÖÂøÉÔºåÊàë‰ª¨Áî® delete ÂÜçÂà†Èô§ÂÆÉ‰∏çÂ∞±Â•Ω‰∫Ü~ ÊâÄ‰ª•Êàë‰ª¨Ê®°ÊãüÁöÑÊ≠•È™§ÂèØ‰ª•ÂàÜ‰∏∫Ôºö Â∞ÜÂáΩÊï∞ËÆæ‰∏∫ÂØπË±°ÁöÑÂ±ûÊÄß ÊâßË°åËØ•ÂáΩÊï∞ Âà†Èô§ËØ•ÂáΩÊï∞ ‰ª•‰∏ä‰∏™‰æãÂ≠ê‰∏∫‰æãÔºåÂ∞±ÊòØÔºö // Á¨¨‰∏ÄÊ≠• foo.fn = bar // Á¨¨‰∫åÊ≠• foo.fn() // Á¨¨‰∏âÊ≠• delete foo.fn fn ÊòØÂØπË±°ÁöÑÂ±ûÊÄßÂêçÔºåÂèçÊ≠£ÊúÄÂêé‰πüË¶ÅÂà†Èô§ÂÆÉÔºåÊâÄ‰ª•Ëµ∑Êàê‰ªÄ‰πàÈÉΩÊó†ÊâÄË∞ì„ÄÇ Ê†πÊçÆËøô‰∏™ÊÄùË∑ØÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïÁùÄÂéªÂÜôÁ¨¨‰∏ÄÁâàÁöÑ call2 ÂáΩÊï∞Ôºö // Á¨¨‰∏ÄÁâà Function.prototype.call2 = function(context) { // È¶ñÂÖàË¶ÅËé∑ÂèñË∞ÉÁî®callÁöÑÂáΩÊï∞ÔºåÁî®thisÂèØ‰ª•Ëé∑Âèñ context.fn = this; context.fn(); delete context.fn; } // ÊµãËØï‰∏Ä‰∏ã var foo = { value: 1 }; function bar() { console.log(this.value); } bar.call2(foo); // 1 Ê≠£Â•ΩÂèØ‰ª•ÊâìÂç∞ 1 ÂìéÔºÅÊòØ‰∏çÊòØÂæàÂºÄÂøÉÔºÅ(ÔΩûÔø£‚ñΩÔø£)ÔΩû Ê®°ÊãüÂÆûÁé∞Á¨¨‰∫åÊ≠•ÊúÄ‰∏ÄÂºÄÂßã‰πüËÆ≤‰∫ÜÔºåcall ÂáΩÊï∞ËøòËÉΩÁªôÂÆöÂèÇÊï∞ÊâßË°åÂáΩÊï∞„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö var foo = { value: 1 }; function bar(name, age) { console.log(name) console.log(age) console.log(this.value); } bar.call(foo, &apos;kevin&apos;, 18); // kevin // 18 // 1 Ê≥®ÊÑèÔºö‰º†ÂÖ•ÁöÑÂèÇÊï∞Âπ∂‰∏çÁ°ÆÂÆöÔºåËøôÂèØÂíãÂäûÔºü ‰∏çÊÄ•ÔºåÊàë‰ª¨ÂèØ‰ª•‰ªé Arguments ÂØπË±°‰∏≠ÂèñÂÄºÔºåÂèñÂá∫Á¨¨‰∫å‰∏™Âà∞ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁÑ∂ÂêéÊîæÂà∞‰∏Ä‰∏™Êï∞ÁªÑÈáå„ÄÇ ÊØîÂ¶ÇËøôÊ†∑Ôºö // ‰ª•‰∏ä‰∏™‰æãÂ≠ê‰∏∫‰æãÔºåÊ≠§Êó∂ÁöÑarguments‰∏∫Ôºö // arguments = { // 0: foo, // 1: &apos;kevin&apos;, // 2: 18, // length: 3 // } // Âõ†‰∏∫argumentsÊòØÁ±ªÊï∞ÁªÑÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•Áî®forÂæ™ÁéØ var args = []; for(var i = 1, len = arguments.length; i &lt; len; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } // ÊâßË°åÂêé args‰∏∫ [foo, &apos;kevin&apos;, 18] ‰∏çÂÆöÈïøÁöÑÂèÇÊï∞ÈóÆÈ¢òËß£ÂÜ≥‰∫ÜÔºåÊàë‰ª¨Êé•ÁùÄË¶ÅÊääËøô‰∏™ÂèÇÊï∞Êï∞ÁªÑÊîæÂà∞Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞ÁöÑÂèÇÊï∞ÈáåÈù¢Âéª„ÄÇ // Â∞ÜÊï∞ÁªÑÈáåÁöÑÂÖÉÁ¥†‰Ωú‰∏∫Â§ö‰∏™ÂèÇÊï∞ÊîæËøõÂáΩÊï∞ÁöÑÂΩ¢ÂèÇÈáå context.fn(args.join(&apos;,&apos;)) // (O_o)?? // Ëøô‰∏™ÊñπÊ≥ïËÇØÂÆöÊòØ‰∏çË°åÁöÑÂï¶ÔºÅÔºÅÔºÅ ‰πüËÆ∏Êúâ‰∫∫ÊÉ≥Âà∞Áî® ES6 ÁöÑÊñπÊ≥ïÔºå‰∏çËøá call ÊòØ ES3 ÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨‰∏∫‰∫ÜÊ®°ÊãüÂÆûÁé∞‰∏Ä‰∏™ ES3 ÁöÑÊñπÊ≥ïÔºåË¶ÅÁî®Âà∞ES6ÁöÑÊñπÊ≥ïÔºåÂ•ΩÂÉè‚Ä¶‚Ä¶ÔºåÂóØÔºå‰πüÂèØ‰ª•Âï¶„ÄÇ‰ΩÜÊòØÊàë‰ª¨ËøôÊ¨°Áî® eval ÊñπÊ≥ïÊãºÊàê‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫éËøôÊ†∑Ôºö eval(&apos;context.fn(&apos; + args +&apos;)&apos;) ËøôÈáå args ‰ºöËá™Âä®Ë∞ÉÁî® Array.toString() Ëøô‰∏™ÊñπÊ≥ï„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÁöÑÁ¨¨‰∫åÁâàÂÖãÊúç‰∫Ü‰∏§‰∏™Â§ßÈóÆÈ¢òÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö // Á¨¨‰∫åÁâà Function.prototype.call2 = function(context) { context.fn = this; var args = []; for(var i = 1, len = arguments.length; i &lt; len; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } eval(&apos;context.fn(&apos; + args +&apos;)&apos;); delete context.fn; } // ÊµãËØï‰∏Ä‰∏ã var foo = { value: 1 }; function bar(name, age) { console.log(name) console.log(age) console.log(this.value); } bar.call2(foo, &apos;kevin&apos;, 18); // kevin // 18 // 1 (‡πë‚Ä¢ÃÄ„ÖÇ‚Ä¢ÃÅ) ‚úß Ê®°ÊãüÂÆûÁé∞Á¨¨‰∏âÊ≠•Ê®°Êãü‰ª£Á†ÅÂ∑≤ÁªèÂÆåÊàê 80%ÔºåËøòÊúâ‰∏§‰∏™Â∞èÁÇπË¶ÅÊ≥®ÊÑèÔºö 1.this ÂèÇÊï∞ÂèØ‰ª•‰º† nullÔºåÂΩì‰∏∫ null ÁöÑÊó∂ÂÄôÔºåËßÜ‰∏∫ÊåáÂêë window ‰∏æ‰∏™‰æãÂ≠êÔºö var value = 1; function bar() { console.log(this.value); } bar.call(null); // 1 ËôΩÁÑ∂Ëøô‰∏™‰æãÂ≠êÊú¨Ë∫´‰∏ç‰ΩøÁî® callÔºåÁªìÊûú‰æùÁÑ∂‰∏ÄÊ†∑„ÄÇ 2.ÂáΩÊï∞ÊòØÂèØ‰ª•ÊúâËøîÂõûÂÄºÁöÑÔºÅ ‰∏æ‰∏™‰æãÂ≠êÔºö var obj = { value: 1 } function bar(name, age) { return { value: this.value, name: name, age: age } } console.log(bar.call(obj, &apos;kevin&apos;, 18)); // Object { // value: 1, // name: &apos;kevin&apos;, // age: 18 // } ‰∏çËøáÈÉΩÂæàÂ•ΩËß£ÂÜ≥ÔºåËÆ©Êàë‰ª¨Áõ¥Êé•ÁúãÁ¨¨‰∏âÁâà‰πüÂ∞±ÊòØÊúÄÂêé‰∏ÄÁâàÁöÑ‰ª£Á†ÅÔºö // Á¨¨‰∏âÁâà Function.prototype.call2 = function (context) { var context = context || window; context.fn = this; var args = []; for(var i = 1, len = arguments.length; i &lt; len; i++) { args.push(&apos;arguments[&apos; + i + &apos;]&apos;); } var result = eval(&apos;context.fn(&apos; + args +&apos;)&apos;); delete context.fn return result; } // ÊµãËØï‰∏Ä‰∏ã var value = 2; var obj = { value: 1 } function bar(name, age) { console.log(this.value); return { value: this.value, name: name, age: age } } bar.call(null); // 2 console.log(bar.call2(obj, &apos;kevin&apos;, 18)); // 1 // Object { // value: 1, // name: &apos;kevin&apos;, // age: 18 // } Âà∞Ê≠§ÔºåÊàë‰ª¨ÂÆåÊàê‰∫Ü call ÁöÑÊ®°ÊãüÂÆûÁé∞ÔºåÁªôËá™Â∑±‰∏Ä‰∏™Ëµû ÔΩÇÔºàÔø£‚ñΩÔø£ÔºâÔΩÑ applyÁöÑÊ®°ÊãüÂÆûÁé∞apply ÁöÑÂÆûÁé∞Ë∑ü call Á±ª‰ººÔºåÂú®ËøôÈáåÁõ¥Êé•Áªô‰ª£Á†ÅÔºå‰ª£Á†ÅÊù•Ëá™‰∫éÁü•‰πé @ÈÉëËà™ÁöÑÂÆûÁé∞Ôºö Function.prototype.apply = function (context, arr) { var context = Object(context) || window; context.fn = this; var result; if (!arr) { result = context.fn(); } else { var args = []; for (var i = 0, len = arr.length; i &lt; len; i++) { args.push(&apos;arr[&apos; + i + &apos;]&apos;); } result = eval(&apos;context.fn(&apos; + args + &apos;)&apos;) } delete context.fn return result; } Á±ªÊï∞ÁªÑËΩ¨ÂØπË±° Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Â∑≤ÁªèÊèêÂà∞‰∫Ü‰∏ÄÁßçÁ±ªÊï∞ÁªÑËΩ¨Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºåÂÜçË°•ÂÖÖ‰∏â‰∏™Ôºö var arrayLike = {0: &apos;name&apos;, 1: &apos;age&apos;, 2: &apos;sex&apos;, length: 3 } // 1. slice Array.prototype.slice.call(arrayLike); // [&quot;name&quot;, &quot;age&quot;, &quot;sex&quot;] // 2. splice Array.prototype.splice.call(arrayLike, 0); // [&quot;name&quot;, &quot;age&quot;, &quot;sex&quot;] // 3. ES6 Array.from Array.from(arrayLike); // [&quot;name&quot;, &quot;age&quot;, &quot;sex&quot;] // 4. apply Array.prototype.concat.apply([], arrayLike) Ë¶ÅËØ¥Âà∞Á±ªÊï∞ÁªÑÂØπË±°ÔºåArguments ÂØπË±°Â∞±ÊòØ‰∏Ä‰∏™Á±ªÊï∞ÁªÑÂØπË±°„ÄÇ Âú®ÂÆ¢Êà∑Á´Ø JavaScript ‰∏≠Ôºå‰∏Ä‰∫õ DOM ÊñπÊ≥ï(document.getElementsByTagName()Á≠â)‰πüËøîÂõûÁ±ªÊï∞ÁªÑÂØπË±°„ÄÇ ‰º†ÈÄíÂèÇÊï∞ Â∞ÜÂèÇÊï∞‰ªé‰∏Ä‰∏™ÂáΩÊï∞‰º†ÈÄíÂà∞Âè¶‰∏Ä‰∏™ÂáΩÊï∞ // ‰ΩøÁî® apply Â∞Ü foo ÁöÑÂèÇÊï∞‰º†ÈÄíÁªô bar function foo() { bar.apply(this, arguments); } function bar(a, b, c) { console.log(a, b, c); } foo(1, 2, 3) Âº∫Â§ßÁöÑES6 ‰ΩøÁî®ES6ÁöÑ ... ËøêÁÆóÁ¨¶ÔºåÊàë‰ª¨ÂèØ‰ª•ËΩªÊùæËΩ¨ÊàêÊï∞ÁªÑ„ÄÇ function func(...arguments) { console.log(arguments); // [1, 2, 3] } func(1, 2, 3); bind‰∏ÄÂè•ËØù‰ªãÁªç bind: bind() ÊñπÊ≥ï‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂáΩÊï∞„ÄÇÂΩìËøô‰∏™Êñ∞ÂáΩÊï∞Ë¢´Ë∞ÉÁî®Êó∂Ôºåbind() ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∞Ü‰Ωú‰∏∫ÂÆÉËøêË°åÊó∂ÁöÑ thisÔºå‰πãÂêéÁöÑ‰∏ÄÂ∫èÂàóÂèÇÊï∞Â∞Ü‰ºöÂú®‰º†ÈÄíÁöÑÂÆûÂèÇÂâç‰º†ÂÖ•‰Ωú‰∏∫ÂÆÉÁöÑÂèÇÊï∞„ÄÇ(Êù•Ëá™‰∫é MDN ) Áî±Ê≠§Êàë‰ª¨ÂèØ‰ª•È¶ñÂÖàÂæóÂá∫ bind ÂáΩÊï∞ÁöÑ‰∏§‰∏™ÁâπÁÇπÔºö ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ ÂèØ‰ª•‰º†ÂÖ•ÂèÇÊï∞ ËøîÂõûÂáΩÊï∞ÁöÑÊ®°ÊãüÂÆûÁé∞‰ªéÁ¨¨‰∏Ä‰∏™ÁâπÁÇπÂºÄÂßãÔºåÊàë‰ª¨‰∏æ‰∏™‰æãÂ≠êÔºö var foo = { value: 1 }; function bar() { console.log(this.value); } // ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ var bindFoo = bar.bind(foo); bindFoo(); // 1 ÂÖ≥‰∫éÊåáÂÆö this ÁöÑÊåáÂêëÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® call ÊàñËÄÖ apply ÂÆûÁé∞ÔºåÂÖ≥‰∫é call Âíå apply ÁöÑÊ®°ÊãüÂÆûÁé∞ÔºåÂèØ‰ª•Êü•Áúã„ÄäJavaScriptÊ∑±ÂÖ•‰πãcallÂíåapplyÁöÑÊ®°ÊãüÂÆûÁé∞„Äã„ÄÇÊàë‰ª¨Êù•ÂÜôÁ¨¨‰∏ÄÁâàÁöÑ‰ª£Á†ÅÔºö // Á¨¨‰∏ÄÁâà Function.prototype.bind2 = function (context) { var self = this; return function () { self.apply(context); } } ‰º†ÂèÇÁöÑÊ®°ÊãüÂÆûÁé∞Êé•‰∏ãÊù•ÁúãÁ¨¨‰∫åÁÇπÔºåÂèØ‰ª•‰º†ÂÖ•ÂèÇÊï∞„ÄÇËøô‰∏™Â∞±ÊúâÁÇπËÆ©‰∫∫Ë¥πËß£‰∫ÜÔºåÊàëÂú® bind ÁöÑÊó∂ÂÄôÔºåÊòØÂê¶ÂèØ‰ª•‰º†ÂèÇÂë¢ÔºüÊàëÂú®ÊâßË°å bind ËøîÂõûÁöÑÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂèØ‰∏çÂèØ‰ª•‰º†ÂèÇÂë¢ÔºüËÆ©Êàë‰ª¨Áúã‰∏™‰æãÂ≠êÔºö var foo = { value: 1 }; function bar(name, age) { console.log(this.value); console.log(name); console.log(age); } var bindFoo = bar.bind(foo, &apos;daisy&apos;); bindFoo(&apos;18&apos;); // 1 // daisy // 18 ÂáΩÊï∞ÈúÄË¶Å‰º† name Âíå age ‰∏§‰∏™ÂèÇÊï∞ÔºåÁ´üÁÑ∂ËøòÂèØ‰ª•Âú® bind ÁöÑÊó∂ÂÄôÔºåÂè™‰º†‰∏Ä‰∏™ nameÔºåÂú®ÊâßË°åËøîÂõûÁöÑÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂÜç‰º†Âè¶‰∏Ä‰∏™ÂèÇÊï∞ age! ËøôÂèØÂíãÂäûÔºü‰∏çÊÄ•ÔºåÊàë‰ª¨Áî® arguments ËøõË°åÂ§ÑÁêÜÔºö // Á¨¨‰∫åÁâà Function.prototype.bind2 = function (context) { var self = this; // Ëé∑Âèñbind2ÂáΩÊï∞‰ªéÁ¨¨‰∫å‰∏™ÂèÇÊï∞Âà∞ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ var args = Array.prototype.slice.call(arguments, 1); return function () { // Ëøô‰∏™Êó∂ÂÄôÁöÑargumentsÊòØÊåábindËøîÂõûÁöÑÂáΩÊï∞‰º†ÂÖ•ÁöÑÂèÇÊï∞ var bindArgs = Array.prototype.slice.call(arguments); self.apply(context, args.concat(bindArgs)); } } ÊûÑÈÄ†ÂáΩÊï∞ÊïàÊûúÁöÑÊ®°ÊãüÂÆûÁé∞ÂÆåÊàê‰∫ÜËøô‰∏§ÁÇπÔºåÊúÄÈöæÁöÑÈÉ®ÂàÜÂà∞Âï¶ÔºÅÂõ†‰∏∫ bind ËøòÊúâ‰∏Ä‰∏™ÁâπÁÇπÔºåÂ∞±ÊòØ ‰∏Ä‰∏™ÁªëÂÆöÂáΩÊï∞‰πüËÉΩ‰ΩøÁî®newÊìç‰ΩúÁ¨¶ÂàõÂª∫ÂØπË±°ÔºöËøôÁßçË°å‰∏∫Â∞±ÂÉèÊääÂéüÂáΩÊï∞ÂΩìÊàêÊûÑÈÄ†Âô®„ÄÇÊèê‰æõÁöÑ this ÂÄºË¢´ÂøΩÁï•ÔºåÂêåÊó∂Ë∞ÉÁî®Êó∂ÁöÑÂèÇÊï∞Ë¢´Êèê‰æõÁªôÊ®°ÊãüÂáΩÊï∞„ÄÇ ‰πüÂ∞±ÊòØËØ¥ÂΩì bind ËøîÂõûÁöÑÂáΩÊï∞‰Ωú‰∏∫ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåbind Êó∂ÊåáÂÆöÁöÑ this ÂÄº‰ºöÂ§±ÊïàÔºå‰ΩÜ‰º†ÂÖ•ÁöÑÂèÇÊï∞‰æùÁÑ∂ÁîüÊïà„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö var value = 2; var foo = { value: 1 }; function bar(name, age) { this.habit = &apos;shopping&apos;; console.log(this.value); console.log(name); console.log(age); } bar.prototype.friend = &apos;kevin&apos;; var bindFoo = bar.bind(foo, &apos;daisy&apos;); var obj = new bindFoo(&apos;18&apos;); // undefined // daisy // 18 console.log(obj.habit); console.log(obj.friend); // shopping // kevin Ê≥®ÊÑèÔºöÂ∞ΩÁÆ°Âú®ÂÖ®Â±ÄÂíå foo ‰∏≠ÈÉΩÂ£∞Êòé‰∫Ü value ÂÄºÔºåÊúÄÂêé‰æùÁÑ∂ËøîÂõû‰∫Ü undefindÔºåËØ¥ÊòéÁªëÂÆöÁöÑ this Â§±Êïà‰∫ÜÔºåÂ¶ÇÊûúÂ§ßÂÆ∂‰∫ÜËß£ new ÁöÑÊ®°ÊãüÂÆûÁé∞ÔºåÂ∞±‰ºöÁü•ÈÅìËøô‰∏™Êó∂ÂÄôÁöÑ this Â∑≤ÁªèÊåáÂêë‰∫Ü obj„ÄÇ (ÂìàÂìàÔºåÊàëËøôÊòØ‰∏∫ÊàëÁöÑ‰∏ã‰∏ÄÁØáÊñáÁ´†„ÄäJavaScriptÊ∑±ÂÖ•Á≥ªÂàó‰πãnewÁöÑÊ®°ÊãüÂÆûÁé∞„ÄãÊâìÂπøÂëä)„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰øÆÊîπËøîÂõûÁöÑÂáΩÊï∞ÁöÑÂéüÂûãÊù•ÂÆûÁé∞ÔºåËÆ©Êàë‰ª¨ÂÜô‰∏Ä‰∏ãÔºö // Á¨¨‰∏âÁâà Function.prototype.bind2 = function (context) { var self = this; var args = Array.prototype.slice.call(arguments, 1); var fBound = function () { var bindArgs = Array.prototype.slice.call(arguments); // ÂΩì‰Ωú‰∏∫ÊûÑÈÄ†ÂáΩÊï∞Êó∂Ôºåthis ÊåáÂêëÂÆû‰æãÔºåÊ≠§Êó∂ÁªìÊûú‰∏∫ trueÔºåÂ∞ÜÁªëÂÆöÂáΩÊï∞ÁöÑ this ÊåáÂêëËØ•ÂÆû‰æãÔºåÂèØ‰ª•ËÆ©ÂÆû‰æãËé∑ÂæóÊù•Ëá™ÁªëÂÆöÂáΩÊï∞ÁöÑÂÄº // ‰ª•‰∏äÈù¢ÁöÑÊòØ demo ‰∏∫‰æãÔºåÂ¶ÇÊûúÊîπÊàê `this instanceof fBound ? null : context`ÔºåÂÆû‰æãÂè™ÊòØ‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂ∞Ü null ÊîπÊàê this ÔºåÂÆû‰æã‰ºöÂÖ∑Êúâ habit Â±ûÊÄß // ÂΩì‰Ωú‰∏∫ÊôÆÈÄöÂáΩÊï∞Êó∂Ôºåthis ÊåáÂêë windowÔºåÊ≠§Êó∂ÁªìÊûú‰∏∫ falseÔºåÂ∞ÜÁªëÂÆöÂáΩÊï∞ÁöÑ this ÊåáÂêë context self.apply(this instanceof fBound ? this : context, args.concat(bindArgs)); } // ‰øÆÊîπËøîÂõûÂáΩÊï∞ÁöÑ prototype ‰∏∫ÁªëÂÆöÂáΩÊï∞ÁöÑ prototypeÔºåÂÆû‰æãÂ∞±ÂèØ‰ª•ÁªßÊâøÁªëÂÆöÂáΩÊï∞ÁöÑÂéüÂûã‰∏≠ÁöÑÂÄº fBound.prototype = this.prototype; return fBound; } Â¶ÇÊûúÂØπÂéüÂûãÈìæÁ®çÊúâÂõ∞ÊÉëÔºåÂèØ‰ª•Êü•Áúã„ÄäJavaScriptÊ∑±ÂÖ•‰πã‰ªéÂéüÂûãÂà∞ÂéüÂûãÈìæ„Äã„ÄÇ ÊûÑÈÄ†ÂáΩÊï∞ÊïàÊûúÁöÑ‰ºòÂåñÂÆûÁé∞‰ΩÜÊòØÂú®Ëøô‰∏™ÂÜôÊ≥ï‰∏≠ÔºåÊàë‰ª¨Áõ¥Êé•Â∞Ü fBound.prototype = this.prototypeÔºåÊàë‰ª¨Áõ¥Êé•‰øÆÊîπ fBound.prototype ÁöÑÊó∂ÂÄôÔºå‰πü‰ºöÁõ¥Êé•‰øÆÊîπÁªëÂÆöÂáΩÊï∞ÁöÑ prototype„ÄÇËøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™Á©∫ÂáΩÊï∞Êù•ËøõË°å‰∏≠ËΩ¨Ôºö // Á¨¨ÂõõÁâà Function.prototype.bind2 = function (context) { var self = this; var args = Array.prototype.slice.call(arguments, 1); var fNOP = function () {}; var fBound = function () { var bindArgs = Array.prototype.slice.call(arguments); self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs)); } fNOP.prototype = this.prototype; fBound.prototype = new fNOP(); return fBound; } Âà∞Ê≠§‰∏∫Ê≠¢ÔºåÂ§ßÁöÑÈóÆÈ¢òÈÉΩÂ∑≤ÁªèËß£ÂÜ≥ÔºåÁªôËá™Â∑±‰∏Ä‰∏™ËµûÔºÅo(Ôø£‚ñΩÔø£)ÔΩÑ ‰∏â‰∏™Â∞èÈóÆÈ¢òÊé•‰∏ãÊù•Â§ÑÁêÜ‰∫õÂ∞èÈóÆÈ¢ò: 1.apply ËøôÊÆµ‰ª£Á†ÅË∑ü MDN ‰∏äÁöÑÁ®çÊúâ‰∏çÂêå Âú® MDN ‰∏≠ÊñáÁâàËÆ≤ bind ÁöÑÊ®°ÊãüÂÆûÁé∞Êó∂Ôºåapply ËøôÈáåÁöÑ‰ª£Á†ÅÊòØÔºö self.apply(this instanceof self ? this : context || this, args.concat(bindArgs)) Â§ö‰∫Ü‰∏Ä‰∏™ÂÖ≥‰∫é context ÊòØÂê¶Â≠òÂú®ÁöÑÂà§Êñ≠ÔºåÁÑ∂ËÄåËøô‰∏™ÊòØÈîôËØØÁöÑÔºÅ ‰∏æ‰∏™‰æãÂ≠êÔºö var value = 2; var foo = { value: 1, bar: bar.bind(null) }; function bar() { console.log(this.value); } foo.bar() // 2 ‰ª•‰∏ä‰ª£Á†ÅÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ã‰ºöÊâìÂç∞ 2ÔºåÂ¶ÇÊûúÊç¢Êàê‰∫Ü context || thisÔºåËøôÊÆµ‰ª£Á†ÅÂ∞±‰ºöÊâìÂç∞ 1ÔºÅ ÊâÄ‰ª•ËøôÈáå‰∏çÂ∫îËØ•ËøõË°å context ÁöÑÂà§Êñ≠ÔºåÂ§ßÂÆ∂Êü•Áúã MDN ÂêåÊ†∑ÂÜÖÂÆπÁöÑËã±ÊñáÁâàÔºåÂ∞±‰∏çÂ≠òÂú®Ëøô‰∏™Âà§Êñ≠ÔºÅ 2.Ë∞ÉÁî® bind ÁöÑ‰∏çÊòØÂáΩÊï∞ÂíãÂäûÔºü ‰∏çË°åÔºåÊàë‰ª¨Ë¶ÅÊä•ÈîôÔºÅ if (typeof this !== &quot;function&quot;) { throw new Error(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;); } 3.ÊàëË¶ÅÂú®Á∫ø‰∏äÁî® ÈÇ£Âà´Âøò‰∫ÜÂÅö‰∏™ÂÖºÂÆπÔºö Function.prototype.bind = Function.prototype.bind || function () { ‚Ä¶‚Ä¶ }; ÂΩìÁÑ∂ÊúÄÂ•ΩÊòØÁî® es5-shim Âï¶„ÄÇ ÊúÄÁªà‰ª£Á†ÅÊâÄ‰ª•ÊúÄÊúÄÂêéÁöÑ‰ª£Á†ÅÂ∞±ÊòØÔºö Function.prototype.bind2 = function (context) { if (typeof this !== &quot;function&quot;) { throw new Error(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;); } var self = this; var args = Array.prototype.slice.call(arguments, 1); var fNOP = function () {}; var fBound = function () { var bindArgs = Array.prototype.slice.call(arguments); self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs)); } fNOP.prototype = this.prototype; fBound.prototype = new fNOP(); return fBound; }]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[async/await Â∞èÊäÄÂ∑ß]]></title>
    <url>%2F2017%2F08%2F30%2Fasync-await-%E5%B0%8F%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[async/await Â∞èÊäÄÂ∑ßsleep ÂáΩÊï∞‰ª•ÂâçÂè™Êé•‰ΩøÁî® setTimeout ÂíåÂõûË∞ÉÂáΩÊï∞ÂÆûÁé∞‰∏Ä‰∏™ sleep ‰ºöÊúâÂæàÂ§öÁöÑÂâØ‰ΩúÁî®ÔºåÁî®Ëµ∑Êù•Âæà‰∏çÊñπ‰æø„ÄÇ ÊâÄ‰ª•ËÆ© setTimeout Êê≠ÈÖç‰ΩøÁî® async/await constsleep=delay=&gt; { returnnewPromise(resolve=&gt; { setTimeout(resolve, delay) }) } constfn=async_=&gt; { console.log(&apos;starting....&apos;) awaitsleep(1000) console.log(&apos;after sleeping for 1 second&apos;) } Êê≠ÈÖç map() ÂáΩÊï∞Âú® map ‰∏≠ÂºïÂÖ•ÂºÇÊ≠•Â§ÑÁêÜ: constarr= [1,2,3,4,5] constasyncFn=data=&gt; { // ÂºÇÊ≠•Â§ÑÁêÜÂáΩÊï∞ } constresults=arr.map(asyncnum=&gt; { awaitasyncFn(num) return++num }) console.log(results) ‰ª£Á†ÅÊâßË°åÂêéÁöÑÁªìÊûú [Promise, Promise, Promise, Promise, Promise] ËÄå‰∏î map ÂáΩÊï∞Âπ∂‰∏ç‰ºöÁ≠âÂºÇÊ≠•ÂáΩÊï∞ asyncFn ÊâßË°åÂÆåÊØïÂêéÂÜçËøîÂõûÁªìÊûú Êó¢ÁÑ∂ async ÊâßË°åÂêé‰ºöËøîÂõû‰∏Ä‰∏™ Promise ÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•ÈÄöËøá Promise.all ÁöÑÁä∂ÊÄÅÊù•Âà§Êñ≠ÂºÇÊ≠•ÂáΩÊï∞ÁöÑÁä∂ÊÄÅ: constarr= [1,2,3,4,5] constasyncFn=data=&gt; { // ÂºÇÊ≠•Â§ÑÁêÜÂáΩÊï∞ } constp=arr.map(asyncnum=&gt; { awaitasyncFn(num) return++num }) Promise.all(p).then(results=&gt; { console.log(results) }) ËøôÊ†∑Â∞±ËÉΩÊ≠£Â∏∏ËøîÂõûÁªìÊûú [2, 3, 4, 5, 6] ‰ΩøÁî® await ‰ª£Êõø then() ÂáΩÊï∞‰∏äÈù¢ÁöÑ‰æãÂ≠êÊúÄÂêé‰ΩøÁî®‰∫Ü Promise.all ËøòÊòØÂõûÂà∞‰∫Ü‰ΩøÁî®ÂõûË∞ÉÂáΩÊï∞ÁöÑÊñπÂºè Ëøô‰∏™‰πüÂæàÂ•ΩËß£ÂÜ≥ÔºåÂè™ÈúÄË¶ÅÂú®Â§ñÂ±ÇÂÜçÂä†‰∏Ä‰∏™ async ÂáΩÊï∞ constmain=async_=&gt; { constresults=awaitPromise.all(arr.map(num=&gt; { awaitasyncFn() return++num })) console.log(results) } main() Êê≠ÈÖç reduce() ÂáΩÊï∞ÈÄöËøáÂºïÂÖ• async/await ÂèØ‰ª•Êää reduce Êâ©Â±ïÊàê‰∏Ä‰∏™ÊåâÈ°∫Â∫èÊâßË°åÂºÇÊ≠•ÂáΩÊï∞ÁöÑÂ∑•ÂÖ∑ reduce Áî®Ëµ∑Êù•ÂæàÁÆÄÂçï: constarr= [1,2,3,4,5] constresult=arr.reduce((prev, next) =&gt; { return prev+next }, 0) console.log(result) ÂÉè map ÂáΩÊï∞‰∏ÄÊ†∑ÂºïÂÖ• async/await : constarr= [1,2,3,4,5] constmain=async_=&gt; { constresult=awaitarr.reduce(async (prev, next) =&gt; { consttmp=await prev return tmp + next }, Promise.resolve(0)) console.log(result) } main() ËÄå‰∏îËøòÂèØ‰ª•Âú® reduce ÂÜÖÈÉ®Âä†ÂÖ•ÂºÇÊ≠•ÂáΩÊï∞: constarr= [1,2,3,4,5] constmain=async_=&gt; { constresult=awaitarr.reduce(async (prev, next) =&gt; { consttmp=await prev // ÂºÇÊ≠•Â§ÑÁêÜ ÊöÇÂÅú1sawaitsleep(1000) console.log(tmp + next) return tmp + next }, Promise.resolve(0)) } main() ‰∏äËø∞‰ª£Á†Å‰ºöÊØèÈöî‰∏ÄÁßí‰æùÊ¨°ÊâìÂá∫ 1 3 6 10 15 ÂèÇËÄÉËá™ http://2ality.com/2016/10/async-function-tips.html]]></content>
      <tags>
        <tag>async</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áî®cssËÆ©‰∏Ä‰∏™ÂÆπÂô®Ê∞¥Âπ≥ÂûÇÁõ¥Â±Ö‰∏≠]]></title>
    <url>%2F2017%2F08%2F15%2F%E7%94%A8css%E8%AE%A9%E4%B8%80%E4%B8%AA%E5%AE%B9%E5%99%A8%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[ÈòÖËØªÁõÆÂΩï ÊñπÊ≥ï‰∏ÄÔºöpositionÂä†margin ÊñπÊ≥ï‰∫åÔºö diaplay:table-cell ÊñπÊ≥ï‰∏âÔºöpositionÂä† transform ÊñπÊ≥ïÂõõÔºöflex;align-items: center;justify-content: center ÊñπÊ≥ï‰∫îÔºödisplay:flex;margin:auto ÊñπÊ≥ïÂÖ≠ÔºöÁ∫Øposition ËøôÁßçcssÂ∏ÉÂ±ÄÂπ≥Êó∂Áî®ÁöÑÊØîËæÉÂ§öÔºå‰πüÊòØÈù¢ËØïÈ¢òÂ∏∏Âá∫ÁöÑ‰∏Ä‰∏™È¢òÔºåÁΩë‰∏ä‰∏ÄÊêú‰∏ÄÂ§ß‰∏¢Ôºå‰∏çËøáËøòÊòØÊÉ≥Ëá™Â∑±ÊÄªÁªì‰∏Ä‰∏ã„ÄÇ ËøôÁßçÊñπÊ≥ïÊØîËæÉÂ§öÔºåÊú¨ÊñáÂè™ÊÄªÁªìÂÖ∂‰∏≠ÁöÑÂá†ÁßçÔºå‰ª•‰æøÂä†Ê∑±Âç∞Ë±°„ÄÇ ÊïàÊûúÂõæÈÉΩ‰∏∫Ëøô‰∏™Ôºö ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ï‰∏ÄÔºöpositionÂä†margin/**html**/ &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /**css**/ .wrap { width: 200px; height: 200px; background: yellow; position: relative; } .wrap .center { width: 100px; height: 100px; background: green; margin: auto; position: absolute; left: 0; right: 0; top: 0; bottom: 0; } ÂÖºÂÆπÊÄßÔºö‰∏ªÊµÅÊµèËßàÂô®ÂùáÊîØÊåÅÔºåIE6‰∏çÊîØÊåÅ ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ï‰∫åÔºö diaplay:table-cell&lt;!-- html --&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /*css*/ .wrap{ width: 200px; height: 200px; background: yellow; display: table-cell; vertical-align: middle; text-align: center; } .center{ display: inline-block; vertical-align: middle; width: 100px; height: 100px; background: green; } ÂÖºÂÆπÊÄßÔºöÁî±‰∫édisplay:table-cellÁöÑÂéüÂõ†ÔºåIE6\7‰∏çÂÖºÂÆπ ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ï‰∏âÔºöpositionÂä† transform&lt;!-- html --&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /* css */ .wrap { position: relative; background: yellow; width: 200px; height: 200px;} .center { position: absolute; background: green; top:50%; left:50%; -webkit-transform:translate(-50%,-50%); transform:translate(-50%,-50%); width: 100px; height: 100px; } ÂÖºÂÆπÊÄßÔºöie9‰ª•‰∏ã‰∏çÊîØÊåÅ transformÔºåÊâãÊú∫Á´ØË°®Áé∞ÁöÑÊØîËæÉÂ•Ω„ÄÇ ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ïÂõõÔºöflex;align-items: center;justify-content: center&lt;!-- html --&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /* css */ .wrap { background: yellow; width: 200px; height: 200px; display: flex; align-items: center; justify-content: center; } .center { background: green; width: 100px; height: 100px; } ÁßªÂä®Á´ØÈ¶ñÈÄâ ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ï‰∫îÔºödisplay:flex;margin:auto&lt;!-- html --&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /* css */ .wrap { background: yellow; width: 200px; height: 200px; display: flex; } .center { background: green; width: 100px; height: 100px; margin: auto; } ÁßªÂä®Á´ØÈ¶ñÈÄâ ÂõûÂà∞È°∂ÈÉ® ÊñπÊ≥ïÂÖ≠ÔºöÁ∫Øposition&lt;!-- html --&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div class=&quot;center&quot;&gt;&lt;/div&gt; &lt;/div&gt; /* css */ .wrap { background: yellow; width: 200px; height: 200px; position: relative; } /**ÊñπÊ≥ï‰∏Ä**/ .center { background: green; position: absolute; width: 100px; height: 100px; left: 50px; top: 50px; } /**ÊñπÊ≥ï‰∫å**/ .center { background: green; position: absolute; width: 100px; height: 100px; left: 50%; top: 50%; margin-left:-50px; margin-top:-50px; } ÂÖºÂÆπÊÄßÔºöÈÄÇÁî®‰∫éÊâÄÊúâÊµèËßàÂô® ÊñπÊ≥ïÂÖ≠‰∏≠ÁöÑÊñπÊ≥ï‰∏ÄËÆ°ÁÆóÂÖ¨ÂºèÂ¶Ç‰∏ãÔºö Â≠êÂÖÉÁ¥†ÔºàconterÔºâÁöÑleftÂÄºËÆ°ÁÆóÂÖ¨ÂºèÔºöleft=(Áà∂ÂÖÉÁ¥†ÁöÑÂÆΩ - Â≠êÂÖÉÁ¥†ÁöÑÂÆΩ ) / 2=(200-100) / 2=50px; Â≠êÂÖÉÁ¥†ÔºàconterÔºâÁöÑtopÂÄºËÆ°ÁÆóÂÖ¨ÂºèÔºötop=(Áà∂ÂÖÉÁ¥†ÁöÑÈ´ò - Â≠êÂÖÉÁ¥†ÁöÑÈ´ò ) / 2=(200-100) / 2=50px; ÊñπÊ≥ï‰∫åËÆ°ÁÆóÂÖ¨ÂºèÔºö leftÂÄºÂõ∫ÂÆö‰∏∫50%; Â≠êÂÖÉÁ¥†ÁöÑmargin-left= -ÔºàÂ≠êÂÖÉÁ¥†ÁöÑÂÆΩ/2Ôºâ=-100/2= -50px; topÂÄº‰πü‰∏ÄÊ†∑ÔºåÂõ∫ÂÆö‰∏∫50% Â≠êÂÖÉÁ¥†ÁöÑmargin-top= -ÔºàÂ≠êÂÖÉÁ¥†ÁöÑÈ´ò/2Ôºâ=-100/2= -50px;]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏∫‰ªÄ‰πàRedux ÈúÄË¶Å reducersÊòØÁ∫ØÂáΩÊï∞Ôºü]]></title>
    <url>%2F2017%2F07%2F31%2F%E4%B8%BA%E4%BB%80%E4%B9%88Redux-%E9%9C%80%E8%A6%81-reducers%E6%98%AF%E7%BA%AF%E5%87%BD%E6%95%B0%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[‰∏∫‰ªÄ‰πàRedux ÈúÄË¶Å reducersÊòØÁ∫ØÂáΩÊï∞Ôºü ËøôÂèàÊòØ‰∏Ä‰∏™ÂæàÂéâÂÆ≥ÁöÑÈóÆÈ¢ò‰∫ÜÔºå‰ΩøÁî®ReduxÁöÑÈÉΩÁü•ÈÅìÔºåreducers‰ºöÊé•Êî∂‰∏ä‰∏Ä‰∏™stateÂíåaction‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑstateÔºåËøô‰∏™Êñ∞ÁöÑstate‰∏çËÉΩÊòØÂú®ÂéüÊù•stateÂü∫Á°Ä‰∏äÁöÑ‰øÆÊîπ„ÄÇÊâÄ‰ª•ÁªèÂ∏∏ÂèØ‰ª•ÁúãÂà∞‰ª•‰∏ãÁöÑÂÜôÊ≥ïÔºö123return Object.assign(...)//ÊàñËÄÖ----------return &#123;...state,xx:xxx&#125; ÂÖ∂‰ΩúÁî®ÔºåÈÉΩÊòØ‰∏∫‰∫ÜËøîÂõû‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂØπË±°„ÄÇ ‰∏∫‰ªÄ‰πàreducersË¶ÅÊ±ÇÊòØÁ∫ØÂáΩÊï∞(ËøîÂõûÂÖ®Êñ∞ÁöÑÂØπË±°Ôºå‰∏çÂΩ±ÂìçÂéüÂØπË±°)? ‚ÄìÊüêÈù¢ËØïÂÆò Á∫ØÂáΩÊï∞‰ªéÊú¨Ë¥®‰∏äËÆ≤ÔºåÁ∫ØÂáΩÊï∞ÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö‰∏ç‰øÆÊîπÂáΩÊï∞ÁöÑËæìÂÖ•ÂÄºÔºå‰æùËµñ‰∫éÂ§ñÈÉ®Áä∂ÊÄÅÔºàÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìÔºåDOMÂíåÂÖ®Â±ÄÂèòÈáèÔºâÔºåÂêåÊó∂ÂØπ‰∫é‰ªª‰ΩïÁõ∏ÂêåÁöÑËæìÂÖ•ÊúâÁùÄÁõ∏ÂêåÁöÑËæìÂá∫ÁªìÊûú„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºå‰∏ãÈù¢ÁöÑaddÂáΩÊï∞‰∏ç‰øÆÊîπÂèòÈáèaÊàñbÔºåÂêåÊó∂‰∏ç‰æùËµñÂ§ñÈÉ®Áä∂ÊÄÅÔºåÂØπ‰∫éÁõ∏ÂêåÁöÑËæìÂÖ•ÂßãÁªàËøîÂõûÁõ∏ÂêåÁöÑÁªìÊûú„ÄÇ1const add = (a,b) =&gt; &#123;a + b&#125;; ËøôÂ∞±ÊòØ‰∏Ä‰∏™Á∫ØÂáΩÊï∞ÔºåÁªìÊûúÂØπa„ÄÅbÊ≤°Êúâ‰ªª‰ΩïÂΩ±ÂìçÔºåÂõûÂ§¥ÂéªÁúãreducerÔºåÂÆÉÁ¨¶ÂêàÁ∫ØÂáΩÊï∞ÁöÑÊâÄÊúâÁâπÂæÅÔºåÊâÄ‰ª•Â∞±ÊòØ‰∏Ä‰∏™Á∫ØÂáΩÊï∞‰∏∫‰ªÄ‰πàÂøÖÈ°ªÊòØÁ∫ØÂáΩÊï∞?ÂÖàÂëäËØâ‰Ω†ÁªìÊûúÂêßÔºåÂ¶ÇÊûúÂú®reducer‰∏≠ÔºåÂú®ÂéüÊù•ÁöÑstate‰∏äËøõË°åÊìç‰ΩúÔºåÂπ∂ËøîÂõûÁöÑËØùÔºåÂπ∂‰∏ç‰ºöËÆ©ReactÈáçÊñ∞Ê∏≤Êüì„ÄÇ ÂÆåÂÖ®‰∏ç‰ºöÊúâ‰ªª‰ΩïÂèòÂåñÔºÅÊé•‰∏ãÊù•Áúã‰∏ãReduxÁöÑÊ∫êÁ†ÅÔºöReduxÊé•Êî∂‰∏Ä‰∏™ÁªôÂÆöÁöÑstateÔºàÂØπË±°ÔºâÔºåÁÑ∂ÂêéÈÄöËøáÂæ™ÁéØÂ∞ÜstateÁöÑÊØè‰∏ÄÈÉ®ÂàÜ‰º†ÈÄíÁªôÊØè‰∏™ÂØπÂ∫îÁöÑreducer„ÄÇÂ¶ÇÊûúÊúâÂèëÁîü‰ªª‰ΩïÊîπÂèòÔºåreducerÂ∞ÜËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°„ÄÇÂ¶ÇÊûú‰∏çÂèëÁîü‰ªª‰ΩïÂèòÂåñÔºåreducerÂ∞ÜËøîÂõûÊóßÁöÑstate„ÄÇReduxÂè™ÈÄöËøáÊØîËæÉÊñ∞Êóß‰∏§‰∏™ÂØπË±°ÁöÑÂ≠òÂÇ®‰ΩçÁΩÆÊù•ÊØîËæÉÊñ∞Êóß‰∏§‰∏™ÂØπË±°ÊòØÂê¶Áõ∏Âêå„ÄÇÂ¶ÇÊûú‰Ω†Âú®reducerÂÜÖÈÉ®Áõ¥Êé•‰øÆÊîπÊóßÁöÑstateÂØπË±°ÁöÑÂ±ûÊÄßÂÄºÔºåÈÇ£‰πàÊñ∞ÁöÑstateÂíåÊóßÁöÑstateÂ∞ÜÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±°„ÄÇÂõ†Ê≠§ReduxËÆ§‰∏∫Ê≤°Êúâ‰ªª‰ΩïÊîπÂèòÔºåËøîÂõûÁöÑstateÂ∞Ü‰∏∫ÊóßÁöÑstate„ÄÇÂ•Ω‰∫ÜÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰ªéÊ∫êÁ†ÅÁöÑËßíÂ∫¶Êù•ËÆ≤ÔºåreduxË¶ÅÊ±ÇÂºÄÂèëËÄÖÂøÖÈ°ªËÆ©Êñ∞ÁöÑstateÊòØÂÖ®Êñ∞ÁöÑÂØπË±°„ÄÇÈÇ£‰πà‰∏∫‰ªÄ‰πàÈùûË¶ÅËøô‰πàÈ∫ªÁÉ¶ÂºÄÂèëËÄÖÂë¢ÔºüËØ∑Áúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºöÂ∞ùËØïÊØîËæÉaÂíåbÊòØÂê¶Áõ∏Âêå12345678910111213var a = &#123; name: &apos;jack&apos;, friend: [&apos;sam&apos;,&apos;xiaoming&apos;,&apos;cunsi&apos;], years: 12, ...//ÁúÅÁï•nÈ°πÁõÆ&#125; var b = &#123; name: &apos;jack&apos;, friend: [&apos;sam&apos;,&apos;xiaoming&apos;,&apos;cunsi&apos;], years: 13, ...//ÁúÅÁï•nÈ°πÁõÆ&#125; ÊÄùË∑ØÊòØÊÄéÊ†∑ÁöÑÔºüÊàë‰ª¨ÈúÄË¶ÅÈÅçÂéÜÂØπË±°ÔºåÂ¶ÇÊûúÂØπË±°ÁöÑÂ±ûÊÄßÊòØÊï∞ÁªÑÔºåËøòÈúÄË¶ÅËøõË°åÈÄíÂΩíÈÅçÂéÜÔºåÂéªÁúãÂÜÖÂÆπÊòØÂê¶‰∏ÄËá¥„ÄÅÊòØÂê¶ÂèëÁîü‰∫ÜÂèòÂåñ„ÄÇ ËøôÂ∏¶Êù•ÁöÑÊÄßËÉΩÊçüËÄóÊòØÈùûÂ∏∏Â∑®Â§ßÁöÑ„ÄÇ ÊúâÊ≤°ÊúâÊõ¥Â•ΩÁöÑÂäûÊ≥ïÔºüÊúâÔºÅ12//Êé•‰∏äÈù¢ÁöÑ‰æãÂ≠êa === b //false Êàë‰∏çË¶ÅËøõË°åÊ∑±Â∫¶ÊØîËæÉÔºåÂè™ÊòØÊµÖÊØîËæÉÔºåÂºïÁî®ÂÄº‰∏ç‰∏ÄÊ†∑(‰∏çÊòØÂêå‰∏Ä‰∏™ÂØπË±°),ÈÇ£Â∞±ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ËøôÂ∞±ÊòØreduxÁöÑreducerÂ¶ÇÊ≠§ËÆæËÆ°ÁöÑÂéüÂõ†‰∫Ü]]></content>
      <tags>
        <tag>redux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Node.jsÁöÑÊñá‰ª∂Ë∑ØÂæÑÁöÑ‰∏Ä‰∫õÂùë]]></title>
    <url>%2F2017%2F07%2F09%2FNode-js%E7%9A%84%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÊúÄËøëÂú®ÂÜô‰∏ÄÁØáweexÁöÑwebpackÈÖçÁΩÆÔºåÂàöÂàöË∏©Âùë‰∫ÜÔºåweekpack‰∏≠‰ºöÁî®Âà∞pathÊ®°ÂùóÔºåËÄåÂØπ‰∫éËøô‰∏™Ê®°ÂùóÔºåÊàëÊÉ≥ÊäΩÁ¶ªÂá∫Êù•Áúã‰∏Ä‰∏ãÔºåÂõ†‰∏∫Ëøô‰∏™Áî®Âà∞ÁöÑËøòÊòØÊØîËæÉÂ§öÁöÑ,ÂñúÊ¨¢ÁöÑÊúãÂèãÂèØ‰ª•ÁÇπ‰∏™ÂñúÊ¨¢ÔºåÊàñËÄÖÂéªÊàëÁöÑgithubÁÇπ‰∏™star‰πüË°åÔºåË∞¢Ë∞¢ÊîØÊåÅÔºå‰∏æËµ∑Â∞èÊâãÊåáÁÇπ‰∏ÄÁÇπÂì¶üòØÔºåÂÜôÁöÑ‰∏çÂØπÁöÑÂú∞ÊñπÔºåËØÑËÆ∫ÊãçÁ†ñÔºåË∞¢Ë∞¢„ÄÇ node‰∏≠ÁöÑË∑ØÂæÑÂàÜÁ±ªnode‰∏≠ÁöÑË∑ØÂæÑÂ§ßËá¥ÂàÜ5Á±ªÔºådirname,filename,process.cwd(),./,../,ÂÖ∂‰∏≠Ââç‰∏â‰∏™ÈÉΩÊòØÁªùÂØπË∑ØÂæÑ Êàë‰ª¨ÂÖàÊù•Áúã‰∏Ä‰∏™ÁÆÄÂçïÁÇπÁöÑ‰æãÂ≠ê ÂÅáÂ¶ÇÔºåÊàëÊúâ‰∏Ä‰∏™Êñá‰ª∂ÁöÑÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÔºö editor/ - dist/ - src/ - task.js ÁÑ∂ÂêéÊàë‰ª¨Âú®task.jsÊñá‰ª∂‰∏≠ÂÜôÂÖ•‰∏Ä‰∏ã‰ª£Á†Å const path = require(&apos;path&apos;); console.log(__dirname); console.log(__filename); console.log(process.cwd()); console.log(path.resolve(&apos;./&apos;)); Âú®editorÁõÆÂΩï‰∏ãËøêË°ånode src/task.jsÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÁªìÊûúÂ¶Ç‰∏ãÔºö /Users/laihuamin/Documents/richEditor/editor/src /Users/laihuamin/Documents/richEditor/editor/src/task.js /Users/laihuamin/Documents/richEditor/editor /Users/laihuamin/Documents/richEditor/editor ÁÑ∂ÂêéÊàë‰ª¨ÊúâÂèØ‰ª•Âú®srcÁõÆÂΩï‰∏ãËøêË°åËøô‰∏™Êñá‰ª∂Ôºånode task.js,ËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö /Users/laihuamin/Documents/richEditor/editor/src /Users/laihuamin/Documents/richEditor/editor/src/task.js /Users/laihuamin/Documents/richEditor/editor/src /Users/laihuamin/Documents/richEditor/editor/src ÂØπÊØî‰∏§‰∏™ËæìÂá∫ÁªìÊûúÔºåÊàë‰ª¨ÂèØ‰ª•ÂΩíÁ∫≥‰∏Ä‰∏ãÂá†ÁÇπÔºö 1.dirname:ËøîÂõûÁöÑÊòØËøô‰∏™Êñá‰ª∂ÊâÄÂú®Êñá‰ª∂Â§πÁöÑ‰ΩçÁΩÆ2.filename:‰Ω†ËøêË°åÂëΩ‰ª§‰ª£Ë°®ÁöÑÊòØÊñá‰ª∂ÊâÄÂú®ÁöÑ‰ΩçÁΩÆÔºå‰∏çÁÆ°‰Ω†ËøêË°å‰ªÄ‰πàÂëΩ‰ª§ÔºåÈÉΩÊòØÊåáÂêëÊñá‰ª∂3.process.cwd():‰Ω†ËøêË°ånodeÂëΩ‰ª§ÊâÄÂú®Êñá‰ª∂Â§πÁöÑ‰ΩçÁΩÆÔºåÊØîÂ¶Ç‰Ω†Âú®srcÁõÆÂΩï‰∏ãËøêË°åÔºåÈÇ£‰πàÂ∞±ÊòØËæìÂá∫Âà∞src‰∏∫Ê≠¢Ôºå‰∏ãÈù¢ÁöÑÂêåÁêÜ„ÄÇ Node.js‰∏≠ÁöÑÊñá‰ª∂Ë∑ØÂæÑÂ§ßÊ¶ÇÊúâ dirname, filename, process.cwd(), ./ ÊàñËÄÖ ../ÔºåÂâç‰∏â‰∏™ÈÉΩÊòØÁªùÂØπË∑ØÂæÑÔºå‰∏∫‰∫Ü‰æø‰∫éÊØîËæÉÔºå./ Âíå ../ Êàë‰ª¨ÈÄöËøá path.resolve(‚Äò./‚Äò)Êù•ËΩ¨Êç¢‰∏∫ÁªùÂØπË∑ØÂæÑ„ÄÇÁÆÄÂçïËØ¥‰∏Ä‰∏ãËøôÂá†‰∏™Ë∑ØÂæÑÁöÑÊÑèÊÄùÔºåÔºö1234__dirnameÔºö Ëé∑ÂæóÂΩìÂâçÊâßË°åÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÁöÑÂÆåÊï¥ÁõÆÂΩïÂêç__filenameÔºö Ëé∑ÂæóÂΩìÂâçÊâßË°åÊñá‰ª∂ÁöÑÂ∏¶ÊúâÂÆåÊï¥ÁªùÂØπË∑ØÂæÑÁöÑÊñá‰ª∂Âêçprocess.cwd()ÔºöËé∑ÂæóÂΩìÂâçÊâßË°ånodeÂëΩ‰ª§Êó∂ÂÄôÁöÑÊñá‰ª∂Â§πÁõÆÂΩïÂêç ./Ôºö Êñá‰ª∂ÊâÄÂú®ÁõÆÂΩï ÂÖàÁúã‰∏ÄÁúãÊàëÁîµËÑëÂΩìÂâçÁöÑÁõÆÂΩïÁªìÊûÑÔºö12345678syntax/ -nodejs/ -1.findLargest.js -2.path.js -3.fs.js -regs -regx.js -test.txt Âú® path.js ÈáåÈù¢Êàë‰ª¨ÂÜôËøô‰∫õ‰ª£Á†ÅÔºåÁúãÁúãËæìÂá∫ÊòØ‰ªÄ‰πàÔºö12345const path = require(&apos;path&apos;)console.log(&apos;__dirnameÔºö&apos;, __dirname)console.log(&apos;__filenameÔºö&apos;, __filename)console.log(&apos;process.cwd()Ôºö&apos;, process.cwd())console.log(&apos;./Ôºö&apos;, path.resolve(&apos;./&apos;)) Âú®ÂΩìÂâçÁõÆÂΩï‰∏ã‰πüÂ∞±ÊòØnodejsÁõÆÂΩïËøêË°ånode path.jsÔºåÊàë‰ª¨ÁúãÁúãËæìÂá∫ÁªìÊûúÔºö1234__dirnameÔºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs__filenameÔºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs/2.path.jsprocess.cwd()Ôºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs./Ôºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs ÁÑ∂ÂêéÂú® È°πÁõÆÊ†πÁõÆÂΩïES6-lottery ÁõÆÂΩï‰∏ãËøêË°å node syntax/nodejs/2.path.jsÔºåÊàë‰ª¨ÂÜçÊù•ÁúãÁúãËæìÂá∫ÁªìÊûúÔºö1234__dirnameÔºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs__filenameÔºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery/syntax/nodejs/2.path.jsprocess.cwd()Ôºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery./Ôºö /Users/jawil/Desktop/nodejs/demo/ES6-lottery Á≠îÊ°àÊòæËÄåÊòìËßÅÔºüÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏äÈù¢ÁöÑ‰æãÂ≠êÂØπÊØîÔºåÊöÇÊó∂ÂæóÂá∫Ë°®Èù¢ÁöÑÁªìËÆ∫Ôºö1234__dirname: ÊÄªÊòØËøîÂõûË¢´ÊâßË°åÁöÑ js ÊâÄÂú®Êñá‰ª∂Â§πÁöÑÁªùÂØπË∑ØÂæÑ__filename: ÊÄªÊòØËøîÂõûË¢´ÊâßË°åÁöÑ js ÁöÑÁªùÂØπË∑ØÂæÑprocess.cwd(): ÊÄªÊòØËøîÂõûËøêË°å node ÂëΩ‰ª§Êó∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§πÁöÑÁªùÂØπË∑ØÂæÑ./: Ë∑ü process.cwd() ‰∏ÄÊ†∑ÔºåËøîÂõû node ÂëΩ‰ª§Êó∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§πÁöÑÁªùÂØπË∑ØÂæÑ require() Ê∫êÁ†ÅËß£ËØª ÈÇ£‰πàÂÖ≥‰∫é ./ Ê≠£Á°ÆÁöÑÁªìËÆ∫ÊòØÔºö Âú® require() ‰∏≠‰ΩøÁî®ÊòØË∑ü __dirname ÁöÑÊïàÊûúÁõ∏ÂêåÔºå‰∏ç‰ºöÂõ†‰∏∫ÂêØÂä®ËÑöÊú¨ÁöÑÁõÆÂΩï‰∏ç‰∏ÄÊ†∑ËÄåÊîπÂèòÔºåÂú®ÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãË∑ü process.cwd() ÊïàÊûúÁõ∏ÂêåÔºåÊòØÁõ∏ÂØπ‰∫éÂêØÂä®ËÑöÊú¨ÊâÄÂú®ÁõÆÂΩïÁöÑË∑ØÂæÑ„ÄÇÂè™ÊúâÂú® require() Êó∂Êâç‰ΩøÁî®Áõ∏ÂØπË∑ØÂæÑ(./, ../)ÁöÑÂÜôÊ≥ïÔºåÂÖ∂‰ªñÂú∞Êñπ‰∏ÄÂæã‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÔºåÂ¶Ç‰∏ãÔºö 1234// ÂΩìÂâçÁõÆÂΩï‰∏ã path.dirname(__filename) + &apos;/path.js&apos;; // Áõ∏ÈÇªÁõÆÂΩï‰∏ã path.resolve(__dirname, &apos;../regx/regx.js&apos;); pathËÆ≤ÂÆåÂâçÈù¢‰∏â‰∏™ÁªùÂØπË∑ØÂæÑÔºåÊàëÂÄíÊòØÊå∫ÊÉ≥Êù•ËÅäËÅäpathËøô‰∏™Ê®°ÂùóÁöÑÔºåËøô‰∏™nodeÊ®°ÂùóÂú®ÂæàÂ§öÂú∞ÊñπÈÉΩÊúâÂ∫îÁî®ÔºåÊâÄ‰ª•ÔºåÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥ÔºåÊéåÊè°‰ªñÔºåÂØπÊàë‰ª¨‰ª•ÂêéÁöÑÂèëÂ±ïÊõ¥ÊúâÂà©Ôºå‰∏çÁî®ÊØèÊ¨°ÁúãwebpackÁöÑÈÖçÁΩÆÊñá‰ª∂ËøòË¶ÅÂéªÊü•ËØ¢‰∏Ä‰∏ãËøô‰∏™apiÊòØÂπ≤‰ªÄ‰πàÁî®ÁöÑÔºåÂæàÂΩ±ÂìçÊàë‰ª¨ÁöÑÊïàÁéá nodeJS/path ‰∏äÈù¢ÈÇ£‰∏™ÁΩëÁ´ôÊúâËØ¶ÁªÜÁöÑapiÔºå‰ΩÜÊòØÊàë‰ª¨ËøôÈáå‰∏çÁî®ÈÉΩÊéåÊè°ÂêßÔºåÊàëÂ∞±ËÆ≤Âá†‰∏™ÊàëÈÅáÂà∞ËøáÁöÑÔºåÊàëËßâÂæówebpackÁ≠âÂ∑•Á®ãÈÖçÁΩÆ‰∏≠‰ºöÁî®Âà∞ÁöÑ path.normalizeËøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØÊää‰∏çËßÑËåÉÁöÑË∑ØÂæÑËßÑËåÉÂåñÔºåÊØîÂ¶ÇÁúã‰∏ãÈù¢ÁöÑ‰æãÂ≠ê const path = require(&apos;path&apos;); console.log(path.normalize(&apos;/foo/bar//baz/asdf/quux/..&apos;)); ËæìÂá∫ÁªìÊûúÔºö /foo/bar/baz/asdf path.joinconst path = require(&apos;path&apos;); console.log(path.join(&apos;src&apos;, &apos;task.js&apos;)); const path = require(&apos;path&apos;); console.log(path.join(&apos;dist&apos;, &apos;task.js&apos;)); const path = require(&apos;path&apos;); console.log(path.join(&apos;&apos;)); Ëøô‰πà‰∏§‰∏™ÁöÑËæìÂá∫ÁªìÊûúÊòØÔºö src/task.js dist/task.js . ‰ªñÁöÑ‰ΩúÁî®‰πüÂ∞±ÊòæËÄåÊòìËßÅÔºå‰ªñÊúâ‰∏Ä‰∏ãÂá†Êù°ËßÑÂàôÔºö1.‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤ÁöÑË∑ØÂæÑÁâáÊÆµÔºåÂèØ‰ª•ÊòØ‰∏Ä‰∏™Ôºå‰πüÂèØ‰ª•ÊòØÂ§ö‰∏™ 2.ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÊãºÊé•Â•ΩÁöÑË∑ØÂæÑÔºå‰ΩÜÊòØÊ†πÊçÆÂπ≥Âè∞ÁöÑ‰∏çÂêåÔºå‰ªñ‰ºöÂØπË∑ØÂæÑËøõË°å‰∏çÂêåÁöÑËßÑËåÉÂåñÔºå‰∏æ‰∏™‰æãÂ≠êÔºåUnixÁ≥ªÁªüÊòØ‚Äù/‚ÄúÔºåWindowsÁ≥ªÁªüÊòØ‚Äù\‚ÄúÔºåÈÇ£‰πà‰Ω†Âú®‰∏§‰∏™Á≥ªÁªü‰∏ãÁúãÂà∞ÁöÑËøîÂõûÁªìÊûúÂ∞±‰∏ç‰∏ÄÊ†∑„ÄÇ 3.Â¶ÇÊûúËøîÂõûÁöÑË∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶‰∏∫Èõ∂ÔºåÈÇ£‰πà‰ªñ‰ºöËøîÂõû‰∏Ä‰∏™‚Äô.‚ÄôÔºå‰ª£Ë°®ÂΩìÂâçÁöÑÊñá‰ª∂Â§π„ÄÇ 4.Â¶ÇÊûú‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏≠Êúâ‰∏çÊòØÂ≠óÁ¨¶‰∏≤ÁöÑÔºåÈÇ£Â∞±Áõ¥Êé•‰ºöÊä•Èîô path.parseÊàë‰ª¨ÂÖàÊù•Áúã‰∏™‰æãÂ≠êÔºåÂú®srcÁõÆÂΩï‰∏ãÁöÑtask.jsÂÜôÂÖ• const path = require(&apos;path&apos;); console.log(path.parse(&apos;/Users/laihuamin/Documents/richEditor/editor&apos;)); ÁÑ∂ÂêéËøêË°ånode src/task.js‰πãÂêé,ËæìÂá∫ÁöÑÁªìÊûúÂ¶Ç‰∏ãÔºö { root: &apos;/&apos;, dir: &apos;/Users/laihuamin/Documents/richEditor&apos;, base: &apos;editor&apos;, ext: &apos;&apos;, name: &apos;editor&apos; } ‰ªñËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÈÇ£‰πàÊàë‰ª¨Êù•ÊääËøô‰πàÂá†‰∏™ÂêçËØçÁÜüÊÇâ‰∏Ä‰∏ãÔºö Ëøô‰∏™Ë°®Ê†ºÂ∫îËØ•Â±ïÁ§∫ÁöÑÂæàÂΩ¢Ë±°Ôºå‰ΩÜÊòØÊàë‰ª¨ËøòÊòØÊù•Ëß£Èáä‰∏Ä‰∏ãËøô‰∫õÂêçËØçÔºö1.rootÔºö‰ª£Ë°®Ê†πÁõÆÂΩï2.dirÔºö‰ª£Ë°®Êñá‰ª∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§π3.baseÔºö‰ª£Ë°®Êï¥‰∏Ä‰∏™Êñá‰ª∂4.nameÔºö‰ª£Ë°®Êñá‰ª∂Âêç5.ext: ‰ª£Ë°®Êñá‰ª∂ÁöÑÂêéÁºÄÂêç ÈÇ£Êàë‰ª¨Ê†πÊçÆ‰∏ãÈù¢ÁöÑËßÑÂàôÔºåÊù•Áúã‰∏Ä‰∏ã‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÔºåÊúÄÂ•ΩËá™Â∑±ËÑëÂ≠êÂÅö‰∏ÄÈÅç const path = require(&apos;path&apos;); console.log(path.parse(&apos;/Users/laihuamin/Documents/richEditor/editor/src/task.js&apos;)); ËæìÂá∫ÁöÑÁªìÊûúÔºö { root: &apos;/&apos;, dir: &apos;/Users/laihuamin/Documents/richEditor/editor/src&apos;, base: &apos;task.js&apos;, ext: &apos;.js&apos;, name: &apos;task&apos; } ‰Ω†ÂÅöÂØπ‰∫Ü‰πàÔºü0.0 path.basenameÈÇ£Êúâ‰∫ÜÂâçÈù¢Ëøô‰∏™Èì∫Âû´ÔºåÊÉ≥ÂøÖËøô‰∏™Êé•Âè£Áåú‰πüËÉΩÁåúÁöÑÂà∞‰∫Ü„ÄÇ„ÄÇ„ÄÇ„ÄÇÊàë‰ª¨Áúã‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠ê const path = require(&apos;path&apos;); console.log(path.basename(&apos;/Users/laihuamin/Documents/richEditor/editor/src/task.js&apos;)); ËæìÂá∫ÁöÑÁªìÊûúÊòØÔºö task.js Êàë‰ª¨ËøòÊòØÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØpath,ËøòÊúâ‰∏Ä‰∏™ÊòØextÔºàÂèØÈÄâÂèÇÊï∞Ôºâ. const path = require(&apos;path&apos;) console.log(path.basename(&apos;/Users/laihuamin/Documents/richEditor/editor/src/task.js&apos;, &apos;.js&apos;)); ËæìÂá∫ÁªìÊûú: task path.dirnameËøô‰∏™Êé•Âè£ÊØîbasenameËøòË¶ÅÁÆÄÂçïÔºåÊàëÂ∞±‰∏çÂ§öËØ¥‰∫ÜÔºåÁúã‰æãÂ≠êÔºåÁúãÁªìÊûú const path = require(&apos;path&apos;); console.log(path.basename(&apos;/Users/laihuamin/Documents/richEditor/editor/src/task.js&apos;)); ËæìÂá∫ÁöÑÁªìÊûú: /Users/laihuamin/Documents/richEditor/editor/src Ê≥®ÊÑè‰∏Ä‰∏ãÔºåÊé•Êî∂ÁöÑÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã path.extnameËøô‰∏™Â∞±ÊòØÂ±ïÁ§∫Êñá‰ª∂ÁöÑÊâ©Â±ïÂêçÔºåÊàë‰ª¨ÂæóÊ≥®ÊÑèÂá†ÁßçÊÉÖÂÜµ const path = require(&apos;path&apos;); path.extname(&apos;index.html&apos;); path.extname(&apos;index.coffee.md&apos;); path.extname(&apos;index.&apos;); path.extname(&apos;index&apos;); path.extname(&apos;.index&apos;); ËæìÂá∫ÁöÑÁªìÊûúÊòØÔºö .html .md . &apos;&apos; &apos;&apos; Ëá™Â∑±Ê≥®ÊÑè‰∏Ä‰∏ãËøôÂá†‰∏™ÊÉÖÂÜµ path.resolveÊàë‰ª¨ÈÄöËøá‰∏ãÈù¢ËøôÂá†‰∏™‰æãÂ≠êÂÖàÊù•ÁÜüÊÇâ‰∏Ä‰∏ãÔºö const path = require(&apos;path&apos;); console.log(path.resolve(&apos;/foo/bar&apos;, &apos;/bar/faa&apos;, &apos;..&apos;, &apos;a/../c&apos;)); ËæìÂá∫ÁöÑÁªìÊûúÊòØ /bar/c ‰ªñÂ∞±Áõ∏ÂΩì‰∫é‰∏ÄÂ†ÜcdÊìç‰ΩúÔºåÊàë‰ª¨‰∏ÄÊ≠•‰∏ÄÊ≠•Áúã cd /foo/bar/ //ËøôÊòØÁ¨¨‰∏ÄÊ≠•, Áé∞Âú®ÁöÑ‰ΩçÁΩÆÊòØ/foo/bar/ cd /bar/faa //ËøôÊòØÁ¨¨‰∫åÊ≠•ÔºåËøôÈáåÂíåÁ¨¨‰∏ÄÊ≠•ÊúâÂå∫Âà´Ôºå‰ªñÊòØ‰ªé/ËøõÂÖ•ÁöÑÔºå‰πüÂ∞±Êó∂ÂÄôÊ†πÁõÆÂΩïÔºåÁé∞Âú®ÁöÑ‰ΩçÁΩÆÊòØ/bar/faa cd .. //Á¨¨‰∏âÊ≠•Ôºå‰ªéfaaÈÄÄÂá∫Êù•ÔºåÁé∞Âú®ÁöÑ‰ΩçÁΩÆÊòØ /bar cd a/../c //Á¨¨ÂõõÊ≠•ÔºåËøõÂÖ•aÔºåÁÑ∂ÂêéÂú®Êé®Âá∫ÔºåÂú®ËøõÂÖ•cÔºåÊúÄÂêé‰ΩçÁΩÆÊòØ/bar/c ‰ΩÜÊòØËøô‰∏™Êìç‰ΩúÂíåcdËøòÊòØÊúâÂå∫Âà´ÁöÑÔºåËøô‰∏™Ë∑ØÂæÑ‰∏ç‰∏ÄÂÆöË¶ÅÂ≠òÂú®ÔºåËÄå‰∏îÊúÄÂêéÁöÑÂèØ‰ª•ÊòØÊñá‰ª∂ path.relativeËøô‰∏™ËøîÂõûÁöÑÊòØfromÂà∞toÁöÑÁõ∏ÂØπË∑ØÂæÑÔºå‰ªÄ‰πàÊÑèÊÄùÂë¢ÔºåÊàë‰ª¨Áúã‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ∞±Áü•ÈÅì‰∫Ü. const path = require(&apos;path&apos;); console.log(path.relative(&apos;src/bar/baz&apos;, &apos;src/aaa/bbb&apos;)); ËæìÂá∫ÁöÑÁªìÊûúÊòØÔºö ../../aaa/bbb ÊÄªÁªìËøô‰∫õÊØîËæÉÂÆûÁî®ÁöÑÊñπÊ≥ïÔºåÂàÜ‰∫´ÁªôÂ§ßÂÆ∂ÔºåËá™Â∑±ËøòÊòØËÄÅËÄÅÂÆûÂÆûÂéªÁúãweektoolÁöÑwebpackÁöÑÈÖçÁΩÆÊñá‰ª∂‰∫ÜÔºåÂñúÊ¨¢ÁöÑÊúãÂèãÂèØ‰ª•ÁÇπ‰∏™ÂñúÊ¨¢ÔºåÊàñËÄÖÂéªÊàëÁöÑgithubÁÇπ‰∏™star‰πüË°åÔºåË∞¢Ë∞¢ÊîØÊåÅÔºå‰∏æËµ∑Â∞èÊâãÊåáÁÇπ‰∏ÄÁÇπÂì¶üòØ„ÄÇ]]></content>
      <tags>
        <tag>node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[100*100ÁöÑ canvas Âç†Â§öÂ∞ëÂÜÖÂ≠ò]]></title>
    <url>%2F2017%2F06%2F04%2F100-100%E7%9A%84-canvas-%E5%8D%A0%E5%A4%9A%E5%B0%91%E5%86%85%E5%AD%98%2F</url>
    <content type="text"><![CDATA[È¢òÁõÆ100*100ÁöÑ canvas Âç†Â§öÂ∞ëÂÜÖÂ≠òÔºü Ëß£È¢òÊÄùË∑ØÂÖ∂ÂÆûÁúüÊ≠£ÁöÑÁ≠îÊ°àÊòØÂ§öÂ∞ëÊàëÂπ∂‰∏çÊ∏ÖÊ•öÔºåÈù¢ËØïËøáÁ®ã‰∏≠Èù¢ËØïÂÆò‰πü‰∏çÊúüÂæÖ‰∏Ä‰∏™ÂáÜÁ°ÆÁöÑÁ≠îÊ°àÔºåËÄåÊòØÁúã‰Ω†ÁöÑÊÄùËÄÉËøáÁ®ã„ÄÇ Â¶ÇÊûú‰∫ÜËß£Ëøá Canvas ‰∏îÂÅöËøáÊª§ÈïúÁõ∏ÂÖ≥ÁöÑÂ∑•‰ΩúÔºåÂèØËÉΩË∞ÉÁî®Ëøá imageData = ctx.getImageData(sx, sy, sw, sh); Ëøô‰∏™ API„ÄÇÊàëËÆ∞ÂæóËøô‰∏™ API ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ ImageData Êï∞ÁªÑÔºåÂåÖÂê´‰∫Ü sx, sy, sw, sh Ë°®Á§∫ÁöÑÁü©ÂΩ¢ÁöÑÂÉèÁ¥†Êï∞ÊçÆ„ÄÇ ËÄå‰∏îËøô‰∏™Êï∞ÁªÑÊòØ Uint8 Á±ªÂûãÁöÑÔºå‰∏îÂõõ‰ΩçË°®Á§∫‰∏Ä‰∏™ÂÉèÁ¥†„ÄÇ ÊàëÂú®Èù¢ËØïÁöÑÊó∂ÂÄôÂè™ËÉΩÊÉ≥Ëµ∑Êù•Ëøô‰∫õ‰ø°ÊÅØ„ÄÇÁåúÊÉ≥‰∏Ä‰∏ãÔºåÊàë‰ª¨Âú®ÂÆö‰πâÈ¢úËâ≤ÁöÑÊó∂ÂÄôÂ∞±ÊòØ‰ΩøÁî® rgba(r,g,b,a) Âõõ‰∏™Áª¥Â∫¶Êù•Ë°®Á§∫ÔºåËÄå‰∏îÊØè‰∏™ÂÉèÁ¥†ÂÄºÂ∞±ÊòØÁî®ÂçÅÂÖ≠‰Ωç 00-ff Ë°®Á§∫ÔºåÂç≥ÊØè‰∏™Áª¥Â∫¶ÁöÑËåÉÂõ¥ÊòØ 0~255ÔºåÂç≥ 2^8 ‰ΩçÔºåÂç≥ 1 byte, ‰πüÂ∞±ÊòØ Uint8 ËÉΩË°®Á§∫ÁöÑËåÉÂõ¥„ÄÇ ÊâÄ‰ª• 100 100 canvas Âç†ÁöÑÂÜÖÂ≠òÊòØ 100 100 * 4 bytes = 40,000 bytes„ÄÇ Â£∞ÊòéËøôÈáåÁöÑÁ≠îÊ°àÂπ∂‰∏ç‰∏ÄÂÆöÂáÜÁ°Æ„ÄÇ ÂÖ≥‰∫é alpha ÁöÑ‰∫âËÆ∫ÊúâÂêåÂ≠¶ÊåáÂá∫Ôºåalpha ‰∏çÊòØ 0-100 ‰πàÔºüÊàëËµ∑Âàù‰πüÊúâËøôÊ†∑ÁöÑÁñëÈóÆÔºå‰∏çËøáËøôÁØáÊñáÁ´†‰∏≠ developer.mozilla.org/en-US/docs/‚Ä¶ ËØ¥ The data property returns a Uint8ClampedArray which can be accessed to look at the raw pixel data; each pixel is represented by four one-byte values (red, green, blue, and alpha, in that order; that is, ‚ÄúRGBA‚Äù format). Each color component is represented by an integer between 0 and 255. ‰πüÂ∞±ÊòØËØ¥Âç≥‰æøÊòØ alpha ‰πüÊòØ 0-255 ÈÇ£‰πàÂ¶Ç‰ΩïË°®Á§∫ alpha Âë¢Ôºü Êé•‰∏ãÊù•ËøôÊÆµ‰ª£Á†Å‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂè™ÈúÄË¶ÅÁî® 0-255 Ë°®Á§∫ 0-100 Â∞±ÂèØ‰ª•Âï¶~]]></content>
      <tags>
        <tag>canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(for..in)„ÄÅObject.keys()ÂíåObject.getOwnPropertyNames(),for...of]]></title>
    <url>%2F2017%2F05%2F19%2Ffor-in-%E3%80%81Object-keys-%E5%92%8CObject-getOwnPropertyNames-for-of%2F</url>
    <content type="text"><![CDATA[Object.keysÔºàobjÔºâÔºåËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑÈáåÊòØËØ•objÂèØË¢´Êûö‰∏æÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇËØ∑ÁúãÁ§∫‰æãÔºö Á§∫‰æã‰∏ÄÔºö function Pasta(grain, width, shape) { this.grain = grain; this.width = width; this.shape = shape; this.toString = function () { return (this.grain + &quot;, &quot; + this.width + &quot;, &quot; + this.shape); } } console.log(Object.keys(Pasta)); //console: [] var spaghetti = new Pasta(&quot;wheat&quot;, 0.2, &quot;circle&quot;); console.log(Object.keys(spaghetti)); //console: [&quot;grain&quot;, &quot;width&quot;, &quot;shape&quot;, &quot;toString&quot;] Á§∫‰æã‰∫åÔºö var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; console.log(Object.keys(arr)); // console: [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;] var obj = { 0 : &quot;a&quot;, 1 : &quot;b&quot;, 2 : &quot;c&quot;}; console.log(Object.keys(obj)); // console: [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;] var an_obj = { 100: &quot;a&quot;, 2: &quot;b&quot;, 7: &quot;c&quot;}; console.log(Object.keys(an_obj)); // console: [&quot;2&quot;, &quot;7&quot;, &quot;100&quot;] var my_obj = Object.create({}, { getFoo : { value : function () { return this.foo } } }); my_obj.foo = 1; console.log(Object.keys(my_obj)); // console: [&quot;foo&quot;] js‰∏≠Âá†ÁßçÈÅçÂéÜÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂåÖÊã¨for in„ÄÅObject.keys„ÄÅObject.getOwnProperty,ÂÆÉ‰ª¨Âú®‰ΩøÁî®Âú∫ÊôØÊñπÈù¢ÂêÑÊúâ‰∏çÂêå„ÄÇ for in ‰∏ªË¶ÅÁî®‰∫éÈÅçÂéÜÂØπË±°ÁöÑÂèØÊûö‰∏æÂ±ûÊÄßÔºåÂåÖÊã¨Ëá™ÊúâÂ±ûÊÄß„ÄÅÁªßÊâøËá™ÂéüÂûãÁöÑÂ±ûÊÄß var obj = {&quot;name&quot;:&quot;Poly&quot;, &quot;career&quot;:&quot;it&quot;} Object.defineProperty(obj, &quot;age&quot;, {value:&quot;forever 18&quot;, enumerable:false}); Object.prototype.protoPer1 = function(){console.log(&quot;proto&quot;);}; Object.prototype.protoPer2 = 2; console.log(&quot;For In : &quot;); for(var a in obj) console.log(a); Object.keys ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÂÖÉÁ¥†Âùá‰∏∫ÂØπË±°Ëá™ÊúâÁöÑÂèØÊûö‰∏æÂ±ûÊÄß var obj = {&quot;name&quot;:&quot;Poly&quot;, &quot;career&quot;:&quot;it&quot;} Object.defineProperty(obj, &quot;age&quot;, {value:&quot;forever 18&quot;, enumerable:false}); Object.prototype.protoPer1 = function(){console.log(&quot;proto&quot;);}; Object.prototype.protoPer2 = 2; console.log(&quot;Object.keys:&quot;) console.log(Object.keys(obj)); Object.getOwnProperty Áî®‰∫éËøîÂõûÂØπË±°ÁöÑËá™ÊúâÂ±ûÊÄßÔºåÂåÖÊã¨ÂèØÊûö‰∏æÂíå‰∏çÂèØÊûö‰∏æÁöÑ var obj = {&quot;name&quot;:&quot;Poly&quot;, &quot;career&quot;:&quot;it&quot;} Object.defineProperty(obj, &quot;age&quot;, {value:&quot;forever 18&quot;, enumerable:false}); Object.prototype.protoPer1 = function(){console.log(&quot;proto&quot;);}; Object.prototype.protoPer2 = 2; console.log(&quot;Object.getOwnPropertyNames: &quot;); console.log(Object.getOwnPropertyNames(obj)); for..of var obj = {&quot;name&quot;:&quot;Poly&quot;, &quot;career&quot;:&quot;it&quot;} Object.defineProperty(obj, &quot;age&quot;, {value:&quot;forever 18&quot;, enumerable:false}); Object.prototype.protoPer1 = function(){console.log(&quot;proto&quot;);}; Object.prototype.protoPer2 = 2; console.log(&quot;For of : &quot;); for(var a of Object.entries(obj)) console.log(a);]]></content>
      <tags>
        <tag>for</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êé¢Á¥¢webpack Êú∫Âà∂]]></title>
    <url>%2F2017%2F05%2F18%2F%E6%8E%A2%E7%B4%A2webpack-%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰ªéÁÆÄÂçïÁöÑ‰æãÂ≠êÂÖ•ÊâãÔºå‰ªéÊâìÂåÖÊñá‰ª∂ÂéªÂàÜÊûê‰ª•‰∏ã‰∏â‰∏™ÈóÆÈ¢òÔºöwebpackÊâìÂåÖÊñá‰ª∂ÊòØÊÄéÊ†∑ÁöÑÔºüÂ¶Ç‰ΩïÂÅöÂà∞ÂÖºÂÆπÂêÑÂ§ßÊ®°ÂùóÂåñÊñπÊ°àÁöÑÔºüwebpack3Â∏¶Êù•ÁöÑÊñ∞ÁâπÊÄßÂèàÊòØ‰ªÄ‰πàÔºü ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êwebpackÈÖçÁΩÆ // webpack.config.js module.exports = { entry: &apos;./src/index.js&apos;, output: { filename: &apos;bundle.js&apos;, path: path.resolve(__dirname, &apos;dist&apos;) }, }; ÁÆÄÂçïÁöÑjsÊñá‰ª∂ // src/index.js console.log(&apos;hello world&apos;); webpackÊâìÂåÖÂêéÁöÑ‰ª£Á†Å // dist/bundle.js /******/ (function(modules) { // webpackBootstrap /******/ // The module cache /******/ var installedModules = {}; /******/ /******/ // The require function /******/ function __webpack_require__(moduleId) { /******/ /******/ // Check if module is in cache /******/ if(installedModules[moduleId]) { /******/ return installedModules[moduleId].exports; /******/ } /******/ // Create a new module (and put it into the cache) /******/ var module = installedModules[moduleId] = { /******/ i: moduleId, /******/ l: false, /******/ exports: {} /******/ }; /******/ /******/ // Execute the module function /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded /******/ module.l = true; /******/ /******/ // Return the exports of the module /******/ return module.exports; /******/ } /******/ /******/ /******/ // expose the modules object (__webpack_modules__) /******/ __webpack_require__.m = modules; /******/ /******/ // expose the module cache /******/ __webpack_require__.c = installedModules; /******/ /******/ // define getter function for harmony exports /******/ __webpack_require__.d = function(exports, name, getter) { /******/ if(!__webpack_require__.o(exports, name)) { /******/ Object.defineProperty(exports, name, { /******/ configurable: false, /******/ enumerable: true, /******/ get: getter /******/ }); /******/ } /******/ }; /******/ /******/ // getDefaultExport function for compatibility with non-harmony modules /******/ __webpack_require__.n = function(module) { /******/ var getter = module &amp;&amp; module.__esModule ? /******/ function getDefault() { return module[&apos;default&apos;]; } : /******/ function getModuleExports() { return module; }; /******/ __webpack_require__.d(getter, &apos;a&apos;, getter); /******/ return getter; /******/ }; /******/ /******/ // Object.prototype.hasOwnProperty.call /******/ __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); }; /******/ /******/ // __webpack_public_path__ /******/ __webpack_require__.p = &quot;&quot;; /******/ /******/ // Load entry module and return exports /******/ return __webpack_require__(__webpack_require__.s = 0); /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, exports) { console.log(&apos;hello world&apos;); /***/ }) /******/ ]); ‰∏ÄÁúã‰Ω†Â∞±‰ºöÊÉ≥ÔºåÊàëÂ∞±‰∏ÄË°å‰ª£Á†ÅÔºå‰Ω†ÁªôÊàëÊâìÂåÖÈÇ£‰πàÂ§öÔºüÔºüÔºüÔºàÈªë‰∫∫ÈóÆÂè∑Ôºâ Êàë‰ª¨Êù•ÂàÜÊûê‰∏Ä‰∏ãËøôÈÉ®ÂàÜ‰ª£Á†ÅÔºåÂÖàÁ≤æÁÆÄ‰∏Ä‰∏ãÔºåÂÖ∂ÂÆûÊï¥‰ΩìÂ∞±ÊòØ‰∏Ä‰∏™Ëá™ÊâßË°åÂáΩÊï∞ÔºåÁÑ∂Âêé‰º†ÂÖ•‰∏Ä‰∏™Ê®°ÂùóÊï∞ÁªÑ (function(modules) { //... })([function(module, exports) { //.. }]) Â•Ω‰∫ÜÔºå‰º†ÂÖ•Ê®°ÂùóÊï∞ÁªÑÂÅö‰∫Ü‰ªÄ‰πà(ÂÖ∂ÂÆûÊ≥®ÈáäÈÉΩÂæàÊòéÊòæ‰∫ÜÔºåÊàëÂè™ÊòØÂ§ßÊ¶ÇÁøªËØë‰∏Ä‰∏ãÔºâ /******/ (function(modules) { // webpackBootstrap /******/ // The module cache ÁºìÂ≠òÂ∑≤ÁªèloadËøáÁöÑÊ®°Âùó /******/ var installedModules = {}; /******/ /******/ // The require function ÂºïÁî®ÁöÑÂáΩÊï∞ /******/ function __webpack_require__(moduleId) { /******/ /******/ // Check if module is in cache ÂÅáÂ¶ÇÂú®ÁºìÂ≠òÈáåÂ∞±Áõ¥Êé•ËøîÂõû /******/ if(installedModules[moduleId]) { /******/ return installedModules[moduleId].exports; /******/ } /******/ // Create a new module (and put it into the cache) ÊûÑÈÄ†‰∏Ä‰∏™Ê®°ÂùóÂπ∂ÊîæÂÖ•ÁºìÂ≠ò /******/ var module = installedModules[moduleId] = { /******/ i: moduleId, //Ê®°Âùóid /******/ l: false, // ÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩÂÆåÊØï /******/ exports: {} // ÂØπÂ§ñÊö¥Èú≤ÁöÑÂÜÖÂÆπ /******/ }; /******/ /******/ // Execute the module function ‰º†ÂÖ•Ê®°ÂùóÂèÇÊï∞ÔºåÂπ∂ÊâßË°åÊ®°Âùó /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded Ê†áËÆ∞Ê®°ÂùóÂ∑≤ÁªèÂä†ËΩΩÂÆåÊØï /******/ module.l = true; /******/ /******/ // Return the exports of the module ËøîÂõûÊ®°ÂùóÊö¥Èú≤ÁöÑÂÜÖÂÆπ /******/ return module.exports; /******/ } /******/ /******/ /******/ // expose the modules object (__webpack_modules__) Êö¥Èú≤Ê®°ÂùóÊï∞ÁªÑ /******/ __webpack_require__.m = modules; /******/ /******/ // expose the module cache Êö¥Èú≤ÁºìÂ≠òÊï∞ÁªÑ /******/ __webpack_require__.c = installedModules; /******/ /******/ // define getter function for harmony exports ‰∏∫ES6 exportsÂÆö‰πâgetter /******/ __webpack_require__.d = function(exports, name, getter) { /******/ if(!__webpack_require__.o(exports, name)) { // ÂÅáÂ¶ÇexportsÊú¨Ë∫´‰∏çÂê´ÊúânameËøô‰∏™Â±ûÊÄß /******/ Object.defineProperty(exports, name, { /******/ configurable: false, /******/ enumerable: true, /******/ get: getter /******/ }); /******/ } /******/ }; /******/ /******/ // getDefaultExport function for compatibility with non-harmony modules Ëß£ÂÜ≥ES moduleÂíåCommon js moduleÁöÑÂÜ≤Á™ÅÔºåESÂàôËøîÂõûmodule[&apos;default&apos;] /******/ __webpack_require__.n = function(module) { /******/ var getter = module &amp;&amp; module.__esModule ? /******/ function getDefault() { return module[&apos;default&apos;]; } : /******/ function getModuleExports() { return module; }; /******/ __webpack_require__.d(getter, &apos;a&apos;, getter); /******/ return getter; /******/ }; /******/ /******/ // Object.prototype.hasOwnProperty.call /******/ __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); }; /******/ /******/ // __webpack_public_path__ webpackÈÖçÁΩÆ‰∏ãÁöÑÂÖ¨ÂÖ±Ë∑ØÂæÑ /******/ __webpack_require__.p = &quot;&quot;; /******/ /******/ // Load entry module and return exports ÊúÄÂêéÊâßË°åentryÊ®°ÂùóÂπ∂‰∏îËøîÂõûÂÆÉÁöÑÊö¥Èú≤ÂÜÖÂÆπ /******/ return __webpack_require__(__webpack_require__.s = 0); /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, exports) { console.log(&apos;hello world&apos;); /***/ }) /******/ ]); Êï¥‰ΩìÊµÅÁ®ãÊòØÊÄéÊ†∑ÁöÑÂë¢ ‰º†ÂÖ•moduleÊï∞ÁªÑ Ë∞ÉÁî®webpack_require(webpack_require.s = 0) ÊûÑÈÄ†moduleÂØπË±°ÔºåÊîæÂÖ•ÁºìÂ≠ò Ë∞ÉÁî®module,‰º†ÂÖ•Áõ∏Â∫îÂèÇÊï∞modules[moduleId].call(module.exports, module, module.exports, webpack_require); ÔºàËøôÈáåexports‰ºöË¢´ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑ‰∏úË•ø‰øÆÊîπÔºâ Ê†áËÆ∞moduleÂØπË±°Â∑≤ÁªèÂä†ËΩΩÂÆåÊØï ËøîÂõûÊ®°ÂùóÊö¥Èú≤ÁöÑÂÜÖÂÆπÔºàÊ≥®ÊÑèÂà∞‰∏äÈù¢ÂáΩÊï∞‰º†ÂÖ•‰∫Ümodule.exports,ÂèØ‰ª•ÂØπÂºïÁî®ËøõË°å‰øÆÊîπÔºâ Ê®°ÂùóÂáΩÊï∞‰∏≠‰º†ÂÖ•module, module.exports, webpack_require ÊâßË°åËøáÁ®ã‰∏≠ÈÄöËøáÂØπ‰∏äÈù¢‰∏âËÄÖÁöÑÂºïÁî®‰øÆÊîπÔºåÂÆåÊàêÂèòÈáèÊö¥Èú≤ÂíåÂºïÁî® webpackÊ®°ÂùóÊú∫Âà∂ÊòØÊÄéÊ†∑ÁöÑÊàë‰ª¨ÂèØ‰ª•ÂéªÂÆòÁΩëÁúã‰∏ãwebpackÊ®°Âùó https://doc.webpack-china.org/concepts/modules#-webpack-webpack Ê®°ÂùóËÉΩÂ§ü‰ª•ÂêÑÁßçÊñπÂºèË°®ËææÂÆÉ‰ª¨ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂá†‰∏™‰æãÂ≠êÂ¶Ç‰∏ãÔºö ES2015 import ËØ≠Âè• CommonJS require() ËØ≠Âè• AMD define Âíå require ËØ≠Âè• css/sass/less Êñá‰ª∂‰∏≠ÁöÑ @import ËØ≠Âè•„ÄÇ Ê†∑Âºè(url(‚Ä¶))Êàñ HTML Êñá‰ª∂()‰∏≠ÁöÑÂõæÁâáÈìæÊé•(image url) Âº∫Â§ßÁöÑwebpackÊ®°ÂùóÂèØ‰ª•ÂÖºÂÆπÂêÑÁßçÊ®°ÂùóÂåñÊñπÊ°àÔºåÂπ∂‰∏îÊó†‰æµÂÖ•ÊÄß(non-opinionated) Êàë‰ª¨ÂèØ‰ª•ÂÜçÁºñÂÜô‰æãÂ≠ê‰∏ÄÊé¢Á©∂Á´ü CommonJS‰øÆÊîπsrc/index.js var cj = require(&apos;./cj.js&apos;); console.log(&apos;hello world&apos;); cj(); Êñ∞Â¢ûsrc/cj.jsÔºå‰øùÊåÅÂâçÈù¢‰æãÂ≠êÂÖ∂‰ªñ‰∏çÂèò // src/cj.js function a() { console.log(&quot;CommonJS&quot;); } module.exports = a; ÂÜçÊ¨°ËøêË°åwebpack /******/ (function(modules) { // webpackBootstrap //... ÁúÅÁï•‰ª£Á†Å /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, exports, __webpack_require__) { let cj = __webpack_require__(1); console.log(&apos;hello world&apos;); cj(); /***/ }), /* 1 */ /***/ (function(module, exports) { function a() { console.log(&quot;CommonJS&quot;); } module.exports = a; /***/ }) /******/ ]); Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ê®°ÂùóÊï∞ÁªÑÂ§ö‰∫Ü‰∏™ÂºïÂÖ•ÁöÑÊñá‰ª∂ÔºåÁÑ∂Âêéindex.jsÊ®°ÂùóÂáΩÊï∞Â§ö‰∫Ü‰∏™ÂèÇÊï∞webpack_requireÔºåÂéªÂºïÁî®Êñá‰ª∂Ôºàwebpack_requireÂú®‰∏ä‰∏ÄËäÇÊúâ‰ªãÁªçÔºâÔºåÊï¥‰Ωì‰∏äÂ∞±ÊòØ‰æùËµñÁöÑÊ®°Âùó‰øÆÊîπ‰∫Ümodule.exportsÔºåÁÑ∂Âêé‰∏ªÊ®°ÂùóÊâßË°å‰æùËµñÊ®°ÂùóÔºåËé∑ÂèñexportsÂç≥ÂèØ ES2015 importÊñ∞Â¢ûsrc/es.js // src/es.js export default function b() { console.log(&apos;ES Modules&apos;); } ‰øÆÊîπsrc/index.js // src/index.js import es from &apos;./es.js&apos;; console.log(&apos;hello world&apos;); es(); webpack.config.js‰∏çÂèòÔºåÊâßË°åwebpack /******/ (function(modules) { // webpackBootstrap // ... ÁúÅÁï•‰ª£Á†Å /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, __webpack_exports__, __webpack_require__) { &quot;use strict&quot;; Object.defineProperty(__webpack_exports__, &quot;__esModule&quot;, { value: true }); /* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__es_js__ = __webpack_require__(1); console.log(&apos;hello world&apos;); Object(__WEBPACK_IMPORTED_MODULE_0__es_js__[&quot;a&quot; /* default */])(); /***/ }), /* 1 */ /***/ (function(module, __webpack_exports__, __webpack_require__) { &quot;use strict&quot;; /* harmony export (immutable) */ __webpack_exports__[&quot;a&quot;] = b; function b() { console.log(&apos;ES Modules&apos;); } /***/ }) /******/ ]); Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂÆÉ‰ª¨ÈÉΩÂèòÊàê‰∫Ü‰∏•Ê†ºÊ®°ÂºèÔºåwebpackËá™Âä®ÈááÁî®ÁöÑ Ë°®Áé∞ÂÖ∂ÂÆûË∑üCommonJSÁõ∏‰ººÔºå‰πüÊòØ‰º†ÂÖ•exportÁÑ∂Âêé‰øÆÊîπÔºåÂú®‰∏ªÊ®°ÂùóÂÜçrequireËøõÊù•Ôºå Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ Object.defineProperty(__webpack_exports__, &quot;__esModule&quot;, { value: true }); Ëøô‰∏™Âπ≤ÂòõÁî®ÁöÑÔºüÂÖ∂ÂÆûÂ∞±ÊòØÊ†áËÆ∞ÂΩìÂâçÁöÑexportsÊòØesÊ®°ÂùóÔºåËøòËÆ∞Âæó‰πãÂâçÁöÑwebpack_require.nÂêóÔºåÊàë‰ª¨ÂÜçÊãøÂá∫Êù•ÁúãÁúã /******/ // getDefaultExport function for compatibility with non-harmony modules Ëß£ÂÜ≥ES moduleÂíåCommon js moduleÁöÑÂÜ≤Á™ÅÔºåESÂàôËøîÂõûmodule[&apos;default&apos;] /******/ __webpack_require__.n = function(module) { /******/ var getter = module &amp;&amp; module.__esModule ? /******/ function getDefault() { return module[&apos;default&apos;]; } : /******/ function getModuleExports() { return module; }; /******/ __webpack_require__.d(getter, &apos;a&apos;, getter); /******/ return getter; /******/ }; ‰∏∫‰∫ÜÈÅøÂÖçË∑üÈùûES ModulesÂÜ≤Á™ÅÔºüÂÜ≤Á™ÅÂú®Âì™ÈáåÂë¢ÔºüÂÖ∂ÂÆûËøôÈÉ®ÂàÜÂ¶ÇÊûú‰Ω†ÁúãÂà∞babelËΩ¨Êç¢ES ModulesÊ∫êÁ†ÅÂ∞±Áü•ÈÅì‰∫ÜÔºå‰∏∫‰∫ÜÂÖºÂÆπÊ®°ÂùóÔºå‰ºöÊääES ModulesÁõ¥Êé•ÊåÇÂú®exports.default‰∏äÔºåÁÑ∂ÂêéÂä†‰∏ä__esModuleÂ±ûÊÄßÔºåÂºïÂÖ•ÁöÑÊó∂ÂÄôÂà§Êñ≠‰∏ÄÊ¨°ÊòØÂê¶ÊòØËΩ¨Êç¢Ê®°ÂùóÔºåÊòØÂàôÂºïÂÖ•module[‚Äòdefault‚Äô]Ôºå‰∏çÊòØÂàôÂºïÂÖ•module Êàë‰ª¨ÂÜçÂ§öÂºïÂÖ•Âá†‰∏™ES ModulesÁúãÁúãÊïàÊûú // src/es.js export function es() { console.log(&apos;ES Modules&apos;); } export function esTwo() { console.log(&apos;ES Modules Two&apos;); } export function esThree() { console.log(&apos;ES Modules Three&apos;); } export function esFour() { console.log(&apos;ES Modules Four&apos;); } Êàë‰ª¨Â§öÂºïÂÖ•esTwoÂíåesFourÔºå‰ΩÜÊòØ‰∏ç‰ΩøÁî®esFour // src/index.js import { es, esTwo, esFour} from &apos;./es.js&apos;; console.log(&apos;hello world&apos;); es(); esTwo(); ÂæóÂá∫ /******/ (function(modules) { // webpackBootstrap // ... /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, __webpack_exports__, __webpack_require__) { &quot;use strict&quot;; Object.defineProperty(__webpack_exports__, &quot;__esModule&quot;, { value: true }); /* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__es_js__ = __webpack_require__(1); console.log(&apos;hello world&apos;); Object(__WEBPACK_IMPORTED_MODULE_0__es_js__[&quot;a&quot; /* es */])(); Object(__WEBPACK_IMPORTED_MODULE_0__es_js__[&quot;b&quot; /* esTwo */])(); /***/ }), /* 1 */ /***/ (function(module, __webpack_exports__, __webpack_require__) { &quot;use strict&quot;; /* harmony export (immutable) */ __webpack_exports__[&quot;a&quot;] = es; /* harmony export (immutable) */ __webpack_exports__[&quot;b&quot;] = esTwo; /* unused harmony export esThree */ /* unused harmony export esFour */ function es() { console.log(&apos;ES Modules&apos;); } function esTwo() { console.log(&apos;ES Modules Two&apos;); } function esThree() { console.log(&apos;ES Modules Three&apos;); } function esFour() { console.log(&apos;ES Modules Four&apos;); } /***/ }) /******/ ]); ÂóØÂóØÂÖ∂ÂÆûË∑üÂâçÈù¢ÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰∏æÂá∫Ëøô‰∏™‰æãÂ≠êÈáçÁÇπÂú®Âì™ÈáåÂë¢ÔºåÊúâÊ≤°ÊúâÊ≥®ÊÑèÂà∞Ê≥®Èáä‰∏≠ /* unused harmony export esThree */ /* unused harmony export esFour */ esThreeÊòØÊàë‰ª¨Ê≤°ÊúâÂºïÂÖ•ÁöÑÊ®°ÂùóÔºåesFourÊòØÊàë‰ª¨ÂºïÁî®‰ΩÜÊòØÊ≤°Êúâ‰ΩøÁî®ÁöÑÊ®°ÂùóÔºåwebpackÂùáÂØπÂÆÉ‰ª¨ÂÅö‰∫ÜunusedÁöÑÊ†áËÆ∞ÔºåÂÖ∂ÂÆûËøô‰∏™Â¶ÇÊûú‰Ω†‰ΩøÁî®‰∫ÜwebpackÊèí‰ª∂uglifyÔºåÈÄöËøáÊ†áËÆ∞ÔºåÂ∞±‰ºöÊääesThreeÂíåesFourËøô‰∏§‰∏™Êú™‰ΩøÁî®ÁöÑ‰ª£Á†ÅÊ∂àÈô§ÔºàÂÖ∂ÂÆûÂÆÉÂ∞±ÊòØtree-shaking) AMDÊàë‰ª¨ÂÜçÊù•ÁúãÁúãwebpackÊÄé‰πàÊîØÊåÅAMD Êñ∞Â¢ûsrc/amd.js // src/amd.js define([ ],function(){ return { amd:function(){ console.log(&apos;AMD&apos;); } }; }); ‰øÆÊîπindex.js // src/index.js define([ &apos;./amd.js&apos; ],function(amdModule){ amdModule.amd(); }); ÂæóÂà∞ /******/ (function(modules) { // webpackBootstrap // ... ÁúÅÁï•‰ª£Á†Å /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(1) ], __WEBPACK_AMD_DEFINE_RESULT__ = function(amdModule){ amdModule.amd(); }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); /***/ }), /* 1 */ /***/ (function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ ], __WEBPACK_AMD_DEFINE_RESULT__ = function(){ return { amd:function(){ console.log(&apos;AMD&apos;); } }; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); /***/ }) /******/ ]); ÂÖàÁúãamd.jsÊï¥ÁêÜ‰∏Ä‰∏ã‰ª£Á†Å function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__; !( __WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() { return { amd: function() { console.log(&apos;AMD&apos;); } }; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__) ); }) ÁÆÄÂçïÊù•ËÆ≤Êî∂ÈõÜdefine ArrayÁÑ∂ÂêéÁΩÆÂÖ•ËøîÂõûÂáΩÊï∞ÔºåÊ†πÊçÆÂèÇÊï∞Ëé∑Âèñ‰æùËµñ applyÂØπÊï∞ÁªÑÊãÜËß£Êàê‰∏Ä‰∏™‰∏Ä‰∏™ÂèÇÊï∞ ÂÜçÁúãindex.jsÊ®°ÂùóÈÉ®ÂàÜ function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__; !( __WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function(amdModule) { amdModule.amd(); }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__) ); } ÂÖ∂ÂÆûÂ∞±ÊòØÂºïÂÖ•‰∫Üamd.jsÊö¥Èú≤ÁöÑ{amd:[Function: amd]} css/image?cssÂíåimage‰πüÂèØ‰ª•Êàê‰∏∫webpackÁöÑÊ®°ÂùóÔºåËøôÊòØ‰ª§‰∫∫ÈúáÊÉäÁöÑÔºåËøôÂ∞±‰∏çËÉΩÈÄöËøáÊôÆÈÄöÁöÑhack commonjsÊàñËÄÖÂáΩÊï∞Ë∞ÉÁî®ÁÆÄÂçïÂéªË∞ÉÁî®‰∫ÜÔºåËøôÂ∞±ÊòØanything to JSÔºåÂÆÉÂ∞±ÈúÄË¶ÅÂÄüÂä©webpack loaderÂéªÂÆûÁé∞‰∫Ü ÂÉècssÂ∞±ÊòØËΩ¨Êç¢Êàê‰∏ÄÊÆµjs‰ª£Á†ÅÔºåÈÄöËøáÂ§ÑÁêÜÔºåË∞ÉÁî®Êó∂Â∞±ÊòØÂèØ‰ª•Áî®jsÂ∞ÜËøôÊÆµcssÊèíÂÖ•Âà∞style‰∏≠Ôºåimage‰πüÁ±ª‰ººÔºåËøôÈÉ®ÂàÜÂ∞±‰∏çËØ¶ÁªÜÈòêËø∞‰∫ÜÔºåÊúâÂÖ¥Ë∂£ÁöÑËØªËÄÖÂèØ‰ª•Ê∑±ÂÖ•ÂéªÁ†îÁ©∂ webpack3Êñ∞ÁâπÊÄßÊàë‰ª¨ÂèØ‰ª•ÂÜçÈ°∫‰æøÁúã‰∏ãwebpack3Êñ∞ÁâπÊÄßÁöÑË°®Áé∞ÂÖ∑‰ΩìÂèØ‰ª•ÁúãËøôÈáåhttps://medium.com/webpack/webpack-3-official-release-15fd2dd8f07b Scope HoistingÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞Ê®°ÂùóÊï∞ÁªÑÊòØ‰∏Ä‰∏™‰∏Ä‰∏™Áã¨Á´ãÁöÑÂáΩÊï∞ÁÑ∂ÂêéÈó≠ÂåÖÂºïÁî®webpack‰∏ªÂáΩÊï∞ÁöÑÁõ∏Â∫îÂÜÖÂÆπÔºåÊØè‰∏™Ê®°ÂùóÈÉΩÊòØÁã¨Á´ãÁöÑÔºåÁÑ∂ÂêéÂ∏¶Êù•ÁöÑÁªìÊûúÊòØÂú®ÊµèËßàÂô®‰∏≠ÊâßË°åÈÄüÂ∫¶ÂèòÊÖ¢ÔºåÁÑ∂Âêéwebpack3Â≠¶‰π†‰∫ÜClosure CompilerÂíåRollupJSËøô‰∏§‰∏™Â∑•ÂÖ∑ÔºåËøûÊé•ÊâÄÊúâÈó≠ÂåÖÂà∞‰∏Ä‰∏™Èó≠ÂåÖÈáåÔºåÊîæÂÖ•‰∏Ä‰∏™ÂáΩÊï∞ÔºåËÆ©ÊâßË°åÈÄüÂ∫¶Êõ¥Âø´,Âπ∂‰∏îÊï¥‰Ωì‰ª£Á†Å‰ΩìÁßØ‰πü‰ºöÊúâÊâÄÁº©Â∞è Êàë‰ª¨ÂèØ‰ª•ÂÆûÈôÖÁúã‰∏Ä‰∏ãÊïàÊûúÔºàË¶ÅÊ≥®ÊÑèÁöÑÊòØËøô‰∏™ÁâπÊÄßÂè™ÊîØÊåÅES Modules,ÊòØ‰∏çÊîØÊåÅCommonJsÂíåAMDÁöÑÔºâ‰ΩøÁî®‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÈÖçÁΩÆwebpack.config.jsÔºåÂ¢ûÂä†new webpack.optimize.ModuleConcatenationPlugin() const path = require(&apos;path&apos;); const webpack = require(&apos;webpack&apos;); module.exports = { entry: &apos;./src/index.js&apos;, output: { filename: &apos;bundle.js&apos;, path: path.resolve(__dirname, &apos;dist&apos;) }, module: { }, plugins: [ new webpack.optimize.ModuleConcatenationPlugin(), ] }; ÊâìÂåÖ /******/ (function(modules) { // webpackBootstrap // ... ÁúÅÁï•‰ª£Á†Å /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ (function(module, __webpack_exports__, __webpack_require__) { &quot;use strict&quot;; Object.defineProperty(__webpack_exports__, &quot;__esModule&quot;, { value: true }); // CONCATENATED MODULE: ./src/es.js function es() { console.log(&apos;ES Modules&apos;); } function esTwo() { console.log(&apos;ES Modules Two&apos;); } function esThree() { console.log(&apos;ES Modules Three&apos;); } function esFour() { console.log(&apos;ES Modules Four&apos;); } // CONCATENATED MODULE: ./src/index.js // src/index.js console.log(&apos;hello world&apos;); es(); /***/ }) /******/ ]); Êàë‰ª¨ÂèØ‰ª•ÊÉäÂñúÁöÑÂèëÁé∞Ê≤°Êúâ‰ªÄ‰πàrequire‰∫ÜÔºåÂÆÉ‰ª¨ÊãºÊé•Êàê‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞Ôºågood!? Magic Commentscode splittingÊòØwebpack‰∏Ä‰∏™ÈáçÁÇπÁâπÊÄß‰πã‰∏ÄÔºåÊ∂âÂèäÂà∞Ë¶ÅÂä®ÊÄÅÂºïÂÖ•ÁöÑÊó∂ÂÄôÔºåwebpackÂèØ‰ª•‰ΩøÁî® require.ensureÂéªÂÆûÁé∞ÔºåÂêéÊù•webpack2ÊîØÊåÅ‰ΩøÁî®‰∫ÜÁ¨¶Âêà ECMAScript ÊèêÊ°à ÁöÑ import() ËØ≠Ê≥ïÔºå‰ΩÜÊòØÂÆÉÊúâ‰∏™‰∏çË∂≥‰πãÂ§ÑÔºåÊó†Ê≥ïÊåáÂÆöchunkÁöÑÂêçÁß∞chunkName,‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂá∫Áé∞‰∫ÜMagic CommentsÔºåÊîØÊåÅÁî®Ê≥®ÈáäÁöÑÊñπÂºèÂéªÊåáÂÆöÔºåÂ¶Ç‰∏ã import(/* webpackChunkName: &quot;my-chunk-name&quot; */ &apos;module&apos;); Â∞èÁªìwebpackÊòØ‰∏Ä‰∏™Âº∫Â§ßÁöÑÊ®°ÂùóÊâìÂåÖÂ∑•ÂÖ∑ÔºåÂú®Â§ÑÁêÜ‰æùËµñ„ÄÅÊ®°Âùó‰∏äÈÉΩÂæà‰ºòÁßÄÔºåÊú¨Êñá‰ªébundle.jsÊñá‰ª∂ÂàÜÊûêÂá∫ÂèëÂéªÊé¢Á¥¢‰∫Ü‰∏çÂêåÊ®°ÂùóÊñπÊ°àÁöÑÂä†ËΩΩÊú∫Âà∂ÔºåÂàùÊ≠•ÂéªÁêÜËß£webpackÔºåÂπ∂‰∏îÂØπwebpack3ÁâπÊÄßËøõË°åÈòêËø∞ÔºåÂΩìÁÑ∂ÔºåwebpackËøòÊúâÂæàÂ§öÂú∞ÊñπÈúÄË¶ÅÂéªÊé¢Á¥¢Ê∑±Á©∂ÔºåÊï¨ËØ∑ÊúüÂæÖ‰ª•ÂêéÁöÑÊñáÁ´†ÂêßÔΩû]]></content>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰Ω†‰∏çÁü•ÈÅìÁöÑ Promise ÂØπË±°ÈªëÁßëÊäÄ]]></title>
    <url>%2F2017%2F05%2F03%2F%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84-Promise-%E5%AF%B9%E8%B1%A1%E9%BB%91%E7%A7%91%E6%8A%80%2F</url>
    <content type="text"><![CDATA[Promise ÂøÖÁü•ÂøÖ‰ºöÔºàÂçÅÈÅìÈ¢òÔºâ‰∏Ä„ÄÅresolve ÂêéÁöÑÊâßË°åÊÉÖÂÜµÊó†ËÆ∫ÊòØ resolve, rejectÔºåÈÉΩ‰ºöÂ∞ÜÂáΩÊï∞Ââ©‰ΩôÁöÑ‰ª£Á†ÅÊâßË°åÂÆå const promise = new Promise((resolve, reject) =&gt; { console.log(&apos;mark 1&apos;); resolve(&apos;hello world&apos;); // reject(&apos;hello world&apos;); console.log(&apos;mark 2&apos;); }); promise.then(result =&gt; { console.log(result); }).catch(err =&gt; { console.log(err); }); Áõ∏ÂΩì‰∫éÔºö const promise = new Promise((resolve, reject) =&gt; { console.log(&apos;mark 1&apos;); console.log(&apos;mark 2&apos;); resolve(&apos;hello world&apos;); // reject(&apos;hello world&apos;); }); promise.then(result =&gt; { console.log(result); }).catch(err =&gt; { console.log(err); }); Â¶ÇÊûú‰Ω†‰∏çÊÉ≥Âú® resolve Êàñ reject ÂêéÊâßË°åÂâ©‰∏ãÁöÑ‰ª£Á†ÅÊÆµÔºåÂèØ‰ª•Âú® resolve ÂêéÂ∞ÜÂÖ∂ËøîÂõû const promise = new Promise((resolve, reject) =&gt; { console.log(&apos;mark 1&apos;); return resolve(&apos;hello world&apos;); // reject(&apos;hello world&apos;); console.log(&apos;mark 2&apos;); // never be here }); promise.then(result =&gt; { console.log(result); }).catch(err =&gt; { console.log(err); }); ‰∫å„ÄÅ‰∏≤Ë°åÊâßË°åÂíåÂπ∂Ë°åÊâßË°åÔºö ‰∏≤Ë°åÊâßË°åÔºöÊúâ‰∏ÄÂ†Ü Promise ÂØπË±°ÔºåÂÆÉ‰ª¨ÁöÑÊâßË°åÈ°∫Â∫èÊòØÂõ∫ÂÆöÁöÑÔºåÂâç‰∏Ä‰∏™ promise ÊâßË°åÂÆåÂêéÔºåÂêé‰∏Ä‰∏™ promise ÊâçÂºÄÂßãÊâßË°åÔºåÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÔºåÂÆÉ‰ª¨ÂæÄÂæÄÊúâÂâçÂêéÁöÑÂõ†ÊûúÂÖ≥Á≥ª„ÄÇ Âπ∂Ë°åÊâßË°åÔºöÊúâ‰∏ÄÂ†Ü Promise ÂØπË±°ÔºåÂÆÉ‰ª¨ÁöÑÊâßË°åÈ°∫Â∫èÊòØ‰∏çÂõ∫ÂÆöÁöÑÔºåÊ≤°ÊúâÂâçÂêéÂõ†ÊûúÂÖ≥Á≥ªÔºåÂèØ‰ª•Âπ∂ÂèëÂú∞ÂéªÊâßË°å„ÄÇ Âπ∂Ë°åÊâßË°åÂæàÂ•ΩËß£ÂÜ≥ÔºåÂú® Promise‰∏≠Êúâ all Ëøô‰∏™ÂáΩÊï∞ÊîØÊåÅ, Promise.all ÊñπÊ≥ïÁî®‰∫éÂ∞ÜÂ§ö‰∏™ Promise ÂÆû‰æãÔºåÂåÖË£ÖÊàê‰∏Ä‰∏™Êñ∞ÁöÑ Promise ÂÆû‰æã„ÄÇÂΩìÂ§ö‰∏™ Promise ÂÆû‰æãÊâßË°åÂÆåÂêéÊâçÂéªÊâßË°åÊúÄÂêéÊñ∞ÁöÑ Promise ÂÆû‰æã„ÄÇ const datum = []; for(let i = 0; i &lt; 10; i++) { datum.push(i); } Promise.all(datum.map(i =&gt; { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(i * 200 + &quot; ms ÂêéÊâßË°åÁªìÊùü&quot;); resolve(&quot;Á¨¨ &quot; + (i + 1) + &quot; ‰∏™ Promise ÊâßË°åÁªìÊùü&quot;); }, i * 200); }) })).then((data) =&gt; { console.log(data); }); Â¶ÇÊûú‰∏ç‰ΩøÁî® Promise.all Ëøô‰∏™ÊñπÊ≥ïÁöÑËØùÔºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®ÂÉè ES7 ÁöÑ async/await const asyncFun = async () =&gt; { const datum = [] for(let i = 0; i &lt; 10; i++) { datum.push(new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(i * 200 + &apos;ms ÂêéÊâßË°åÁªìÊùü&apos;) resolve(&apos;Á¨¨ &apos; + (i + 1) + &apos; ‰∏™ Promise ÊâßË°åÁªìÊùü&apos;) }, i * 200) })) } const result = [] for(let promise of datum) { result.push(await promise) } console.log(result) } asyncFun() ‰∏≤Ë°åÊâßË°åÔºöËøôÈáåÊèê‰æõ‰∏§ÁßçÊñπÂºè const datum = []; for(let i = 0; i &lt; 10; i++) { datum.push(i); } let serial = Promise.resolve(); for(let i of datum) { serial = serial.then(data =&gt; { console.log(data); return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(i * 200 + &quot; ms ÂêéÊâßË°åÁªìÊùü&quot;); resolve(&quot;Á¨¨ &quot; + (i + 1) + &quot; ‰∏™ Promise ÊâßË°åÁªìÊùü&quot;); }, i * 200); }) }); } Âè¶Â§ñÂèØ‰ª•‰ΩøÁî® reduce Êù•‰∏≤Ë°åÔºö const datum = []; for(let i = 0; i &lt; 10; i++) { datum.push(i); } datum.reduce((prev, cur) =&gt; { return prev.then(data =&gt; { console.log(data); return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(cur * 200 + &quot; ms ÂêéÊâßË°åÁªìÊùü&quot;); resolve(&quot;Á¨¨ &quot; + (cur + 1) + &quot; ‰∏™ Promise ÊâßË°åÁªìÊùü&quot;); }, cur * 200); }) }) }, Promise.resolve(true)); ‰∏â„ÄÅÂÄºÁ©øÈÄèÈóÆÈ¢òÔºölet promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(&apos;Hello World!&apos;); }, 1000) }); promise.then(&apos;ÂëµÂëµÂìí&apos;).then((data) =&gt; { console.log(data); // Hello World }) ËøôÊòØ‰∏ÄÁßçÂÄºÁ©øÈÄèÁöÑÊÉÖÂÜµÔºå‰∏ÄËà¨Êúâ‰∏ãÈù¢‰∏§ÁßçÊÉÖÂÜµÔºöpromise Â∑≤ÁªèÊòØ FULFILLED/REJECTED Êó∂ÔºåÈÄöËøá return this ÂÆûÁé∞ÁöÑÂÄºÁ©øÈÄèÔºö let promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(&apos;Hello World!&apos;); }, 1000) }); promise.then(() =&gt; { promise.then().then(null).then(&apos;ÂëµÂëµÂìí&apos;).then((res) =&gt; { console.log(res) }) promise.catch().catch(null).then(&apos;ÂëµÂëµÂìí&apos;).then((res) =&gt; { console.log(res) }) }) promise ÊòØ PENDING Êó∂ÔºåÈÄöËøáÁîüÊàêÊñ∞ÁöÑ promise Âä†ÂÖ•Âà∞Áà∂ promise ÁöÑ queueÔºåÁà∂ promise ÊúâÂÄºÊó∂Ë∞ÉÁî® callFulfilled-&gt;doResolve Êàñ callRejected-&gt;doRejectÔºàÂõ†‰∏∫ then/catch ‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏çÊòØÂáΩÊï∞ÔºâËÆæÁΩÆÂ≠ê promise ÁöÑÁä∂ÊÄÅÂíåÂÄº‰∏∫Áà∂ promise ÁöÑÁä∂ÊÄÅÂíåÂÄº„ÄÇÂ¶ÇÔºö let promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(&apos;Hello World!&apos;); }, 1000) }); let a = promise.then(&apos;ÂëµÂëµÂìí&apos;); a.then(res =&gt; { console.log(res); }); let b = promise.catch(&apos;ÂëµÂëµÂìí&apos;); b.then(res =&gt; { console.log(res); }) ÊÄªËÄåË®Ä‰πãÔºåÂΩì‰Ω†Áªô then() ‰º†ÈÄí‰∏Ä‰∏™ÈùûÂáΩÊï∞ÔºàÊØîÂ¶Ç‰∏Ä‰∏™ promise ÔºâÂÄºÁöÑÊó∂ÂÄôÔºåÂÆÉÂÆûÈôÖ‰∏ä‰ºöËß£Èáä‰∏∫ then(null) ÔºåËøô‰ºöÂØºËá¥‰πãÂâçÁöÑ promise ÁöÑÁªìÊûú‰∏¢Â§±„ÄÇ‰æãÂ¶Ç: Promise.resolve(&apos;First Value&apos;).then(Promise.resolve(&apos;Second Value&apos;)).then(null).then((value) =&gt; { console.log(value) // First Value }) Âõõ„ÄÅ‰∏çË¶ÅÂú®ÂºÇÊ≠•ÂõûË∞ÉÂáΩÊï∞‰∏≠‰ΩøÁî® throw Error‰∏ç‰ªÖ rejectÔºåÊäõÂá∫ÁöÑÂºÇÂ∏∏‰πü‰ºöË¢´‰Ωú‰∏∫ÊãíÁªùÁä∂ÊÄÅË¢´ Promise ÊçïËé∑ let promise = new Promise((resolve, reject) =&gt; { reject(&apos;This is an error&apos;); }); promise.then(result =&gt; { console.log(result); }).catch(error =&gt; { console.log(&apos;handle error: &apos;, error); //handle error: Error: This is an error }) ‰ΩÜÊòØÔºåÊ∞∏Ëøú‰∏çË¶ÅÂú®ÂõûË∞ÉÈòüÂàó‰∏≠ÊäõÂá∫ÂºÇÂ∏∏ÔºåÂõ†‰∏∫ÂõûË∞ÉÈòüÂàóËÑ±Á¶ª‰∫ÜËøêË°å‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºåÂºÇÂ∏∏Êó†Ê≥ïË¢´ÂΩìÂâç‰ΩúÁî®ÂüüÊçïËé∑„ÄÇ let promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { throw Error(&apos;This is an error&apos;); }); }); promise.then(result =&gt; { console.log(result); }).catch(error =&gt; { console.log(&apos;handle error: &apos;, error); // Error: This is an error }); ÁÆÄÂçïËØ¥Êù•ÔºåÂõûË∞ÉÈòüÂàóÊåáÁöÑÊòØ JS ‰∫ã‰ª∂Âæ™ÁéØ‰∏≠ÁöÑ macrotask ÈòüÂàóÔºåÊØîÂ¶Ç setTimeout setInterval ‰ºöÊèíÂÖ•Âà∞ macrotask ‰∏≠„ÄÇÂ¶ÇÊûúË¶ÅÂú®ÂõûË∞ÉÂáΩÊï∞‰∏≠ÊçïËé∑ÂºÇÂ∏∏ÔºåËØ∑‰ΩøÁî® rejectÔºåÊ∞∏Ëøú‰∏çË¶Å‰ΩøÁî® Error„ÄÇ‰∏äËø∞ÁöÑ‰ª£Á†ÅÂ∫îÊîπÊàêÔºö let promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { reject(&apos;This is an error&apos;); }); }); promise.then(result =&gt; { console.log(result); }).catch(error =&gt; { console.log(&apos;handle error: &apos;, error); // Error: This is an error }); ‰∫î„ÄÅthen ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞Ë∑ü catch ÁöÑÂå∫Âà´ „ÄêÈù¢ËØïÂ∏∏ÈóÆ„ÄëÊàë‰ª¨ÈÉΩÁü•ÈÅì then ÁöÑÁ¨¨‰∫åÂèÇÊï∞Ë∑ü catch Áî®Ê≥ïÂæàÂÉèÔºåÈÉΩÊòØÁî®Êù•ËøõË°åÈîôËØØÂ§ÑÁêÜÁöÑÔºåÊØîÂ¶Ç‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÔºö let promise1 = new Promise((resolve, reject) =&gt; { reject(&apos;this is an error&apos;); }); promise1.then(data =&gt; { console.log(data); }, err =&gt; { console.log(&apos;handle err:&apos;, err); // handle err: this is an error }); let promise2 = new Promise((resolve, reject) =&gt; { reject(&apos;this is an error&apos;); }); promise2.then(data =&gt; { console.log(data); }).catch(err =&gt; { console.log(&apos;handle err:&apos;, err); // handle err: this is an error }); ÂΩìÊó∂Ëøô‰∏§ËÄÖËøòÊòØÂå∫Âà´ÁöÑÔºåÂå∫Âà´‰∫é then ÁöÑÁ¨¨‰∫åÂèÇÊï∞Êó†Ê≥ïÂ§ÑÁêÜÁ¨¨‰∏ÄÂèÇÊï∞ÂáΩÊï∞‰∏≠ÁöÑÈîôËØØ„ÄÇ let promise1 = Promise.resolve(); promise1.then(() =&gt; { throw Error(&apos;this is a error&apos;); //UnhandledPromiseRejectionWarning: Unhandled promise rejection }, err =&gt; { console.log(err); }) let promise2 = Promise.resolve(); promise2.then(() =&gt; { throw Error(&apos;this is a error&apos;); }).catch(err =&gt; { console.log(&apos;handle err:&apos;, err); //handle err: Error: this is a error }) ÂΩì‰Ω†‰ΩøÁî®then( resolveHandler, rejectHandler)Ê†ºÂºèÔºåÂ¶ÇÊûú resolveHandler Ëá™Â∑±ÊäõÂá∫‰∏Ä‰∏™ÈîôËØØ rejectHandler Âπ∂‰∏çËÉΩÊçïËé∑„ÄÇÁ¨¨‰∏Ä‰∏™ Promise ÂØπË±°Êó†Ê≥ïÂ§ÑÁêÜÂêåÁ∫ß then ‰∏≠ÁöÑÂáΩÊï∞ÊäõÂá∫ÁöÑÂºÇÂ∏∏ÔºåÊâÄ‰ª•Âú®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊúÄÂêéÁõ¥Êé•‰ΩøÁî® catch Êù•ËøõË°åÂºÇÂ∏∏ÊçïËé∑ÊØîËæÉ‰øùÈô©„ÄÇ ÂÖ≠„ÄÅÂ§ÑÁêÜÊúÄÂêé catch ÂáΩÊï∞‰∏≠ÁöÑÂºÇÂ∏∏‰∏ÄËà¨Êàë‰ª¨Áî® catch Êù•ÊçïÊçâÂâçÈù¢ÊäõÂá∫ÁöÑÂºÇÂ∏∏Ôºå‰ΩÜÊòØÂ¶ÇÊûúËØïÊÉ≥‰∏Ä‰∏ãÂ¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™ catch ÂáΩÊï∞‰πüÊäõÂá∫‰∫ÜÂºÇÂ∏∏ÔºåÂ∫îËØ•ÊÄé‰πàÂ§ÑÁêÜÂë¢? let promise = new Promise((resolve, reject) =&gt; { reject(&apos;Hello World&apos;) }); promise.catch((err) =&gt; { throw(&apos;Unexpected Error&apos;); // Uncaught (in promise) Unexpected Error }) Èù¢ÂØπËøôÊ†∑ÁöÑÈîôËØØÔºå‰∏çÁÆ°‰ª• then ÊñπÊ≥ïÊàñ catch ÊñπÊ≥ïÁªìÂ∞æÔºåË¶ÅÊòØÊúÄÂêé‰∏Ä‰∏™ÊñπÊ≥ïÊäõÂá∫ÈîôËØØÔºåÈÉΩÊúâÂèØËÉΩÊó†Ê≥ïÊçïÊçâÂà∞ÔºàÂõ†‰∏∫ Promise ÂÜÖÈÉ®ÁöÑÈîôËØØ‰∏ç‰ºöÂÜíÊ≥°Âà∞ÂÖ®Â±ÄÔºâËøôÈáåÊèê‰æõ‰∏§ÁßçÊÄùË∑ØÔºö ÊãìÂ±ï Promise.prototype ÁöÑÊñπÊ≥ïÔºåÊ∑ªÂä†‰∏Ä‰∏™ done ÂáΩÊï∞ÔºåÂ∞ÜÈîôËØØÊäõÂêëÂÖ®Â±Ä„ÄÇ window.onerror = (err) =&gt; { console.log(err); } Promise.prototype.done = function (onFulfilled, onRejected) { this.then(onFulfilled, onRejected) .catch(function (reason) { // ÊäõÂá∫‰∏Ä‰∏™ÂÖ®Â±ÄÈîôËØØ setTimeout(() =&gt; { throw reason }, 0); }); }; let promise = new Promise((resolve, reject) =&gt; { reject(&apos;Hello World&apos;) }); promise.catch((err) =&gt; { throw(&apos;Unexpected Error&apos;); // Uncaught Unexpected Error }).done() Âú®ÂÖ®Â±ÄÊ∑ªÂä† unhandledrejection ‰∫ã‰ª∂ÊçïËé∑ Promise ÂºÇÂ∏∏„ÄÇ window.addEventListener(&quot;unhandledrejection&quot;, (e) =&gt;{ console.log(e.reason) }) let promise = new Promise((resolve, reject) =&gt; { reject(&apos;Hello World&apos;) }); promise.catch((err) =&gt; { throw(&apos;Unexpected Error&apos;); // Unexpected Error }) ‰∏É„ÄÅÊú™ÊçïËé∑ÁöÑÈîôËØØÂèØ‰ª•Ë¢´ÊÅ¢Â§çlet promise = new Promise((resolve, reject) =&gt; [ reject(&apos;Hello world&apos;) ]).then(() =&gt; { console.log(&apos;resolve&apos;) }) setTimeout(() =&gt; { promise.catch((e) =&gt; { console.log(e) }).then(() =&gt; { console.log(&apos;catch resolve&apos;) }) }, 1000) ÂÖ´„ÄÅresolved Áä∂ÊÄÅÁöÑ Promise ‰∏ç‰ºöÁ´ãÂç≥ÊâßË°ålet i = 0; Promise.resolve(&apos;resolved promise&apos;).then(() =&gt; { i += 2 }) console.log(i) // 0 Âç≥‰ΩøÊòØ resolve ÁöÑ Promise Ë∞ÉÁî® then ÊñπÊ≥ï‰πüÊòØÂºÇÊ≠•ÊâßË°å„ÄÇ ‰πù„ÄÅÁªìÂêà async/await ÁºñÂÜôÂêåÊ≠•‰ª£Á†Å async/await ÂáΩÊï∞ÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂΩªÂ∫ïÊëÜËÑ±ÂõûË∞ÉÂú∞Áã±ÁöÑÁÉ¶ÊÅºÔºåÁî®‰∏ÄÁßçÂêåÊ≠•ÁöÑÊñπÂºèÊù•ÁºñÂÜôÂºÇÊ≠•ÂáΩÊï∞„ÄÇ await ÂêéÈù¢ÂèØ‰ª•Êé•Êï∞ÂÄºÔºåÂ¶ÇÊûúÊòØÂºÇÊ≠•ËØ∑Ê±ÇÁöÑËØùÂèØ‰ª•Êé• Thunk ÂáΩÊï∞Âíå Promise ÂØπË±°„ÄÇ const timeout = (ms) =&gt; { return new Promise((resolve) =&gt; { setTimeout(() =&gt; { resolve(ms + &apos; passed&apos;) }, ms) }) } const asyncFunc = async () =&gt; { const value1 = await timeout(2000) console.log(value1) const value2 = await timeout(2000) console.log(value2) } asyncFunc() console.log(&apos;now&apos;) ÂçÅ„ÄÅË∞ÉÁî® then ÊñπÊ≥ïËøîÂõûÊñ∞ÁöÑ Promise ÂØπË±°let promise1 = new Promise((resolve) =&gt; { resolve(&apos;Hello world&apos;) }) let promise2 = promise1.then() console.log(promise1 === promise2) // false console.log(promise1 instanceof Promise) // true console.log(promise2 instanceof Promise) // true ÊØèÊ¨°Ë∞ÉÁî® then ÊñπÊ≥ïÂêéÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ Promise ÂØπË±°ÔºåÂπ∂‰∏çÊòØËøîÂõûÂéüÊú¨ÁöÑ Promise ÂØπË±°„ÄÇ]]></content>
      <tags>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆûÁé∞‰∏Ä‰∏™ Virtual DOM ÁÆóÊ≥ï[ËΩ¨]]]></title>
    <url>%2F2017%2F05%2F01%2F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA-Virtual-DOM-%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[virtual domÂæàÂ§öÊó∂ÂÄôÈÉΩ‰∏çÊòØÊúÄ‰ºòÁöÑÊìç‰ΩúÔºå‰ΩÜÂÆÉÂÖ∑ÊúâÊôÆÈÄÇÊÄßÔºåÂú®ÊïàÁéá„ÄÅÂèØÁª¥Êä§ÊÄß‰πãÈó¥ËææÂπ≥Ë°°„ÄÇÁõÆÂΩïÔºö 1 ÂâçË®Ä 2 ÂØπÂâçÁ´ØÂ∫îÁî®Áä∂ÊÄÅÁÆ°ÁêÜÊÄùËÄÉ 3 Virtual DOM ÁÆóÊ≥ï 4 ÁÆóÊ≥ïÂÆûÁé∞ 4.1 Ê≠•È™§‰∏ÄÔºöÁî®JSÂØπË±°Ê®°ÊãüDOMÊ†ë 4.2 Ê≠•È™§‰∫åÔºöÊØîËæÉ‰∏§Ê£µËôöÊãüDOMÊ†ëÁöÑÂ∑ÆÂºÇ 4.3 Ê≠•È™§‰∏âÔºöÊääÂ∑ÆÂºÇÂ∫îÁî®Âà∞ÁúüÊ≠£ÁöÑDOMÊ†ë‰∏ä 5 ÁªìËØ≠ 6 References 1 ÂâçË®ÄÊú¨Êñá‰ºöÂú®Êïô‰Ω†ÊÄé‰πàÁî® 300~400 Ë°å‰ª£Á†ÅÂÆûÁé∞‰∏Ä‰∏™Âü∫Êú¨ÁöÑ Virtual DOM ÁÆóÊ≥ïÔºåÂπ∂‰∏îÂ∞ùËØïÂ∞ΩÈáèÊää Virtual DOM ÁöÑÁÆóÊ≥ïÊÄùË∑ØÈòêËø∞Ê∏ÖÊ•ö„ÄÇÂ∏åÊúõÂú®ÈòÖËØªÊú¨ÊñáÂêéÔºåËÉΩËÆ©‰Ω†Ê∑±ÂÖ•ÁêÜËß£ Virtual DOM ÁÆóÊ≥ïÔºåÁªô‰Ω†Áé∞ÊúâÂâçÁ´ØÁöÑÁºñÁ®ãÊèê‰æõ‰∏Ä‰∫õÊñ∞ÁöÑÊÄùËÄÉ„ÄÇ 2 ÂØπÂâçÁ´ØÂ∫îÁî®Áä∂ÊÄÅÁÆ°ÁêÜÁöÑÊÄùËÄÉÂÅáÂ¶ÇÁé∞Âú®‰Ω†ÈúÄË¶ÅÂÜô‰∏Ä‰∏™ÂÉè‰∏ãÈù¢‰∏ÄÊ†∑ÁöÑË°®Ê†ºÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËøô‰∏™Ë°®Ê†ºÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÁöÑÂ≠óÊÆµËøõË°åÂçáÂ∫èÊàñËÄÖÈôçÂ∫èÁöÑÂ±ïÁ§∫„ÄÇ Ëøô‰∏™Â∫îÁî®Á®ãÂ∫èÁúãËµ∑Êù•ÂæàÁÆÄÂçïÔºå‰Ω†ÂèØ‰ª•ÊÉ≥Âá∫Â•ΩÂá†Áßç‰∏çÂêåÁöÑÊñπÂºèÊù•ÂÜô„ÄÇÊúÄÂÆπÊòìÊÉ≥Âà∞ÁöÑÂèØËÉΩÊòØÔºåÂú®‰Ω†ÁöÑ JavaScript ‰ª£Á†ÅÈáåÈù¢Â≠òÂÇ®ËøôÊ†∑ÁöÑÊï∞ÊçÆÔºö123var sortKey = &quot;new&quot; // ÊéíÂ∫èÁöÑÂ≠óÊÆµÔºåÊñ∞Â¢ûÔºànewÔºâ„ÄÅÂèñÊ∂àÔºàcancelÔºâ„ÄÅÂáÄÂÖ≥Ê≥®ÔºàgainÔºâ„ÄÅÁ¥ØÁßØÔºàcumulateÔºâ‰∫∫Êï∞var sortType = 1 // ÂçáÂ∫èËøòÊòØÈÄÜÂ∫èvar data = [&#123;...&#125;, &#123;...&#125;, &#123;..&#125;, ..] // Ë°®Ê†ºÊï∞ÊçÆ Áî®‰∏â‰∏™Â≠óÊÆµÂàÜÂà´Â≠òÂÇ®ÂΩìÂâçÊéíÂ∫èÁöÑÂ≠óÊÆµ„ÄÅÊéíÂ∫èÊñπÂêë„ÄÅËøòÊúâË°®Ê†ºÊï∞ÊçÆÔºõÁÑ∂ÂêéÁªôË°®Ê†ºÂ§¥ÈÉ®Âä†ÁÇπÂáª‰∫ã‰ª∂ÔºöÂΩìÁî®Êà∑ÁÇπÂáªÁâπÂÆöÁöÑÂ≠óÊÆµÁöÑÊó∂ÂÄôÔºåÊ†πÊçÆ‰∏äÈù¢Âá†‰∏™Â≠óÊÆµÂ≠òÂÇ®ÁöÑÂÜÖÂÆπÊù•ÂØπÂÜÖÂÆπËøõË°åÊéíÂ∫èÔºåÁÑ∂ÂêéÁî® JS ÊàñËÄÖ jQuery Êìç‰Ωú DOMÔºåÊõ¥Êñ∞È°µÈù¢ÁöÑÊéíÂ∫èÁä∂ÊÄÅÔºàË°®Â§¥ÁöÑÈÇ£Âá†‰∏™ÁÆ≠Â§¥Ë°®Á§∫ÂΩìÂâçÊéíÂ∫èÁä∂ÊÄÅÔºå‰πüÈúÄË¶ÅÊõ¥Êñ∞ÔºâÂíåË°®Ê†ºÂÜÖÂÆπ„ÄÇ ËøôÊ†∑ÂÅö‰ºöÂØºËá¥ÁöÑÂêéÊûúÂ∞±ÊòØÔºåÈöèÁùÄÂ∫îÁî®Á®ãÂ∫èË∂äÊù•Ë∂äÂ§çÊùÇÔºåÈúÄË¶ÅÂú®JSÈáåÈù¢Áª¥Êä§ÁöÑÂ≠óÊÆµ‰πüË∂äÊù•Ë∂äÂ§öÔºåÈúÄË¶ÅÁõëÂê¨‰∫ã‰ª∂ÂíåÂú®‰∫ã‰ª∂ÂõûË∞ÉÁî®Êõ¥Êñ∞È°µÈù¢ÁöÑDOMÊìç‰Ωú‰πüË∂äÊù•Ë∂äÂ§öÔºåÂ∫îÁî®Á®ãÂ∫è‰ºöÂèòÂæóÈùûÂ∏∏ÈöæÁª¥Êä§„ÄÇÂêéÊù•‰∫∫‰ª¨‰ΩøÁî®‰∫Ü MVC„ÄÅMVP ÁöÑÊû∂ÊûÑÊ®°ÂºèÔºåÂ∏åÊúõËÉΩ‰ªé‰ª£Á†ÅÁªÑÁªáÊñπÂºèÊù•Èôç‰ΩéÁª¥Êä§ËøôÁßçÂ§çÊùÇÂ∫îÁî®Á®ãÂ∫èÁöÑÈöæÂ∫¶„ÄÇ‰ΩÜÊòØ MVC Êû∂ÊûÑÊ≤°ÂäûÊ≥ïÂáèÂ∞ë‰Ω†ÊâÄÁª¥Êä§ÁöÑÁä∂ÊÄÅÔºå‰πüÊ≤°ÊúâÈôç‰ΩéÁä∂ÊÄÅÊõ¥Êñ∞‰Ω†ÈúÄË¶ÅÂØπÈ°µÈù¢ÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºàÂâçÁ´ØÊù•ËØ¥Â∞±ÊòØDOMÊìç‰ΩúÔºâÔºå‰Ω†ÈúÄË¶ÅÊìç‰ΩúÁöÑDOMËøòÊòØÈúÄË¶ÅÊìç‰ΩúÔºåÂè™ÊòØÊç¢‰∫Ü‰∏™Âú∞Êñπ„ÄÇ Êó¢ÁÑ∂Áä∂ÊÄÅÊîπÂèò‰∫ÜË¶ÅÊìç‰ΩúÁõ∏Â∫îÁöÑDOMÂÖÉÁ¥†Ôºå‰∏∫‰ªÄ‰πà‰∏çÂÅö‰∏Ä‰∏™‰∏úË•øÂèØ‰ª•ËÆ©ËßÜÂõæÂíåÁä∂ÊÄÅËøõË°åÁªëÂÆöÔºåÁä∂ÊÄÅÂèòÊõ¥‰∫ÜËßÜÂõæËá™Âä®ÂèòÊõ¥ÔºåÂ∞±‰∏çÁî®ÊâãÂä®Êõ¥Êñ∞È°µÈù¢‰∫Ü„ÄÇËøôÂ∞±ÊòØÂêéÊù•‰∫∫‰ª¨ÊÉ≥Âá∫‰∫Ü MVVM Ê®°ÂºèÔºåÂè™Ë¶ÅÂú®Ê®°Áâà‰∏≠Â£∞ÊòéËßÜÂõæÁªÑ‰ª∂ÊòØÂíå‰ªÄ‰πàÁä∂ÊÄÅËøõË°åÁªëÂÆöÁöÑÔºåÂèåÂêëÁªëÂÆöÂºïÊìéÂ∞±‰ºöÂú®Áä∂ÊÄÅÊõ¥Êñ∞ÁöÑÊó∂ÂÄôËá™Âä®Êõ¥Êñ∞ËßÜÂõæÔºàÂÖ≥‰∫éMV*Ê®°ÂºèÁöÑÂÜÖÂÆπÔºåÂèØ‰ª•ÁúãËøôÁØá‰ªãÁªçÔºâ„ÄÇ MVVM ÂèØ‰ª•ÂæàÂ•ΩÁöÑÈôç‰ΩéÊàë‰ª¨Áª¥Êä§Áä∂ÊÄÅ -&gt; ËßÜÂõæÁöÑÂ§çÊùÇÁ®ãÂ∫¶ÔºàÂ§ßÂ§ßÂáèÂ∞ë‰ª£Á†Å‰∏≠ÁöÑËßÜÂõæÊõ¥Êñ∞ÈÄªËæëÔºâ„ÄÇ‰ΩÜÊòØËøô‰∏çÊòØÂîØ‰∏ÄÁöÑÂäûÊ≥ïÔºåËøòÊúâ‰∏Ä‰∏™ÈùûÂ∏∏Áõ¥ËßÇÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•Â§ßÂ§ßÈôç‰ΩéËßÜÂõæÊõ¥Êñ∞ÁöÑÊìç‰ΩúÔºö‰∏ÄÊó¶Áä∂ÊÄÅÂèëÁîü‰∫ÜÂèòÂåñÔºåÂ∞±Áî®Ê®°ÁâàÂºïÊìéÈáçÊñ∞Ê∏≤ÊüìÊï¥‰∏™ËßÜÂõæÔºåÁÑ∂ÂêéÁî®Êñ∞ÁöÑËßÜÂõæÊõ¥Êç¢ÊéâÊóßÁöÑËßÜÂõæ„ÄÇÂ∞±ÂÉè‰∏äÈù¢ÁöÑË°®Ê†ºÔºåÂΩìÁî®Êà∑ÁÇπÂáªÁöÑÊó∂ÂÄôÔºåËøòÊòØÂú®JSÈáåÈù¢Êõ¥Êñ∞Áä∂ÊÄÅÔºå‰ΩÜÊòØÈ°µÈù¢Êõ¥Êñ∞Â∞±‰∏çÁî®ÊâãÂä®Êìç‰Ωú DOM ‰∫ÜÔºåÁõ¥Êé•ÊääÊï¥‰∏™Ë°®Ê†ºÁî®Ê®°ÁâàÂºïÊìéÈáçÊñ∞Ê∏≤Êüì‰∏ÄÈÅçÔºåÁÑ∂ÂêéËÆæÁΩÆ‰∏Ä‰∏ãinnerHTMLÂ∞±ÂÆå‰∫ã‰∫Ü„ÄÇ Âê¨Âà∞ËøôÊ†∑ÁöÑÂÅöÊ≥ïÔºåÁªèÈ™å‰∏∞ÂØåÁöÑ‰Ω†‰∏ÄÂÆöÁ¨¨‰∏ÄÊó∂Èó¥ÊÑèËØÜËøôÊ†∑ÁöÑÂÅöÊ≥ï‰ºöÂØºËá¥ÂæàÂ§öÁöÑÈóÆÈ¢ò„ÄÇÊúÄÂ§ßÁöÑÈóÆÈ¢òÂ∞±ÊòØËøôÊ†∑ÂÅö‰ºöÂæàÊÖ¢ÔºåÂõ†‰∏∫Âç≥‰Ωø‰∏Ä‰∏™Â∞èÂ∞èÁöÑÁä∂ÊÄÅÂèòÊõ¥ÈÉΩË¶ÅÈáçÊñ∞ÊûÑÈÄ†Êï¥Ê£µ DOMÔºåÊÄß‰ª∑ÊØîÂ§™‰ΩéÔºõËÄå‰∏îËøôÊ†∑ÂÅöÁöÑËØùÔºåinputÂíåtextareaÁöÑ‰ºöÂ§±ÂéªÂéüÊúâÁöÑÁÑ¶ÁÇπ„ÄÇÊúÄÂêéÁöÑÁªìËÆ∫‰ºöÊòØÔºöÂØπ‰∫éÂ±ÄÈÉ®ÁöÑÂ∞èËßÜÂõæÁöÑÊõ¥Êñ∞ÔºåÊ≤°ÊúâÈóÆÈ¢òÔºàBackboneÂ∞±ÊòØËøô‰πàÂπ≤ÁöÑÔºâÔºõ‰ΩÜÊòØÂØπ‰∫éÂ§ßÂûãËßÜÂõæÔºåÂ¶ÇÂÖ®Â±ÄÂ∫îÁî®Áä∂ÊÄÅÂèòÊõ¥ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊõ¥Êñ∞È°µÈù¢ËæÉÂ§öÂ±ÄÈÉ®ËßÜÂõæÁöÑÊó∂ÂÄôÔºåËøôÊ†∑ÁöÑÂÅöÊ≥ï‰∏çÂèØÂèñ„ÄÇ ‰ΩÜÊòØËøôÈáåË¶ÅÊòéÁôΩÂíåËÆ∞‰ΩèËøôÁßçÂÅöÊ≥ïÔºåÂõ†‰∏∫ÂêéÈù¢‰Ω†‰ºöÂèëÁé∞ÔºåÂÖ∂ÂÆû Virtual DOM Â∞±ÊòØËøô‰πàÂÅöÁöÑÔºåÂè™ÊòØÂä†‰∫Ü‰∏Ä‰∫õÁâπÂà´ÁöÑÊ≠•È™§Êù•ÈÅøÂÖç‰∫ÜÊï¥Ê£µ DOM Ê†ëÂèòÊõ¥„ÄÇ Âè¶Â§ñ‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂ∞±ÊòØÔºå‰∏äÈù¢Êèê‰æõÁöÑÂá†ÁßçÊñπÊ≥ïÔºåÂÖ∂ÂÆûÈÉΩÂú®Ëß£ÂÜ≥Âêå‰∏Ä‰∏™ÈóÆÈ¢òÔºöÁª¥Êä§Áä∂ÊÄÅÔºåÊõ¥Êñ∞ËßÜÂõæ„ÄÇÂú®‰∏ÄËà¨ÁöÑÂ∫îÁî®ÂΩì‰∏≠ÔºåÂ¶ÇÊûúËÉΩÂ§üÂæàÂ•ΩÊñπÊ°àÊù•Â∫îÂØπËøô‰∏™ÈóÆÈ¢òÔºåÈÇ£‰πàÂ∞±Âá†‰πéÈôç‰Ωé‰∫ÜÂ§ßÈÉ®ÂàÜÂ§çÊùÇÊÄß„ÄÇ 3 Virtual DOMÁÆóÊ≥ïDOMÊòØÂæàÊÖ¢ÁöÑ„ÄÇÂ¶ÇÊûúÊàë‰ª¨Êää‰∏Ä‰∏™ÁÆÄÂçïÁöÑdivÂÖÉÁ¥†ÁöÑÂ±ûÊÄßÈÉΩÊâìÂç∞Âá∫Êù•Ôºå‰Ω†‰ºöÁúãÂà∞Ôºö ËÄåËøô‰ªÖ‰ªÖÊòØÁ¨¨‰∏ÄÂ±Ç„ÄÇÁúüÊ≠£ÁöÑ DOM ÂÖÉÁ¥†ÈùûÂ∏∏Â∫ûÂ§ßÔºåËøôÊòØÂõ†‰∏∫Ê†áÂáÜÂ∞±ÊòØËøô‰πàËÆæËÆ°ÁöÑ„ÄÇËÄå‰∏îÊìç‰ΩúÂÆÉ‰ª¨ÁöÑÊó∂ÂÄô‰Ω†Ë¶ÅÂ∞èÂøÉÁøºÁøºÔºåËΩªÂæÆÁöÑËß¶Á¢∞ÂèØËÉΩÂ∞±‰ºöÂØºËá¥È°µÈù¢ÈáçÊéíÔºåËøôÂèØÊòØÊùÄÊ≠ªÊÄßËÉΩÁöÑÁΩ™È≠ÅÁ•∏È¶ñ„ÄÇ Áõ∏ÂØπ‰∫é DOM ÂØπË±°ÔºåÂéüÁîüÁöÑ JavaScript ÂØπË±°Â§ÑÁêÜËµ∑Êù•Êõ¥Âø´ÔºåËÄå‰∏îÊõ¥ÁÆÄÂçï„ÄÇDOM Ê†ë‰∏äÁöÑÁªìÊûÑ„ÄÅÂ±ûÊÄß‰ø°ÊÅØÊàë‰ª¨ÈÉΩÂèØ‰ª•ÂæàÂÆπÊòìÂú∞Áî® JavaScript ÂØπË±°Ë°®Á§∫Âá∫Êù•Ôºö1234567891011var element = &#123; tagName:&apos;ul&apos;, // ËäÇÁÇπÊ†áÁ≠æÂêç props: &#123; // DOMÁöÑÂ±ûÊÄßÔºåÁî®‰∏Ä‰∏™ÂØπË±°Â≠òÂÇ®ÈîÆÂÄºÂØπ id:&apos;list&apos; &#125;, children: [ // ËØ•ËäÇÁÇπÁöÑÂ≠êËäÇÁÇπ &#123;tagName:&apos;li&apos;, props: &#123;class:&apos;item&apos;&#125;, children: [&quot;Item 1&quot;]&#125;, &#123;tagName:&apos;li&apos;, props: &#123;class:&apos;item&apos;&#125;, children: [&quot;Item 2&quot;]&#125;, &#123;tagName:&apos;li&apos;, props: &#123;class:&apos;item&apos;&#125;, children: [&quot;Item 3&quot;]&#125;, ]&#125; ‰∏äÈù¢ÂØπÂ∫îÁöÑHTMLÂÜôÊ≥ïÊòØÔºö12345&lt;ulid=&apos;list&apos;&gt; &lt;liclass=&apos;item&apos;&gt;Item 1&lt;/li&gt; &lt;liclass=&apos;item&apos;&gt;Item 2&lt;/li&gt; &lt;liclass=&apos;item&apos;&gt;Item 3&lt;/li&gt;&lt;/ul&gt; Êó¢ÁÑ∂ÂéüÊù• DOM Ê†ëÁöÑ‰ø°ÊÅØÈÉΩÂèØ‰ª•Áî® JavaScript ÂØπË±°Êù•Ë°®Á§∫ÔºåÂèçËøáÊù•Ôºå‰Ω†Â∞±ÂèØ‰ª•Ê†πÊçÆËøô‰∏™Áî® JavaScript ÂØπË±°Ë°®Á§∫ÁöÑÊ†ëÁªìÊûÑÊù•ÊûÑÂª∫‰∏ÄÊ£µÁúüÊ≠£ÁöÑDOMÊ†ë„ÄÇ ‰πãÂâçÁöÑÁ´†ËäÇÊâÄËØ¥ÁöÑÔºåÁä∂ÊÄÅÂèòÊõ¥-&gt;ÈáçÊñ∞Ê∏≤ÊüìÊï¥‰∏™ËßÜÂõæÁöÑÊñπÂºèÂèØ‰ª•Á®çÂæÆ‰øÆÊîπ‰∏Ä‰∏ãÔºöÁî® JavaScript ÂØπË±°Ë°®Á§∫ DOM ‰ø°ÊÅØÂíåÁªìÊûÑÔºåÂΩìÁä∂ÊÄÅÂèòÊõ¥ÁöÑÊó∂ÂÄôÔºåÈáçÊñ∞Ê∏≤ÊüìËøô‰∏™ JavaScript ÁöÑÂØπË±°ÁªìÊûÑ„ÄÇÂΩìÁÑ∂ËøôÊ†∑ÂÅöÂÖ∂ÂÆûÊ≤°‰ªÄ‰πàÂçµÁî®ÔºåÂõ†‰∏∫ÁúüÊ≠£ÁöÑÈ°µÈù¢ÂÖ∂ÂÆûÊ≤°ÊúâÊîπÂèò„ÄÇ ‰ΩÜÊòØÂèØ‰ª•Áî®Êñ∞Ê∏≤ÊüìÁöÑÂØπË±°Ê†ëÂéªÂíåÊóßÁöÑÊ†ëËøõË°åÂØπÊØîÔºåËÆ∞ÂΩïËøô‰∏§Ê£µÊ†ëÂ∑ÆÂºÇ„ÄÇËÆ∞ÂΩï‰∏ãÊù•ÁöÑ‰∏çÂêåÂ∞±ÊòØÊàë‰ª¨ÈúÄË¶ÅÂØπÈ°µÈù¢ÁúüÊ≠£ÁöÑ DOM Êìç‰ΩúÔºåÁÑ∂ÂêéÊääÂÆÉ‰ª¨Â∫îÁî®Âú®ÁúüÊ≠£ÁöÑ DOM Ê†ë‰∏äÔºåÈ°µÈù¢Â∞±ÂèòÊõ¥‰∫Ü„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•ÂÅöÂà∞ÔºöËßÜÂõæÁöÑÁªìÊûÑÁ°ÆÂÆûÊòØÊï¥‰∏™ÂÖ®Êñ∞Ê∏≤Êüì‰∫ÜÔºå‰ΩÜÊòØÊúÄÂêéÊìç‰ΩúDOMÁöÑÊó∂ÂÄôÁ°ÆÂÆûÂè™ÂèòÊõ¥Êúâ‰∏çÂêåÁöÑÂú∞Êñπ„ÄÇ ËøôÂ∞±ÊòØÊâÄË∞ìÁöÑ Virtual DOM ÁÆóÊ≥ï„ÄÇÂåÖÊã¨Âá†‰∏™Ê≠•È™§Ôºö Áî® JavaScript ÂØπË±°ÁªìÊûÑË°®Á§∫ DOM Ê†ëÁöÑÁªìÊûÑÔºõÁÑ∂ÂêéÁî®Ëøô‰∏™Ê†ëÊûÑÂª∫‰∏Ä‰∏™ÁúüÊ≠£ÁöÑ DOM Ê†ëÔºåÊèíÂà∞ÊñáÊ°£ÂΩì‰∏≠ ÂΩìÁä∂ÊÄÅÂèòÊõ¥ÁöÑÊó∂ÂÄôÔºåÈáçÊñ∞ÊûÑÈÄ†‰∏ÄÊ£µÊñ∞ÁöÑÂØπË±°Ê†ë„ÄÇÁÑ∂ÂêéÁî®Êñ∞ÁöÑÊ†ëÂíåÊóßÁöÑÊ†ëËøõË°åÊØîËæÉÔºåËÆ∞ÂΩï‰∏§Ê£µÊ†ëÂ∑ÆÂºÇ Êää2ÊâÄËÆ∞ÂΩïÁöÑÂ∑ÆÂºÇÂ∫îÁî®Âà∞Ê≠•È™§1ÊâÄÊûÑÂª∫ÁöÑÁúüÊ≠£ÁöÑDOMÊ†ë‰∏äÔºåËßÜÂõæÂ∞±Êõ¥Êñ∞‰∫Ü Virtual DOM Êú¨Ë¥®‰∏äÂ∞±ÊòØÂú® JS Âíå DOM ‰πãÈó¥ÂÅö‰∫Ü‰∏Ä‰∏™ÁºìÂ≠ò„ÄÇÂèØ‰ª•Á±ªÊØî CPU ÂíåÁ°¨ÁõòÔºåÊó¢ÁÑ∂Á°¨ÁõòËøô‰πàÊÖ¢ÔºåÊàë‰ª¨Â∞±Âú®ÂÆÉ‰ª¨‰πãÈó¥Âä†‰∏™ÁºìÂ≠òÔºöÊó¢ÁÑ∂ DOM Ëøô‰πàÊÖ¢ÔºåÊàë‰ª¨Â∞±Âú®ÂÆÉ‰ª¨ JS Âíå DOM ‰πãÈó¥Âä†‰∏™ÁºìÂ≠ò„ÄÇCPUÔºàJSÔºâÂè™Êìç‰ΩúÂÜÖÂ≠òÔºàVirtual DOMÔºâÔºåÊúÄÂêéÁöÑÊó∂ÂÄôÂÜçÊääÂèòÊõ¥ÂÜôÂÖ•Á°¨ÁõòÔºàDOMÔºâ„ÄÇ 4 ÁÆóÊ≥ïÂÆûÁé∞4.1 Ê≠•È™§‰∏ÄÔºöÁî®JSÂØπË±°Ê®°ÊãüDOMÊ†ëÁî® JavaScript Êù•Ë°®Á§∫‰∏Ä‰∏™ DOM ËäÇÁÇπÊòØÂæàÁÆÄÂçïÁöÑ‰∫ãÊÉÖÔºå‰Ω†Âè™ÈúÄË¶ÅËÆ∞ÂΩïÂÆÉÁöÑËäÇÁÇπÁ±ªÂûã„ÄÅÂ±ûÊÄßÔºåËøòÊúâÂ≠êËäÇÁÇπÔºö element.js123456789functionElement (tagName, props, children) &#123; this.tagName= tagName this.props= props this.children= children&#125;module.exports=function (tagName, props, children) &#123; returnnewElement(tagName, props, children)&#125; ‰æãÂ¶Ç‰∏äÈù¢ÁöÑ DOM ÁªìÊûÑÂ∞±ÂèØ‰ª•ÁÆÄÂçïÁöÑË°®Á§∫Ôºö1234567var el =require(&apos;./element&apos;)var ul =el(&apos;ul&apos;, &#123;id:&apos;list&apos;&#125;, [ el(&apos;li&apos;, &#123;class:&apos;item&apos;&#125;, [&apos;Item 1&apos;]), el(&apos;li&apos;, &#123;class:&apos;item&apos;&#125;, [&apos;Item 2&apos;]), el(&apos;li&apos;, &#123;class:&apos;item&apos;&#125;, [&apos;Item 3&apos;])]) Áé∞Âú®ulÂè™ÊòØ‰∏Ä‰∏™ JavaScript ÂØπË±°Ë°®Á§∫ÁöÑ DOM ÁªìÊûÑÔºåÈ°µÈù¢‰∏äÂπ∂Ê≤°ÊúâËøô‰∏™ÁªìÊûÑ„ÄÇÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËøô‰∏™ulÊûÑÂª∫ÁúüÊ≠£ÁöÑ&lt;ul&gt;Ôºö1234567891011121314Element.prototype.render=function () &#123; var el =document.createElement(this.tagName) // Ê†πÊçÆtagNameÊûÑÂª∫var props =this.propsfor (var propName in props) &#123; // ËÆæÁΩÆËäÇÁÇπÁöÑDOMÂ±ûÊÄßvar propValue = props[propName] el.setAttribute(propName, propValue) &#125; var children =this.children|| [] children.forEach(function (child) &#123; var childEl = (child instanceofElement) ?child.render() // Â¶ÇÊûúÂ≠êËäÇÁÇπ‰πüÊòØËôöÊãüDOMÔºåÈÄíÂΩíÊûÑÂª∫DOMËäÇÁÇπ:document.createTextNode(child) // Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÔºåÂè™ÊûÑÂª∫ÊñáÊú¨ËäÇÁÇπel.appendChild(childEl) &#125;) return el&#125; renderÊñπÊ≥ï‰ºöÊ†πÊçÆtagNameÊûÑÂª∫‰∏Ä‰∏™ÁúüÊ≠£ÁöÑDOMËäÇÁÇπÔºåÁÑ∂ÂêéËÆæÁΩÆËøô‰∏™ËäÇÁÇπÁöÑÂ±ûÊÄßÔºåÊúÄÂêéÈÄíÂΩíÂú∞ÊääËá™Â∑±ÁöÑÂ≠êËäÇÁÇπ‰πüÊûÑÂª∫Ëµ∑Êù•„ÄÇÊâÄ‰ª•Âè™ÈúÄË¶ÅÔºö12var ulRoot =ul.render()document.body.appendChild(ulRoot) ‰∏äÈù¢ÁöÑulRootÊòØÁúüÊ≠£ÁöÑDOMËäÇÁÇπÔºåÊääÂÆÉÂ°ûÂÖ•ÊñáÊ°£‰∏≠ÔºåËøôÊ†∑bodyÈáåÈù¢Â∞±Êúâ‰∫ÜÁúüÊ≠£ÁöÑ&lt;ul&gt;ÁöÑDOMÁªìÊûÑÔºö12345&lt;ulid=&apos;list&apos;&gt; &lt;liclass=&apos;item&apos;&gt;Item 1&lt;/li&gt; &lt;liclass=&apos;item&apos;&gt;Item 2&lt;/li&gt; &lt;liclass=&apos;item&apos;&gt;Item 3&lt;/li&gt;&lt;/ul&gt; ÂÆåÊï¥‰ª£Á†ÅÂèØËßÅ element.js„ÄÇ 4.2 Ê≠•È™§‰∫åÔºöÊØîËæÉ‰∏§Ê£µËôöÊãüDOMÊ†ëÁöÑÂ∑ÆÂºÇÊ≠£Â¶Ç‰Ω†ÊâÄÈ¢ÑÊñôÁöÑÔºåÊØîËæÉ‰∏§Ê£µDOMÊ†ëÁöÑÂ∑ÆÂºÇÊòØ Virtual DOM ÁÆóÊ≥ïÊúÄÊ†∏ÂøÉÁöÑÈÉ®ÂàÜÔºåËøô‰πüÊòØÊâÄË∞ìÁöÑ Virtual DOM ÁöÑ diff ÁÆóÊ≥ï„ÄÇ‰∏§‰∏™Ê†ëÁöÑÂÆåÂÖ®ÁöÑ diff ÁÆóÊ≥ïÊòØ‰∏Ä‰∏™Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(n^3) ÁöÑÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÂú®ÂâçÁ´ØÂΩì‰∏≠Ôºå‰Ω†ÂæàÂ∞ë‰ºöË∑®Ë∂äÂ±ÇÁ∫ßÂú∞ÁßªÂä®DOMÂÖÉÁ¥†„ÄÇÊâÄ‰ª• Virtual DOM Âè™‰ºöÂØπÂêå‰∏Ä‰∏™Â±ÇÁ∫ßÁöÑÂÖÉÁ¥†ËøõË°åÂØπÊØîÔºö ‰∏äÈù¢ÁöÑdivÂè™‰ºöÂíåÂêå‰∏ÄÂ±ÇÁ∫ßÁöÑdivÂØπÊØîÔºåÁ¨¨‰∫åÂ±ÇÁ∫ßÁöÑÂè™‰ºöË∑üÁ¨¨‰∫åÂ±ÇÁ∫ßÂØπÊØî„ÄÇËøôÊ†∑ÁÆóÊ≥ïÂ§çÊùÇÂ∫¶Â∞±ÂèØ‰ª•ËææÂà∞ O(n)„ÄÇ 4.2.1 Ê∑±Â∫¶‰ºòÂÖàÈÅçÂéÜÔºåËÆ∞ÂΩïÂ∑ÆÂºÇÂú®ÂÆûÈôÖÁöÑ‰ª£Á†Å‰∏≠Ôºå‰ºöÂØπÊñ∞Êóß‰∏§Ê£µÊ†ëËøõË°å‰∏Ä‰∏™Ê∑±Â∫¶‰ºòÂÖàÁöÑÈÅçÂéÜÔºåËøôÊ†∑ÊØè‰∏™ËäÇÁÇπÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áËÆ∞Ôºö Âú®Ê∑±Â∫¶‰ºòÂÖàÈÅçÂéÜÁöÑÊó∂ÂÄôÔºåÊØèÈÅçÂéÜÂà∞‰∏Ä‰∏™ËäÇÁÇπÂ∞±ÊääËØ•ËäÇÁÇπÂíåÊñ∞ÁöÑÁöÑÊ†ëËøõË°åÂØπÊØî„ÄÇÂ¶ÇÊûúÊúâÂ∑ÆÂºÇÁöÑËØùÂ∞±ËÆ∞ÂΩïÂà∞‰∏Ä‰∏™ÂØπË±°ÈáåÈù¢„ÄÇ1234567891011121314151617181920// diff ÂáΩÊï∞ÔºåÂØπÊØî‰∏§Ê£µÊ†ëfunctiondiff (oldTree, newTree) &#123; var index =0// ÂΩìÂâçËäÇÁÇπÁöÑÊ†áÂøóvar patches = &#123;&#125; // Áî®Êù•ËÆ∞ÂΩïÊØè‰∏™ËäÇÁÇπÂ∑ÆÂºÇÁöÑÂØπË±°dfsWalk(oldTree, newTree, index, patches) return patches&#125;// ÂØπ‰∏§Ê£µÊ†ëËøõË°åÊ∑±Â∫¶‰ºòÂÖàÈÅçÂéÜfunctiondfsWalk (oldNode, newNode, index, patches) &#123; // ÂØπÊØîoldNodeÂíånewNodeÁöÑ‰∏çÂêåÔºåËÆ∞ÂΩï‰∏ãÊù• patches[index] = [...] diffChildren(oldNode.children, newNode.children, index, patches)&#125;// ÈÅçÂéÜÂ≠êËäÇÁÇπfunctiondiffChildren (oldChildren, newChildren, index, patches) &#123; var leftNode =nullvar currentNodeIndex = index oldChildren.forEach(function (child, i) &#123; var newChild = newChildren[i] currentNodeIndex = (leftNode &amp;&amp;leftNode.count) // ËÆ°ÁÆóËäÇÁÇπÁöÑÊ†áËØÜ? currentNodeIndex +leftNode.count+1: currentNodeIndex +1dfsWalk(child, newChild, currentNodeIndex, patches) // Ê∑±Â∫¶ÈÅçÂéÜÂ≠êËäÇÁÇπ leftNode = child &#125;)&#125; ‰æãÂ¶ÇÔºå‰∏äÈù¢ÁöÑdivÂíåÊñ∞ÁöÑdivÊúâÂ∑ÆÂºÇÔºåÂΩìÂâçÁöÑÊ†áËÆ∞ÊòØ0ÔºåÈÇ£‰πàÔºö1patches[0] = [&#123;difference&#125;, &#123;difference&#125;, ...] // Áî®Êï∞ÁªÑÂ≠òÂÇ®Êñ∞ÊóßËäÇÁÇπÁöÑ‰∏çÂêå ÂêåÁêÜpÊòØpatches[1]ÔºåulÊòØpatches[3]ÔºåÁ±ªÊé®„ÄÇ 4.2.2 Â∑ÆÂºÇÁ±ªÂûã‰∏äÈù¢ËØ¥ÁöÑËäÇÁÇπÁöÑÂ∑ÆÂºÇÊåáÁöÑÊòØ‰ªÄ‰πàÂë¢ÔºüÂØπ DOM Êìç‰ΩúÂèØËÉΩ‰ºöÔºö ÊõøÊç¢ÊéâÂéüÊù•ÁöÑËäÇÁÇπÔºå‰æãÂ¶ÇÊää‰∏äÈù¢ÁöÑdivÊç¢Êàê‰∫Üsection ÁßªÂä®„ÄÅÂà†Èô§„ÄÅÊñ∞Â¢ûÂ≠êËäÇÁÇπÔºå‰æãÂ¶Ç‰∏äÈù¢divÁöÑÂ≠êËäÇÁÇπÔºåÊääpÂíåulÈ°∫Â∫è‰∫íÊç¢ ‰øÆÊîπ‰∫ÜËäÇÁÇπÁöÑÂ±ûÊÄß ÂØπ‰∫éÊñáÊú¨ËäÇÁÇπÔºåÊñáÊú¨ÂÜÖÂÆπÂèØËÉΩ‰ºöÊîπÂèò„ÄÇ‰æãÂ¶Ç‰øÆÊîπ‰∏äÈù¢ÁöÑÊñáÊú¨ËäÇÁÇπ2ÂÜÖÂÆπ‰∏∫Virtual DOM 2„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÂÆö‰πâ‰∫ÜÂá†ÁßçÂ∑ÆÂºÇÁ±ªÂûãÔºö1234var REPLACE = 0var REORDER = 1var PROPS = 2var TEXT = 3 ÂØπ‰∫éËäÇÁÇπÊõøÊç¢ÔºåÂæàÁÆÄÂçï„ÄÇÂà§Êñ≠Êñ∞ÊóßËäÇÁÇπÁöÑtagNameÂíåÊòØ‰∏çÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂ¶ÇÊûú‰∏ç‰∏ÄÊ†∑ÁöÑËØ¥ÊòéÈúÄË¶ÅÊõøÊç¢Êéâ„ÄÇÂ¶ÇdivÊç¢ÊàêsectionÔºåÂ∞±ËÆ∞ÂΩï‰∏ãÔºö1234patches[0] = [&#123; type:REPALCE, node: newNode // el(&apos;section&apos;, props, children)&#125;] Â¶ÇÊûúÁªôdivÊñ∞Â¢û‰∫ÜÂ±ûÊÄßid‰∏∫containerÔºåÂ∞±ËÆ∞ÂΩï‰∏ãÔºö123456789patches[0] = [&#123; type:REPALCE, node: newNode // el(&apos;section&apos;, props, children)&#125;, &#123; type:PROPS, props: &#123; id:&quot;container&quot; &#125;&#125;] Â¶ÇÊûúÊòØÊñáÊú¨ËäÇÁÇπÔºåÂ¶Ç‰∏äÈù¢ÁöÑÊñáÊú¨ËäÇÁÇπ2ÔºåÂ∞±ËÆ∞ÂΩï‰∏ãÔºö1234patches[2] = [&#123; type:TEXT, content:&quot;Virtual DOM2&quot;&#125;] ÈÇ£Â¶ÇÊûúÊääÊàëdivÁöÑÂ≠êËäÇÁÇπÈáçÊñ∞ÊéíÂ∫èÂë¢Ôºü‰æãÂ¶Çp, ul, divÁöÑÈ°∫Â∫èÊç¢Êàê‰∫Üdiv, p, ul„ÄÇËøô‰∏™ËØ•ÊÄé‰πàÂØπÊØîÔºüÂ¶ÇÊûúÊåâÁÖßÂêåÂ±ÇÁ∫ßËøõË°åÈ°∫Â∫èÂØπÊØîÁöÑËØùÔºåÂÆÉ‰ª¨ÈÉΩ‰ºöË¢´ÊõøÊç¢Êéâ„ÄÇÂ¶ÇpÂíådivÁöÑtagName‰∏çÂêåÔºåp‰ºöË¢´divÊâÄÊõø‰ª£„ÄÇÊúÄÁªàÔºå‰∏â‰∏™ËäÇÁÇπÈÉΩ‰ºöË¢´ÊõøÊç¢ÔºåËøôÊ†∑DOMÂºÄÈîÄÂ∞±ÈùûÂ∏∏Â§ß„ÄÇËÄåÂÆûÈôÖ‰∏äÊòØ‰∏çÈúÄË¶ÅÊõøÊç¢ËäÇÁÇπÔºåËÄåÂè™ÈúÄË¶ÅÁªèËøáËäÇÁÇπÁßªÂä®Â∞±ÂèØ‰ª•ËææÂà∞ÔºåÊàë‰ª¨Âè™ÈúÄÁü•ÈÅìÊÄé‰πàËøõË°åÁßªÂä®„ÄÇ ËøôÁâµÊ∂âÂà∞‰∏§‰∏™ÂàóË°®ÁöÑÂØπÊØîÁÆóÊ≥ïÔºåÈúÄË¶ÅÂè¶Â§ñËµ∑‰∏Ä‰∏™Â∞èËäÇÊù•ËÆ®ËÆ∫„ÄÇ 4.2.3 ÂàóË°®ÂØπÊØîÁÆóÊ≥ïÂÅáËÆæÁé∞Âú®ÂèØ‰ª•Ëã±ÊñáÂ≠óÊØçÂîØ‰∏ÄÂú∞Ê†áËØÜÊØè‰∏Ä‰∏™Â≠êËäÇÁÇπÔºöÊóßÁöÑËäÇÁÇπÈ°∫Â∫èÔºö a b c d e f g h i Áé∞Âú®ÂØπËäÇÁÇπËøõË°å‰∫ÜÂà†Èô§„ÄÅÊèíÂÖ•„ÄÅÁßªÂä®ÁöÑÊìç‰Ωú„ÄÇÊñ∞Â¢ûjËäÇÁÇπÔºåÂà†Èô§eËäÇÁÇπÔºåÁßªÂä®hËäÇÁÇπÔºöÊñ∞ÁöÑËäÇÁÇπÈ°∫Â∫èÔºö a b c h d f g i j Áé∞Âú®Áü•ÈÅì‰∫ÜÊñ∞ÊóßÁöÑÈ°∫Â∫èÔºåÊ±ÇÊúÄÂ∞èÁöÑÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÔºàÁßªÂä®ÂèØ‰ª•ÁúãÊàêÊòØÂà†Èô§ÂíåÊèíÂÖ•Êìç‰ΩúÁöÑÁªìÂêàÔºâ„ÄÇËøô‰∏™ÈóÆÈ¢òÊäΩË±°Âá∫Êù•ÂÖ∂ÂÆûÊòØÂ≠óÁ¨¶‰∏≤ÁöÑÊúÄÂ∞èÁºñËæëË∑ùÁ¶ªÈóÆÈ¢òÔºàEdition DistanceÔºâÔºåÊúÄÂ∏∏ËßÅÁöÑËß£ÂÜ≥ÁÆóÊ≥ïÊòØ Levenshtein DistanceÔºåÈÄöËøáÂä®ÊÄÅËßÑÂàíÊ±ÇËß£ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(M * N)„ÄÇ‰ΩÜÊòØÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÁúüÁöÑËææÂà∞ÊúÄÂ∞èÁöÑÊìç‰ΩúÔºåÊàë‰ª¨Âè™ÈúÄË¶Å‰ºòÂåñ‰∏Ä‰∫õÊØîËæÉÂ∏∏ËßÅÁöÑÁßªÂä®ÊÉÖÂÜµÔºåÁâ∫Áâ≤‰∏ÄÂÆöDOMÊìç‰ΩúÔºåËÆ©ÁÆóÊ≥ïÊó∂Èó¥Â§çÊùÇÂ∫¶ËææÂà∞Á∫øÊÄßÁöÑÔºàO(max(M, N))„ÄÇÂÖ∑‰ΩìÁÆóÊ≥ïÁªÜËäÇÊØîËæÉÂ§öÔºåËøôÈáå‰∏çÁ¥ØËø∞ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÂèÇËÄÉ‰ª£Á†Å„ÄÇ Êàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞Êüê‰∏™Áà∂ËäÇÁÇπÁöÑÂ≠êËäÇÁÇπÁöÑÊìç‰ΩúÔºåÂ∞±ÂèØ‰ª•ËÆ∞ÂΩï‰∏ãÊù•Ôºö1234patches[0] = [&#123; type:REORDER, moves: [&#123;remove or insert&#125;, &#123;remove or insert&#125;, ...]&#125;] ‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂõ†‰∏∫tagNameÊòØÂèØÈáçÂ§çÁöÑÔºå‰∏çËÉΩÁî®Ëøô‰∏™Êù•ËøõË°åÂØπÊØî„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÁªôÂ≠êËäÇÁÇπÂä†‰∏äÂîØ‰∏ÄÊ†áËØÜkeyÔºåÂàóË°®ÂØπÊØîÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®keyËøõË°åÂØπÊØîÔºåËøôÊ†∑ÊâçËÉΩÂ§çÁî®ËÄÅÁöÑ DOM Ê†ë‰∏äÁöÑËäÇÁÇπ„ÄÇ ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáÊ∑±Â∫¶‰ºòÂÖàÈÅçÂéÜ‰∏§Ê£µÊ†ëÔºåÊØèÂ±ÇÁöÑËäÇÁÇπËøõË°åÂØπÊØîÔºåËÆ∞ÂΩï‰∏ãÊØè‰∏™ËäÇÁÇπÁöÑÂ∑ÆÂºÇ‰∫Ü„ÄÇÂÆåÊï¥ diff ÁÆóÊ≥ï‰ª£Á†ÅÂèØËßÅ diff.js„ÄÇ 4.3 Ê≠•È™§‰∏âÔºöÊääÂ∑ÆÂºÇÂ∫îÁî®Âà∞ÁúüÊ≠£ÁöÑDOMÊ†ë‰∏äÂõ†‰∏∫Ê≠•È™§‰∏ÄÊâÄÊûÑÂª∫ÁöÑ JavaScript ÂØπË±°Ê†ëÂíårenderÂá∫Êù•ÁúüÊ≠£ÁöÑDOMÊ†ëÁöÑ‰ø°ÊÅØ„ÄÅÁªìÊûÑÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÂØπÈÇ£Ê£µDOMÊ†ë‰πüËøõË°åÊ∑±Â∫¶‰ºòÂÖàÁöÑÈÅçÂéÜÔºåÈÅçÂéÜÁöÑÊó∂ÂÄô‰ªéÊ≠•È™§‰∫åÁîüÊàêÁöÑpatchesÂØπË±°‰∏≠ÊâæÂá∫ÂΩìÂâçÈÅçÂéÜÁöÑËäÇÁÇπÂ∑ÆÂºÇÔºåÁÑ∂ÂêéËøõË°å DOM Êìç‰Ωú„ÄÇ1234567891011121314functionpatch (node, patches) &#123; var walker = &#123;index:0&#125; dfsWalk(node, walker, patches)&#125;functiondfsWalk (node, walker, patches) &#123; var currentPatches = patches[walker.index] // ‰ªépatchesÊãøÂá∫ÂΩìÂâçËäÇÁÇπÁöÑÂ∑ÆÂºÇvar len =node.childNodes?node.childNodes.length:0for (var i =0; i &lt; len; i++) &#123; // Ê∑±Â∫¶ÈÅçÂéÜÂ≠êËäÇÁÇπvar child =node.childNodes[i] walker.index++dfsWalk(child, walker, patches) &#125; if (currentPatches) &#123; applyPatches(node, currentPatches) // ÂØπÂΩìÂâçËäÇÁÇπËøõË°åDOMÊìç‰Ωú &#125;&#125; applyPatchesÔºåÊ†πÊçÆ‰∏çÂêåÁ±ªÂûãÁöÑÂ∑ÆÂºÇÂØπÂΩìÂâçËäÇÁÇπËøõË°å DOM Êìç‰ΩúÔºö123456789101112131415functionapplyPatches (node, currentPatches) &#123; currentPatches.forEach(function (currentPatch) &#123; switch (currentPatch.type) &#123; caseREPLACE: node.parentNode.replaceChild(currentPatch.node.render(), node) breakcaseREORDER: reorderChildren(node, currentPatch.moves) breakcasePROPS: setProps(node, currentPatch.props) breakcaseTEXT: node.textContent=currentPatch.contentbreakdefault: thrownewError(&apos;Unknown patch type &apos;+currentPatch.type) &#125; &#125;)&#125; ÂÆåÊï¥‰ª£Á†ÅÂèØËßÅ patch.js„ÄÇ 5 ÁªìËØ≠Virtual DOM ÁÆóÊ≥ï‰∏ªË¶ÅÊòØÂÆûÁé∞‰∏äÈù¢Ê≠•È™§ÁöÑ‰∏â‰∏™ÂáΩÊï∞ÔºöelementÔºådiffÔºåpatch„ÄÇÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂÆûÈôÖÁöÑËøõË°å‰ΩøÁî®Ôºö12345678910111213141516171819202122// 1. ÊûÑÂª∫ËôöÊãüDOMvar tree =el(&apos;div&apos;, &#123;&apos;id&apos;:&apos;container&apos;&#125;, [ el(&apos;h1&apos;, &#123;style:&apos;color: blue&apos;&#125;, [&apos;simple virtal dom&apos;]), el(&apos;p&apos;, [&apos;Hello, virtual-dom&apos;]), el(&apos;ul&apos;, [el(&apos;li&apos;)])])// 2. ÈÄöËøáËôöÊãüDOMÊûÑÂª∫ÁúüÊ≠£ÁöÑDOMvar root =tree.render()document.body.appendChild(root)// 3. ÁîüÊàêÊñ∞ÁöÑËôöÊãüDOMvar newTree =el(&apos;div&apos;, &#123;&apos;id&apos;:&apos;container&apos;&#125;, [ el(&apos;h1&apos;, &#123;style:&apos;color: red&apos;&#125;, [&apos;simple virtal dom&apos;]), el(&apos;p&apos;, [&apos;Hello, virtual-dom&apos;]), el(&apos;ul&apos;, [el(&apos;li&apos;), el(&apos;li&apos;)])])// 4. ÊØîËæÉ‰∏§Ê£µËôöÊãüDOMÊ†ëÁöÑ‰∏çÂêåvar patches =diff(tree, newTree)// 5. Âú®ÁúüÊ≠£ÁöÑDOMÂÖÉÁ¥†‰∏äÂ∫îÁî®ÂèòÊõ¥patch(root, patches) ÂΩìÁÑ∂ËøôÊòØÈùûÂ∏∏Á≤óÁ≥ôÁöÑÂÆûË∑µÔºåÂÆûÈôÖ‰∏≠ËøòÈúÄË¶ÅÂ§ÑÁêÜ‰∫ã‰ª∂ÁõëÂê¨Á≠âÔºõÁîüÊàêËôöÊãü DOM ÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•Âä†ÂÖ• JSX ËØ≠Ê≥ï„ÄÇËøô‰∫õ‰∫ãÊÉÖÈÉΩÂÅö‰∫ÜÁöÑËØùÔºåÂ∞±ÂèØ‰ª•ÊûÑÈÄ†‰∏Ä‰∏™ÁÆÄÂçïÁöÑReactJS‰∫Ü„ÄÇ Êú¨ÊñáÊâÄÂÆûÁé∞ÁöÑÂÆåÊï¥‰ª£Á†ÅÂ≠òÊîæÂú® GithubÔºå‰ªÖ‰æõÂ≠¶‰π†„ÄÇ Êú¨ÊñáÊâÄÂÆûÁé∞ÁöÑÂÆåÊï¥‰ª£Á†ÅÂ≠òÊîæÂú® Github„ÄÇ]]></content>
      <tags>
        <tag>Virtual DOM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NPMÂ≠¶‰π†Á¨îËÆ∞Êï¥ÁêÜ]]></title>
    <url>%2F2017%2F04%2F21%2FNPM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[10‰∏™ NPM ‰ΩøÁî®ÊäÄÂ∑ßNPM Â≠¶‰π†Á¨îËÆ∞Êï¥ÁêÜ ‰ªÄ‰πàÊòØ-NPM‰ªÄ‰πàÊòØ NPMnpm ‰πã‰∫é Node ÔºåÂ∞±ÂÉè pip ‰πã‰∫é Python , gem ‰πã‰∫é Ruby , composer ‰πã‰∫é PHP „ÄÇ npm ÊòØ Node ÂÆòÊñπÊèê‰æõÁöÑÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑Ôºå‰ªñÂ∑≤ÁªèÊàê‰∫Ü Node ÂåÖÁöÑÊ†áÂáÜÂèëÂ∏ÉÂπ≥Âè∞ÔºåÁî®‰∫é Node ÂåÖÁöÑÂèëÂ∏É„ÄÅ‰º†Êí≠„ÄÅ‰æùËµñÊéßÂà∂„ÄÇnpm Êèê‰æõ‰∫ÜÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑Ôºå‰Ωø‰Ω†ÂèØ‰ª•Êñπ‰æøÂú∞‰∏ãËΩΩ„ÄÅÂÆâË£Ö„ÄÅÂçáÁ∫ß„ÄÅÂà†Èô§ÂåÖÔºå‰πüÂèØ‰ª•ËÆ©‰Ω†‰Ωú‰∏∫ÂºÄÂèëËÄÖÂèëÂ∏ÉÂπ∂Áª¥Êä§ÂåÖ„ÄÇ ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®-NPM‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî® NPMnpm ÊòØÈöèÂêå Node ‰∏ÄËµ∑ÂÆâË£ÖÁöÑÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåËÉΩËß£ÂÜ≥ Node ‰ª£Á†ÅÈÉ®ÁΩ≤‰∏äÁöÑÂæàÂ§öÈóÆÈ¢òÔºåÂ∏∏ËßÅÁöÑÂú∫ÊôØÊúâ‰ª•‰∏ãÂá†ÁßçÔºö ÂÖÅËÆ∏Áî®Êà∑‰ªé npm ÊúçÂä°Âô®‰∏ãËΩΩÂà´‰∫∫ÁºñÂÜôÁöÑÁ¨¨‰∏âÊñπÂåÖÂà∞Êú¨Âú∞‰ΩøÁî®„ÄÇ ÂÖÅËÆ∏Áî®Êà∑‰ªé npm ÊúçÂä°Âô®‰∏ãËΩΩÂπ∂ÂÆâË£ÖÂà´‰∫∫ÁºñÂÜôÁöÑÂëΩ‰ª§Ë°åÁ®ãÂ∫èÂà∞Êú¨Âú∞‰ΩøÁî®„ÄÇ ÂÖÅËÆ∏Áî®Êà∑Â∞ÜËá™Â∑±ÁºñÂÜôÁöÑÂåÖÊàñÂëΩ‰ª§Ë°åÁ®ãÂ∫è‰∏ä‰º†Âà∞ npm ÊúçÂä°Âô®‰æõÂà´‰∫∫‰ΩøÁî®„ÄÇ npm ÁöÑËÉåÂêéÔºåÊòØÂü∫‰∫é CouchDB ÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÔºåËØ¶ÁªÜËÆ∞ÂΩï‰∫ÜÊØè‰∏™ÂåÖÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨‰ΩúËÄÖ„ÄÅÁâàÊú¨„ÄÅ‰æùËµñ„ÄÅÊéàÊùÉ‰ø°ÊÅØÁ≠â„ÄÇÂÆÉÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑ‰ΩúÁî®Â∞±ÊòØÔºöÂ∞ÜÂºÄÂèëËÄÖ‰ªéÁπÅÁêêÁöÑÂåÖÁÆ°ÁêÜÂ∑•‰ΩúÔºàÁâàÊú¨„ÄÅ‰æùËµñÁ≠âÔºâ‰∏≠Ëß£ÊîæÂá∫Êù•ÔºåÊõ¥Âä†‰∏ìÊ≥®‰∫éÂäüËÉΩÁöÑÂºÄÂèë„ÄÇ Â¶Ç‰Ωï‰ΩøÁî®-NPMÂ¶Ç‰Ωï‰ΩøÁî® NPMÂÆâË£ÖÂÆâË£Önpm ‰∏çÈúÄË¶ÅÂçïÁã¨ÂÆâË£Ö„ÄÇÂú®ÂÆâË£Ö Node ÁöÑÊó∂ÂÄôÔºå‰ºöËøûÂ∏¶‰∏ÄËµ∑ÂÆâË£Ö npm „ÄÇ‰ΩÜÊòØÔºåNode ÈôÑÂ∏¶ÁöÑ npm ÂèØËÉΩ‰∏çÊòØÊúÄÊñ∞ÁâàÊú¨ÔºåÊúÄÂêéÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÊõ¥Êñ∞Âà∞ÊúÄÊñ∞ÁâàÊú¨„ÄÇ $ sudo npm install npm@latest -g Â¶ÇÊûúÊòØ Window Á≥ªÁªü‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Âç≥ÂèØÔºö npm install npm -g ‰πüÂ∞±ÊòØ‰ΩøÁî® npm ÂÆâË£ÖËá™Â∑±„ÄÇ‰πãÊâÄ‰ª•ÂèØ‰ª•ËøôÊ†∑ÔºåÊòØÂõ†‰∏∫ npm Êú¨Ë∫´‰∏é Node ÁöÑÂÖ∂‰ªñÊ®°ÂùóÊ≤°ÊúâÂå∫Âà´„ÄÇ ÁÑ∂ÂêéÔºåËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÊü•ÁúãÂêÑÁßç‰ø°ÊÅØ„ÄÇ # Êü•Áúã npm ÂëΩ‰ª§ÂàóË°® $ npm help # Êü•ÁúãÂêÑ‰∏™ÂëΩ‰ª§ÁöÑÁÆÄÂçïÁî®Ê≥ï $ npm -l # Êü•Áúã npm ÁöÑÁâàÊú¨ $ npm -v # Êü•Áúã npm ÁöÑÈÖçÁΩÆ $ npm config list -l ‰ΩøÁî®‰ΩøÁî®npm-initnpm initnpm init Áî®Êù•ÂàùÂßãÂåñÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑ package.json Êñá‰ª∂„ÄÇÂÆÉ‰ºöÂêëÁî®Êà∑ÊèêÈóÆ‰∏ÄÁ≥ªÂàóÈóÆÈ¢òÔºåÂ¶ÇÊûú‰Ω†ËßâÂæó‰∏çÁî®‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆÔºå‰∏ÄË∑ØÂõûËΩ¶Â∞±ÂèØ‰ª•‰∫Ü„ÄÇÂ¶ÇÊûú‰ΩøÁî®‰∫Ü -fÔºà‰ª£Ë°®forceÔºâ„ÄÅ-yÔºà‰ª£Ë°®yesÔºâÔºåÂàôË∑≥ËøáÊèêÈóÆÈò∂ÊÆµÔºåÁõ¥Êé•ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑ package.json Êñá‰ª∂„ÄÇ $ npm init -y npm-setnpm setnpm set Áî®Êù•ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè $ npm set init-author-name &apos;Your name&apos; $ npm set init-author-email &apos;Your email&apos; $ npm set init-author-url &apos;http://yourdomain.com&apos; $ npm set init-license &apos;MIT&apos; ‰∏äÈù¢ÂëΩ‰ª§Á≠â‰∫é‰∏∫ npm init ËÆæÁΩÆ‰∫ÜÈªòËÆ§ÂÄºÔºå‰ª•ÂêéÊâßË°å npm init ÁöÑÊó∂ÂÄôÔºåpackage.jsonÁöÑ‰ΩúËÄÖÂßìÂêç„ÄÅÈÇÆ‰ª∂„ÄÅ‰∏ªÈ°µ„ÄÅËÆ∏ÂèØËØÅÂ≠óÊÆµÂ∞±‰ºöËá™Âä®ÂÜôÂÖ•È¢ÑËÆæÁöÑÂÄº„ÄÇËøô‰∫õ‰ø°ÊÅØ‰ºöÂ≠òÊîæÂú®Áî®Êà∑‰∏ªÁõÆÂΩïÁöÑ ~/.npmrcÊñá‰ª∂Ôºå‰ΩøÂæóÁî®Êà∑‰∏çÁî®ÊØè‰∏™È°πÁõÆÈÉΩËæìÂÖ•„ÄÇÂ¶ÇÊûúÊüê‰∏™È°πÁõÆÊúâ‰∏çÂêåÁöÑËÆæÁΩÆÔºåÂèØ‰ª•ÈíàÂØπËØ•È°πÁõÆËøêË°å npm config„ÄÇ npm-infonpm infonpm info ÂëΩ‰ª§ÂèØ‰ª•Êü•ÁúãÊØè‰∏™Ê®°ÂùóÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ„ÄÇÊØîÂ¶ÇÔºåÊü•Áúã underscore Ê®°ÂùóÁöÑ‰ø°ÊÅØ„ÄÇ $ npm info underscore ‰∏äÈù¢ÂëΩ‰ª§ËøîÂõû‰∏Ä‰∏™ JavaScript ÂØπË±°ÔºåÂåÖÂê´‰∫Ü underscore Ê®°ÂùóÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇËøô‰∏™ÂØπË±°ÁöÑÊØè‰∏™ÊàêÂëòÔºåÈÉΩÂèØ‰ª•Áõ¥Êé•‰ªé info ÂëΩ‰ª§Êü•ËØ¢„ÄÇ $ npm info underscore description $ npm info underscore homepage $ npm info underscore version npm-searchnpm searchnpm search ÂëΩ‰ª§Áî®‰∫éÊêúÁ¥¢ npm ‰ªìÂ∫ìÔºåÂÆÉÂêéÈù¢ÂèØ‰ª•Ë∑üÂ≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•Ë∑üÊ≠£ÂàôË°®ËææÂºè„ÄÇ $ npm search &lt;ÊêúÁ¥¢ËØç&gt; npm-listnpm listnpm list ÂëΩ‰ª§‰ª•Ê†ëÂΩ¢ÁªìÊûÑÂàóÂá∫ÂΩìÂâçÈ°πÁõÆÂÆâË£ÖÁöÑÊâÄÊúâÊ®°ÂùóÔºå‰ª•ÂèäÂÆÉ‰ª¨‰æùËµñÁöÑÊ®°Âùó„ÄÇ $ npm list # Âä†‰∏ä global ÂèÇÊï∞Ôºå‰ºöÂàóÂá∫ÂÖ®Â±ÄÂÆâË£ÖÁöÑÊ®°Âùó $ npm list -global # npm list ÂëΩ‰ª§‰πüÂèØ‰ª•ÂàóÂá∫Âçï‰∏™Ê®°Âùó $ npm list underscore npm-installnpm install‰ΩøÁî® npm ÂÆâË£ÖÂåÖÁöÑÂëΩ‰ª§Ê†ºÂºè‰∏∫Ôºönpm [install/i] [package_name] Êú¨Âú∞Ê®°ÂºèÂíåÂÖ®Â±ÄÊ®°ÂºèÊú¨Âú∞Ê®°ÂºèÂíåÂÖ®Â±ÄÊ®°Âºènpm Âú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ºö‰ªé NPM ÊêúÁ¥¢Êàñ‰∏ãËΩΩÂåÖÔºåÂ∞ÜÂåÖÂÆâË£ÖÂà∞ÂΩìÂâçÁõÆÂΩïÁöÑ node_modules Â≠êÁõÆÂΩï‰∏ã„ÄÇ Â¶ÇÊûú‰Ω†ÁÜüÊÇâ Ruby ÁöÑ gem ÊàñËÄÖ Python ÁöÑ pip Ôºå‰Ω†‰ºöÂèëÁé∞ npm ‰∏éÂÆÉ‰ª¨ÁöÑË°å‰∏∫‰∏çÂêåÔºå gem Êàñ pip ÊÄªÊòØ‰ª•ÂÖ®Â±ÄÊ®°ÂºèÂÆâË£ÖÔºå‰ΩøÂåÖÂèØ‰ª•‰æõÊâÄÊúâÁöÑÁ®ãÂ∫è‰ΩøÁî®ÔºåËÄå npm ÈªòËÆ§‰ºöÊääÂåÖÂÆâË£ÖÂà∞ÂΩìÂâçÁõÆÂΩï‰∏ã„ÄÇËøôÂèçÊò†‰∫Ü npm ‰∏çÂêåÁöÑËÆæËÆ°Âì≤Â≠¶„ÄÇÂ¶ÇÊûúÊääÂåÖÂÆâË£ÖÂà∞ÂÖ®Â±ÄÔºåÂèØ‰ª•Êèê‰æõÁ®ãÂ∫èÁöÑÈáçÂ§çÂà©Áî®Á®ãÂ∫¶ÔºåÈÅøÂÖçÂêåÊ†∑ÁöÑÂÜÖÂÆπÁöÑÂ§öÂàÜÂâØÊú¨Ôºå‰ΩÜÂùèÂ§ÑÊòØÈöæ‰ª•Â§ÑÁêÜ‰∏çÂêåÁöÑÁâàÊú¨‰æùËµñ„ÄÇÂ¶ÇÊûúÊääÂåÖÂÆâË£ÖÂà∞ÂΩìÂâçÁõÆÂΩïÔºåÊàñËÄÖËØ¥Êú¨Âú∞ÔºåÂàô‰∏ç‰ºöÊúâ‰∏çÂêåÁ®ãÂ∫è‰æùËµñ‰∏çÂêåÁâàÊú¨ÁöÑÂåÖÁöÑÂÜ≤Á™ÅÈóÆÈ¢òÔºåÂêåÊó∂ËøòÂáèËΩª‰∫ÜÂåÖ‰ΩúËÄÖÁöÑ API ÂÖºÂÆπÊÄßÂéãÂäõÔºå‰ΩÜÁº∫Èô∑ÂàôÊòØÂêå‰∏Ä‰∏™ÂåÖÂèØËÉΩ‰ºöË¢´ÂÆâË£ÖËÆ∏Â§öÊ¨°„ÄÇ Êàë‰ª¨Âú®‰ΩøÁî® supervisor ÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫Ü npm install -g supervisor ÂëΩ‰ª§ÔºåÂ∞±ÊòØ‰ª•ÂÖ®Â±ÄÊ®°ÂºèÂÆâË£Ö supervisor „ÄÇ ËøôÈáåÊ≥®ÊÑè‰∏ÄÁÇπÁöÑÂ∞±ÊòØÔºå supervisor ÂøÖÈ°ªÂÆâË£ÖÂà∞ÂÖ®Â±ÄÔºåÂ¶ÇÊûú‰Ω†‰∏çÂÆâË£ÖÂà∞ÂÖ®Â±ÄÔºåÈîôËØØÂëΩ‰ª§‰ºöÊèêÁ§∫‰Ω†ÂÆâË£ÖÂà∞ÂÖ®Â±Ä„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥ÂÆâË£ÖÂà∞ÈªòËÆ§ÁöÑÂÖ®Â±ÄÔºå‰πüÂèØ‰ª•Ëá™Â∑±‰øÆÊîπÂÖ®Â±ÄË∑ØÂæÑÂà∞ÂΩìÂâçË∑ØÂæÑ npm config set prefix &quot;Ë∑ØÂæÑ&quot; ÂÆâË£ÖÂÆå‰ª•ÂêéÂ∞±ÂèØ‰ª•Áî® supervisor Êù•ÂêØÂä®ÊúçÂä°‰∫Ü„ÄÇsupervisor ÂèØ‰ª•Â∏ÆÂä©‰Ω†ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÂÆÉ‰ºöÁõëËßÜ‰Ω†ÂØπ‰ª£Á†ÅÁöÑÈ©±Âä®ÔºåÂπ∂Ëá™Âä®ÈáçÂêØ Node „ÄÇ ‰∏ÄËà¨Êù•ËØ¥ÔºåÂÖ®Â±ÄÂÆâË£ÖÂè™ÈÄÇÁî®‰∫éÂ∑•ÂÖ∑Ê®°ÂùóÔºåÊØîÂ¶Ç eslint Âíå gulp „ÄÇÂÖ≥‰∫é‰ΩøÁî®ÂÖ®Â±ÄÊ®°ÂºèÔºåÂ§öÊï∞Êó∂ÂÄôÂπ∂‰∏çÊòØÂõ†‰∏∫ËÆ∏Â§öÁ®ãÂ∫èÈÉΩÊúâÂèØËÉΩÁî®Âà∞‰∫ÜÂÆÉÔºå‰∏∫‰∫ÜÂáèÂ∞ëÂ§öÈáçÂâØÊú¨ËÄå‰ΩøÁî®ÂÖ®Â±ÄÊ®°ÂºèÔºåËÄåÊòØÂõ†‰∏∫ Êú¨Âú∞Ê®°Âºè‰∏ç‰ºöÊ≥®ÂÜå PATH ÁéØÂ¢ÉÂèòÈáè„ÄÇ‚ÄúÊú¨Âú∞ÂÆâË£Ö‚ÄùÊåáÁöÑÊòØÂ∞Ü‰∏Ä‰∏™Ê®°Âùó‰∏ãËΩΩÂà∞ÂΩìÂâçÈ°πÁõÆÁöÑ node_modules Â≠êÁõÆÂΩïÔºåÁÑ∂ÂêéÂè™ÊúâÂú®È°πÁõÆÁõÆÂΩï‰πã‰∏≠ÔºåÊâçËÉΩË∞ÉÁî®Ëøô‰∏™Ê®°Âùó„ÄÇ Êú¨Âú∞Ê®°ÂºèÂíåÂÖ®Â±ÄÊ®°ÂºèÁöÑÁâπÁÇπÂ¶Ç‰∏ãÔºöÊ®°ÂºèÂèØÈÄöËøá require ‰ΩøÁî®Ê≥®ÂÜå PATHÊú¨Âú∞Ê®°ÂºèÊòØÂê¶ÂÖ®Â±ÄÊ®°ÂºèÂê¶ÊòØ # Êú¨Âú∞ÂÆâË£Ö $ npm install &lt;package name&gt; # ÂÖ®Â±ÄÂÆâË£Ö $ sudo npm install -global &lt;package name&gt; $ sudo npm install -g &lt;package name&gt; npm install ‰πüÊîØÊåÅÁõ¥Êé•ËæìÂÖ• Github ‰ª£Á†ÅÂ∫ìÂú∞ÂùÄ„ÄÇ $ npm install git://github.com/package/path.git $ npm install git://github.com/package/path.git#0.1.0 ÂÆâË£Ö‰πãÂâçÔºånpm install ‰ºöÂÖàÊ£ÄÊü•Ôºånode_modules ÁõÆÂΩï‰πã‰∏≠ÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®ÊåáÂÆöÊ®°Âùó„ÄÇÂ¶ÇÊûúÂ≠òÂú®ÔºåÂ∞±‰∏çÂÜçÈáçÊñ∞ÂÆâË£Ö‰∫ÜÔºåÂç≥‰ΩøËøúÁ®ã‰ªìÂ∫ìÂ∑≤ÁªèÊúâ‰∫Ü‰∏Ä‰∏™Êñ∞ÁâàÊú¨Ôºå‰πüÊòØÂ¶ÇÊ≠§„ÄÇ Â¶ÇÊûú‰Ω†Â∏åÊúõÔºå‰∏Ä‰∏™Ê®°Âùó‰∏çÁÆ°ÊòØÂê¶ÂÆâË£ÖËøáÔºå npm ÈÉΩË¶ÅÂº∫Âà∂ÈáçÊñ∞ÂÆâË£ÖÔºåÂèØ‰ª•‰ΩøÁî® -f Êàñ --force ÂèÇÊï∞„ÄÇ $ npm install &lt;packageName&gt; --force ÂÆâË£Ö‰∏çÂêåÁâàÊú¨ÂÆâË£Ö‰∏çÂêåÁâàÊú¨install ÂëΩ‰ª§ÊÄªÊòØÂÆâË£ÖÊ®°ÂùóÁöÑÊúÄÊñ∞ÁâàÊú¨ÔºåÂ¶ÇÊûúË¶ÅÂÆâË£ÖÊ®°ÂùóÁöÑÁâπÂÆöÁâàÊú¨ÔºåÂèØ‰ª•Âú®Ê®°ÂùóÂêçÂêéÈù¢Âä†‰∏ä @ ÂíåÁâàÊú¨Âè∑„ÄÇ $ npm install sax@latest $ npm install sax@0.1.1 $ npm install sax@&quot;&gt;=0.1.0 &lt;0.2.0&quot; install ÂëΩ‰ª§ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÂèÇÊï∞ÔºåÊåáÂÆöÊâÄÂÆâË£ÖÁöÑÊ®°ÂùóÂ±û‰∫éÂì™‰∏ÄÁßçÊÄßË¥®ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂç≥Âá∫Áé∞Âú® packages.json Êñá‰ª∂ÁöÑÂì™‰∏ÄÈ°π‰∏≠„ÄÇ ‚ÄìsaveÔºöÊ®°ÂùóÂêçÂ∞ÜË¢´Ê∑ªÂä†Âà∞ dependenciesÔºåÂèØ‰ª•ÁÆÄÂåñ‰∏∫ÂèÇÊï∞-S„ÄÇ‚Äìsave-devÔºöÊ®°ÂùóÂêçÂ∞ÜË¢´Ê∑ªÂä†Âà∞ devDependenciesÔºåÂèØ‰ª•ÁÆÄÂåñ‰∏∫ÂèÇÊï∞-D„ÄÇ $ npm install sax --save $ npm install node-tap --save-dev # ÊàñËÄÖ $ npm install sax -S $ npm install node-tap -D dependencies-‰æùËµñdependencies ‰æùËµñËøô‰∏™ÂèØ‰ª•ËØ¥ÊòØÊàë‰ª¨ npm Ê†∏ÂøÉ‰∏ÄÈ°πÂÜÖÂÆπÔºå‰æùËµñÁÆ°ÁêÜÔºåËøô‰∏™ÂØπË±°ÈáåÈù¢ÁöÑÂÜÖÂÆπÂ∞±ÊòØÊàë‰ª¨Ëøô‰∏™È°πÁõÆÊâÄ‰æùËµñÁöÑ js Ê®°ÂùóÂåÖ„ÄÇ‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅË°®Á§∫Êàë‰ª¨‰æùËµñ‰∫Ü markdown-it Ëøô‰∏™ÂåÖÔºåÁâàÊú¨ÊòØ ^8.1.0 Ôºå‰ª£Ë°®ÊúÄÂ∞è‰æùËµñÁâàÊú¨ÊòØ 8.1.0 ÔºåÂ¶ÇÊûúËøô‰∏™ÂåÖÊúâÊõ¥Êñ∞ÔºåÈÇ£‰πàÂΩìÊàë‰ª¨‰ΩøÁî® npm install ÂëΩ‰ª§ÁöÑÊó∂ÂÄôÔºå npm ‰ºöÂ∏ÆÊàë‰ª¨‰∏ãËΩΩÊúÄÊñ∞ÁöÑÂåÖ„ÄÇÂΩìÂà´‰∫∫ÂºïÁî®Êàë‰ª¨Ëøô‰∏™ÂåÖÁöÑÊó∂ÂÄôÔºåÂåÖÂÜÖÁöÑ‰æùËµñÂåÖ‰πü‰ºöË¢´‰∏ãËΩΩ‰∏ãÊù•„ÄÇ &quot;dependencies&quot;: { &quot;markdown-it&quot;: &quot;^8.1.0&quot; } devDependencies-ÂºÄÂèë‰æùËµñdevDependencies ÂºÄÂèë‰æùËµñÂú®Êàë‰ª¨ÂºÄÂèëÁöÑÊó∂ÂÄô‰ºöÁî®Âà∞ÁöÑ‰∏Ä‰∫õÂåÖÔºåÂè™ÊòØÂú®ÂºÄÂèëÁéØÂ¢É‰∏≠ÈúÄË¶ÅÁî®Âà∞Ôºå‰ΩÜÊòØÂú®Âà´‰∫∫ÂºïÁî®Êàë‰ª¨ÂåÖÁöÑÊó∂ÂÄôÔºå‰∏ç‰ºöÁî®Âà∞Ëøô‰∫õÂÜÖÂÆπÔºåÊîæÂú® devDependencies ÁöÑÂåÖÔºåÂú®Âà´‰∫∫ÂºïÁî®ÁöÑÊó∂ÂÄô‰∏ç‰ºöË¢´ npm ‰∏ãËΩΩ„ÄÇ &quot;devDependencies&quot;: { &quot;autoprefixer&quot;: &quot;^6.4.0&quot;, &quot;babel-preset-es2015&quot;: &quot;^6.0.0&quot;, &quot;babel-preset-stage-2&quot;: &quot;^6.0.0&quot;, &quot;babel-register&quot;: &quot;^6.0.0&quot;, &quot;webpack&quot;: &quot;^1.13.2&quot;, &quot;webpack-dev-middleware&quot;: &quot;^1.8.3&quot;, &quot;webpack-hot-middleware&quot;: &quot;^2.12.2&quot;, &quot;webpack-merge&quot;: &quot;^0.14.1&quot;, &quot;highlightjs&quot;: &quot;^9.8.0&quot; } ÂΩì‰Ω†Êúâ‰∫Ü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ package.jsonÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ËÆ©‰∫∫‰∏ÄÁúºÁúãÂá∫Êù•ÔºåËøô‰∏™Ê®°ÂùóÁöÑÂü∫Êú¨‰ø°ÊÅØÔºåÂíåËøô‰∏™Ê®°ÂùóÊâÄÈúÄË¶Å‰æùËµñÁöÑÂåÖ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá npm install Â∞±ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑ‰∏ãËΩΩÂ•ΩËøô‰∏™Ê®°ÂùóÊâÄÈúÄË¶ÅÁöÑÂåÖ„ÄÇ npm install ÈªòËÆ§‰ºöÂÆâË£Ö dependencies Â≠óÊÆµÂíå devDependencies Â≠óÊÆµ‰∏≠ÁöÑÊâÄÊúâÊ®°ÂùóÔºåÂ¶ÇÊûú‰ΩøÁî® --production ÂèÇÊï∞ÔºåÂèØ‰ª•Âè™ÂÆâË£Ö dependencies Â≠óÊÆµÁöÑÊ®°Âùó„ÄÇ $ npm install --production # ÊàñËÄÖ $ NODE_ENV=production npm install ‰∏ÄÊó¶ÂÆâË£Ö‰∫ÜÊüê‰∏™Ê®°ÂùóÔºåÂ∞±ÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠Áî® require ÂëΩ‰ª§Âä†ËΩΩËøô‰∏™Ê®°Âùó„ÄÇ var backbone = require(&apos;backbone&apos;) console.log(backbone.VERSION) npm-runnpm runnpm ‰∏ç‰ªÖÂèØ‰ª•Áî®‰∫éÊ®°ÂùóÁÆ°ÁêÜÔºåËøòÂèØ‰ª•Áî®‰∫éÊâßË°åËÑöÊú¨„ÄÇpackage.json Êñá‰ª∂Êúâ‰∏Ä‰∏™ scripts Â≠óÊÆµÔºåÂèØ‰ª•Áî®‰∫éÊåáÂÆöËÑöÊú¨ÂëΩ‰ª§Ôºå‰æõ npm Áõ¥Êé•Ë∞ÉÁî®„ÄÇpackage.json Êñá‰ª∂ÂÜÖÂÆπÔºö { &quot;name&quot;: &quot;myproject&quot;, &quot;devDependencies&quot;: { &quot;jshint&quot;: &quot;latest&quot;, &quot;browserify&quot;: &quot;latest&quot;, &quot;mocha&quot;: &quot;latest&quot; }, &quot;scripts&quot;: { &quot;lint&quot;: &quot;jshint **.js&quot;, &quot;test&quot;: &quot;mocha test/&quot; } } scripts-ËÑöÊú¨scripts ËÑöÊú¨È°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØ‰∏Ä‰∫õËÑöÊú¨‰ª£Á†ÅÔºåÂèØ‰ª•ÈÄöËøá npm run script-key Êù•Ë∞ÉÁî®Ôºå‰æãÂ¶ÇÂú®Ëøô‰∏™ package.json ÁöÑÊñá‰ª∂Â§π‰∏ã‰ΩøÁî® npm run dev Â∞±Áõ∏ÂΩì‰∫éËøêË°å‰∫Ü node build/dev-server.js Ëøô‰∏ÄÊÆµ‰ª£Á†Å„ÄÇ‰ΩøÁî® scripts ÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜÊää‰∏Ä‰∫õË¶ÅÊâßË°åÁöÑ‰ª£Á†ÅÂêàÂπ∂Âà∞‰∏ÄËµ∑Ôºå‰ΩøÁî® npm run Êù•Âø´ÈÄüÁöÑËøêË°åÔºåÊñπ‰æøÁúÅ‰∫ã„ÄÇnpm run ÊòØ npm run-script ÁöÑÁº©ÂÜôÔºå‰∏ÄËà¨ÈÉΩ‰ΩøÁî®ÂâçËÄÖÔºå‰ΩÜÊòØÂêéËÄÖÂèØ‰ª•Êõ¥Â•ΩÁöÑÂèçÂ∫îËøô‰∏™ÂëΩ‰ª§ÁöÑÊú¨Ë¥®„ÄÇ // ËÑöÊú¨ &quot;scripts&quot;: { &quot;dev&quot;: &quot;node build/dev-server.js&quot;, &quot;build&quot;: &quot;node build/build.js&quot;, &quot;docs&quot;: &quot;node build/docs.js&quot;, &quot;build-docs&quot;: &quot;npm run docs &amp; git checkout gh-pages &amp; xcopy /sy dist\\* . &amp; git add . &amp; git commit -m &apos;auto-pages&apos; &amp; git push &amp; git checkout master&quot;, &quot;build-publish&quot;: &quot;rmdir /S /Q lib &amp; npm run build &amp;git add . &amp; git commit -m auto-build &amp; npm version patch &amp; npm publish &amp; git push&quot;, &quot;lint&quot;: &quot;eslint --ext .js,.vue src&quot; } npm run Â¶ÇÊûú‰∏çÂä†‰ªª‰ΩïÂèÇÊï∞ÔºåÁõ¥Êé•ËøêË°åÔºå‰ºöÂàóÂá∫ package.json ÈáåÈù¢ÊâÄÊúâÂèØ‰ª•ÊâßË°åÁöÑËÑöÊú¨ÂëΩ‰ª§„ÄÇnpm ÂÜÖÁΩÆ‰∫Ü‰∏§‰∏™ÂëΩ‰ª§ÁÆÄÂÜôÔºå npm test Á≠âÂêå‰∫éÊâßË°å npm run test Ôºånpm start Á≠âÂêå‰∫éÊâßË°å npm run start„ÄÇ &quot;build&quot;: &quot;npm run build-js &amp;&amp; npm run build-css&quot; ‰∏äÈù¢ÁöÑÂÜôÊ≥ïÊòØÂÖàËøêË°å npm run build-js ÔºåÁÑ∂ÂêéÂÜçËøêË°å npm run build-css Ôºå‰∏§‰∏™ÂëΩ‰ª§‰∏≠Èó¥Áî® &amp;&amp; ËøûÊé•„ÄÇÂ¶ÇÊûúÂ∏åÊúõ‰∏§‰∏™ÂëΩ‰ª§ÂêåÊó∂Âπ≥Ë°åÊâßË°åÔºåÂÆÉ‰ª¨‰∏≠Èó¥ÂèØ‰ª•Áî® &amp; ËøûÊé•„ÄÇ ÂÜôÂú® scripts Â±ûÊÄß‰∏≠ÁöÑÂëΩ‰ª§Ôºå‰πüÂèØ‰ª•Âú® node_modules/.bin ÁõÆÂΩï‰∏≠Áõ¥Êé•ÂÜôÊàê bash ËÑöÊú¨„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ bash ËÑöÊú¨„ÄÇ #!/bin/bash cd site/main browserify browser/main.js | uglifyjs -mc &gt; static/bundle.js ÂÅáÂÆö‰∏äÈù¢ÁöÑËÑöÊú¨Êñá‰ª∂Âêç‰∏∫ build.sh ÔºåÂπ∂‰∏îÊùÉÈôê‰∏∫ÂèØÊâßË°åÔºåÂ∞±ÂèØ‰ª•Âú® scripts Â±ûÊÄß‰∏≠ÂºïÁî®ËØ•Êñá‰ª∂„ÄÇ &quot;build-js&quot;: &quot;bin/build.sh&quot; pre-Âíå-post-ËÑöÊú¨pre- Âíå post- ËÑöÊú¨npm run ‰∏∫ÊØèÊù°ÂëΩ‰ª§Êèê‰æõ‰∫Ü pre- Âíå post- ‰∏§‰∏™Èí©Â≠êÔºà hook Ôºâ„ÄÇ‰ª• npm run lint ‰∏∫‰æãÔºåÊâßË°åËøôÊù°ÂëΩ‰ª§‰πãÂâçÔºå npm ‰ºöÂÖàÊü•ÁúãÊúâÊ≤°ÊúâÂÆö‰πâ prelint Âíå postlint ‰∏§‰∏™Èí©Â≠êÔºåÂ¶ÇÊûúÊúâÁöÑËØùÔºåÂ∞±‰ºöÂÖàÊâßË°å npm run prelint ÔºåÁÑ∂ÂêéÊâßË°å npm run lint ÔºåÊúÄÂêéÊâßË°å npm run postlint „ÄÇ { &quot;name&quot;: &quot;myproject&quot;, &quot;devDependencies&quot;: { &quot;eslint&quot;: &quot;latest&quot; &quot;karma&quot;: &quot;latest&quot; }, &quot;scripts&quot;: { &quot;lint&quot;: &quot;eslint --cache --ext .js --ext .jsx src&quot;, &quot;test&quot;: &quot;karma start --log-leve=error karma.config.js --single-run=true&quot;, &quot;pretest&quot;: &quot;npm run lint&quot;, &quot;posttest&quot;: &quot;echo &apos;Finished running tests&apos;&quot; } } ‰∏äÈù¢‰ª£Á†ÅÊòØ‰∏Ä‰∏™ package.json Êñá‰ª∂ÁöÑ‰æãÂ≠ê„ÄÇÂ¶ÇÊûúÊâßË°å npm testÔºå‰ºöÊåâ‰∏ãÈù¢ÁöÑÈ°∫Â∫èÊâßË°åÁõ∏Â∫îÁöÑÂëΩ‰ª§„ÄÇ pretest test posttest Â¶ÇÊûúÊâßË°åËøáÁ®ãÂá∫ÈîôÔºåÂ∞±‰∏ç‰ºöÊâßË°åÊéíÂú®ÂêéÈù¢ÁöÑËÑöÊú¨ÔºåÂç≥Â¶ÇÊûú prelint ËÑöÊú¨ÊâßË°åÂá∫ÈîôÔºåÂ∞±‰∏ç‰ºöÊé•ÁùÄÊâßË°å lint Âíå postlint ËÑöÊú¨„ÄÇ npm-binnpm binnpm bin ÂëΩ‰ª§ÊòæÁ§∫Áõ∏ÂØπ‰∫éÂΩìÂâçÁõÆÂΩïÁöÑÔºåNode Ê®°ÂùóÁöÑÂèØÊâßË°åËÑöÊú¨ÊâÄÂú®ÁöÑÁõÆÂΩïÔºàÂç≥ .bin ÁõÆÂΩïÔºâ„ÄÇ # È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÊâßË°å $ npm bin ./node_modules/.bin ÂàõÂª∫ÂÖ®Â±ÄÈìæÊé•ÂàõÂª∫ÂÖ®Â±ÄÈìæÊé•npm Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÊúâË∂£ÁöÑÂëΩ‰ª§ npm linkÔºåÂÆÉÁöÑÂäüËÉΩÊòØÂú®Êú¨Âú∞ÂåÖÂíåÂÖ®Â±ÄÂåÖ‰πãÈó¥ÂàõÂª∫Á¨¶Âè∑ÈìæÊé•„ÄÇÊàë‰ª¨ËØ¥Ëøá‰ΩøÁî®ÂÖ®Â±ÄÊ®°ÂºèÂÆâË£ÖÁöÑÂåÖ‰∏çËÉΩÁõ¥Êé•ÈÄöËøá require ‰ΩøÁî®„ÄÇ‰ΩÜÈÄöËøá npm link ÂëΩ‰ª§ÂèØ‰ª•ÊâìÁ†¥Ëøô‰∏ÄÈôêÂà∂„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊàë‰ª¨Â∑≤ÁªèÈÄöËøá npm install -g express ÂÆâË£Ö‰∫Ü express ÔºåËøôÊó∂Âú®Â∑•Á®ãÁöÑÁõÆÂΩï‰∏ãËøêË°åÂëΩ‰ª§Ôºönpm link express ./node_modules/express -&gt; /user/local/lib/node_modules/expressÊàë‰ª¨ÂèØ‰ª•Âú® node_modules Â≠êÁõÆÂΩï‰∏≠ÂèëÁé∞‰∏Ä‰∏™ÊåáÂêëÂÆâË£ÖÂà∞ÂÖ®Â±ÄÁöÑÂåÖÁöÑÁ¨¶Âè∑ÈìæÊé•„ÄÇÈÄöËøáËøôÁßçÊñπÊ≥ïÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊääÂÖ®Â±ÄÂåÖÂΩìÂÅöÊú¨Âú∞ÂåÖÊù•‰ΩøÁî®‰∫Ü„ÄÇÈô§‰∫ÜÂ∞ÜÂÖ®Â±ÄÁöÑÂåÖÈìæÊé•Âà∞Êú¨Âú∞‰ª•Â§ñÔºå‰ΩøÁî® npm link ÂëΩ‰ª§ËøòÂèØ‰ª•Â∞ÜÊú¨Âú∞ÁöÑÂåÖÈìæÊé•Âà∞ÂÖ®Â±Ä„ÄÇ‰ΩøÁî®ÊñπÊ≥ïÊòØÂú®ÂåÖÁõÆÂΩïÔºàpackage.json ÊâÄÂú®ÁõÆÂΩïÔºâ‰∏≠ËøêË°å npm link ÂëΩ‰ª§„ÄÇÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÂºÄÂèë‰∏Ä‰∏™ÂåÖÔºåÂà©Áî®ËøôÁßçÊñπÊ≥ïÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞Âú®‰∏çÂêåÁöÑÂ∑•Á®ãÈó¥ËøõË°åÊµãËØï„ÄÇ ÂàõÂª∫ÂåÖÂàõÂª∫ÂåÖÂåÖÊòØÂú®Ê®°ÂùóÂü∫Á°Ä‰∏äÊõ¥Ê∑±‰∏ÄÊ≠•ÁöÑÊäΩË±°ÔºåNode ÁöÑÂåÖÁ±ª‰ºº‰∫é C/C++ ÁöÑÂáΩÊï∞Â∫ìÊàñËÄÖ Java „ÄÅ.Net ÁöÑÁ±ªÂ∫ì„ÄÇÂÆÉÂ∞ÜÊüê‰∏™Áã¨Á´ãÁöÑÂäüËÉΩÂ∞ÅË£ÖËµ∑Êù•ÔºåÁî®‰∫éÂèëÂ∏É„ÄÅÊõ¥Êñ∞„ÄÅ‰æùËµñÁÆ°ÁêÜÂíåÁâàÊú¨ÊéßÂà∂„ÄÇNode Ê†πÊçÆ CommonJS ËßÑËåÉÂÆûÁé∞‰∫ÜÂåÖÊú∫Âà∂ÔºåÂºÄÂèë‰∫Ü npm Êù•Ëß£ÂÜ≥ÂåÖÁöÑÂèëÂ∏ÉÂíåËé∑ÂèñÈúÄÊ±Ç„ÄÇNode ÁöÑÂåÖÊòØ‰∏Ä‰∏™ÁõÆÂΩïÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ JSON Ê†ºÂºèÁöÑÂåÖËØ¥ÊòéÊñá‰ª∂ package.json„ÄÇ‰∏•Ê†ºÁ¨¶Âêà CommonJS ËßÑËåÉÁöÑÂåÖÂ∫îËØ•ÂÖ∑Â§á‰ª•‰∏ãÁâπÂæÅÔºö package.json ÂøÖÈ°ªÂú®ÂåÖÁöÑÈ°∂Â±ÇÁõÆÂΩï‰∏ãÔºõ ‰∫åËøõÂà∂Êñá‰ª∂Â∫îËØ•Âú® bin ÁõÆÂΩï‰∏ãÔºõ JavaScript ‰ª£Á†ÅÂ∫îËØ•Âú® lib ÁõÆÂΩï‰∏ãÔºõ ÊñáÊ°£Â∫îËØ•Âú® doc ÁõÆÂΩï‰∏ãÔºõ ÂçïÂÖÉÊµãËØïÂ∫îËØ•Âú® test ÁõÆÂΩï‰∏ã„ÄÇ Node ÂØπÂåÖÁöÑË¶ÅÊ±ÇÂπ∂Ê≤°ÊúâËøô‰πà‰∏•Ê†ºÔºåÂè™Ë¶ÅÈ°∂Â±ÇÁõÆÂΩï‰∏ãÊúâ package.jsonÔºåÂπ∂Á¨¶Âêà‰∏Ä‰∫õËßÑËåÉÂç≥ÂèØ„ÄÇÂΩìÁÑ∂‰∏∫‰∫ÜÊèêÈ´òÂÖºÂÆπÊÄßÔºåÊàë‰ª¨ËøòÊòØÂª∫ËÆÆ‰Ω†Âú®Âà∂‰ΩúÂåÖÁöÑÊó∂ÂÄôÔºå‰∏•Ê†ºÈÅµÂÆà CommonJS ËßÑËåÉ„ÄÇ Êàë‰ª¨‰πüÂèØ‰ª•ÊääÊñá‰ª∂Â§πÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™Ê®°ÂùóÔºåÂç≥ÊâÄË∞ìÁöÑÂåÖ„ÄÇÂåÖÈÄöÂ∏∏ÊòØ‰∏Ä‰∫õÊ®°ÂùóÁöÑÈõÜÂêàÔºåÂú®Ê®°ÂùóÁöÑÂü∫Á°Ä‰∏äÊèê‰æõ‰∫ÜÊõ¥È´òÂ±ÇÁöÑÊäΩË±°ÔºåÁõ∏ÂΩì‰∫éÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂõ∫ÂÆöÊé•Âè£ÁöÑÂáΩÊï∞Â∫ì„ÄÇÈÄöËøáÂÆöÂà∂ package.jsonÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫Êõ¥Â§çÊùÇÔºåÊõ¥ÂÆåÂñÑÔºåÊõ¥Á¨¶ÂêàËßÑËåÉÁöÑÂåÖÁî®‰∫éÂèëÂ∏É„ÄÇ Node Âú®Ë∞ÉÁî®Êüê‰∏™ÂåÖÊó∂Ôºå‰ºöÈ¶ñÂÖàÊ£ÄÊü•ÂåÖ‰∏≠ packgage.json Êñá‰ª∂ÁöÑ main Â≠óÊÆµÔºåÂ∞ÜÂÖ∂‰Ωú‰∏∫ÂåÖÁöÑÊé•Âè£Ê®°ÂùóÔºåÂ¶ÇÊûú package.json Êàñ main Â≠óÊÆµ‰∏çÂ≠òÂú®Ôºå‰ºöÂ∞ùËØïÂØªÊâæ index.js Êàñ index.node ‰Ωú‰∏∫ÂåÖÁöÑÊé•Âè£„ÄÇ package.json ÊòØ CommonJS ËßÑÂÆöÁöÑÁî®Êù•ÊèèËø∞ÂåÖÁöÑÊñá‰ª∂ÔºåÂÆåÂÖ®Á¨¶ÂêàËßÑËåÉÁöÑ package.json Êñá‰ª∂Â∫îËØ•Âê´Êúâ‰ª•‰∏ãÂ≠óÊÆµÔºöname: ÂåÖÁöÑÂêçÂ≠óÔºåÂøÖÈ°ªÊòØÂîØ‰∏ÄÁöÑÔºåÁî±Â∞èÂÜôËã±ÊñáÂ≠óÊØç„ÄÅÊï∞Â≠óÂíå‰∏ãÂàíÁ∫øÁªÑÊàêÔºå‰∏çËÉΩÂåÖÂê´Á©∫Ê†º„ÄÇdescription: ÂåÖÁöÑÁÆÄË¶ÅËØ¥Êòé„ÄÇversion: Á¨¶ÂêàËØ≠‰πâÂåñÁâàÊú¨ËØÜÂà´ËßÑËåÉÁöÑÁâàÊú¨Â≠óÁ¨¶‰∏≤„ÄÇkeywords: ÂÖ≥ÈîÆÂ≠óÊï∞ÁªÑÔºåÈÄöÂ∏∏Áî®‰∫éÊêúÁ¥¢„ÄÇmaintainers: Áª¥Êä§ËÄÖÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†Ë¶ÅÂåÖÂê´ name „ÄÅ email(ÂèØÈÄâ)„ÄÅ web(ÂèØÈÄâ)Â≠óÊÆµ„ÄÇcontributors: Ë¥°ÁåÆËÄÖÊï∞ÁªÑÔºåÊ†ºÂºè‰∏é maintainers Áõ∏Âêå„ÄÇÂåÖÁöÑ‰ΩúËÄÖÂ∫îËØ•ÊòØË¥°ÁåÆËÄÖÊï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇbugs: Êèê‰∫§ bug ÁöÑÂú∞ÂùÄÔºåÂèØ‰ª•ÊòØÁΩëÂùÄÊàñËÄÖÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ„ÄÇlicenses: ËÆ∏ÂèØËØÅÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†Ë¶ÅÂåÖÂê´ type ÔºàËÆ∏ÂèØËØÅÁöÑÂêçÁß∞ÔºâÂíå urlÔºàÈìæÊé•Âà∞ËÆ∏ÂèØËØÅÊñáÊú¨ÁöÑÂú∞ÂùÄÔºâÂ≠óÊÆµ„ÄÇrepositories: ‰ªìÂ∫ìÊâòÁÆ°Âú∞ÂùÄÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†Ë¶ÅÂåÖÂê´ type Ôºà‰ªìÂ∫ìÁöÑÁ±ªÂûãÔºåÂ¶Ç gitÔºâ„ÄÅURLÔºà‰ªìÂ∫ìÁöÑÂú∞ÂùÄÔºâÂíå pathÔºàÁõ∏ÂØπ‰∫é‰ªìÂ∫ìÁöÑË∑ØÂæÑÔºåÂèØÈÄâÔºâÂ≠óÊÆµ„ÄÇdependencies: ÂåÖÁöÑ‰æùËµñÔºå‰∏Ä‰∏™ÂÖ≥ËÅîÊï∞ÁªÑÔºåÁî±ÂåÖÂêçÁß∞ÂíåÁâàÊú¨Âè∑ÁªÑÊàê„ÄÇ ÂåÖÁöÑÂèëÂ∏ÉÂåÖÁöÑÂèëÂ∏ÉÈÄöËøá‰ΩøÁî® npm init ÂèØ‰ª•Ê†πÊçÆ‰∫§‰∫íÂºèÂõûÁ≠î‰∫ßÁîü‰∏Ä‰∏™Á¨¶ÂêàÊ†áÂáÜÁöÑ package.json„ÄÇÂàõÂª∫‰∏Ä‰∏™ index.js ‰Ωú‰∏∫ÂåÖÁöÑÊé•Âè£,‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂåÖÂ∞±Âà∂‰ΩúÂÆåÊàê‰∫Ü„ÄÇÂú®ÂèëÂ∏ÉÂâç,Êàë‰ª¨ËøòÈúÄË¶ÅËé∑Âæó‰∏Ä‰∏™Ë¥¶Âè∑Áî®‰∫é‰ªäÂêéÁª¥Êä§Ëá™Â∑±ÁöÑÂåÖ,‰ΩøÁî® npm adduser Ê†πÊçÆÊèêÁ§∫ÂÆåÊàêË¥¶Âè∑ÁöÑÂàõÂª∫ÂÆåÊàêÂêéÂèØ‰ª•‰ΩøÁî® npm whoami Ê£ÄÊµãÊòØÂê¶Â∑≤ÁªèÂèñÂæó‰∫ÜË¥¶Âè∑„ÄÇÊé•‰∏ãÊù•,Âú® package.json ÊâÄÂú®ÁõÆÂΩï‰∏ãËøêË°å npm publishÔºåÁ®çÁ≠âÁâáÂàªÂ∞±ÂèØ‰ª•ÂÆåÊàêÂèëÂ∏É‰∫ÜÔºåÊâìÂºÄÊµèËßàÂô®ÔºåËÆøÈóÆ NPMÊêúÁ¥¢ Â∞±ÂèØ‰ª•ÊâæÂà∞Ëá™Â∑±ÂàöÂàöÂèëÂ∏ÉÁöÑÂåÖ‰∫Ü„ÄÇÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Âú®‰∏ñÁïåÁöÑ‰ªªÊÑè‰∏ÄÂè∞ËÆ°ÁÆóÊú∫‰∏ä‰ΩøÁî® npm install neveryumodule ÂëΩ‰ª§Êù•ÂÆâË£ÖÂÆÉ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÂåÖÂ∞ÜÊù•ÊúâÊõ¥Êñ∞,Âè™ÈúÄË¶ÅÂú® package.json Êñá‰ª∂‰∏≠‰øÆÊîπ version Â≠óÊÆµ,ÁÑ∂ÂêéÈáçÊñ∞‰ΩøÁî® npm publishÂëΩ‰ª§Â∞±Ë°å‰∫Ü„ÄÇÂ¶ÇÊûú‰Ω†ÂØπÂ∑≤ÂèëÂ∏ÉÁöÑÂåÖ‰∏çÊª°ÊÑèÔºåÂèØ‰ª•‰ΩøÁî® npm unpublish ÂëΩ‰ª§Êù•ÂèñÊ∂àÂèëÂ∏É„ÄÇ ÈúÄË¶ÅËØ¥ÊòéÁöÑÊòØÔºö json Êñá‰ª∂‰∏çËÉΩÊúâÊ≥®Èáä Â∏∏Áî®ÂëΩ‰ª§123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869package.json Â•ΩÂ§Ñ 1.‰ª•jsonÊñá‰ª∂Ê†ºÂºèÂÆö‰πâÈ°πÁõÆÊâÄ‰æùËµñÁöÑÂåÖÔºõ 2.Á°ÆÂÆöÊØè‰∏™ÂåÖÁöÑ‰ΩøÁî®ÁâàÊú¨Ôºõ 3.È°πÁõÆÊûÑÂª∫ÂèØÈáçÂ§çÔºåÂ§ö‰∫∫ÂçèÂä©ÂÖ¨Áî®‰∏ÄÂ•óÂü∫Á°Ä‰ª£Á†ÅÔºõ 4.npm init ÂàùÂßãÂåñ „ÄêÂøÖÈ°ªÂê´ÊúâÁöÑ‰∏§‰∏™Ôºöname Âíå version„Äë &#123; &quot;name&quot;: &quot;react-redux-webpack&quot;, &quot;version&quot;: &quot;1.1.0&quot;, &#125;devDependencies ÔºöÂºÄÂèëÁéØÂ¢ÉÂíåÊµãËØïÁéØÂ¢ÉÊâÄ‰æùËµñÁöÑÂåÖÂàóË°®dependencies ÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰ΩøÁî®ÁöÑ‰æùËµñÂåÖÂàóË°® dependencies‰∏ãËÆ∞ÂΩïÁöÑÊòØÈ°πÁõÆÂú®ËøêË°åÊó∂ÂøÖÈ°ª‰æùËµñÁöÑÊèí‰ª∂ÔºåÂ∏∏ËßÅÁöÑ‰æãÂ¶Çreact jqueryÁ≠âÔºåÂç≥ÂèäÊó∂È°πÁõÆÊâìÂåÖÂ•Ω‰∫Ü„ÄÅ‰∏äÁ∫ø‰∫ÜÔºå Ëøô‰∫õ‰πüÊòØÈúÄË¶ÅÁî®ÁöÑÔºåÂê¶ÂàôÁ®ãÂ∫èÊó†Ê≥ïÊ≠£Â∏∏ÊâßË°å„ÄÇ devDependencies‰∏ãËÆ∞ÂΩïÁöÑÊòØÈ°πÁõÆÂú®ÂºÄÂèëËøáÁ®ã‰∏≠‰ΩøÁî®ÁöÑÊèí‰ª∂Ôºå‰æãÂ¶ÇËøôÈáåÊàë‰ª¨ÂºÄÂèëËøáÁ®ã‰∏≠ÈúÄË¶Å‰ΩøÁî®webpackÊâìÂåÖÔºå ËÄåÊàëÂú®Â∑•‰Ωú‰∏≠‰ΩøÁî®fis3ÊâìÂåÖÔºå‰ΩÜÊòØ‰∏ÄÊó¶È°πÁõÆÊâìÂåÖÂèëÂ∏É„ÄÅ‰∏äÁ∫ø‰∫Ü‰πãÂêéÔºåwebpackÂíåfis3Â∞±ÈÉΩÊ≤°ÊúâÁî®‰∫ÜÔºåÂèØÂç∏Á£®ÊùÄÈ©¥„ÄÇÊú¨Âú∞ÂÆâË£Ö npm install --save|--save-dev ÂàÜÂà´ÂÜôÂÖ• dependencies|devDependencies ‰∏≠ÔºõÁÆÄÂÜôÔºö npm i -S pkg | npm i -D pkgÂåÖÔºàpackage)ÂíåÊ®°ÂùóÔºàmoduleÔºâÂåÖÔºöpackage.json Êñá‰ª∂ÊâÄÊèèËø∞ÁöÑÊñá‰ª∂Â§πÊàñËÄÖÊñá‰ª∂ÔºåÁ¨¶ÂêàCommonJSËßÑËåÉÊ®°ÂùóÔºö‰ªª‰ΩïË¢´node.js‰∏≠ÁöÑrequireÊâÄËΩΩÂÖ•ÁöÑÊñá‰ª∂~ ‰ºöÂåπÈÖçÊúÄËøëÁöÑÂ∞èÁâàÊú¨‰æùËµñÂåÖÔºåÊØîÂ¶Ç~1.2.3‰ºöÂåπÈÖçÊâÄÊúâ1.2.xÁâàÊú¨Ôºå‰ΩÜÊòØ‰∏çÂåÖÊã¨1.3.0^ ‰ºöÂåπÈÖçÊúÄÊñ∞ÁöÑÂ§ßÁâàÊú¨‰æùËµñÂåÖÔºåÊØîÂ¶Ç^1.2.3‰ºöÂåπÈÖçÊâÄÊúâ1.x.xÁöÑÂåÖÔºåÂåÖÊã¨1.3.0Ôºå‰ΩÜÊòØ‰∏çÂåÖÊã¨2.0.0* ËøôÊÑèÂë≥ÁùÄÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ‰æùËµñÂåÖÂ∏∏Áî®ÂëΩ‰ª§: npm init -y //Âº∫Âà∂ÁîüÊàê npm init //Âú®È°πÁõÆ‰∏≠ÂºïÂØºÂàõÂª∫‰∏Ä‰∏™package.jsonÊñá‰ª∂ npm search mkdir //ÂØªÊâæÂåÖ‰ΩøÁî®npm searchÂëΩ‰ª§ npm help //Êü•ÁúãÊüêÊù°ÂëΩ‰ª§ÁöÑËØ¶ÁªÜÂ∏ÆÂä© npm root //Êü•ÁúãÂåÖÁöÑÂÆâË£ÖË∑ØÂæÑ npm config //ÁÆ°ÁêÜnpmÁöÑÈÖçÁΩÆË∑ØÂæÑ npm prefix -g //Êü•ÁúãÂÖ®Â±ÄÂÆâË£ÖÁöÑÂåÖ‰ΩçÁΩÆ -gÂÖ®Â±Ä npm cache //ÁÆ°ÁêÜÊ®°ÂùóÁöÑÁºìÂ≠ò ,ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÂëΩ‰ª§ÔºåÂÅ∂Â∞îÊ∏ÖÊ•ö‰∏Ä‰∏ãÁºìÂ≠òÔºö eg: npm cache clean npm info webpack //Êü•Áúãwebpack ÁâàÊú¨‰ø°ÊÅØ npm install pkg //ÂÆâË£ÖÊ®°Âùó ÁÆÄÂÜôÔºönpm i pkg ,Â∏¶ÁâàÊú¨: npm install underscore@1.8.2 npm uninstall //Âç∏ËΩΩÊ®°Âùó eg: npm uninstall webpack npm update // Êõ¥Êñ∞Ê®°Âùó npm update underscore npm outdated //Ê£ÄÊü•Ê®°ÂùóÊòØÂê¶Â∑≤ÁªèËøáÊó∂ npm ls //Êü•ÁúãÂÆâË£ÖÁöÑÊ®°Âùó npm list //ÂèØ‰ª•Êü•ÁúãÂÖ®Â±ÄË∑ØÂæÑ‰∏ãÁöÑÊâÄÊúâÂåÖ eg: npm list --global //‰πüÂèØ‰ª•‰ΩøÁî®--depth=0Êù•Áº©Áü≠ËøîÂõûÁöÑÁªìÊûú eg: npm list -g --depth=0 npm stop //ÂÅúÊ≠¢Ê®°Âùó npm restart //ÈáçÊñ∞ÂêØÂä®Ê®°Âùó npm test //ÊµãËØïÊ®°Âùó npm version //Êü•ÁúãÊ®°ÂùóÁâàÊú¨ npm publish //ÂèëÂ∏ÉÊ®°ÂùóÁÆÄÂÜô: npm i ‚Äì ÂÆâË£ÖÂåÖ npm i -g ‚Äì ÂÆâË£ÖÂåÖÂà∞ÂÖ®Â±Ä‰∏ã npm un ‚Äì Âà†Èô§Êú¨Âú∞‰∏ãÂåÖ npm up ‚Äì Êõ¥Êñ∞ÂåÖ npm t ‚Äì ËøêË°åÊµãËØï npm ls ‚Äì ÁΩóÂàóÂ∑≤ÁªèÂÆâË£ÖÂåÖ npm ll or npm la ‚Äì ÁΩóÂàóÂåÖÊó∂ÊòæÁ§∫È¢ùÂ§ñ‰ø°ÊÅØ npm i express momemt lodash mongoose webpack //‰πüÂèØ‰ª•‰∏ÄÊ¨°ÂÆâË£ÖÂ§ö‰∏™ÂåÖ yarn cache clean //Âà†Èô§ÁîµËÑë‰∏äÊâÄÊúâ yarn ÂÆâË£ÖÁöÑÁºìÂ≠ò yarn //ÂëΩ‰ª§ÂÆâË£ÖÈ°πÁõÆÁõ∏ÂÖ≥‰æùËµñ yarn cache dir //Ëé∑ÂèñÁºìÂ≠òÊñá‰ª∂Â§πÂú∞ÂùÄ]]></content>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆÄÂåñÁâàÁöÑvue-router]]></title>
    <url>%2F2017%2F04%2F18%2F%E7%AE%80%E5%8C%96%E7%89%88%E7%9A%84vue-router%2F</url>
    <content type="text"><![CDATA[Êú¨ÊñáÊó®Âú®‰ªãÁªçvue-routerÁöÑÂÆûÁé∞ÊÄùË∑ØÔºåÂπ∂Âä®ÊâãÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂåñÁâàÁöÑvue-router„ÄÇÊàë‰ª¨ÂÖàÊù•Áúã‰∏Ä‰∏ã‰∏ÄËà¨È°πÁõÆ‰∏≠ÂØπvue-routerÊúÄÂü∫Êú¨ÁöÑ‰∏Ä‰∏™‰ΩøÁî®ÔºåÂèØ‰ª•ÁúãÂà∞ÔºåËøôÈáåÂÆö‰πâ‰∫ÜÂõõ‰∏™Ë∑ØÁî±ÁªÑ‰ª∂,Êàë‰ª¨Âè™Ë¶ÅÂú®Ê†πvueÂÆû‰æã‰∏≠Ê≥®ÂÖ•ËØ•routerÂØπË±°Â∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü. import VueRouter from&apos;vue-router&apos;; import Home from&apos;@/components/Home&apos;; import A from&apos;@/components/A&apos;; import B from&apos;@/components/B&apos;import C from&apos;@/components/C&apos; Vue.use(VueRouter) export default new VueRouter.Router({ // mode: &apos;history&apos;, routes: [ { path: &apos;/&apos;, component: Home }, { path: &apos;/a&apos;, component: A }, { path: &apos;/b&apos;, component: B }, { path: &apos;/c&apos;, component: C } ] }) vue-routerÊèê‰æõ‰∏§‰∏™ÂÖ®Â±ÄÁªÑ‰ª∂Ôºårouter-viewÂíårouter-linkÔºåÂâçËÄÖÊòØÁî®‰∫éË∑ØÁî±ÁªÑ‰ª∂ÁöÑÂç†‰ΩçÔºåÂêéËÄÖÁî®‰∫éÁÇπÂáªÊó∂Ë∑≥ËΩ¨Âà∞ÊåáÂÆöË∑ØÁî±„ÄÇÊ≠§Â§ñÁªÑ‰ª∂ÂÜÖÈÉ®ÂèØ‰ª•ÈÄöËøáthis.$router.push,this.$rouer.replaceÁ≠âapiÂÆûÁé∞Ë∑ØÁî±Ë∑≥ËΩ¨„ÄÇÊú¨ÊñáÂ∞ÜÂÆûÁé∞‰∏äËø∞‰∏§‰∏™ÂÖ®Â±ÄÁªÑ‰ª∂‰ª•ÂèäpushÂíåreplace‰∏§‰∏™apiÔºåË∞ÉÁî®ÁöÑÊó∂ÂÄôÊîØÊåÅparams‰º†ÂèÇÔºåÂπ∂‰∏îÊîØÊåÅhashÂíåhistory‰∏§ÁßçÊ®°ÂºèÔºåÂøΩÁï•ÂÖ∂‰Ωôapi„ÄÅÂµåÂ•óË∑ØÁî±„ÄÅÂºÇÊ≠•Ë∑ØÁî±„ÄÅabstractË∑ØÁî±‰ª•ÂèäÂØºËà™ÂÆàÂç´Á≠âÈ´òÁ∫ßÂäüËÉΩÁöÑÂÆûÁé∞ÔºåËøôÊ†∑ÊúâÂä©‰∫éÁêÜËß£vue-routerÁöÑÊ†∏ÂøÉÂéüÁêÜ„ÄÇÊú¨ÊñáÁöÑÊúÄÁªà‰ª£Á†Å‰∏çÂª∫ËÆÆÂú®Áîü‰∫ßÁéØÂ¢É‰ΩøÁî®ÔºåÂè™ÂÅö‰∏Ä‰∏™Â≠¶‰π†Áî®ÈÄîÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•‰∏ÄÊ≠•Ê≠•ÂÆûÁé∞ÂÆÉ„ÄÇ installÂÆûÁé∞‰ªª‰Ωï‰∏Ä‰∏™vueÊèí‰ª∂ÈÉΩË¶ÅÂÆûÁé∞‰∏Ä‰∏™installÊñπÊ≥ïÔºåÈÄöËøáVue.useË∞ÉÁî®Êèí‰ª∂ÁöÑÊó∂ÂÄôÂ∞±ÊòØÂú®Ë∞ÉÁî®Êèí‰ª∂ÁöÑinstallÊñπÊ≥ïÔºåÈÇ£‰πàË∑ØÁî±ÁöÑinstallË¶ÅÂÅöÂì™‰∫õ‰∫ãÊÉÖÂë¢ÔºüÈ¶ñÂÖàÊàë‰ª¨Áü•ÈÅì Êàë‰ª¨‰ºöÁî®newÂÖ≥ÈîÆÂ≠óÁîüÊàê‰∏Ä‰∏™routerÂÆû‰æãÔºåÂ∞±ÂÉèÂâçÈù¢ÁöÑ‰ª£Á†ÅÂÆû‰æã‰∏ÄÊ†∑ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÊåÇËΩΩÂà∞Ê†πvueÂÆû‰æã‰∏äÔºåÈÇ£‰πà‰Ωú‰∏∫‰∏Ä‰∏™ÂÖ®Â±ÄË∑ØÁî±ÔºåÊàë‰ª¨ÂΩìÁÑ∂ÈúÄË¶ÅÂú®ÂêÑ‰∏™ÁªÑ‰ª∂‰∏≠ÈÉΩÂèØ‰ª•ÊãøÂà∞Ëøô‰∏™routerÂÆû‰æã„ÄÇÂè¶Â§ñÊàë‰ª¨‰ΩøÁî®‰∫ÜÂÖ®Â±ÄÁªÑ‰ª∂router-viewÂíårouter-linkÔºåÁî±‰∫éinstall‰ºöÊé•Êî∂Âà∞VueÊûÑÈÄ†ÂáΩÊï∞‰Ωú‰∏∫ÂÆûÂèÇÔºåÊñπ‰æøÊàë‰ª¨Ë∞ÉÁî®Vue.componentÊù•Ê≥®ÂÜåÂÖ®Â±ÄÁªÑ‰ª∂„ÄÇÂõ†Ê≠§ÔºåÂú®install‰∏≠‰∏ªË¶ÅÂ∞±ÂÅö‰∏§‰ª∂‰∫ãÔºåÁªôÂêÑ‰∏™ÁªÑ‰ª∂ÈÉΩÊåÇËΩΩrouterÂÆû‰æãÔºå‰ª•ÂèäÂÆûÁé∞router-viewÂíårouter-link‰∏§‰∏™ÂÖ®Â±ÄÁªÑ‰ª∂„ÄÇ‰∏ãÈù¢ÊòØ‰ª£Á†ÅÔºö const install = (Vue) =&gt; { if (this._Vue) { return; }; Vue.mixin({ beforeCreate() { if (this.$options &amp;&amp; this.$options.router) { this._routerRoot = this; this._router = this.$options.router; Vue.util.defineReactive(this, &apos;_routeHistory&apos;, this._router.history) } else { this._routerRoot = (this.$parent &amp;&amp; this.$parent._routerRoot) || this } Object.defineProperty(this, &apos;$router&apos;, { get() { returnthis._routerRoot._router; } }) Object.defineProperty(this, &apos;$route&apos;, { get() { return { current: this._routerRoot._routeHistory.current, ...this._routerRoot._router.route }; } }) } }); Vue.component(&apos;router-view&apos;, { render(h) { ... } }) Vue.component(&apos;router-link&apos;, { props: { to: String, tag: String, }, render(h) { ... } }) this._Vue = Vue; } ËøôÈáåÁöÑthis‰ª£Ë°®ÁöÑÂ∞±ÊòØvue-routerÂØπË±°ÔºåÂÆÉÊúâ‰∏§‰∏™Â±ûÊÄßÊö¥Èú≤Âá∫Êù•‰æõÂ§ñÁïåË∞ÉÁî®Ôºå‰∏Ä‰∏™ÊòØinstallÔºå‰∏Ä‰∏™ÊòØRouterÊûÑÈÄ†ÂáΩÊï∞ÔºåËøôÊ†∑ÂèØ‰ª•‰øùËØÅÊèí‰ª∂ÁöÑÊ≠£Á°ÆÂÆâË£Ö‰ª•ÂèäË∑ØÁî±ÂÆû‰æãÂåñ„ÄÇÊàë‰ª¨ÂÖàÂøΩÁï•RouterÊûÑÈÄ†ÂáΩÊï∞ÔºåÊù•ÁúãinstallÔºå‰∏äÈù¢‰ª£Á†Å‰∏≠ÁöÑthis._VueÊòØ‰∏™ÂºÄÂßãÊ≤°ÊúâÂÆö‰πâÁöÑÂ±ûÊÄßÔºå‰ªñÁöÑÁõÆÁöÑÊòØÈò≤Ê≠¢Â§öÊ¨°ÂÆâË£Ö„ÄÇÊàë‰ª¨‰ΩøÁî®Vue.mixinÂØπÊØè‰∏™ÁªÑ‰ª∂ÁöÑbeforeCreateÈí©Â≠êÂÅöÂÖ®Â±ÄÊ∑∑ÂÖ•ÔºåÁõÆÁöÑÊòØËÆ©ÊØè‰∏™ÁªÑ‰ª∂ÂÆû‰æãÂÖ±‰∫´routerÂÆû‰æãÔºåÂç≥ÈÄöËøáthis.$routerÊãøÂà∞Ë∑ØÁî±ÂÆû‰æãÔºåÈÄöËøáthis.$routeÊãøÂà∞Ë∑ØÁî±Áä∂ÊÄÅ„ÄÇÈúÄË¶ÅÈáçÁÇπÂÖ≥Ê≥®ÁöÑÊòØËøôË°å‰ª£Á†ÅÔºö Vue.util.defineReactive(this, &apos;_routeHistory&apos;, this._router.history) ËøôË°å‰ª£Á†ÅÂà©Áî®vueÁöÑÂìçÂ∫îÂºèÂéüÁêÜÔºåÂØπÊ†πvueÂÆû‰æãÊ≥®ÂÜå‰∫Ü‰∏Ä‰∏™_routeHistoryÂ±ûÊÄßÔºåÊåáÂêëË∑ØÁî±ÂÆû‰æãÁöÑhistoryÂØπË±°ÔºåËøôÊ†∑history‰πüÂèòÊàê‰∫ÜÂìçÂ∫îÂºèÁöÑ„ÄÇÂõ†Ê≠§‰∏ÄÊó¶Ë∑ØÁî±ÁöÑhistoryÂèëÁîüÂèòÂåñÔºåÁî®Âà∞Ëøô‰∏™ÂÄºÁöÑÁªÑ‰ª∂Â∞±‰ºöËß¶ÂèërenderÂáΩÊï∞ÈáçÊñ∞Ê∏≤ÊüìÔºåËøôÈáåÁöÑÁªÑ‰ª∂Â∞±ÊòØrouter-view„ÄÇ‰ªéËøôÈáåÂèØ‰ª•Á™•ÂØüÂà∞vue-routerÂÆûÁé∞ÁöÑ‰∏Ä‰∏™Âü∫Êú¨ÊÄùË∑Ø„ÄÇ‰∏äËø∞ÁöÑ‰ª£Á†Å‰∏≠ÂØπ‰∫é‰∏§‰∏™ÂÖ®Â±ÄÁªÑ‰ª∂ÁöÑrenderÂáΩÊï∞ÁöÑÂÆûÁé∞ÔºåÂõ†‰∏∫‰ºö‰æùËµñ‰∫érouterÂØπË±°ÔºåÊàë‰ª¨ÂÖàÊîæ‰∏ÄÊîæÔºåÁ®çÂêéÂÜçÊù•ÂÆûÁé∞ÂÆÉ‰ª¨Ôºå‰∏ãÈù¢Êàë‰ª¨ÂàÜÊûê‰∏Ä‰∏ãRouterÊûÑÈÄ†ÂáΩÊï∞„ÄÇ RouterÊûÑÈÄ†ÂáΩÊï∞ÁªèËøáÂàöÊâçÁöÑÂàÜÊûêÔºåÊàë‰ª¨Áü•ÈÅìrouterÂÆû‰æãÈúÄË¶ÅÊúâ‰∏Ä‰∏™historyÂØπË±°ÔºåÈúÄË¶Å‰∏Ä‰∏™‰øùÂ≠òÂΩìÂâçË∑ØÁî±Áä∂ÊÄÅÁöÑÂØπË±°routeÔºåÂè¶Â§ñÂæàÊòæÁÑ∂ËøòÈúÄË¶ÅÊé•ÂèóË∑ØÁî±ÈÖçÁΩÆË°®routesÔºåÊ†πÊçÆroutesÈúÄË¶Å‰∏Ä‰∏™Ë∑ØÁî±Êò†Â∞ÑË°®routerMapÊù•ÂÆûÁé∞ÁªÑ‰ª∂ÊêúÁ¥¢ÔºåËøòÈúÄË¶Å‰∏Ä‰∏™ÂèòÈáèmodeÂà§Êñ≠ÊòØ‰ªÄ‰πàÊ®°Âºè‰∏ãÁöÑË∑ØÁî±ÔºåÈúÄË¶ÅÂÆûÁé∞pushÂíåreplace‰∏§‰∏™apiÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö const Router = function (options) { this.routes = options.routes; // Â≠òÊîæË∑ØÁî±ÈÖçÁΩÆthis.mode = options.mode || &apos;hash&apos;; this.route = Object.create(null), // ÁîüÊàêË∑ØÁî±Áä∂ÊÄÅthis.routerMap = createMap(this.routes) // ÁîüÊàêË∑ØÁî±Ë°®this.history = new RouterHistory(); // ÂÆû‰æãÂåñË∑ØÁî±ÂéÜÂè≤ÂØπË±°this.init(); // ÂàùÂßãÂåñ } Router.prototype.push = (options) =&gt; { ... } Router.prototype.replace = (options) =&gt; { ... } Router.prototype.init = () =&gt; { ... } Êàë‰ª¨Áúã‰∏Ä‰∏ãË∑ØÁî±Ë°®routerMapÁöÑÂÆûÁé∞ÔºåÁî±‰∫é‰∏çËÄÉËôëÂµåÂ•óÁ≠âÂÖ∂‰ªñÊÉÖÂÜµÔºåÂÆûÁé∞ÂæàÁÆÄÂçïÔºåÂ¶Ç‰∏ãÔºö const createMap = (routes) =&gt; { let resMap = Object.create(null); routes.forEach(route =&gt; { resMap[route[&apos;path&apos;]] = route[&apos;component&apos;]; }) return resMap; } RouterHistoryÁöÑÂÆûÁé∞‰πüÂæàÁÆÄÂçïÔºåÊ†πÊçÆÂâçÈù¢ÂàÜÊûêÔºåÊàë‰ª¨Âè™ÈúÄË¶Å‰∏Ä‰∏™currentÂ±ûÊÄßÂ∞±ÂèØ‰ª•ÔºåÂ¶Ç‰∏ãÔºö const RouterHistory = function (mode) { this.current = null; } Êúâ‰∫ÜË∑ØÁî±Ë°®ÂíåhistoryÔºårouter-viewÁöÑÂÆûÁé∞Â∞±ÂæàÂÆπÊòì‰∫ÜÔºåÂ¶Ç‰∏ãÔºö Vue.component(&apos;router-view&apos;, { render(h) { let routerMap = this._self.$router.routerMap; return h(routerMap[this._self.$route.current]) } }) ËøôÈáåÁöÑthisÊòØ‰∏Ä‰∏™renderProxyÂÆû‰æãÔºå‰ªñÊúâ‰∏Ä‰∏™Â±ûÊÄß_selfÂèØ‰ª•ÊãøÂà∞ÂΩìÂâçÁöÑÁªÑ‰ª∂ÂÆû‰æãÔºåËøõËÄåËÆøÈóÆÂà∞routerMapÔºåÂèØ‰ª•ÁúãÂà∞Ë∑ØÁî±ÂÆû‰æãhistoryÁöÑcurrentÊú¨Ë¥®‰∏äÂ∞±ÊòØÊàë‰ª¨ÈÖçÁΩÆÁöÑË∑ØÁî±Ë°®‰∏≠ÁöÑpath„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏Ä‰∏ãRouterË¶ÅÂÅöÂì™‰∫õÂàùÂßãÂåñÂ∑•‰Ωú„ÄÇÂØπ‰∫éhashË∑ØÁî±ËÄåË®ÄÔºåurl‰∏ähashÂÄºÁöÑÊîπÂèò‰∏ç‰ºöÂºïËµ∑È°µÈù¢Âà∑Êñ∞Ôºå‰ΩÜÊòØÂèØ‰ª•Ëß¶Âèë‰∏Ä‰∏™hashchange‰∫ã‰ª∂„ÄÇÁî±‰∫éË∑ØÁî±history.currentÂàùÂßã‰∏∫nullÔºåÂõ†Ê≠§ÂåπÈÖç‰∏çÂà∞‰ªª‰Ωï‰∏Ä‰∏™Ë∑ØÁî±ÔºåÊâÄ‰ª•‰ºöÂØºËá¥È°µÈù¢Âà∑Êñ∞Âä†ËΩΩ‰∏çÂá∫‰ªª‰ΩïË∑ØÁî±ÁªÑ‰ª∂„ÄÇÂü∫‰∫éËøô‰∏§ÁÇπÔºåÂú®initÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞ÂØπÈ°µÈù¢Âä†ËΩΩÂÆåÊàêÁöÑÁõëÂê¨Ôºå‰ª•ÂèähashÂèòÂåñÁöÑÁõëÂê¨„ÄÇÂØπ‰∫éhistoryË∑ØÁî±Ôºå‰∏∫‰∫ÜÂÆûÁé∞ÊµèËßàÂô®ÂâçËøõÂêéÈÄÄÊó∂ÂáÜÁ°ÆÊ∏≤ÊüìÂØπÂ∫îÁªÑ‰ª∂ÔºåËøòË¶ÅÁõëÂê¨‰∏Ä‰∏™popstate‰∫ã‰ª∂„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ã: Router.prototype.init = function () { if (this.mode === &apos;hash&apos;) { fixHash() window.addEventListener(&apos;hashchange&apos;, () =&gt; { this.history.current = getHash(); }) window.addEventListener(&apos;load&apos;, () =&gt; { this.history.current = getHash(); }) } if (this.mode === &apos;history&apos;) { removeHash(this); window.addEventListener(&apos;load&apos;, () =&gt; { this.history.current = location.pathname; }) window.addEventListener(&apos;popstate&apos;, (e) =&gt; { if (e.state) { this.history.current = e.state.path; } }) } } ÂΩìÂêØÁî®hashÊ®°ÂºèÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Ë¶ÅÊ£ÄÊµãurl‰∏äÊòØÂê¶Â≠òÂú®hashÂÄºÔºåÊ≤°ÊúâÁöÑËØùÂº∫Âà∂ËµãÂÄº‰∏Ä‰∏™ÈªòËÆ§pathÔºåhashË∑ØÁî±Êó∂‰ºöÊ†πÊçÆhashÂÄº‰Ωú‰∏∫keyÊù•Êü•ÊâæË∑ØÁî±Ë°®„ÄÇfixHashÂíågetHashÂÆûÁé∞Â¶Ç‰∏ãÔºö const fixHash = () =&gt; { if (!location.hash) { location.hash = &apos;/&apos;; } } const getHash = () =&gt; { return location.hash.slice(1) || &apos;/&apos;; } ËøôÊ†∑Âú®Âà∑Êñ∞È°µÈù¢ÂíåhashÊîπÂèòÁöÑÊó∂ÂÄôÔºåcurrentÂèØ‰ª•ÂæóÂà∞ËµãÂÄºÂíåÊõ¥Êñ∞ÔºåÈ°µÈù¢ËÉΩÊ†πÊçÆhashÂÄºÂáÜÁ°ÆÊ∏≤ÊüìË∑ØÁî±„ÄÇhistoryÊ®°Âºè‰πüÊòØ‰∏ÄÊ†∑ÁöÑÈÅìÁêÜÔºåÂè™ÊòØÂÆÉÈÄöËøálocation.pathname‰Ωú‰∏∫keyÊêúÁ¥¢Ë∑ØÁî±ÁªÑ‰ª∂ÔºåÂè¶Â§ñhistoryÊ®°ÂºèÈúÄË¶ÅÂéªÈô§url‰∏äÂèØËÉΩÂ≠òÂú®ÁöÑhash,removeHashÂÆûÁé∞Â¶Ç‰∏ãÔºö const removeHash = (route) =&gt; { let url = location.href.split(&apos;#&apos;)[1] if (url) { route.current = url; history.replaceState({}, null, url) } } Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂΩìÊµèËßàÂô®ÂêéÈÄÄÁöÑÊó∂ÂÄôÔºåhistoryÊ®°Âºè‰ºöËß¶Âèëpopstate‰∫ã‰ª∂ÔºåËøô‰∏™Êó∂ÂÄôÊòØÈÄöËøástateÁä∂ÊÄÅÂéªËé∑ÂèñpathÁöÑÔºåÈÇ£‰πàstateÁä∂ÊÄÅ‰ªéÂì™ÈáåÊù•Âë¢ÔºåÁ≠îÊ°àÊòØ‰ªéwindow.historyÂØπË±°ÁöÑpushStateÂíåreplaceStateËÄåÊù•ÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÊ≠£Â•ΩÂèØ‰ª•Áî®Êù•ÂÆûÁé∞routerÁöÑpushÊñπÊ≥ïÂíåreplaceÊñπÊ≥ïÔºåÊàë‰ª¨Áúã‰∏Ä‰∏ãËøôÈáåÂÆÉ‰ª¨ÁöÑÂÆûÁé∞Ôºö Router.prototype.push = (options) =&gt; { this.history.current = options.path; if (this.mode === &apos;history&apos;) { history.pushState({ path: options.path }, null, options.path); } elseif (this.mode === &apos;hash&apos;) { location.hash = options.path; } this.route.params = { ...options.params } } Router.prototype.replace = (options) =&gt; { this.history.current = options.path; if (this.mode === &apos;history&apos;) { history.replaceState({ path: options.path }, null, options.path); } elseif (this.mode === &apos;hash&apos;) { location.replace(`#${options.path}`) } this.route.params = { ...options.params } } pushStateÂíåreplaceStateËÉΩÂ§üÂÆûÁé∞ÊîπÂèòurlÁöÑÂÄº‰ΩÜ‰∏çÂºïËµ∑È°µÈù¢Âà∑Êñ∞Ôºå‰ªéËÄå‰∏ç‰ºöÂØºËá¥Êñ∞ËØ∑Ê±ÇÂèëÁîüÔºåpushState‰ºöÁîüÊàê‰∏ÄÊù°ÂéÜÂè≤ËÆ∞ÂΩïËÄåreplaceState‰∏ç‰ºöÔºåÂêéËÄÖÂè™ÊòØÊõøÊç¢ÂΩìÂâçurl„ÄÇÂú®Ëøô‰∏§‰∏™ÊñπÊ≥ïÊâßË°åÁöÑÊó∂ÂÄôÂ∞ÜpathÂ≠òÂÖ•stateÔºåËøôÂ∞±‰ΩøÂæópopstateËß¶ÂèëÁöÑÊó∂ÂÄôÂèØ‰ª•ÊãøÂà∞Ë∑ØÂæÑ‰ªéËÄåËß¶ÂèëÁªÑ‰ª∂Ê∏≤Êüì‰∫Ü„ÄÇÊàë‰ª¨Âú®ÁªÑ‰ª∂ÂÜÖÊåâÁÖßÂ¶Ç‰∏ãÊñπÂºèË∞ÉÁî®Ôºå‰ºöÂ∞ÜparamsÂÜôÂÖ•routerÂÆû‰æãÁöÑrouteÂ±ûÊÄß‰∏≠Ôºå‰ªéËÄåÂú®Ë∑≥ËΩ¨ÂêéÁöÑÁªÑ‰ª∂BÂÜÖÈÄöËøáthis.$route.paramsÂèØ‰ª•ËÆøÈóÆÂà∞‰º†ÂèÇ„ÄÇ this.$router.push({ path: &apos;/b&apos;, params: { id: 55 } }); router-linkÂÆûÁé∞router-viewÁöÑÂÆûÁé∞ÂæàÁÆÄÂçïÔºåÂâçÈù¢Â∑≤ÁªèËØ¥Ëøá„ÄÇÊúÄÂêéÔºåÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãrouter-linkÁöÑÂÆûÁé∞,ÂÖàÊîæ‰∏ä‰ª£Á†ÅÔºö Vue.component(&apos;router-link&apos;, { props: { to: String, tag: String, }, render(h) { let mode = this._self.$router.mode; let tag = this.tag || &apos;a&apos;; let routerHistory = this._self.$router.history; return h(tag, { attrs: tag === &apos;a&apos; ? { href: mode === &apos;hash&apos; ? &apos;#&apos; + this.to : this.to, } : {}, on: { click: (e) =&gt; { if (this.to === routerHistory.current) { e.preventDefault(); return; } routerHistory.current = this.to; switch (mode) { case&apos;hash&apos;: if (tag === &apos;a&apos;) return; location.hash = this.to; break; case&apos;history&apos;: history.pushState({ path: this.to }, null, this.to); break; default: } e.preventDefault(); } }, style: { cursor: &apos;pointer&apos; } }, this.$slots.default) } }) router-linkÂèØ‰ª•Êé•Âèó‰∏§‰∏™Â±ûÊÄßÔºåtoË°®Á§∫Ë¶ÅË∑≥ËΩ¨ÁöÑË∑ØÁî±Ë∑ØÂæÑÔºåtagË°®Á§∫router-linkË¶ÅÊ∏≤ÊüìÁöÑÊ†áÁ≠æÂêçÔºåÈªòËÆ§a‰∏∫Ê†áÁ≠æ„ÄÇÂ¶ÇÊûúÊòØaÊ†áÁ≠æÔºåÊàë‰ª¨‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∏™hrefÂ±ûÊÄß„ÄÇÊàë‰ª¨ÁªôÊ†áÁ≠æÁªëÂÆöclick‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊ£ÄÊµãÂà∞Êú¨Ê¨°Ë∑≥ËΩ¨‰∏∫ÂΩìÂâçË∑ØÁî±ÁöÑËØù‰ªÄ‰πàÈÉΩ‰∏çÂÅöÁõ¥Êé•ËøîÂõûÔºåÂπ∂‰∏îÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫ÔºåÂê¶ÂàôÊ†πÊçÆtoÊõ¥Êç¢Ë∑ØÁî±„ÄÇhashÊ®°Âºè‰∏ãÂπ∂‰∏îÊòØaÊ†áÁ≠æÊó∂ÂÄôÂèØ‰ª•Áõ¥Êé•Âà©Áî®ÊµèËßàÂô®ÁöÑÈªòËÆ§Ë°å‰∏∫ÂÆåÊàêurl‰∏ähashÁöÑÊõøÊç¢ÔºåÂê¶ËÄÖÈáçÊñ∞‰∏∫location.hashËµãÂÄº„ÄÇhistoryÊ®°Âºè‰∏ãÂàôÂà©Áî®pushStateÂéªÊõ¥Êñ∞url„ÄÇ ‰ª•‰∏äÂÆûÁé∞Â∞±ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑvue-router.]]></content>
      <tags>
        <tag>vue</tag>
        <tag>vue-router</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Promise ÂøÖÁü•ÂøÖ‰ºö]]></title>
    <url>%2F2017%2F04%2F02%2FPromise-%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%2F</url>
    <content type="text"><![CDATA[‰Ω†‰∏çÁü•ÈÅìÁöÑ Promise ÂØπË±°ÈªëÁßëÊäÄPromise ÊÉ≥ÂøÖÂ§ßÂÆ∂ÈÉΩÂçÅÂàÜÁÜüÊÇâÔºåÊÉ≥ÊÉ≥Â∞±ÈÇ£‰πàÂá†‰∏™ apiÔºåÂèØÊòØ‰Ω†ÁúüÁöÑ‰∫ÜËß£ Promise ÂêóÔºüÊú¨ÊñáÊ†πÊçÆ Promise ÁöÑ‰∏Ä‰∫õÁü•ËØÜÁÇπÊÄªÁªì‰∫ÜÂçÅÈÅìÈ¢òÔºåÁúãÁúã‰Ω†ËÉΩÂÅöÂØπÂá†ÈÅì„ÄÇ ‰ª•‰∏ã promise ÂùáÊåá‰ª£ Promise ÂÆû‰æãÔºåÁéØÂ¢ÉÊòØ Node.js„ÄÇ È¢òÁõÆ‰∏Äconst promise = new Promise((resolve, reject) =&gt; { console.log(1) resolve() console.log(2) }) promise.then(() =&gt; { console.log(3) }) console.log(4) ËøêË°åÁªìÊûúÔºö 1 2 4 3 Ëß£ÈáäÔºöPromise ÊûÑÈÄ†ÂáΩÊï∞ÊòØÂêåÊ≠•ÊâßË°åÁöÑÔºåpromise.then ‰∏≠ÁöÑÂáΩÊï∞ÊòØÂºÇÊ≠•ÊâßË°åÁöÑ„ÄÇ È¢òÁõÆ‰∫åconst promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(&apos;success&apos;) }, 1000) }) console.log(promise) promise .then(() =&gt; { console.log(promise) throw new Error(&apos;error!!!&apos;) }) .catch(err =&gt; { console.log(promise) }) ËøêË°åÁªìÊûúÔºö Promise { &lt;pending&gt; } Promise { &apos;success&apos; } Promise { &apos;success&apos; } Ëß£ÈáäÔºöpromise Êúâ 3 ÁßçÁä∂ÊÄÅÔºöpending„ÄÅfulfilled Âíå rejected„ÄÇÁä∂ÊÄÅÊîπÂèòÂè™ËÉΩÊòØ pending-&gt;fulfilled ÊàñËÄÖ pending-&gt;rejectedÔºåÁä∂ÊÄÅ‰∏ÄÊó¶ÊîπÂèòÂàô‰∏çËÉΩÂÜçÂèò„ÄÇ È¢òÁõÆ‰∏âconst promise = new Promise((resolve, reject) =&gt; { resolve(&apos;success1&apos;) reject(&apos;error&apos;) resolve(&apos;success2&apos;) }) promise .then((res) =&gt; { console.log(&apos;then: &apos;, res) }) .catch((err) =&gt; { console.log(&apos;catch: &apos;, err) }) ËøêË°åÁªìÊûúÔºö then: success1 Ëß£ÈáäÔºöÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÁöÑ resolve Êàñ reject Âè™ÊúâÁ¨¨‰∏ÄÊ¨°ÊâßË°åÊúâÊïàÔºåÂ§öÊ¨°Ë∞ÉÁî®Ê≤°Êúâ‰ªª‰Ωï‰ΩúÁî®ÔºåÂëºÂ∫î‰ª£Á†Å‰∫åÁªìËÆ∫Ôºöpromise Áä∂ÊÄÅ‰∏ÄÊó¶ÊîπÂèòÂàô‰∏çËÉΩÂÜçÂèò„ÄÇ È¢òÁõÆÂõõPromise.resolve(1) .then((res) =&gt; { console.log(res) return 2 }) .catch((err) =&gt; { return 3 }) .then((res) =&gt; { console.log(res) }) ËøêË°åÁªìÊûúÔºö 1 2 Ëß£ÈáäÔºöpromise ÂèØ‰ª•ÈìæÂºèË∞ÉÁî®„ÄÇÊèêËµ∑ÈìæÂºèË∞ÉÁî®Êàë‰ª¨ÈÄöÂ∏∏‰ºöÊÉ≥Âà∞ÈÄöËøá return this ÂÆûÁé∞Ôºå‰∏çËøá Promise Âπ∂‰∏çÊòØËøôÊ†∑ÂÆûÁé∞ÁöÑ„ÄÇpromise ÊØèÊ¨°Ë∞ÉÁî® .then ÊàñËÄÖ .catch ÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ promiseÔºå‰ªéËÄåÂÆûÁé∞‰∫ÜÈìæÂºèË∞ÉÁî®„ÄÇ È¢òÁõÆ‰∫îconst promise = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(&apos;once&apos;) resolve(&apos;success&apos;) }, 1000) }) const start = Date.now() promise.then((res) =&gt; { console.log(res, Date.now() - start) }) promise.then((res) =&gt; { console.log(res, Date.now() - start) }) ËøêË°åÁªìÊûúÔºö once success 1005 success 1007 Ëß£ÈáäÔºöpromise ÁöÑ .then ÊàñËÄÖ .catch ÂèØ‰ª•Ë¢´Ë∞ÉÁî®Â§öÊ¨°Ôºå‰ΩÜËøôÈáå Promise ÊûÑÈÄ†ÂáΩÊï∞Âè™ÊâßË°å‰∏ÄÊ¨°„ÄÇÊàñËÄÖËØ¥ promise ÂÜÖÈÉ®Áä∂ÊÄÅ‰∏ÄÁªèÊîπÂèòÔºåÂπ∂‰∏îÊúâ‰∫Ü‰∏Ä‰∏™ÂÄºÔºåÈÇ£‰πàÂêéÁª≠ÊØèÊ¨°Ë∞ÉÁî® .then ÊàñËÄÖ .catch ÈÉΩ‰ºöÁõ¥Êé•ÊãøÂà∞ËØ•ÂÄº„ÄÇ È¢òÁõÆÂÖ≠Promise.resolve() .then(() =&gt; { return new Error(&apos;error!!!&apos;) }) .then((res) =&gt; { console.log(&apos;then: &apos;, res) }) .catch((err) =&gt; { console.log(&apos;catch: &apos;, err) }) ËøêË°åÁªìÊûúÔºö then: Error: error!!! at Promise.resolve.then (...) at ... Ëß£ÈáäÔºö.then ÊàñËÄÖ .catch ‰∏≠ return ‰∏Ä‰∏™ error ÂØπË±°Âπ∂‰∏ç‰ºöÊäõÂá∫ÈîôËØØÔºåÊâÄ‰ª•‰∏ç‰ºöË¢´ÂêéÁª≠ÁöÑ .catch ÊçïËé∑ÔºåÈúÄË¶ÅÊîπÊàêÂÖ∂‰∏≠‰∏ÄÁßçÔºö return Promise.reject(new Error(‚Äòerror!!!‚Äô)) throw new Error(‚Äòerror!!!‚Äô) Âõ†‰∏∫ËøîÂõû‰ªªÊÑè‰∏Ä‰∏™Èùû promise ÁöÑÂÄºÈÉΩ‰ºöË¢´ÂåÖË£πÊàê promise ÂØπË±°ÔºåÂç≥ return new Error(‚Äòerror!!!‚Äô) Á≠â‰ª∑‰∫é return Promise.resolve(new Error(‚Äòerror!!!‚Äô))„ÄÇ È¢òÁõÆ‰∏Éconst promise = Promise.resolve() .then(() =&gt; { return promise }) promise.catch(console.error) ËøêË°åÁªìÊûúÔºö TypeError: Chaining cycle detected for promise #&lt;Promise&gt; at &lt;anonymous&gt; at process._tickCallback (internal/process/next_tick.js:188:7) at Function.Module.runMain (module.js:667:11) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:607:3 Ëß£ÈáäÔºö.then Êàñ .catch ËøîÂõûÁöÑÂÄº‰∏çËÉΩÊòØ promise Êú¨Ë∫´ÔºåÂê¶Âàô‰ºöÈÄ†ÊàêÊ≠ªÂæ™ÁéØ„ÄÇÁ±ª‰ºº‰∫éÔºö process.nextTick(function tick () { console.log(&apos;tick&apos;) process.nextTick(tick) }) È¢òÁõÆÂÖ´Promise.resolve(1) .then(2) .then(Promise.resolve(3)) .then(console.log) ËøêË°åÁªìÊûúÔºö 1 Ëß£ÈáäÔºö.then ÊàñËÄÖ .catch ÁöÑÂèÇÊï∞ÊúüÊúõÊòØÂáΩÊï∞Ôºå‰º†ÂÖ•ÈùûÂáΩÊï∞Âàô‰ºöÂèëÁîüÂÄºÁ©øÈÄè„ÄÇ È¢òÁõÆ‰πùPromise.resolve() .then(function success (res) { throw new Error(&apos;error&apos;) }, function fail1 (e) { console.error(&apos;fail1: &apos;, e) }) .catch(function fail2 (e) { console.error(&apos;fail2: &apos;, e) }) ËøêË°åÁªìÊûúÔºö fail2: Error: error at success (...) at ... Ëß£ÈáäÔºö.then ÂèØ‰ª•Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÊòØÂ§ÑÁêÜÊàêÂäüÁöÑÂáΩÊï∞ÔºåÁ¨¨‰∫å‰∏™ÊòØÂ§ÑÁêÜÈîôËØØÁöÑÂáΩÊï∞„ÄÇ.catch ÊòØ .then Á¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÁÆÄ‰æøÂÜôÊ≥ïÔºå‰ΩÜÊòØÂÆÉ‰ª¨Áî®Ê≥ï‰∏äÊúâ‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö.then ÁöÑÁ¨¨‰∫å‰∏™Â§ÑÁêÜÈîôËØØÁöÑÂáΩÊï∞ÊçïËé∑‰∏ç‰∫ÜÁ¨¨‰∏Ä‰∏™Â§ÑÁêÜÊàêÂäüÁöÑÂáΩÊï∞ÊäõÂá∫ÁöÑÈîôËØØÔºåËÄåÂêéÁª≠ÁöÑ .catch ÂèØ‰ª•ÊçïËé∑‰πãÂâçÁöÑÈîôËØØ„ÄÇÂΩìÁÑ∂‰ª•‰∏ã‰ª£Á†Å‰πüÂèØ‰ª•Ôºö Promise.resolve() .then(function success1 (res) { throw new Error(&apos;error&apos;) }, function fail1 (e) { console.error(&apos;fail1: &apos;, e) }) .then(function success2 (res) { }, function fail2 (e) { console.error(&apos;fail2: &apos;, e) }) È¢òÁõÆÂçÅprocess.nextTick(() =&gt; { console.log(&apos;nextTick&apos;) }) Promise.resolve() .then(() =&gt; { console.log(&apos;then&apos;) }) setImmediate(() =&gt; { console.log(&apos;setImmediate&apos;) }) console.log(&apos;end&apos;) ËøêË°åÁªìÊûúÔºö end nextTick then setImmediate Ëß£ÈáäÔºöprocess.nextTick Âíå promise.then ÈÉΩÂ±û‰∫é microtasksÔºåËÄå setImmediate Â±û‰∫é macrotasksÔºåÂú®‰∫ã‰ª∂Âæ™ÁéØÁöÑ check Èò∂ÊÆµÊâßË°å„ÄÇ‰∫ã‰ª∂Âæ™ÁéØÁöÑÊØè‰∏™Èò∂ÊÆµÔºàmacrotasksÔºâ‰πãÈó¥ÈÉΩ‰ºöÊâßË°å microtasksÔºå‰∫ã‰ª∂Âæ™ÁéØÁöÑÂºÄÂßã‰ºöÂÖàÊâßË°å‰∏ÄÊ¨° microtasks„ÄÇ]]></content>
      <tags>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6ÂÆûÁé∞Ëá™Â∑±ÁöÑ Promise]]></title>
    <url>%2F2017%2F03%2F02%2FES6-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%B7%B1%E7%9A%84-Promise%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅJavaScriptÂºÇÊ≠•ÁºñÁ®ãËÉåÊôØ‰ªéÂéªÂπ¥ES2015ÂèëÂ∏ÉËá≥‰ªäÔºåÂ∑≤ÁªèËøáÂéª‰∫Ü‰∏ÄÂπ¥Â§öÔºåES2015ÂèëÂ∏ÉÁöÑÊñ∞ÁöÑËØ≠Ë®ÄÁâπÊÄß‰∏≠ÊúÄ‰∏∫ÊµÅË°åÁöÑ‰πüÂ∞±Ëé´Ëøá‰∫éPromise‰∫ÜÔºåPromise‰ΩøÂæóÂ¶Ç‰ªäJavaScriptÂºÇÊ≠•ÁºñÁ®ãÂ¶ÇÊ≠§ËΩªÊùæÊÉ¨ÊÑèÔºåÁîöËá≥ÊÖ¢ÊÖ¢ÈÅóÂøò‰∫ÜÊõæÁªèÈÇ£‰∏çÂ†™ÂõûÈ¶ñÁöÑÁóõÊ•ö„ÄÇÂÖ∂ÂÆû‰ªéJavaScriptËØûÁîüÔºåJavaScript‰∏≠ÁöÑÂºÇÊ≠•ÁºñÁ®ãÂ∞±Â∑≤ÁªèÂá∫Áé∞Ôºå‰æãÂ¶ÇÁÇπÂáªÈº†Ê†á„ÄÅÊï≤ÂáªÈîÆÁõòËøô‰∫õ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÂáΩÊï∞ÈÉΩÊòØÂºÇÊ≠•ÁöÑÔºåÊó∂Èó¥Âà∞‰∫Ü2009Âπ¥ÔºåNode.jsÊ®™Á©∫Âá∫‰∏ñÔºåÂú®Êï¥‰∏™Node.jsÁöÑÂÆûÁé∞‰∏≠ÔºåÂ∞ÜÂõûË∞ÉÊ®°ÂºèÁöÑÂºÇÊ≠•ÁºñÁ®ãÊú∫Âà∂ÂèëÊå•ÁöÑÊ∑ãÊºìÂ∞ΩËá¥ÔºåNodeÁöÑÊµÅË°å‰πüÊòØÁöÑË∂äÊù•Ë∂äÂ§öÁöÑJavaScripterÂºÄÂßã‰∫ÜÂºÇÊ≠•ÁºñÁ®ãÔºå‰ΩÜÊòØÂõûË∞ÉÊ®°ÂºèÁöÑÂâØ‰ΩúÁî®‰πüÊÖ¢ÊÖ¢Â±ïÁé∞Âú®‰∫∫‰ª¨ÁúºÂâçÔºåÈîôËØØÂ§ÑÁêÜ‰∏çÂ§ü‰ºòÈõÖ‰ª•ÂèäÂµåÂ•óÂõûË∞ÉÂ∏¶Êù•ÁöÑ‚ÄúÂõûË∞ÉÂú∞Áã±‚Äù„ÄÇËøô‰∫õÂâØ‰ΩúÁî®‰ΩøÂæó‰∫∫‰ª¨‰ªéÂõûË∞ÉÊ®°ÂºèÁöÑÊ∏©Êüî‰π°‰∏≠ÊÖ¢ÊÖ¢Ê∏ÖÈÜíËøáÊù•ÔºåÂºÄÂßãÂØªÊâæÊõ¥‰∏∫‰ºòÈõÖÁöÑÂºÇÊ≠•ÁºñÁ®ãÊ®°ÂºèÔºåË∑ØÊº´Êº´ÂÖ∂‰øÆËøúÂÖÆ„ÄÅÂêæÂ∞Ü‰∏ä‰∏ãËÄåÊ±ÇÁ¥¢„ÄÇÊó∂Èó¥Âà∞‰∫Ü2015Âπ¥ÔºåPromiseÊãØÊïëÈÇ£‰∫õËã¶Ëã¶Êé¢Á¥¢ÁöÑÂÖàÈ©±„ÄÇË°å‰ΩøÂÆÉÂéÜÂè≤‰ΩøÂëΩÁöÑÊó∂‰ª£‰ºº‰πéÂ∑≤ÁªèÂà∞Êù•„ÄÇ ÊØè‰∏™‰∫ãÁâ©ÁöÑËØûÁîüÊúâ‰ªñÁöÑÂéÜÂè≤‰ΩøÂëΩÔºåÊõ¥ÊúâÂÖ∂ÂéÜÂè≤ÊàêÂõ†Ôºå‰øÉËøõÂÖ∂Ë¢´ÈÇ£‰∫õÊé¢Á¥¢ÁöÑÂÖàÈ©±‰ª¨ÊâÄÂèëÁé∞„ÄÇ‰∫ÜËß£nodejsÊàñËÄÖÁÜüÊÇâÊµèËßàÂô®ÁöÑ‰∫∫ÈÉΩÁü•ÈÅìÔºåJavaScriptÂºïÊìéÊòØÂü∫‰∫é‰∫ã‰ª∂Âæ™ÁéØÊàñÂçïÁ∫øÁ®ãËøô‰∏§‰∏™ÁâπÊÄßÁöÑ„ÄÇÊõ¥‰∏∫ÁîöËÄÖÂú®ÊµèËßàÂô®‰∏≠ÔºåÊõ¥Êñ∞UI(‰πüÂ∞±ÊòØÊµèËßàÂô®ÈáçÁªò„ÄÅÈáçÊãçÈ°µÈù¢Â∏ÉÂ±Ä)ÂíåÊâßË°åJavaScript‰ª£Á†Å‰πüÂú®‰∏Ä‰∏™ÂçïÁ∫øÁ®ã‰∏≠ÔºåÂèØÊÉ≥ËÄåÁü•Ôºå‰∏Ä‰∏™Á∫øÁ®ãÂ∞±Áõ∏ÂΩì‰∫éÂè™Êúâ‰∏ÄÊù°È©¨Ë∑ØÔºåÂ¶ÇÊûú‰∏ÄËæÜÈ©¨ËΩ¶ÊäõÈîöÂú®Ë∑Ø‰∏ä‰∫ÜÈòªÂ°û‰∫ÜÈ©¨Ë∑ØÔºåÈÇ£‰πàÂà´ÁöÑÈ©¨ËΩ¶‰πüÂ∞±Êã•Â†µÂú®‰∫ÜÈÇ£ÂÑøÔºåËøô‰∏™ÂçïÁ∫øÁ®ãÂÆπÊòìË¢´ÈòªÂ°ûÊòØ‰∏Ä‰∏™ÈÅìÁêÜÔºåÂçïÁ∫øÁ®ã‰πüÂè™ËÉΩÂÖÅËÆ∏Êüê‰∏ÄÊó∂Èó¥ÁÇπÂè™ËÉΩÂ§üÊâßË°å‰∏ÄÊÆµ‰ª£Á†Å„ÄÇÂêåÊó∂ÔºåJavaScriptÊ≤°ÊúâÊÉ≥ÂÆÉÁöÑÂì•Âì•ÂßêÂßê‰ª¨ÈÇ£‰πàË¥¢Â§ßÊ∞îÁ≤óÔºåÂÉèJavaÊàñËÄÖC++Ôºå‰∏Ä‰∏™Á∫øÁ®ã‰∏çÂ§üÔºåÈÇ£‰πàÂÜçÂä†‰∏Ä‰∏™Á∫øÁ®ãÔºåËøôÊ†∑Â∞±ËÉΩÂ§üÂêåÊó∂ÊâßË°åÂ§öÊÆµ‰ª£Á†Å‰∫ÜÔºå‰ΩÜÊòØËøôÊ†∑Â∞±‰ºöÂ∏¶Êù•ÁöÑÈöêÊÇ£Â∞±ÊòØÁä∂ÊÄÅ‰∏çÂÆπÊòìÁª¥Êä§ÔºåJavaScriptÈÄâÊã©‰∫ÜÂçïÁ∫øÁ®ãÈùûÈòªÂ°ûÂºèÁöÑÊñπÂºèÔºå‰πüÂ∞±ÊòØÂºÇÊ≠•ÁºñÁ®ãÁöÑÊñπÂºèÔºåÂ∞±ÂÉè‰∏äÈù¢ÁöÑÈ©¨ËΩ¶ÊäõÈîöÂú®‰∫ÜË∑Ø‰∏äÔºåÈÇ£‰πàÊääÈ©¨ËΩ¶Êé®Âà∞Ë∑ØËæπÁöÑÁª¥‰øÆÁ´ôÔºåËÆ©ÂÖ∂‰ªñÈ©¨ËΩ¶ÂÖàËøáÂéªÔºåÁ≠âÈ©¨ËΩ¶‰øÆÂ•Ω‰∫ÜÂÜçÂõûÂà∞È©¨Ë∑Ø‰∏äÁªßÁª≠Ë°åÈ©∂ÔºåËøôÂ∞±ÊòØÂçïÁ∫øÁ®ãÈùûÈòªÂ°ûÊñπÂºè„ÄÇÊ≠£Â¶ÇPromiseÁöÑÂ∑•‰ΩúÊñπÂºè‰∏ÄÊ†∑ÔºåÈÄöËøáPromiseÂéªÂêëÊúçÂä°Âô®ÂèëËµ∑‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÊØïÁ´üËØ∑Ê±ÇÊúâÁΩëÁªúÂºÄÈîÄÔºå‰∏çÂèØËÉΩÈ©¨‰∏äÂ∞±ËøîÂõûËØ∑Ê±ÇÁªìÊûúÁöÑÔºåËøô‰∏™Êó∂ÂÄôPromiseÂ∞±Â§Ñ‰∫épendingÁä∂ÊÄÅÔºå‰ΩÜÊòØÂÖ∂Âπ∂‰∏ç‰ºöÈòªÂ°ûÂÖ∂‰ªñ‰ª£Á†ÅÁöÑÊâßË°åÔºåÂΩìËØ∑Ê±ÇËøîÂõûÊó∂Ôºå‰øÆÊîπPromiseÁä∂ÊÄÅ‰∏∫fulfilledÊàñËÄÖrejectedÔºàÂ§±Ë¥•ËØ∑Ê±ÇÔºâ„ÄÇÂêåÊó∂ÊâßË°åÁªëÂÆöÂà∞Ëøô‰∏§‰∏™Áä∂ÊÄÅ‰∏äÈù¢ÁöÑ‚ÄúÂ§ÑÁêÜÂáΩÊï∞‚Äù„ÄÇËøôÂ∞±ÊòØÂºÇÊ≠•ÁºñÁ®ãÁöÑÊ®°ÂºèÔºå‰πüÂ∞±ÊòØPromiseÂÖ¢ÂÖ¢‰∏ö‰∏öÁöÑÂ∑•‰ΩúÊñπÂºèÔºåÂú®‰∏ãÈù¢‰∏Ä‰∏™ÈÉ®ÂàÜÂ∞ÜËØ¶ÁªÜËÆ®ËÆ∫Promise„ÄÇ ‰∫å„ÄÅPromiseÂü∫Á°ÄÊÄé‰πà‰∏ÄÂè•ËØùËß£ÈáäPromiseÂë¢ÔºüPromiseÂèØ‰ª•‰ª£ÊåáÈÇ£‰∫õÂ∞öÊú™ÂÆåÊàêÁöÑ‰∏Ä‰∫õÊìç‰ΩúÔºå‰ΩÜÊòØÂÖ∂Âú®Êú™Êù•ÁöÑÊüê‰∏™Êó∂Èó¥‰ºöËøîÂõûÊüê‰∏ÄÁâπÂÆöÁöÑÁªìÊûú„ÄÇ ÂΩìÂàõÂª∫‰∏Ä‰∏™PromiseÂÆû‰æãÂêéÔºåÂÖ∂‰ª£Ë°®‰∏Ä‰∏™Êú™Áü•ÁöÑÂÄºÔºåÂú®Â∞ÜÊù•ÁöÑÊüê‰∏™Êó∂Èó¥‰ºöËøîÂõû‰∏Ä‰∏™ÊàêÂäüÁöÑËøîÂõûÂÄºÔºåÊàñËÄÖÂ§±Ë¥•ÁöÑËøîÂõûÂÄºÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫Ëøô‰∫õËøîÂõûÂÄºÊ∑ªÂä†Â§ÑÁêÜÂáΩÊï∞ÔºåÂΩìÂÄºËøîÂõûÊó∂ÔºåÂ§ÑÁêÜÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇPromiseÊÄªÊòØÂ§Ñ‰∫é‰∏ãÈù¢‰∏âÁßçÁä∂ÊÄÅ‰πã‰∏ÄÔºö pendingÔºö PromiseÁöÑÂàùÂßãÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØÊú™Ë¢´fulfilledÊàñËÄÖrejectedÁöÑÁä∂ÊÄÅ„ÄÇ fulfilledÔºö ÊÑèÂë≥ÁùÄpromise‰ª£ÊåáÁöÑÊìç‰ΩúÂ∑≤ÁªèÊàêÂäüÂÆåÊàê„ÄÇ rejectedÔºöÊÑèÂë≥ÁùÄpromise‰ª£ÊåáÁöÑÊìç‰ΩúÁî±‰∫éÊüê‰∫õÂéüÂõ†Â§±Ë¥•„ÄÇ ‰∏Ä‰∏™Â§Ñ‰∫épendingÁä∂ÊÄÅÁöÑpromiseÂèØËÉΩÁî±‰∫éÊüê‰∏™ÊàêÂäüËøîÂõûÂÄºËÄåÂèëÂ±ï‰∏∫fulfilledÁä∂ÊÄÅÔºå‰πüÊúâÂèØËÉΩÂõ†‰∏∫Êüê‰∫õÈîôËØØËÄåËøõÂÖ•rejectedÁä∂ÊÄÅÔºåÊó†ËÆ∫ÊòØËøõÂÖ•fulfilledÁä∂ÊÄÅÊàñËÄÖrejectedÁä∂ÊÄÅÔºåÁªëÂÆöÂà∞Ëøô‰∏§ÁßçÁä∂ÊÄÅ‰∏äÈù¢ÁöÑÂ§ÑÁêÜÂáΩÊï∞Â∞±‰ºöË¢´ÊâßË°å„ÄÇÂπ∂‰∏îËøõÂÖ•fulfilledÊàñËÄÖrejectedÁä∂ÊÄÅ‰πüÂ∞±‰∏çËÉΩÂÜçËøîÂõûpendingÁä∂ÊÄÅ‰∫Ü„ÄÇ ‰∏â„ÄÅËæπÂ≠¶ËæπÂÜô‰∏äÈù¢ËØ¥‰∫ÜÈÇ£‰πàÂ§öÔºåÂÖ∂ÂÆûÈÉΩÊòØÈì∫Âû´„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨Â∞±ÂºÄÂßãÂÆûÁé∞Ëá™Â∑±ÁöÑPromiseÂØπË±°„ÄÇgo go goÔºÅÔºÅÔºÅ Á¨¨‰∏ÄÊ≠•ÔºöPromiseÊûÑÈÄ†ÂáΩÊï∞PromiseÊúâ‰∏âÁßçÁä∂ÊÄÅÔºåpending„ÄÅfulfilled„ÄÅrejected„ÄÇ const PENDING = &apos;PENDING&apos; // Promise ÁöÑ ÂàùÂßãÁä∂ÊÄÅ const FULFILLED = &apos;FULFILLED&apos; // Promise ÊàêÂäüËøîÂõûÂêéÁöÑÁä∂ÊÄÅ const REJECTED = &apos;REJECTED&apos; // Promise Â§±Ë¥•ÂêéÁöÑÁä∂ÊÄÅ Êúâ‰∫Ü‰∏âÁßçÁä∂ÊÄÅÂêéÔºåÈÇ£‰πàÊàë‰ª¨ÊÄé‰πàÂàõÂª∫‰∏Ä‰∏™PromiseÂÆû‰æãÂë¢Ôºü const promise = new Promise(executor) // ÂàõÂª∫PromiseÁöÑËØ≠Ê≥ï ÈÄöËøá‰∏äÈù¢ÁîüÊàêpromiseËØ≠Ê≥ïÊàë‰ª¨Áü•ÈÅìÔºåPromiseÂÆû‰æãÊòØË∞ÉÁî®PromiseÊûÑÈÄ†ÂáΩÊï∞ÈÄöËøánewÊìç‰ΩúÁ¨¶ÁîüÊàêÁöÑ„ÄÇËøô‰∏™ÊûÑÈÄ†ÂáΩÊï∞Êàë‰ª¨ÂèØ‰ª•ÂÖàËøôÊ†∑ÂÜôÔºö class Promise { constructor(executor) { this.status = PENDING // ÂàõÂª∫‰∏Ä‰∏™promiseÊó∂ÔºåÈ¶ñÂÖàËøõË°åÁä∂ÊÄÅÂàùÂßãÂåñ„ÄÇpending this.result = undefined // resultÂ±ûÊÄßÁî®Êù•ÁºìÂ≠òpromiseÁöÑËøîÂõûÁªìÊûúÔºåÂèØ‰ª•ÊòØÊàêÂäüÁöÑËøîÂõûÁªìÊûúÔºåÊàñÂ§±Ë¥•ÁöÑËøîÂõûÁªìÊûú } } Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÊûÑÈÄ†ÂáΩÊï∞Êé•ÂèóÁöÑÂèÇÊï∞executor„ÄÇÂÆÉÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂπ∂‰∏îÊé•ÂèóÂÖ∂‰ªñ‰∏§‰∏™ÂáΩÊï∞ÔºàresolveÂíårejectÔºâ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂΩìresolveÂáΩÊï∞Ë∞ÉÁî®ÂêéÔºåpromiseÁöÑÁä∂ÊÄÅËΩ¨Âåñ‰∏∫fulfilledÔºåÂπ∂‰∏îÊâßË°åÊàêÂäüËøîÂõûÁöÑÂ§ÑÁêÜÂáΩÊï∞Ôºà‰∏çÁî®ÁùÄÊÄ•ÂêéÈù¢‰ºöËØ¥Âà∞ÊÄé‰πàÊ∑ªÂä†Â§ÑÁêÜÂáΩÊï∞Ôºâ„ÄÇÂΩìrejectÂáΩÊï∞Ë∞ÉÁî®ÂêéÔºåpromiseÁä∂ÊÄÅËΩ¨Âåñ‰∏∫rejectedÔºåÂπ∂‰∏îÊâßË°åÂ§±Ë¥•ËøîÂõûÁöÑÂ§ÑÁêÜÂáΩÊï∞„ÄÇ Áé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†ÅÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö class Promise { constructor(executor) { this.status = PENDING this.result = undefined executor(data =&gt; resolveProvider(this, data), err =&gt; rejectProvider(this, err)) } } function resolveProvider(promise, data) { if (promise.status !== PENDING) return false promise.status = FULFILLED } function rejectProvider(promise, data) { if (promise.status !== PENDING) return false promise.status = FULFILLED } Dont Repeat YourseltÔºÅÔºÅÔºÅÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢‰ª£Á†ÅÂêéÈù¢‰∏§‰∏™ÂáΩÊï∞Âü∫Êú¨Áõ∏ÂêåÔºåÂÖ∂ÂÆûÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÊï¥ÂêàÊàê‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂú®ÁªìÂêàÈ´òÈò∂ÂáΩÊï∞ÁöÑ‰ΩøÁî®„ÄÇ const statusProvider = (promise, status) =&gt; data =&gt; { if (promise.status !== PENDING) return false promise.status = status promise.result = data } class Promise { constructor(executor) { this.status = PENDING this.result = undefined executor(statusProvider(this, FULFILLED), statusProvider(this, REJECTED)) } } Áé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†ÅÂ∞±Áúã‰∏äÂéªÁÆÄÊ¥ÅÂ§ö‰∫Ü„ÄÇ Á¨¨‰∫åÊ≠•Ôºö‰∏∫PromiseÊ∑ªÂä†Â§ÑÁêÜÂáΩÊï∞ÂÖ∂ÂÆûÈÄöËøá new Promise(executor)Â∑≤ÁªèÂèØ‰ª•ÁîüÊàê‰∏Ä‰∏™PromiseÂÆû‰æã‰∫ÜÔºåÁîöËá≥Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰º†ÈÄíÂà∞executor‰∏≠ÁöÑresolveÂíårejectÊñπÊ≥ïÊù•ÊîπÂèòpromiseÁä∂ÊÄÅÔºå‰ΩÜÊòØÔºÅÁé∞Âú®ÁöÑpromise‰æùÁÑ∂Ê≤°Âï•ÂçµÁî®ÔºÅÔºÅÔºÅÂõ†‰∏∫Êàë‰ª¨Âπ∂Ê≤°ÊúâÁªôÂÆÉÊ∑ªÂä†ÊàêÂäüÂíåÂ§±Ë¥•ËøîÂõûÁöÑÂ§ÑÁêÜÂáΩÊï∞„ÄÇ È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÁªôÊàë‰ª¨ÁöÑpromiseÂ¢ûÂä†‰∏§‰∏™Â±ûÊÄßÔºåsuccessListenerÂíåfailureListenerÁî®Êù•ÂàÜÂà´ÁºìÂ≠òÊàêÂäüÂ§ÑÁêÜÂáΩÊï∞ÂíåÂ§±Ë¥•Â§ÑÁêÜÂáΩÊï∞„ÄÇ class Promise { constructor(executor) { this.status = PENDING this.successListener = [] this.failureListener = [] this.result = undefined executor(statusProvider(this, FULFILLED), statusProvider(this, REJECTED)) } } ÊÄé‰πàÊ∑ªÂä†Â§ÑÁêÜÂáΩÊï∞Âë¢ÔºüECMASCRIPTÊ†áÂáÜ‰∏≠ËØ¥Âà∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøápromiseÂéüÂûã‰∏äÈù¢ÁöÑthenÊñπÊ≥ï‰∏∫promiseÊ∑ªÂä†ÊàêÂäüÂ§ÑÁêÜÂáΩÊï∞ÂíåÂ§±Ë¥•Â§ÑÁêÜÂáΩÊï∞ÔºåÂèØ‰ª•ÈÄöËøácatchÊñπÊ≥ï‰∏∫promiseÊ∑ªÂä†Â§±Ë¥•Â§ÑÁêÜÂáΩÊï∞„ÄÇ const statusProvider = (promise, status) =&gt; data =&gt; { if (promise.status !== PENDING) return false promise.status = status promise.result = data switch(status) { case FULFILLED: return promise.successListener.forEach(fn =&gt; fn(data)) case REJECTED: return promise.failurelistener.forEach(fn =&gt; fn(data)) } } class Promise { constructor(executor) { this.status = PENDING this.successListener = [] this.failurelistener = [] this.result = undefined executor(statusProvider(this, FULFILLED), statusProvider(this, REJECTED)) } /** * PromiseÂéüÂûã‰∏äÈù¢ÁöÑÊñπÊ≥ï */ then(...args) { switch (this.status) { case PENDING: { this.successListener.push(args[0]) this.failurelistener.push(args[1]) break } case FULFILLED: { args[0](this.result) break } case REJECTED: { args[1](this.result) } } } catch(arg) { return this.then(undefined, arg) } } Êàë‰ª¨Áé∞Âú®ÁöÑPromiseÂü∫Êú¨ÂàùÂÖ∑ÈõèÂΩ¢‰∫Ü„ÄÇÁîöËá≥ÂèØ‰ª•ËøêÁî®Âà∞‰∏Ä‰∫õÁÆÄÂçïÁöÑÂú∫ÊôØ‰∏≠‰∫Ü„ÄÇ‰∏æ‰∏™‰æãÂ≠ê„ÄÇ /*ÂàõÂª∫‰∏Ä‰∏™Âª∂Êó∂resolveÁöÑpormise*/ new Promise((resolve, reject) =&gt; {setTimeout(() =&gt; resolve(5), 2000)}).then(data =&gt; console.log(data)) // 5 /*ÂàõÂª∫‰∏Ä‰∏™ÂèäÊó∂resolveÁöÑpromise*/ new Promise((resolve, reject) =&gt; resolve(5)).then(data =&gt; console.log(data)) // 5 /*ÈìæÂºèË∞ÉÁî®thenÊñπÊ≥ïËøò‰∏çËÉΩÂ§ü‰ΩøÁî®ÔºÅ*/ new Promise(resolve=&gt; resolve(5)).then(data =&gt; data).then(data =&gt; console.log(data)) // Uncaught TypeError: Cannot read property &apos;then&apos; of undefined Á¨¨‰∏âÊ≠•ÔºöPromiseÁöÑÈìæÂºèË∞ÉÁî®PromiseÈúÄË¶ÅÂÆûÁé∞ÈìæÂºèË∞ÉÁî®ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÜçÊ¨°ÂõûÈ°æ‰∏ãthenÊñπÊ≥ïÁöÑÂÆö‰πâÔºö thenÊñπÊ≥ï‰∏∫pormiseÊ∑ªÂä†ÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÂ§ÑÁêÜÂáΩÊï∞ÔºåÂêåÊó∂thenÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑpromiseÂØπË±°ÔºåËøô‰∏™Êñ∞ÁöÑpromiseÂØπË±°resolveÂ§ÑÁêÜÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºåÊàñËÄÖÂΩìÊ≤°ÊúâÊèê‰æõÂ§ÑÁêÜÂáΩÊï∞Êó∂Áõ¥Êé•resolveÂéüÂßãÁöÑÂÄº„ÄÇ ÂèØ‰ª•ÁúãÂá∫ÔºåpromiseËÉΩÂ§üÈìæÂºèË∞ÉÁî®ÂΩíÂäü‰∫éthenÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑpromiseÔºåÂπ∂‰∏îresolveÂ§ÑÁêÜÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºåÂΩìÁÑ∂ÔºåÂ¶ÇÊûúthenÊñπÊ≥ïÁöÑÂ§ÑÁêÜÂáΩÊï∞Êú¨Ë∫´Â∞±ËøîÂõû‰∏Ä‰∏™promiseÔºåÈÇ£‰πà‰πÖ‰∏çÁî®Êàë‰ª¨Ëá™Â∑±ÊâãÂä®ÁîüÊàê‰∏Ä‰∏™promise‰∫Ü„ÄÇ‰∫ÜËß£‰∫ÜËøô‰∫õÔºåÂ∞±ÂºÄÂßãÂä®ÊâãÂÜô‰ª£Á†Å‰∫Ü„ÄÇ const isPromise = object =&gt; object &amp;&amp; object.then &amp;&amp; typeof object.then === &apos;function&apos; const noop = () =&gt; {} const statusProvider = (promise, status) =&gt; data =&gt; { // Âêå‰∏äÈù¢‰ª£Á†Å } class Promise { constructor(executor) { // Âêå‰∏äÈù¢‰ª£Á†Å } then(...args) { const child = new this.constructor(noop) const handler = fn =&gt; data =&gt; { if (typeof fn === &apos;function&apos;) { const result = fn(data) if (isPromise(result)) { Object.assign(child, result) } else { statusProvider(child, FULFILLED)(result) } } else if(!fn) { statusProvider(child, this.status)(data) } } switch (this.status) { case PENDING: { this.successListener.push(handler(args[0])) this.failurelistener.push(handler(args[1])) break } case FULFILLED: { handler(args[0])(this.result) break } case REJECTED: { handler(args[1])(this.result) break } } return child } catch(arg) { return this.then(undefined, arg) } } È¶ñÂÖàÊàë‰ª¨ÂÜô‰∫Ü‰∏Ä‰∏™isPromiseÊñπÊ≥ïÔºåÁî®‰∫éÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊòØpromise„ÄÇÂ∞±ÊòØÂà§Êñ≠ÂØπË±°ÊòØÂê¶Êúâ‰∏Ä‰∏™thenÊñπÊ≥ïÔºåÂÖçË¥£Â£∞Êòé‰∏∫‰∫ÜÂÆûÁé∞‰∏äÁöÑÁÆÄÂçïÔºåÊàë‰ª¨‰∏çÂå∫ÂàÜthenableÂíåpromiseÁöÑÂå∫Âà´Ôºå‰ΩÜÊòØÊàë‰ª¨Â∫îËØ•ÊòØÁü•ÈÅì„ÄÇÊâÄÊúâÁöÑpromiseÈÉΩÊòØthenableÁöÑÔºåËÄåÂπ∂‰∏çÊòØÊâÄÊúâÁöÑthenableÂØπË±°ÈÉΩÊòØpromise„ÄÇÔºàthenableÂØπË±°ÊòØÊåáÂ∏¶Êúâ‰∏Ä‰∏™thenÊñπÊ≥ïÁöÑÂØπË±°ÔºåËØ•thenÊñπÊ≥ïÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™executor„ÄÇÔºâisPromiseÁöÑ‰ΩúÁî®Â∞±ÊòØÁî®‰∫éÂà§Êñ≠thenÊñπÊ≥ïËøîÂõûÂÄºÊòØÂê¶ÊòØ‰∏Ä‰∏™promiseÔºåÂ¶ÇÊûúÊòØpromiseÔºåÂ∞±Áõ¥Êé•ËøîÂõûËØ•promiseÔºåÂ¶ÇÊûú‰∏çÊòØÔºåÂ∞±Êñ∞ÁîüÊàê‰∏Ä‰∏™promiseÂπ∂ËøîÂõûËØ•promise„ÄÇ Áî±‰∫éÈúÄË¶ÅÈìæÂºèË∞ÉÁî®ÔºåÊàë‰ª¨ÂØπsuccessListenerÂíåfailureListener‰∏≠Â§ÑÁêÜÂáΩÊï∞ËøõË°å‰∫ÜÈáçÂÜôÔºåÂπ∂‰∏çÊòØÁõ¥Êé•pushËøõÂéªthenÊñπÊ≥ïÊé•ÂèóÁöÑÂèÇÊï∞ÂáΩÊï∞‰∫ÜÔºåÂõ†‰∏∫thenÊñπÊ≥ïÈúÄË¶ÅËøîÂõû‰∏Ä‰∏™promiseÔºåÊâÄ‰ª•ÂΩìthenÊñπÊ≥ïÈáåÈù¢ÁöÑÂ§ÑÁêÜÂáΩÊï∞Ë¢´ÊâßË°åÁöÑÂêåÊó∂ÔºåÊàë‰ª¨‰πüÈúÄË¶ÅÂØπthenÊñπÊ≥ïËøîÂõûÁöÑËøô‰∏™promiseËøõË°åÂ§ÑÁêÜÔºåË¶Å‰πàresolveÔºåË¶Å‰πàrejectÊéâ„ÄÇÂΩìÁÑ∂ÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµÈÉΩÊòØÈúÄË¶ÅresolveÊéâÁöÑÔºåÂè™ÊúâÂΩìthenÊñπÊ≥ïÊ≤°ÊúâÊ∑ªÂä†Á¨¨‰∫å‰∏™ÂèÇÊï∞ÂáΩÊï∞ÔºåÂêåÊó∂Ë∞ÉÁî®thenÊñπÊ≥ïÁöÑpromiseÂ∞±ÊòØrejectedÁöÑÊó∂ÂÄôÔºåÊâçÈúÄË¶ÅÊääthenÊñπÊ≥ïËøîÂõûÁöÑpormiseËøõË°årejectÂ§ÑÁêÜÔºå‰πüÂ∞±ÊòØË∞ÉÁî®statusProvider(child, REJECTED)(data). toy PromiseÂÆûÁé∞ÁöÑÂÆåÊï¥‰ª£Á†ÅÔºö const PENDING = &apos;PENDING&apos; // Promise ÁöÑ ÂàùÂßãÁä∂ÊÄÅ const FULFILLED = &apos;FULFILLED&apos; // Promise ÊàêÂäüËøîÂõûÂêéÁöÑÁä∂ÊÄÅ const REJECTED = &apos;REJECTED&apos; // Promise Â§±Ë¥•ÂêéÁöÑÁä∂ÊÄÅ const isPromise = object =&gt; object &amp;&amp; object.then &amp;&amp; typeof object.then === &apos;function&apos; const noop = () =&gt; {} const statusProvider = (promise, status) =&gt; data =&gt; { if (promise.status !== PENDING) return false promise.status = status promise.result = data switch(status) { case FULFILLED: return promise.successListener.forEach(fn =&gt; fn(data)) case REJECTED: return promise.failurelistener.forEach(fn =&gt; fn(data)) } } class Promise { constructor(executor) { this.status = PENDING this.successListener = [] this.failurelistener = [] this.result = undefined executor(statusProvider(this, FULFILLED), statusProvider(this, REJECTED)) } /** * PromiseÂéüÂûã‰∏äÈù¢ÁöÑÊñπÊ≥ï */ then(...args) { const child = new this.constructor(noop) const handler = fn =&gt; data =&gt; { if (typeof fn === &apos;function&apos;) { const result = fn(data) if (isPromise(result)) { Object.assign(child, result) } else { statusProvider(child, FULFILLED)(result) } } else if(!fn) { statusProvider(child, this.status)(data) } } switch (this.status) { case PENDING: { this.successListener.push(handler(args[0])) this.failurelistener.push(handler(args[1])) break } case FULFILLED: { handler(args[0])(this.result) break } case REJECTED: { handler(args[1])(this.result) break } } return child } catch(arg) { return this.then(undefined, arg) } } Âõõ„ÄÅÊÄé‰πàËÆ©Êàë‰ª¨ÁöÑtoy PromiseÂèòÂº∫ÂÅ• Âú®ECMAScriptÊ†áÂáÜ‰∏≠ÔºåPromiseÊûÑÈÄ†ÂáΩÊï∞‰∏äÈù¢ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÈùôÊÄÅÊñπÊ≥ïÔºåÊØîÂ¶ÇPromise.resolve„ÄÅPromise.reject„ÄÅPromsie.all„ÄÅPromise.race„ÄÇÂΩìÊàë‰ª¨Êúâ‰∫Ü‰∏äÈù¢ÁöÑÂü∫Á°ÄÂÆûÁé∞ÂêéÔºå‰∏∫Êàë‰ª¨ÁöÑtoy PromiseÊ∑ªÂä†‰∏äÈù¢Ëøô‰∫õÊñ∞ÁöÑÂäüËÉΩ‰∏ÄÂÆöËÉΩËÆ©ÂÖ∂Êõ¥Âä†ÂÆûÁî®„ÄÇ Âú®Êàë‰ª¨ÁöÑÂü∫Êú¨ÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨Âπ∂Ê≤°ÊúâÂå∫ÂàÜthenableÂØπË±°ÔºåÂÖ∂ÂÆûPromise.resolveÂíåthenÊñπÊ≥ïÈÉΩÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™thenableÂØπË±°ÔºåÂπ∂ÊääËØ•thenableÂØπË±°ËΩ¨Âåñ‰∏∫‰∏Ä‰∏™promiseÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êàë‰ª¨ÁöÑtoy PromiseÁî®‰∫éÁîü‰∫ßÁöÑËØùÔºåËøô‰πüÊòØË¶ÅËÄÉËôëÁöÑ„ÄÇ ‰∏∫‰∫ÜËÆ©Êàë‰ª¨ÁöÑtoy PromiseÂèòÂæóÊõ¥Âº∫Â£ÆÔºåÊàë‰ª¨ÈúÄË¶ÅÊã•ÊúâÂº∫ÂÅ•ÁöÑÈîôËØØÂ§ÑÁêÜÊú∫Âà∂ÔºåÊØîÂ¶ÇÈ™åËØÅexecutorÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÅthenÊñπÊ≥ïÁöÑÂèÇÊï∞Âè™ËÉΩÊòØÂáΩÊï∞ÊàñËÄÖundefinedÊàñnullÔºåÂèàÊØîÂ¶ÇexecutorÂíåthenÊñπÊ≥ï‰∏≠ÊäõÂá∫ÁöÑÈîôËØØÂπ∂‰∏çËÉΩÂ§üË¢´window.onerrorÁõëÊµãÂà∞ÔºåËÄåÂè™ËÉΩÂ§üÈÄöËøáÈîôËØØÂ§ÑÁêÜÂáΩÊï∞Êù•Â§ÑÁêÜÔºåËøô‰πüÊòØÈúÄË¶ÅËÄÉËôëÁöÑÂõ†Á¥†„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÁöÑPromise polyfillÊòØËÄÉËôëÊîØÊåÅÂ§öÂπ≥Âè∞ÔºåÈÇ£‰πàÈ¶ñË¶ÅËÄÉËôëÁöÑÂ∞±ÊòØÊµèËßàÂô®ÁéØÂ¢ÉÊàñNode.jsÁéØÂ¢ÉÔºåÂÖ∂ÂÆûÂú®Ëøô‰∏§‰∏™Âπ≥Âè∞ÔºåÂéüÁîüPromiseÈÉΩÊòØÊîØÊåÅ‰∏§‰∏™‰∫ã‰ª∂ÁöÑ„ÄÇÂ∞±ÊãøÊµèËßàÂô®Á´Ø‰∏æ‰æãÔºö unhandledrejection: Âú®‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØ‰∏≠ÔºåÂ¶ÇÊûúÊàë‰ª¨Ê≤°ÊúâÂØπpromiseËøîÂõûÁöÑÈîôËØØËøõË°åÂ§ÑÁêÜÔºåÈÇ£‰πàÂ∞±‰ºöÂú®windowÂØπË±°‰∏äÈù¢Ëß¶ÂèëËØ•‰∫ã‰ª∂„ÄÇ rejectionhandled:Â¶ÇÊûúÂú®‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÂêéÔºåÊàë‰ª¨ÊâçÂéªÂØπpromiseËøîÂõûÁöÑÈîôËØØËøõË°åÂ§ÑÁêÜÔºåÈÇ£‰πàÂ∞±‰ºöÂú®windowÂØπË±°‰∏äÈù¢ÁõëÂê¨Âà∞Ê≠§‰∫ã‰ª∂„ÄÇ ÂÖ≥‰∫éËøô‰∏§‰∏™‰∫ã‰ª∂‰ª•Âèänode.jsÂπ≥Âè∞‰∏äÈù¢Á±ª‰ººÁöÑ‰∫ã‰ª∂ËØ∑ÂèÇËÄÉNicholas C. ZakasÊñ∞‰π¶ PromiseËÉΩÂ§üÂæàÊ£íÁöÑÂ§ÑÁêÜÂºÇÊ≠•ÁºñÁ®ãÔºåË¶ÅÊÉ≥Â≠¶Â•ΩÂÆÉÊàëËÆ§‰∏∫ÊúÄÂ•ΩÁöÑÊñπÊ≥ïÂ∞±ÊòØ‰∫≤Ëá™Âä®ÊâãÂéªÂÆûÁé∞‰∏Ä‰∏™Ëá™Â∑±ÁöÑPromise„ÄÇ ÂÆåÊï¥codeÔºö /** * 2016.09.19 */ const PENDING = &apos;PENDING&apos; // Promise ÁöÑÂàùÂßãÁä∂ÊÄÅ const FULFILLED = &apos;FULFILLED&apos; // Promise ÊàêÂäüËøîÂõûÂêéÁöÑÁä∂ÊÄÅ const REJECTED = &apos;REJECTED&apos; // Promise Â§±Ë¥•ÂêéÁöÑÁä∂ÊÄÅ const isThenable = data =&gt; data &amp;&amp; data.then &amp;&amp; typeof data.then === &apos;function&apos; const isPromise = object =&gt; isThenable(object) &amp;&amp; (&apos;catch&apos; in object) &amp;&amp; typeof object.catch === &apos;function&apos; const noop = () =&gt; {} const range = n =&gt; n === 0 ? [] : [n, ...range(n - 1)] // resolve function const statusProvider = (promise, status) =&gt; data =&gt; { if (promise.status !== PENDING) return false promise.status = status promise.result = data promise.listeners[status].forEach(fn =&gt; fn(data)) } class APromise { constructor(executor) { if (typeof executor !== &apos;function&apos;) { throw new TypeError(`Promise resolver ${executor.toString()} is not a function`) } this.status = PENDING this.listeners = { FULFILLED: [], REJECTED: [] } this.result = undefined try { executor(statusProvider(this, FULFILLED), statusProvider(this, REJECTED)) } catch (e) { statusProvider(this, REJECTED)(e) } } // prototype method then(...args) { const child = new this.constructor(noop) const handler = fn =&gt; data =&gt; { if (typeof fn === &apos;function&apos;) { try { const result = fn(data) if (isThenable(result)) { isPromise(result) ? Object.assign(child, result) : Object.assign(child, new this.constructor(result.then)) } else { statusProvider(child, FULFILLED)(result) } } catch (e) { statusProvider(child, REJECTED)(e) } } else if (!fn) { statusProvider(child, this.status)(data) } } switch (this.status) { case PENDING: { this.listeners[FULFILLED].push(handler(args[0])) this.listeners[REJECTED].push(handler(args[1])) break } case FULFILLED: { handler(args[0])(this.result) break } case REJECTED: { handler(args[1])(this.result) break } } return child } catch(arg) { return this.then(undefined, arg) } } APromise.resolve = data =&gt; { if (isPromise(data)) return data return isThenable(data) ? new APromise(data.then) : new APromise((resolve, reject) =&gt; resolve(data)) } APromise.reject = err =&gt; new APromise((resolve, reject) =&gt; reject(err)) APromise.all = promises =&gt; { const length = promises.length const result = new APromise(noop) let count = 0 const values = range(length) promises.forEach((p, i) =&gt; { p.then(data =&gt; { values[i] = data count++ if (count === length) statusProvider(result, FULFILLED)(values) }, statusProvider(result, REJECTED)) }) return result } APromise.race = promises =&gt; { const result = new APromise(noop) promises.forEach((p, i) =&gt; { p.then(statusProvider(result, FULFILLED), statusProvider(result, REJECTED)) }) return result } export default APromise]]></content>
      <tags>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÁ±ªÂûãÂà§Êñ≠]]></title>
    <url>%2F2017%2F02%2F03%2FJS%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%2F</url>
    <content type="text"><![CDATA[ÂÖàÁúãtypeof&lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;&quot; &gt;&lt;/script&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; var a; console.log(&quot;1:&quot; + typeof a); var b = null; console.log(&quot;2:&quot; + typeof b); var c = undefined; console.log(&quot;3:&quot; + typeof c); var d = new Object; console.log(&quot;4:&quot; + typeof d); var e = function() {}; console.log(&quot;5:&quot; + typeof e); var f = {}; console.log(&quot;6:&quot; + typeof f); var g = &apos;&apos;; console.log(&quot;7:&quot; + typeof g); var h = []; console.log(&quot;8:&quot; + typeof h); var i = true; console.log(&quot;9:&quot; + typeof i); var j = 123; console.log(&quot;10:&quot; + typeof j); var k = NaN; console.log(&quot;11:&quot; + typeof k); var l = /^[-+]?\d+$/; console.log(&quot;12:&quot; + typeof l); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; ÊåâÁÖß‰∏äÈù¢ÁöÑÊâìÂç∞ÁªìÊûú,ÊÄªÁªìÂá∫‰∏ãÈù¢Ë¶ÅÊ≥®ÊÑèÁöÑÂá†ÁÇπ typeof (ÂºïÁî®Á±ªÂûã) Èô§‰∫ÜÂáΩÊï∞, ÈÉΩÊòØ ‚Äòobject‚Äô,ÊØîÂ¶Ç typeof /123/ typeof null ‰∏∫‚Äôobject‚Äô typeof undefined ‰∏∫ ‚Äòundefined‚Äô,ÈÄöÂ∏∏, Â¶ÇÊûú‰ΩøÁî®‰∏§Á≠âÂè∑, null == undefined ‰∏∫Áúü. ËΩ¨Êç¢‰∏∫Êï∞Â≠óÁöÑÂ∏∏ËßÅÁî®Ê≥ï ‚Äú10‚Äù-0Êàñ+‚Äù10‚Äù, Â¶ÇÊûúÊ≤°ÊúâËΩ¨Êç¢ÊàêÂäü,ËøîÂõûNaN,Áî±‰∫éNaN ÁöÑ‰∏Ä‰∏™ÁâπÊÄß: NaN != NaN,ÊïÖÂà§Êñ≠ËΩ¨Êç¢ÊàêÂäü‰∏éÂê¶ÁöÑÂ∏∏ËßÅÂÅöÊ≥ï: (Ëøô‰πüÊòØÊàëÂèÇËßÅ jQueryÁöÑÊ∫êÁ†ÅÂèëÁé∞ÁöÑ,jQueryÊ∫êÁ†ÅËØª100ÈÅçÈÉΩ‰∏ç‰∏∫Ëøá) (‚Äú10x‚Äù - 0) == (‚Äú10x‚Äù - 0);// ÁªìÊûú‰∏∫ÂÅá! ÂÜçÁúãÁúãconstructor Âíå instanceofinstanceof Áî®‰∫éÂà§Êñ≠‰∏Ä‰∏™ÂèòÈáèÊòØÂê¶Êüê‰∏™ÂØπË±°ÁöÑÂÆû‰æã,ÊàñÁî®‰∫éÂà§Êñ≠‰∏Ä‰∏™ÂèòÈáèÊòØÂê¶Êüê‰∏™ÂØπË±°ÁöÑÂÆû‰æãÔºõ constructor Áî®‰∫éÂà§Êñ≠‰∏Ä‰∏™ÂèòÈáèÁöÑÂéüÂûãÔºåconstructor Â±ûÊÄßËøîÂõûÂØπÂàõÂª∫Ê≠§ÂØπË±°ÁöÑÊï∞ÁªÑÂáΩÊï∞ÁöÑÂºïÁî®„ÄÇ Javascript‰∏≠ÂØπË±°ÁöÑprototypeÂ±ûÊÄßÁöÑËß£ÈáäÊòØ:ËøîÂõûÂØπË±°Á±ªÂûãÂéüÂûãÁöÑÂºïÁî®„ÄÇ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; console.log(&quot;----------------Number---------------&quot;); var A = 123; console.log(A instanceof Number); //false console.log(A.constructor == Number); //true console.log(A.constructor); console.log(&quot;----------------String---------------&quot;); var B = &quot;javascript&quot;; console.log(B instanceof String); //false console.log(B.constructor == String); //true console.log(B.constructor); console.log(&quot;----------------Boolean---------------&quot;); var C = true; console.log(C instanceof Boolean); //false console.log(C.constructor == Boolean); //true console.log(C.constructor); console.log(&quot;----------------null---------------&quot;); var D = null; console.log(D instanceof Object); //false //console.log(D.constructor == null); //Êä•Èîô //console.log(D.constructor); //Êä•Èîô console.log(&quot;----------------undefined---------------&quot;); var E = undefined; //console.log(E instanceof undefined); // //Êä•Èîô //console.log(E.constructor == undefined); //Êä•Èîô //console.log(E.constructor); //Êä•Èîô console.log(&quot;----------------function---------------&quot;); var F = function() {}; console.log(F instanceof Function); console.log(F.constructor == Function); console.log(F.constructor); console.log(&quot;----------------new function---------------&quot;); function SB() {}; var G = new SB(); console.log(G instanceof SB); console.log(G.constructor == SB); console.log(G.constructor); console.log(&quot;----------------new Object---------------&quot;); var H = new Object; console.log(H instanceof Object); console.log(H.constructor == Object); console.log(H.constructor); console.log(&quot;-----------------Array--------------&quot;); var I = []; console.log(I instanceof Array); console.log(I.constructor == Array); console.log(I.constructor); console.log(&quot;-----------------JSON--------------&quot;); var J = { &quot;good&quot;: &quot;js&quot;, &quot;node&quot;: &quot;very good&quot; }; console.log(J instanceof Object); console.log(J.constructor == Object); console.log(J.constructor); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; ÂÜçÁúãÁúã{}.toString.call(obj)&lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; console.log({}.toString.call(1)); console.log({}.toString.call(&quot;11&quot;)); console.log({}.toString.call(/123/)); console.log({}.toString.call({})); console.log({}.toString.call(function() {})); console.log({}.toString.call([])); console.log({}.toString.call(true)); console.log({}.toString.call(new Date())); console.log({}.toString.call(new Error())); console.log({}.toString.call(null)); console.log({}.toString.call(undefined)); console.log(String(null)); console.log(String(undefined)); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; ‰ΩøÁî®jQuery‰∏≠ÁöÑÊñπÊ≥ï$.type()Áé∞Âú®ÁúãÁúãjQueryÊòØÊÄé‰πàÂÅöÁöÑ // ÂÖàÁî≥Êòé‰∏Ä‰∏™ÂØπË±°,ÁõÆÁöÑÊòØÁî®Êù•ÂÅöÊò†Â∞Ñ var class2type = {}; // Áî≥Êòé‰∏Ä‰∏™core_toString() ÁöÑÊñπÊ≥ï,ÂæóÂà∞ÊúÄÂéüÂßãÁöÑtoString() ÊñπÊ≥ï,Âõ†‰∏∫Âú®ÂæàÂ§öÂØπË±°‰∏≠,toStrintg() Â∑≤ÁªèË¢´ÈáçÂÜô var core_toString() = class2type.toString; // ËøôÈáå‰∏∫ toStrintg() ÂêéÁöÑÁªìÊûúÂíåÁ±ªÂûãÂêçÂÅö‰∏Ä‰∏™Êò†Â∞Ñ,Áî≥Êòé‰∏Ä‰∏™core_toString() ÂêéÁöÑÁªìÊûú,ËÄåÂÄºÂ∞±ÊòØÁ±ªÂûãÂêç jQuery.each(&quot;Boolean Number String Function Array Date RegExp Object Error&quot;.split(&quot; &quot;), function(i, name) { class2type[ &quot;[object &quot; + name + &quot;]&quot; ] = name.toLowerCase(); }); &lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;&quot; &gt;&lt;/script&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; console.log($.type(1)); console.log($.type(&quot;11&quot;)); console.log($.type(/123/)); console.log($.type({})); console.log($.type(function() {})); console.log($.type([])); console.log($.type(true)); console.log($.type(new Date())); console.log($.type(new Error())); console.log($.type(null)); console.log($.type(undefined)); console.log(String(null)); console.log(String(undefined)); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; ‰∏äÈù¢ÁöÑÊâìÂç∞ÁªìÊûú‰∏é class2type[ &quot;[object &quot; + name + &quot;]&quot; ] = name.toLowerCase(); ‰∏çË∞ãËÄåÂêà! ËøôÊòØjQuery.type ÁöÑÊ†∏ÂøÉÊñπÊ≥ï type: function( obj ) { if ( obj == null ) { return String( obj ); } // Support: Safari &lt;= 5.1 (functionish RegExp) return typeof obj === &quot;object&quot; || typeof obj === &quot;function&quot; ? class2type[ core_toString.call(obj) ] || &quot;object&quot; : typeof obj; }, Ê≥®ÊÑè,‰∏∫‰ªÄ‰πàÊää null ÊàñËÄÖ undefined ÂçïÁã¨ËÆ®ËÆ∫Âë¢,Âõ†‰∏∫ Âú®‰∏Ä‰∫õÁâàÊú¨ÊµèËßàÂô®‰∏≠console.log(core_toString.call(null));console.log(core_toString.call(undefined)); ËøôÊòØ‰ºöÊä•ÈîôÁöÑ! Â¶ÇÊûúÊòØÂØπË±°Á±ªÂûã,Âè¶:Áî±‰∫é Âú®‰∏Ä‰∫õ‰ΩéÁâàÊú¨ÁöÑÊµèËßàÂô®‰∏≠,typeof /123/ ‰ºöËøîÂõûÁöÑÊòØ &quot;function&quot; ËÄå‰∏çÊòØ &quot;object&quot;,ÊâÄ‰ª•ËøôÈáåË¶ÅÂà§Êñ≠ÊòØÂê¶ÊòØÂáΩÊï∞,Ë¶ÅÊòéÁôΩ ËøôÈáåÁöÑ typeof obj === function ‰∏çÊòØ‰∏∫‰∫ÜÂáΩÊï∞ËÆ®ËÆ∫ÁöÑ,Âõ†‰∏∫ÂáΩÊï∞Êú¨Ë∫´Â∞±ÂèØ‰ª•ÈÄöËøátypeof Êù•ÂæóÂà∞Á±ªÂûã. typeof obj === &quot;object&quot; || typeof obj === &quot;function&quot; ? class2type[ core_toString.call(obj) ] Â∞±Áõ¥Êé•ËøîÂõûclass2type ‰∏≠ÈîÆÂÄºÂØπÁöÑÁªìÊûú,,Â¶ÇÊûú‰∏çÊòØ,ÈÇ£‰πà‰∏ÄÂÆöÂ∞±ÊòØÂü∫Êú¨Á±ªÂûã, ÈÄöËøá typeof Â∞±ÂèØ‰ª•Âï¶. class2type[ core_toString.call(obj) ] || &quot;object&quot; : // ËøôÊòØÈò≤Ê≠¢‰∏Ä‰∫õÊú™Áü•ÊÉÖÂÜµÁöÑ,Â¶ÇÊûúÊú™ÂèñÂà∞,Â∞±ËøîÂõûobject ‰ΩÜÊòØ jQuery.type Êúâ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÁº∫Èô∑ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁ±ªÂûã function Person() { this.name = &apos;pawn&apos;; } var p = new Person(); console.log($.type(p)); console.log({}.toString.call(p)); // Ê≥®ÊÑè,ËøôÈáå‰ºöÊâìÂç∞ [object Object],ÈÄöËøá‰∏äÈù¢ÁöÑÊñπÊ≥ï,Êó†Ê≥ïÂæóÂà∞Á≤æÁ°ÆÁöÑËá™ÂÆö‰πâÁ±ªÂûãËøô‰πüÊòØ ÂÆÉÁöÑ‰∏Ä‰∏™Â§ßÁº∫Èô∑‰∫Ü! ‰∏ãÈù¢,Êàë‰ª¨ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊñπÂºèÊù•Ëé∑ÂèñÁ≤æÁ°ÆÁ±ªÂûã ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞Êù•Ëé∑ÂèñÁ±ªÂûãÂú®ÁêÜËß£Ëøô‰∏™ÊñπÊ≥ï‰πãÂâç,ÈúÄË¶ÅÁêÜËß£‰∏§‰∏™ÁÇπ prorotype ÂéüÂûãÂ±ûÊÄß Êàë‰ª¨Áü•ÈÅì,‰ªª‰ΩïÂØπË±°ÊàñËÄÖÂáΩÊï∞ÈÉΩÁõ¥Êé•ÊàñËÄÖÈó¥Êé•ÁöÑÁªßÊâøËá™Object ÊàñËÄÖ FunctionÔºå ÔºàÂÖ∂ÂÆûÊúÄÁªàFunction ÊòØÁªßÊâøËá™ Object ÁöÑÔºåËøôÂ±û‰∫éÂéüÂûãÈìæÁöÑÁü•ËØÜ‰∫ÜÔºåËßÅ‰∏ãÂõæÔºâ„ÄÇÈÇ£‰πàÔºå‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°ÈÉΩÂÖ∑ÊúâÂéüÂûãÂØπË±° __proto__ (Ëøô‰∏™ÂØπË±°Âè™Âú®chrome Âíå firefox Êö¥Èú≤Ôºå‰ΩÜÊòØÂú®ÂÖ∂‰ªñÊµèËßàÂô®‰∏≠‰πüÊòØÂ≠òÂú®ÁöÑ)ÔºåËøô‰∏™ÂéüÂûãÂØπË±°Â∞±ÊòØËøô‰∏™ÂØπË±°ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂéüÂûãÂ±ûÊÄß(ËøôÈáåÂèØËÉΩÊúâÁÇπÁªï,Áõ¥Êé•‰∏äÂõæ). Áî±‰∫é ‰ªª‰ΩïÂáΩÊï∞ÈÉΩÂÖ∑Êúâ ÂéüÂûãÂ±ûÊÄßprototype,Âπ∂‰∏îËøô‰∏™ÂéüÂûãÂ±ûÊÄßÂÖ∑Êúâ‰∏Ä‰∏™ÈªòËÆ§Â±ûÊÄß constructor,ÂÆÉÊòØËøô‰∏™ÂáΩÊï∞ÁöÑÂºïÁî®,Áúã‰∏ãÈù¢ÁöÑ‰ª£Á†Å function Person(){ this.name = &apos;pawn&apos;; } console.log(Person.prototype.constructor === Person); //true ÂèëÁé∞,Ëøô‰∏§‰∏™‰∏úË•øÂÖ∂ÂÆû‰∏Ä‰∏™‰∏úË•ø ‰ΩÜÊòØ,Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ã,ÈúÄË¶ÅËøô‰πàÂÜô function Person(){ this.name = &apos;pawn&apos;; } Person.protype = { XX: ... , xx: ... , ... } Ëøô‰πàÂÅö,Â∞±‰ºöË¶ÜÁõñÂéüÊú¨ÁöÑ protype ÊñπÊ≥ï,ÈÇ£‰πàconstrucor Â∞±‰∏çÂ≠òÂú®‰∫Ü,ËøôÊòØ,ÂøÖÈ°ªË¶ÅÊòæÁ§∫ÁöÑÁî≥ÊòéËøô‰∏™ÂØπË±°Ôºå construction: Person, ËøôÂè•ËØùÈùûÂ∏∏ÈáçË¶ÅÔºå‰ΩúÁî®ÊòØ‰øÆÊ≠£thisÊåáÂêëPerson.protype = { construction: Person, //ËøôÂè•ËØùÁöÑ‰ΩúÁî®ÊòØ‰øÆÊ≠£thisÊåáÂêë XX: ... , xx: ... , ... } Âú®jQueryÁöÑ‰∏≠,Â∞±ÊòØËøô‰πàÂÅöÁöÑ, jQuery.fn = jQuery.prototype = { constructor: jQuery, init: function( selector, context, rootjQuery ) { var match, elem; ÂÖ≥‰∫é jQueryÂØπË±°Â∞ÅË£ÖÁöÑÊñπÂºè ‰πüÊòØÈùûÂ∏∏ÂÄºÂæóÁ†îÁ©∂ Ê≥®ÊÑè,ËøôÈáåÂ∑≤Áªè‰∏çÊòØÁÜüÊÇâ [object Object],ËÄåÊòØ Â∑≤ÁªèÈáçÂÜô‰∫Ü. ‰πüÂ∞±ÊòØ,Â¶ÇÊûúË∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞ÁöÑtoString() ÊñπÊ≥ï.ÈÇ£‰πàÂ∞±‰ºöÊâìÂç∞Ëøô‰∏™ÂáΩÊï∞ÁöÑÂáΩÊï∞‰Ωì. Â¶Ç‰ΩïÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞Êù•Ëé∑ÂæóÂèòÈáèÁöÑÁ±ªÂûã? Âà§Êñ≠ÊòØÂê¶ÊòØÂü∫Êú¨Á±ªÂûã var getType = function(obj){ if(obj == null){ return String(obj); } if(typeof obj === &apos;object&apos; || typeof obj === &apos;fucntion&apos;){ ... }else{ // Â¶ÇÊûú‰∏çÊòØÂºïÁî®Á±ªÂûã,ÈÇ£‰πàÂ∞±ÊòØÂü∫Êú¨Á±ªÂûã return typeof obj } } Â¶ÇÊûúÊòØÂØπË±°ÊàñËÄÖÂáΩÊï∞Á±ªÂûã function Person(){ this.name = &apos;pawn&apos;; } var p = new Person(); console.log(p.constructor); //ËøîÂõûfunction Person(){...} Áé∞Âú®Ë¶ÅÂÅöÁöÑ‰∫ã : Â¶Ç‰ΩïÂ∞ÜPerson ÊèêÂèñÂá∫Êù•Âë¢?ÊØãÂ∫∏ÁΩÆÁñë,Â≠óÁ¨¶‰∏≤ÂàáÂâ≤ÈÇ£‰∏ÄÂ•óËÇØÂÆöÂèØ‰ª•ÂäûÂà∞,‰ΩÜÊòØÂ§™ low Âï¶!ËøôÈáå,Êàë‰ΩøÁî®Ê≠£ÂàôÂ∞ÜPersonÊèêÂèñÂá∫Êù• var regex = /function\s(.+?)\(/ function Person(){ this.name = &apos;pawn&apos;; } var p = new Person(); var c = p.constructor var regex = /function\s(.+?)\(/; console.log(&apos;|&apos; + regex.exec(c)[1] + &apos;|&apos;); ÂÖ∂ÂÆû,Èô§‰∫Ü‰∏äÈù¢ÁöÑÊ≠£Âàô,ÊØè‰∏™ÂáΩÊï∞ËøòÊúâ‰∏Ä‰∏™nameÂ±ûÊÄß,ËøîÂõûÂáΩÊï∞Âêç,‰ΩÜÊòØie8 ÊòØ‰∏çÊîØÊåÅÁöÑ. Âõ†Ê≠§‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÂÜô‰∏∫: var getType = function(obj){ if(obj == null){ return String(obj); } if(typeof obj === &apos;object&apos; || typeof obj === &apos;function&apos;){ var constructor = obj.constructor; if(constructor &amp;&amp; constructor.name){ return constructor.name; } var regex = /function\s(.+?)\(/; return regex.exec(c)[1]; }else{ // Â¶ÇÊûú‰∏çÊòØÂºïÁî®Á±ªÂûã,ÈÇ£‰πàÂ∞±ÊòØÂü∫Êú¨;Á±ªÂûã return typeof obj; } }; ‰ΩÜÊòØ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂ§™‰∏ëÂï¶,Â∞ÜÂÖ∂ÁÆÄÂåñ ÁÆÄÂåñ var getType = function(obj){ if(obj == null){ return String(obj); } if(typeof obj === &apos;object&apos; || typeof obj === &apos;function&apos;){ return obj.constructor &amp;&amp; obj.constructor.name.toLowerCase() || /function\s(.+?)\(/.exec(obj.constructor)[1].toLowerCase(); }else{ // Â¶ÇÊûú‰∏çÊòØÂºïÁî®Á±ªÂûã,ÈÇ£‰πàÂ∞±ÊòØÂü∫Êú¨Á±ªÂûã return typeof obj; } }; ËøòÊòØÊØîËæÉÈ∫ªÁÉ¶,ÁªßÁª≠ÁÆÄÂåñ var getType = function(obj){ if(obj == null){ return String(obj); } return typeof obj === &apos;object&apos; || typeof obj === &apos;function&apos; ? obj.constructor &amp;&amp; obj.constructor.name &amp;&amp; obj.constructor.name.toLowerCase() || /function\s(.+?)\(/.exec(obj.constructor)[1].toLowerCase(): typeof obj; }; Â•Ω‰∫Ü,Â∑≤ÁªèÂÖ®ÈÉ®ÂºÑÂÆå‰∫Ü,ÂÜô‰∏™‰ª£Á†ÅÊµãËØï‰∏Ä‰∏ã: function Person(){ this.name = &apos;pawn&apos;; } var p = new Person(); console.log(getType(p)); console.log(getType(1)); console.log(getType(&quot;a&quot;)); console.log(getType(false)); console.log(getType(/123/)); console.log(getType({})); console.log(getType(function(){})); console.log(getType(new Date())); console.log(getType(new Error())); console.log(getType( null)); console.log(getType( undefined)); 1.ÊúâÊó∂‰ºöÁúãÂà∞Object.prototype.toString.call() 2.toString()ÊòØ‰∏Ä‰∏™ÊÄéÊ†∑ÁöÑÊñπÊ≥ï,‰ªñÂÆö‰πâÂú®Âì™ÈáåÔºü 3.call.apply.bindÂèØ‰ª•ÂêóÔºü 4.‰∏∫Á•ûÈ©¨Ë¶ÅÂéªcallÂë¢ÔºüÁî® Object.prototype.toString.call(obj) ËÄå‰∏çÁî® obj.toString() Âë¢Ôºü&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; function A(){ this.say=function(){ console.log(&quot;ÊàëÊòØ1&quot;); } } function B(){ this.say=function(){ console.log(&quot;ÊàëÊòØ2&quot;); } } var a=new A(); var b=new B(); a.say.call(b); //ÊàëÊòØ1 &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; function A(){ this.name=&apos;SB&apos;; this.say=function(){ console.log(&quot;ÊàëÊòØ1&quot;); } } function B(){ A.call(this); //BÁªßÊâøAÔºåÈáçÂÜôsayÊñπÊ≥ï this.say=function(){ console.log(&quot;ÊàëÊòØ2&quot;); } } var a=new A(); var b=new B(); console.log(b.name); //SB b.say(); //ÊàëÊòØ2 a.say.call(b); //ÊàëÊòØ1 &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; Â∞±ÊòØÊÄï‰Ω†ÈáçÂÜô‰∫ÜtoString,ÊâÄ‰ª•ÊâçË¶ÅÁî®object ÊúÄÂéüÂßãÁöÑ‰ªñtoString,ÊâÄ‰ª•ÊâçÂéªcall„ÄÇ5.Object.prototype.toStringÊñπÊ≥ïÁöÑÂéüÁêÜÊòØ‰ªÄ‰πàÔºüÂèÇËÄÉÈìæÊé•Ôºöhttp://www.jb51.net/article/79941.htm Âú®JavaScript‰∏≠,ÊÉ≥Ë¶ÅÂà§Êñ≠Êüê‰∏™ÂØπË±°ÂÄºÂ±û‰∫éÂì™ÁßçÂÜÖÁΩÆÁ±ªÂûã,ÊúÄÈù†Ë∞±ÁöÑÂÅöÊ≥ïÂ∞±ÊòØÈÄöËøáObject.prototype.toStringÊñπÊ≥ï. 12var arr = [];console.log(Object.prototype.toString.call(arr)) //‚Äú[object Array]‚Äù Êú¨ÊñáË¶ÅËÆ≤ÁöÑÂ∞±ÊòØ,toStringÊñπÊ≥ïÊòØÂ¶Ç‰ΩïÂÅöÂà∞Ëøô‰∏ÄÁÇπÁöÑ,ÂéüÁêÜÊòØ‰ªÄ‰πà. ECMAScript 3 Âú®ES3‰∏≠,Object.prototype.toStringÊñπÊ≥ïÁöÑËßÑËåÉÂ¶Ç‰∏ã: 115.2.4.2 Object.prototype.toString() Âú®toStringÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂,‰ºöÊâßË°å‰∏ãÈù¢ÁöÑÊìç‰ΩúÊ≠•È™§: Ëé∑ÂèñthisÂØπË±°ÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄº. ËÆ°ÁÆóÂá∫‰∏â‰∏™Â≠óÁ¨¶‰∏≤‚Äù[object ‚Äú, Á¨¨‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÁªìÊûúResult(1), ‰ª•Âèä ‚Äú]‚ÄùËøûÊé•ÂêéÁöÑÊñ∞Â≠óÁ¨¶‰∏≤. ËøîÂõûÁ¨¨‰∫åÊ≠•ÁöÑÊìç‰ΩúÁªìÊûúResult(2). [[Class]]ÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®Â±ûÊÄß,ÊâÄÊúâÁöÑÂØπË±°(ÂéüÁîüÂØπË±°ÂíåÂÆø‰∏ªÂØπË±°)ÈÉΩÊã•ÊúâËØ•Â±ûÊÄß.Âú®ËßÑËåÉ‰∏≠,[[Class]]ÊòØËøô‰πàÂÆö‰πâÁöÑ [[Class]]‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÄº,Ë°®Êòé‰∫ÜËØ•ÂØπË±°ÁöÑÁ±ªÂûã. ÁÑ∂ÂêéÁªô‰∫Ü‰∏ÄÊÆµËß£Èáä: ÊâÄÊúâÂÜÖÁΩÆÂØπË±°ÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄºÊòØÁî±Êú¨ËßÑËåÉÂÆö‰πâÁöÑ.ÊâÄÊúâÂÆø‰∏ªÂØπË±°ÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄºÂèØ‰ª•ÊòØ‰ªªÊÑèÂÄº,ÁîöËá≥ÂèØ‰ª•ÊòØÂÜÖÁΩÆÂØπË±°‰ΩøÁî®ËøáÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄº.[[Class]]Â±ûÊÄßÁöÑÂÄºÂèØ‰ª•Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂéüÁîüÂØπË±°Â±û‰∫éÂì™ÁßçÂÜÖÁΩÆÁ±ªÂûã.ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ,Èô§‰∫ÜÈÄöËøáObject.prototype.toStringÊñπÊ≥ï‰πãÂ§ñ,Êú¨ËßÑËåÉÊ≤°ÊúâÊèê‰æõ‰ªª‰ΩïÂÖ∂‰ªñÊñπÂºèÊù•ËÆ©Á®ãÂ∫èËÆøÈóÆËØ•Â±ûÊÄßÁöÑÂÄº(Êü•Áúã 15.2.4.2). ‰πüÂ∞±ÊòØËØ¥,ÊääObject.prototype.toStringÊñπÊ≥ïËøîÂõûÁöÑÂ≠óÁ¨¶‰∏≤,ÂéªÊéâÂâçÈù¢Âõ∫ÂÆöÁöÑ‚Äù[object ‚ÄúÂíåÂêéÈù¢Âõ∫ÂÆöÁöÑ‚Äù]‚Äù,Â∞±ÊòØÂÜÖÈÉ®Â±ûÊÄß[[class]]ÁöÑÂÄº,‰πüÂ∞±ËææÂà∞‰∫ÜÂà§Êñ≠ÂØπË±°Á±ªÂûãÁöÑÁõÆÁöÑ.jQuery‰∏≠ÁöÑÂ∑•ÂÖ∑ÊñπÊ≥ï$.type(),Â∞±ÊòØÂπ≤Ëøô‰∏™ÁöÑ. Âú®ES3‰∏≠,ËßÑËåÉÊñáÊ°£Âπ∂Ê≤°ÊúâÊÄªÁªìÂá∫[[class]]ÂÜÖÈÉ®Â±ûÊÄß‰∏ÄÂÖ±ÊúâÂá†Áßç,‰∏çËøáÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÁªüËÆ°‰∏Ä‰∏ã,ÂéüÁîüÂØπË±°ÁöÑ[[class]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÄº‰∏ÄÂÖ±Êúâ10Áßç.ÂàÜÂà´ÊòØ:‚ÄùArray‚Äù, ‚ÄúBoolean‚Äù, ‚ÄúDate‚Äù, ‚ÄúError‚Äù, ‚ÄúFunction‚Äù, ‚ÄúMath‚Äù, ‚ÄúNumber‚Äù, ‚ÄúObject‚Äù, ‚ÄúRegExp‚Äù, ‚ÄúString‚Äù. ECMAScript 5 Âú®ES5.1‰∏≠,Èô§‰∫ÜËßÑËåÉÂÜôÁöÑÊõ¥ËØ¶ÁªÜ‰∏Ä‰∫õ‰ª•Â§ñ,Object.prototype.toStringÊñπÊ≥ïÂíå[[class]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÆö‰πâ‰∏ä‰πüÊúâ‰∏Ä‰∫õÂèòÂåñ,Object.prototype.toStringÊñπÊ≥ïÁöÑËßÑËåÉÂ¶Ç‰∏ã: 15.2.4.2 Object.prototype.toString ( ) Âú®toStringÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂,‰ºöÊâßË°å‰∏ãÈù¢ÁöÑÊìç‰ΩúÊ≠•È™§: Â¶ÇÊûúthisÁöÑÂÄº‰∏∫undefined,ÂàôËøîÂõû‚Äù[object Undefined]‚Äù. Â¶ÇÊûúthisÁöÑÂÄº‰∏∫null,ÂàôËøîÂõû‚Äù[object Null]‚Äù. ËÆ©OÊàê‰∏∫Ë∞ÉÁî®ToObject(this)ÁöÑÁªìÊûú. ËÆ©classÊàê‰∏∫OÁöÑÂÜÖÈÉ®Â±ûÊÄß[[Class]]ÁöÑÂÄº. ËøîÂõû‰∏â‰∏™Â≠óÁ¨¶‰∏≤‚Äù[object ‚Äú, class, ‰ª•Âèä ‚Äú]‚ÄùËøûÊé•ÂêéÁöÑÊñ∞Â≠óÁ¨¶‰∏≤. ÂèØ‰ª•ÁúãÂá∫,ÊØîES3Â§ö‰∫Ü1,2,3Ê≠•.Á¨¨1,2Ê≠•Â±û‰∫éÊñ∞ËßÑÂàô,ÊØîËæÉÁâπÊÆä,Âõ†‰∏∫‚ÄùUndefined‚ÄùÂíå‚ÄùNull‚ÄùÂπ∂‰∏çÂ±û‰∫é[[class]]Â±ûÊÄßÁöÑÂÄº,ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ,ËøôÈáåÂíå‰∏•Ê†ºÊ®°ÂºèÊó†ÂÖ≥(Â§ßÈÉ®ÂàÜÂáΩÊï∞Âú®‰∏•Ê†ºÊ®°Âºè‰∏ã,thisÁöÑÂÄºÊâç‰ºö‰øùÊåÅundefinedÊàñnull,Èùû‰∏•Ê†ºÊ®°Âºè‰∏ã‰ºöËá™Âä®Êàê‰∏∫ÂÖ®Â±ÄÂØπË±°).Á¨¨3Ê≠•Âπ∂‰∏çÁÆóÊòØÊñ∞ËßÑÂàô,Âõ†‰∏∫Âú®ES3ÁöÑÂºïÊìé‰∏≠,‰πüÈÉΩ‰ºöÂú®Ëøô‰∏ÄÊ≠•Â∞Ü‰∏âÁßçÂéüÂßãÂÄºÁ±ªÂûãËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑÂåÖË£ÖÂØπË±°,Âè™ÊòØËßÑËåÉ‰∏≠Ê≤°ÂÜôÂá∫Êù•.ES5‰∏≠,[[Class]]Â±ûÊÄßÁöÑËß£ÈáäÊõ¥Âä†ËØ¶ÁªÜ: ÊâÄÊúâÂÜÖÁΩÆÂØπË±°ÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄºÊòØÁî±Êú¨ËßÑËåÉÂÆö‰πâÁöÑ.ÊâÄÊúâÂÆø‰∏ªÂØπË±°ÁöÑ[[Class]]Â±ûÊÄßÁöÑÂÄºÂèØ‰ª•ÊòØÈô§‰∫Ü‚ÄùArguments‚Äù, ‚ÄúArray‚Äù, ‚ÄúBoolean‚Äù, ‚ÄúDate‚Äù, ‚ÄúError‚Äù, ‚ÄúFunction‚Äù, ‚ÄúJSON‚Äù, ‚ÄúMath‚Äù, ‚ÄúNumber‚Äù, ‚ÄúObject‚Äù, ‚ÄúRegExp‚Äù, ‚ÄúString‚Äù‰πãÂ§ñÁöÑÁöÑ‰ªª‰ΩïÂ≠óÁ¨¶‰∏≤.[[Class]]ÂÜÖÈÉ®Â±ûÊÄßÊòØÂºïÊìéÂÜÖÈÉ®Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂØπË±°Â±û‰∫éÂì™ÁßçÁ±ªÂûãÁöÑÂÄºÁöÑ.ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ,Èô§‰∫ÜÈÄöËøáObject.prototype.toStringÊñπÊ≥ï‰πãÂ§ñ,Êú¨ËßÑËåÉÊ≤°ÊúâÊèê‰æõ‰ªª‰ΩïÂÖ∂‰ªñÊñπÂºèÊù•ËÆ©Á®ãÂ∫èËÆøÈóÆËØ•Â±ûÊÄßÁöÑÂÄº(Êü•Áúã 15.2.4.2). ÂíåES3ÂØπÊØî‰∏Ä‰∏ã,Á¨¨‰∏Ä‰∏™Â∑ÆÂà´Â∞±ÊòØ[[class]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÄºÂ§ö‰∫Ü‰∏§Áßç,Êàê‰∫Ü12Áßç,‰∏ÄÁßçÊòØargumentsÂØπË±°ÁöÑ[[class]]Êàê‰∫Ü‚ÄùArguments‚Äù,ËÄå‰∏çÊòØ‰ª•ÂâçÁöÑ‚ÄùObject‚Äù,ËøòÊúâÂ∞±ÊòØÂ§ö‰∏™‰∫ÜÂÖ®Â±ÄÂØπË±°JSON,ÂÆÉÁöÑ[[class]]ÂÄº‰∏∫‚ÄùJSON‚Äù.Á¨¨‰∫å‰∏™Â∑ÆÂà´Â∞±ÊòØ,ÂÆø‰∏ªÂØπË±°ÁöÑ[[class]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÄº,‰∏çËÉΩÂíåËøô12ÁßçÂÄºÂÜ≤Á™Å,‰∏çËøáÂú®ÊîØÊåÅES3ÁöÑÊµèËßàÂô®‰∏≠,Ë≤å‰ºº‰πüÊ≤°ÊúâÂèëÁé∞Âì™‰∫õÂÆø‰∏ªÂØπË±°ÊïÖÊÑè‰ΩøÁî®ÈÇ£10‰∏™ÂÄº. ECMAScript 6 ES6ÁõÆÂâçËøòÂè™ÊòØÂ∑•‰ΩúËçâÊ°à,‰ΩÜËÉΩÂ§üËÇØÂÆöÁöÑÊòØ,[[class]]ÂÜÖÈÉ®Â±ûÊÄßÊ≤°Êúâ‰∫Ü,ÂèñËÄå‰ª£‰πãÁöÑÊòØÂè¶Â§ñ‰∏Ä‰∏™ÂÜÖÈÉ®Â±ûÊÄß[[NativeBrand]].[[NativeBrand]]Â±ûÊÄßÊòØËøô‰πàÂÆö‰πâÁöÑ: ÂÜÖÈÉ®Â±ûÊÄßÂ±ûÊÄßÂÄºÊèèËø∞[[NativeBrand]]Êûö‰∏æNativeBrandÁöÑ‰∏Ä‰∏™ÊàêÂëò.ËØ•Â±ûÊÄßÁöÑÂÄºÂØπÂ∫î‰∏Ä‰∏™Ê†áÂøóÂÄº(tag value),ÂèØ‰ª•Áî®Êù•Âå∫ÂàÜÂéüÁîüÂØπË±°ÁöÑÁ±ªÂûã. [[NativeBrand]]Â±ûÊÄßÁöÑËß£Èáä: [[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄßÁî®Êù•ËØÜÂà´Êüê‰∏™ÂéüÁîüÂØπË±°ÊòØÂê¶‰∏∫Á¨¶ÂêàÊú¨ËßÑËåÉÁöÑÊüê‰∏ÄÁßçÁâπÂÆöÁ±ªÂûãÁöÑÂØπË±°.[[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÄº‰∏∫‰∏ãÈù¢Ëøô‰∫õÊûö‰∏æÁ±ªÂûãÁöÑÂÄº‰∏≠ÁöÑ‰∏Ä‰∏™:NativeFunction, NativeArray, StringWrapper, BooleanWrapper, NumberWrapper, NativeMath, NativeDate, NativeRegExp, NativeError, NativeJSON, NativeArguments, NativePrivateName.[[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄß‰ªÖÁî®Êù•Âå∫ÂàÜÂå∫ÂàÜÁâπÂÆöÁ±ªÂûãÁöÑECMAScriptÂéüÁîüÂØπË±°.Âè™ÊúâÂú®Ë°®10‰∏≠ÊòéÁ°ÆÊåáÂá∫ÁöÑÂØπË±°Á±ªÂûãÊâçÊúâ[[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄß. Ë°®10 ‚Äî [[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄßÁöÑÂÄº Â±ûÊÄßÂÄºÂØπÂ∫îÁ±ªÂûãNativeFunctionFunction objectsNativeArrayArray objectsStringWrapperString objectsBooleanWrapperBoolean objectsNumberWrapperNumber objectsNativeMathThe Math objectNativeDateDate objectsNativeRegExpRegExp objectsNativeErrorError objectsNativeJSONThe JSON objectNativeArgumentsArguments objectsNativePrivateNamePrivate Name objects ÂèØËßÅ,Âíå[[class]]‰∏çÂêåÁöÑÊòØ,Âπ∂‰∏çÊòØÊØè‰∏™ÂØπË±°ÈÉΩÊã•Êúâ[[NativeBrand]].ÂêåÊó∂,Object.prototype.toStringÊñπÊ≥ïÁöÑËßÑËåÉ‰πüÊîπÊàê‰∫Ü‰∏ãÈù¢ËøôÊ†∑: 15.2.4.2 Object.prototype.toString ( ) Âú®toStringÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂,‰ºöÊâßË°å‰∏ãÈù¢ÁöÑÊìç‰ΩúÊ≠•È™§: Â¶ÇÊûúthisÁöÑÂÄº‰∏∫undefined,ÂàôËøîÂõû‚Äù[object Undefined]‚Äù. Â¶ÇÊûúthisÁöÑÂÄº‰∏∫null,ÂàôËøîÂõû‚Äù[object Null]‚Äù. ËÆ©OÊàê‰∏∫Ë∞ÉÁî®ToObject(this)ÁöÑÁªìÊûú. Â¶ÇÊûúOÊúâ[[NativeBrand]]ÂÜÖÈÉ®Â±ûÊÄß,ËÆ©tagÊàê‰∏∫Ë°®29‰∏≠ÂØπÂ∫îÁöÑÂÄº. Âê¶Âàô ËÆ©hasTagÊàê‰∏∫Ë∞ÉÁî®OÁöÑ[[HasProperty]]ÂÜÖÈÉ®ÊñπÊ≥ïÂêéÁöÑÁªìÊûú,ÂèÇÊï∞‰∏∫@@toStringTag. Â¶ÇÊûúhasTag‰∏∫false,ÂàôËÆ©tag‰∏∫‚ÄùObject‚Äù. Âê¶Âàô, ËÆ©tagÊàê‰∏∫Ë∞ÉÁî®OÁöÑ[[Get]]ÂÜÖÈÉ®ÊñπÊ≥ïÂêéÁöÑÁªìÊûú,ÂèÇÊï∞‰∏∫@@toStringTag. Â¶ÇÊûútagÊòØ‰∏Ä‰∏™abrupt completion,ÂàôËÆ©tagÊàê‰∏∫NormalCompletion(‚Äú???‚Äù). ËÆ©tagÊàê‰∏∫tag.[[value]]. Â¶ÇÊûúType(tag)‰∏çÊòØÂ≠óÁ¨¶‰∏≤,ÂàôËÆ©tagÊàê‰∏∫‚Äù???‚Äù. Â¶ÇÊûútagÁöÑÂÄº‰∏∫‚ÄùArguments‚Äù, ‚ÄúArray‚Äù, ‚ÄúBoolean‚Äù, ‚ÄúDate‚Äù, ‚ÄúError‚Äù, ‚ÄúFunction‚Äù, ‚ÄúJSON‚Äù, ‚ÄúMath‚Äù, ‚ÄúNumber‚Äù, ‚ÄúObject‚Äù, ‚ÄúRegExp‚Äù,Êàñ ËÄÖ‚ÄùString‚Äù‰∏≠ÁöÑ‰ªª‰∏Ä‰∏™,ÂàôËÆ©tagÊàê‰∏∫Â≠óÁ¨¶‰∏≤‚Äù~‚ÄùÂíåtagÂΩìÂâçÁöÑÂÄºËøûÊé•ÂêéÁöÑÁªìÊûú. ËøîÂõû‰∏â‰∏™Â≠óÁ¨¶‰∏≤‚Äù[object ‚Äú, tag, and ‚Äú]‚ÄùËøûÊé•ÂêéÁöÑÊñ∞Â≠óÁ¨¶‰∏≤. Ë°®29 ‚Äî [[NativeBrand]] Ê†áÂøóÂÄº [[NativeBrand]]ÂÄºÊ†áÂøóÂÄºNativeFunction‚ÄùFunction‚ÄùNativeArray‚ÄùArray‚ÄùStringWrapper‚ÄùString‚ÄùBooleanWrapper‚ÄùBoolean‚ÄùNumberWrapper‚ÄùNumber‚ÄùNativeMath‚ÄùMath‚ÄùNativeDate‚ÄùDate‚ÄùNativeRegExp‚ÄùRegExp‚ÄùNativeError‚ÄùError‚ÄùNativeJSON‚ÄùJSON‚ÄùNativeArguments‚ÄùArguments‚Äù ÂèØ‰ª•ÁúãÂà∞,Âú®ËßÑËåÉ‰∏äÊúâ‰∫ÜÂæàÂ§ßÁöÑÂèòÂåñ,‰∏çËøáÂØπ‰∫éÊôÆÈÄöÁî®Êà∑Êù•ËØ¥,Ë≤å‰ººÊÑüËßâ‰∏çÂà∞. ‰πüËÆ∏‰Ω†ÂèëÁé∞‰∫Ü,ES6ÈáåÁöÑÊñ∞Á±ªÂûãMap,SetÁ≠â,ÈÉΩÊ≤°ÊúâÂú®Ë°®29‰∏≠.ÂÆÉ‰ª¨Âú®ÊâßË°åtoStringÊñπÊ≥ïÁöÑÊó∂ÂÄôËøîÂõûÁöÑÊòØ‰ªÄ‰πà? console.log(Object.prototype.toString.call(Map())) //‚Äú[object Map]‚Äù console.log(Object.prototype.toString.call(Set())) //‚Äú[object Set]‚Äù ÂÖ∂‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤‚ÄùMap‚ÄùÊòØÊÄé‰πàÊù•ÁöÑÂë¢: 15.14.5.13 Map.prototype.@@toStringTag @@toStringTag Â±ûÊÄßÁöÑÂàùÂßãÂÄº‰∏∫Â≠óÁ¨¶‰∏≤‚ÄùMap‚Äù. Áî±‰∫éES6ÁöÑËßÑËåÉËøòÂú®Âà∂ÂÆö‰∏≠,ÂêÑÁßçÁõ∏ÂÖ≥ËßÑÂÆöÈÉΩÊúâÂèØËÉΩÊîπÂèò,ÊâÄ‰ª•Â¶ÇÊûúÊÉ≥‰∫ÜËß£Êõ¥Â§öÁªÜËäÇ.ÁúãÁúã‰∏ãÈù¢Ëøô‰∏§‰∏™ÈìæÊé•,Áé∞Âú®Âè™ÈúÄË¶ÅÁü•ÈÅìÁöÑÊòØ:[[class]]Ê≤°‰∫Ü,‰ΩøÁî®‰∫ÜÊõ¥Â§çÊùÇÁöÑÊú∫Âà∂. ‰ª•‰∏äÊâÄËø∞ÊòØÂ∞èÁºñÁªôÂ§ßÂÆ∂ÂàÜ‰∫´ÁöÑJavaScript‰∏≠Object.prototype.toStringÊñπÊ≥ïÁöÑÂéüÁêÜÔºåÂ∏åÊúõÂØπÂ§ßÂÆ∂ÊúâÊâÄÂ∏ÆÂä©ÔºÅ]]></content>
      <tags>
        <tag>js</tag>
        <tag>Á±ªÂûãÂà§Êñ≠</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptËøõÈò∂ÊèêÈ´òÂøÖËØª]]></title>
    <url>%2F2016%2F12%2F31%2FJavaScript%E8%BF%9B%E9%98%B6%E6%8F%90%E9%AB%98%E5%BF%85%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[ÂÜ¥ÁæΩÂÜôÂçöÂÆ¢ÁöÑÂú∞ÊñπvueÊ∫êÁ†Å-ÂÜÖÈÉ®ËøêË°åÊú∫Âà∂ÂâñÊûêËøõÂ∫¶JavaScriptÊ∑±ÂÖ•Á≥ªÂàó 15 ÁØáÂ∑≤ÂÆåÁªì„ÄÇ JavaScript‰∏ìÈ¢òÁ≥ªÂàó 20 ÁØáÂ∑≤ÂÆåÁªì„ÄÇ underscore Á≥ªÂàó 8 ÁØáÂ∑≤ÂÆåÁªì„ÄÇ Ê∑±ÂÖ•Á≥ªÂàóÁõÆÂΩï JavaScirptÊ∑±ÂÖ•‰πã‰ªéÂéüÂûãÂà∞ÂéüÂûãÈìæ JavaScriptÊ∑±ÂÖ•‰πãËØçÊ≥ï‰ΩúÁî®ÂüüÂíåÂä®ÊÄÅ‰ΩúÁî®Âüü JavaScriptÊ∑±ÂÖ•‰πãÊâßË°å‰∏ä‰∏ãÊñáÊ†à JavaScriptÊ∑±ÂÖ•‰πãÂèòÈáèÂØπË±° JavaScriptÊ∑±ÂÖ•‰πã‰ΩúÁî®ÂüüÈìæ JavaScriptÊ∑±ÂÖ•‰πã‰ªéECMAScriptËßÑËåÉËß£ËØªthis JavaScriptÊ∑±ÂÖ•‰πãÊâßË°å‰∏ä‰∏ãÊñá JavaScriptÊ∑±ÂÖ•‰πãÈó≠ÂåÖ JavaScriptÊ∑±ÂÖ•‰πãÂèÇÊï∞ÊåâÂÄº‰º†ÈÄí JavaScriptÊ∑±ÂÖ•‰πãcallÂíåapplyÁöÑÊ®°ÊãüÂÆûÁé∞ JavaScriptÊ∑±ÂÖ•‰πãbindÁöÑÊ®°ÊãüÂÆûÁé∞ JavaScriptÊ∑±ÂÖ•‰πãnewÁöÑÊ®°ÊãüÂÆûÁé∞ JavaScriptÊ∑±ÂÖ•‰πãÁ±ªÊï∞ÁªÑÂØπË±°‰∏éarguments JavaScriptÊ∑±ÂÖ•‰πãÂàõÂª∫ÂØπË±°ÁöÑÂ§öÁßçÊñπÂºè‰ª•Âèä‰ºòÁº∫ÁÇπ JavaScriptÊ∑±ÂÖ•‰πãÁªßÊâøÁöÑÂ§öÁßçÊñπÂºè‰ª•Âèä‰ºòÁº∫ÁÇπ JavaScriptÊ∑±ÂÖ•Á≥ªÂàó15ÁØáÊ≠£ÂºèÂÆåÁªìÔºÅ ‰∏ìÈ¢òÁ≥ªÂàóÁõÆÂΩï JavaScript‰∏ìÈ¢ò‰πãË∑üÁùÄunderscoreÂ≠¶Èò≤Êäñ JavaScript‰∏ìÈ¢ò‰πãË∑üÁùÄunderscoreÂ≠¶ËäÇÊµÅ JavaScript‰∏ìÈ¢ò‰πãÊï∞ÁªÑÂéªÈáç JavaScript‰∏ìÈ¢ò‰πãÁ±ªÂûãÂà§Êñ≠(‰∏ä) JavaScript‰∏ìÈ¢ò‰πãÁ±ªÂûãÂà§Êñ≠(‰∏ã) JavaScript‰∏ìÈ¢ò‰πãÊ∑±ÊµÖÊã∑Ë¥ù JavaScript‰∏ìÈ¢ò‰πã‰ªéÈõ∂ÂÆûÁé∞jQueryÁöÑextend JavaScript‰∏ìÈ¢ò‰πãÂ¶Ç‰ΩïÊ±ÇÊï∞ÁªÑÁöÑÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄº JavaScript‰∏ìÈ¢ò‰πãÊï∞ÁªÑÊâÅÂπ≥Âåñ JavaScript‰∏ìÈ¢ò‰πãÂ≠¶underscoreÂú®Êï∞ÁªÑ‰∏≠Êü•ÊâæÊåáÂÆöÂÖÉÁ¥† JavaScript‰∏ìÈ¢ò‰πãjQueryÈÄöÁî®ÈÅçÂéÜÊñπÊ≥ïeachÁöÑÂÆûÁé∞ JavaScript‰∏ìÈ¢ò‰πãÂ¶Ç‰ΩïÂà§Êñ≠‰∏§‰∏™ÂØπË±°Áõ∏Á≠â JavaScript‰∏ìÈ¢ò‰πãÂáΩÊï∞ÊüØÈáåÂåñ JavaScript‰∏ìÈ¢ò‰πãÂÅèÂáΩÊï∞ JavaScript‰∏ìÈ¢ò‰πãÊÉ∞ÊÄßÂáΩÊï∞ JavaScript‰∏ìÈ¢ò‰πãÂáΩÊï∞ÁªÑÂêà JavaScript‰∏ìÈ¢ò‰πãÂáΩÊï∞ËÆ∞ÂøÜ JavaScript‰∏ìÈ¢ò‰πãÈÄíÂΩí JavaScript‰∏ìÈ¢ò‰πã‰π±Â∫è JavaScript‰∏ìÈ¢ò‰πãËß£ËØª v8 ÊéíÂ∫èÊ∫êÁ†Å JavaScript‰∏ìÈ¢òÁ≥ªÂàó20ÁØáÊ≠£ÂºèÂÆåÁªìÔºÅ underscore Á≥ªÂàóÁõÆÂΩï underscore Á≥ªÂàó‰πãÂ¶Ç‰ΩïÂÜôËá™Â∑±ÁöÑ underscore underscore Á≥ªÂàó‰πãÈìæÂºèË∞ÉÁî® underscore Á≥ªÂàó‰πãÂÜÖÈÉ®ÂáΩÊï∞ cb Âíå optimizeCb underscore Á≥ªÂàó‰πãÂÜÖÈÉ®ÂáΩÊï∞ restArgs underscore Á≥ªÂàó‰πãÈò≤ÂÜ≤Á™Å‰∏é Utility Functions underscore Á≥ªÂàó‰πãÂÆûÁé∞‰∏Ä‰∏™Ê®°ÊùøÂºïÊìé(‰∏ä) underscore Á≥ªÂàó‰πãÂÆûÁé∞‰∏Ä‰∏™Ê®°ÊùøÂºïÊìé(‰∏ã) underscore Á≥ªÂàó‰πãÂ≠óÁ¨¶ÂÆû‰Ωì‰∏é _.escape underscore ÁöÑÊ∫êÁ†ÅËØ•Â¶Ç‰ΩïÈòÖËØªÔºü ES6 Á≥ªÂàóÁõÆÂΩï ES6 Á≥ªÂàó‰πã let Âíå const ES6 Á≥ªÂàó‰πãÊ®°ÊùøÂ≠óÁ¨¶‰∏≤ ES6 Á≥ªÂàó‰πãÁÆ≠Â§¥ÂáΩÊï∞ ES6 Á≥ªÂàó‰πãÊ®°ÊãüÂÆûÁé∞ Symbol Á±ªÂûã ES6 Á≥ªÂàó‰πãËø≠‰ª£Âô®‰∏é for of ES6 Á≥ªÂàó‰πãÊ®°ÊãüÂÆûÁé∞‰∏Ä‰∏™ Set Êï∞ÊçÆÁªìÊûÑ ES6 Á≥ªÂàó‰πã WeakMap ES6 Á≥ªÂàó‰πãÊàë‰ª¨Êù•ËÅäËÅä Promise ES6 Á≥ªÂàó‰πã Generator ÁöÑËá™Âä®ÊâßË°å]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript Ê®°ÂùóÂåñËß£Êûê]]></title>
    <url>%2F2016%2F12%2F22%2FJavaScript-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[WEB ÂâçÁ´ØÊ®°ÂùóÂåñÈÉΩÊúâ‰ªÄ‰πàÔºüÈöèÁùÄ JavasScript ËØ≠Ë®ÄÈÄêÊ∏êÂèëÂ±ïÔºåJavaScript Â∫îÁî®‰ªéÁÆÄÂçïÁöÑË°®ÂçïÈ™åËØÅÔºåÂà∞Â§çÊùÇÁöÑÁΩëÁ´ô‰∫§‰∫íÔºåÂÜçÂà∞ÊúçÂä°Á´ØÔºåÁßªÂä®Á´ØÔºåPC ÂÆ¢Êà∑Á´ØÁöÑËØ≠Ë®ÄÊîØÊåÅ„ÄÇJavaScript Â∫îÁî®È¢ÜÂüüÂèòÁöÑË∂äÊù•Ë∂äÂπøÊ≥õÔºåÂ∑•Á®ã‰ª£Á†ÅÂèòÂæóË∂äÊù•Ë∂äÂ∫ûÂ§ßÔºå‰ª£Á†ÅÁöÑÁÆ°ÁêÜÂèòÂæóË∂äÊù•Ë∂äÂõ∞ÈöæÔºå‰∫éÊòØ‰πé JavaScript Ê®°ÂùóÂåñÊñπÊ°àÂú®Á§æÂå∫‰∏≠Â∫îÂ£∞ËÄåËµ∑ÔºåÂÖ∂‰∏≠‰∏Ä‰∫õ‰ºòÁßÄÁöÑÊ®°ÂùóÂåñÊñπÊ°àÔºåÈÄêÊ∏êÊàê‰∏∫ JavaScript ÁöÑËØ≠Ë®ÄËßÑËåÉÔºå‰∏ãÈù¢Êàë‰ª¨Â∞± JavaScript Ê®°ÂùóÂåñËøô‰∏™ËØùÈ¢òÂ±ïÂºÄËÆ®ËÆ∫ÔºåÊú¨ÊñáÁöÑ‰∏ªË¶ÅÂåÖÂê´‰ª•Âá†ÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ ‰ªÄ‰πàÊòØÊ®°Âùó ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊ®°ÂùóÂåñ JavaScript Ê®°ÂùóÂåñ‰πã CommonJS JavaScript Ê®°ÂùóÂåñ‰πã AMD JavaScript Ê®°ÂùóÂåñ‰πã CMD JavaScript Ê®°ÂùóÂåñ‰πã ES Module ÊÄªÁªì Ê†πÊçÆÂπ≥Âè∞ÂàíÂàÜ Âπ≥Âè∞ ËßÑËåÉ ÁâπÊÄß ÊµèËßàÂô® AMD„ÄÅCMD Â≠òÂú®ÁΩëÁªúÁì∂È¢àÔºå‰ΩøÁî®ÂºÇÊ≠•Âä†ËΩΩ ÈùûÊµèËßàÂô® CommonJS Áõ¥Êé•Êìç‰Ωú IOÔºåÂêåÊ≠•Âä†ËΩΩ ÁâπÊÄß ËßÑËåÉ ÂêåÊ≠•Âä†ËΩΩ CommonJS ÂºÇÊ≠•Âä†ËΩΩ AMD„ÄÅCMD ËßÑËåÉ Á∫¶ÊùüÊù°‰ª∂ ‰ª£Ë°®‰Ωú AMD ‰æùËµñÂâçÁΩÆ requirejs CMD Â∞±Ëøë‰æùËµñ seajs ‰ªÄ‰πàÊòØÊ®°ÂùóÊ®°ÂùóÔºåÂèàÁß∞ÊûÑ‰ª∂ÔºåÊòØËÉΩÂ§üÂçïÁã¨ÂëΩÂêçÂπ∂Áã¨Á´ãÂú∞ÂÆåÊàê‰∏ÄÂÆöÂäüËÉΩÁöÑÁ®ãÂ∫èËØ≠Âè•ÁöÑÈõÜÂêà (Âç≥Á®ãÂ∫è‰ª£Á†ÅÂíåÊï∞ÊçÆÁªìÊûÑÁöÑÈõÜÂêà‰Ωì)„ÄÇÂÆÉÂÖ∑Êúâ‰∏§‰∏™Âü∫Êú¨ÁöÑÁâπÂæÅÔºöÂ§ñÈÉ®ÁâπÂæÅÂíåÂÜÖÈÉ®ÁâπÂæÅ„ÄÇÂ§ñÈÉ®ÁâπÂæÅÊòØÊåáÊ®°ÂùóË∑üÂ§ñÈÉ®ÁéØÂ¢ÉËÅîÁ≥ªÁöÑÊé•Âè£ (Âç≥ÂÖ∂‰ªñÊ®°ÂùóÊàñÁ®ãÂ∫èË∞ÉÁî®ËØ•Ê®°ÂùóÁöÑÊñπÂºèÔºåÂåÖÊã¨ÊúâËæìÂÖ•ËæìÂá∫ÂèÇÊï∞„ÄÅÂºïÁî®ÁöÑÂÖ®Â±ÄÂèòÈáè) ÂíåÊ®°ÂùóÁöÑÂäüËÉΩÔºåÂÜÖÈÉ®ÁâπÂæÅÊòØÊåáÊ®°ÂùóÁöÑÂÜÖÈÉ®ÁéØÂ¢ÉÂÖ∑ÊúâÁöÑÁâπÁÇπ (Âç≥ËØ•Ê®°ÂùóÁöÑÂ±ÄÈÉ®Êï∞ÊçÆÂíåÁ®ãÂ∫è‰ª£Á†Å)„ÄÇÁÆÄËÄåË®Ä‰πãÔºåÊ®°ÂùóÂ∞±ÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÁã¨Á´ã‰ΩúÁî®ÂüüÔºåÂØπÂ§ñÊö¥Èú≤ÁâπÂÆöÂäüËÉΩÊé•Âè£ÁöÑ‰ª£Á†ÅÈõÜÂêà„ÄÇ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊ®°ÂùóÂåñÈ¶ñÂÖàËÆ©Êàë‰ª¨ÂõûÂà∞ËøáÂéªÔºåÁúãÁúãÂéüÂßã JavaScript Ê®°ÂùóÊñá‰ª∂ÁöÑÂÜôÊ≥ï„ÄÇ // add.jsfunctionadd(a, b) { return a + b; } // decrease.jsfunctiondecrease(a, b) { return a - b; } // formula.jsfunctionsquare_difference(a, b) { return add(a, b) * decrease(a, b); } ‰∏äÈù¢Êàë‰ª¨Âú®‰∏â‰∏™ JavaScript Êñá‰ª∂ÈáåÈù¢ÔºåÂÆûÁé∞‰∫ÜÂá†‰∏™ÂäüËÉΩÂáΩÊï∞„ÄÇÂÖ∂‰∏≠ÔºåÁ¨¨‰∏â‰∏™ÂäüËÉΩÂáΩÊï∞ÈúÄË¶Å‰æùËµñÁ¨¨‰∏Ä‰∏™ÂíåÁ¨¨‰∫å‰∏™ JavaScript Êñá‰ª∂ÁöÑÂäüËÉΩÂáΩÊï∞ÔºåÊâÄ‰ª•Êàë‰ª¨Âú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºå‰∏ÄËà¨‰ºöËøôÊ†∑ÂÜôÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155 &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script src=&quot;add.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;decrease.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;formula.js&quot;&gt;&lt;/script&gt; &lt;!--‰ΩøÁî®--&gt; &lt;script&gt; var result = square_difference(3, 4); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;``` ËøôÊ†∑ÁöÑÁÆ°ÁêÜÊñπÂºè‰ºöÈÄ†Êàê‰ª•‰∏ãÂá†‰∏™ÈóÆÈ¢òÔºö- Ê®°ÂùóÁöÑÂºïÂÖ•È°∫Â∫èÂèØËÉΩ‰ºöÂá∫Èîô- ‰ºöÊ±°ÊüìÂÖ®Â±ÄÂèòÈáè- Ê®°Âùó‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ª‰∏çÊòéÊòæÂü∫‰∫é‰∏äËø∞ÁöÑÂéüÂõ†ÔºåÂ∞±Êúâ‰∫ÜÂØπ‰∏äËø∞ÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂç≥ÊòØ JavaScript Ê®°ÂùóÂåñËßÑËåÉÔºåÁõÆÂâç‰∏ªÊµÅÁöÑÊúâ CommonJSÔºåAMDÔºåCMDÔºåES6 Module ËøôÂõõÁßçËßÑËåÉ„ÄÇ## Javascript Ê®°ÂùóÂåñ‰πã CommonJSCommonJS ËßÑËåÉÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÊúâÔºå‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊñá‰ª∂Â∞±ÊòØ‰∏Ä‰∏™Ê®°Âùó„ÄÇÊØè‰∏Ä‰∏™Ê®°ÂùóÈÉΩÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑ‰ΩúÁî®ÂüüÔºåÊ®°ÂùóÂøÖÈ°ªÈÄöËøá module.exports ÂØºÂá∫ÂØπÂ§ñÁöÑÂèòÈáèÊàñÊé•Âè£ÔºåÈÄöËøá require() Êù•ÂØºÂÖ•ÂÖ∂‰ªñÊ®°ÂùóÁöÑËæìÂá∫Âà∞ÂΩìÂâçÊ®°Âùó‰ΩúÁî®Âüü‰∏≠Ôºå‰∏ãÈù¢ËÆ≤Ëø∞‰∏Ä‰∏ã NodeJs ‰∏≠ CommonJS ÁöÑÊ®°ÂùóÂåñÊú∫Âà∂„ÄÇ### ‰ΩøÁî®ÊñπÂºè // Ê®°ÂùóÂÆö‰πâ add.jsmodule.eports.add = function(a, b) &#123; return a + b; &#125;; // Ê®°ÂùóÂÆö‰πâ decrease.jsmodule.exports.decrease = function(a, b) &#123; return a - b; &#125;; // formula.js,Ê®°Âùó‰ΩøÁî®ÔºåÂà©Áî® require() ÊñπÊ≥ïÂä†ËΩΩÊ®°Âùó,require ÂØºÂá∫ÁöÑÂç≥ÊòØ module.exports ÁöÑÂÜÖÂÆπconst add = require(&quot;./add.js&quot;).add; const decrease = require(&quot;./decrease.js&quot;).decrease; module.exports.square_difference = function(a, b) &#123; return add(a, b) * decrease(a, b); &#125;; ### exports Âíå module.exportsexports Âíå module.exports ÊòØÊåáÂêëÂêå‰∏Ä‰∏™‰∏úË•øÁöÑÂèòÈáèÔºåÂç≥ÊòØ module.exports = exports = &#123;&#125;ÔºåÊâÄ‰ª•‰Ω†‰πüÂèØ‰ª•ËøôÊ†∑ÂØºÂá∫Ê®°Âùó //add.js exports.add = function(a, b) &#123; return a + b; &#125;; ‰ΩÜÊòØÂ¶ÇÊûúÁõ¥Êé•‰øÆÊîπ exports ÁöÑÊåáÂêëÊòØÊó†ÊïàÁöÑÔºå‰æãÂ¶Ç: // add.js exports = function(a, b) &#123; return a + b; &#125;; // main.jsvar add = require(&quot;./add.js&quot;); Ê≠§Êó∂ÂæóÂà∞ÁöÑ add ÊòØ‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂõ†‰∏∫ require ÂØºÂÖ•ÁöÑÊòØÔºåÂØπÂ∫îÊ®°ÂùóÁöÑ module.exports ÁöÑÂÜÖÂÆπÔºåÂú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåËôΩÁÑ∂‰∏ÄÂºÄÂßã exports = module.exportsÔºå‰ΩÜÊòØÂΩìÊâßË°åÂ¶Ç‰∏ã‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂ∞±Â∞Ü exports ÊåáÂêë‰∫Ü function,ËÄå module.exports ÁöÑÂÜÖÂÆπÂπ∂Ê≤°ÊúâÊîπÂèòÔºåÊâÄ‰ª•Ëøô‰∏™Ê®°ÂùóÁöÑÂØºÂá∫‰∏∫Á©∫ÂØπË±°„ÄÇ exports = function(a, b) &#123; return a + b; &#125;; ### CommonJS Âú® NodeJs ‰∏≠ÁöÑÊ®°ÂùóÂä†ËΩΩÊú∫Âà∂‰ª•‰∏ãÊ†πÊçÆ [NodeJs ‰∏≠ CommonJS Ê®°ÂùóÂä†ËΩΩÊ∫êÁ†Å](https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fblob%2Fmaster%2Flib%2Finternal%2Fmodules%2Fcjs%2Floader.js) Êù•ÂàÜÊûê NodeJS ‰∏≠Ê®°ÂùóÁöÑÂä†ËΩΩÊú∫Âà∂„ÄÇÂú® NodeJs ‰∏≠ÂºïÂÖ•Ê®°Âùó (require)ÔºåÈúÄË¶ÅÁªèÂéÜÂ¶Ç‰∏ã 3 ‰∏™Ê≠•È™§Ôºö1. Ë∑ØÂæÑÂàÜÊûê2. Êñá‰ª∂ÂÆö‰Ωç3. ÁºñËØëÊâßË°å‰∏éÂâçÁ´ØÊµèËßàÂô®‰ºöÁºìÂ≠òÈùôÊÄÅËÑöÊú¨Êñá‰ª∂‰ª•ÊèêÈ´òÊÄßËÉΩ‰∏ÄÊ†∑ÔºåNodeJs ÂØπÂºïÂÖ•ËøáÁöÑÊ®°ÂùóÈÉΩ‰ºöËøõË°åÁºìÂ≠òÔºå‰ª•ÂáèÂ∞ë‰∫åÊ¨°ÂºïÂÖ•Êó∂ÁöÑÂºÄÈîÄ„ÄÇ‰∏çÂêåÁöÑÊòØÔºåÊµèËßàÂô®‰ªÖÁºìÂ≠òÊñá‰ª∂ÔºåËÄåÂú® NodeJs ‰∏≠ÁºìÂ≠òÁöÑÊòØÁºñËØëÂíåÊâßË°åÂêéÁöÑÂØπË±°„ÄÇ#### Ë∑ØÂæÑÂàÜÊûê + Êñá‰ª∂ÂÆö‰ΩçÂÖ∂ÊµÅÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö#### Ê®°ÂùóÁºñËØëÂú®ÂÆö‰ΩçÂà∞Êñá‰ª∂ÂêéÔºåÈ¶ñÂÖà‰ºöÊ£ÄÊü•ËØ•Êñá‰ª∂ÊòØÂê¶ÊúâÁºìÂ≠òÔºåÊúâÁöÑËØùÁõ¥Êé•ËØªÂèñÁºìÂ≠òÔºåÂê¶ÂàôÔºå‰ºöÊñ∞ÂàõÂª∫‰∏Ä‰∏™ Module ÂØπË±°ÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö functionModule(id, parent) &#123; this.id = id; // Ê®°ÂùóÁöÑËØÜÂà´Á¨¶ÔºåÈÄöÂ∏∏ÊòØÂ∏¶ÊúâÁªùÂØπË∑ØÂæÑÁöÑÊ®°ÂùóÊñá‰ª∂Âêç„ÄÇthis.exports = &#123;&#125;; // Ë°®Á§∫Ê®°ÂùóÂØπÂ§ñËæìÂá∫ÁöÑÂÄºthis.parent = parent; // ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåË°®Á§∫Ë∞ÉÁî®ËØ•Ê®°ÂùóÁöÑÊ®°Âùó„ÄÇif (parent &amp;&amp; parent.children) &#123; this.parent.children.push(this); &#125; this.filename = null; this.loaded = false; // ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫Ê®°ÂùóÊòØÂê¶Â∑≤ÁªèÂÆåÊàêÂä†ËΩΩ„ÄÇthis.childrent = []; // ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåË°®Á§∫ËØ•Ê®°ÂùóË¶ÅÁî®Âà∞ÁöÑÂÖ∂‰ªñÊ®°Âùó„ÄÇ &#125; require Êìç‰Ωú‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Module.prototype.require = function(id) &#123; // Ê£ÄÊü•Ê®°ÂùóÊ†áËØÜÁ¨¶if (typeof id !== &quot;string&quot;) &#123; thrownew ERR_INVALID_ARG_TYPE(&quot;id&quot;, &quot;string&quot;, id); &#125; if (id === &quot;&quot;) &#123; thrownew ERR_INVALID_ARG_VALUE(&quot;id&quot;, id, &quot;must be a non-empty string&quot;); &#125; // Ë∞ÉÁî®Ê®°ÂùóÂä†ËΩΩÊñπÊ≥ïreturn Module._load(id, this, /* isMain */false); &#125;; Êé•‰∏ãÊù•ÊòØËß£ÊûêÊ®°ÂùóË∑ØÂæÑÔºåÂà§Êñ≠ÊòØÂê¶ÊúâÁºìÂ≠òÔºåÁÑ∂ÂêéÁîüÊàê Module ÂØπË±°Ôºö Module._load = function(request, parent, isMain) &#123; if (parent) &#123; debug(&quot;Module._load REQUEST %s parent: %s&quot;, request, parent.id); &#125; // Ëß£ÊûêÊñá‰ª∂Âêçvar filename = Module._resolveFilename(request, parent, isMain); var cachedModule = Module._cache[filename]; // Âà§Êñ≠ÊòØÂê¶ÊúâÁºìÂ≠òÔºåÊúâÁöÑËØùËøîÂõûÁºìÂ≠òÂØπË±°ÁöÑ exportsif (cachedModule) &#123; updateChildren(parent, cachedModule, true); return cachedModule.exports; &#125; // Âà§Êñ≠ÊòØÂê¶‰∏∫ÂéüÁîüÊ†∏ÂøÉÊ®°ÂùóÔºåÊòØÁöÑËØù‰ªéÂÜÖÂ≠òÂä†ËΩΩif (NativeModule.nonInternalExists(filename)) &#123; debug(&quot;load native module %s&quot;, request); return NativeModule.require(filename); &#125; // ÁîüÊàêÊ®°ÂùóÂØπË±°varmodule = new Module(filename, parent); if (isMain) &#123; process.mainModule = module; module.id = &quot;.&quot;; &#125; // ÁºìÂ≠òÊ®°ÂùóÂØπË±° Module._cache[filename] = module; // Âä†ËΩΩÊ®°Âùó tryModuleLoad(module, filename); returnmodule.exports; &#125;; tryModuleLoad ÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö functiontryModuleLoad(module, filename) { var threw = true; try { // Ë∞ÉÁî®Ê®°ÂùóÂÆû‰æãloadÊñπÊ≥ïmodule.load(filename); threw = false; } finally { if (threw) { // Â¶ÇÊûúÂä†ËΩΩÂá∫ÈîôÔºåÂàôÂà†Èô§ÁºìÂ≠òdelete Module._cache[filename]; } } } 1Ê®°ÂùóÂØπË±°ÊâßË°åËΩΩÂÖ•Êìç‰Ωú module.load ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Module.prototype.load = function(filename) { debug(&quot;load %j for module %j&quot;, filename, this.id); assert(!this.loaded); this.filename = filename; // Ëß£ÊûêË∑ØÂæÑthis.paths = Module._nodeModulePaths(path.dirname(filename)); // Âà§Êñ≠Êâ©Â±ïÂêçÔºåÂπ∂‰∏îÈªòËÆ§‰∏∫ .js Êâ©Â±ïvar extension = path.extname(filename) || &quot;.js&quot;; // Âà§Êñ≠ÊòØÂê¶ÊúâÂØπÂ∫îÊ†ºÂºèÊñá‰ª∂ÁöÑÂ§ÑÁêÜÂáΩÊï∞Ôºå Ê≤°ÊúâÁöÑËØùÔºåÊâ©Â±ïÂêçÊîπ‰∏∫ .jsif (!Module._extensions[extension]) extension = &quot;.js&quot;; // Ë∞ÉÁî®Áõ∏Â∫îÁöÑÊñá‰ª∂Â§ÑÁêÜÊñπÊ≥ïÔºåÂπ∂‰º†ÂÖ•Ê®°ÂùóÂØπË±° Module._extensions[extension](this, filename); this.loaded = true; // Â§ÑÁêÜ ES Moduleif (experimentalModules) { if (asyncESM === undefined) lazyLoadESM(); const ESMLoader = asyncESM.ESMLoader; const url = pathToFileURL(filename); const urlString = `${url}`; const exports = this.exports; if (ESMLoader.moduleMap.has(urlString) !== true) { ESMLoader.moduleMap.set( urlString, new ModuleJob(ESMLoader, url, async () =&gt; { const ctx = createDynamicModule([&quot;default&quot;], url); ctx.reflect.exports.default.set(exports); return ctx; }) ); } else { const job = ESMLoader.moduleMap.get(urlString); if (job.reflect) job.reflect.exports.default.set(exports); } } }; 12Âú®ËøôÈáåÂêåÊ≠•ËØªÂèñÊ®°ÂùóÔºåÂÜçÊâßË°åÁºñËØëÊìç‰ΩúÔºö Module._extensions[&quot;.js&quot;] = function(module, filename) { // ÂêåÊ≠•ËØªÂèñÊñá‰ª∂var content = fs.readFileSync(filename, &quot;utf8&quot;); // ÁºñËØë‰ª£Á†Åmodule._compile(stripBOM(content), filename); }; 1234ÁºñËØëËøáÁ®ã‰∏ªË¶ÅÂÅö‰∫Ü‰ª•‰∏ãÁöÑÊìç‰ΩúÔºö1. Â∞Ü JavaScript ‰ª£Á†ÅÁî®ÂáΩÊï∞‰ΩìÂåÖË£ÖÔºåÈöîÁ¶ª‰ΩúÁî®ÂüüÔºå‰æãÂ¶ÇÔºö exports.add = (function(a, b) { return a + b; } `‰ºöË¢´ËΩ¨Êç¢‰∏∫ ( function(exports, require, modules, __filename, __dirname) { exports.add = function(a, b) { return a + b; }; } ); ÊâßË°åÂáΩÊï∞ÔºåÊ≥®ÂÖ•Ê®°ÂùóÂØπË±°ÁöÑ exports Â±ûÊÄßÔºårequire ÂÖ®Â±ÄÊñπÊ≥ïÔºå‰ª•ÂèäÂØπË±°ÂÆû‰æãÔºåfilename, dirnameÔºåÁÑ∂ÂêéÊâßË°åÊ®°ÂùóÁöÑÊ∫êÁ†Å„ÄÇ ËøîÂõûÊ®°ÂùóÂØπË±° exports Â±ûÊÄß„ÄÇ JavaScript Ê®°ÂùóÂåñ‰πã AMDAMD, Asynchronous Module DefinitionÔºåÂç≥ÂºÇÊ≠•Ê®°ÂùóÂä†ËΩΩÊú∫Âà∂ÔºåÂÆÉÈááÁî®ÂºÇÊ≠•ÊñπÂºèÂä†ËΩΩÊ®°ÂùóÔºåÊ®°ÂùóÁöÑÂä†ËΩΩ‰∏çÂΩ±ÂìçÂÆÉÂêéÈù¢ËØ≠Âè•ÁöÑËøêË°å„ÄÇÊâÄÊúâ‰æùËµñËøô‰∏™Ê®°ÂùóÁöÑËØ≠Âè•ÈÉΩÂÆö‰πâÂú®‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞‰∏≠ÔºåÁ≠âÂà∞‰æùËµñÂä†ËΩΩÂÆåÊàê‰πãÂêéÔºåËøô‰∏™ÂõûË∞ÉÂáΩÊï∞Êâç‰ºöËøêË°å„ÄÇ AMD ÁöÑËØûÁîüÔºåÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏§‰∏™ÈóÆÈ¢òÔºö ÂÆûÁé∞ JavaScript Êñá‰ª∂ÁöÑÂºÇÊ≠•Âä†ËΩΩÔºåÈÅøÂÖçÁΩëÈ°µÂ§±ÂéªÂìçÂ∫î ÁÆ°ÁêÜÊ®°Âùó‰πãÈó¥ÁöÑ‰æùËµñÊÄßÔºå‰æø‰∫é‰ª£Á†ÅÁöÑÁºñÂÜôÂíåÁª¥Êä§ // Ê®°ÂùóÂÆö‰πâ define(id?: String, dependencies?: String[], factory: Function|Object); id ÊòØÊ®°ÂùóÁöÑÂêçÂ≠óÔºåÂÆÉÊòØÂèØÈÄâÁöÑÂèÇÊï∞„ÄÇ dependencies ÊåáÂÆö‰∫ÜÊâÄË¶Å‰æùËµñÁöÑÊ®°ÂùóÂàóË°®ÔºåÂÆÉÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºå‰πüÊòØÂèØÈÄâÁöÑÂèÇÊï∞„ÄÇÊØè‰∏™‰æùËµñÁöÑÊ®°ÂùóÁöÑËæìÂá∫ÈÉΩÂ∞Ü‰Ωú‰∏∫ÂèÇÊï∞‰∏ÄÊ¨°‰º†ÂÖ• factory ‰∏≠„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆö dependenciesÔºåÈÇ£‰πàÂÆÉÁöÑÈªòËÆ§ÂÄºÊòØ [‚Äúrequire‚Äù, ‚Äúexports‚Äù, ‚Äúmodule‚Äù]„ÄÇ factory ÊòØÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂÆÉÂåÖË£π‰∫ÜÊ®°ÂùóÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊàñËÄÖÂØπË±°„ÄÇÂ¶ÇÊûúÊòØÂáΩÊï∞ÔºåÈÇ£‰πàÂÆÉÁöÑËøîÂõûÂÄºÂ∞±ÊòØÊ®°ÂùóÁöÑËæìÂá∫Êé•Âè£ÊàñÂÄºÔºåÂ¶ÇÊûúÊòØÂØπË±°ÔºåÊ≠§ÂØπË±°Â∫îËØ•‰∏∫Ê®°ÂùóÁöÑËæìÂá∫ÂÄº„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºö // Ê®°ÂùóÂÆö‰πâÔºåadd.js define(function() { let add = function(a, b) { return a + b; }; return add; }); // Ê®°ÂùóÂÆö‰πâÔºådecrease.js define(function() { let decrease = function(a, b) { return a - b; }; return decrease; }); // Ê®°ÂùóÂÆö‰πâÔºåsquare.js define([&quot;./add&quot;, &quot;./decrease&quot;], function(add, decrease) { let square = function(a, b) { return add(a, b) * decrease(a, b); }; return square; }); // Ê®°Âùó‰ΩøÁî®Ôºå‰∏ªÂÖ•Âè£Êñá‰ª∂ main.jsrequire([&quot;square&quot;], function(math) { console.log(square(6, 3)); }); ËøôÈáåÁî®ÂÆûÁé∞‰∫Ü AMD ËßÑËåÉÁöÑ RequireJS Êù•ÂàÜÊûêÔºåRequireJS Ê∫êÁ†ÅËæÉ‰∏∫Â§çÊùÇÔºåËøôÈáåÂè™ÂØπÂºÇÊ≠•Ê®°ÂùóÂä†ËΩΩÂéüÁêÜÂÅö‰∏Ä‰∏™ÂàÜÊûê„ÄÇÂú®Âä†ËΩΩÊ®°ÂùóÁöÑËøáÁ®ã‰∏≠Ôºå RequireJS ‰ºöË∞ÉÁî®Â¶Ç‰∏ãÂáΩÊï∞Ôºö /** * * @param {Object} context the require context to find state. * @param {String} moduleName the name of the module. * @param {Object} url the URL to the module. */ req.load = function(context, moduleName, url) { var config = (context &amp;&amp; context.config) || {}, node; // Âà§Êñ≠ÊòØÂê¶‰∏∫ÊµèËßàÂô®if (isBrowser) { // Ê†πÊçÆÊ®°ÂùóÂêçÁß∞Âíå url ÂàõÂª∫‰∏Ä‰∏™ Script Ê†áÁ≠æ node = req.createNode(config, moduleName, url); node.setAttribute(&quot;data-requirecontext&quot;, context.contextName); node.setAttribute(&quot;data-requiremodule&quot;, moduleName); // ÂØπ‰∏çÂêåÁöÑÊµèËßàÂô® Script Ê†áÁ≠æ‰∫ã‰ª∂ÁõëÂê¨ÂÅöÂÖºÂÆπÂ§ÑÁêÜif ( node.attachEvent &amp;&amp; !( node.attachEvent.toString &amp;&amp; node.attachEvent.toString().indexOf(&quot;[native code&quot;) &lt; 0 ) &amp;&amp; !isOpera ) { useInteractive = true; node.attachEvent(&quot;onreadystatechange&quot;, context.onScriptLoad); } else { node.addEventListener(&quot;load&quot;, context.onScriptLoad, false); node.addEventListener(&quot;error&quot;, context.onScriptError, false); } // ËÆæÁΩÆ Script Ê†áÁ≠æÁöÑ src Â±ûÊÄß‰∏∫Ê®°ÂùóË∑ØÂæÑ node.src = url; if (config.onNodeCreated) { config.onNodeCreated(node, config, moduleName, url); } currentlyAddingScript = node; // Â∞Ü Script Ê†áÁ≠æÊèíÂÖ•Âà∞È°µÈù¢‰∏≠if (baseElement) { head.insertBefore(node, baseElement); } else { head.appendChild(node); } currentlyAddingScript = null; return node; } elseif (isWebWorker) { try { //In a web worker, use importScripts. This is not a very//efficient use of importScripts, importScripts will block until//its script is downloaded and evaluated. However, if web workers//are in play, the expectation is that a build has been done so//that only one script needs to be loaded anyway. This may need//to be reevaluated if other use cases become common.// Post a task to the event loop to work around a bug in WebKit// where the worker gets garbage-collected after calling// importScripts(): https://webkit.org/b/153317 setTimeout(function() {}, 0); importScripts(url); //Account for anonymous modules context.completeLoad(moduleName); } catch (e) { context.onError( makeError( &quot;importscripts&quot;, &quot;importScripts failed for &quot; + moduleName + &quot; at &quot; + url, e, [moduleName] ) ); } } }; // ÂàõÂª∫ÂºÇÊ≠• Script Ê†áÁ≠æ req.createNode = function(config, moduleName, url) { var node = config.xhtml ? document.createElementNS(&quot;http://www.w3.org/1999/xhtml&quot;, &quot;html:script&quot;) : document.createElement(&quot;script&quot;); node.type = config.scriptType || &quot;text/javascript&quot;; node.charset = &quot;utf-8&quot;; node.async = true; return node; }; ÂèØ‰ª•ÁúãÂá∫ÔºåËøôÈáå‰∏ªË¶ÅÊòØÊ†πÊçÆÊ®°ÂùóÁöÑ UrlÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂºÇÊ≠•ÁöÑ Script Ê†áÁ≠æÔºåÂπ∂Â∞ÜÊ®°Âùó id ÂêçÁß∞Ê∑ªÂä†Âà∞ÁöÑÊ†áÁ≠æÁöÑ data-requiremodule ‰∏äÔºåÂÜçÂ∞ÜËøô‰∏™ Script Ê†áÁ≠æÊ∑ªÂä†Âà∞‰∫Ü html È°µÈù¢‰∏≠„ÄÇÂêåÊó∂‰∏∫ Script Ê†áÁ≠æÁöÑ load ‰∫ã‰ª∂Ê∑ªÂä†‰∫ÜÂ§ÑÁêÜÂáΩÊï∞ÔºåÂΩìËØ•Ê®°ÂùóÊñá‰ª∂Ë¢´Âä†ËΩΩÂÆåÊØïÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöËß¶Âèë context.onScriptLoad„ÄÇÊàë‰ª¨Âú® onScriptLoad Ê∑ªÂä†Êñ≠ÁÇπÔºåÂèØ‰ª•ÁúãÂà∞È°µÈù¢ÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫: Áî±ÂõæÂèØ‰ª•ÁúãÂà∞ÔºåHtml ‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™ Script Ê†áÁ≠æÔºåËøô‰πüÂ∞±ÊòØÂºÇÊ≠•Âä†ËΩΩÊ®°ÂùóÁöÑÂéüÁêÜ„ÄÇ JavaScript Ê®°ÂùóÂåñ‰πã CMDCMD (Common Module Definition) ÈÄöÁî®Ê®°ÂùóÂÆö‰πâÔºåCMD Âú®ÊµèËßàÂô®Á´ØÁöÑÂÆûÁé∞Êúâ SeaJSÔºå Âíå RequireJS ‰∏ÄÊ†∑ÔºåSeaJS Âä†ËΩΩÂéüÁêÜ‰πüÊòØÂä®ÊÄÅÂàõÂª∫ÂºÇÊ≠• Script Ê†áÁ≠æ„ÄÇ‰∫åËÄÖÁöÑÂå∫Âà´‰∏ªË¶ÅÊòØ‰æùËµñÂÜôÊ≥ï‰∏ä‰∏çÂêåÔºåAMD Êé®Â¥á‰∏ÄÂºÄÂßãÂ∞±Âä†ËΩΩÊâÄÊúâÁöÑ‰æùËµñÔºåËÄå CMD ÂàôÊé®Â¥áÂú®ÈúÄË¶ÅÁî®ÁöÑÂú∞ÊñπÊâçËøõË°å‰æùËµñÂä†ËΩΩ„ÄÇ // ADM Âú®ÊâßË°å‰ª•‰∏ã‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåRequireJS ‰ºöÈ¶ñÂÖàÂàÜÊûê‰æùËµñÊï∞ÁªÑÔºåÁÑ∂Âêé‰æùÊ¨°Âä†ËΩΩÔºåÁõ¥Âà∞ÊâÄÊúâÂä†ËΩΩÂÆåÊØïÂÜçÊâßË°åÂõûÂà∞ÂáΩÊï∞ define([&quot;add&quot;, &quot;decrease&quot;], function(add, decrease) { let result1 = add(9, 7); let result2 = decrease(9, 7); console.log(result1 * result2); }); // CMD Âú®ÊâßË°å‰ª•‰∏ã‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºå SeaJS ‰ºöÈ¶ñÂÖàÁî®Ê≠£ÂàôÂåπÈÖçÂá∫‰ª£Á†ÅÈáåÈù¢ÊâÄÊúâÁöÑ require ËØ≠Âè•ÔºåÊãøÂà∞‰æùËµñÔºåÁÑ∂Âêé‰æùÊ¨°Âä†ËΩΩÔºåÂä†ËΩΩÂÆåÊàêÂÜçÊâßË°åÂõûË∞ÉÂáΩÊï∞ define(function(require) { let add = require(&quot;add&quot;); let result1 = add(9, 7); let add = require(&quot;decrease&quot;); let result2 = decrease(9, 7); console.log(result1 * result2); }); JavaScript Ê®°ÂùóÂåñ‰πã ES ModuleES Module ÊòØÂú® ECMAScript 6 ‰∏≠ÂºïÂÖ•ÁöÑÊ®°ÂùóÂåñÂäüËÉΩ„ÄÇÊ®°ÂùóÂäüËÉΩ‰∏ªË¶ÅÁî±‰∏§‰∏™ÂëΩ‰ª§ÊûÑÊàêÔºåÂàÜÂà´ÊòØ export Âíå import„ÄÇexport ÂëΩ‰ª§Áî®‰∫éËßÑÂÆöÊ®°ÂùóÁöÑÂØπÂ§ñÊé•Âè£Ôºåimport ÂëΩ‰ª§Áî®‰∫éËæìÂÖ•ÂÖ∂‰ªñÊ®°ÂùóÊèê‰æõÁöÑÂäüËÉΩ„ÄÇ ÂÖ∂‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ã: // Ê®°ÂùóÂÆö‰πâ add.jsexportfunctionadd(a, b) { return a + b; } // Ê®°Âùó‰ΩøÁî® main.jsimport { add } from&quot;./add.js&quot;; console.log(add(1, 2)); // 3 ‰∏ãÈù¢ËÆ≤Ëø∞Âá†‰∏™ËæÉ‰∏∫ÈáçË¶ÅÁöÑÁÇπ„ÄÇ export Âíå export defaultÂú®‰∏Ä‰∏™Êñá‰ª∂ÊàñÊ®°Âùó‰∏≠Ôºåexport ÂèØ‰ª•ÊúâÂ§ö‰∏™Ôºåexport default ‰ªÖÊúâ‰∏Ä‰∏™, export Á±ª‰ºº‰∫éÂÖ∑ÂêçÂØºÂá∫ÔºåËÄå default Á±ª‰ºº‰∫éÂØºÂá∫‰∏Ä‰∏™ÂèòÈáèÂêç‰∏∫ default ÁöÑÂèòÈáè„ÄÇÂêåÊó∂Âú® import ÁöÑÊó∂ÂÄôÔºåÂØπ‰∫é export ÁöÑÂèòÈáèÔºåÂøÖÈ°ªË¶ÅÁî®ÂÖ∑ÂêçÁöÑÂØπË±°ÂéªÊâøÊé•ÔºåËÄåÂØπ‰∫é defaultÔºåÂàôÂèØ‰ª•‰ªªÊÑèÊåáÂÆöÂèòÈáèÂêçÔºå‰æãÂ¶ÇÔºö // a.jsexportvar a = 2; exportvar b = 3 ; // main.js Âú®ÂØºÂá∫ÁöÑÊó∂ÂÄôÂøÖÈ°ªË¶ÅÁî®ÂÖ∑ÂêçÂèòÈáè a, b ‰∏î‰ª•Ëß£ÊûÑÁöÑÊñπÂºèÂæóÂà∞ÂØºÂá∫ÂèòÈáèimport {a, b} from&apos;a.js&apos;// ‚àö a= 2, b = 3import a from&apos;a.js&apos;// x// b.js export default ÊñπÂºèconst a = 3exportdefault a // Ê≥®ÊÑè‰∏çËÉΩ export default const a = 3 ,Âõ†‰∏∫ËøôÈáå default Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂèòÈáèÂêç// ÂØºÂá∫import b form &apos;b.js&apos;// ‚àöimport c form &apos;b.js&apos;// ‚àö Âõ†‰∏∫ b Ê®°ÂùóÂØºÂá∫ÁöÑÊòØ defaultÔºåÂØπ‰∫éÂØºÂá∫ÁöÑdefaultÔºåÂèØ‰ª•Áî®‰ªªÊÑèÂèòÈáèÂéªÊâøÊé• ES Module Ê®°ÂùóÂä†ËΩΩÂíåÂØºÂá∫ËøáÁ®ã‰ª•Â¶Ç‰∏ã‰ª£Á†Å‰∏∫‰æãÂ≠êÔºö // counter.jsexportlet count = 5// display.jsexportfunctionrender() { console.log(&apos;render&apos;) } // main.jsimport { counter } from&apos;./counter.js&apos;; import { render } from&apos;./display.js&apos; ......// more code Âú®Ê®°ÂùóÂä†ËΩΩÊ®°ÂùóÁöÑËøáÁ®ã‰∏≠Ôºå‰∏ªË¶ÅÁªèÂéÜ‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö ÊûÑÂª∫ (Construction)Ëøô‰∏™ËøáÁ®ãÊâßË°åÊü•ÊâæÔºå‰∏ãËΩΩÔºåÂπ∂Â∞ÜÊñá‰ª∂ËΩ¨Âåñ‰∏∫Ê®°ÂùóËÆ∞ÂΩï (Module record)„ÄÇÊâÄË∞ìÁöÑÊ®°ÂùóËÆ∞ÂΩïÊòØÊåá‰∏Ä‰∏™ËÆ∞ÂΩï‰∫ÜÂØπÂ∫îÊ®°ÂùóÁöÑËØ≠Ê≥ïÊ†ëÔºå‰æùËµñ‰ø°ÊÅØÔºå‰ª•ÂèäÂêÑÁßçÂ±ûÊÄßÂíåÊñπÊ≥ï (ËøôÈáå‰∏çÊòØÂæàÊòéÁôΩ)„ÄÇÂêåÊ†∑‰πüÊòØÂú®Ëøô‰∏™ËøáÁ®ãÂØπÊ®°ÂùóËÆ∞ÂΩïËøõË°å‰∫ÜÁºìÂ≠òÁöÑÊìç‰ΩúÔºå‰∏ãÂõæÊòØ‰∏Ä‰∏™Ê®°ÂùóËÆ∞ÂΩïË°®Ôºö ‰∏ãÂõæÊòØÁºìÂ≠òËÆ∞ÂΩïË°®Ôºö ÂÆû‰æãÂåñ (Instantiation)Ëøô‰∏™ËøáÁ®ã‰ºöÂú®ÂÜÖÂ≠ò‰∏≠ÂºÄËæü‰∏Ä‰∏™Â≠òÂÇ®Á©∫Èó¥ (Ê≠§Êó∂ËøòÊ≤°ÊúâÂ°´ÂÖÖÂÄº)ÔºåÁÑ∂ÂêéÂ∞ÜËØ•Ê®°ÂùóÊâÄÊúâÁöÑ export Âíå import ‰∫ÜËØ•Ê®°ÂùóÁöÑÂèòÈáèÊåáÂêëËøô‰∏™ÂÜÖÂ≠òÔºåËøô‰∏™ËøáÁ®ãÂè´ÂÅöÈìæÊé•„ÄÇÂÖ∂ÂÜôÂÖ• export Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ÁÑ∂ÂêéÊòØÈìæÊé• importÔºåÂÖ∂Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ËµãÂÄº(Evaluation)Ëøô‰∏™ËøáÁ®ã‰ºöÊâßË°åÊ®°Âùó‰ª£Á†ÅÔºåÂπ∂Áî®ÁúüÂÆûÁöÑÂÄºÂ°´ÂÖÖ‰∏ä‰∏ÄÈò∂ÊÆµÂºÄËæüÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÊ≠§ËøáÁ®ãÂêé import ÈìæÊé•Âà∞ÁöÑÂÄºÂ∞±ÊòØ export ÂØºÂá∫ÁöÑÁúüÂÆûÂÄº„ÄÇ Ê†πÊçÆ‰∏äÈù¢ÁöÑËøáÁ®ãÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅì„ÄÇES Module Ê®°Âùó export Âíå import ÂÖ∂ÂÆûÊåáÂêëÁöÑÊòØÂêå‰∏ÄÂùóÂÜÖÂ≠òÔºå‰ΩÜÊúâ‰∏Ä‰∏™ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåimport Â§Ñ‰∏çËÉΩÂØπËøôÂùóÂÜÖÂ≠òÁöÑÂÄºËøõË°å‰øÆÊîπÔºåËÄå export ÂèØ‰ª•ÔºåÂÖ∂Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö ES6 Ê®°Âùó‰∏é CommonJS Ê®°ÂùóÁöÑÂ∑ÆÂºÇ CommonJS Ê®°ÂùóËæìÂá∫ÁöÑÊòØ‰∏Ä‰∏™ÂÄºÁöÑÊã∑Ë¥ùÔºåES6 Ê®°ÂùóËæìÂá∫ÁöÑÊòØÂÄºÁöÑÂºïÁî®„ÄÇ?CommonJS Ê®°ÂùóËæìÂá∫ÁöÑÊòØÂÄºÁöÑÊã∑Ë¥ùÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ËæìÂá∫‰∏Ä‰∏™ÂÄºÔºåÊ®°ÂùóÂÜÖÈÉ®ÁöÑÂèòÂåñÂ∞±ÂΩ±Âìç‰∏çÂà∞Ëøô‰∏™ÂÄº„ÄÇES6 Ê®°ÂùóÁöÑËøêË°åÊú∫Âà∂‰∏é CommonJS ‰∏ç‰∏ÄÊ†∑„ÄÇJS ÂºïÊìéÂØπËÑöÊú¨ÈùôÊÄÅÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÈÅáÂà∞Ê®°ÂùóÂä†ËΩΩÂëΩ‰ª§importÔºåÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™Âè™ËØªÂºïÁî®„ÄÇÁ≠âÂà∞ËÑöÊú¨ÁúüÊ≠£ÊâßË°åÊó∂ÔºåÂÜçÊ†πÊçÆËøô‰∏™Âè™ËØªÂºïÁî®ÔºåÂà∞Ë¢´Âä†ËΩΩÁöÑÈÇ£‰∏™Ê®°ÂùóÈáåÈù¢ÂéªÂèñÂÄº„ÄÇÊç¢Âè•ËØùËØ¥ÔºåES6 ÁöÑimportÊúâÁÇπÂÉè Unix Á≥ªÁªüÁöÑ‚ÄúÁ¨¶Âè∑ËøûÊé•‚ÄùÔºåÂéüÂßãÂÄºÂèò‰∫ÜÔºåimportÂä†ËΩΩÁöÑÂÄº‰πü‰ºöË∑üÁùÄÂèò„ÄÇÂõ†Ê≠§ÔºåES6 Ê®°ÂùóÊòØÂä®ÊÄÅÂºïÁî®ÔºåÂπ∂‰∏î‰∏ç‰ºöÁºìÂ≠òÂÄºÔºåÊ®°ÂùóÈáåÈù¢ÁöÑÂèòÈáèÁªëÂÆöÂÖ∂ÊâÄÂú®ÁöÑÊ®°Âùó„ÄÇ CommonJS Ê®°ÂùóÊòØËøêË°åÊó∂Âä†ËΩΩÔºåES6 Ê®°ÂùóÊòØÁºñËØëÊó∂ËæìÂá∫Êé•Âè£„ÄÇËøêË°åÊó∂Âä†ËΩΩ: CommonJS Ê®°ÂùóÂ∞±ÊòØÂØπË±°ÔºõÂç≥Âú®ËæìÂÖ•Êó∂ÊòØÂÖàÂä†ËΩΩÊï¥‰∏™Ê®°ÂùóÔºåÁîüÊàê‰∏Ä‰∏™ÂØπË±°ÔºåÁÑ∂ÂêéÂÜç‰ªéËøô‰∏™ÂØπË±°‰∏äÈù¢ËØªÂèñÊñπÊ≥ïÔºåËøôÁßçÂä†ËΩΩÁß∞‰∏∫‚ÄúËøêË°åÊó∂Âä†ËΩΩ‚Äù„ÄÇÁºñËØëÊó∂Âä†ËΩΩ: ES6 Ê®°Âùó‰∏çÊòØÂØπË±°ÔºåËÄåÊòØÈÄöËøá export ÂëΩ‰ª§ÊòæÂºèÊåáÂÆöËæìÂá∫ÁöÑ‰ª£Á†ÅÔºåimportÊó∂ÈááÁî®ÈùôÊÄÅÂëΩ‰ª§ÁöÑÂΩ¢Âºè„ÄÇÂç≥Âú®importÊó∂ÂèØ‰ª•ÊåáÂÆöÂä†ËΩΩÊüê‰∏™ËæìÂá∫ÂÄºÔºåËÄå‰∏çÊòØÂä†ËΩΩÊï¥‰∏™Ê®°ÂùóÔºåËøôÁßçÂä†ËΩΩÁß∞‰∏∫‚ÄúÁºñËØëÊó∂Âä†ËΩΩ‚Äù„ÄÇCommonJS Âä†ËΩΩÁöÑÊòØ‰∏Ä‰∏™ÂØπË±°ÔºàÂç≥module.exportsÂ±ûÊÄßÔºâÔºåËØ•ÂØπË±°Âè™ÊúâÂú®ËÑöÊú¨ËøêË°åÂÆåÊâç‰ºöÁîüÊàê„ÄÇËÄå ES6 Ê®°Âùó‰∏çÊòØÂØπË±°ÔºåÂÆÉÁöÑÂØπÂ§ñÊé•Âè£Âè™ÊòØ‰∏ÄÁßçÈùôÊÄÅÂÆö‰πâÔºåÂú®‰ª£Á†ÅÈùôÊÄÅËß£ÊûêÈò∂ÊÆµÂ∞±‰ºöÁîüÊàê„ÄÇ CMD‰∏éAMDÂå∫Âà´ AMDÂíåCMDÊúÄÂ§ßÁöÑÂå∫Âà´ÊòØÂØπ‰æùËµñÊ®°ÂùóÁöÑÊâßË°åÊó∂Êú∫Â§ÑÁêÜ‰∏çÂêåÔºåËÄå‰∏çÊòØÂä†ËΩΩÁöÑÊó∂Êú∫ÊàñËÄÖÊñπÂºè‰∏çÂêåÔºå‰∫åËÄÖÁöÜ‰∏∫ÂºÇÊ≠•Âä†ËΩΩÊ®°Âùó„ÄÇ AMD‰æùËµñÂâçÁΩÆÔºåjsÂèØ‰ª•Êñπ‰æøÁü•ÈÅì‰æùËµñÊ®°ÂùóÊòØË∞ÅÔºåÁ´ãÂç≥Âä†ËΩΩÔºõ ËÄåCMDÂ∞±Ëøë‰æùËµñÔºåÈúÄË¶Å‰ΩøÁî®ÊääÊ®°ÂùóÂèò‰∏∫Â≠óÁ¨¶‰∏≤Ëß£Êûê‰∏ÄÈÅçÊâçÁü•ÈÅì‰æùËµñ‰∫ÜÈÇ£‰∫õÊ®°ÂùóÔºåËøô‰πüÊòØÂæàÂ§ö‰∫∫ËØüÁóÖCMDÁöÑ‰∏ÄÁÇπÔºåÁâ∫Áâ≤ÊÄßËÉΩÊù•Â∏¶Êù•ÂºÄÂèëÁöÑ‰æøÂà©ÊÄßÔºåÂÆûÈôÖ‰∏äËß£ÊûêÊ®°ÂùóÁî®ÁöÑÊó∂Èó¥Áü≠Âà∞ÂèØ‰ª•ÂøΩÁï•„ÄÇ ÊÄªÁªìÊú¨Êñá‰∏ªË¶ÅÂØπÁõÆÂâç‰∏ªÊµÅÁöÑ JavaScript Ê®°ÂùóÂåñÊñπÊ°à CommonJsÔºåAMDÔºåCMD, ES Module ËøõË°å‰∫ÜÂ≠¶‰π†Âíå‰∫ÜËß£ÔºåÂπ∂ÂØπÂÖ∂‰∏≠ÊúÄÊúâ‰ª£Ë°®ÊÄßÁöÑÊ®°ÂùóÂåñÂÆûÁé∞ (NodeJsÔºåRequireJSÔºåSeaJSÔºåES6) ÂÅö‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂàÜÊûê„ÄÇÂØπ‰∫éÊúçÂä°Á´ØÁöÑÊ®°ÂùóËÄåË®ÄÔºåÁî±‰∫éÂÖ∂Ê®°ÂùóÈÉΩÊòØÂ≠òÂÇ®Âú®Êú¨Âú∞ÁöÑÔºåÊ®°ÂùóÂä†ËΩΩÊñπ‰æøÔºåÊâÄ‰ª•ÈÄöÂ∏∏ÊòØÈááÁî®ÂêåÊ≠•ËØªÂèñÊñá‰ª∂ÁöÑÊñπÂºèËøõË°åÊ®°ÂùóÂä†ËΩΩ„ÄÇËÄåÂØπ‰∫éÊµèËßàÂô®ËÄåË®ÄÔºåÂÖ∂Ê®°Âùó‰∏ÄËà¨ÊòØÂ≠òÂÇ®Âú®ËøúÁ®ãÁΩëÁªú‰∏äÁöÑÔºåÊ®°ÂùóÁöÑ‰∏ãËΩΩÊòØ‰∏Ä‰∏™ÂçÅÂàÜËÄóÊó∂ÁöÑËøáÁ®ãÔºåÊâÄ‰ª•ÈÄöÂ∏∏ÊòØÈááÁî®Âä®ÊÄÅÂºÇÊ≠•ËÑöÊú¨Âä†ËΩΩÁöÑÊñπÂºèÂä†ËΩΩÊ®°ÂùóÊñá‰ª∂„ÄÇÂè¶Â§ñÔºåÊó†ËÆ∫ÊòØÂÆ¢Êà∑Á´ØËøòÊòØÊúçÂä°Á´ØÁöÑ JavaScript Ê®°ÂùóÂåñÂÆûÁé∞ÔºåÈÉΩ‰ºöÂØπÊ®°ÂùóËøõË°åÁºìÂ≠òÔºå‰ª•Ê≠§ÂáèÂ∞ë‰∫åÊ¨°Âä†ËΩΩÁöÑÂºÄÈîÄ„ÄÇ]]></content>
      <tags>
        <tag>amd</tag>
        <tag>cmd</tag>
        <tag>CommonJS</tag>
        <tag>Ê®°ÂùóÂåñ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[26‰∏™Á≤æÈÄâÁöÑJavaScriptÈù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2016%2F10%2F31%2F26%E4%B8%AA%E7%B2%BE%E9%80%89%E7%9A%84JavaScript%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Âú®JavaScript‰∏≠ÔºåÂú®‰∏§‰∏™‰∏çÂêåÁ±ªÂûã‰πãÈó¥ÁöÑËΩ¨Êç¢Âè´ÂÅöcoercion„ÄÇÂú®JavaScript‰∏≠Êúâ‰∏§ÁßçÂΩ¢ÂºèÔºöÊòæÁ§∫ËΩ¨Êç¢ÂíåÈöêÂºèËΩ¨Êç¢„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÊòæÁ§∫ËΩ¨Êç¢ÁöÑ‰æãÂ≠êÔºö var a = &quot;42&quot;; var b = Number( a ); a; // &quot;42&quot; b; // 42 -- the number! ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÈöêÂºèËΩ¨Êç¢ÁöÑ‰æãÂ≠êÔºö var a = &quot;42&quot;; var b = a * 1; // &quot;42&quot; implicitly coerced to 42 here a; // &quot;42&quot; b; // 42 -- the number! Êù•Ê∫ê: FullStack.Cafe Q2: JavaScript‰∏≠ÁöÑ‰ΩúÁî®ÂüüÊòØÊÄéÊ†∑ÁöÑÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê Âú®JavaScript‰∏≠ÔºåÊØè‰∏Ä‰∏™ÂáΩÊï∞ÈÉΩÊúâÂêÑËá™ÁöÑ‰ΩúÁî®Âüü(scope)„ÄÇ‰ΩúÁî®ÂüüÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØ‰∏Ä‰∏™ÂèòÈáèÁöÑÈõÜÂêà‰ª•ÂèäÁõ∏Â∫îÁöÑÂ¶Ç‰ΩïËÆøÈóÆÂÆÉÁöÑËßÑÂàô„ÄÇÂè™ÊúâÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÂèòÈáèÊâçÂèØ‰ª•ËÆøÈóÆÂà∞ËØ•ÂáΩÊï∞ÂüüÁöÑÂèòÈáè„ÄÇ Âú®Âêå‰∏Ä‰∏™‰ΩúÁî®ÂüüÂÜÖÈÉ®ÔºåÂèòÈáèÂêçÂøÖÈ°ªË¶ÅÂîØ‰∏Ä„ÄÇ‰ΩúÁî®ÂüüÂèØ‰ª•ÂµåÂ•ó„ÄÇÂú®ÊúÄÂÜÖÈÉ®ÁöÑ‰ΩúÁî®Âüü‰∏≠ÔºåÂèØ‰ª•ËÆøÈóÆ‰ªª‰ΩïÂ§ñÈÉ®ÁöÑ‰ΩúÁî®Âüü‰∏≠ÁöÑÂèòÈáè„ÄÇ Q3: ËØ∑Ëß£ÈáäJavaScript‰∏≠ÁöÑÁõ∏Á≠âÂà§Êñ≠ ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê JavaScript‰∏≠ÁöÑÁõ∏Á≠âÂà§Êñ≠Êúâ‰∏•Ê†ºÂà§Êñ≠ÂíåÂ∏¶ÈöêÂºèËΩ¨Êç¢ÁöÑÂà§Êñ≠‰∏§ÁßçÔºö ‰∏•Ê†ºÂà§Êñ≠(strict comparision): ÊØîÂ¶Ç===ÔºåÊØîËæÉÁöÑÊó∂ÂÄô‰∏ç‰ºöÈöêÂºèËΩ¨Êç¢Á±ªÂûãÔºõ ÊäΩË±°Âà§Êñ≠(abstract comparasion)ÔºöÊØîÂ¶Ç==ÔºåÊØîËæÉÁöÑÊó∂ÂÄô‰ºöÈöêÂºèËΩ¨Êç¢Á±ªÂûã„ÄÇ var a = ‚Äú42‚Äù; var b = 42; a == b; // true a === b; // false ‰∏Ä‰∫õÁÆÄÂçïÁöÑËßÑÂàôÔºö Â¶ÇÊûú‰∏§ËæπÈÉΩÊòØÂ∏ÉÂ∞îÁ±ªÂûãÁöÑÂÄºÔºå‰ΩøÁî®===; Â¶ÇÊûú‰∏§ËæπÊòØ0,&quot;&quot;,[]Ôºå‰ΩøÁî®===; ÊâÄÊúâÂÖ∂ÂÆÉÁ±ªÂûãÔºå‰ΩøÁî®==ÊòØÂÆâÂÖ®ÁöÑ„ÄÇËÄå‰∏îÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ã‰ºöÁÆÄÂåñ‰ª£Á†Å„ÄÅÂ¢ûÂä†ÂèØËØªÊÄß„ÄÇ Q4: ËØ∑Ëß£Èáä‰ªÄ‰πàÂè´ÂÅöÂõûË∞ÉÂáΩÊï∞Âπ∂Êèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ÂõûË∞ÉÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉË¢´‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•Âè¶‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂΩìÊüê‰∫õÊìç‰ΩúÁªìÊùüÂêéÔºåËØ•ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÂΩìÊï∞ÁªÑË¢´‰øÆÊîπÂêéÔºåË∞ÉÁî®ÂõûË∞ÉÂáΩÊï∞ÊâìÂç∞‰∏ÄË°åÊó•Âøó„ÄÇ functionmodifyArray(arr, callback) { // do something to arr here arr.push(100); // then execute the callback function that was passed callback(); } var arr = [1, 2, 3, 4, 5]; modifyArray(arr, function() { console.log(&quot;array has been modified&quot;, arr); }); Q5: ‚Äúuse strict‚ÄùÂà∞Â∫ïÊúâ‰ΩïÁî®Â§ÑÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê use strictÊîæÂú®Êñá‰ª∂ÁöÑÈ°∂ÈÉ®ÊàñÂàôÂáΩÊï∞ÁöÑÁ¨¨‰∏ÄË°åÊù•ÂêØÂä®Êõ¥Âä†‰∏•Ê†ºÁöÑÊ£ÄÊü•Êù•ÈÅøÂÖçÂ§±ËØØÂºïËµ∑ÁöÑÈîôËØØ„ÄÇÊØîÂ¶ÇÔºå‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰ºöÊäõÂá∫ÈîôËØØÔºö functiondoSomething(val) { &quot;use strict&quot;; x = val + 10; } Âõ†‰∏∫xÊ≤°ÊúâÂÆö‰πâÔºåÂ¶ÇÊûú‰ΩøÁî®‰∫Üuse strictÔºåxÊòØ‰∏ç‰ºöË¢´ÂΩìÂÅöÂÖ®Â±ÄÁöÑÂèòÈáèÊù•ÁúãÂæÖ„ÄÇ‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰øÆÂ§ç‰∫ÜËøô‰∏™BUGÔºö functiondoSomething(val) { &quot;use strict&quot;; var x = val + 10; } Q6: ËØ∑Ëß£ÈáäNullÂíåUndefined ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê JavaScriptÂíåTypeScriptÊúâ‰∏§‰∏™ÊúÄÂü∫Êú¨ÁöÑÁ±ªÂûãnullÂíåundefined„ÄÇÂÆÉ‰ª¨ÁöÑÂê´‰πâÊòØ‰∏çÂêåÁöÑÔºö Â¶ÇÊûúËøòÊ≤°ÊúâË¢´ÂàùÂßãÂåñÔºåÂàôÊòØundefined; Â¶ÇÊûú‰∏çÂèØÁî®ÔºåÂàôÂèØ‰ª•Áî®nullÊù•Ë°®Á§∫Ôºõ Q7: ËØ∑ÂÆûÁé∞Â¶Ç‰∏ãÂáΩÊï∞ ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê var addSix = createBase(6); addSix(10); // returns 16 addSix(21); // returns 27 addSixÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰πüÂ∞±ÊòØËØ¥createBaseÂáΩÊï∞ÁöÑËøîÂõûÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ functioncreateBase(baseNumber) { returnfunction(N) { // we are referencing baseNumber here even though it was declared// outside of this function. Closures allow us to do this in JavaScriptreturn baseNumber + N; } } var addSix = createBase(6); addSix(10); addSix(21); Q8: ËØ∑Ëß£ÈáäJavaScript‰∏≠ÁöÑÂÄºÂíåÁ±ªÂûã ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ‰∏ãÈù¢ÊòØJavaScriptÂÜÖÁΩÆÁöÑÂèØÁî®Á±ªÂûãÔºö string number boolean nullÂíåundefined object symbol (ES6ÁöÑÊñ∞ËØ≠Ê≥ï) Q9: ËØ∑Ëß£Èáä‰∫ã‰ª∂ÂÜíÊ≥°‰ª•ÂèäÂ¶Ç‰ΩïÈòªÊ≠¢ÂÆÉÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑÊ¶ÇÂøµÊòØÊåáÔºöÂú®ÊúÄÂÜÖÂ±ÇÁöÑÂÖÉÁ¥†‰∏äÁªëÂÆöÁöÑ‰∫ã‰ª∂Ë¢´Ëß¶ÂèëÂêéÔºå‰ºöÊåâÁÖßÂµåÂ•óÁöÑÂ±ÇÊ¨°Áî±ÂÜÖÂêëÂ§ñÈÄêÊ≠•Ëß¶Âèë„ÄÇÂõ†Ê≠§ÔºåÁÇπÂáªÊüê‰∏™Â≠©Â≠êËäÇÁÇπÂèØËÉΩ‰ºöËß¶ÂèëÁà∂ËäÇÁÇπÁöÑ‰∫ã‰ª∂„ÄÇ ‰∏Ä‰∏™ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑÂäûÊ≥ïÂ∞±ÊòØ‰ΩøÁî®event.stopPropagation()ÔºåÂú®IE&lt;9ÁöÑÊµèËßàÂô®‰∏ä‰ΩøÁî®event.cancelBubble()„ÄÇ Êù•Ê∫êÔºögithub.com/kennymkchan Q10. ËØ∑Ëß£ÈáäJavaScript‰∏≠ÁöÑletÂÖ≥ÈîÆÂ≠ó ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ES6ÂÖÅËÆ∏‰Ω†‰ΩøÁî®letÂÖ≥ÈîÆÂ≠óÊù•Áî≥ÊòéÂùó‰ΩúÁî®Âüü({...})ÁöÑÂèòÈáè„ÄÇ Êù•Ê∫ê: github.com/getify Q11: Â¶Ç‰ΩïÊ£ÄÊü•‰∏Ä‰∏™Êï∞Â≠óÊòØÂê¶ÊòØÊï¥Êï∞Ôºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØÂà§Êñ≠Èô§‰ª•1ÁöÑ‰ΩôÊï∞ÊòØÂê¶‰∏∫0. functionisInt(num) { return num % 1 === 0; } console.log(isInt(4)); // trueconsole.log(isInt(12.2)); // falseconsole.log(isInt(0.3)); // false Êù•Ê∫ê: coderbyte.com Q12: ‰ªÄ‰πàÂè´IIFEs(Immediately Invoked Function Expressions)? ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê IIFEÂè´ÂÅöÁ´ãÂç≥ÊâßË°åË°®ËææÂºèÔºåÈ°æÂêçÊÄù‰πâÔºåËØ•Ë°®ËææÂºè‰∏ÄË¢´ÂàõÂª∫Â∞±Á´ãÂç≥ÊâßË°å„ÄÇ (functionIIFE(){ console.log( &quot;Hello!&quot; ); })(); // &quot;Hello!&quot; ËØ•ÊñπÊ≥ïÂ∏∏Áî®ËØ≠ÈÅøÂÖçÊ±°ÊüìÂÖ®Â±ÄÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂõ†‰∏∫ÊâÄ‰ª•Âú®IIFE‰∏≠‰ΩøÁî®ÁöÑÂèòÈáèÂ§ñÈÉ®ÈÉΩÊó†Ê≥ïËÆøÈóÆ„ÄÇ Êù•Ê∫ê: stackoverflow.com Q13: Â¶ÇÊûúÊØîËæÉJavaScript‰∏≠ÁöÑ‰∏§‰∏™ÂØπË±°Ôºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê ‰∏§‰∏™ÈùûÂü∫Êú¨Á±ªÂûãÁöÑÂÄºÔºåÊØîÂ¶ÇÂØπË±°(ÂåÖÊã¨ÂáΩÊï∞ÂíåÊï∞ÁªÑ)ÈÉΩÊòØÈÄöËøáÂºïÁî®ÁöÑÂΩ¢ÂºèÊù•ËÆøÈóÆ„ÄÇÂ¶ÇÊûúÁõ¥Êé•ÈÄöËøá==Âíå===Êù•Âà§Êñ≠ÔºåÈÇ£‰πàÂè™‰ºöÁÆÄÂçïÁöÑÂà§Êñ≠ÂÖ∂ÂºïÁî®Âú∞ÂùÄÊòØÂê¶Áõ∏ÂêåÔºåËÄå‰∏çÊòØÂÆÉ‰ª¨ÂÆûÈôÖÂØπÂ∫îÁöÑÂÄº„ÄÇ Â¶ÇÊûúÊï∞ÁªÑÂíåÂ≠óÁ¨¶‰∏≤ÂÅöÊØîËæÉÔºåÈÇ£‰πàÊï∞ÁªÑ‰ºöÈÄöËøáÈÄóÂè∑ÊãºÊé•ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇÈÄöËøáÁ≠âÂè∑Âà§Êñ≠ÁöÑÊó∂ÂÄôÔºå‰∏§‰∏™Áõ∏ÂêåÁöÑÊï∞ÁªÑ‰∏ç‰ºöÁõ∏Á≠âÔºå‰ΩÜÊòØÂíåÁõ∏ÂêåÊï∞ÊçÆÁöÑÂ≠óÁ¨¶‰∏≤ÊØîËæÉÂèçËÄåÁõ∏Á≠â„ÄÇ var a = [1,2,3]; var b = [1,2,3]; var c = &quot;1,2,3&quot;; a == c; // true b == c; // true a == b; // false Â¶ÇÊûúË¶ÅÊ∑±Â∫¶ÊØîËæÉÔºåÂèØ‰ª•‰ΩøÁî®Á¨¨‰∏âÊñπÂ∫ìÔºåÊØîÂ¶Çdeep-equalÊàñÂàô‰Ω†Ëá™Â∑±ÂÆûÁé∞‰∏Ä‰∏™ÊØîËæÉÁÆóÊ≥ï„ÄÇ Q14: ËØ∑Ëß£ÈáäES5ÂíåES6ÁöÑ‰∏çÂêåÁÇπ ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê ECMAScript 5 (ES5): Á¨¨5‰∏™ECMAScriptÁâàÊú¨Ôºå‰∫é2009Âπ¥Ê†áÂáÜÂåñ„ÄÇËØ•Ê†áÂáÜÂá†‰πéÊâÄÊúâÁöÑÊµèËßàÂô®ÈÉΩÂÆåÂÖ®ÊîØÊåÅ„ÄÇ ECMAScript 6 (ES6)/ECMAScript 2015 (ES2015): Á¨¨6‰∏™ECMAScriptÁâàÊú¨Ôºå‰∫é2015Âπ¥Ê†áÂáÜÂåñ„ÄÇÁõÆÂâçÂêÑÂ§ßÊµèËßàÂô®ËøòÂè™ÊòØÈÉ®ÂàÜÊîØÊåÅ„ÄÇ Êé•‰∏ãÊù•‰ªãÁªçÂÆÉ‰ª¨‰∏ªË¶ÅÁöÑÂå∫Âà´Ôºö ÁÆ≠Â§¥ÂáΩÊï∞ÂíåÂ≠óÁ¨¶‰∏≤ÂµåÂÖ•Ôºö const greetings = (name) =&gt; { return`hello ${name}`; } ÁîöËá≥Ôºö const greetings = name =&gt;`hello ${name}`; Â∏∏ÈáèÂ£∞Êòé(Const): Â¶ÇÂêåÂÖ∂ÂÆÉÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÂ∏∏Èáè‰∏ÄÊ†∑Ôºå‰ΩÜÂèàÊúâ‰∏çÂêå„ÄÇËøôÈáåÁöÑconst‰ª£Ë°®‰∫Üconstant reference„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰Ω†ÂèØ‰ª•‰øÆÊîπÂÖ∂ÊåáÂêëÁöÑÂØπË±°ÁöÑÂÄº„ÄÇ‰ΩÜÊòØ‰Ω†‰∏çËÉΩ‰øÆÊîπÂÖ∂referenceÁöÑÂÄº„ÄÇ const NAMES = []; NAMES.push(‚ÄúJim‚Äù); console.log(NAMES.length === 1); // true NAMES = [‚ÄúSteve‚Äù, ‚ÄúJohn‚Äù]; // error Âùó‰ΩúÁî®ÂüüÂèòÈáèÔºöES6‰∏≠ÁöÑÊñ∞ÂÖ≥ÈîÆÂ≠óletÂÖÅËÆ∏ÂÖÅËÆ∏ÂºÄÂèëËÄÖÂ∞ÜÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÈôêÂÆöÂú®ÂùóÁ∫ßÂà´„ÄÇ‰∏ç‰ºöÂÉèvar‰∏ÄÊ†∑ÂèòÈáèÊèêÂçá„ÄÇ ÂèÇÊï∞ÈªòËÆ§ÂÄºÔºöÂÖÅËÆ∏Âú®ÂáΩÊï∞ÂÆö‰πâÁöÑÊó∂ÂÄôÊåáÂÆöÈªòËÆ§ÁöÑÂÄº„ÄÇ // Basic syntaxfunctionmultiply (a, b = 2) { return a * b; } multiply(5); // 10 Á±ªÂÆö‰πâÂíåÁªßÊâø ES6ÂºÄÂßãÊîØÊåÅÂÆö‰πâÁ±ª(‰ΩøÁî®classÂÖ≥ÈîÆÂ≠ó)ÔºåÊûÑÈÄ†ÂáΩÊï∞(‰ΩøÁî®constructorÂÖ≥ÈîÆÂ≠ó)ÔºåÂíåextendÂÖ≥ÈîÆÂ≠óÊù•ÂÆûÁé∞ÁªßÊâø„ÄÇ for-ofÊìç‰Ωú for...ofËØ≠Âè•Áî®Êù•Ëø≠‰ª£ËÆøÈóÆ‰∏Ä‰∏™ÂØπË±°ÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇ SpreadÊìç‰ΩúÁ¨¶ÔºöÁî®‰∫éÂØπË±°ÂêàÂπ∂ const obj1 = { a: 1, b: 2 } const obj2 = { a: 2, c: 3, d: 4} const obj3 = {‚Ä¶obj1, ‚Ä¶obj2} Promise: PromisesÊèê‰æõ‰∫Ü‰∏Ä‰∏™Â§ÑÁêÜÂºÇÊ≠•Êìç‰ΩúÁöÑÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Áî®ÂõûË∞ÉÂáΩÊï∞Êù•ÂÆûÁé∞Ôºå‰ΩÜÊòØPromiseÊõ¥Âä†ÁÆÄÊ¥ÅÂíåÂèØËØª„ÄÇ const isGreater = (a, b) =&gt; { returnnewPromise ((resolve, reject) =&gt; { if(a &gt; b) { resolve(true) } else { reject(false) } }) } isGreater(1, 2) .then(result =&gt; { console.log(&apos;greater&apos;) }) .catch(result =&gt; { console.log(&apos;smaller&apos;) }) Ê®°ÂùóÁöÑexportÂíåimport„ÄÇ const myModule = { x: 1, y: () =&gt; { console.log(‚ÄòThis is ES5‚Äô) }} exportdefault myModule; import myModule from&apos;./myModule&apos;; Êù•Ê∫ê: Bulby.io Q15: ËØ∑Ëß£ÈáäundefinedÂíånot definedÁöÑÂå∫Âà´ ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê Âú®JavaScript‰∏≠ÔºåÂ¶ÇÊûú‰Ω†Â∞ùËØï‰ΩøÁî®‰∏çÂ≠òÂú®ÁöÑËøòÊú™Áî≥ÊòéÁöÑÂèòÈáèÔºåJavaScript‰ºöÊäõÂá∫ÈîôËØØvar name is not defined„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Áî®typeofÊù•Êü•ÁúãÂÖ∂Á±ªÂûãÔºå‰ºöËøîÂõûundefined„ÄÇ Êàë‰ª¨ÂÖàÊù•ÊæÑÊ∏Ö‰∏Ä‰∏ãÂ£∞ÊòéÂíåÂÆö‰πâÁöÑÂå∫Âà´Ôºövar xÊòØ‰∏Ä‰∏™Â£∞ÊòéÔºåÂõ†‰∏∫‰Ω†Âπ∂Ê≤°ÊúâÂÆö‰πâÂÖ∂ÂÖ∑‰ΩìÁöÑÂÄºÔºå‰Ω†Âè™ÊòØÂ£∞ÊòéÂÖ∂Â≠òÂú®ÊÄß„ÄÇ var x; // declaring xconsole.log(x); //output: undefined var x = 1ÂêåÊó∂ÂÖºÂÖ∑Â£∞ÊòéÂíåÂÆö‰πâÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âè´ÂÆÉÂàùÂßãÂåñ„ÄÇÂú®JavaScript‰∏≠ÔºåÊØè‰∏Ä‰∏™ÂèòÈáèÂíåÂáΩÊï∞Â£∞ÊòéÈÉΩ‰ºöË¢´ÊèêÂçáÂà∞È°∂ÈÉ®„ÄÇ Â¶ÇÊûúÊàë‰ª¨ËÆøÈóÆ‰∏Ä‰∏™Â£∞Êòé‰∫Ü‰ΩÜÊòØÊú™ÂÆö‰πâÁöÑÂèòÈáèÔºå‰ºöËøîÂõûundefined„ÄÇ var x; // Declarationif(typeof x === &apos;undefined&apos;) // Will return true ËÆøÈóÆ‰∏Ä‰∏™Êú™Â£∞ÊòéÊú™ÂÆö‰πâÁöÑÂèòÈáèÔºå‰ºöËøîÂõûnot definedÈîôËØØ„ÄÇ console.log(y); // Output: ReferenceError: y is not defined Êù•Ê∫ê: stackoverflow.com Q16: ÂåøÂêçÂáΩÊï∞ÂíåÂëΩÂêçÂáΩÊï∞ÁöÑÂå∫Âà´Ôºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê var foo = function() { // anonymous function assigned to variable foo// .. }; var x = functionbar(){ // named function (bar) assigned to variable x // .. }; foo(); // actual function execution x(); ËØëËÄÖË°•ÂÖÖÔºöÂåøÂêçÂáΩÊï∞Â¶ÇÊûú‰∏çËµãÂÄºÁªôÊüê‰∏™ÂèòÈáèÔºåÂàôÊó†Ê≥ïË¢´Ë∞ÉÁî®‰∫ÜÔºõÂëΩÂêçÂáΩÊï∞ÂÜçÊ¨°Ë¢´ËµãÂÄº‰∏çÊòØÂ§öÊ≠§‰∏Ä‰∏æ‰πà„ÄÇ Q17: JavaScript‰∏≠Èó≠ÂåÖÊòØ‰ªÄ‰πàÔºüËØ∑Êèê‰æõ‰∏Ä‰∏™‰æãÂ≠ê ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê Èó≠ÂåÖÊòØ‰∏Ä‰∏™ÂÆö‰πâÂú®ÂÖ∂ÂÆÉÂáΩÊï∞(Áà∂ÂáΩÊï∞)ÈáåÈù¢ÁöÑÂáΩÊï∞ÔºåÂÆÉÊã•ÊúâÂØπÁà∂ÂáΩÊï∞ÈáåÈù¢ÂèòÈáèÁöÑËÆøÈóÆÊùÉ„ÄÇÈó≠ÂåÖÊã•ÊúâÂ¶Ç‰∏ã‰∏â‰∏™‰ΩúÁî®ÂüüÁöÑËÆøÈóÆÊùÉÔºö Ëá™Ë∫´ÁöÑ‰ΩúÁî®Âüü Áà∂‰ΩúÁî®Âüü ÂÖ®Â±Ä‰ΩúÁî®Âüü var globalVar = ‚Äúabc‚Äù; // Parent self invoking function (functionouterFunction (outerArg) { // begin of scope outerFunction// Variable declared in outerFunction function scopevar outerFuncVar = ‚Äòx‚Äô; // Closure self-invoking function (functioninnerFunction (innerArg) { // begin of scope innerFunction// variable declared in innerFunction function scopevar innerFuncVar = &quot;y&quot;; console.log( &quot;outerArg = &quot; + outerArg + &quot;\n&quot; + &quot;outerFuncVar = &quot; + outerFuncVar + &quot;\n&quot; + &quot;innerArg = &quot; + innerArg + &quot;\n&quot; + &quot;innerFuncVar = &quot; + innerFuncVar + &quot;\n&quot; + &quot;globalVar = &quot; + globalVar); // end of scope innerFunction })(5); // Pass 5 as parameter// end of scope outerFunction })(7); // Pass 7 as parameter innerFunctionÊòØ‰∏Ä‰∏™Èó≠ÂåÖÔºåÂÆö‰πâÂú®outerFunction‰∏≠ÔºåÂÆÉÂèØ‰ª•ËÆøÈóÆouterFunction‰ΩúÁî®ÂüüÁöÑÊâÄÊúâÂèòÈáè„ÄÇÂΩìÁÑ∂ÔºåÂÆÉËøòÂèØ‰ª•ËÆøÈóÆÂÖ®Â±ÄÂèòÈáè„ÄÇ ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö outerArg = 7 outerFuncVar = x innerArg = 5 innerFuncVar = y globalVar = abc Êù•Ê∫ê: github.com/ganqqwerty Q18: Âú®JavaScript‰∏≠Â¶Ç‰ΩïÂàõÂª∫ÁßÅÊúâÂèòÈáèÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê ‰Ω†ÂèØ‰ª•ÈÄöËøáÂú®ÂáΩÊï∞‰∏≠Â£∞ÊòéÂèòÈáèÊù•ÂàõÂª∫ÁßÅÊúâÂèòÈáè„ÄÇÂõ†‰∏∫Âú®ÂáΩÊï∞‰∏≠ÔºåÂ§ñÈÉ®Êó†Ê≥ïÁõ¥Êé•ËÆøÈóÆ„ÄÇ functionfunc() { var priv = &quot;secret code&quot;; } console.log(priv); // throws error ‰∏∫‰∫ÜËÆøÈóÆËØ•ÂèòÈáèÔºåÂèØ‰ª•ÊûÑÈÄ†‰∏Ä‰∏™Â∏ÆÂä©ÂáΩÊï∞Êù•ËøîÂõûËØ•ÂÄº„ÄÇ functionfunc() { var priv = &quot;secret code&quot;; returnfunction() { return priv; } } var getPriv = func(); console.log(getPriv()); // =&gt; secret code Êù•Ê∫ê:coderbyte.com Q19: ËØ∑Ëß£ÈáäÂéüÂûãÊ®°Âºè(Prototype Design Pattern) ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê ÂéüÂûãÊ®°Âºè‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°Ôºå‰ΩÜ‰∏çÊòØÂàõÂª∫‰∏Ä‰∏™Êú™ÂàùÂßãÂåñÁöÑÂØπË±°ÔºåËÄåÊòØÈÄöËøáÊã∑Ë¥ùÂéüÂûãÈìæ‰∏äÁöÑÂÄºÊàñÂàôË¢´Êã∑Ë¥ùÂØπË±°ÁöÑÂÄºÊù•ÂÆåÊàêÂàùÂßãÂåñ„ÄÇ‰º†ÁªüÁöÑËØ≠Ë®ÄÂæàÂ∞ë‰ΩøÁî®ÂéüÂûãÊ®°ÂºèÔºå‰ΩÜÊòØJavaScript‰Ωú‰∏∫‰∏Ä‰∏™Âü∫‰∫éÂéüÂûãÁöÑËØ≠Ë®ÄÔºå‰ΩøÁî®ÂéüÂûãÊ®°ÂºèÊù•ÂàõÂª∫Êñ∞ÁöÑÂØπË±°„ÄÇ Êù•Ê∫ê: dofactory.com Q20: Âà§Êñ≠ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÂêåÊÄÅ(isomorphic) ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê È¶ñÂÖà‰ªãÁªç‰ªÄ‰πàÂè´ÂÅöÂêåÊÄÅÔºö‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúAÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊØè‰∏Ä‰∏™Â≠óÁ¨¶ÈÉΩÂèØ‰ª•Âú®BÂ≠óÁ¨¶‰∏≤‰∏≠ÊâæÂà∞ÂîØ‰∏ÄÂØπÂ∫îÔºåÂπ∂‰∏îÈ°∫Â∫è‰∏Ä‰∏ÄÂØπÂ∫îÔºõÂ¶ÇÊûúÂ≠òÂú®ËøôÊ†∑ÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàAÂíåBÂêåÊÄÅ„ÄÇ paperÂíåtitleÂêåÊÄÅ eggÂíåsad‰∏çÂêåÊÄÅ dggÂíåaddÂêåÊÄÅ isIsomorphic(‚Äúegg‚Äù, ‚Äòadd‚Äô); // true isIsomorphic(‚Äúpaper‚Äù, ‚Äòtitle‚Äô); // true isIsomorphic(‚Äúkick‚Äù, ‚Äòside‚Äô); // falsefunctionisIsomorphic(firstString, secondString) { // Check if the same length. If not, they cannot be isomorphicif (firstString.length !== secondString.length) returnfalsevar letterMap = {}; for (var i = 0; i &lt; firstString.length; i++) { var letterA = firstString[i], letterB = secondString[i]; // If the letter does not exist, create a map and map it to the value// of the second letterif (letterMap[letterA] === undefined) { letterMap[letterA] = letterB; } elseif (letterMap[letterA] !== letterB) { // Eles if letterA already exists in the map, but it does not map to// letterB, that means that A is mapping to more than one letter.returnfalse; } } // If after iterating through and conditions are satisfied, return true.// They are isomorphicreturntrue; } Êù•Ê∫ê: github.com/kennymkchan Q21: Transpiling‰ª£Ë°®‰∫Ü‰ªÄ‰πàÊÑèÊÄùÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê TranspilingÊòØtransforming + compilingÁöÑÂêàÊàêËØç„ÄÇÂØπ‰∫é‰∏Ä‰∫õÊñ∞ÁöÑËØ≠Ê≥ïÔºåÊµèËßàÂô®Ëøò‰∏çÊîØÊåÅ„ÄÇÊúÄÂ•ΩÁöÑÂäûÊ≥ïÂ∞±ÊòØÂ∞ÜÂÖ∂ÂèòÊç¢Âà∞ÊóßÁöÑÁ≠â‰ª∑ÁöÑ‰ª£Á†ÅÔºåËøô‰∏™ËøáÁ®ãÈÄöÂ∏∏Âè´ÂÅötranspiling„ÄÇ ÂÖ∏ÂûãÁöÑÔºå‰Ω†ÂèØ‰ª•Âú®buildÁöÑËøáÁ®ã‰∏≠Âä†ÂÖ•transpilerÔºåÂ∞±Â¶ÇÂêåcode linterÂíåminifier‰∏ÄÊ†∑„ÄÇ Â∑≤ÁªèÊúâÂæàÂ§öÁü•ÂêçÁöÑtranspilersÂèØ‰æõ‰ΩøÁî®Ôºö Babel: Â∞ÜES6ÁºñËØëÂà∞ES5 TraceurÔºöÂ∞ÜES6,ES7Á≠âÁºñËØëÂà∞ES5 Êù•Ê∫ê: You Don‚Äôt Know JS, Up &amp;going Q22: thisÂÖ≥ÈîÆÂ≠óÂ¶Ç‰ΩïÂ∑•‰ΩúÔºüËØ∑Êèê‰æõ‰∏Ä‰∫õ‰æãÂ≠ê ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê Âú®JavaScript‰∏≠ÔºåthisÊÄªÊòØÊåáÂêëÂáΩÊï∞ÁöÑ‚ÄúÊã•ÊúâËÄÖ‚Äù(‰πüÂ∞±ÊòØÊåáÂêëËØ•ÂáΩÊï∞ÁöÑÂØπË±°)ÔºåÊàñÂàôÊã•ÊúâËØ•ÂáΩÊï∞ÁöÑÂØπË±°„ÄÇ functionfoo() { console.log( this.bar ); } var bar = &quot;global&quot;; var obj1 = { bar: &quot;obj1&quot;, foo: foo }; var obj2 = { bar: &quot;obj2&quot; }; foo(); // &quot;global&quot; obj1.foo(); // &quot;obj1&quot; foo.call( obj2 ); // &quot;obj2&quot;new foo(); // undefined Êù•Ê∫ê: quirksmode.org Q23: Â¶Ç‰Ωï‰∏∫ArrayÂØπË±°Ê∑ªÂä†‰Ω†Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞Ôºå‰ΩøÂæóÂ¶Ç‰∏ã‰ª£Á†ÅÂèØ‰ª•Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê var arr = [1, 2, 3, 4, 5]; var avg = arr.average(); console.log(avg); JavaScriptÊòØ‰∏Ä‰∏™Âü∫‰∫éÂéüÂûãÁöÑËØ≠Ë®Ä„ÄÇ‰πüÂ∞±ÊòØËØ¥ÂØπË±°‰πãÈó¥ÈÄöËøáÂéüÂûãÈìæÊé•ÔºåÂπ∂ÁªßÊâøÂÖ∂ÂáΩÊï∞„ÄÇ‰∏∫‰∫ÜÁªôArrayÂØπË±°Ê∑ªÂä†ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπÂÖ∂ÂéüÂûãÂÆö‰πâArray prorotype„ÄÇ Array.prototype.average = function() { // calculate sumvar sum = this.reduce(function(prev, cur) { return prev + cur; }); // return sum divided by number of elementsreturn sum / this.length; } var arr = [1, 2, 3, 4, 5]; var avg = arr.average(); console.log(avg); // =&gt; 3 Êù•Ê∫ê: coderbyte.com Q24: JavaScript‰∏≠ÊèêÂçá(hoisting)ÊòØ‰ªÄ‰πàÊÑèÊÄùÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê ÊèêÂçá(hoisting)ÊòØÊåáJavaScriptÁöÑËß£ÈáäÂô®Â∞ÜÊâÄÊúâÁöÑÂèòÈáèÂíåÂáΩÊï∞Â£∞ÊòéÈÉΩÊèêÂçáÂà∞ËØ•‰ΩúÁî®ÂüüÁöÑÈ°∂ÈÉ®ÔºåÊúâ‰∏§ÁßçÊèêÂçáÁ±ªÂûãÔºö ÂèòÈáèÊèêÂçá ÂáΩÊï∞ÊèêÂçá Âú®‰∏Ä‰∏™‰ΩúÁî®Âüü‰∏≠ÈÄöËøáÂ£∞ÊòéÁöÑÂèòÈáèÂíåÂáΩÊï∞Âú®Êï¥‰∏™‰ΩúÁî®Âüü‰∏≠ÈÉΩÂèØ‰ª•‰ΩøÁî®„ÄÇ var a = 2; foo(); // works because `foo()`// declaration is &quot;hoisted&quot;functionfoo() { a = 3; console.log( a ); // 3var a; // declaration is &quot;hoisted&quot;// to the top of `foo()` } console.log( a ); // 2 ËôΩÁÑ∂foo()ÂáΩÊï∞Âú®ÂêéÈù¢ÂÆö‰πâÔºå‰ΩÜÊòØÂú®ÂâçÈù¢‰πüÂèØ‰ª•Ë∞ÉÁî®„ÄÇ Q25: Â¶Ç‰∏ã‰ª£Á†Å‰ºöËøîÂõû‰ªÄ‰πàÁªìÊûúÔºü ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê 0.1 + 0.2 === 0.3 ‰∏çË¶ÅÊÉäËÆ∂ÔºåÂÖ∂ÁªìÊûúÊòØfalse„ÄÇÂõ†‰∏∫ÊµÆÁÇπÊï∞Âú®Á≥ªÁªüÂÜÖÁöÑÁ≤æÁ°ÆÂ∫¶ÈóÆÈ¢òÔºå0.1+0.2ÁöÑÁªìÊûúÂπ∂‰∏çÊòØ0.3ÔºåËÄåÊòØ0.30000000000000004„ÄÇË¶ÅÈÅøÂÖçËøô‰∏™ÈóÆÈ¢òÁöÑÊñπÊ≥ïÊòØÊåáÂÆöËøîÂõûÁªìÊûúÁöÑÂ∞èÊï∞‰ΩçÊï∞„ÄÇ Êù•Ê∫ê: coderbyte.com Q26: ËØ∑ÊèèËø∞‰∏Ä‰∏ãÊè≠Á§∫Ê®°Âºè(Revealing Module Pattern) ËØùÈ¢ò: JavaScriptÈöæÂ∫¶: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Module patternÁöÑ‰∏Ä‰∏™ÂèòÁßçÊòØRevealing Module Pattern„ÄÇËØ•ËÆæËÆ°Ê®°ÂºèÁöÑÁõÆÁöÑÊòØÂÅöÂà∞ÂæàÂ•ΩÁöÑ‰ª£Á†ÅÈöîÁ¶ªÔºåÂè™ÊòØÂ∞ÜÈúÄË¶ÅÂØπÂ§ñÂÖ¨ÂºÄÁöÑÂèòÈáèÂíåÂáΩÊï∞Êö¥Èú≤Âá∫Êù•„ÄÇ‰∏Ä‰∏™Áõ¥Êé•ÁöÑÂÆûÁé∞Â¶Ç‰∏ãÊâÄÁ§∫Ôºö var Exposer = (function() { var privateVariable = 10; var privateMethod = function() { console.log(&apos;Inside a private method!&apos;); privateVariable++; } var methodToExpose = function() { console.log(&apos;This is a method I want to expose!&apos;); } var otherMethodIWantToExpose = function() { privateMethod(); } return { first: methodToExpose, second: otherMethodIWantToExpose }; })(); Exposer.first(); // Output: This is a method I want to expose! Exposer.second(); // Output: Inside a private method! Exposer.methodToExpose; // undefined]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CommonJS,AMD,CMD,ES6]]></title>
    <url>%2F2016%2F10%2F25%2FCommonJS-AMD-CMD-ES6%2F</url>
    <content type="text"><![CDATA[CommonJS,AMD,CMD,ES6 commonJSÁî®ÂêåÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩÊ®°Âùó„ÄÇÂú®ÊúçÂä°Á´ØÔºåÊ®°ÂùóÊñá‰ª∂ÈÉΩÂ≠òÂú®Êú¨Âú∞Á£ÅÁõòÔºåËØªÂèñÈùûÂ∏∏Âø´ÔºåÊâÄ‰ª•ËøôÊ†∑ÂÅö‰∏ç‰ºöÊúâÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÂú®ÊµèËßàÂô®Á´ØÔºåÈôê‰∫éÁΩëÁªúÂéüÂõ†ÔºåÊõ¥ÂêàÁêÜÁöÑÊñπÊ°àÊòØ‰ΩøÁî®ÂºÇÊ≠•Âä†ËΩΩ„ÄÇ CMDÊòØÂè¶‰∏ÄÁßçjsÊ®°ÂùóÂåñÊñπÊ°àÔºåÂÆÉ‰∏éAMDÂæàÁ±ª‰ººÔºå‰∏çÂêåÁÇπÂú®‰∫éÔºöAMD Êé®Â¥á‰æùËµñÂâçÁΩÆ„ÄÅÊèêÂâçÊâßË°åÔºåCMDÊé®Â¥á‰æùËµñÂ∞±Ëøë„ÄÅÂª∂ËøüÊâßË°å„ÄÇÊ≠§ËßÑËåÉÂÖ∂ÂÆûÊòØÂú®sea.jsÊé®ÂπøËøáÁ®ã‰∏≠‰∫ßÁîüÁöÑ„ÄÇ /** AMDÂÜôÊ≥ï **/ define([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], function(a, b, c, d, e, f) { // Á≠â‰∫éÂú®ÊúÄÂâçÈù¢Â£∞ÊòéÂπ∂ÂàùÂßãÂåñ‰∫ÜË¶ÅÁî®Âà∞ÁöÑÊâÄÊúâÊ®°Âùó a.doSomething(); if (false) { // Âç≥‰æøÊ≤°Áî®Âà∞Êüê‰∏™Ê®°Âùó bÔºå‰ΩÜ b ËøòÊòØÊèêÂâçÊâßË°å‰∫Ü b.doSomething() } }); /** CMDÂÜôÊ≥ï **/ define(function(require, exports, module) { var a = require(&apos;./a&apos;); //Âú®ÈúÄË¶ÅÊó∂Áî≥Êòé a.doSomething(); if (false) { var b = require(&apos;./b&apos;); b.doSomething(); } }); ES6 Ê®°ÂùóÊòØÂä®ÊÄÅÂºïÁî®:ES6ÁöÑÊ®°Âùó‰∏çÊòØÂØπË±°ÔºåimportÂëΩ‰ª§‰ºöË¢´ JavaScript ÂºïÊìéÈùôÊÄÅÂàÜÊûêÔºåÂú®ÁºñËØëÊó∂Â∞±ÂºïÂÖ•Ê®°Âùó‰ª£Á†ÅÔºåËÄå‰∏çÊòØÂú®‰ª£Á†ÅËøêË°åÊó∂Âä†ËΩΩÔºåÊâÄ‰ª•Êó†Ê≥ïÂÆûÁé∞Êù°‰ª∂Âä†ËΩΩ„ÄÇ‰πüÊ≠£Âõ†‰∏∫Ëøô‰∏™Ôºå‰ΩøÂæóÈùôÊÄÅÂàÜÊûêÊàê‰∏∫ÂèØËÉΩ„ÄÇ ES6 Ê®°Âùó‰∏é CommonJS Ê®°ÂùóÁöÑÂ∑ÆÂºÇ CommonJS Ê®°ÂùóËæìÂá∫ÁöÑÊòØ‰∏Ä‰∏™ÂÄºÁöÑÊã∑Ë¥ùÔºåES6 Ê®°ÂùóËæìÂá∫ÁöÑÊòØÂÄºÁöÑÂºïÁî®,CommonJS Ê®°ÂùóËæìÂá∫ÁöÑÊòØÂÄºÁöÑÊã∑Ë¥ùÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ËæìÂá∫‰∏Ä‰∏™ÂÄºÔºåÊ®°ÂùóÂÜÖÈÉ®ÁöÑÂèòÂåñÂ∞±ÂΩ±Âìç‰∏çÂà∞Ëøô‰∏™ÂÄº„ÄÇES6 Ê®°ÂùóÁöÑËøêË°åÊú∫Âà∂‰∏é CommonJS ‰∏ç‰∏ÄÊ†∑„ÄÇJS ÂºïÊìéÂØπËÑöÊú¨ÈùôÊÄÅÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÈÅáÂà∞Ê®°ÂùóÂä†ËΩΩÂëΩ‰ª§importÔºåÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™Âè™ËØªÂºïÁî®„ÄÇÁ≠âÂà∞ËÑöÊú¨ÁúüÊ≠£ÊâßË°åÊó∂ÔºåÂÜçÊ†πÊçÆËøô‰∏™Âè™ËØªÂºïÁî®ÔºåÂà∞Ë¢´Âä†ËΩΩÁöÑÈÇ£‰∏™Ê®°ÂùóÈáåÈù¢ÂéªÂèñÂÄº„ÄÇÊç¢Âè•ËØùËØ¥ÔºåES6 ÁöÑimportÊúâÁÇπÂÉè Unix Á≥ªÁªüÁöÑ‚ÄúÁ¨¶Âè∑ËøûÊé•‚ÄùÔºåÂéüÂßãÂÄºÂèò‰∫ÜÔºåimportÂä†ËΩΩÁöÑÂÄº‰πü‰ºöË∑üÁùÄÂèò„ÄÇÂõ†Ê≠§ÔºåES6 Ê®°ÂùóÊòØÂä®ÊÄÅÂºïÁî®ÔºåÂπ∂‰∏î‰∏ç‰ºöÁºìÂ≠òÂÄºÔºåÊ®°ÂùóÈáåÈù¢ÁöÑÂèòÈáèÁªëÂÆöÂÖ∂ÊâÄÂú®ÁöÑÊ®°Âùó„ÄÇ CommonJS Ê®°ÂùóÊòØËøêË°åÊó∂Âä†ËΩΩÔºåES6 Ê®°ÂùóÊòØÁºñËØëÊó∂ËæìÂá∫Êé•Âè£„ÄÇ ËøêË°åÊó∂Âä†ËΩΩ: CommonJS Ê®°ÂùóÂ∞±ÊòØÂØπË±°ÔºõÂç≥Âú®ËæìÂÖ•Êó∂ÊòØÂÖàÂä†ËΩΩÊï¥‰∏™Ê®°ÂùóÔºåÁîüÊàê‰∏Ä‰∏™ÂØπË±°ÔºåÁÑ∂ÂêéÂÜç‰ªéËøô‰∏™ÂØπË±°‰∏äÈù¢ËØªÂèñÊñπÊ≥ïÔºåËøôÁßçÂä†ËΩΩÁß∞‰∏∫‚ÄúËøêË°åÊó∂Âä†ËΩΩ‚Äù„ÄÇÁºñËØëÊó∂Âä†ËΩΩ: ES6Ê®°Âùó‰∏çÊòØÂØπË±°ÔºåËÄåÊòØÈÄöËøá export ÂëΩ‰ª§ÊòæÂºèÊåáÂÆöËæìÂá∫ÁöÑ‰ª£Á†ÅÔºåimportÊó∂ÈááÁî®ÈùôÊÄÅÂëΩ‰ª§ÁöÑÂΩ¢Âºè„ÄÇÂç≥Âú®importÊó∂ÂèØ‰ª•ÊåáÂÆöÂä†ËΩΩÊüê‰∏™ËæìÂá∫ÂÄºÔºåËÄå‰∏çÊòØÂä†ËΩΩÊï¥‰∏™Ê®°ÂùóÔºåËøôÁßçÂä†ËΩΩÁß∞‰∏∫‚ÄúÁºñËØëÊó∂Âä†ËΩΩ‚Äù„ÄÇCommonJS Âä†ËΩΩÁöÑÊòØ‰∏Ä‰∏™ÂØπË±°ÔºàÂç≥module.exportsÂ±ûÊÄßÔºâÔºåËØ•ÂØπË±°Âè™ÊúâÂú®ËÑöÊú¨ËøêË°åÂÆåÊâç‰ºöÁîüÊàê„ÄÇËÄå ES6 Ê®°Âùó‰∏çÊòØÂØπË±°ÔºåÂÆÉÁöÑÂØπÂ§ñÊé•Âè£Âè™ÊòØ‰∏ÄÁßçÈùôÊÄÅÂÆö‰πâÔºåÂú®‰ª£Á†ÅÈùôÊÄÅËß£ÊûêÈò∂ÊÆµÂ∞±‰ºöÁîüÊàê„ÄÇ]]></content>
      <tags>
        <tag>amd</tag>
        <tag>cmd</tag>
        <tag>CommonJS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÊ≠£ÂàôË°®ËææÂºèRegex]]></title>
    <url>%2F2016%2F10%2F01%2FJS%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8FRegex%2F</url>
    <content type="text"><![CDATA[Âêç‰ΩôÊõ∞Ê≠£ÂàôÂÖÆÔºåÂ≠ó‰ΩôÊõ∞ÁÅµÂùá„ÄÇ Regular ExpressionsÁøªËØëÊàê‰∏≠ÊñáÂè´Ê≠£ÂàôË°®ËææÂºè„ÄÇ‰πü‰∏çÁü•ÈÅìÊòØË∞ÅÁøªËØëËøáÊù•ÁöÑÔºåÂê¨Ëµ∑Êù•Â∞±Âæà‰∏•ËÇÉ„ÄÇ‰ºº‰πéÁøªËØëÊàêÈÄöÁî®Ë°®ËææÂºèÊõ¥ËÉΩ‰º†ËææÂÖ∂Á≤æÈ´ìÔºåÂ¶ÇÊûú‰Ω†‰∏çÊÄïÊ¢¶ËßÅÂ±àÂéüÁöÑËØù„ÄÇ ‰∏∫‰ªÄ‰πàÂè´ÈÄöÁî®Ë°®ËææÂºèÔºüÂõ†‰∏∫ÂÆÉÊúâ‰∏ÄÂ•óÂíåÁºñÁ®ãËØ≠Ë®ÄÊó†ÂÖ≥ÁöÑÊñáÊú¨ÂåπÈÖçËßÑÂàô„ÄÇÂæàÂ§öËØ≠Ë®ÄÈÉΩÂÆûÁé∞‰∫ÜÊ≠£ÂàôË°®ËææÂºèÁöÑÊñáÊú¨ÂåπÈÖçÂºïÊìéÔºåÂè™‰∏çËøáÂú®ÂäüËÉΩÈõÜÂêà‰∏äÁï•Êúâ‰∏çÂêå„ÄÇ Êàë‰ª¨Ë¶ÅËÆ∞‰ΩèÁöÑÊòØ‰∏âÁÇπÔºö ÂÖ∂‰∏ÄÔºåÊ≠£ÂàôË°®ËææÂºèÊòØÁî®Êù•ÊèêÂèñÊñáÊú¨ÁöÑ„ÄÇ ÂÖ∂‰∫åÔºåÊ≠£ÂàôË°®ËææÂºèÁöÑË°®ËææËÉΩÂäõÂº∫Â§ßÂà∞‰ª§‰∫∫ÂèëÊåá„ÄÇ ÂÖ∂‰∏âÔºåÊ≠£ÂàôË°®ËææÂºèÁöÑËØ≠Ê≥ïÂØπÂàùÂ≠¶ËÄÖ‰∏çÂèãÂ•Ω„ÄÇ Âè¶Â§ñÔºåÊú¨‰∏ìÈ¢òÂè™Ê∂âÂèäJavaScriptËØ≠Ë®ÄÁöÑÊ≠£ÂàôË°®ËææÂºèÔºåÂÖ∂‰ªñËØ≠Ë®ÄÁöÑËßÑÂàôÂèØËÉΩÁï•Êúâ‰∏çÂêå„ÄÇ ÊàëËøò‰∏∫ÂêÑ‰ΩçËØªËÄÖÂáÜÂ§á‰∫Ü‰∏ÄÂâØÂÆ£‰º†ËØ≠ÔºåÂ∫îËØ•ËÉΩËÆ©‰Ω†ÂøÉÂä®(ÁÇπËµû)ÂêßÔºü Â≠¶‰∏ÄÈó®ÂâçÁ´ØÂ∑•ÂÖ∑ÔºåÂá†Âπ¥Â∞±ËøáÊó∂‰∫Ü„ÄÇÂ≠¶Ê≠£ÂàôË°®ËææÂºèÔºåÂèóÁî®‰∏ÄËæàÂ≠ê„ÄÇ ÊôÆÈÄöÂ≠óÁ¨¶‰ªÄ‰πàÂè´ÊôÆÈÄöÂ≠óÁ¨¶Ôºü ÂΩìÊàë‰ª¨ÂÜôaÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÊåáÁöÑÂ∞±ÊòØaÔºõÂΩìÊàë‰ª¨ÂÜôÁà±ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÊåáÁöÑÂ∞±ÊòØÁà±„ÄÇ &apos;hello üòÄ regex&apos;.match(/üòÄ/); // [&quot;üòÄ&quot;, index: 6, input: &quot;hello üòÄ regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ËøôÂ∞±ÊòØÊôÆÈÄöÂ≠óÁ¨¶ÔºåÂÆÉÂú®Ê≠£Âàô‰∏≠ÁöÑÂê´‰πâÂ∞±ÊòØÊ£ÄÁ¥¢ÂÆÉÊú¨Ë∫´„ÄÇÈô§‰∫ÜÊ≠£ÂàôËßÑÂÆöÁöÑÈÉ®ÂàÜÂ≠óÁ¨¶Â§ñÔºåÂÖ∂‰ΩôÁöÑÈÉΩÊòØÊôÆÈÄöÂ≠óÁ¨¶ÔºåÂåÖÊã¨ÂêÑÁßç‰∫∫Á±ªËØ≠Ë®ÄÔºåÂåÖÊã¨emojiÔºåÂè™Ë¶ÅËÉΩÂ§üË°®Ëææ‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ ÂºÄÂßã‰∏éÁªìÊùü^Â≠óÁ¨¶ÁöÑËã±ÊñáÊòØcaretÔºåÁøªËØëÊàê‰∏≠ÊñáÊòØËÑ±Â≠óÁ¨¶„ÄÇ‰∏çË¶ÅÈóÆÊàëÔºåÂèà‰∏çÊòØÊàëÁøªËØëÁöÑ„ÄÇÂÆÉÂú®Ê≠£Âàô‰∏≠Â±û‰∫éÂÖÉÂ≠óÁ¨¶ÔºåÈÄöÂ∏∏‰ª£Ë°®ÁöÑÊÑè‰πâÊòØÊñáÊú¨ÁöÑÂºÄÂßã„ÄÇËØ¥ÈÄöÂ∏∏ÊòØÂõ†‰∏∫ÂΩìÂÆÉÂú®Â≠óÁ¨¶ÁªÑ‰∏≠[^abc]Âè¶ÊúâÂê´‰πâ„ÄÇ ‰ªÄ‰πàÂè´ÊñáÊú¨ÁöÑÂºÄÂßãÔºüÂ∞±ÊòØÂ¶ÇÊûúÂÆÉÊòØÊ≠£Âàô‰∏ª‰ΩìÁöÑÁ¨¨‰∏Ä‰∏™Á¨¶Âè∑ÔºåÈÇ£Á¥ßË∑üÁùÄÂÆÉÁöÑÂ≠óÁ¨¶ÂøÖÈ°ªÊòØË¢´ÂåπÈÖçÊñáÊú¨ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ &apos;regex&apos;.match(/^r/); // [&quot;r&quot;, index: 0, input: &quot;regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÈóÆÈ¢òÊù•‰∫ÜÔºåÂ¶ÇÊûú^‰∏çÊòØÊ≠£ÂàôÁöÑÁ¨¨‰∏Ä‰∏™Á¨¶Âè∑Âë¢Ôºü &apos;regex&apos;.match(/a^r/); // nullÂ§çÂà∂‰ª£Á†Å ÊâÄ‰ª•ÂëÄÔºåÂÖ≥‰∫éÂÆÉÊúâ‰∏âÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö ‰Ωú‰∏∫ÂåπÈÖçÊñáÊú¨ÂºÄÂßãÂÖÉÂ≠óÁ¨¶ÁöÑÊó∂ÂÄôÂøÖÈ°ªÊòØÊ≠£Âàô‰∏ª‰ΩìÁöÑÁ¨¨‰∏Ä‰∏™Á¨¶Âè∑ÔºåÂê¶ÂàôÊ≠£ÂàôÊó†Êïà„ÄÇ ÂÆÉÂåπÈÖçÁöÑÊòØ‰∏Ä‰∏™‰ΩçÁΩÆÔºåËÄå‰∏çÊòØÂÖ∑‰ΩìÁöÑÊñáÊú¨„ÄÇ ÂÆÉÂú®ÂÖ∂‰ªñËßÑÂàô‰∏≠ÊúâÂè¶Â§ñÁöÑÂê´‰πâ„ÄÇ $Â≠óÁ¨¶‰∏é^Ê≠£Â•ΩÁõ∏Âèç„ÄÇÂÆÉ‰ª£Ë°®ÊñáÊú¨ÁöÑÁªìÊùüÔºåÂπ∂‰∏îÊ≤°ÊúâÂÖ∂‰ªñÂê´‰πâ(ÂÖ∂ÂÆûÊòØÊúâÁöÑÔºå‰ΩÜ‰∏çÊòØÂú®Ê≠£Âàô‰∏ª‰ΩìÂÜÖ)„ÄÇÂêåÊ†∑ÔºåÂÆÉÂøÖÈ°ªÊòØÊ≠£Âàô‰∏ª‰ΩìÁöÑÊúÄÂêé‰∏Ä‰∏™Á¨¶Âè∑„ÄÇ &apos;regex&apos;.match(/x$/); // [&quot;x&quot;, index: 4, input: &quot;regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ^‰∏é$ÁâπÊÆäÁöÑÂú∞ÊñπÂú®‰∫éÂÆÉÂåπÈÖçÁöÑÊòØ‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇ‰ΩçÁΩÆ‰∏çÂÉèÂ≠óÁ¨¶ÔºåÂÆÉÁúã‰∏çËßÅÔºåÊâÄ‰ª•Êõ¥‰∏çÂÆπÊòìÁêÜËß£„ÄÇ ËΩ¨‰πâÊàë‰ª¨Áé∞Âú®Â∑≤ÁªèÁü•ÈÅì$ÂåπÈÖçÊñáÊú¨ÁöÑÁªìÊùü‰ΩçÁΩÆÔºåÂÆÉÊòØÂÖÉÂ≠óÁ¨¶„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÊàëÊÉ≥ÂåπÈÖç$Êú¨Ë∫´Âë¢ÔºüÂåπÈÖç‰∏Ä‰∏™ÁæéÂÖÉÁ¨¶Âè∑ÁöÑÈúÄÊ±ÇÂÜçÂ∏∏ËßÅ‰∏çËøá‰∫ÜÂêß„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂæóÂ∞ÜÂÆÉË¥¨‰∏∫Â∫∂Ê∞ë„ÄÇ \ÂèçÊñúÊù†Â∞±ÊòØÂπ≤Ëøô‰∏™ÁöÑ„ÄÇ &apos;price: $3.6&apos;.match(/\$[0-9]+\.[0-9]+$/); // [&quot;$3.6&quot;, index: 7, input: &quot;price: $3.6&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ‰∏äÈù¢ÁöÑ‰æãÂ≠êÊúâÁÇπË∂ÖÁ∫≤‰∫ÜÔºåË∂ÖÁ∫≤ÁöÑÈÉ®ÂàÜÂÖà‰∏çÁÆ°„ÄÇ ‰Ω†ÂèØ‰ª•ËÆ§‰∏∫\‰πüÊòØ‰∏Ä‰∏™ÂÖÉÂ≠óÁ¨¶ÔºåÂÆÉË∑üÂú®Âè¶‰∏Ä‰∏™ÂÖÉÂ≠óÁ¨¶ÂêéÈù¢ÔºåÂ∞±ËÉΩËøòÂéüÂÆÉÊú¨Êù•ÁöÑÂê´‰πâ„ÄÇ Â¶ÇÊûúÊúâ‰∏§‰∏™\Âë¢ÔºüÈÇ£Â∞±ÊòØËΩ¨‰πâËá™Ë∫´‰∫Ü„ÄÇÂ¶ÇÊûúÊúâ‰∏â‰∏™\Âë¢ÔºüÊàë‰ª¨ÂæóÂàÜÊàê‰∏§ÊÆµÂéªÁêÜËß£„ÄÇ‰ª•Ê≠§Á±ªÊé®„ÄÇ ÊôÆÈÄöÂ≠óÁ¨¶ÂâçÈù¢Ë∑ü‰∫Ü‰∏Ä‰∏™\ÊòØ‰ªÄ‰πàÊïàÊûúÔºüÈ¶ñÂÖàÂÆÉ‰ª¨ÊòØ‰∏Ä‰∏™Êï¥‰ΩìÔºåÁÑ∂ÂêéÊôÆÈÄöÂ≠óÁ¨¶ËΩ¨‰πâÂêéËøòÊòØÊôÆÈÄöÂ≠óÁ¨¶„ÄÇ Â∏¶ÂèçÊñúÊù†ÁöÑÂÖÉÂ≠óÁ¨¶‰∏ÄËà¨Êù•ËØ¥ÔºåÊôÆÈÄöÂ≠óÁ¨¶ÂâçÈù¢Â∏¶ÂèçÊñúÊù†ËøòÊòØÊôÆÈÄöÂ≠óÁ¨¶Ôºå‰ΩÜÊòØÊúâ‰∏Ä‰∫õÊôÆÈÄöÂ≠óÁ¨¶ÔºåÂ∏¶ÂèçÊñúÊù†ÂêéÂèçËÄåÂèòÊàê‰∫ÜÂÖÉÂ≠óÁ¨¶„ÄÇ Ë¶ÅÊÄ™Âè™ËÉΩÊÄ™ËÆ°ÁÆóÊú∫È¢ÜÂüüÁöÑÂ∏∏Áî®Á¨¶Âè∑Â§™Â∞ë‰∫Ü„ÄÇÂÖÉÂ≠óÁ¨¶Âê´‰πâ\bÂåπÈÖç‰∏Ä‰∏™ÂçïËØçËæπÁïå(boundary)\BÂåπÈÖç‰∏Ä‰∏™ÈùûÂçïËØçËæπÁïå\dÂåπÈÖç‰∏Ä‰∏™Êï∞Â≠óÂ≠óÁ¨¶(digit)\DÂåπÈÖç‰∏Ä‰∏™ÈùûÊï∞Â≠óÂ≠óÁ¨¶\sÂåπÈÖç‰∏Ä‰∏™Á©∫ÁôΩÂ≠óÁ¨¶(space)\SÂåπÈÖç‰∏Ä‰∏™ÈùûÁ©∫ÁôΩÂ≠óÁ¨¶\wÂåπÈÖç‰∏Ä‰∏™Â≠óÊØçÊàñËÄÖ‰∏Ä‰∏™Êï∞Â≠óÊàñËÄÖ‰∏Ä‰∏™‰∏ãÂàíÁ∫ø(word)\WÂåπÈÖç‰∏Ä‰∏™Â≠óÊØç„ÄÅÊï∞Â≠óÂíå‰∏ãÂàíÁ∫ø‰πãÂ§ñÁöÑÂ≠óÁ¨¶‰Ω†Ëøô‰πàËÅ™ÊòéÔºåËÇØÂÆö‰∏ÄÁúºÂ∞±ÁúãÂá∫Êù•ÔºåÂ§ßÂÜô‰ª£Ë°®Âèç‰πâ„ÄÇÂØπÔºåÂ∞±ÊòØËøô‰πàÂ•ΩËÆ∞„ÄÇ \bÂÖÉÂ≠óÁ¨¶\bÂåπÈÖçÁöÑ‰πüÊòØ‰∏Ä‰∏™‰ΩçÁΩÆÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇÂçïËØçÂíåÁ©∫Ê†º‰πãÈó¥ÁöÑ‰ΩçÁΩÆÔºåÂ∞±ÊòØÊâÄË∞ìÂçïËØçËæπÁïå„ÄÇ &apos;hello regex&apos;.match(/\bregex$/); // [&quot;regex&quot;, index: 6, input: &quot;hello regex&quot;, groups: undefined]&apos;hello regex&apos;.match(/\Bregex$/); // nullÂ§çÂà∂‰ª£Á†Å ÊâÄË∞ìÂçïËØçËæπÁïåÔºåÂØπ‰∏≠ÊñáÁ≠âÂÖ∂‰ªñËØ≠Ë®ÄÊòØÊó†ÊïàÁöÑ„ÄÇ &apos;jiangshuying gaoyuanyuan huosiyan&apos;.match(/\bgaoyuanyuan\b/); // [&quot;gaoyuanyuan&quot;, index: 13, input: &quot;jiangshuying gaoyuanyuan huosiyan&quot;, groups: undefined]&apos;Ê±üÁñèÂΩ± È´òÂúÜÂúÜ ÈúçÊÄùÁáï&apos;.match(/\bÈ´òÂúÜÂúÜ\b/); // nullÂ§çÂà∂‰ª£Á†Å ÊâÄ‰ª•\bÁøªËØë‰∏Ä‰∏ãÂ∞±ÊòØ^\w|\w$|\W\w|\w\W„ÄÇ \dÂÖÉÂ≠óÁ¨¶\dÂåπÈÖç‰∏Ä‰∏™Êï∞Â≠óÔºåÊ≥®ÊÑèÔºåËøôÈáåÁöÑÊï∞Â≠ó‰∏çÊòØÊåáJavaScript‰∏≠ÁöÑÊï∞Â≠óÁ±ªÂûãÔºåÂõ†‰∏∫ÊñáÊú¨ÂÖ®ÊòØÂ≠óÁ¨¶‰∏≤„ÄÇÂÆÉÊåáÁöÑÊòØ‰ª£Ë°®Êï∞Â≠óÁöÑÂ≠óÁ¨¶„ÄÇ &apos;123&apos;.match(/\d/); // [&quot;1&quot;, index: 0, input: &quot;123&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å \sÂÖÉÂ≠óÁ¨¶\sÂåπÈÖç‰∏Ä‰∏™Á©∫ÁôΩÂ≠óÁ¨¶„ÄÇ ËøôÈáåÈúÄË¶ÅËß£Èáä‰∏Ä‰∏ã‰ªÄ‰πàÊòØÁ©∫ÁôΩÂ≠óÁ¨¶„ÄÇ Á©∫ÁôΩÂ≠óÁ¨¶‰∏çÊòØÁ©∫Ê†ºÔºåÂÆÉÊòØÁ©∫Ê†ºÁöÑË∂ÖÈõÜ„ÄÇÂæàÂ§ö‰∫∫ËØ¥ÂÆÉÊòØ\f\n\r\t\vÁöÑÊÄªÂíåÔºåÂÖ∂‰∏≠\fÊòØÊç¢È°µÁ¨¶Ôºå\nÊòØÊç¢Ë°åÁ¨¶Ôºå\rÊòØÂõûËΩ¶Á¨¶Ôºå\tÊòØÊ∞¥Âπ≥Âà∂Ë°®Á¨¶Ôºå\vÊòØÂûÇÁõ¥Âà∂Ë°®Á¨¶„ÄÇÊòØËøôÊ†∑‰πàÔºü &apos;a b&apos;.match(/\w\s\w/); // [&quot;a b&quot;, index: 0, input: &quot;a b&quot;, groups: undefined]&apos;a b&apos;.match(/\w\f\w/); // null&apos;a b&apos;.match(/\w\n\w/); // null&apos;a b&apos;.match(/\w\r\w/); // null&apos;a b&apos;.match(/\w\t\w/); // null&apos;a b&apos;.match(/\w\v\w/); // null&apos;a b&apos;.match(/\w \w/); // [&quot;a b&quot;, index: 0, input: &quot;a b&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ËøôÊ†∑ËØ¥ÁöÑ‰∫∫ÔºåÊòéÊòæÊòØÊ≤°ÊúâÂÅöËøáÂÆûÈ™å„ÄÇÂÖ∂ÂÆûÊ≠£Á°ÆÁöÑÂÜôÊ≥ïÊòØÁ©∫Ê†º\f\n\r\t\vÁöÑÊÄªÂíåÔºåÈõÜÂêàÈáåÈù¢ÂåÖÂê´‰∏Ä‰∏™Á©∫Ê†ºÔºåÂèØÂçÉ‰∏áÂà´ÂøΩÁï•‰∫Ü„ÄÇËØ∂ÔºåÈöæÈÅìÁ©∫Ê†ºÂú®Ê≠£Âàô‰∏≠ÁöÑÂÜôÊ≥ïÂ∞±ÊòØÁ©∫‰∏ÄÊ†º‰πàÔºåÊòØÁöÑÔºåÂ∞±ÊòØËøôÊ†∑ÈöèÊÑè„ÄÇ Ëøô‰∏™ÈõÜÂêà‰∏≠ÂæàÂ§öÈÉΩÊòØ‰∏çÂèØÊâìÂç∞Â≠óÁ¨¶Ôºå‰º∞ËÆ°Âè™Êúâ\nÊòØÊàë‰ª¨ÁöÑËÄÅÊúãÂèã„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂå∫ÂàÜÁ©∫Ê†ºÂíåÊç¢Ë°åÁöÑËØùÔºåÈÇ£Â∞±Â§ßËÉÜÁöÑÁî®\sÂêß„ÄÇ \wÂÖÉÂ≠óÁ¨¶\wÂåπÈÖç‰∏Ä‰∏™Â≠óÊØçÊàñËÄÖ‰∏Ä‰∏™Êï∞Â≠óÊàñËÄÖ‰∏Ä‰∏™‰∏ãÂàíÁ∫ø„ÄÇ‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÂÆÉ‰ª¨Êîæ‰∏ÄËµ∑ÔºüÊÉ≥‰∏ÄÊÉ≥JavaScript‰∏≠ÁöÑÂèòÈáèËßÑÂàôÔºåÂåÖÊã¨ÂæàÂ§öÂ∫îÁî®ÁöÑÁî®Êà∑ÂêçÈÉΩÂè™ËÉΩÊòØËøô‰∏âÊ†∑ÔºåÊâÄ‰ª•ÊääÂÆÉ‰ª¨Êîæ‰∏ÄËµ∑Êå∫Êñπ‰æøÁöÑ„ÄÇ ‰∏çËøáË¶ÅÊ≥®ÊÑèÔºåÂ≠óÊØçÊåáÁöÑÊòØ26‰∏™Ëã±ÊñáÂ≠óÊØçÔºåÂÖ∂‰ªñÁöÑ‰∏çË°å„ÄÇ &apos;Ê≠£Âàô&apos;.match(/\w/); // nullÂ§çÂà∂‰ª£Á†Å Ë¥üÈò¥Êä±Èò≥Â¶ÇÊûúÊàë‰ª¨Â∞ÜÂ§ßÂÜôÂíåÂ∞èÂÜôÁöÑÂ∏¶ÂèçÊñúÊù†ÁöÑÂÖÉÂ≠óÁ¨¶ÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÂ∞±ËÉΩÂåπÈÖç‰ªª‰ΩïÂ≠óÁ¨¶„ÄÇÊòØÁöÑÔºå‰∏çÈíàÂØπ‰ªª‰Ωï‰∫∫„ÄÇ &apos;@regex&apos;.match(/[\s\S]/); // [&quot;@&quot;, index: 0, input: &quot;@regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÊñπÊã¨Âè∑ÁöÑÂê´‰πâÊàë‰ª¨ÂÖàÊåâ‰∏ã‰∏çË°®„ÄÇ ÈÅìÁîü‰∏Ä.Âú®Ê≠£Âàô‰∏≠ÁöÑÂê´‰πâ‰ªôÈ£éÈÅìÈ™®ÔºåÂÆÉÂåπÈÖçÊç¢Ë°åÁ¨¶‰πãÂ§ñÁöÑ‰ªªÊÑèÂçï‰∏™Â≠óÁ¨¶„ÄÇ Â¶ÇÊûúÊñáÊú¨‰∏çÂ≠òÂú®Êç¢Ë°åÁ¨¶ÔºåÈÇ£‰πà.Âíå[\b\B]Âíå[\d\D]Âíå[\s\S]Âíå[\w\W]ÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ Â¶ÇÊûúÊñáÊú¨Â≠òÂú®Êç¢Ë°åÁ¨¶ÔºåÈÇ£‰πà(.|\n)Âíå[\b\B]Âíå[\d\D]Âíå[\s\S]Âíå[\w\W]ÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ &apos;@regex&apos;.match(/./); // [&quot;@&quot;, index: 0, input: &quot;@regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÈáèËØçÂâçÈù¢Êàë‰ª¨‰∏ÄÁõ¥Âú®Âº∫Ë∞ÉÔºå‰∏Ä‰∏™ÂÖÉÂ≠óÁ¨¶Âè™ÂåπÈÖç‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇÂç≥‰æøÂº∫Â§ßÂ¶Ç.ÂÆÉ‰πüÂè™ËÉΩÂåπÈÖç‰∏Ä‰∏™„ÄÇ ÈÇ£ÂåπÈÖçgooooogleÁöÑÊ≠£ÂàôÊòØ‰∏çÊòØÂæóÂÜôÊàê/gooooogle/Âë¢Ôºü Ê≠£ÂàôÂÜ∑Á¨ëÔºåÂπ∂Âêë‰Ω†ÂèëÂ∞Ñ‰∏Ä‰∏™ËîëËßÜ„ÄÇ Â¶ÇÊûúÂåπÈÖçÁöÑÊ®°ÂºèÊúâÈáçÂ§çÔºåÊàë‰ª¨ÂèØ‰ª•Â£∞ÊòéÂÆÉÈáçÂ§çÁöÑÊ¨°Êï∞„ÄÇÈáèËØçÂê´‰πâ?ÈáçÂ§çÈõ∂Ê¨°ÊàñËÄÖ‰∏ÄÊ¨°+ÈáçÂ§ç‰∏ÄÊ¨°ÊàñËÄÖÂ§öÊ¨°Ôºå‰πüÂ∞±ÊòØËá≥Â∞ë‰∏ÄÊ¨°*ÈáçÂ§çÈõ∂Ê¨°ÊàñËÄÖÂ§öÊ¨°Ôºå‰πüÂ∞±ÊòØ‰ªªÊÑèÊ¨°Êï∞{n}ÈáçÂ§çnÊ¨°{n,}ÈáçÂ§çnÊ¨°ÊàñËÄÖÊõ¥Â§öÊ¨°{n,m}ÈáçÂ§çnÊ¨°Âà∞mÊ¨°‰πãÈó¥ÁöÑÊ¨°Êï∞ÔºåÂåÖÂê´nÊ¨°ÂíåmÊ¨°Êúâ‰∏âÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö ?Âú®ËØ∏Â¶ÇÂåπÈÖçhttpÂçèËÆÆÁöÑÊó∂ÂÄôÈùûÂ∏∏ÊúâÁî®ÔºåÂ∞±ÂÉèËøôÊ†∑Ôºö/http(s)?/„ÄÇÂÆÉÂú®Ê≠£Âàô‰∏≠Èô§‰∫ÜÊòØÈáèËØçËøòÊúâÂà´ÁöÑÂê´‰πâÔºåÂêéÈù¢‰ºöÊèêÂà∞„ÄÇ Êàë‰ª¨‰π†ÊÉØÁî®/.*/Êù•ÂåπÈÖçËã•Âπ≤ÂØπÊàë‰ª¨Ê≤°Êúâ‰ª∑ÂÄºÁöÑÊñáÊú¨ÔºåÂÆÉÁöÑÂê´‰πâÊòØËã•Âπ≤Èô§Êç¢Ë°åÁ¨¶‰πãÂ§ñÁöÑÂ≠óÁ¨¶„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÊñáÊú¨‰∏§Â§¥ÁöÑÊ†ºÂºèÂåñ‰ø°ÊÅØÔºå‰∏≠Èó¥ÊòØ‰ªÄ‰πàÊó†ÊâÄË∞ìÔºåÂÆÉÂ∞±Ê¥æ‰∏äÁî®Âú∫‰∫Ü„ÄÇ‰∏çËøáÂÆÉÁöÑÊÄßËÉΩÂèØ‰∏çÂ•Ω„ÄÇ {n,m}‰πãÈó¥‰∏çËÉΩÊúâÁ©∫Ê†ºÔºåÁ©∫Ê†ºÂú®Ê≠£Âàô‰∏≠ÊòØÊúâÂê´‰πâÁöÑ„ÄÇ ÂÖ≥‰∫éÈáèËØçÊúÄ‰ª§‰∫∫Âõ∞ÊÉëÁöÑÊòØÔºöÂÆÉÈáçÂ§ç‰ªÄ‰πàÔºü ÂÆÉÈáçÂ§çÁ¥ßË¥¥Âú®ÂÆÉÂâçÈù¢ÁöÑÊüê‰∏™ÈõÜÂêà„ÄÇÁ¨¨‰∏ÄÁÇπÔºåÂøÖÈ°ªÊòØÁ¥ßË¥¥Âú®ÂÆÉÂâçÈù¢ÔºõÁ¨¨‰∫åÁÇπÔºåÈáçÂ§ç‰∏Ä‰∏™ÈõÜÂêà„ÄÇÊúÄÂ∏∏ËßÅÁöÑÈõÜÂêàÂ∞±ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶ÔºåÂΩìÁÑ∂Ê≠£Âàô‰∏≠Êúâ‰∏Ä‰∫õÂÖÉÂ≠óÁ¨¶ËÉΩÂ§üÂ∞ÜËã•Âπ≤Â≠óÁ¨¶ÂèòÊàê‰∏Ä‰∏™ÈõÜÂêàÔºåÂêéÈù¢‰ºöËÆ≤Âà∞„ÄÇ &apos;gooooogle&apos;.match(/go{2,5}gle/); // [&quot;gooooogle&quot;, index: 0, input: &quot;gooooogle&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Â¶ÇÊûú‰∏Ä‰∏™ÈáèËØçÁ¥ßË¥¥Âú®Âè¶‰∏Ä‰∏™ÈáèËØçÂêéÈù¢‰ºöÊÄéÊ†∑Ôºü &apos;gooooogle&apos;.match(/go{2,5}+gle/); // Uncaught SyntaxError: Invalid regular expression: /go{2,5}+gle/: Nothing to repeatÂ§çÂà∂‰ª£Á†Å Ë¥™Â©™Ê®°Âºè‰∏éÈùûË¥™Â©™Ê®°ÂºèÂâçÈù¢ÊèêÂà∞ÈáèËØç‰∏çËÉΩÁ¥ßË∑üÂú®Âè¶‰∏Ä‰∏™ÈáèËØçÂêéÈù¢ÔºåÈ©¨‰∏äË¶ÅüëãüëãÊâìËÑ∏‰∫Ü„ÄÇ &apos;https&apos;.match(/http(s)?/); // [&quot;https&quot;, &quot;s&quot;, index: 0, input: &quot;https&quot;, groups: undefined]&apos;https&apos;.match(/http(s)??/); // [&quot;http&quot;, undefined, index: 0, input: &quot;https&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÁÑ∂ËÄåÔºåÊàëÁöÑËÑ∏ÊòØËøô‰πàÂ•ΩÊâìÁöÑÔºü Á¥ßË∑üÂú®?ÂêéÈù¢ÁöÑ?ÂÆÉ‰∏çÊòØ‰∏Ä‰∏™ÈáèËØçÔºåËÄåÊòØ‰∏Ä‰∏™Ê®°ÂºèÂàáÊç¢Á¨¶Ôºå‰ªéË¥™Â©™Ê®°ÂºèÂàáÊç¢Âà∞ÈùûË¥™Â©™Ê®°Âºè„ÄÇ Ë¥™Â©™Ê®°ÂºèÂú®Ê≠£Âàô‰∏≠ÊòØÈªòËÆ§ÁöÑÊ®°ÂºèÔºåÂ∞±ÊòØÂú®Êó¢ÂÆöËßÑÂàô‰πã‰∏ãÂåπÈÖçÂ∞ΩÂèØËÉΩÂ§öÁöÑÊñáÊú¨„ÄÇÂõ†‰∏∫Ê≠£Âàô‰∏≠ÊúâÈáèËØçÔºåÂÆÉÁöÑÈáçÂ§çÊ¨°Êï∞ÂèØËÉΩÊòØ‰∏Ä‰∏™Âå∫Èó¥ÔºåËøôÂ∞±Êúâ‰∫ÜÂèñËàç„ÄÇ Á¥ßË∑üÂú®ÈáèËØç‰πãÂêéÂä†‰∏ä?Â∞±ÂèØ‰ª•ÂºÄÂêØÈùûË¥™Â©™Ê®°Âºè„ÄÇÊÄé‰πàÁúÅ‰∫ãÊÄé‰πàÊù•„ÄÇ ËøôÈáåÁöÑË¶ÅÁÇπÊòØÔºå?ÂøÖÈ°ªÁ¥ßË∑üÁùÄÈáèËØçÔºåÂê¶ÂàôÁöÑËØùÂÆÉËá™Â∑±Â∞±ÂèòÊàêÈáèËØç‰∫Ü„ÄÇ Â≠óÁ¨¶ÁªÑÊ≠£Âàô‰∏≠ÁöÑÊôÆÈÄöÂ≠óÁ¨¶Âè™ËÉΩÂåπÈÖçÂÆÉËá™Â∑±„ÄÇÂ¶ÇÊûúÊàëË¶ÅÂåπÈÖç‰∏Ä‰∏™ÊôÆÈÄöÂ≠óÁ¨¶Ôºå‰ΩÜÊòØÊàë‰∏çÁ°ÆÂÆöÂÆÉÊòØ‰ªÄ‰πàÔºåÊÄé‰πàÂäûÔºü &apos;grey or gray&apos;.match(/gr[ae]y/); // [&quot;grey&quot;, index: 0, input: &quot;grey or gray&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÊñπÊã¨Âè∑Âú®Ê≠£Âàô‰∏≠Ë°®Á§∫‰∏Ä‰∏™Âå∫Èó¥ÔºåÊàë‰ª¨Áß∞ÂÆÉ‰∏∫Â≠óÁ¨¶ÁªÑ„ÄÇ È¶ñÂÖàÔºåÂ≠óÁ¨¶ÁªÑ‰∏≠ÁöÑÂ≠óÁ¨¶ÈõÜÂêàÂè™ÊòØÊâÄÊúâÁöÑÂèØÈÄâÈ°πÔºåÊúÄÁªàÂÆÉÂè™ËÉΩÂåπÈÖç‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ ÁÑ∂ÂêéÔºåÂ≠óÁ¨¶ÁªÑÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑ‰∏ñÁïåÔºåÂÖÉÂ≠óÁ¨¶‰∏çÈúÄË¶ÅËΩ¨‰πâ„ÄÇ &apos;$&apos;.match(/[$&amp;@]/); // [&quot;$&quot;, index: 0, input: &quot;$&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÊúÄÂêéÔºåÊúâ‰∏§‰∏™Â≠óÁ¨¶Âú®Â≠óÁ¨¶ÁªÑ‰∏≠ÊúâÁâπÊÆäÂê´‰πâ„ÄÇ ^Âú®Â≠óÁ¨¶ÁªÑ‰∏≠Ë°®Á§∫ÂèñÂèçÔºå‰∏çÂÜçÊòØÊñáÊú¨ÂºÄÂßãÁöÑ‰ΩçÁΩÆ‰∫Ü„ÄÇ &apos;regex&apos;.match(/[^abc]/); // [&quot;r&quot;, index: 0, input: &quot;regex&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Â¶ÇÊûúÊàëÂ∞±Ë¶Å^Âë¢ÔºüÂâçÈù¢Â∑≤ÁªèËÆ≤Ëøá‰∫ÜÔºåËΩ¨‰πâ„ÄÇ -Êú¨Êù•ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÂ≠óÁ¨¶ÔºåÂú®Â≠óÁ¨¶ÁªÑ‰∏≠ÊëáË∫´‰∏ÄÂèòÊàê‰∏∫ËøûÂ≠óÁ¨¶„ÄÇ &apos;13&apos;.match(/[1-9]3/); // [&quot;13&quot;, index: 0, input: &quot;13&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ËøûÂ≠óÁ¨¶ÁöÑÊÑèÊÄùÊòØÂåπÈÖçËåÉÂõ¥Âú®ÂÆÉÁöÑÂ∑¶ËæπÂ≠óÁ¨¶ÂíåÂè≥ËæπÂ≠óÁ¨¶‰πãÈó¥„ÄÇ Â¶ÇÊûúÊàëËøôÊ†∑Âë¢Ôºü &apos;abc-3&apos;.match(/[0-z]/); // [&quot;a&quot;, index: 0, input: &quot;abc-3&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å &apos;xyz-3&apos;.match(/[0-c]/); // [&quot;3&quot;, index: 4, input: &quot;xyz-3&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å &apos;xyz-3&apos;.match(/[0-$]/); // Uncaught SyntaxError: Invalid regular expression: /[0-$]/: Range out of order in character classÂ§çÂà∂‰ª£Á†Å ÂèëÁé∞‰ªÄ‰πà‰∫ÜÊ≤°ÊúâÔºüÂè™Êúâ‰∏§ÁßçÂ≠óÁ¨¶ÊòØÂèØ‰ª•Áî®ËøûÂ≠óÁ¨¶ÁöÑÔºöËã±ÊñáÂ≠óÊØçÂíåÊï∞Â≠ó„ÄÇËÄå‰∏îËã±ÊñáÂ≠óÊØçÂèØ‰ª•ÂíåÊï∞Â≠óËøûËµ∑Êù•ÔºåËã±ÊñáÂ≠óÊØçÁöÑÈ°∫Â∫èÂú®ÂêéÈù¢„ÄÇËøôÂíåÊâëÂÖãÁâå1 2 3 4 5 6 7 8 9 10 J Q KÊòØ‰∏Ä‰∏™ÈÅìÁêÜ„ÄÇ ÊçïËé∑ÁªÑ‰∏éÈùûÊçïËé∑ÁªÑÊàë‰ª¨Â∑≤ÁªèÁü•ÈÅìÈáèËØçÊòØÊÄé‰πàÂõû‰∫ã‰∫ÜÔºåÊàë‰ª¨‰πüÁü•ÈÅìÈáèËØçÂè™ËÉΩÈáçÂ§çÁ¥ßË¥¥Âú®ÂÆÉÂâçÈù¢ÁöÑÂ≠óÁ¨¶„ÄÇ Â¶ÇÊûúÊàëË¶ÅÈáçÂ§çÁöÑÊòØ‰∏Ä‰∏≤Â≠óÁ¨¶Âë¢Ôºü &apos;i love you very very very much&apos;.match(/i love you very +much/); // null&apos;i love you very very very much&apos;.match(/i love you v+e+r+y+ +much/); // nullÂ§çÂà∂‰ª£Á†Å ËøôÊ†∑ËÇØÂÆöÊòØ‰∏çË°åÁöÑ„ÄÇÊòØÊó∂ÂÄôËØ∑ÂúÜÊã¨Âè∑Âá∫Â±±‰∫Ü„ÄÇ &apos;i love you very very very much&apos;.match(/i love you (very )+much/); // [&quot;i love you very very very much&quot;, &quot;very &quot;, index: 0, input: &quot;i love you very very very much&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ÂúÜÊã¨Âè∑ÁöÑÊÑèÊÄùÊòØÂ∞ÜÂÆÉÂÖ∂‰∏≠ÁöÑÂ≠óÁ¨¶ÈõÜÂêàÊâìÂåÖÊàê‰∏Ä‰∏™Êï¥‰ΩìÔºåÁÑ∂ÂêéÈáèËØçÂ∞±ÂèØ‰ª•Êìç‰ΩúËøô‰∏™Êï¥‰Ωì‰∫Ü„ÄÇËøôÂíåÊñπÊã¨Âè∑ÁöÑÊïàÊûúÊòØÂÆåÂÖ®‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ËÄå‰∏îÈªòËÆ§ÁöÑÔºåÂúÜÊã¨Âè∑ÁöÑÂåπÈÖçÁªìÊûúÊòØÂèØ‰ª•ÊçïËé∑ÁöÑ„ÄÇ Ê≠£ÂàôÂÜÖÊçïËé∑Áé∞Âú®Êàë‰ª¨Êúâ‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÂåπÈÖç&lt;div&gt;Ê†áÁ≠æ„ÄÇ &apos;&lt;div&gt;hello regex&lt;/div&gt;&apos;.match(/&lt;div&gt;.*&lt;\/div&gt;/); // [&quot;&lt;div&gt;hello regex&lt;/div&gt;&quot;, index: 0, input: &quot;&lt;div&gt;hello regex&lt;/div&gt;&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ËøôÂæàÁÆÄÂçï„ÄÇ‰ΩÜÂ¶ÇÊûúÊàëË¶ÅÂåπÈÖçÁöÑÊòØ‰ªªÊÑèÊ†áÁ≠æÔºåÂåÖÊã¨Ëá™ÂÆö‰πâÁöÑÊ†áÁ≠æÂë¢Ôºü &apos;&lt;App&gt;hello regex&lt;/App&gt;&apos;.match(/&lt;([a-zA-Z]+)&gt;.*&lt;\/\1&gt;/); // [&quot;&lt;App&gt;hello regex&lt;/App&gt;&quot;, &quot;App&quot;, index: 0, input: &quot;&lt;App&gt;hello regex&lt;/App&gt;&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ËøôÊó∂ÂÄôÂ∞±Ë¶ÅÁî®Âà∞Ê≠£ÂàôÁöÑÊçïËé∑ÁâπÊÄß„ÄÇÊ≠£ÂàôÂÜÖÊçïËé∑‰ΩøÁî®\Êï∞Â≠óÁöÑÂΩ¢ÂºèÔºåÂàÜÂà´ÂØπÂ∫îÂâçÈù¢ÁöÑÂúÜÊã¨Âè∑ÊçïËé∑ÁöÑÂÜÖÂÆπ„ÄÇËøôÁßçÊçïËé∑ÁöÑÂºïÁî®‰πüÂè´ÂèçÂêëÂºïÁî®„ÄÇ Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™Êõ¥Â§çÊùÇÁöÑÊÉÖÂÜµÔºö &apos;&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;&apos;.match(/&lt;((A|a)pp)&gt;(hello regex)+&lt;\/\1&gt;&lt;p&gt;\2&lt;\/p&gt;&lt;p&gt;\3&lt;\/p&gt;/); // [&quot;&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;&quot;, &quot;App&quot;, &quot;A&quot;, &quot;hello regex&quot;, index: 0, input: &quot;&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Â¶ÇÊûúÊúâÂµåÂ•óÁöÑÂúÜÊã¨Âè∑ÔºåÈÇ£‰πàÊçïËé∑ÁöÑÂºïÁî®ÊòØÂÖàÈÄíÂΩíÁöÑÔºåÁÑ∂ÂêéÊâçÊòØ‰∏ã‰∏Ä‰∏™È°∂Á∫ßÊçïËé∑„ÄÇ Ê≠£ÂàôÂ§ñÊçïËé∑&apos;@abc&apos;.match(/@(abc)/); // [&quot;@abc&quot;, &quot;abc&quot;, index: 0, input: &quot;@abc&quot;, groups: undefined]RegExp.$1; // &quot;abc&quot;Â§çÂà∂‰ª£Á†Å Ê≤°ÈîôÔºåRegExpÂ∞±ÊòØÊûÑÈÄ†Ê≠£ÂàôÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÂ¶ÇÊûúÊúâÊçïËé∑ÁªÑÔºåÂÆÉÁöÑÂÆû‰æãÂ±ûÊÄß$Êï∞Â≠ó‰ºöÊòæÁ§∫ÂØπÂ∫îÁöÑÂºïÁî®„ÄÇ Â¶ÇÊûúÊúâÂ§ö‰∏™Ê≠£ÂàôÂë¢Ôºü &apos;@abc&apos;.match(/@(abc)/); // [&quot;@abc&quot;, &quot;abc&quot;, index: 0, input: &quot;@abc&quot;, groups: undefined]&apos;@xyz&apos;.match(/@(xyz)/); // [&quot;@xyz&quot;, &quot;xyz&quot;, index: 0, input: &quot;@xyz&quot;, groups: undefined]RegExp.$1; // &quot;xyz&quot;Â§çÂà∂‰ª£Á†Å RegExpÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂºïÁî®Âè™ÊòæÁ§∫ÊúÄÂêé‰∏Ä‰∏™Ê≠£ÂàôÁöÑÊçïËé∑„ÄÇ Âè¶Â§ñËøòÊúâ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÆû‰æãÊñπÊ≥ï‰πüÊîØÊåÅÊ≠£ÂàôÊçïËé∑ÁöÑÂºïÁî®ÔºåÂÆÉÂ∞±ÊòØreplaceÊñπÊ≥ï„ÄÇ &apos;hello **regex**&apos;.replace(/\*{2}(.*)\*{2}/, &apos;&lt;strong&gt;$1&lt;/strong&gt;&apos;); // &quot;hello &lt;strong&gt;regex&lt;/strong&gt;&quot;Â§çÂà∂‰ª£Á†Å ÂÆûÈôÖ‰∏äÂÆÉÊâçÊòØÊúÄÂ∏∏Áî®ÁöÑÂºïÁî®ÊçïËé∑ÁöÑÊñπÂºè„ÄÇ ÊçïËé∑ÂëΩÂêç ËøôÊòØES2018ÁöÑÊñ∞ÁâπÊÄß„ÄÇ ‰ΩøÁî®\Êï∞Â≠óÂºïÁî®ÊçïËé∑ÂøÖÈ°ª‰øùËØÅÊçïËé∑ÁªÑÁöÑÈ°∫Â∫è‰∏çÂèò„ÄÇÁé∞Âú®ÂºÄÂèëËÄÖÂèØ‰ª•ÁªôÊçïËé∑ÁªÑÂëΩÂêç‰∫ÜÔºåÊúâ‰∫ÜÂêçÂ≠ó‰ª•ÂêéÔºåÂºïÁî®Ëµ∑Êù•Êõ¥Âä†Á°ÆÂÆö„ÄÇ &apos;&lt;App&gt;hello regex&lt;/App&gt;&apos;.match(/&lt;(?&lt;tag&gt;[a-zA-Z]+)&gt;.*&lt;\/\k&lt;tag&gt;&gt;/); // [&quot;&lt;App&gt;hello regex&lt;/App&gt;&quot;, &quot;App&quot;, index: 0, input: &quot;&lt;App&gt;hello regex&lt;/App&gt;&quot;, groups: {tag: &quot;App&quot;}]Â§çÂà∂‰ª£Á†Å Âú®ÊçïËé∑ÁªÑÂÜÖÈÉ®ÊúÄÂâçÈù¢Âä†‰∏ä?&lt;key&gt;ÔºåÂÆÉÂ∞±Ë¢´ÂëΩÂêç‰∫Ü„ÄÇ‰ΩøÁî®\k&lt;key&gt;ËØ≠Ê≥ïÂ∞±ÂèØ‰ª•ÂºïÁî®Â∑≤ÁªèÂëΩÂêçÁöÑÊçïËé∑ÁªÑ„ÄÇ ÊòØ‰∏çÊòØÂæàÁÆÄÂçïÔºü ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂºÄÂèëËÄÖÂè™ÊòØÊÉ≥Âú®Ê≠£Âàô‰∏≠Â∞ÜÊüê‰∫õÂ≠óÁ¨¶ÂΩìÊàê‰∏Ä‰∏™Êï¥‰ΩìÁúãÂæÖ„ÄÇÊçïËé∑ÁªÑÂæàÊ£íÔºå‰ΩÜÊòØÂÆÉÂÅö‰∫ÜÈ¢ùÂ§ñÁöÑ‰∫ãÊÉÖÔºåËÇØÂÆöÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÂç†Áî®ÂíåËÆ°ÁÆóËµÑÊ∫ê„ÄÇ‰∫éÊòØÊ≠£ÂàôÂèàÊúâ‰∫ÜÈùûÊçïËé∑ÁªÑÁöÑÊ¶ÇÂøµ„ÄÇ &apos;@abc&apos;.match(/@(abc)/); // [&quot;@abc&quot;, &quot;abc&quot;, index: 0, input: &quot;@abc&quot;, groups: undefined]&apos;@abc&apos;.match(/@(?:abc)/); // [&quot;@abc&quot;, index: 0, input: &quot;@abc&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Âè™Ë¶ÅÂú®ÂúÜÊã¨Âè∑ÂÜÖÊúÄÂâçÈù¢Âä†‰∏ä?:Ê†áËØÜÔºåÂ∞±ÊòØÂëäËØâÊ≠£ÂàôÂºïÊìéÔºöÊàëÂè™Ë¶ÅËøô‰∏™Êï¥‰ΩìÔºå‰∏çÈúÄË¶ÅÂÆÉÁöÑÂºïÁî®Ôºå‰Ω†Â∞±Âà´Ë¥πÂä≤‰∫Ü„ÄÇ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰πüÂèØ‰ª•ÁúãÂá∫Êù•ÔºåmatchÊñπÊ≥ïËøîÂõûÁöÑÁªìÊûúÊúâ‰∫õËÆ∏‰∏ç‰∏ÄÊ†∑„ÄÇ ‰∏™‰∫∫ËßÇÁÇπÔºöÊàëËßâÂæóÊ≠£ÂàôÁöÑÊçïËé∑ËÆæËÆ°Â∫îËØ•ÂèçËøáÊù•ÔºåÈªòËÆ§‰∏çÊçïËé∑ÔºåÂä†‰∏ä?:Ê†áËØÜÂêéÊâçÊçïËé∑„ÄÇÂõ†‰∏∫Â§ßÂ§öÊï∞Êó∂ÂÄôÂºÄÂèëËÄÖÊòØ‰∏çÈúÄË¶ÅÊçïËé∑ÁöÑÔºå‰ΩÜÊòØÂÆÉÂèàÊáíÂæóÂä†?:Ê†áËØÜÔºå‰ºöÊúâ‰∫õËÆ∏ÊÄßËÉΩÊµ™Ë¥π„ÄÇ ÂàÜÊîØÊúâÊó∂ÂÄôÂºÄÂèëËÄÖÈúÄË¶ÅÂú®Ê≠£Âàô‰∏≠‰ΩøÁî®ÊàñËÄÖ„ÄÇ &apos;È´òÂúÜÂúÜ&apos;.match(/Èôà‰πîÊÅ©|È´òÂúÜÂúÜ/); // [&quot;È´òÂúÜÂúÜ&quot;, index: 0, input: &quot;È´òÂúÜÂúÜ&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å |Â∞±‰ª£Ë°®ÊàñËÄÖ„ÄÇÂ≠óÁ¨¶ÁªÑÂÖ∂ÂÆû‰πüÊòØ‰∏Ä‰∏™Â§öÈÄâÁªìÊûÑÔºå‰ΩÜÊòØÂÆÉ‰ª¨‰ø©ÊúâÊú¨Ë¥®Âå∫Âà´„ÄÇÂ≠óÁ¨¶ÁªÑÊúÄÁªàÂè™ËÉΩÂåπÈÖç‰∏Ä‰∏™Â≠óÁ¨¶ÔºåËÄåÂàÜÊîØÂåπÈÖçÁöÑÊòØÂ∑¶ËæπÊâÄÊúâÁöÑÂ≠óÁ¨¶ÊàñËÄÖÂè≥ËæπÊâÄÊúâÁöÑÂ≠óÁ¨¶„ÄÇ Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™‰æãÂ≠êÔºö &apos;ÊàëÂñúÊ¨¢È´òÂúÜÂúÜ&apos;.match(/ÊàëÂñúÊ¨¢Èôà‰πîÊÅ©|È´òÂúÜÂúÜ/); // [&quot;È´òÂúÜÂúÜ&quot;, index: 3, input: &quot;ÊàëÂñúÊ¨¢È´òÂúÜÂúÜ&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Âõ†‰∏∫|ÊòØÂ∞ÜÂ∑¶Âè≥‰∏§Ëæπ‰∏ÄÂàá‰∏§ÂçäÔºåÁÑ∂ÂêéÂåπÈÖçÂ∑¶ËæπÊàñËÄÖÂè≥Ëæπ„ÄÇÊâÄ‰ª•‰∏äÈù¢ÁöÑÊ≠£ÂàôÊòæÁÑ∂Ëææ‰∏çÂà∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûú„ÄÇËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏Ä‰∏™‰∏úË•øÊù•Áº©Â∞èÂàÜÊîØÁöÑËåÉÂõ¥„ÄÇËØ∂Ôºå‰Ω†ÂèØËÉΩÂ∑≤ÁªèÊÉ≥Âà∞‰∫ÜÔºö &apos;ÊàëÂñúÊ¨¢È´òÂúÜÂúÜ&apos;.match(/ÊàëÂñúÊ¨¢(?:Èôà‰πîÊÅ©|È´òÂúÜÂúÜ)/); // [&quot;ÊàëÂñúÊ¨¢È´òÂúÜÂúÜ&quot;, index: 0, input: &quot;ÊàëÂñúÊ¨¢È´òÂúÜÂúÜ&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Ê≤°ÈîôÔºåÂ∞±ÊòØÂúÜÊã¨Âè∑„ÄÇ Èõ∂ÂÆΩÊñ≠Ë®ÄÊ≠£Âàô‰∏≠Êúâ‰∏Ä‰∫õÂÖÉÂ≠óÁ¨¶ÔºåÂÆÉ‰∏çÂåπÈÖçÂ≠óÁ¨¶ÔºåËÄåÊòØÂåπÈÖç‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇÊØîÂ¶Ç‰πãÂâçÊèêÂà∞ÁöÑ^Âíå$„ÄÇ^ÁöÑÊÑèÊÄùÊòØËØ¥Ëøô‰∏™‰ΩçÁΩÆÂ∫îËØ•ÊòØÊñáÊú¨ÂºÄÂßãÁöÑ‰ΩçÁΩÆ„ÄÇ Ê≠£ÂàôËøòÊúâ‰∏Ä‰∫õÊØîËæÉÈ´òÁ∫ßÁöÑÂåπÈÖç‰ΩçÁΩÆÁöÑËØ≠Ê≥ïÔºåÂÆÉÂåπÈÖçÁöÑÊòØÔºöÂú®Ëøô‰∏™‰ΩçÁΩÆ‰πãÂâçÊàñ‰πãÂêéÂ∫îËØ•Êúâ‰ªÄ‰πàÂÜÖÂÆπ„ÄÇ Èõ∂ÂÆΩ(zero-width)ÊòØ‰ªÄ‰πàÊÑèÊÄùÔºüÊåáÁöÑÂ∞±ÊòØÂÆÉÂåπÈÖç‰∏Ä‰∏™‰ΩçÁΩÆÔºåÊú¨Ë∫´Ê≤°ÊúâÂÆΩÂ∫¶„ÄÇ Êñ≠Ë®Ä(assertion)ÊòØ‰ªÄ‰πàÊÑèÊÄùÔºüÊåáÁöÑÊòØ‰∏ÄÁßçÂà§Êñ≠ÔºåÊñ≠Ë®Ä‰πãÂâçÊàñ‰πãÂêéÂ∫îËØ•Êúâ‰ªÄ‰πàÊàñÂ∫îËØ•Ê≤°Êúâ‰ªÄ‰πà„ÄÇ Èõ∂ÂÆΩËÇØÂÆöÂÖàË°åÊñ≠Ë®ÄÊâÄË∞ìÁöÑËÇØÂÆöÂ∞±ÊòØÂà§Êñ≠Êúâ‰ªÄ‰πàÔºåËÄå‰∏çÊòØÂà§Êñ≠Ê≤°Êúâ‰ªÄ‰πà„ÄÇ ËÄåÂÖàË°åÊåáÁöÑÊòØÂêëÂâçÁúã(lookahead)ÔºåÊñ≠Ë®ÄÁöÑËøô‰∏™‰ΩçÁΩÆÊòØ‰∏∫ÂâçÈù¢ÁöÑËßÑÂàôÊúçÂä°ÁöÑ„ÄÇ ËØ≠Ê≥ïÂæàÁÆÄÂçïÔºöÂúÜÊã¨Âè∑ÂÜÖÊúÄÂ∑¶ËæπÂä†‰∏ä?=Ê†áËØÜ„ÄÇ &apos;CoffeeScript JavaScript javascript&apos;.match(/\b\w{4}(?=Script\b)/); // [&quot;Java&quot;, index: 13, input: &quot;CoffeeScript JavaScript javascript&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ‰∏äÈù¢ÂåπÈÖçÁöÑÊòØÂõõ‰∏™Â≠óÊØçÔºåËøôÂõõ‰∏™Â≠óÊØçË¶ÅÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÔºöÁ¥ßË∑üÁùÄÁöÑÂ∫îËØ•ÊòØScriptÂ≠óÁ¨¶‰∏≤ÔºåËÄå‰∏îScriptÂ≠óÁ¨¶‰∏≤Â∫îËØ•ÊòØÂçïËØçÁöÑÁªìÂ∞æÈÉ®ÂàÜ„ÄÇ ÊâÄ‰ª•ÔºåÈõ∂ÂÆΩËÇØÂÆöÂÖàË°åÊñ≠Ë®ÄÁöÑÊÑèÊÄùÊòØÔºöÁé∞Âú®Êúâ‰∏ÄÊÆµÊ≠£ÂàôËØ≠Ê≥ïÔºåÁî®ËøôÊÆµËØ≠Ê≥ïÂéªÂåπÈÖçÁªôÂÆöÁöÑÊñáÊú¨„ÄÇ‰ΩÜÊòØÔºåÊª°Ë∂≥Êù°‰ª∂ÁöÑÊñáÊú¨‰∏ç‰ªÖË¶ÅÂåπÈÖçËøôÊÆµËØ≠Ê≥ïÔºåÁ¥ßË∑üÁùÄÂÆÉÁöÑÂøÖÈ°ªÊòØ‰∏Ä‰∏™‰ΩçÁΩÆÔºåËøô‰∏™‰ΩçÁΩÆÂèàÂøÖÈ°ªÊª°Ë∂≥‰∏ÄÊÆµÊ≠£ÂàôËØ≠Ê≥ï„ÄÇ ËØ¥ÁöÑÂÜçÁõ¥ÁôΩÁÇπÔºåÊàëË¶ÅÂåπÈÖç‰∏ÄÊÆµÊñáÊú¨Ôºå‰ΩÜÊòØËøôÊÆµÊñáÊú¨ÂêéÈù¢ÂøÖÈ°ªÁ¥ßË∑üÁùÄÂè¶‰∏ÄÊÆµÁâπÂÆöÁöÑÊñáÊú¨„ÄÇÈõ∂ÂÆΩËÇØÂÆöÂÖàË°åÊñ≠Ë®ÄÂ∞±ÊòØ‰∏Ä‰∏™ÁïåÁ¢ëÔºåÊàëË¶ÅÊª°Ë∂≥ÂâçÈù¢ÂíåÂêéÈù¢ÊâÄÊúâÁöÑÊù°‰ª∂Ôºå‰ΩÜÊòØÊàëÂè™Ë¶ÅÂâçÈù¢ÁöÑÊñáÊú¨„ÄÇ Êàë‰ª¨Êù•ÁúãÂè¶‰∏ÄÁßçÊÉÖÂÜµÔºö &apos;CoffeeScript JavaScript javascript&apos;.match(/\b\w{4}(?=Script\b)\w+/); // [&quot;JavaScript&quot;, index: 13, input: &quot;CoffeeScript JavaScript javascript&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ‰∏äÈù¢ÁöÑ‰æãÂ≠êÊõ¥Âä†Áõ¥ËßÇÔºåÈõ∂ÂÆΩËÇØÂÆöÂÖàË°åÊñ≠Ë®ÄÂ∑≤ÁªèÂåπÈÖçËøáScript‰∏ÄÊ¨°‰∫ÜÔºåÂêéÈù¢ÁöÑ\w+Âç¥ËøòÊòØËÉΩÂåπÈÖçScriptÊàêÂäüÔºåË∂≥‰ª•ËØ¥ÊòéÂÆÉÁöÑÈõ∂ÂÆΩÁâπÊÄß„ÄÇÂÆÉ‰∏∫Á¥ßË¥¥Âú®ÂÆÉÂâçÈù¢ÁöÑËßÑÂàôÊúçÂä°ÔºåÂπ∂‰∏î‰∏çÂΩ±ÂìçÂêéÈù¢ÁöÑÂåπÈÖçËßÑÂàô„ÄÇ Èõ∂ÂÆΩËÇØÂÆöÂêéË°åÊñ≠Ë®ÄÂÖàË°åÊòØÂêëÂâçÁúãÔºåÈÇ£ÂêéË°åÂ∞±ÊòØÂêëÂêéÁúã(lookbehind)ÂíØ„ÄÇ ËØ≠Ê≥ïÊòØÂúÜÊã¨Âè∑ÂÜÖÊúÄÂ∑¶ËæπÂä†‰∏ä?&lt;=Ê†áËØÜ„ÄÇ &apos;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&apos;.match(/(?&lt;=ÊºîÂëò)Èúç\S+/); // [&quot;ÈúçÊÄùÁáï&quot;, index: 14, input: &quot;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ‰∏Ä‰∏™Ê≠£ÂàôÂèØ‰ª•ÊúâÂ§ö‰∏™Êñ≠Ë®ÄÔºö &apos;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&apos;.match(/(?&lt;=ÊºîÂëò)Èúç.+?(?=\s|$)/); // [&quot;ÈúçÊÄùÁáï&quot;, index: 14, input: &quot;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Èõ∂ÂÆΩÂê¶ÂÆöÂÖàË°åÊñ≠Ë®ÄËÇØÂÆöÊòØÂà§Êñ≠Êúâ‰ªÄ‰πàÔºåÂê¶ÂÆöÂ∞±ÊòØÂà§Êñ≠Ê≤°Êúâ‰ªÄ‰πàÂíØ„ÄÇ ËØ≠Ê≥ïÊòØÂúÜÊã¨Âè∑ÂÜÖÊúÄÂ∑¶ËæπÂä†‰∏ä?!Ê†áËØÜ„ÄÇ &apos;TypeScript Perl JavaScript&apos;.match(/\b\w{4}(?!Script\b)/); // [&quot;Perl&quot;, index: 11, input: &quot;TypeScript Perl JavaScript&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Èõ∂ÂÆΩÂê¶ÂÆöÂêéË°åÊñ≠Ë®ÄËØ≠Ê≥ïÊòØÂúÜÊã¨Âè∑ÊúÄÂ∑¶ËæπÂä†‰∏ä?&lt;!Ê†áËØÜ„ÄÇ &apos;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&apos;.match(/(?&lt;!ÊºîÂëò)Èúç\S+/); // [&quot;ÈúçÂéªÁóÖ&quot;, index: 8, input: &quot;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å ‰øÆÈ•∞Á¨¶Ê≠£ÂàôË°®ËææÂºèÈô§‰∫Ü‰∏ª‰ΩìËØ≠Ê≥ïÔºåËøòÊúâËã•Âπ≤ÂèØÈÄâÁöÑÊ®°Âºè‰øÆÈ•∞Á¨¶„ÄÇ ÂÜôÊ≥ïÂ∞±ÊòØÂ∞Ü‰øÆÈ•∞Á¨¶ÂÆâÊèíÂú®Ê≠£Âàô‰∏ª‰ΩìÁöÑÂ∞æÂ∑¥‰∏ä„ÄÇÊØîÂ¶ÇËøôÊ†∑Ôºö/abc/gi„ÄÇ g‰øÆÈ•∞Á¨¶gÊòØglobalÁöÑÁº©ÂÜô„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊ≠£Âàô‰ªéÂ∑¶ÂêëÂè≥ÂåπÈÖçÔºåÂè™Ë¶ÅÂåπÈÖçÂà∞‰∫ÜÁªìÊûúÂ∞±‰ºöÊî∂Â∑•„ÄÇg‰øÆÈ•∞Á¨¶‰ºöÂºÄÂêØÂÖ®Â±ÄÂåπÈÖçÊ®°ÂºèÔºåÊâæÂà∞ÊâÄÊúâÂåπÈÖçÁöÑÁªìÊûú„ÄÇ &apos;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&apos;.match(/(?&lt;=ÊºîÂëò)\S+/); // [&quot;È´òÂúÜÂúÜ&quot;, index: 2, input: &quot;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&quot;, groups: undefined]&apos;ÊºîÂëòÈ´òÂúÜÂúÜ Â∞ÜÂÜõÈúçÂéªÁóÖ ÊºîÂëòÈúçÊÄùÁáï&apos;.match(/(?&lt;=ÊºîÂëò)\S+/g); // [&quot;È´òÂúÜÂúÜ&quot;, &quot;ÈúçÊÄùÁáï&quot;]Â§çÂà∂‰ª£Á†Å i‰øÆÈ•∞Á¨¶iÊòØignoreCaseÁöÑÁº©ÂÜô„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå/z/ÊòØÊó†Ê≥ïÂåπÈÖçZÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÊúâÊó∂ÂÄô‰∏çÂæó‰∏çËøôÊ†∑ÂÜôÔºö/[a-zA-Z]/„ÄÇi‰øÆÈ•∞Á¨¶ÂèØ‰ª•ÂÖ®Â±ÄÂøΩÁï•Â§ßÂ∞èÂÜô„ÄÇ ÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨‰∏çÂú®‰πéÊñáÊú¨ÊòØÂ§ßÂÜô„ÄÅÂ∞èÂÜôËøòÊòØÂ§ßÂ∞èÂÜôÊ∑∑ÂÜôÔºåËøô‰∏™‰øÆÈ•∞Á¨¶ËøòÊòØÂæàÊúâÁî®ÁöÑ„ÄÇ &apos;javascript is great&apos;.match(/JavaScript/); // null&apos;javascript is great&apos;.match(/JavaScript/i); // [&quot;javascript&quot;, index: 0, input: &quot;javascript is great&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å m‰øÆÈ•∞Á¨¶mÊòØmultilineÁöÑÁº©ÂÜô„ÄÇËøô‰∏™‰øÆÈ•∞Á¨¶ÊúâÁâπÂÆöËµ∑‰ΩúÁî®ÁöÑÂú∫ÊôØÔºöÂÆÉË¶ÅÂíå^Âíå$Êê≠ÈÖçËµ∑Êù•‰ΩøÁî®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå^Âíå$ÂåπÈÖçÁöÑÊòØÊñáÊú¨ÁöÑÂºÄÂßãÂíåÁªìÊùüÔºåÂä†‰∏äm‰øÆÈ•∞Á¨¶ÔºåÂÆÉ‰ª¨ÁöÑÂê´‰πâÂ∞±ÂèòÊàê‰∫ÜË°åÁöÑÂºÄÂßãÂíåÁªìÊùü„ÄÇ ` abc xyz `.match(/xyz/); // [&quot;xyz&quot;, index: 5, input: &quot;‚Üµabc‚Üµxyz‚Üµ&quot;, groups: undefined]` abc xyz `.match(/^xyz$/); // null` abc xyz `.match(/^xyz$/m); // [&quot;xyz&quot;, index: 5, input: &quot;‚Üµabc‚Üµxyz‚Üµ&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å y‰øÆÈ•∞Á¨¶ ËøôÊòØES2015ÁöÑÊñ∞ÁâπÊÄß„ÄÇ yÊòØstickyÁöÑÁº©ÂÜô„ÄÇy‰øÆÈ•∞Á¨¶ÊúâÂíåg‰øÆÈ•∞Á¨¶ÈáçÂêàÁöÑÂäüËÉΩÔºåÂÆÉ‰ª¨ÈÉΩÊòØÂÖ®Â±ÄÂåπÈÖç„ÄÇÊâÄ‰ª•ÈáçÁÇπÂú®sticky‰∏äÔºåÊÄé‰πàÁêÜËß£Ëøô‰∏™Á≤òËøûÂë¢Ôºü g‰øÆÈ•∞Á¨¶‰∏çÊåëÈ£üÔºåÂåπÈÖçÂÆå‰∏Ä‰∏™Êé•ÁùÄÂåπÈÖç‰∏ã‰∏Ä‰∏™ÔºåÂØπ‰∫éÊñáÊú¨ÁöÑ‰ΩçÁΩÆÊ≤°ÊúâË¶ÅÊ±Ç„ÄÇ‰ΩÜÊòØy‰øÆÈ•∞Á¨¶Ë¶ÅÊ±ÇÂøÖÈ°ª‰ªéÊñáÊú¨ÁöÑÂºÄÂßãÂÆûÊñΩÂåπÈÖçÔºåÂõ†‰∏∫ÂÆÉ‰ºöÂºÄÂêØÂÖ®Â±ÄÂåπÈÖçÔºåÂåπÈÖçÂà∞ÁöÑÊñáÊú¨ÁöÑ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶Â∞±ÊòØ‰∏ã‰∏ÄÊ¨°ÊñáÊú¨ÁöÑÂºÄÂßã„ÄÇËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÁ≤òËøû„ÄÇ &apos;a bag with a tag has a mag&apos;.match(/\wag/g); // [&quot;bag&quot;, &quot;tag&quot;, &quot;mag&quot;]&apos;a bag with a tag has a mag&apos;.match(/\wag/y); // null&apos;bagtagmag&apos;.match(/\wag/y); // [&quot;bag&quot;, index: 0, input: &quot;bagtagmag&quot;, groups: undefined]&apos;bagtagmag&apos;.match(/\wag/gy); // [&quot;bag&quot;, &quot;tag&quot;, &quot;mag&quot;]Â§çÂà∂‰ª£Á†Å Êúâ‰∫∫ËÇØÂÆöÂèëÁé∞‰∫ÜÁå´ËÖªÔºö‰Ω†‰∏çÊòØËØ¥y‰øÆÈ•∞Á¨¶ÊòØÂÖ®Â±ÄÂåπÈÖç‰πàÔºüÁúã‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂçïÁã¨‰∏Ä‰∏™y‰øÆÈ•∞Á¨¶Áî®matchÊñπÊ≥ïÊÄé‰πàÂπ∂‰∏çÊòØÂÖ®Â±ÄÂåπÈÖçÂë¢Ôºü ËØ∂ÔºåËøôÈáåËØ¥Êù•Â∞±ËØùÈïø‰∫Ü„ÄÇ ÈïøËØùÁü≠ËØ¥Âë¢ÔºåÂ∞±Ê∂âÂèäÂà∞y‰øÆÈ•∞Á¨¶ÁöÑÊú¨Ë¥®ÊòØ‰ªÄ‰πà„ÄÇÂÆÉÁöÑÊú¨Ë¥®Êúâ‰∫åÔºö ÂÖ®Â±ÄÂåπÈÖç(ÂÖàÂà´ÁùÄÊÄ•ÊâìÊàë)„ÄÇ ‰ªéÊñáÊú¨ÁöÑlastIndex‰ΩçÁΩÆÂºÄÂßãÊñ∞ÁöÑÂåπÈÖç„ÄÇlastIndexÊòØ‰ªÄ‰πàÔºüÂÆÉÊòØÊ≠£ÂàôË°®ËææÂºèÁöÑ‰∏Ä‰∏™Â±ûÊÄßÔºåÂ¶ÇÊûúÊòØÂÖ®Â±ÄÂåπÈÖçÔºåÂÆÉÁî®Êù•Ê†áÊ≥®‰∏ã‰∏ÄÊ¨°ÂåπÈÖçÁöÑËµ∑ÂßãÁÇπ„ÄÇËøôÊâçÊòØÁ≤òËøûÁöÑÊú¨Ë¥®ÊâÄÂú®„ÄÇ ‰∏çÁü•ÈÅì‰Ω†‰ª¨ÂèëÁé∞‰ªÄ‰πà‰∫ÜÊ≤°ÊúâÔºölastIndexÊòØÊ≠£ÂàôË°®ËææÂºèÁöÑ‰∏Ä‰∏™Â±ûÊÄß„ÄÇËÄå‰∏äÈù¢‰æãÂ≠ê‰∏≠ÁöÑmatchÊñπÊ≥ïÊòØ‰ΩúÁî®Âú®Â≠óÁ¨¶‰∏≤‰∏äÁöÑÔºåÈÉΩÊ≤°ÊúâlastIndexÂ±ûÊÄßÔºå‰ºëÊÄ™‰∫∫ÂÆ∂Â∑•‰Ωú‰∏ç‰∏äÂøÉ„ÄÇ const reg = /\wag/y; reg.exec(&apos;bagtagmag&apos;); // [&quot;bag&quot;, index: 0, input: &quot;bagtagmag&quot;, groups: undefined] reg.exec(&apos;bagtagmag&apos;); // [&quot;tag&quot;, index: 3, input: &quot;bagtagmag&quot;, groups: undefined] reg.exec(&apos;bagtagmag&apos;); // [&quot;mag&quot;, index: 6, input: &quot;bagtagmag&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å Âí±‰ª¨Êç¢ÊàêÊ≠£ÂàôÊñπÊ≥ïexecÔºåÂ§öÊ¨°ÊâßË°åÔºåÊ≠£ÂàôÁöÑlastIndexÂú®ÂèòÔºåÂåπÈÖçÁöÑÁªìÊûú‰πüÂú®Âèò„ÄÇÂÖ®Â±ÄÂåπÈÖçÊó†Áñë‰∫ÜÂêß„ÄÇ s‰øÆÈ•∞Á¨¶ ËøôÊòØES2018ÁöÑÊñ∞ÁâπÊÄß„ÄÇ s‰∏çÊòØdotAllÁöÑÁº©ÂÜô„ÄÇs‰øÆÈ•∞Á¨¶Ë¶ÅÂíå.Êê≠ÈÖç‰ΩøÁî®ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå.ÂåπÈÖçÈô§‰∫ÜÊç¢Ë°åÁ¨¶‰πãÂ§ñÁöÑ‰ªªÊÑèÂçï‰∏™Â≠óÁ¨¶ÔºåÁÑ∂ËÄåÂÆÉËøòÊ≤°ÊúâÂº∫Â§ßÂà∞Êó†ÊâÄ‰∏çËÉΩÁöÑÂú∞Ê≠•ÔºåÊâÄ‰ª•Ê≠£ÂàôÁ¥¢ÊÄßÁªôÂÆÉÂºÄ‰∏™ÊåÇ„ÄÇ s‰øÆÈ•∞Á¨¶ÁöÑ‰ΩúÁî®Â∞±ÊòØËÆ©.ÂèØ‰ª•ÂåπÈÖç‰ªªÊÑèÂçï‰∏™Â≠óÁ¨¶„ÄÇ sÊòØsinglelineÁöÑÁº©ÂÜô„ÄÇ ` abc xyz `.match(/c.x/); // null` abc xyz `.match(/c.x/s); // [&quot;c‚Üµx&quot;, index: 3, input: &quot;‚Üµabc‚Üµxyz‚Üµ&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å u‰øÆÈ•∞Á¨¶ ËøôÊòØES2015ÁöÑÊñ∞ÁâπÊÄß„ÄÇ uÊòØunicodeÁöÑÁº©ÂÜô„ÄÇÊúâ‰∏Ä‰∫õUnicodeÂ≠óÁ¨¶Ë∂ÖËøá‰∏Ä‰∏™Â≠óËäÇÔºåÊ≠£ÂàôÂ∞±Êó†Ê≥ïÊ≠£Á°ÆÁöÑËØÜÂà´ÂÆÉ‰ª¨„ÄÇu‰øÆÈ•∞Á¨¶Â∞±ÊòØÁî®Êù•Â§ÑÁêÜËøô‰∫õ‰∏çÂ∏∏ËßÅÁöÑÊÉÖÂÜµÁöÑ„ÄÇ &apos;†Æ∑&apos;.match(/^.$/); // null&apos;†Æ∑&apos;.match(/^.$/u); // [&quot;†Æ∑&quot;, index: 0, input: &quot;†Æ∑&quot;, groups: undefined]Â§çÂà∂‰ª£Á†Å †Æ∑Âøµj√≠Ôºå‰∏éÂêâÂêå‰πâ„ÄÇ Á¨îËÄÖÂØπUnicodeËÆ§ËØÜÂ∞öÊµÖÔºåËøôÈáå‰∏çËøáÂ§öÂ±ïÂºÄ„ÄÇ]]></content>
      <tags>
        <tag>Regex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂâçÁ´Ø‰ª£Á†ÅÂºÇÂ∏∏ÁõëÊéßÂÆûÊàò]]></title>
    <url>%2F2016%2F09%2F16%2F%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%82%E5%B8%B8%E7%9B%91%E6%8E%A7%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[ÊääÂâçÁ´ØÁõëÊéßÂÅöÂà∞ÊûÅËá¥ - ÊéòÈáëÁ∫ø‰∏äÂéãÁº©‰ª£Á†Å-ÂÆö‰ΩçÈîôËØØ - ÊéòÈáëÁîü‰∫ßÁéØÂ¢ÉÊ≤°Êúâsource-mapÊñá‰ª∂Ôºå‰∏äÊä•ÁöÑÈîôËØØÈÉΩ‰∏çÂ•ΩÂÆö‰ΩçÔºåËøôÈáåÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈîôËØØÂÆö‰ΩçËÑöÊú¨ 1„ÄÅËé∑ÂèñÂéãÁº©‰ª£Á†ÅÈîôËØØ‰ø°ÊÅØÔºàË°åÊï∞„ÄÅÂàóÊï∞„ÄÅÈîôËØØ‰ø°ÊÅØÔºåÈîôËØØÊñá‰ª∂Ôºâ ËøôÈáåÈÄöËøáÊéßÂà∂Âè∞ÁúãÈîôËØØ‰ø°ÊÅØwindow.addEventListener(&apos;error&apos;, function (e) { console.debug(&apos;lineno: &apos;, e.lineno, &apos; colno: &apos;, e.colno) console.debug(&apos;errorMessage:&apos;, e.message) console.debug(&apos;errorFile:&apos;, e.filename) }, true) Êàë‰ª¨ÂÜô‰∏ÄÊÆµÈîôËØØÁöÑ‰ª£Á†ÅÔºàsingle.vueÁöÑÁâáÊÆµÔºâ method: { test (option) { const data = option.test const dataTest = option.data.test return data + dataTest } }, created () { // ËÆæÁΩÆÂºÇÊ≠•ÈîôËØØÁöÑÂéüÂõ†ÊòØÔºåÂêåÊ≠•ÁöÑÈîôËØØ‰ºöË¢´vueÊçïËé∑ setTimeout(() =&gt; { this.test({ testOption: 1 }) }, 300) } Âú®ÊµèËßàÂô®‰∏≠ËøêË°åÔºåÊä•ÈîôÁªìÊûúÂ¶Ç‰∏ã ÂæóÂà∞ÈîôËØØ‰ø°ÊÅØÔºö ÈîôËØØË°åÊï∞Ôºö1 ÈîôËØØÂàóÊï∞Ôºö59236 ÈîôËØØ‰ø°ÊÅØÔºöcannot read property ‚Äòtest‚Äô of undefined ÈîôËØØÊñá‰ª∂Ôºö0.0a77f.js 2„ÄÅÂÆö‰ΩçÈîôËØØÁöÑnodeËÑöÊú¨123456789101112131415161718192021222324252627282930313233343536## ÂÆâË£Ö‰æùËµñsource-map npm install source-map nodeËÑöÊú¨Â¶Ç‰∏ãÔºàmap/index.jsÔºâ // ËØªÂèñÊñá‰ª∂var fs = require(&apos;fs&apos;)// souceMapÂ§ÑÁêÜÊñá‰ª∂var SourceMapConsumer = require(&apos;source-map&apos;).SourceMapConsumer// ÂêØÂä®ÊûÑÂª∫ËøõÁ®ãÔºàÂ∑≤ÊûÑÂª∫Âàô‰∏çÈúÄË¶ÅÔºâvar exec = require(&apos;child_process&apos;).execvar lineno = process.argv[2] || 0 // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Ë°åÊï∞var columnno = process.argv[3] || 0 // Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂàóÊï∞var fileName = process.argv[4] || &apos;&apos; // Á¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫ÈîôËØØÊñá‰ª∂ÔºàÈîôËØØÊñá‰ª∂ÂêçÂ∞±Â•ΩÔºâ// ÊûÑÂª∫ÊúâmapÁöÑÁ∫ø‰∏ä‰ª£Á†Å// node build onlineMap‰∏∫ÊûÑÂª∫ÂëΩ‰ª§exec(&apos;node build onlineMap&apos;, function () &#123; // ËØªÂèñÈîôËØØÊñá‰ª∂ÁöÑmapÊñá‰ª∂ var consumer = new SourceMapConsumer(fs.readFileSync(&apos;./dist/&apos; + fileName + &apos;.map&apos;, &apos;utf8&apos;)) // ËæìÂá∫mapÁöÑÈîôËØØ‰ø°ÊÅØ console.log(consumer.originalPositionFor(&#123; line: +lineno, // +ÊòØ‰∏∫‰∫ÜËΩ¨Âåñ‰∏∫Êï∞Â≠ó column: +columnno &#125;))&#125;)` ËøêË°ånodeËÑöÊú¨ node map 1 59236 0.0a77f.js ÊïàÊûúÂ¶Ç‰∏ãÔºö ÁªìÂêàÊéßÂà∂Âè∞ËæìÂá∫ÁöÑ‰ø°ÊÅØÔºåÂ∞±ÂèØ‰ª•ÂÆö‰ΩçÂà∞ÈîôËØØ‰ª£Á†Å‰∫Ü Êàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ãÔºåÁªô‰ª£Á†ÅÂºÄÂêØsource-mapÔºåÁúãÈîôËØØ‰ø°ÊÅØÊòØÂê¶‰∏ÄËá¥ ÈîôËØØ‰ª£Á†ÅÁöÑ‰ΩçÁΩÆÂÆö‰ΩçÊòØÂáÜÁ°ÆÁöÑÔºåËØÅÊòéÂèØË°å„ÄÇ 3„ÄÅÂêéÁª≠Êâ©Â±ïÊÄùË∑Ø ÁõÆÂâçÂÆûÁé∞ÁöÑÊòØÊØîËæÉÁÆÄÂçïÁöÑËÑöÊú¨ÔºåÊâÄ‰ª•Â≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºö ÈúÄË¶ÅÂΩìÂâçÊûÑÂª∫ÂÜÖÂÆπÂíåÁ∫ø‰∏äÊòØ‰∏ÄËá¥ÁöÑ Êìç‰ΩúÊØîËæÉÁπÅÁêê ‰ºòÂåñÊÄùË∑ØÂ¶Ç‰∏ãÔºö ÂêéÁª≠‰ºòÂåñÊÖ¢ÊÖ¢Ë°•ÂÖÖ~ ÂâçË®Ä‰πãÂâçÂú®ÂØπÂÖ¨Âè∏ÁöÑÂâçÁ´Ø‰ª£Á†ÅËÑöÊú¨ÈîôËØØËøõË°åÊéíÊü•ÔºåËØïÂõæÈôç‰Ωé JS Error ÁöÑÈîôËØØÈáèÔºåÁªìÂêàËá™Â∑±‰πãÂâçÁöÑÁªèÈ™åÂØπËøôÊñπÈù¢ÂÜÖÂÆπËøõË°å‰∫ÜÂÆûË∑µÂπ∂ÊÄªÁªìÔºå‰∏ãÈù¢Â∞±Ê≠§Ë∞àË∞àÊàëÂØπÂâçÁ´Ø‰ª£Á†ÅÂºÇÂ∏∏ÁõëÊéßÁöÑ‰∏Ä‰∫õËßÅËß£„ÄÇ Êú¨ÊñáÂ§ßËá¥Âõ¥Áªï‰∏ãÈù¢Âá†ÁÇπÂ±ïÂºÄËÆ®ËÆ∫Ôºö JS Â§ÑÁêÜÂºÇÂ∏∏ÁöÑÊñπÂºè ‰∏äÊä•ÊñπÂºè ÂºÇÂ∏∏ÁõëÊéß‰∏äÊä•Â∏∏ËßÅÈóÆÈ¢ò JS ÂºÇÂ∏∏Â§ÑÁêÜÂØπ‰∫é Javascript ËÄåË®ÄÔºåÊàë‰ª¨Èù¢ÂØπÁöÑ‰ªÖ‰ªÖÂè™ÊòØÂºÇÂ∏∏ÔºåÂºÇÂ∏∏ÁöÑÂá∫Áé∞‰∏ç‰ºöÁõ¥Êé•ÂØºËá¥ JS ÂºïÊìéÂ¥©Ê∫ÉÔºåÊúÄÂ§öÂè™‰ºö‰ΩøÂΩìÂâçÊâßË°åÁöÑ‰ªªÂä°ÁªàÊ≠¢„ÄÇ ÂΩìÂâç‰ª£Á†ÅÂùóÂ∞Ü‰Ωú‰∏∫‰∏Ä‰∏™‰ªªÂä°ÂéãÂÖ•‰ªªÂä°ÈòüÂàó‰∏≠ÔºåJS Á∫øÁ®ã‰ºö‰∏çÊñ≠Âú∞‰ªé‰ªªÂä°ÈòüÂàó‰∏≠ÊèêÂèñ‰ªªÂä°ÊâßË°å„ÄÇ ÂΩì‰ªªÂä°ÊâßË°åËøáÁ®ã‰∏≠Âá∫Áé∞ÂºÇÂ∏∏Ôºå‰∏îÂºÇÂ∏∏Ê≤°ÊúâÊçïËé∑Â§ÑÁêÜÔºåÂàô‰ºö‰∏ÄÁõ¥Ê≤øÁùÄË∞ÉÁî®Ê†à‰∏ÄÂ±ÇÂ±ÇÂêëÂ§ñÊäõÂá∫ÔºåÊúÄÁªàÁªàÊ≠¢ÂΩìÂâç‰ªªÂä°ÁöÑÊâßË°å„ÄÇ JS Á∫øÁ®ã‰ºöÁªßÁª≠‰ªé‰ªªÂä°ÈòüÂàó‰∏≠ÊèêÂèñ‰∏ã‰∏Ä‰∏™‰ªªÂä°ÁªßÁª≠ÊâßË°å„ÄÇ error console.log('Ê∞∏Ëøú‰∏ç‰ºöÊâßË°å'); console.log('ÊàëÁªßÁª≠ÊâßË°å') Âú®ÂØπËÑöÊú¨ÈîôËØØËøõË°å‰∏äÊä•‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπÂºÇÂ∏∏ËøõË°åÂ§ÑÁêÜÔºåÁ®ãÂ∫èÈúÄË¶ÅÂÖàÊÑüÁü•Âà∞ËÑöÊú¨ÈîôËØØÁöÑÂèëÁîüÔºåÁÑ∂ÂêéÂÜçË∞àÂºÇÂ∏∏‰∏äÊä•„ÄÇ ËÑöÊú¨ÈîôËØØ‰∏ÄËà¨ÂàÜ‰∏∫‰∏§ÁßçÔºöËØ≠Ê≥ïÈîôËØØÔºåËøêË°åÊó∂ÈîôËØØ„ÄÇ ‰∏ãÈù¢Â∞±Ë∞àË∞àÂá†ÁßçÂºÇÂ∏∏ÁõëÊéßÁöÑÂ§ÑÁêÜÊñπÂºèÔºö try-catch ÂºÇÂ∏∏Â§ÑÁêÜtry-catch Âú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÁªèÂ∏∏ËßÅÂà∞ÔºåÈÄöËøáÁªô‰ª£Á†ÅÂùóËøõË°å try-catch ËøõË°åÂåÖË£ÖÂêéÔºåÂΩì‰ª£Á†ÅÂùóÂèëÁîüÂá∫ÈîôÊó∂ catch Â∞ÜËÉΩÊçïÊçâÂà∞ÈîôËØØÁöÑ‰ø°ÊÅØÔºåÈ°µÈù¢‰πüÂ∞ÜÂèØ‰ª•ÁªßÁª≠ÊâßË°å„ÄÇ ‰ΩÜÊòØ try-catch Â§ÑÁêÜÂºÇÂ∏∏ÁöÑËÉΩÂäõÊúâÈôêÔºåÂè™ËÉΩÊçïËé∑ÊçâÂà∞ËøêË°åÊó∂ÈùûÂºÇÊ≠•ÈîôËØØÔºåÂØπ‰∫éËØ≠Ê≥ïÈîôËØØÂíåÂºÇÊ≠•ÈîôËØØÂ∞±ÊòæÂæóÊó†ËÉΩ‰∏∫ÂäõÔºåÊçïÊçâ‰∏çÂà∞„ÄÇ Á§∫‰æãÔºöËøêË°åÊó∂ÈîôËØØtry { error // Êú™ÂÆö‰πâÂèòÈáè } catch(e) { console.log(&apos;ÊàëÁü•ÈÅìÈîôËØØ‰∫Ü&apos;); console.log(e); } ÁÑ∂ËÄåÂØπ‰∫éËØ≠Ê≥ïÈîôËØØÂíåÂºÇÊ≠•ÈîôËØØÂ∞±ÊçïÊçâ‰∏çÂà∞‰∫Ü„ÄÇ Á§∫‰æãÔºöËØ≠Ê≥ïÈîôËØØtry { var error = &apos;error&apos;Ôºõ // Â§ßÂÜôÂàÜÂè∑ } catch(e) { console.log(&apos;ÊàëÊÑüÁü•‰∏çÂà∞ÈîôËØØ&apos;); console.log(e); } ‰∏ÄËà¨ËØ≠Ê≥ïÈîôËØØÂú®ÁºñËæëÂô®Â∞±‰ºö‰ΩìÁé∞Âá∫Êù•ÔºåÂ∏∏Ë°®Áé∞ÁöÑÈîôËØØ‰ø°ÊÅØ‰∏∫Ôºö Uncaught SyntaxError: Invalid or unexpected token xxx ËøôÊ†∑„ÄÇ‰ΩÜÊòØËøôÁßçÈîôËØØ‰ºöÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏ÔºåÂ∏∏‰ΩøÁ®ãÂ∫èÂ¥©Ê∫ÉÔºå‰∏ÄËà¨Âú®ÁºñÁ†ÅÊó∂ÂÄôÂÆπÊòìËßÇÂØüÂæóÂà∞„ÄÇ Á§∫‰æãÔºöÂºÇÊ≠•ÈîôËØØtry { setTimeout(() =&gt; { error // ÂºÇÊ≠•ÈîôËØØ }) } catch(e) { console.log(&apos;ÊàëÊÑüÁü•‰∏çÂà∞ÈîôËØØ&apos;); console.log(e); } Èô§Èùû‰Ω†Âú® setTimeout ÂáΩÊï∞‰∏≠ÂÜçÂ•ó‰∏ä‰∏ÄÂ±Ç try-catchÔºåÂê¶ÂàôÂ∞±Êó†Ê≥ïÊÑüÁü•Âà∞ÂÖ∂ÈîôËØØÔºå‰ΩÜËøôÊ†∑‰ª£Á†ÅÂÜôËµ∑Êù•ÊØîËæÉÂï∞Âó¶„ÄÇ window.onerror ÂºÇÂ∏∏Â§ÑÁêÜwindow.onerror ÊçïËé∑ÂºÇÂ∏∏ËÉΩÂäõÊØî try-catch Á®çÂæÆÂº∫ÁÇπÔºåÊó†ËÆ∫ÊòØÂºÇÊ≠•ËøòÊòØÈùûÂºÇÊ≠•ÈîôËØØÔºåonerror ÈÉΩËÉΩÊçïËé∑Âà∞ËøêË°åÊó∂ÈîôËØØ„ÄÇ Á§∫‰æãÔºöËøêË°åÊó∂ÂêåÊ≠•ÈîôËØØ /** * @param {String} msg ÈîôËØØ‰ø°ÊÅØ * @param {String} url Âá∫ÈîôÊñá‰ª∂ * @param {Number} row Ë°åÂè∑ * @param {Number} col ÂàóÂè∑ * @param {Object} error ÈîôËØØËØ¶ÁªÜ‰ø°ÊÅØ */ window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÈîôËØØ‰∫Ü&apos;); console.log({ msg, url, row, col, error }) return true; }; error; Á§∫‰æãÔºöÂºÇÊ≠•ÈîôËØØ window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÂºÇÊ≠•ÈîôËØØ‰∫Ü&apos;); console.log({ msg, url, row, col, error }) return true; }; setTimeout(() =&gt; { error; }); ÁÑ∂ËÄå window.onerror ÂØπ‰∫éËØ≠Ê≥ïÈîôËØØËøòÊòØÊó†ËÉΩ‰∏∫ÂäõÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ÂÜô‰ª£Á†ÅÁöÑÊó∂ÂÄôË¶ÅÂ∞ΩÂèØËÉΩÈÅøÂÖçËØ≠Ê≥ïÈîôËØØÁöÑÔºå‰∏çËøá‰∏ÄËà¨ËøôÊ†∑ÁöÑÈîôËØØ‰ºö‰ΩøÂæóÊï¥‰∏™È°µÈù¢Â¥©Ê∫ÉÔºåËøòÊòØÊØîËæÉÂÆπÊòìËÉΩÂ§üÂØüËßâÂà∞ÁöÑ„ÄÇ Âú®ÂÆûÈôÖÁöÑ‰ΩøÁî®ËøáÁ®ã‰∏≠Ôºåonerror ‰∏ªË¶ÅÊòØÊù•ÊçïËé∑È¢ÑÊñô‰πãÂ§ñÁöÑÈîôËØØÔºåËÄå try-catch ÂàôÊòØÁî®Êù•Âú®ÂèØÈ¢ÑËßÅÊÉÖÂÜµ‰∏ãÁõëÊéßÁâπÂÆöÁöÑÈîôËØØÔºå‰∏§ËÄÖÁªìÂêà‰ΩøÁî®Êõ¥Âä†È´òÊïà„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåwindow.onerror ÂáΩÊï∞Âè™ÊúâÂú®ËøîÂõû true ÁöÑÊó∂ÂÄôÔºåÂºÇÂ∏∏Êâç‰∏ç‰ºöÂêë‰∏äÊäõÂá∫ÔºåÂê¶ÂàôÂç≥‰ΩøÊòØÁü•ÈÅìÂºÇÂ∏∏ÁöÑÂèëÁîüÊéßÂà∂Âè∞ËøòÊòØ‰ºöÊòæÁ§∫ Uncaught Error: xxxxx„ÄÇ ÂÖ≥‰∫é window.onerror ËøòÊúâ‰∏§ÁÇπÈúÄË¶ÅÂÄºÂæóÊ≥®ÊÑè ÂØπ‰∫é onerror ËøôÁßçÂÖ®Â±ÄÊçïËé∑ÔºåÊúÄÂ•ΩÂÜôÂú®ÊâÄÊúâ JS ËÑöÊú¨ÁöÑÂâçÈù¢ÔºåÂõ†‰∏∫‰Ω†Êó†Ê≥ï‰øùËØÅ‰Ω†ÂÜôÁöÑ‰ª£Á†ÅÊòØÂê¶Âá∫ÈîôÔºåÂ¶ÇÊûúÂÜôÂú®ÂêéÈù¢Ôºå‰∏ÄÊó¶ÂèëÁîüÈîôËØØÁöÑËØùÊòØ‰∏ç‰ºöË¢´ onerror ÊçïËé∑Âà∞ÁöÑ„ÄÇ Âè¶Â§ñ onerror ÊòØÊó†Ê≥ïÊçïËé∑Âà∞ÁΩëÁªúÂºÇÂ∏∏ÁöÑÈîôËØØ„ÄÇ ÂΩìÊàë‰ª¨ÈÅáÂà∞ &lt;img src=&quot;./404.png&quot;&gt; Êä• 404 ÁΩëÁªúËØ∑Ê±ÇÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÔºåonerror ÊòØÊó†Ê≥ïÂ∏ÆÂä©Êàë‰ª¨ÊçïËé∑Âà∞ÂºÇÂ∏∏ÁöÑ„ÄÇ &lt;script&gt; window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÂºÇÊ≠•ÈîôËØØ‰∫Ü&apos;); console.log({ msg, url, row, col, error }) return true; }; &lt;/script&gt; &lt;img src=&quot;./404.png&quot;&gt; Áî±‰∫éÁΩëÁªúËØ∑Ê±ÇÂºÇÂ∏∏‰∏ç‰ºö‰∫ã‰ª∂ÂÜíÊ≥°ÔºåÂõ†Ê≠§ÂøÖÈ°ªÂú®ÊçïËé∑Èò∂ÊÆµÂ∞ÜÂÖ∂ÊçïÊçâÂà∞ÊâçË°åÔºå‰ΩÜÊòØËøôÁßçÊñπÂºèËôΩÁÑ∂ÂèØ‰ª•ÊçïÊçâÂà∞ÁΩëÁªúËØ∑Ê±ÇÁöÑÂºÇÂ∏∏Ôºå‰ΩÜÊòØÊó†Ê≥ïÂà§Êñ≠ HTTP ÁöÑÁä∂ÊÄÅÊòØ 404 ËøòÊòØÂÖ∂‰ªñÊØîÂ¶Ç 500 Á≠âÁ≠âÔºåÊâÄ‰ª•ËøòÈúÄË¶ÅÈÖçÂêàÊúçÂä°Á´ØÊó•ÂøóÊâçËøõË°åÊéíÊü•ÂàÜÊûêÊâçÂèØ‰ª•„ÄÇ &lt;script&gt; window.addEventListener(&apos;error&apos;, (msg, url, row, col, error) =&gt; { console.log(&apos;ÊàëÁü•ÈÅì 404 ÈîôËØØ‰∫Ü&apos;); console.log( msg, url, row, col, error ); return true; }, true); &lt;/script&gt; &lt;img src=&quot;./404.png&quot; alt=&quot;&quot;&gt; ËøôÁÇπÁü•ËØÜËøòÊòØÈúÄË¶ÅÁü•ÈÅìÔºåË¶Å‰∏çÁÑ∂Áî®Êà∑ËÆøÈóÆÁΩëÁ´ôÔºåÂõæÁâá CDN Êó†Ê≥ïÊúçÂä°ÔºåÂõæÁâáÂä†ËΩΩ‰∏çÂá∫Êù•ËÄåÂºÄÂèë‰∫∫ÂëòÊ≤°ÊúâÂØüËßâÂ∞±Â∞¥Â∞¨‰∫Ü„ÄÇ Promise ÈîôËØØÈÄöËøá Promise ÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Ëß£ÂÜ≥ÂºÇÊ≠•ÂõûË∞ÉÂú∞Áã±ÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØ‰∏ÄÊó¶ Promise ÂÆû‰æãÊäõÂá∫ÂºÇÂ∏∏ËÄå‰Ω†Ê≤°ÊúâÁî® catch ÂéªÊçïËé∑ÁöÑËØùÔºåonerror Êàñ try-catch ‰πüÊó†ËÉΩ‰∏∫ÂäõÔºåÊó†Ê≥ïÊçïÊçâÂà∞ÈîôËØØ„ÄÇ window.addEventListener(&apos;error&apos;, (msg, url, row, col, error) =&gt; { console.log(&apos;ÊàëÊÑüÁü•‰∏çÂà∞ promise ÈîôËØØ&apos;); console.log( msg, url, row, col, error ); }, true); Promise.reject(&apos;promise error&apos;); new Promise((resolve, reject) =&gt; { reject(&apos;promise error&apos;); }); new Promise((resolve) =&gt; { resolve(); }).then(() =&gt; { throw &apos;promise error&apos; }); ËôΩÁÑ∂Âú®ÂÜô Promise ÂÆû‰æãÁöÑÊó∂ÂÄôÂÖªÊàêÊúÄÂêéÂÜô‰∏ä catch ÂáΩÊï∞ÊòØ‰∏™Â•Ω‰π†ÊÉØÔºå‰ΩÜÊòØ‰ª£Á†ÅÂÜôÂ§ö‰∫ÜÂ∞±ÂÆπÊòìÁ≥äÊ∂ÇÔºåÂøòËÆ∞ÂÜô catch„ÄÇ ÊâÄ‰ª•Â¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Áî®Âà∞ÂæàÂ§öÁöÑ Promise ÂÆû‰æãÁöÑËØùÔºåÁâπÂà´ÊòØ‰Ω†Âú®‰∏Ä‰∫õÂü∫‰∫é promise ÁöÑÂºÇÊ≠•Â∫ìÊØîÂ¶Ç axios Á≠â‰∏ÄÂÆöË¶ÅÂ∞èÂøÉÔºåÂõ†‰∏∫‰Ω†‰∏çÁü•ÈÅì‰ªÄ‰πàÊó∂ÂÄôËøô‰∫õÂºÇÊ≠•ËØ∑Ê±Ç‰ºöÊäõÂá∫ÂºÇÂ∏∏ËÄå‰Ω†Âπ∂Ê≤°ÊúâÂ§ÑÁêÜÂÆÉÔºåÊâÄ‰ª•‰Ω†ÊúÄÂ•ΩÊ∑ªÂä†‰∏Ä‰∏™ Promise ÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑‰∫ã‰ª∂ unhandledrejection„ÄÇ window.addEventListener(&quot;unhandledrejection&quot;, function(e){ e.preventDefault() console.log(&apos;ÊàëÁü•ÈÅì promise ÁöÑÈîôËØØ‰∫Ü&apos;); console.log(e.reason); return true; }); Promise.reject(&apos;promise error&apos;); new Promise((resolve, reject) =&gt; { reject(&apos;promise error&apos;); }); new Promise((resolve) =&gt; { resolve(); }).then(() =&gt; { throw &apos;promise error&apos; }); ÂΩìÁÑ∂ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Ê≤°ÊúâÂÅö Promise ÂÖ®Â±ÄÂºÇÂ∏∏Â§ÑÁêÜÁöÑËØùÔºåÈÇ£ÂæàÂèØËÉΩÂ∞±ÂÉèÊüê‰πéÈ¶ñÈ°µËøôÊ†∑Ôºö ÂºÇÂ∏∏‰∏äÊä•ÊñπÂºèÁõëÊéßÊãøÂà∞Êä•Èîô‰ø°ÊÅØ‰πãÂêéÔºåÊé•‰∏ãÊù•Â∞±ÈúÄË¶ÅÂ∞ÜÊçïÊçâÂà∞ÁöÑÈîôËØØ‰ø°ÊÅØÂèëÈÄÅÂà∞‰ø°ÊÅØÊî∂ÈõÜÂπ≥Âè∞‰∏äÔºåÂ∏∏Áî®ÁöÑÂèëÈÄÅÂΩ¢Âºè‰∏ªË¶ÅÊúâ‰∏§Áßç: ÈÄöËøá Ajax ÂèëÈÄÅÊï∞ÊçÆ Âä®ÊÄÅÂàõÂª∫ img Ê†áÁ≠æÁöÑÂΩ¢Âºè ÂÆû‰æã - Âä®ÊÄÅÂàõÂª∫ img Ê†áÁ≠æËøõË°å‰∏äÊä• function report(error) { var reportUrl = &apos;http://xxxx/report&apos;; new Image().src = reportUrl + &apos;error=&apos; + error; } ÁõëÊéß‰∏äÊä•Â∏∏ËßÅÈóÆÈ¢ò‰∏ãËø∞‰æãÂ≠êÊàëÂÖ®ÈÉ®ÊîæÂú®ÊàëÁöÑ github ‰∏äÔºåËØªËÄÖÂèØ‰ª•Ëá™Ë°åÊü•ÈòÖÔºåÂêéÈù¢‰∏çÂÜçËµòËø∞„ÄÇ git clone https://github.com/happylindz/blog.git cd blog/code/jserror/ npm install Script error ËÑöÊú¨ÈîôËØØÊòØ‰ªÄ‰πàÂõ†‰∏∫Êàë‰ª¨Âú®Á∫ø‰∏äÁöÑÁâàÊú¨ÔºåÁªèÂ∏∏ÂÅöÈùôÊÄÅËµÑÊ∫ê CDN ÂåñÔºåËøôÂ∞±‰ºöÂØºËá¥Êàë‰ª¨Â∏∏ËÆøÈóÆÁöÑÈ°µÈù¢Ë∑üËÑöÊú¨Êñá‰ª∂Êù•Ëá™‰∏çÂêåÁöÑÂüüÂêçÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÊ≤°ÊúâËøõË°åÈ¢ùÂ§ñÁöÑÈÖçÁΩÆÔºåÂ∞±‰ºöÂÆπÊòì‰∫ßÁîü Script error„ÄÇ ÂèØÈÄöËøá npm run nocors Êü•ÁúãÊïàÊûú„ÄÇ Script error ÊòØÊµèËßàÂô®Âú®ÂêåÊ∫êÁ≠ñÁï•ÈôêÂà∂‰∏ã‰∫ßÁîüÁöÑÔºåÊµèËßàÂô®Â§Ñ‰∫éÂØπÂÆâÂÖ®ÊÄß‰∏äÁöÑËÄÉËôëÔºåÂΩìÈ°µÈù¢ÂºïÁî®ÈùûÂêåÂüüÂêçÂ§ñÈÉ®ËÑöÊú¨Êñá‰ª∂Êó∂‰∏≠ÊäõÂá∫ÂºÇÂ∏∏ÁöÑËØùÔºåÊ≠§Êó∂Êú¨È°µÈù¢ÊòØÊ≤°ÊúâÊùÉÂà©Áü•ÈÅìËøô‰∏™Êä•Èîô‰ø°ÊÅØÁöÑÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØËæìÂá∫ Script error ËøôÊ†∑ÁöÑ‰ø°ÊÅØ„ÄÇ ËøôÊ†∑ÂÅöÁöÑÁõÆÁöÑÊòØÈÅøÂÖçÊï∞ÊçÆÊ≥ÑÈú≤Âà∞‰∏çÂÆâÂÖ®ÁöÑÂüü‰∏≠Ôºå‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºå &lt;script src=&quot;xxxx.com/login.html&quot;&gt;&lt;/script&gt; ‰∏äÈù¢Êàë‰ª¨Âπ∂Ê≤°ÊúâÂºïÂÖ•‰∏Ä‰∏™ js Êñá‰ª∂ÔºåËÄåÊòØ‰∏Ä‰∏™ htmlÔºåËøô‰∏™ html ÊòØÈì∂Ë°åÁöÑÁôªÂΩïÈ°µÈù¢ÔºåÂ¶ÇÊûú‰Ω†Â∑≤ÁªèÁôªÂΩï‰∫ÜÔºåÈÇ£ login È°µÈù¢Â∞±‰ºöËá™Âä®Ë∑≥ËΩ¨Âà∞ Welcome xxx...ÔºåÂ¶ÇÊûúÊú™ÁôªÂΩïÂàôË∑≥ËΩ¨Âà∞ Please Login...ÔºåÈÇ£‰πàÊä•Èîô‰πü‰ºöÊòØ Welcome xxx... is not definedÔºåPlease Login... is not definedÔºåÈÄöËøáËøô‰∫õ‰ø°ÊÅØÂèØ‰ª•Âà§Êñ≠‰∏Ä‰∏™Áî®Êà∑ÊòØÂê¶ÁôªÂΩï‰ªñÁöÑÂ∏êÂè∑ÔºåÁªôÂÖ•‰æµËÄÖÊèê‰æõ‰∫ÜÂçÅÂàÜ‰æøÂà©ÁöÑÂà§Êñ≠Ê∏†ÈÅìÔºåËøôÊòØÁõ∏ÂΩì‰∏çÂÆâÂÖ®ÁöÑ„ÄÇ ‰ªãÁªçÂÆåËÉåÊôØÂêéÔºåÈÇ£‰πàÊàë‰ª¨Â∫îËØ•ÂéªËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºü È¶ñÂÖàÂèØ‰ª•ÊÉ≥Âà∞ÁöÑÊñπÊ°àËÇØÂÆöÊòØÂêåÊ∫êÂåñÁ≠ñÁï•ÔºåÂ∞Ü JS Êñá‰ª∂ÂÜÖËÅîÂà∞ html ÊàñËÄÖÊîæÂà∞ÂêåÂüü‰∏ãÔºåËôΩÁÑ∂ËÉΩÁÆÄÂçïÊúâÊïàÂú∞Ëß£ÂÜ≥ script error ÈóÆÈ¢òÔºå‰ΩÜÊòØËøôÊ†∑Êó†Ê≥ïÂà©Áî®Â•ΩÊñá‰ª∂ÁºìÂ≠òÂíå CDN ÁöÑ‰ºòÂäøÔºå‰∏çÊé®Ëçê‰ΩøÁî®„ÄÇÊ≠£Á°ÆÁöÑÊñπÊ≥ïÂ∫îËØ•ÊòØ‰ªéÊ†πÊú¨‰∏äËß£ÂÜ≥ script error ÁöÑÈîôËØØ„ÄÇ Ë∑®Ê∫êËµÑÊ∫êÂÖ±‰∫´Êú∫Âà∂( CORS )È¶ñÂÖà‰∏∫È°µÈù¢‰∏äÁöÑ script Ê†áÁ≠æÊ∑ªÂä† crossOrigin Â±ûÊÄß // http://localhost:8080/index.html &lt;script&gt; window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÈîôËØØ‰∫ÜÔºå‰πüÁü•ÈÅìÈîôËØØ‰ø°ÊÅØ&apos;); console.log({ msg, url, row, col, error }) return true; }; &lt;/script&gt; &lt;script src=&quot;http://localhost:8081/test.js&quot; crossorigin&gt;&lt;/script&gt; // http://localhost:8081/test.js setTimeout(() =&gt; { console.log(error); }); ÂΩì‰Ω†‰øÆÊîπÂÆåÂâçÁ´Ø‰ª£Á†ÅÂêéÔºå‰Ω†ËøòÈúÄË¶ÅÈ¢ùÂ§ñÁªôÂêéÁ´ØÂú®ÂìçÂ∫îÂ§¥ÈáåÂä†‰∏ä Access-Control-Allow-Origin: localhost:8080ÔºåËøôÈáåÊàë‰ª• Koa ‰∏∫‰æã„ÄÇ const Koa = require(&apos;koa&apos;); const path = require(&apos;path&apos;); const cors = require(&apos;koa-cors&apos;); const app = new Koa(); app.use(cors()); app.use(require(&apos;koa-static&apos;)(path.resolve(__dirname, &apos;./public&apos;))); app.listen(8081, () =&gt; { console.log(&apos;koa app listening at 8081&apos;) }); ËØªËÄÖÂèØÈÄöËøá npm run cors ËØ¶ÁªÜÁöÑË∑®ÂüüÁü•ËØÜÊàëÂ∞±‰∏çÂ±ïÂºÄ‰∫ÜÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÁúãÁúãÊàë‰πãÂâçÂÜôÁöÑÊñáÁ´†ÔºöË∑®ÂüüÔºå‰Ω†ÈúÄË¶ÅÁü•ÈÅìÁöÑÂÖ®Âú®ËøôÈáå ‰Ω†‰ª•‰∏∫ËøôÊ†∑Â∞±ÂÆå‰∫ÜÂêóÔºüÂπ∂Ê≤°ÊúâÔºå‰∏ãÈù¢Â∞±ËØ¥‰∏Ä‰∫õ Script error ‰Ω†‰∏çÂ∏∏ÈÅáËßÅÁöÑÁÇπÔºö Êàë‰ª¨ÈÉΩÁü•ÈÅì JSONP ÊòØÁî®Êù•Ë∑®ÂüüËé∑ÂèñÊï∞ÊçÆÁöÑÔºåÂπ∂‰∏îÂÖºÂÆπÊÄßËâØÂ•ΩÔºåÂú®‰∏Ä‰∫õÂ∫îÁî®‰∏≠‰ªçÁÑ∂‰ºö‰ΩøÁî®Âà∞ÔºåÊâÄ‰ª•‰Ω†ÁöÑÈ°πÁõÆ‰∏≠ÂèØËÉΩ‰ºöÁî®ËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºö // http://localhost:8080/index.html window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÈîôËØØ‰∫ÜÔºå‰ΩÜ‰∏çÁü•ÈÅìÈîôËØØ‰ø°ÊÅØ&apos;); console.log({ msg, url, row, col, error }) return true; }; function jsonpCallback(data) { console.log(data); } const url = &apos;http://localhost:8081/data?callback=jsonpCallback&apos;; const script = document.createElement(&apos;script&apos;); script.src = url; document.body.appendChild(script); Âõ†‰∏∫ËøîÂõûÁöÑ‰ø°ÊÅØ‰ºöÂΩìÂÅöËÑöÊú¨Êñá‰ª∂Êù•ÊâßË°åÔºå‰∏ÄÊó¶ËøîÂõûÁöÑËÑöÊú¨ÂÜÖÂÆπÂá∫Èîô‰∫ÜÔºå‰πüÊòØÊó†Ê≥ïÊçïÊçâÂà∞ÈîôËØØÁöÑ‰ø°ÊÅØ„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï‰πü‰∏çÈöæÔºåË∑ü‰πãÂâç‰∏ÄÊ†∑ÔºåÂú®Ê∑ªÂä†Âä®ÊÄÅÊ∑ªÂä†ËÑöÊú¨ÁöÑÊó∂ÂÄôÂä†‰∏ä crossOriginÔºåÂπ∂‰∏îÂú®ÂêéÁ´ØÈÖç‰∏äÁõ∏Â∫îÁöÑ CORS Â≠óÊÆµÂç≥ÂèØ. const script = document.createElement(&apos;script&apos;); script.crossOrigin = &apos;anonymous&apos;; script.src = url; document.body.appendChild(script); ËØªËÄÖÂèØ‰ª•ÈÄöËøá npm run jsonp Êü•ÁúãÊïàÊûú Áü•ÈÅìÂéüÁêÜ‰πãÂêé‰Ω†ÂèØËÉΩ‰ºöËßâÂæóÊ≤°‰ªÄ‰πàÔºå‰∏çÂ∞±ÊòØÁªôÊØè‰∏™Âä®ÊÄÅÁîüÊàêÁöÑËÑöÊú¨Ê∑ªÂä† crossOrigin Â≠óÊÆµÂòõÔºå‰ΩÜÊòØÂú®ÂÆûÈôÖÂ∑•Á®ã‰∏≠Ôºå‰Ω†ÂèØËÉΩÊòØÈù¢ÂêëÂæàÂ§öÂ∫ìÊù•ÁºñÁ®ãÔºåÊØîÂ¶Ç‰ΩøÁî® jQueryÔºåSeajs ÊàñËÄÖ webpack Êù•ÂºÇÊ≠•Âä†ËΩΩËÑöÊú¨ÔºåËÆ∏Â§öÂ∫ìÂ∞ÅË£Ö‰∫ÜÂºÇÊ≠•Âä†ËΩΩËÑöÊú¨ÁöÑËÉΩÂäõÔºå‰ª• jQeury ‰∏∫‰æã‰Ω†ÂèØËÉΩÊòØËøôÊ†∑Êù•Ëß¶ÂèëÂºÇÊ≠•ËÑöÊú¨„ÄÇ $.ajax({ url: &apos;http://localhost:8081/data&apos;, dataType: &apos;jsonp&apos;, success: (data) =&gt; { console.log(data); } }) ÂÅáÂ¶ÇËøô‰∫õÂ∫ì‰∏≠Ê≤°ÊúâÊèê‰æõ crossOrigin ÁöÑËÉΩÂäõÁöÑËØù(jQuery jsonp ÂèØËÉΩÊúâÔºåÂÅáË£Ö‰Ω†‰∏çÁü•ÈÅì)ÔºåÈÇ£‰Ω†Âè™ËÉΩÂéª‰øÆÊîπ‰∫∫ÂÆ∂ÂÜôÁöÑÊ∫ê‰ª£Á†Å‰∫ÜÔºåÊâÄ‰ª•ÊàëËøôÈáåÊèê‰æõ‰∏Ä‰∏™ÊÄùË∑ØÔºåÂ∞±ÊòØÂéªÂä´ÊåÅ document.createElementÔºå‰ªéÊ†πÊ∫ê‰∏äÂéª‰∏∫ÊØè‰∏™Âä®ÊÄÅÁîüÊàêÁöÑËÑöÊú¨Ê∑ªÂä† crossOrigin Â≠óÊÆµ„ÄÇ document.createElement = (function() { const fn = document.createElement.bind(document); return function(type) { const result = fn(type); if(type === &apos;script&apos;) { result.crossOrigin = &apos;anonymous&apos;; } return result; } })(); window.onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅìÈîôËØØ‰∫ÜÔºå‰πüÁü•ÈÅìÈîôËØØ‰ø°ÊÅØ&apos;); console.log({ msg, url, row, col, error }) return true; }; $.ajax({ url: &apos;http://localhost:8081/data&apos;, dataType: &apos;jsonp&apos;, success: (data) =&gt; { console.log(data); } }) ÊïàÊûú‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºåËØªËÄÖÂèØ‰ª•ÈÄöËøá npm run jsonpjq Êù•Êü•ÁúãÊïàÊûúÔºö ËøôÊ†∑ÈáçÂÜô createElement ÁêÜËÆ∫‰∏äÊ≤°‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØÂÖ•‰æµ‰∫ÜÂéüÊú¨ÁöÑ‰ª£Á†ÅÔºå‰∏ç‰øùËØÅ‰∏ÄÂÆö‰∏ç‰ºöÂá∫ÈîôÔºåÂú®Â∑•Á®ã‰∏äËøòÊòØÈúÄË¶ÅÂ§öÂ∞ùËØï‰∏ãÁúãÁúãÂÜç‰ΩøÁî®ÔºåÂèØËÉΩÂ≠òÂú®ÂÖºÂÆπÊÄß‰∏äÈóÆÈ¢òÔºåÂ¶ÇÊûú‰Ω†ËßâÂæó‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢òÁöÑËØù‰πüÊ¨¢ËøéÁïôË®ÄËÆ®ËÆ∫‰∏ã„ÄÇ ÂÖ≥‰∫é Script error ÁöÑÈóÆÈ¢òÂ∞±ÂÜôÂà∞ËøôÈáåÔºåÂ¶ÇÊûú‰Ω†ÁêÜËß£‰∫Ü‰∏äÈù¢ÁöÑÂÜÖÂÆπÔºåÂü∫Êú¨‰∏äÁªùÂ§ßÈÉ®ÂàÜÁöÑ Script error ÈÉΩËÉΩËøéÂàÉËÄåËß£„ÄÇ window.onerror ËÉΩÂê¶ÊçïËé∑ iframe ÁöÑÈîôËØØÂΩì‰Ω†ÁöÑÈ°µÈù¢Êúâ‰ΩøÁî® iframe ÁöÑÊó∂ÂÄôÔºå‰Ω†ÈúÄË¶ÅÂØπ‰Ω†ÂºïÂÖ•ÁöÑ iframe ÂÅöÂºÇÂ∏∏ÁõëÊéßÁöÑÂ§ÑÁêÜÔºåÂê¶Âàô‰∏ÄÊó¶‰Ω†ÂºïÂÖ•ÁöÑ iframe È°µÈù¢Âá∫Áé∞‰∫ÜÈóÆÈ¢òÔºå‰Ω†ÁöÑ‰∏ªÁ´ôÊòæÁ§∫‰∏çÂá∫Êù•ÔºåËÄå‰Ω†Âç¥ÊµëÁÑ∂‰∏çÁü•„ÄÇ È¶ñÂÖàÈúÄË¶ÅÂº∫Ë∞ÉÔºåÁà∂Á™óÂè£Áõ¥Êé•‰ΩøÁî® window.onerror ÊòØÊó†Ê≥ïÁõ¥Êé•ÊçïËé∑ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÊçïËé∑ iframe ÁöÑÂºÇÂ∏∏ÁöÑËØùÔºåÊúâÂàÜÂ•ΩÂá†ÁßçÊÉÖÂÜµ„ÄÇ Â¶ÇÊûú‰Ω†ÁöÑ iframe È°µÈù¢Âíå‰Ω†ÁöÑ‰∏ªÁ´ôÊòØÂêåÂüüÂêçÁöÑËØùÔºåÁõ¥Êé•Áªô iframe Ê∑ªÂä† onerror ‰∫ã‰ª∂Âç≥ÂèØ„ÄÇ &lt;iframe src=&quot;./iframe.html&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt; &lt;script&gt; window.frames[0].onerror = function (msg, url, row, col, error) { console.log(&apos;ÊàëÁü•ÈÅì iframe ÁöÑÈîôËØØ‰∫ÜÔºå‰πüÁü•ÈÅìÈîôËØØ‰ø°ÊÅØ&apos;); console.log({ msg, url, row, col, error }) return true; }; &lt;/script&gt; ËØªËÄÖÂèØ‰ª•ÈÄöËøá npm run iframe Êü•ÁúãÊïàÊûúÔºö Â¶ÇÊûú‰Ω†ÂµåÂÖ•ÁöÑ iframe È°µÈù¢Âíå‰Ω†ÁöÑ‰∏ªÁ´ô‰∏çÊòØÂêå‰∏™ÂüüÂêçÁöÑÔºå‰ΩÜÊòØ iframe ÂÜÖÂÆπ‰∏çÂ±û‰∫éÁ¨¨‰∏âÊñπÔºåÊòØ‰Ω†ÂèØ‰ª•ÊéßÂà∂ÁöÑÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøá‰∏é iframe ÈÄö‰ø°ÁöÑÊñπÂºèÂ∞ÜÂºÇÂ∏∏‰ø°ÊÅØÊäõÁªô‰∏ªÁ´ôÊé•Êî∂„ÄÇ‰∏é iframe ÈÄö‰ø°ÁöÑÊñπÂºèÊúâÂæàÂ§öÔºåÂ∏∏Áî®ÁöÑÂ¶ÇÔºöpostMessageÔºåhash ÊàñËÄÖ name Â≠óÊÆµË∑®ÂüüÁ≠âÁ≠âÔºåËøôÈáåÂ∞±‰∏çÂ±ïÂºÄ‰∫ÜÔºåÊÑüÂÖ¥Ë∂£ÁöÑËØùÂèØ‰ª•ÁúãÔºöË∑®ÂüüÔºå‰Ω†ÈúÄË¶ÅÁü•ÈÅìÁöÑÂÖ®Âú®ËøôÈáå Â¶ÇÊûúÊòØÈùûÂêåÂüü‰∏îÁΩëÁ´ô‰∏çÂèóËá™Â∑±ÊéßÂà∂ÁöÑËØùÔºåÈô§‰∫ÜÈÄöËøáÊéßÂà∂Âè∞ÁúãÂà∞ËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÂ§ñÔºåÊ≤°ÂäûÊ≥ïÊçïËé∑ÔºåËøôÊòØÂá∫‰∫éÂÆâÂÖ®ÊÄßÁöÑËÄÉËôëÔºå‰Ω†ÂºïÂÖ•‰∫Ü‰∏Ä‰∏™ÁôæÂ∫¶È¶ñÈ°µÔºå‰∫∫ÂÆ∂È°µÈù¢Êä•Âá∫ÁöÑÈîôËØØÂá≠Âï•ËÆ©‰Ω†ÂéªÁõëÊéßÂë¢ÔºåËøô‰ºöÂºïÂá∫ÂæàÂ§öÂÆâÂÖ®ÊÄßÁöÑÈóÆÈ¢ò„ÄÇ ÂéãÁº©‰ª£Á†ÅÂ¶Ç‰ΩïÂÆö‰ΩçÂà∞ËÑöÊú¨ÂºÇÂ∏∏‰ΩçÁΩÆÁ∫ø‰∏äÁöÑ‰ª£Á†ÅÂá†‰πéÈÉΩÁªèËøá‰∫ÜÂéãÁº©Â§ÑÁêÜÔºåÂá†ÂçÅ‰∏™Êñá‰ª∂ÊâìÂåÖÊàê‰∫Ü‰∏Ä‰∏™Âπ∂‰∏ëÂåñ‰ª£Á†ÅÔºåÂΩìÊàë‰ª¨Êî∂Âà∞ a is not defined ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Ê†πÊú¨‰∏çÁü•ÈÅìËøô‰∏™ÂèòÈáè a Á©∂Á´üÊòØ‰ªÄ‰πàÂê´‰πâÔºåÊ≠§Êó∂Êä•ÈîôÁöÑÈîôËØØÊó•ÂøóÊòæÁÑ∂ÊòØÊó†ÊïàÁöÑ„ÄÇ Á¨¨‰∏ÄÊÉ≥Âà∞ÁöÑÂäûÊ≥ïÊòØÂà©Áî® sourcemap ÂÆö‰ΩçÂà∞ÈîôËØØ‰ª£Á†ÅÁöÑÂÖ∑‰Ωì‰ΩçÁΩÆÔºåËØ¶ÁªÜÂÜÖÂÆπÂèØ‰ª•ÂèÇËÄÉÔºöSourcemap ÂÆö‰ΩçËÑöÊú¨ÈîôËØØ Âè¶Â§ñ‰πüÂèØ‰ª•ÈÄöËøáÂú®ÊâìÂåÖÁöÑÊó∂ÂÄôÔºåÂú®ÊØè‰∏™ÂêàÂπ∂ÁöÑÊñá‰ª∂‰πãÈó¥Ê∑ªÂä†Âá†Ë°åÁ©∫Ê†ºÔºåÂπ∂Áõ∏Â∫îÂä†‰∏ä‰∏Ä‰∫õÊ≥®ÈáäÔºåËøôÊ†∑Âú®ÂÆö‰ΩçÈóÆÈ¢òÁöÑÊó∂ÂÄôÂæàÂÆπÊòìÂèØ‰ª•Áü•ÈÅìÊòØÂì™‰∏™Êñá‰ª∂Êä•ÁöÑÈîôËØØÔºåÁÑ∂ÂêéÂÜçÈÄöËøá‰∏Ä‰∫õÂÖ≥ÈîÆËØçÁöÑÊêúÁ¥¢ÔºåÂèØ‰ª•Âø´ÈÄüÂú∞ÂÆö‰ΩçÂà∞ÈóÆÈ¢òÁöÑÊâÄÂú®‰ΩçÁΩÆ„ÄÇ Êî∂ÈõÜÂºÇÂ∏∏‰ø°ÊÅØÈáèÂ§™Â§öÔºåÊÄé‰πàÂäûÂ¶ÇÊûú‰Ω†ÁöÑÁΩëÁ´ôËÆøÈóÆÈáèÂæàÂ§ßÔºåÂÅáÂ¶ÇÁΩëÈ°µÁöÑ PV Êúâ 1kwÔºåÈÇ£‰πà‰∏Ä‰∏™ÂøÖÁÑ∂ÁöÑÈîôËØØÂèëÈÄÅÁöÑ‰ø°ÊÅØÂ∞±Êúâ 1kw Êù°ÔºåÊàë‰ª¨ÂèØ‰ª•ÁªôÁΩëÁ´ôËÆæÁΩÆ‰∏Ä‰∏™ÈááÈõÜÁéáÔºö Reporter.send = function(data) { // Âè™ÈááÈõÜ 30% if(Math.random() &lt; 0.3) { send(data) // ‰∏äÊä•ÈîôËØØ‰ø°ÊÅØ } } Ëøô‰∏™ÈááÈõÜÁéáÂèØ‰ª•ÈÄöËøáÂÖ∑‰ΩìÂÆûÈôÖÁöÑÊÉÖÂÜµÊù•ËÆæÂÆöÔºåÊñπÊ≥ïÂ§öÊ†∑ÂåñÔºåÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÈöèÊú∫Êï∞Ôºå‰πüÂèØ‰ª•ÂÖ∑‰ΩìÊ†πÊçÆÁî®Êà∑ÁöÑÊüê‰∫õÁâπÂæÅÊù•ËøõË°åÂà§ÂÆö„ÄÇ ÈîôËØØ‰∏äÊä•ÁöÑÊñπÊ≥ïÔºö ‰∏ÄÔºöAjax‰∏ä‰º†ÔºåAjax‰∏äÊä•Â∞±ÊòØÂú®‰∏äÊñáÊ≥®ÈáäÈîôËØØÊçïËé∑ÁöÑÂú∞ÊñπÂèëËµ∑AjaxËØ∑Ê±ÇÔºåÊù•ÂêëÊúçÂä°Âô®ÂèëÈÄÅÈîôËØØ‰ø°ÊÅØ„ÄÇ ‰∫åÔºöÂà©Áî®ImageÂØπË±°ÂèëÈÄÅ‰ø°ÊÅØ(new Image()).src=‚Äùhttp://post.error.com?data=xxx&quot; Ë∑®ÂüüjsÊñá‰ª∂ÈîôËØØÊòØÂê¶ÂèØ‰ª•ÊçïËé∑Ôºö Á≠îÊ°àÊòØÂèØ‰ª•ÔºåÈîôËØØÊèêÁ§∫ÊòØ script errorËß£ÂÜ≥ÂäûÊ≥ïÔºåË∑®ÂüüjsÊñá‰ª∂Ëé∑ÂèñÊòØÊúâÈôêÂà∂ÁöÑÔºåÂ¶ÇÊûúÊÉ≥Ëé∑ÂèñÂÖ∂‰ªñÂüü‰∏ãÁöÑjsÈîôËØØÈúÄË¶ÅÂú®scriptÊ†áÁ≠æÈáåÊ∑ªÂä†crossoriginÂ±ûÊÄßÔºåÁÑ∂ÂêéÊúçÂä°Âô®Á´ØË¶ÅËÆæÁΩÆheader(‚ÄòAccess-Control-Allow-Origin: *‚Äô),ÊàñËÄÖ ÊåáÂÆöÂüüÂêç„ÄÇ ‰∏äÈù¢Â∑Æ‰∏çÂ§öÊòØÊàëÂØπÂâçÁ´Ø‰ª£Á†ÅÁõëÊéßÁöÑ‰∏Ä‰∫õÁêÜËß£ÔºåËØ¥Ëµ∑Êù•ÂÆπÊòìÔºå‰ΩÜÊòØ‰∏ÄÊó¶Âú®Â∑•Á®ãÂåñËøêÁî®ÔºåÈöæÂÖçÈúÄË¶ÅËÄÉËôëÂà∞ÂÖºÂÆπÊÄßÁ≠âÁßçÁßçÈóÆÈ¢òÔºåËØªËÄÖÂèØ‰ª•ÈÄöËøáËá™Â∑±ÁöÑÂÖ∑‰ΩìÊÉÖÂÜµËøõË°åË∞ÉÊï¥ÔºåÂâçÁ´Ø‰ª£Á†ÅÂºÇÂ∏∏ÁõëÊéßÂØπ‰∫éÊàë‰ª¨ÁöÑÁΩëÁ´ôÁöÑÁ®≥ÂÆöÊÄßËµ∑ÁùÄËá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇÂ¶ÇËã•Êñá‰∏≠ÊâÄÊúâ‰∏çÂØπÁöÑÂú∞ÊñπÔºåËøòÊúõÊåáÊ≠£„ÄÇ]]></content>
      <tags>
        <tag>ÈîôËØØÁõëÊéß</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptÂáΩÊï∞ÊüØÈáåÂåñ]]></title>
    <url>%2F2016%2F08%2F14%2FJavaScript%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÊüØÈáåÂåñÔºüÂÆòÊñπÁöÑËØ¥Ê≥ïÂú®ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏≠ÔºåÊüØÈáåÂåñÔºàËã±ËØ≠ÔºöCurryingÔºâÔºåÂèàËØë‰∏∫Âç°ÁëûÂåñÊàñÂä†ÈáåÂåñÔºåÊòØÊääÊé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÂèòÊç¢ÊàêÊé•Âèó‰∏Ä‰∏™Âçï‰∏ÄÂèÇÊï∞ÔºàÊúÄÂàùÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºâÁöÑÂáΩÊï∞ÔºåÂπ∂‰∏îËøîÂõûÊé•Âèó‰Ωô‰∏ãÁöÑÂèÇÊï∞ËÄå‰∏îËøîÂõûÁªìÊûúÁöÑÊñ∞ÂáΩÊï∞ÁöÑÊäÄÊúØ„ÄÇËøô‰∏™ÊäÄÊúØÁî±ÂÖãÈáåÊñØÊâòÂºó¬∑ÊñØÁâπÈõ∑Â•á‰ª•ÈÄªËæëÂ≠¶ÂÆ∂ÂìàÊñØÂáØÂ∞î¬∑Âä†ÈáåÂëΩÂêçÁöÑÔºåÂ∞ΩÁÆ°ÂÆÉÊòØMoses Sch√∂nfinkelÂíåÊààÁâπÊ¥õÂ∏É¬∑ÂºóÈõ∑Ê†ºÂèëÊòéÁöÑ„ÄÇ Âú®Áõ¥Ëßâ‰∏äÔºåÊüØÈáåÂåñÂ£∞Áß∞Â¶ÇÊûú‰Ω†Âõ∫ÂÆöÊüê‰∫õÂèÇÊï∞Ôºå‰Ω†Â∞ÜÂæóÂà∞Êé•Âèó‰Ωô‰∏ãÂèÇÊï∞ÁöÑ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ Âú®ÁêÜËÆ∫ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏≠ÔºåÊüØÈáåÂåñÊèê‰æõ‰∫ÜÂú®ÁÆÄÂçïÁöÑÁêÜËÆ∫Ê®°Âûã‰∏≠ÔºåÊØîÂ¶ÇÔºöÂè™Êé•Âèó‰∏Ä‰∏™Âçï‰∏ÄÂèÇÊï∞ÁöÑlambdaÊºîÁÆó‰∏≠ÔºåÁ†îÁ©∂Â∏¶ÊúâÂ§ö‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÁöÑÊñπÂºè„ÄÇ ÂáΩÊï∞ÊüØÈáåÂåñÁöÑÂØπÂÅ∂ÊòØUncurryingÔºå‰∏ÄÁßç‰ΩøÁî®ÂåøÂêçÂçïÂèÇÊï∞ÂáΩÊï∞Êù•ÂÆûÁé∞Â§öÂèÇÊï∞ÂáΩÊï∞ÁöÑÊñπÊ≥ï„ÄÇ Êñπ‰æøÁöÑÁêÜËß£ CurryingÊ¶ÇÂøµÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÂè™‰º†ÈÄíÁªôÂáΩÊï∞‰∏ÄÈÉ®ÂàÜÂèÇÊï∞Êù•Ë∞ÉÁî®ÂÆÉÔºåËÆ©ÂÆÉËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÂéªÂ§ÑÁêÜÂâ©‰∏ãÁöÑÂèÇÊï∞„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™Ê±Ç‰∏â‰∏™Êï∞‰πãÂíåÁöÑÂáΩÊï∞Ôºö function add(x, y, z) { return x + y + z; } console.log(add(1, 2, 3)); // 6 var add = function(x) { return function(y) { return function(z) { return x + y + z; } } } var addOne = add(1); var addOneAndTwo = addOne(2); var addOneAndTwoAndThree = addOneAndTwo(3); console.log(addOneAndTwoAndThree); ËøôÈáåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™addÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞„ÄÇË∞ÉÁî®add‰πãÂêéÔºåËøîÂõûÁöÑÂáΩÊï∞Â∞±ÈÄöËøáÈó≠ÂåÖÁöÑÊñπÂºèËÆ∞‰Ωè‰∫ÜaddÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇ‰∏ÄÊ¨°ÊÄßÂú∞Ë∞ÉÁî®ÂÆÉÂÆûÂú®ÊòØÊúâÁÇπÁπÅÁêêÔºåÂ•ΩÂú®Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÁâπÊÆäÁöÑcurryÂ∏ÆÂä©ÂáΩÊï∞Ôºàhelper functionÔºâ‰ΩøËøôÁ±ªÂáΩÊï∞ÁöÑÂÆö‰πâÂíåË∞ÉÁî®Êõ¥Âä†ÂÆπÊòì„ÄÇ Áî®ES6ÁöÑÁÆ≠Â§¥ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏äÈù¢ÁöÑaddÂÆûÁé∞ÊàêËøôÊ†∑Ôºö const add = x =&gt; y =&gt; z =&gt; x + y + z; Â•ΩÂÉè‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞Êõ¥Ê∏ÖÊô∞‰∫ÜËÆ∏Â§ö„ÄÇ ÂÅèÂáΩÊï∞ÔºüÊù•ÁúãËøô‰∏™ÂáΩÊï∞Ôºö function ajax(url, data, callback) { // .. } ÊúâËøôÊ†∑ÁöÑ‰∏Ä‰∏™Âú∫ÊôØÔºöÊàë‰ª¨ÈúÄË¶ÅÂØπÂ§ö‰∏™‰∏çÂêåÁöÑÊé•Âè£ÂèëËµ∑HTTPËØ∑Ê±ÇÔºåÊúâ‰∏ãÂàó‰∏§ÁßçÂÅöÊ≥ïÔºö Âú®Ë∞ÉÁî®ajax()ÂáΩÊï∞Êó∂Ôºå‰º†ÂÖ•ÂÖ®Â±ÄURLÂ∏∏Èáè„ÄÇ ÂàõÂª∫‰∏Ä‰∏™Â∑≤ÁªèÈ¢ÑËÆæURLÂÆûÂèÇÁöÑÂáΩÊï∞ÂºïÁî®„ÄÇ ‰∏ãÈù¢Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂáΩÊï∞ÔºåÂÖ∂ÂÜÖÈÉ®‰ªçÁÑ∂ÂèëËµ∑ajax()ËØ∑Ê±ÇÔºåÊ≠§Â§ñÂú®Á≠âÂæÖÊé•Êî∂Âè¶Â§ñ‰∏§‰∏™ÂÆûÂèÇÁöÑÂêåÊó∂ÔºåÊàë‰ª¨ÊâãÂä®Â∞Üajax()Á¨¨‰∏Ä‰∏™ÂÆûÂèÇËÆæÁΩÆÊàê‰Ω†ÂÖ≥ÂøÉÁöÑAPIÂú∞ÂùÄ„ÄÇ ÂØπ‰∫éÁ¨¨‰∏ÄÁßçÂÅöÊ≥ïÔºåÊàë‰ª¨ÂèØËÉΩ‰∫ßÁîüÂ¶Ç‰∏ãË∞ÉÁî®ÊñπÂºèÔºö function ajaxTest1(data, callback) { ajax(&apos;http://www.test.com/test1&apos;, data, callback); } function ajaxTest2(data, callback) { ajax(&apos;http://www.test.com/test2&apos;, data, callback); } ÂØπ‰∫éËøô‰∏§‰∏™Á±ª‰ººÁöÑÂáΩÊï∞ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÊèêÂèñÂá∫Â¶Ç‰∏ãÁöÑÊ®°ÂºèÔºö function beginTest(callback) { ajaxTest1({ data: GLOBAL_TEST_1, }, callback); } Áõ∏‰ø°ÊÇ®Â∑≤ÁªèÁúãÂà∞‰∫ÜËøôÊ†∑ÁöÑÊ®°ÂºèÔºöÊàë‰ª¨Âú®ÂáΩÊï∞Ë∞ÉÁî®Áé∞Âú∫Ôºàfunction call-siteÔºâÔºåÂ∞ÜÂÆûÂèÇÂ∫îÁî®ÔºàapplyÔºâ ‰∫éÂΩ¢ÂèÇ„ÄÇÂ¶Ç‰Ω†ÊâÄËßÅÔºåÊàë‰ª¨‰∏ÄÂºÄÂßã‰ªÖÂ∫îÁî®‰∫ÜÈÉ®ÂàÜÂÆûÂèÇ ‚Äî‚Äî ÂÖ∑‰ΩìÊòØÂ∞ÜÂÆûÂèÇÂ∫îÁî®Âà∞URLÂΩ¢ÂèÇ ‚Äî‚Äî Ââ©‰∏ãÁöÑÂÆûÂèÇÁ®çÂêéÂÜçÂ∫îÁî®„ÄÇ ‰∏äËø∞Ê¶ÇÂøµÂç≥‰∏∫ÂÅèÂáΩÊï∞ÁöÑÂÆö‰πâÔºåÂÅèÂáΩÊï∞‰∏Ä‰∏™ÂáèÂ∞ëÂáΩÊï∞ÂèÇÊï∞‰∏™Êï∞ÁöÑËøáÁ®ãÔºõËøôÈáåÁöÑÂèÇÊï∞‰∏™Êï∞ÊåáÁöÑÊòØÂ∏åÊúõ‰º†ÂÖ•ÁöÑÂΩ¢ÂèÇÁöÑÊï∞Èáè„ÄÇÊàë‰ª¨ÈÄöËøáajaxTest1()ÊääÂéüÂáΩÊï∞ajax()ÁöÑÂèÇÊï∞‰∏™Êï∞‰ªé3‰∏™ÂáèÂ∞ëÂà∞‰∫Ü2‰∏™„ÄÇ Êàë‰ª¨ËøôÊ†∑ÂÆö‰πâ‰∏Ä‰∏™partial()ÂáΩÊï∞Ôºö function partial(fn, ...presetArgs) { return function partiallyApplied(...laterArgs) { return fn(...presetArgs, ...laterArgs); } } partial()ÂáΩÊï∞Êé•Êî∂fnÂèÇÊï∞ÔºåÊù•Ë°®Á§∫Ë¢´Êàë‰ª¨ÂÅèÂ∫îÁî®ÂÆûÂèÇÔºàpartially applyÔºâÁöÑÂáΩÊï∞„ÄÇÊé•ÁùÄÔºåfnÂΩ¢ÂèÇ‰πãÂêéÔºåpresetArgsÊï∞ÁªÑÊî∂ÈõÜ‰∫ÜÂêéÈù¢‰º†ÂÖ•ÁöÑÂÆûÂèÇÔºå‰øùÂ≠òËµ∑Êù•Á®çÂêé‰ΩøÁî®„ÄÇ Êàë‰ª¨ÂàõÂª∫Âπ∂return‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂÜÖÈÉ®ÂáΩÊï∞Ôºà‰∏∫‰∫ÜÊ∏ÖÊô∞Êòé‰∫ÜÔºåÊàë‰ª¨ÊääÂÆÉÂëΩÂêç‰∏∫partiallyApplied(..)ÔºâÔºåËØ•ÂáΩÊï∞‰∏≠ÔºålaterArgsÊï∞ÁªÑÊî∂ÈõÜ‰∫ÜÂÖ®ÈÉ®ÂÆûÂèÇ„ÄÇ ‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞ÔºåÂàôÊõ¥‰∏∫ÁÆÄÊ¥ÅÔºö var partial = (fn, ...presetArgs) =&gt; (...laterArgs) =&gt; fn(...presetArgs, ...laterArgs); ‰ΩøÁî®ÂÅèÂáΩÊï∞ÁöÑËøôÁßçÊ®°ÂºèÔºåÊàë‰ª¨ÈáçÊûÑ‰πãÂâçÁöÑ‰ª£Á†ÅÔºö function ajax(url, data, callback) { // .. } var ajaxTest1 = partial(ajax, &apos;http://www.test.com/test1&apos;); var ajaxTest2 = partial(ajax, &apos;http://www.test.com/test1&apos;); ÂÜçÊ¨°ÊÄùËÄÉbeginTest()ÂáΩÊï∞ÔºåÊàë‰ª¨‰ΩøÁî®partial()Êù•ÈáçÊûÑÂÆÉÂ∫îËØ•ÊÄé‰πàÂÅöÂë¢Ôºü function ajax(url, data, callback) { // .. } // ÁâàÊú¨1 var beginTest = partial(ajax, &apos;http://www.test.com/test1&apos;, { data: GLOBAL_TEST_1, }); // ÁâàÊú¨2 var ajaxTest1 = partial(ajax, &apos;http://www.test.com/test1&apos;); var beginTest = partial(ajaxTest1, { data: GLOBAL_TEST_1, }); ‰∏ÄÊ¨°‰º†‰∏Ä‰∏™Áõ∏‰ø°‰Ω†Â∑≤ÁªèÂú®‰∏äËø∞‰æãÂ≠ê‰∏≠ÁúãÂà∞‰∫ÜÁâàÊú¨2ÊØîËµ∑ÁâàÊú¨1ÁöÑ‰ºòÂäøÊâÄÂú®‰∫ÜÔºåÊ≤°ÈîôÔºåÊüØÈáåÂåñÂ∞±ÊòØÔºöÂ∞Ü‰∏Ä‰∏™Â∏¶ÊúâÂ§ö‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰∏ÄÊ¨°‰∏Ä‰∏™ÁöÑÂáΩÊï∞ÁöÑËøáÁ®ã„ÄÇÊØèÊ¨°Ë∞ÉÁî®ÂáΩÊï∞Êó∂ÔºåÂÆÉÂè™Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁõ¥Âà∞‰º†ÈÄíÊâÄÊúâÂèÇÊï∞‰∏∫Ê≠¢„ÄÇ The process of converting a function that takes multiple arguments into a function that takes them one at a time. Each time the function is called it only accepts one argument and returns a function that takes one argument until all arguments are passed. ÂÅáËÆæÊàë‰ª¨Â∑≤ÁªèÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÊüØÈáåÂåñÁâàÊú¨ÁöÑajax()ÂáΩÊï∞curriedAjax()Ôºö curriedAjax(&apos;http://www.test.com/test1&apos;) ({ data: GLOBAL_TEST_1, }) (function callback(data) { // dosomething }); Êàë‰ª¨Â∞Ü‰∏âÊ¨°Ë∞ÉÁî®ÂàÜÂà´ÊãÜËß£ÂºÄÊù•ÔºåËøô‰πüËÆ∏ÊúâÂä©‰∫éÊàë‰ª¨ÁêÜËß£Êï¥‰∏™ËøáÁ®ãÔºö var ajaxTest1 = curriedAjax(&apos;http://www.test.com/test1&apos;); var beginTest = ajaxTest1({ data: GLOBAL_TEST_1, }); var ajaxCallback = beginTest(function callback(data) { // dosomething }); ÂÆûÁé∞ÊüØÈáåÂåñÈÇ£‰πàÔºåÊàë‰ª¨Â¶Ç‰ΩïÊù•ÂÆûÁé∞‰∏Ä‰∏™Ëá™Âä®ÁöÑÊüØÈáåÂåñÁöÑÂáΩÊï∞Âë¢Ôºü var currying = function(fn) { var args = []; return function() { if (arguments.length === 0) { return fn.apply(this, args); // Ê≤°‰º†ÂèÇÊï∞Êó∂ÔºåË∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ } else { [].push.apply(args, arguments); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞ÔºåÊääÂèÇÊï∞‰øùÂ≠ò‰∏ãÊù• return arguments.callee; // ËøîÂõûËøô‰∏™ÂáΩÊï∞ÁöÑÂºïÁî® } } } Ë∞ÉÁî®‰∏äËø∞currying()ÂáΩÊï∞Ôºö var cost = (function() { var money = 0; return function() { for (var i = 0; i &lt; arguments.length; i++) { money += arguments[i]; } return money; } })(); var cost = currying(cost); cost(100); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞Ôºå‰∏çÁúüÊ≠£Ê±ÇÂÄº cost(200); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞Ôºå‰∏çÁúüÊ≠£Ê±ÇÂÄº cost(300); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞Ôºå‰∏çÁúüÊ≠£Ê±ÇÂÄº console.log(cost()); // Ê±ÇÂÄºÂπ∂‰∏îËæìÂá∫600 ‰∏äËø∞ÂáΩÊï∞ÊòØÊàë‰πãÂâçÁöÑJavaScriptËÆæËÆ°Ê®°Âºè‰∏éÂºÄÂèëÂÆûË∑µËØª‰π¶Á¨îËÆ∞‰πãÈó≠ÂåÖ‰∏éÈ´òÈò∂ÂáΩÊï∞ÊâÄÂÜôÁöÑcurryingÁâàÊú¨ÔºåÁé∞Âú®‰ªîÁªÜÊÄùËÄÉÂêéÂèëÁé∞‰ªçÊóßÊúâ‰∏Ä‰∫õÈóÆÈ¢ò„ÄÇ Êàë‰ª¨Âú®‰ΩøÁî®ÊüØÈáåÂåñÊó∂ÔºåË¶ÅÊ≥®ÊÑèÂêåÊó∂‰∏∫ÂáΩÊï∞È¢Ñ‰º†ÁöÑÂèÇÊï∞ÁöÑÊÉÖÂÜµ„ÄÇ Âõ†Ê≠§Êää‰∏äËø∞ÊüØÈáåÂåñÂáΩÊï∞Êõ¥ÊîπÂ¶Ç‰∏ãÔºö var currying = function(fn) { var args = Array.prototype.slice.call(arguments, 1); return function() { if (arguments.length === 0) { return fn.apply(this, args); // Ê≤°‰º†ÂèÇÊï∞Êó∂ÔºåË∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ } else { [].push.apply(args, arguments); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞ÔºåÊääÂèÇÊï∞‰øùÂ≠ò‰∏ãÊù• return arguments.callee; // ËøîÂõûËøô‰∏™ÂáΩÊï∞ÁöÑÂºïÁî® } } } ‰ΩøÁî®ÂÆû‰æãÔºö var cost = (function() { var money = 0; return function() { for (var i = 0; i &lt; arguments.length; i++) { money += arguments[i]; } return money; } })(); var cost = currying(cost, 100); cost(200); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞Ôºå‰∏çÁúüÊ≠£Ê±ÇÂÄº cost(300); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞Ôºå‰∏çÁúüÊ≠£Ê±ÇÂÄº console.log(cost()); // Ê±ÇÂÄºÂπ∂‰∏îËæìÂá∫600 ‰Ω†ÂèØËÉΩ‰ºöËßâÂæóÊØèÊ¨°ÈÉΩË¶ÅÂú®ÊúÄÂêéË∞ÉÁî®‰∏Ä‰∏ã‰∏çÂ∏¶ÂèÇÊï∞ÁöÑcost()ÂáΩÊï∞ÊØîËæÉÈ∫ªÁÉ¶ÔºåÂπ∂‰∏îÂú®cost()ÂáΩÊï∞ÈÉΩË¶Å‰ΩøÁî®argumentsÂèÇÊï∞‰∏çÁ¨¶Âêà‰Ω†ÁöÑÈ¢ÑÊúü„ÄÇÊàë‰ª¨Áü•ÈÅìÂáΩÊï∞ÈÉΩÊúâ‰∏Ä‰∏™lengthÂ±ûÊÄßÔºåË°®ÊòéÂáΩÊï∞ÊúüÊúõÊé•ÂèóÁöÑÂèÇÊï∞‰∏™Êï∞„ÄÇÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®È¢Ñ‰º†ÂèÇÊï∞ÁöÑËøô‰∏™ÁâπÁÇπ„ÄÇ ÂÄüÈâ¥Ëá™mqyqingfengÔºö function sub_curry(fn) { var args = [].slice.call(arguments, 1); return function() { return fn.apply(this, args.concat([].slice.call(arguments))); }; } function curry(fn, length) { length = length || fn.length; var slice = Array.prototype.slice; return function() { if (arguments.length &lt; length) { var combined = [fn].concat(slice.call(arguments)); return curry(sub_curry.apply(this, combined), length - arguments.length); } else { return fn.apply(this, arguments); } }; } Âú®‰∏äËø∞ÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨Âú®curryingÁöÑËøîÂõûÂáΩÊï∞‰∏≠ÔºåÊØèÊ¨°Êääarguments.lengthÂíåfn.length‰ΩúÊØîËæÉÔºå‰∏ÄÊó¶arguments.lengthËææÂà∞‰∫Üfn.lengthÁöÑÊï∞ÈáèÔºåÊàë‰ª¨Â∞±ÂéªË∞ÉÁî®fn(return fn.apply(this, arguments);) È™åËØÅÔºö var fn = curry(function(a, b, c) { return [a, b, c]; }); fn(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] fn(&quot;a&quot;, &quot;b&quot;)(&quot;c&quot;) // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] fn(&quot;a&quot;)(&quot;b&quot;)(&quot;c&quot;) // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] fn(&quot;a&quot;)(&quot;b&quot;, &quot;c&quot;) // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] bindÊñπÊ≥ïÁöÑÂÆûÁé∞‰ΩøÁî®ÊüØÈáåÂåñÔºåËÉΩÂ§üÂæàÊñπ‰æøÂú∞ÂÄüÁî®call()ÊàñËÄÖapply()ÂÆûÁé∞bind()ÊñπÊ≥ïÁöÑpolyfill„ÄÇ Function.prototype.bind = Function.prototype.bind || function(context) { var me = this; var args = Array.prototype.slice.call(arguments, 1); return function() { var innerArgs = Array.prototype.slice.call(arguments); var finalArgs = args.concat(innerArgs); return me.apply(contenxt, finalArgs); } } ‰∏äËø∞ÂáΩÊï∞ÊúâÁöÑÈóÆÈ¢òÂú®‰∫é‰∏çËÉΩÂÖºÂÆπÊûÑÈÄ†ÂáΩÊï∞„ÄÇÊàë‰ª¨ÈÄöËøáÂà§Êñ≠thisÊåáÂêëÁöÑÂØπË±°ÁöÑÂéüÂûãÂ±ûÊÄßÔºåÊù•Âà§Êñ≠Ëøô‰∏™ÂáΩÊï∞ÊòØÂê¶ÈÄöËøánew‰Ωú‰∏∫ÊûÑÈÄ†ÂáΩÊï∞Ë∞ÉÁî®ÔºåÊù•‰ΩøÂæó‰∏äËø∞bindÊñπÊ≥ïÂÖºÂÆπÊûÑÈÄ†ÂáΩÊï∞„ÄÇ Function.prototype.bind() by MDNÂ¶Ç‰∏ãËØ¥Âà∞Ôºö ÁªëÂÆöÂáΩÊï∞ÈÄÇÁî®‰∫éÁî®newÊìç‰ΩúÁ¨¶ new ÂéªÊûÑÈÄ†‰∏Ä‰∏™Áî±ÁõÆÊ†áÂáΩÊï∞ÂàõÂª∫ÁöÑÊñ∞ÁöÑÂÆû‰æã„ÄÇÂΩì‰∏Ä‰∏™ÁªëÂÆöÂáΩÊï∞ÊòØÁî®Êù•ÊûÑÂª∫‰∏Ä‰∏™ÂÄºÁöÑÔºåÂéüÊù•Êèê‰æõÁöÑ this Â∞±‰ºöË¢´ÂøΩÁï•„ÄÇÁÑ∂ËÄå, ÂéüÂÖàÊèê‰æõÁöÑÈÇ£‰∫õÂèÇÊï∞‰ªçÁÑ∂‰ºöË¢´ÂâçÁΩÆÂà∞ÊûÑÈÄ†ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂâçÈù¢„ÄÇ ËøôÊòØÂü∫‰∫éMVCÁöÑJavaScript WebÂØåÂ∫îÁî®ÂºÄÂèëÁöÑbind()ÊñπÊ≥ïÂÆûÁé∞Ôºö Function.prototype.bind = function(oThis) { if (typeof this !== &quot;function&quot;) { throw new TypeError(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;); } var aArgs = Array.prototype.slice.call(arguments, 1), fToBind = this, fNOP = function() {}, fBound = function() { return fToBind.apply( this instanceof fNOP &amp;&amp; oThis ? this : oThis || window, aArgs.concat(Array.prototype.slice.call(arguments)) ); }; fNOP.prototype = this.prototype; fBound.prototype = new fNOP(); return fBound; }; ÂèçÊüØÈáåÂåñÔºàuncurryingÔºâÂèØËÉΩÈÅáÂà∞ËøôÁßçÊÉÖÂÜµÔºöÊãøÂà∞‰∏Ä‰∏™ÊüØÈáåÂåñÂêéÁöÑÂáΩÊï∞ÔºåÂç¥ÊÉ≥Ë¶ÅÂÆÉÊüØÈáåÂåñ‰πãÂâçÁöÑÁâàÊú¨ÔºåËøôÊú¨Ë¥®‰∏äÂ∞±ÊòØÊÉ≥Â∞ÜÁ±ª‰ººf(1)(2)(3)ÁöÑÂáΩÊï∞ÂèòÂõûÁ±ª‰ººg(1,2,3)ÁöÑÂáΩÊï∞„ÄÇ ‰∏ãÈù¢ÊòØÁÆÄÂçïÁöÑuncurryingÁöÑÂÆûÁé∞ÊñπÂºèÔºö function uncurrying(fn) { return function(...args) { var ret = fn; for (let i = 0; i &lt; args.length; i++) { ret = ret(args[i]); // ÂèçÂ§çË∞ÉÁî®curryingÁâàÊú¨ÁöÑÂáΩÊï∞ } return ret; // ËøîÂõûÁªìÊûú }; } Ê≥®ÊÑèÔºå‰∏çË¶Å‰ª•‰∏∫uncurryingÂêéÁöÑÂáΩÊï∞Âíåcurrying‰πãÂâçÁöÑÂáΩÊï∞‰∏ÄÊ®°‰∏ÄÊ†∑ÔºåÂÆÉ‰ª¨Âè™ÊòØË°å‰∏∫Á±ª‰ººÔºÅ var currying = function(fn) { var args = Array.prototype.slice.call(arguments, 1); return function() { if (arguments.length === 0) { return fn.apply(this, args); // Ê≤°‰º†ÂèÇÊï∞Êó∂ÔºåË∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ } else { [].push.apply(args, arguments); // ‰º†ÂÖ•‰∫ÜÂèÇÊï∞ÔºåÊääÂèÇÊï∞‰øùÂ≠ò‰∏ãÊù• return arguments.callee; // ËøîÂõûËøô‰∏™ÂáΩÊï∞ÁöÑÂºïÁî® } } } function uncurrying(fn) { return function(...args) { var ret = fn; for (let i = 0; i &lt; args.length; i++) { ret = ret(args[i]); // ÂèçÂ§çË∞ÉÁî®curryingÁâàÊú¨ÁöÑÂáΩÊï∞ } return ret; // ËøîÂõûÁªìÊûú }; } var cost = (function() { var money = 0; return function() { for (var i = 0; i &lt; arguments.length; i++) { money += arguments[i]; } return money; } })(); var curryingCost = currying(cost); var uncurryingCost = uncurrying(curryingCost); console.log(uncurryingCost(100, 200, 300)()); // 600 ÊüØÈáåÂåñÊàñÂÅèÂáΩÊï∞Êúâ‰ªÄ‰πàÁî®ÔºüÊó†ËÆ∫ÊòØÊüØÈáåÂåñËøòÊòØÂÅèÂ∫îÁî®ÔºåÊàë‰ª¨ÈÉΩËÉΩËøõË°åÈÉ®ÂàÜ‰º†ÂÄºÔºåËÄå‰º†ÁªüÂáΩÊï∞Ë∞ÉÁî®ÂàôÈúÄË¶ÅÈ¢ÑÂÖàÁ°ÆÂÆöÊâÄÊúâÂÆûÂèÇ„ÄÇÂ¶ÇÊûú‰Ω†Âú®‰ª£Á†ÅÊüê‰∏ÄÂ§ÑÂè™Ëé∑Âèñ‰∫ÜÈÉ®ÂàÜÂÆûÂèÇÔºåÁÑ∂ÂêéÂú®Âè¶‰∏ÄÂ§ÑÁ°ÆÂÆöÂè¶‰∏ÄÈÉ®ÂàÜÂÆûÂèÇÔºåËøô‰∏™Êó∂ÂÄôÊüØÈáåÂåñÂíåÂÅèÂ∫îÁî®Â∞±ËÉΩÊ¥æ‰∏äÁî®Âú∫„ÄÇ Âè¶‰∏Ä‰∏™ÊúÄËÉΩ‰ΩìÁé∞ÊüØÈáåÂåñÂ∫îÁî®ÁöÑÁöÑÊòØÔºåÂΩìÂáΩÊï∞Âè™Êúâ‰∏Ä‰∏™ÂΩ¢ÂèÇÊó∂ÔºåÊàë‰ª¨ËÉΩÂ§üÊØîËæÉÂÆπÊòìÂú∞ÁªÑÂêàÂÆÉ‰ª¨ÔºàÂçï‰∏ÄËÅåË¥£ÂéüÂàôÔºàSingle responsibility principleÔºâÔºâ„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂáΩÊï∞ÊúÄÁªàÈúÄË¶Å‰∏â‰∏™ÂÆûÂèÇÔºåÈÇ£‰πàÂÆÉË¢´ÊüØÈáåÂåñ‰ª•Âêé‰ºöÂèòÊàêÈúÄË¶Å‰∏âÊ¨°Ë∞ÉÁî®ÔºåÊØèÊ¨°Ë∞ÉÁî®ÈúÄË¶Å‰∏Ä‰∏™ÂÆûÂèÇÁöÑÂáΩÊï∞„ÄÇÂΩìÊàë‰ª¨ÁªÑÂêàÂáΩÊï∞Êó∂ÔºåËøôÁßçÂçïÂÖÉÂáΩÊï∞ÁöÑÂΩ¢Âºè‰ºöËÆ©Êàë‰ª¨Â§ÑÁêÜËµ∑Êù•Êõ¥ÁÆÄÂçï„ÄÇ ÂΩíÁ∫≥‰∏ãÊù•Ôºå‰∏ªË¶Å‰∏∫‰ª•‰∏ãÂ∏∏ËßÅÁöÑ‰∏â‰∏™Áî®ÈÄîÔºö Âª∂ËøüËÆ°ÁÆó ÂèÇÊï∞Â§çÁî® Âä®ÊÄÅÁîüÊàêÂáΩÊï∞]]></content>
      <tags>
        <tag>ÊüØÈáåÂåñ</tag>
        <tag>ÂáΩÊï∞Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5ÁöÑWebsocket]]></title>
    <url>%2F2016%2F08%2F08%2FHTML5%E7%9A%84Websocket%2F</url>
    <content type="text"><![CDATA[ÂÖàËØ∑Êù•TAÁöÑÈÇªÂ±ÖÔºö*httpÔºöÊó†Áä∂ÊÄÅ„ÄÅÂü∫‰∫étcpËØ∑Ê±Ç/ÂìçÂ∫îÊ®°ÂºèÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆ ÔºàA:ÂìéÂëÄÔºå‰∏äÊ¨°‰Ω†ËØ∑ÊàëÂêÉÈ•≠‰∫Ü‰πà? B:ÊàëÊÉ≥ÊÉ≥, ‰∏äÊ¨°ËØ∑‰Ω†ÂêÉ‰∫Ü‰πàÔºâtcpÔºöÈù¢ÂêëËøûÊé•„ÄÅ‰øùËØÅÈ´òÂèØÈù†ÊÄß(Êï∞ÊçÆÊó†‰∏¢Â§±„ÄÅÊï∞ÊçÆÊó†Â§±Â∫è„ÄÅÊï∞ÊçÆÊó†ÈîôËØØ„ÄÅÊï∞ÊçÆÊó†ÈáçÂ§çÂà∞Ëææ) ‰º†ËæìÂ±ÇÂçèËÆÆ„ÄÇÔºàÁúãÂïäÔºåÂ§ßÈòÖÂÖµÔºåÂ¶ÇÊ≠§ËßÑÊï¥ÊúâÁß©Â∫èÔºâ ‰∏∫‰ªÄ‰πàË¶ÅÂºïÂÖ•WebsocketÔºö RFCÂºÄÁØá‰ªãÁªçÔºöÊú¨ÂçèËÆÆÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Âü∫‰∫éÊµèËßàÂô®ÁöÑÁ®ãÂ∫èÈúÄË¶ÅÊãâÂèñËµÑÊ∫êÊó∂ÂøÖÈ°ªÂèëËµ∑Â§ö‰∏™HTTPËØ∑Ê±ÇÂíåÈïøÊó∂Èó¥ÁöÑËΩÆËØ¢ÁöÑÈóÆÈ¢ò„ÄÇ long poll(ÈïøËΩÆËØ¢): ÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∏Ä‰∏™requestÂêéÔºåÊúçÂä°Âô®ÊãøÂà∞Ëøô‰∏™ËøûÊé•ÔºåÂ¶ÇÊûúÊúâÊ∂àÊÅØÔºåÊâçËøîÂõûresponseÁªôÂÆ¢Êà∑Á´Ø„ÄÇÊ≤°ÊúâÊ∂àÊÅØÔºåÂ∞±‰∏ÄÁõ¥‰∏çËøîÂõûresponse„ÄÇ‰πãÂêéÂÆ¢Êà∑Á´ØÂÜçÊ¨°ÂèëÈÄÅrequest, ÈáçÂ§ç‰∏äÊ¨°ÁöÑÂä®‰Ωú„ÄÇ ‰ªé‰∏äÂèØ‰ª•ÁúãÂá∫ÔºåhttpÂçèËÆÆÁöÑÁâπÁÇπÊòØÊúçÂä°Âô®‰∏çËÉΩ‰∏ªÂä®ËÅîÁ≥ªÂÆ¢Êà∑Á´ØÔºåÂè™ËÉΩÁî±ÂÆ¢Êà∑Á´ØÂèëËµ∑„ÄÇÂÆÉÁöÑË¢´Âä®ÊÄßÈ¢ÑÁ§∫‰∫ÜÂú®ÂÆåÊàêÂèåÂêëÈÄö‰ø°Êó∂ÈúÄË¶Å‰∏çÂÅúÁöÑËøûÊé•ÊàñËøûÊé•‰∏ÄÁõ¥ÊâìÂºÄÔºåËøôÂ∞±ÈúÄË¶ÅÊúçÂä°Âô®Âø´ÈÄüÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÊàñÈ´òÂπ∂ÂèëÁöÑËÉΩÂäõÔºåÊòØÈùûÂ∏∏Ê∂àËÄóËµÑÊ∫êÁöÑ„ÄÇ Ëøô‰∏™Êó∂ÂÄôÔºåWebsocketÂá∫Áé∞‰∫Ü„ÄÇ WebsocketÊòØ‰ªÄ‰πàÔºö RFC‰∏≠ÂÜôÂà∞ÔºöWebSocketÂçèËÆÆ‰ΩøÂú®ÊéßÂà∂ÁéØÂ¢É‰∏ãËøêË°å‰∏çÂèó‰ø°‰ªª‰ª£Á†ÅÁöÑÂÆ¢Êà∑Á´ØÂíåËÉΩÂ§üÈÄâÊã©‰∏éÈÇ£‰∫õ‰ª£Á†ÅÈÄö‰ø°ÁöÑËøúÁ®ã‰∏ªÊú∫‰πãÈó¥ËÉΩÂ§üÂèåÂêëÈÄö‰ø°„ÄÇ ÂØπÔºåÂàíÈáçÁÇπÔºöÂèåÂêëÈÄö‰ø° WebsocketÂú®ËøûÊé•‰πãÂêéÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•‰∏ªÂä®ÂèëÈÄÅÊ∂àÊÅØÁªôÊúçÂä°Âô®ÔºåÊúçÂä°Âô®‰πüÂèØ‰ª•‰∏ªÂä®ÂêëÂÆ¢Êà∑Á´ØÊé®ÈÄÅÊ∂àÊÅØ„ÄÇÊØîÂ¶ÇÔºöÈ¢ÑËÆ¢ËΩ¶Á•®‰ø°ÊÅØÔºåÈô§‰∫ÜÊàë‰ª¨ÂèëËØ∑Ê±ÇËØ¢ÈóÆËΩ¶Á•®Â¶Ç‰ΩïÔºåÂΩìÁÑ∂Êõ¥Â∏åÊúõÂ¶ÇÊûúÊúâÊñ∞Ê∂àÊÅØÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöÁü•Êàë‰ª¨„ÄÇ ÂÖ∂ÁâπÁÇπÔºö Ôºà1ÔºâÊè°ÊâãÈò∂ÊÆµÈááÁî® HTTP ÂçèËÆÆÔºåÈªòËÆ§Á´ØÂè£ÊòØ80Âíå443 Ôºà2ÔºâÂª∫Á´ãÂú®TCPÂçèËÆÆÂü∫Á°Ä‰πã‰∏äÔºåÂíåhttpÂçèËÆÆÂêåÂ±û‰∫éÂ∫îÁî®Â±Ç Ôºà4ÔºâÂèØ‰ª•ÂèëÈÄÅÊñáÊú¨Ôºå‰πüÂèØ‰ª•ÂèëÈÄÅ‰∫åËøõÂà∂Êï∞ÊçÆ Ôºà5ÔºâÊ≤°ÊúâÂêåÊ∫êÈôêÂà∂ÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•‰∏é‰ªªÊÑèÊúçÂä°Âô®ÈÄö‰ø° Ôºà6ÔºâÂçèËÆÆÊ†áËØÜÁ¨¶ÊòØwsÔºàÂ¶ÇÊûúÂä†ÂØÜÔºå‰∏∫wssÔºâÔºåÂ¶Çws://localhost:8023 ÁÆÄÂçïÊù•ËØ¥ÔºåWebsocketÂçèËÆÆÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºöÊè°ÊâãÂíåÊï∞ÊçÆ‰º†Ëæì„ÄÇ Websocket APIÔºö ËøôÈáåÊòØÊåáÂÆ¢Êà∑Á´Ø API„ÄÇ WebSocket ÊûÑÈÄ†ÂáΩÊï∞ ÈÄöËøáË∞ÉÁî®WebSocketÊûÑÈÄ†ÂáΩÊï∞Êù•ÂàõÂª∫‰∏Ä‰∏™WebSocketÂÆû‰æãÂØπË±°ÔºåÂª∫Á´ãÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®ÁöÑËøûÊé•„ÄÇ const ws =`newWebSocket(‚Äòws://localhost:8023‚Äô);` Websocket‰∫ã‰ª∂ WebSocket`ÊòØÁ∫Ø‰∫ã‰ª∂È©±Âä®ÔºåÈÄöËøáÁõëÂê¨‰∫ã‰ª∂ÂèØ‰ª•Â§ÑÁêÜÂà∞Êù•ÁöÑÊï∞ÊçÆÂíåÊîπÂèòÁöÑËøûÊé•Áä∂ÊÄÅ„ÄÇÊúçÂä°Á´ØÂèëÈÄÅÊï∞ÊçÆÂêéÔºåÊ∂àÊÅØÂíå‰∫ã‰ª∂‰ºöÂºÇÊ≠•Âà∞Ëææ„ÄÇ` open: ÊúçÂä°Á´ØÂìçÂ∫îWebSocketËøûÊé•ËØ∑Ê±ÇÔºåÂ∞±‰ºöËß¶Âèëopen‰∫ã‰ª∂„ÄÇonopenÊòØÂìçÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ // ËøûÊé•ËØ∑Ê±Çopen‰∫ã‰ª∂Â§ÑÁêÜÔºö ws.onopen=e=&gt;{ console.log(&apos;Connection success&apos;); ws.send(`Hello ${e}`); }; Â¶ÇÊûúË¶ÅÊåáÂÆöÂ§ö‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂèØ‰ª•‰ΩøÁî®addEventListenerÊñπÊ≥ï„ÄÇ ws.addEventListener(&apos;open&apos;, e =&gt; { ws.send(`Hello ${e}`); }); ÂΩìopen‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÔºåÊÑèÂë≥ÁùÄÊè°ÊâãÈò∂ÊÆµÂ∑≤ÁªìÊùü„ÄÇÊúçÂä°Á´ØÂ∑≤ÁªèÂ§ÑÁêÜ‰∫ÜËøûÊé•ÁöÑËØ∑Ê±ÇÔºåÂèØ‰ª•ÂáÜÂ§áÊî∂ÂèëÊï∞ÊçÆ„ÄÇ Message: Êî∂Âà∞ÊúçÂä°Âô®Êï∞ÊçÆÔºå‰ºöËß¶ÂèëÊ∂àÊÅØ‰∫ã‰ª∂ÔºåonmessageÊòØÂìçÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇÂ¶Ç‰∏ãÔºö // Êé•ÂèóÊñáÊú¨Ê∂àÊÅØÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÔºö ws.onmessage = e =&gt; { const data = e.data; if (typeof data === &quot;string&quot;) { console.log(&quot;Received string message &quot;,data); } else if (data instanceof Blob) { console.log(&quot;Received blob message &quot;, data); } }; ÊúçÂä°Âô®Êï∞ÊçÆÂèØËÉΩÊòØÊñáÊú¨Ôºå‰πüÂèØËÉΩÊòØ‰∫åËøõÂà∂Êï∞ÊçÆÔºåÊúâBlobÂíåArrayBuffer‰∏§ÁßçÁ±ªÂûãÔºåÂú®ËØªÂèñÂà∞Êï∞ÊçÆ‰πãÂâçÈúÄË¶ÅÂÜ≥ÂÆöÂ•ΩÊï∞ÊçÆÁöÑÁ±ªÂûã„ÄÇ Error ÂèëÁîüÈîôËØØ‰ºöËß¶Âèëerror‰∫ã‰ª∂, onerrorÊòØÂìçÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞, ‰ºöÂØºËá¥ËøûÊé•ÂÖ≥Èó≠„ÄÇ //ÂºÇÂ∏∏Â§ÑÁêÜ ws.onerror = e =&gt; { console.log(&quot;WebSocket Error: &quot; , e); handleErrors(e); }; ÂΩìËøûÊé•ÂÖ≥Èó≠Êó∂Ëß¶Âèëclose‰∫ã‰ª∂ÔºåÂØπÂ∫îoncloseÊñπÊ≥ïÔºåËøûÊé•ÂÖ≥Èó≠‰πãÂêéÔºåÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÂ∞±‰∏çËÉΩÂÜçÈÄö‰ø°„ÄÇ WebSocket ËßÑËåÉ‰∏≠ÂÆö‰πâ‰∫Üping Â∏ß Âíåpong Â∏ßÔºåÂèØ‰ª•Áî®Êù•ÂÅöÂøÉË∑≥ÈáçËøûÔºåÁΩëÁªúÁä∂ÊÄÅÊü•ËØ¢Á≠âÔºå‰ΩÜÊòØÁõÆÂâç ÊµèËßàÂô®Âè™‰ºöËá™Âä®ÂèëÈÄÅpongÂ∏ßÔºåËÄå‰∏ç‰ºöÂèëping Â∏ß„ÄÇÔºàÊúâÂÖ¥Ë∂£ÂèØËØ¶Êü•pingÂíåpongÂ∏ßÔºâ //ÂÖ≥Èó≠ËøûÊé•Â§ÑÁêÜ ws.onclose = e =&gt; { const code = e.code; const reason = e.reason; console.log(&quot;Connection close&quot;, code, reason); }; WebSocket ÊñπÊ≥ïÔºö WebSocket ÂØπË±°Êúâ‰∏§‰∏™ÊñπÊ≥ïÔºösend Âíå close send: ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Âª∫Á´ãËøûÊé•ÂêéÔºåÂèØ‰ª•Ë∞ÉÁî®sendÊñπÊ≥ïÂéªÂèëÈÄÅÊ∂àÊÅØ„ÄÇ //ÂèëÈÄÅ‰∏Ä‰∏™ÊñáÊú¨Ê∂àÊÅØ ws.send(&quot;this is websocket&quot;); Âú®open‰∫ã‰ª∂ÁöÑÂõûË∞É‰∏≠Ë∞ÉÁî®send()ÊñπÊ≥ï‰º†ÈÄÅÊï∞ÊçÆÔºö const ws = new WebSocket(&apos;ws://localhost:8023&apos;); ws.onopen = e =&gt; { console.log(&apos;Connection success&apos;); ws.send(`Hello ${e}`); }; Â¶ÇÊûúÊÉ≥ÈÄöËøáÂìçÂ∫îÂÖ∂‰ªñ‰∫ã‰ª∂ÂèëÈÄÅÊ∂àÊÅØÔºåÂèØÈÄöËøáÂà§Êñ≠ÂΩìÂâçÁöÑWebsocketÁöÑreadyStateÂ±ûÊÄß„ÄÇÊé•‰∏ãÊù•‰ºöËØ¥Âà∞readyState. close closeÊñπÊ≥ïÁî®Êù•ÂÖ≥Èó≠ËøûÊé•„ÄÇË∞ÉÁî®closeÊñπÊ≥ïÂêéÔºåÂ∞Ü‰∏çËÉΩÂèëÈÄÅÊï∞ÊçÆ„ÄÇcloseÊñπÊ≥ïÂèØ‰ª•‰º†ÂÖ•‰∏§‰∏™ÂèØÈÄâÁöÑÂèÇÊï∞Ôºåcode Âíåreason, ‰ª•ÂëäËØâÊúçÂä°Á´Ø‰∏∫‰ªÄ‰πàÁªàÊ≠¢ËøûÊé•„ÄÇ ws.close(); //1000ÊòØÁä∂ÊÄÅÁ†ÅÔºå‰ª£Ë°®Ê≠£Â∏∏ÁªìÊùü„ÄÇ ws.close(1000, &quot;Closing normally&quot;); WebSocket Â±ûÊÄß readyStateÔºö readyStateÂÄºË°®Á§∫ËøûÊé•Áä∂ÊÄÅÔºåÊòØÂè™ËØªÂ±ûÊÄß„ÄÇÂÆÉÊúâ‰ª•‰∏ãÂõõ‰∏™ÂÄºÔºö WebSocket.CONNECTING ÔºöËøûÊé•Ê≠£Âú®ËøõË°åÔºå‰ΩÜËøòÊ≤°ÊúâÂª∫Á´ã WebSocket.OPEN ÔºöËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂèØ‰ª•ÂèëÈÄÅÊ∂àÊÅØ WebSocket.CLOSING ÔºöËøûÊé•Ê≠£Âú®ËøõË°åÂÖ≥Èó≠Êè°Êâã WebSocket.CLOSED ÔºöËøûÊé•Â∑≤ÁªèÂÖ≥Èó≠Êàñ‰∏çËÉΩÊâìÂºÄ Èô§‰∫ÜÂú®open‰∫ã‰ª∂ÂõûË∞É‰∏≠Ë∞ÉÁî®sendÊñπÊ≥ïÔºåÂèØÈÄöËøáÂà§Êñ≠readyStateÂÄºÊù•ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ function bindEventHandler(data) { if (ws.readyState === WebSocket.OPEN) { ws.send(data); } else { //do something } } bufferedAmountÔºö ÂΩìÂÆ¢Êà∑Á´Ø‰º†ËæìÂ§ßÈáèÊï∞ÊçÆÊó∂ÔºåÊµèËßàÂô®‰ºöÁºìÂ≠òÂ∞ÜË¶ÅÊµÅÂá∫ÁöÑÊï∞ÊçÆÔºåbufferedAmountÂ±ûÊÄßÂèØÂà§Êñ≠ÊúâÂ§öÂ∞ëÂ≠óËäÇÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÊ≤°ÊúâÂèëÈÄÅÂá∫ÂéªÔºåÂèëÈÄÅÊòØÂê¶ÁªìÊùü„ÄÇ ws.onopen = function () { setInterval( function() { //ÁºìÂ≠òÊú™Êª°ÁöÑÊó∂ÂÄôÂèëÈÄÅ if (ws.bufferedAmount &lt; 1024 * 5) { ws.send(data); } }, 2000); }; protocolÔºö protocol‰ª£Ë°®ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÁöÑWebSocketÂçèËÆÆ„ÄÇÂΩìÊè°ÊâãÂçèËÆÆÊú™ÊàêÂäüÔºåËøô‰∏™Â±ûÊÄßÊòØÁ©∫„ÄÇ Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ËØ¥ËØ¥Êè°ÊâãÈò∂ÊÆµËøáÁ®ã„ÄÇ* ÂΩìÊàë‰ª¨ÂàõÂª∫WebsocketÂÆû‰æãÂØπË±°‰∏éÊúçÂä°Âô®Âª∫Á´ãËøûÊé•Êó∂Ôºå const ws = new WebSocket(&apos;ws://localhost:8023&apos;)Ôºõ È¶ñÂÖàÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëËµ∑‰∏Ä‰∏™Êè°ÊâãËØ∑Ê±ÇÔºåÂÖ∂ËØ∑Ê±ÇÊä•ÊñáÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÔºö GET /game HTTP/1.1 Host: 10.242.17.102:8023 Cache-Control: no-cache Upgrade: websocket Connection: Upgrade Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ== Sec-WebSocket-Protocol: game Sec-WebSocket-Version: 10 Origin: http://192.168.185.16 Accept-Encoding: gzip, deflate, sdch Accept-Language: zh-CN,zh;q=0.8 ‰ªéËØ∑Ê±ÇÂ§¥‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Âü∫‰∫éhttpÁöÑÊè°ÊâãËØ∑Ê±Ç„ÄÇ‰∏éÈÄöÂ∏∏ÁöÑhttpËØ∑Ê±Ç‰∏çÂêåÁöÑÊòØÔºåÂ¢ûÂä†‰∫Ü‰∏Ä‰∫õÂ§¥‰ø°ÊÅØ„ÄÇ UpgradeÂ≠óÊÆµ: ÈÄöÁü•ÊúçÂä°Âô®ÔºåÁé∞Âú®Ë¶Å‰ΩøÁî®‰∏Ä‰∏™ÂçáÁ∫ßÁâàÂçèËÆÆ - Websocket„ÄÇ Sec-WebSocket-Key: ÊòØ‰∏Ä‰∏™Base64ÁºñÁ†ÅÁöÑÂÄºÔºåËøô‰∏™ÊòØÊµèËßàÂô®ÈöèÊú∫ÁîüÊàê,ÈÄöÁü•ÊúçÂä°Âô®ÔºåÈúÄË¶ÅÈ™åËØÅ‰∏ãÊòØÂê¶ÂèØ‰ª•ËøõË°åWebsocketÈÄö‰ø° Sec_WebSocket-Protocol: ÊòØÁî®Êà∑Ëá™ÂÆö‰πâÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî®Êù•Ê†áËØÜÊúçÂä°ÊâÄÈúÄË¶ÅÁöÑÂçèËÆÆ Sec-WebSocket-Version: ÈÄöÁü•ÊúçÂä°Âô®ÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆÁâàÊú¨ ÊúçÂä°Âô®ÂìçÂ∫îÔºö ÂΩìÊúçÂä°Âô®ËøîÂõû‰ª•‰∏ãÂÜÖÂÆπÔºåÂ∞±Ë°®Á§∫Â∑≤ÁªèÊé•ÂèóÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂï¶ÔºåÂèØ‰ª•Âª∫Á´ãWebsocketÈÄö‰ø°Âï¶„ÄÇ HTTP/1.1 101 Switching Protocols Upgrade: websocket Connection: Upgrade Sec-WebSocket-Accept: SIEylb7zRYJAEgiqJXaOW3V+ZWQ= 101 Áä∂ÊÄÅÁ†ÅÔºåË°®Á§∫Ë¶ÅËΩ¨Êç¢ÂçèËÆÆÂï¶ Upgrde: ÈÄöÁü•ÂÆ¢Êà∑Á´ØÂ∞ÜË¶ÅÂçáÁ∫ßÊàêWebsocketÂçèËÆÆ Sec-WebSocket-AcceptÔºö ÁªèËøáÊúçÂä°Âô®Á°ÆËÆ§ÔºåÂπ∂‰∏îÂä†ÂØÜËøáÂêéÁöÑ Sec-WebSocket-Key„ÄÇÁî®Êù•ËØÅÊòéÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ËÉΩËøõË°åÈÄö‰ø°‰∫Ü„ÄÇ Ëá≥Ê≠§ÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Êè°ÊâãÊàêÂäüÂª∫Á´ã‰∫ÜWebsocketËøûÊé•ÔºåÈÄö‰ø°‰∏çÂÜç‰ΩøÁî®httpÊï∞ÊçÆÂ∏ßÔºåËÄåÈááÁî®WebsocketÁã¨Á´ãÁöÑÊï∞ÊçÆÂ∏ß„ÄÇ]]></content>
      <tags>
        <tag>Websocket</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßªÂä®Á´ØH5È°µÈù¢ËøîÂõûÂπ∂‰∏îÂà∑Êñ∞È°µÈù¢]]></title>
    <url>%2F2016%2F07%2F25%2F%E7%A7%BB%E5%8A%A8%E7%AB%AFH5%E9%A1%B5%E9%9D%A2%E8%BF%94%E5%9B%9E%E5%B9%B6%E4%B8%94%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%2F</url>
    <content type="text"><![CDATA[È°πÁõÆ‰∏≠ÁöÑÈúÄÊ±ÇÔºöÁÇπÂáªÊµèËßàÂô®‰∏≠ÁöÑËøîÂõûÊåâÈíÆÔºåË¶ÅËÆ©È°µÈù¢ÈáçÊñ∞Âä†ËΩΩËµÑÊ∫ê„ÄÇÂõ†‰∏∫ËøôÈÉ®ÂàÜÁöÑËµÑÊ∫êÊØèÊ¨°ÂéªÂä†ËΩΩÁöÑÂÜÖÂÆπÈÉΩ‰∏ç‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúËøîÂõûÁöÑÊó∂ÂÄôÔºåËøòÊòØÁúãÂà∞ÂéüÂÖàÁöÑÂÜÖÂÆπÔºåÈÇ£ÂÅöËøô‰∏™ÂÜÖÂÆπÂùóÁöÑÊÑè‰πâÂ∞±ÂæàÂ∞è‰∫ÜÔºõËÄåÂ¶ÇÊûúÁî®Êà∑ÁúãÂÆå‰∫ÜËøôÈÉ®ÂàÜÂÜÖÂÆπÔºåÂÜçËøîÂõûÊù•ÁöÑÊó∂ÂÄôÔºåËøô‰∏™Âú∞ÊñπÊç¢Êàê‰∫ÜÊñ∞ÁöÑÂÜÖÂÆπÔºåËøôÊ†∑Â∞±ËÉΩ‰ΩìÁé∞ËøôÈÉ®ÂàÜÁöÑ‰ª∑ÂÄº‰∫Ü„ÄÇ ËÄåÂØπ‰∫éÊµèËßàÂô®Êù•ËØ¥ÔºåÂ§ßÈÉ®ÂàÜÊµèËßàÂô®ÁöÑËøîÂõûÊòØÁõ¥Êé•‰ΩøÁî®ÁºìÂ≠òÁöÑÔºå‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÁöÑjavascript‰ª£Á†Å„ÄÇÂéüÂõ†ÔºöÈÉ®ÂàÜÊµèËßàÂô®Âú®ÂêéÈÄÄÊó∂‰∏ç‰ºöËß¶Âèëonload‰∫ã‰ª∂ÔºåÈÄôÊòØHTML5‰∏ñ‰ª£ÊµèËßàÂô®Êñ∞Â¢ûÁöÑÁâπÊÄß‰πã‰∏Ä‚Äî‚ÄîBack-Forward Cache(ÁÆÄÁß∞bfcache) ‰ªÄ‰πàÊòØbfcacheÔºü bfcacheÔºåÂç≥back-forward cacheÔºåÂèØÁß∞‰∏∫‚ÄúÂæÄËøîÁºìÂ≠ò‚ÄùÔºåÂèØ‰ª•Âú®Áî®Êà∑‰ΩøÁî®ÊµèËßàÂô®ÁöÑ‚ÄúÂêéÈÄÄ‚ÄùÂíå‚ÄúÂâçËøõ‚ÄùÊåâÈíÆÊó∂Âä†Âø´È°µÈù¢ÁöÑËΩ¨Êç¢ÈÄüÂ∫¶„ÄÇËøô‰∏™ÁºìÂ≠ò‰∏ç‰ªÖ‰øùÂ≠òÈ°µÈù¢Êï∞ÊçÆÔºåËøò‰øùÂ≠ò‰∫ÜDOMÂíåJSÁöÑÁä∂ÊÄÅÔºåÂÆûÈôÖ‰∏äÊòØÂ∞ÜÊï¥‰∏™È°µÈù¢ÈÉΩ‰øùÂ≠òÂú®ÂÜÖÂ≠òÈáå„ÄÇÂ¶ÇÊûúÈ°µÈù¢‰Ωç‰∫ébfcache‰∏≠ÔºåÈÇ£‰πàÂÜçÊ¨°ÊâìÂºÄËØ•È°µÈù¢Â∞±‰∏ç‰ºöËß¶Âèëonload‰∫ã‰ª∂ pageshow‰∫ã‰ª∂Ëøô‰∏™‰∫ã‰ª∂Âú®Áî®Êà∑ÊµèËßàÁΩëÈ°µÊó∂Ëß¶ÂèëÔºåpageshow ‰∫ã‰ª∂Á±ª‰ºº‰∫é onload ‰∫ã‰ª∂Ôºåonload ‰∫ã‰ª∂Âú®È°µÈù¢Á¨¨‰∏ÄÊ¨°Âä†ËΩΩÊó∂Ëß¶ÂèëÔºå pageshow ‰∫ã‰ª∂Âú®ÊØèÊ¨°Âä†ËΩΩÈ°µÈù¢Êó∂Ëß¶ÂèëÔºåÂç≥ onload ‰∫ã‰ª∂Âú®È°µÈù¢‰ªéÊµèËßàÂô®ÁºìÂ≠ò‰∏≠ËØªÂèñÊó∂‰∏çËß¶Âèë„ÄÇ pagehide‰∫ã‰ª∂ËØ•‰∫ã‰ª∂‰ºöÂú®Áî®Êà∑Á¶ªÂºÄÁΩëÈ°µÊó∂Ëß¶Âèë„ÄÇÁ¶ªÂºÄÁΩëÈ°µÊúâÂ§öÁßçÊñπÂºè„ÄÇÂ¶ÇÁÇπÂáª‰∏Ä‰∏™ÈìæÊé•ÔºåÂà∑Êñ∞È°µÈù¢ÔºåÊèê‰∫§Ë°®ÂçïÔºåÂÖ≥Èó≠ÊµèËßàÂô®Á≠â„ÄÇpagehide ‰∫ã‰ª∂ÊúâÊó∂ÂèØ‰ª•Êõø‰ª£ unload‰∫ã‰ª∂Ôºå‰ΩÜ unload ‰∫ã‰ª∂Ëß¶ÂèëÂêéÊó†Ê≥ïÁºìÂ≠òÈ°µÈù¢„ÄÇ persistedÂ±ûÊÄßpageshow‰∫ã‰ª∂Âíåpagehide‰∫ã‰ª∂ÁöÑeventÂØπË±°ËøòÂåÖÂê´‰∏Ä‰∏™Âêç‰∏∫persistedÁöÑÂ∏ÉÂ∞îÂÄºÂ±ûÊÄß„ÄÇ ÂØπ‰∫épageshow‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÈ°µÈù¢ÊòØ‰ªébfcache‰∏≠Âä†ËΩΩÁöÑÔºåÂàôËøô‰∏™Â±ûÊÄßÁöÑÂÄº‰∏∫trueÔºõÂê¶ÂàôÔºåËøô‰∏™Â±ûÊÄßÁöÑÂÄº‰∏∫false„ÄÇ ÂØπ‰∫épagehide‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÈ°µÈù¢Âú®Âç∏ËΩΩ‰πãÂêéË¢´‰øùÂ≠òÂú®bfcache‰∏≠ÔºåÂàôËøô‰∏™Â±ûÊÄßÁöÑÂÄº‰∏∫trueÔºõÂê¶ÂàôÔºåËøô‰∏™Â±ûÊÄßÁöÑÂÄº‰∏∫false„ÄÇ ‰∏çÂêåÁöÑÊµèËßàÂô®Âú®ÂØπÂΩìÂâçÁ™óÂè£‚ÄòÊâìÂºÄ‚ÄôÂéÜÂè≤ËÆ∞ÂΩï‰∏≠ÁöÑÂâç‰∏Ä‰∏™È°µÈù¢ÁöÑË°®Áé∞‰∏äÂπ∂‰∏çÁªü‰∏ÄÔºåËøôÂíåÊµèËßàÂô®ÁöÑÂÆûÁé∞‰ª•ÂèäÈ°µÈù¢Êú¨Ë∫´ÁöÑËÆæÁΩÆÊúâÂÖ≥Á≥ª„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö javascriptÁõëÂê¨pageshow‰∫ã‰ª∂ÈòªÊ≠¢È°µÈù¢ËøõÂÖ•bfcache window.addEventListener(&apos;pageshow&apos;, function (e) { if (e.persisted) { window.location.reload() } }) Âú®ucÂíåÂæÆ‰ø°‰∏≠ÊµãËØïÈÄöËøáÔºå‰ΩÜÊòØÂú®Êüê‰∫õÂÆâÂçìÊâãÊú∫Ëá™Â∏¶ÁöÑÊµèËßàÂô®‰∏≠Êó†Êïà„ÄÇ javascriptÁõëÂê¨pagehide‰∫ã‰ª∂ÈòªÊ≠¢È°µÈù¢ËøõÂÖ•bfcache window.addEventListener(&apos;pagehide&apos;, function (e) { var dom = document.body; dom.children.remove(); setTimeout(function () { dom.appendChild(&quot;&lt;script type=&apos;text/javascript&apos;&gt;window.location.reload();&lt;\/script&gt;&quot;); }); }); ËÆæÁΩÆmetaÊ†áÁ≠æÔºåÊ∏ÖÈô§È°µÈù¢ÁºìÂ≠ò &lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot; /&gt; &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot; /&gt; &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot; /&gt; Cache-ControlÊåáÂÆöËØ∑Ê±ÇÂíåÂìçÂ∫îÈÅµÂæ™ÁöÑÁºìÂ≠òÊú∫Âà∂„ÄÇÂú®ËØ∑Ê±ÇÊ∂àÊÅØÊàñÂìçÂ∫îÊ∂àÊÅØ‰∏≠ËÆæÁΩÆCache-ControlÂπ∂‰∏ç‰ºö‰øÆÊîπÂè¶‰∏Ä‰∏™Ê∂àÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠ÁöÑÁºìÂ≠òÂ§ÑÁêÜËøáÁ®ã„ÄÇËØ∑Ê±ÇÊó∂ÁöÑÁºìÂ≠òÊåá‰ª§ÂåÖÊã¨no-cache„ÄÅno-store„ÄÅmax-age„ÄÅmax-stale„ÄÅmin-fresh„ÄÅonly-if-cachedÔºåÂìçÂ∫îÊ∂àÊÅØ‰∏≠ÁöÑÊåá‰ª§ÂåÖÊã¨public„ÄÅprivate„ÄÅno-cache„ÄÅno-store„ÄÅno-transform„ÄÅmust-revalidate„ÄÅproxy-revalidate„ÄÅmax-age„ÄÇÂêÑ‰∏™Ê∂àÊÅØ‰∏≠ÁöÑÊåá‰ª§Âê´‰πâÂ¶Ç‰∏ãPublicÊåáÁ§∫ÂìçÂ∫îÂèØË¢´‰ªª‰ΩïÁºìÂ≠òÂå∫ÁºìÂ≠òPrivateÊåáÁ§∫ÂØπ‰∫éÂçï‰∏™Áî®Êà∑ÁöÑÊï¥‰∏™ÊàñÈÉ®ÂàÜÂìçÂ∫îÊ∂àÊÅØÔºå‰∏çËÉΩË¢´ÂÖ±‰∫´ÁºìÂ≠òÂ§ÑÁêÜ„ÄÇËøôÂÖÅËÆ∏ÊúçÂä°Âô®‰ªÖ‰ªÖÊèèËø∞ÂΩìÁî®Êà∑ÁöÑÈÉ®ÂàÜÂìçÂ∫îÊ∂àÊÅØÔºåÊ≠§ÂìçÂ∫îÊ∂àÊÅØÂØπ‰∫éÂÖ∂‰ªñÁî®Êà∑ÁöÑËØ∑Ê±ÇÊó†Êïàno-cacheÊåáÁ§∫ËØ∑Ê±ÇÊàñÂìçÂ∫îÊ∂àÊÅØ‰∏çËÉΩÁºìÂ≠òno-storeÁî®‰∫éÈò≤Ê≠¢ÈáçË¶ÅÁöÑ‰ø°ÊÅØË¢´Êó†ÊÑèÁöÑÂèëÂ∏É„ÄÇÂú®ËØ∑Ê±ÇÊ∂àÊÅØ‰∏≠ÂèëÈÄÅÂ∞Ü‰ΩøÂæóËØ∑Ê±ÇÂíåÂìçÂ∫îÊ∂àÊÅØÈÉΩ‰∏ç‰ΩøÁî®ÁºìÂ≠ò„ÄÇmax-ageÊåáÁ§∫ÂÆ¢Êà∑Êú∫ÂèØ‰ª•Êé•Êî∂ÁîüÂ≠òÊúü‰∏çÂ§ß‰∫éÊåáÂÆöÊó∂Èó¥Ôºà‰ª•Áßí‰∏∫Âçï‰ΩçÔºâÁöÑÂìçÂ∫îmin-freshÊåáÁ§∫ÂÆ¢Êà∑Êú∫ÂèØ‰ª•Êé•Êî∂ÂìçÂ∫îÊó∂Èó¥Â∞è‰∫éÂΩìÂâçÊó∂Èó¥Âä†‰∏äÊåáÂÆöÊó∂Èó¥ÁöÑÂìçÂ∫îmax-staleÊåáÁ§∫ÂÆ¢Êà∑Êú∫ÂèØ‰ª•Êé•Êî∂Ë∂ÖÂá∫Ë∂ÖÊó∂ÊúüÈó¥ÁöÑÂìçÂ∫îÊ∂àÊÅØ„ÄÇÂ¶ÇÊûúÊåáÂÆömax-staleÊ∂àÊÅØÁöÑÂÄºÔºåÈÇ£‰πàÂÆ¢Êà∑Êú∫ÂèØ‰ª•Êé•Êî∂Ë∂ÖÂá∫Ë∂ÖÊó∂ÊúüÊåáÂÆöÂÄº‰πãÂÜÖÁöÑÂìçÂ∫îÊ∂àÊÅØ„ÄÇÊ≥®ÔºöÊúâ‰∫õÊÉÖÂÜµ‰∏ãËÆæÁΩÆÊ∏ÖÈô§ÁºìÂ≠ò‰πüÊ≤°ÊúâËµ∑Âà∞‰ΩúÁî®ÔºåÊàëËá™Â∑±ÂÅöÁöÑËøô‰∏™h5È°µÈù¢Â∞±Ê≤°ÊúâËµ∑Âà∞ÊïàÊûú„ÄÇÂÖ∑‰ΩìÊÉÖÂÜµËøòÊòØË¶ÅÂÖ∑‰ΩìÂàÜÊûê„ÄÇ ÊàëÈÅáÂà∞ÁöÑÊÉÖÂÜµÔºö123&lt;div class=&quot;content&quot;&gt; &lt;iframe id=&quot;iframe&quot; src=&quot;https://cpu.baidu.com/xx/xx/xxx&quot; frameborder=&quot;no&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;&lt;/div&gt; Ëøô‰∏™iframe‰∏≠ÁöÑÂú∞ÂùÄÊØèÊ¨°Âà∑Êñ∞È°µÈù¢ÈÉΩ‰ºöÊúâ‰∏çÂêåÁöÑÂÜÖÂÆπÊé®ÈÄÅÁªôÁî®Êà∑„ÄÇËøõÂÖ•iframe‰∏≠ÁöÑÂÜÖÂÆπ‰πãÂêéÔºåÊåâËøîÂõûÊåâÈíÆËøîÂõûÊù•ÊÉ≥ËøõË°åÈ°µÈù¢Ëá™Âä®Âà∑Êñ∞Ôºå‰∏∫ÁöÑÂ∞±ÊòØËÆ©Áî®Êà∑ÁúãÂà∞Êñ∞ÁöÑÂÜÖÂÆπ„ÄÇ ÂÅöÊ≥ïÔºö ‰ΩøÁî®pageshowËøõË°åÊï¥‰∏™È°µÈù¢Âà∑Êñ∞ window.addEventListener(&apos;pageshow&apos;, function (e) { if (e.persisted) { window.location.reload() } }) ËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞„ÄÇ ÂêéÈù¢ÂèàËßâÂæó‰∏çÂ¶•ÔºåÊ≤°ÊúâÂõ†‰∏∫Ëøô‰∏™Â∞èÈÉ®ÂàÜËÄåËøõË°åÊï¥‰∏™È°µÈù¢Âà∑Êñ∞ÔºåÊÉ≥Âà∞‰∫ÜÂè¶‰∏ÄÁßçÊÄùË∑ØÔºöÂõ†‰∏∫Ëøô‰∏™iframe‰∏≠ÁöÑÂÜÖÂÆπÊòØÂä®ÊÄÅÁöÑÔºåÂèØ‰ª•ÂØπÂÖ∂ËøõË°åÂÆöÊó∂Âô®ËÆæÁΩÆÔºåÂ¶Ç‰∏ãÔºö let iframe = document.getElementById(&apos;iframe&apos;) setInterval(() =&gt; { iframe.setAttribute(&quot;src&quot;, &quot;https://cpu.baidu.com/xx/xx/xx&quot;); },15000) ËøôÊ†∑‰πüÂèØ‰ª•ÂÆûÁé∞Ëá™Â∑±ÁöÑÂäüËÉΩ„ÄÇ ÊúÄÂêéÂèØ‰ª•ÁªìÂêà‰∏Ä‰∏ãÔºö let iframe = document.getElementById(&apos;iframe&apos;) window.addEventListener(&apos;pageshow&apos;, function (e) { if (e.persisted) { iframe.setAttribute(&quot;src&quot;, &quot;https://cpu.baidu.com/xx/xx/xx&quot;); } }) ËøôÊ†∑ÂÅö‰πüÊúâÂ•ΩÂ§ÑÔºåÂèØ‰ª•ÈÅøÂÖç‰ΩøÁî®ÂÆöÊó∂Âô®ÔºåÂØπÁΩëÈ°µÁöÑÊÄßËÉΩ‰πüÊòØÊØîËæÉÂ•Ω„ÄÇ‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïÂú®ËøîÂõûÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÁúãÂà∞iframeÈáåÈù¢ÂÜÖÂÆπÁöÑÈáçÊñ∞Âä†ËΩΩÔºå‰ºöÊúâ‰∏Ä‰∏™Êó∂Èó¥Èó¥Èöô„ÄÇ]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∑®ÂüüÔºå‰Ω†ÈúÄË¶ÅÁü•ÈÅìÁöÑÂÖ®Âú®ËøôÈáå]]></title>
    <url>%2F2016%2F05%2F21%2F%E8%B7%A8%E5%9F%9F%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84%E5%85%A8%E5%9C%A8%E8%BF%99%E9%87%8C%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®Èù¢ËØïÁöÑÊó∂ÂÄôÂ∏∏Ë¢´ÈóÆÂà∞Â¶Ç‰ΩïËß£ÂÜ≥Ë∑®ÂüüÁöÑÈóÆÈ¢òÔºåÁúã‰∫ÜÁΩë‰∏äÁöÑ‰∏Ä‰∫õÊñáÁ´†ÂêéÔºåËÆ∏Â§öÊñáÁ´†Âπ∂Ê≤°Êúâ‰ªãÁªçÊ∏ÖÊ•öÔºåÁªèÂ∏∏‰ΩøËØªËÄÖ(Êàë)ÊÑüÂà∞Âõ∞ÊÉëÔºåÊâÄ‰ª•‰ªäÂ§©ÊàëÊï¥ÁêÜ‰∏Ä‰∏ãÂ∏∏Áî®ÁöÑË∑®ÂüüÊäÄÂ∑ßÔºåÂÜôËøôÁØáÂÖ≥‰∫éË∑®ÂüüÁöÑÊñáÁ´†ÁõÆÁöÑÂú®‰∫éÔºö ‰ªãÁªçÂ∏∏ËßÅÁöÑË∑®ÂüüÁöÑËß£ÂÜ≥ÊñπÊ°à‰ª•ÂèäÂÖ∂‰ºòÁº∫ÁÇπ Ê®°ÊãüÂÆûÈôÖÁöÑË∑®ÂüüÂú∫ÊôØÔºåÂú®ÊØèÁßçÊñπÊ°àÂêéÁªôÂá∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æãÔºåËÉΩÂ§üËÆ©ËØªËÄÖÂíåÊàë‰∏ÄËµ∑Êï≤‰ª£Á†ÅÔºåÁõ¥ËßÇÂú∞ÁêÜËß£Ëøô‰∫õË∑®ÂüüÊäÄÂ∑ß Â¶ÇÊûúËßâÂæóÊú¨ÊñáÊúâÂ∏ÆÂä©ÔºåÂèØ‰ª•ÁÇπ star ÈºìÂä±‰∏ãÔºåÊú¨ÊñáÊâÄÊúâ‰ª£Á†ÅÈÉΩÂèØ‰ª•‰ªé github ‰ªìÂ∫ì‰∏ãËΩΩÔºåËØªËÄÖÂèØ‰ª•ÊåâÁÖß‰∏ãËø∞ÊâìÂºÄ: git clone https://github.com/happylindz/blog.git cd blog/code/crossOrigin/ yarn Âª∫ËÆÆ‰Ω† clone ‰∏ãÊù•ÔºåÊñπ‰æø‰Ω†ÈòÖËØª‰ª£Á†ÅÔºåË∑üÊàë‰∏ÄËµ∑ÊµãËØï„ÄÇ ÂêåÊ∫êÁ≠ñÁï•‰ΩøÁî®Ëøá Ajax ÁöÑÂêåÂ≠¶ÈÉΩÁü•ÈÅìÂÖ∂‰æøÂà©ÊÄßÔºåÂèØ‰ª•Âú®‰∏çÂêëÊúçÂä°Á´ØÊèê‰∫§ÂÆåÊï¥È°µÈù¢ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆûÁé∞Â±ÄÈÉ®Âà∑Êñ∞ÔºåÂú®ÂΩì‰ªä SPA Â∫îÁî®ÊôÆÈÅç‰ΩøÁî®Ôºå‰ΩÜÊòØÊµèËßàÂô®Â§Ñ‰∫éÂØπÂÆâÂÖ®ÊñπÈù¢ÁöÑËÄÉËôëÔºå‰∏çÂÖÅËÆ∏Ë∑®ÂüüË∞ÉÁî®ÂÖ∂ÂÆÉÈ°µÈù¢ÁöÑÂØπË±°ÔºåËøôÂØπ‰∫éÊàë‰ª¨Âú®Ê≥®ÂÖ• iframe ÊàñÊòØ ajax Â∫îÁî®‰∏äÂ∏¶Êù•‰∏çÂ∞ëÈ∫ªÁÉ¶„ÄÇ ÁÆÄÂçïÊù•ËØ¥ÔºåÂè™ÊúâÂΩìÂçèËÆÆÔºåÂüüÂêçÔºåÁ´ØÂè£Âè∑Áõ∏ÂêåÁöÑÊó∂ÂÄôÊâçÁÆóÊòØÂêå‰∏Ä‰∏™ÂüüÂêçÔºåÂê¶ÂàôÔºåÂùáËÆ§‰∏∫ÈúÄË¶ÅÂÅöË∑®ÂüüÂ§ÑÁêÜ„ÄÇ Ë∑®ÂüüÊñπÊ≥ï‰ªäÂ§©‰∏ÄÂÖ±‰ªãÁªç‰∏ÉÁßçÂ∏∏Áî®ÁöÑË∑®ÂüüÊäÄÂ∑ßÔºåÂÖ≥‰∫éË∑®ÂüüÊäÄÂ∑ßÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫ iframe Ë∑®ÂüüÂíå API Ë∑®ÂüüËØ∑Ê±Ç„ÄÇ ‰∏ãÈù¢Â∞±ÂÖà‰ªãÁªç‰∏âÁßç API Ë∑®ÂüüÁöÑÊñπÊ≥ï: 1. JSONPÔºöÂè™Ë¶ÅËØ¥Âà∞Ë∑®ÂüüÔºåÂ∞±ÂøÖÈ°ªËÅäÂà∞ JSONPÔºåJSONP ÂÖ®Áß∞‰∏∫ÔºöJSON with paddingÔºåÂèØÁî®‰∫éËß£ÂÜ≥ËÄÅÁâàÊú¨ÊµèËßàÂô®ÁöÑË∑®ÂüüÊï∞ÊçÆËÆøÈóÆÈóÆÈ¢ò„ÄÇ Áî±‰∫é web È°µÈù¢‰∏äË∞ÉÁî® js Êñá‰ª∂‰∏çÂèóÊµèËßàÂô®ÂêåÊ∫êÁ≠ñÁï•ÁöÑÂΩ±ÂìçÔºåÊâÄ‰ª•ÈÄöËøá script Ê†áÁ≠æÂèØ‰ª•ËøõË°åË∑®ÂüüËØ∑Ê±ÇÔºö È¶ñÂÖàÂâçÁ´ØÈúÄË¶ÅÂÖàËÆæÁΩÆÂ•ΩÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ url ÁöÑÂèÇÊï∞„ÄÇ ÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÈÄöËøáËØ•ÂèÇÊï∞Ëé∑ÂèñÂà∞ÂõûË∞ÉÂáΩÊï∞ÂêçÔºåÂπ∂Â∞ÜÊï∞ÊçÆÊîæÂú®ÂèÇÊï∞‰∏≠Â∞ÜÂÖ∂ËøîÂõû Êî∂Âà∞ÁªìÊûúÂêéÂõ†‰∏∫ÊòØ script Ê†áÁ≠æÔºåÊâÄ‰ª•ÊµèËßàÂô®‰ºöÂΩìÂÅöÊòØËÑöÊú¨ËøõË°åËøêË°åÔºå‰ªéËÄåËææÂà∞Ë∑®ÂüüËé∑ÂèñÊï∞ÊçÆÁöÑÁõÆÁöÑ jsonp ‰πãÊâÄ‰ª•ËÉΩÂ§üË∑®ÂüüÁöÑÂÖ≥ÈîÆÂú®‰∫éÈ°µÈù¢Ë∞ÉÁî® JS ËÑöÊú¨ÊòØ‰∏çÂèóÂêåÊ∫êÁ≠ñÁï•ÁöÑÂΩ±ÂìçÔºåÁõ∏ÂΩì‰∫éÂêëÂêéÁ´ØÂèëËµ∑‰∏ÄÊù° http ËØ∑Ê±ÇÔºåË∑üÂêéÁ´ØÁ∫¶ÂÆöÂ•ΩÂáΩÊï∞ÂêçÔºåÂêéÁ´ØÊãøÂà∞ÂáΩÊï∞ÂêçÔºåÂä®ÊÄÅËÆ°ÁÆóÂá∫ËøîÂõûÁªìÊûúÂπ∂ËøîÂõûÁªôÂâçÁ´ØÊâßË°å JS ËÑöÊú¨ÔºåÁõ∏ÂΩì‰∫éÊòØ‰∏ÄÁßç ‚ÄúÂä®ÊÄÅ JS ËÑöÊú¨‚Äù Êé•‰∏ãÊù•Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™ÂÆû‰æãÊù•Â∞ùËØïÔºö ÂêéÁ´ØÈÄªËæëÔºö // jsonp/server.js const url = require(&apos;url&apos;); require(&apos;http&apos;).createServer((req, res) =&gt; { const data = { x: 10 }; // ÊãøÂà∞ÂõûË∞ÉÂáΩÊï∞Âêç const callback = url.parse(req.url, true).query.callback; console.log(callback); res.writeHead(200); res.end(`${callback}(${JSON.stringify(data)})`); }).listen(3000, &apos;127.0.0.1&apos;); console.log(&apos;ÂêØÂä®ÊúçÂä°ÔºåÁõëÂê¨ 127.0.0.1:3000&apos;); ÂâçÁ´ØÈÄªËæëÔºö // jsonp/index.html &lt;script&gt; function jsonpCallback(data) { alert(&apos;Ëé∑Âæó X Êï∞ÊçÆ:&apos; + data.x); } &lt;/script&gt; &lt;script src=&quot;http://127.0.0.1:3000?callback=jsonpCallback&quot;&gt;&lt;/script&gt; ÁÑ∂ÂêéÂú®ÁªàÁ´ØÂºÄÂêØÊúçÂä°Ôºö ‰πãÊâÄ‰ª•ËÉΩÁî®ËÑöÊú¨Êåá‰ª§ÔºåÊòØÂõ†‰∏∫ÊàëÂú® package.json ÈáåÈù¢ËÆæÁΩÆÂ•Ω‰∫ÜËÑöÊú¨ÂëΩ‰ª§Ôºö { // ËæìÂÖ• yarn jsonp Á≠â‰∫é &quot;node ./jsonp/server.js &amp; http-server ./jsonp&quot; &quot;scripts&quot;: { &quot;jsonp&quot;: &quot;node ./jsonp/server.js &amp; http-server ./jsonp&quot;, &quot;cors&quot;: &quot;node ./cors/server.js &amp; http-server ./cors&quot;, &quot;proxy&quot;: &quot;node ./serverProxy/server.js&quot;, &quot;hash&quot;: &quot;http-server ./hash/client/ -p 8080 &amp; http-server ./hash/server/ -p 8081&quot;, &quot;name&quot;: &quot;http-server ./name/client/ -p 8080 &amp; http-server ./name/server/ -p 8081&quot;, &quot;postMessage&quot;: &quot;http-server ./postMessage/client/ -p 8080 &amp; http-server ./postMessage/server/ -p 8081&quot;, &quot;domain&quot;: &quot;http-server ./domain/client/ -p 8080 &amp; http-server ./domain/server/ -p 8081&quot; }, // ... } yarn jsonp // Âõ†‰∏∫Á´ØÂè£ 3000 Âíå 8080 ÂàÜÂà´Â±û‰∫é‰∏çÂêåÂüüÂêç‰∏ã // Âú® localhost:3000 Êü•ÁúãÊïàÊûúÔºåÂç≥ÂèØÊî∂Âà∞ÂêéÂè∞ËøîÂõûÁöÑÊï∞ÊçÆ 10 ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆ localhost:8080 Âç≥ÂèØÁúãÂà∞Ëé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆ„ÄÇ Ëá≥Ê≠§ÔºåÈÄöËøá JSONP Ë∑®ÂüüËé∑ÂèñÊï∞ÊçÆÂ∑≤ÁªèÊàêÂäü‰∫ÜÔºå‰ΩÜÊòØÈÄöËøáËøôÁßçÊñπÂºè‰πüÂ≠òÂú®ÁùÄ‰∏ÄÂÆöÁöÑ‰ºòÁº∫ÁÇπÔºö ‰ºòÁÇπÔºö ÂÆÉ‰∏çÂÉèXMLHttpRequest ÂØπË±°ÂÆûÁé∞ Ajax ËØ∑Ê±ÇÈÇ£Ê†∑ÂèóÂà∞ÂêåÊ∫êÁ≠ñÁï•ÁöÑÈôêÂà∂ ÂÖºÂÆπÊÄßÂæàÂ•ΩÔºåÂú®Âè§ËÄÅÁöÑÊµèËßàÂô®‰πüËÉΩÂæàÂ•ΩÁöÑËøêË°å ‰∏çÈúÄË¶Å XMLHttpRequest Êàñ ActiveX ÁöÑÊîØÊåÅÔºõÂπ∂‰∏îÂú®ËØ∑Ê±ÇÂÆåÊØïÂêéÂèØ‰ª•ÈÄöËøáË∞ÉÁî® callback ÁöÑÊñπÂºèÂõû‰º†ÁªìÊûú„ÄÇ Áº∫ÁÇπÔºö ÂÆÉÊîØÊåÅ GET ËØ∑Ê±ÇËÄå‰∏çÊîØÊåÅ POST Á≠âÂÖ∂ÂÆÉÁ±ªË°åÁöÑ HTTP ËØ∑Ê±Ç„ÄÇ ÂÆÉÂè™ÊîØÊåÅË∑®Âüü HTTP ËØ∑Ê±ÇËøôÁßçÊÉÖÂÜµÔºå‰∏çËÉΩËß£ÂÜ≥‰∏çÂêåÂüüÁöÑ‰∏§‰∏™È°µÈù¢Êàñ iframe ‰πãÈó¥ËøõË°åÊï∞ÊçÆÈÄö‰ø°ÁöÑÈóÆÈ¢ò Êó†Ê≥ïÊçïËé∑ Jsonp ËØ∑Ê±ÇÊó∂ÁöÑËøûÊé•ÂºÇÂ∏∏ÔºåÂè™ËÉΩÈÄöËøáË∂ÖÊó∂ËøõË°åÂ§ÑÁêÜ CORS:CORS ÊòØ‰∏Ä‰∏™ W3C Ê†áÂáÜÔºåÂÖ®Áß∞ÊòØ‚ÄùË∑®ÂüüËµÑÊ∫êÂÖ±‰∫´‚ÄùÔºàCross-origin resource sharingÔºâÂÆÉÂÖÅËÆ∏ÊµèËßàÂô®ÂêëË∑®Ê∫êÊúçÂä°Âô®ÔºåÂèëÂá∫ XMLHttpRequest ËØ∑Ê±ÇÔºå‰ªéËÄåÂÖãÊúç‰∫Ü ajax Âè™ËÉΩÂêåÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇ CORS ÈúÄË¶ÅÊµèËßàÂô®ÂíåÊúçÂä°Âô®ÂêåÊó∂ÊîØÊåÅÊâçÂèØ‰ª•ÁîüÊïàÔºåÂØπ‰∫éÂºÄÂèëËÄÖÊù•ËØ¥ÔºåCORS ÈÄö‰ø°‰∏éÂêåÊ∫êÁöÑ ajax ÈÄö‰ø°Ê≤°ÊúâÂ∑ÆÂà´Ôºå‰ª£Á†ÅÂÆåÂÖ®‰∏ÄÊ†∑„ÄÇÊµèËßàÂô®‰∏ÄÊó¶ÂèëÁé∞ ajax ËØ∑Ê±ÇË∑®Ê∫êÔºåÂ∞±‰ºöËá™Âä®Ê∑ªÂä†‰∏Ä‰∫õÈôÑÂä†ÁöÑÂ§¥‰ø°ÊÅØÔºåÊúâÊó∂Ëøò‰ºöÂ§öÂá∫‰∏ÄÊ¨°ÈôÑÂä†ÁöÑËØ∑Ê±ÇÔºå‰ΩÜÁî®Êà∑‰∏ç‰ºöÊúâÊÑüËßâ„ÄÇ Âõ†Ê≠§ÔºåÂÆûÁé∞ CORS ÈÄö‰ø°ÁöÑÂÖ≥ÈîÆÊòØÊúçÂä°Âô®„ÄÇÂè™Ë¶ÅÊúçÂä°Âô®ÂÆûÁé∞‰∫Ü CORS Êé•Âè£ÔºåÂ∞±ÂèØ‰ª•Ë∑®ÂüüÈÄö‰ø°„ÄÇ ÂâçÁ´ØÈÄªËæëÂæàÁÆÄÂçïÔºåÂè™Ë¶ÅÊ≠£Â∏∏ÂèëËµ∑ ajax ËØ∑Ê±ÇÂç≥ÂèØ: // cors/index.html &lt;script&gt; const xhr = new XMLHttpRequest(); xhr.open(&apos;GET&apos;, &apos;http://127.0.0.1:3000&apos;, true); xhr.onreadystatechange = function() { if(xhr.readyState === 4 &amp;&amp; xhr.status === 200) { alert(xhr.responseText); } } xhr.send(null); &lt;/script&gt; Ëøô‰ºº‰πéË∑ü‰∏ÄÊ¨°Ê≠£Â∏∏ÁöÑÂºÇÊ≠• ajax ËØ∑Ê±ÇÊ≤°Êúâ‰ªÄ‰πàÂå∫Âà´ÔºåÂÖ≥ÈîÆÊòØÂú®ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÁöÑÂ§ÑÁêÜÔºö // cors/server.js require(&apos;http&apos;).createServer((req, res) =&gt; { res.writeHead(200, { &apos;Access-Control-Allow-Origin&apos;: &apos;http://localhost:8080&apos;, &apos;Content-Type&apos;: &apos;text/html;charset=utf-8&apos;, }); res.end(&apos;ËøôÊòØ‰Ω†Ë¶ÅÁöÑÊï∞ÊçÆÔºö1111&apos;); }).listen(3000, &apos;127.0.0.1&apos;); console.log(&apos;ÂêØÂä®ÊúçÂä°ÔºåÁõëÂê¨ 127.0.0.1:3000&apos;); ÂÖ≥ÈîÆÊòØÂú®‰∫éËÆæÁΩÆÁõ∏Â∫îÂ§¥‰∏≠ÁöÑ Access-Control-Allow-OriginÔºåËØ•ÂÄºË¶Å‰∏éËØ∑Ê±ÇÂ§¥‰∏≠ Origin ‰∏ÄËá¥ÊâçËÉΩÁîüÊïàÔºåÂê¶ÂàôÂ∞ÜË∑®ÂüüÂ§±Ë¥•„ÄÇ ÁÑ∂ÂêéÊàë‰ª¨ÊâßË°åÂëΩ‰ª§Ôºöyarn cors ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆ localhost:3000 Âç≥ÂèØÁúãÂà∞ÊïàÊûúÔºö ÊàêÂäüÁöÑÂÖ≥ÈîÆÂú®‰∫é Access-Control-Allow-Origin ÊòØÂê¶ÂåÖÂê´ËØ∑Ê±ÇÈ°µÈù¢ÁöÑÂüüÂêçÔºåÂ¶ÇÊûú‰∏çÂåÖÂê´ÁöÑËØùÔºåÊµèËßàÂô®Â∞ÜËÆ§‰∏∫ËøôÊòØ‰∏ÄÊ¨°Â§±Ë¥•ÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÔºåÂ∞Ü‰ºöË∞ÉÁî® xhr.onerror ‰∏≠ÁöÑÂáΩÊï∞„ÄÇ CORS ÁöÑ‰ºòÁº∫ÁÇπÔºö ‰ΩøÁî®ÁÆÄÂçïÊñπ‰æøÔºåÊõ¥‰∏∫ÂÆâÂÖ® ÊîØÊåÅ POST ËØ∑Ê±ÇÊñπÂºè CORS ÊòØ‰∏ÄÁßçÊñ∞ÂûãÁöÑË∑®ÂüüÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ≠òÂú®ÂÖºÂÆπÈóÆÈ¢òÔºå‰ªÖÊîØÊåÅ IE 10 ‰ª•‰∏ä ËøôÈáåÂè™ÊòØÂØπ CORS ÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ªãÁªçÔºåÂ¶ÇÊûúÊÉ≥Êõ¥ËØ¶ÁªÜÂú∞‰∫ÜËß£ÂÖ∂ÂéüÁêÜÁöÑËØùÔºåÂèØ‰ª•ÁúãÁúã‰∏ãÈù¢ËøôÁØáÊñáÁ´†Ôºö Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´ CORS ËØ¶Ëß£ - ÈòÆ‰∏ÄÂ≥∞ÁöÑÁΩëÁªúÊó•Âøó 3. ÊúçÂä°Á´Ø‰ª£ÁêÜÔºöÊúçÂä°Âô®‰ª£ÁêÜÔºåÈ°æÂêçÊÄù‰πâÔºåÂΩì‰Ω†ÈúÄË¶ÅÊúâË∑®ÂüüÁöÑËØ∑Ê±ÇÊìç‰ΩúÊó∂ÂèëÈÄÅËØ∑Ê±ÇÁªôÂêéÁ´ØÔºåËÆ©ÂêéÁ´ØÂ∏Æ‰Ω†‰ª£‰∏∫ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÊúÄÂêéÂ∞ÜËé∑ÂèñÁöÑÁªìÊûúÂèëÈÄÅÁªô‰Ω†„ÄÇ ÂÅáËÆæÊúâËøôÊ†∑ÁöÑ‰∏Ä‰∏™Âú∫ÊôØÔºå‰Ω†ÁöÑÈ°µÈù¢ÈúÄË¶ÅËé∑Âèñ CNodeÔºöNode.js‰∏ì‰∏ö‰∏≠ÊñáÁ§æÂå∫ ËÆ∫Âùõ‰∏ä‰∏Ä‰∫õÊï∞ÊçÆÔºåÂ¶ÇÈÄöËøá https://cnodejs.org/api/v1/topicsÔºåÂΩìÊó∂Âõ†‰∏∫‰∏çÂêåÂüüÔºåÊâÄ‰ª•‰Ω†ÂèØ‰ª•Â∞ÜËØ∑Ê±ÇÂêéÁ´ØÔºåËÆ©ÂÖ∂ÂØπËØ•ËØ∑Ê±Ç‰ª£‰∏∫ËΩ¨Âèë„ÄÇ ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö // serverProxy/server.js const url = require(&apos;url&apos;); const http = require(&apos;http&apos;); const https = require(&apos;https&apos;); const server = http.createServer((req, res) =&gt; { const path = url.parse(req.url).path.slice(1); if(path === &apos;topics&apos;) { https.get(&apos;https://cnodejs.org/api/v1/topics&apos;, (resp) =&gt; { let data = &quot;&quot;; resp.on(&apos;data&apos;, chunk =&gt; { data += chunk; }); resp.on(&apos;end&apos;, () =&gt; { res.writeHead(200, { &apos;Content-Type&apos;: &apos;application/json; charset=utf-8&apos; }); res.end(data); }); }) } }).listen(3000, &apos;127.0.0.1&apos;); console.log(&apos;ÂêØÂä®ÊúçÂä°ÔºåÁõëÂê¨ 127.0.0.1:3000&apos;); ÈÄöËøá‰ª£Á†Å‰Ω†ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩì‰Ω†ËÆøÈóÆ http://127.0.0.1:3000/topics ÁöÑÊó∂ÂÄôÔºåÊúçÂä°Âô®Êî∂Âà∞ËØ∑Ê±ÇÔºå‰ºö‰ª£‰Ω†ÂèëÈÄÅËØ∑Ê±Ç https://cnodejs.org/api/v1/topics ÊúÄÂêéÂ∞ÜËé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆÂèëÈÄÅÁªôÊµèËßàÂô®„ÄÇ ÂêØÂä®ÊúçÂä° yarn proxy Âπ∂ËÆøÈóÆ http://localhost:3000/topics Âç≥ÂèØÁúãÂà∞ÊïàÊûúÔºö Ë∑®ÂüüËØ∑Ê±ÇÊàêÂäü„ÄÇÁ∫ØÁ≤πÁöÑËé∑ÂèñË∑®ÂüüËé∑ÂèñÂêéÁ´ØÊï∞ÊçÆÁöÑËØ∑Ê±ÇÁöÑÊñπÂºèÂ∑≤Áªè‰ªãÁªçÂÆå‰∫ÜÔºåÂè¶Â§ñ‰ªãÁªçÂõõÁßçÈÄöËøá iframe Ë∑®Âüü‰∏éÂÖ∂ÂÆÉÈ°µÈù¢ÈÄö‰ø°ÁöÑÊñπÂºè„ÄÇ location.hashÔºöÂú® url ‰∏≠Ôºåhttp://www.baidu.com#helloworld ÁöÑ ‚Äú#helloworld‚Äù Â∞±ÊòØ location.hashÔºåÊîπÂèò hash ÂÄº‰∏ç‰ºöÂØºËá¥È°µÈù¢Âà∑Êñ∞ÔºåÊâÄ‰ª•ÂèØ‰ª•Âà©Áî® hash ÂÄºÊù•ËøõË°åÊï∞ÊçÆÁöÑ‰º†ÈÄíÔºåÂΩìÁÑ∂Êï∞ÊçÆÈáèÊòØÊúâÈôêÁöÑ„ÄÇ ÂÅáËÆæ localhost:8080 ‰∏ãÊúâÊñá‰ª∂ index.html Ë¶ÅÂíå localhost:8081 ‰∏ãÁöÑ data.html ‰º†ÈÄíÊ∂àÊÅØÔºåindex.html È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÈöêËóèÁöÑ iframeÔºåiframe ÁöÑ src ÊåáÂêë localhost:8081/data.htmlÔºåËøôÊó∂ÁöÑ hash ÂÄºÂ∞±ÂèØ‰ª•ÂÅöÂèÇÊï∞‰º†ÈÄí„ÄÇ // hash/client/index.html ÂØπÂ∫î localhost:8080/index.html &lt;script&gt; let ifr = document.createElement(&apos;iframe&apos;); ifr.style.display = &apos;none&apos;; ifr.src = &quot;http://localhost:8081/data.html#data&quot;; document.body.appendChild(ifr); function checkHash() { try { let data = location.hash ? location.hash.substring(1) : &apos;&apos;; console.log(&apos;Ëé∑ÂæóÂà∞ÁöÑÊï∞ÊçÆÊòØÔºö&apos;, data); }catch(e) { } } window.addEventListener(&apos;hashchange&apos;, function(e) { console.log(&apos;Ëé∑ÂæóÁöÑÊï∞ÊçÆÊòØÔºö&apos;, location.hash.substring(1)); }); &lt;/script&gt; data.html Êî∂Âà∞Ê∂àÊÅØÂêéÈÄöËøá parent.location.hash ÂÄºÊù•‰øÆÊîπ index.html ÁöÑ hash ÂÄºÔºå‰ªéËÄåËææÂà∞Êï∞ÊçÆ‰º†ÈÄí„ÄÇ // hash/server/data.html ÂØπÂ∫î localhost:8081/data.html &lt;script&gt; switch(location.hash) { case &quot;#data&quot;: callback(); break; } function callback() { const data = &quot;data.html ÁöÑÊï∞ÊçÆ&quot; try { parent.location.hash = data; }catch(e) { // ie, chrome ‰∏ãÁöÑÂÆâÂÖ®Êú∫Âà∂Êó†Ê≥ï‰øÆÊîπ parent.location.hash // ÊâÄ‰ª•Ë¶ÅÂà©Áî®‰∏Ä‰∏™‰∏≠Èó¥ÁöÑ‰ª£ÁêÜ iframe var ifrproxy = document.createElement(&apos;iframe&apos;); ifrproxy.style.display = &apos;none&apos;; ifrproxy.src = &apos;http://localhost:8080/proxy.html#&apos; + data; // ËØ•Êñá‰ª∂Âú® client ÂüüÂêçÁöÑÂüü‰∏ã document.body.appendChild(ifrproxy); } } &lt;/script&gt; Áî±‰∫é‰∏§‰∏™È°µÈù¢‰∏çÂú®Âêå‰∏Ä‰∏™Âüü‰∏ã IE„ÄÅChrome ‰∏çÂÖÅËÆ∏‰øÆÊîπ parent.location.hash ÁöÑÂÄºÔºåÊâÄ‰ª•Ë¶ÅÂÄüÂä©‰∫é localhost:8080 ÂüüÂêç‰∏ãÁöÑ‰∏Ä‰∏™‰ª£ÁêÜ iframe ÁöÑ proxy.html È°µÈù¢ // hash/client/proxy.html ÂØπÂ∫î localhost:8080/proxy.html &lt;script&gt; parent.parent.location.hash = self.location.hash.substring(1); &lt;/script&gt; ‰πãÂêéÂêØÂä®ÊúçÂä° yarn hashÔºåÂç≥ÂèØÂú® localhost:8080 ‰∏ãËßÇÂØüÂà∞Ôºö ÂΩìÁÑ∂ËøôÁßçÊñπÊ≥ïÂ≠òÂú®ÁùÄËØ∏Â§öÁöÑÁº∫ÁÇπÔºö Êï∞ÊçÆÁõ¥Êé•Êö¥Èú≤Âú®‰∫Ü url ‰∏≠ Êï∞ÊçÆÂÆπÈáèÂíåÁ±ªÂûãÈÉΩÊúâÈôêÁ≠âÁ≠â window.name:window.nameÔºà‰∏ÄËà¨Âú® js ‰ª£Á†ÅÈáåÂá∫Áé∞ÔºâÁöÑÂÄº‰∏çÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂÖ®Â±ÄÂèòÈáèÔºåËÄåÊòØÂΩìÂâçÁ™óÂè£ÁöÑÂêçÂ≠óÔºåËøôÈáåË¶ÅÊ≥®ÊÑèÁöÑÊòØÊØè‰∏™ iframe ÈÉΩÊúâÂåÖË£πÂÆÉÁöÑ windowÔºåËÄåËøô‰∏™ window ÊòØ top window ÁöÑÂ≠êÁ™óÂè£ÔºåËÄåÂÆÉËá™ÁÑ∂‰πüÊúâ window.name ÁöÑÂ±ûÊÄßÔºåwindow.name Â±ûÊÄßÁöÑÁ•ûÂ•á‰πãÂ§ÑÂú®‰∫é name ÂÄºÂú®‰∏çÂêåÁöÑÈ°µÈù¢ÔºàÁîöËá≥‰∏çÂêåÂüüÂêçÔºâÂä†ËΩΩÂêé‰æùÊóßÂ≠òÂú®ÔºàÂ¶ÇÊûúÊ≤°‰øÆÊîπÂàôÂÄº‰∏ç‰ºöÂèòÂåñÔºâÔºåÂπ∂‰∏îÂèØ‰ª•ÊîØÊåÅÈùûÂ∏∏ÈïøÁöÑ name ÂÄºÔºà2MBÔºâ„ÄÇ ‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö ‰Ω†Âú®Êüê‰∏™È°µÈù¢ÁöÑÊéßÂà∂Âè∞ËæìÂÖ•Ôºö window.name = &quot;Hello World&quot; window.location = &quot;http://www.baidu.com&quot; È°µÈù¢Ë∑≥ËΩ¨Âà∞‰∫ÜÁôæÂ∫¶È¶ñÈ°µÔºå‰ΩÜÊòØ window.name Âç¥Ë¢´‰øùÂ≠ò‰∫Ü‰∏ãÊù•ÔºåËøòÊòØ Hello WorldÔºåË∑®ÂüüËß£ÂÜ≥ÊñπÊ°à‰ºº‰πéÂèØ‰ª•Âëº‰πãÊ¨≤Âá∫‰∫ÜÔºö ÂâçÁ´ØÈÄªËæëÔºö // name/client/index.html ÂØπÂ∫î localhost:8080/index.html &lt;script&gt; let data = &apos;&apos;; const ifr = document.createElement(&apos;iframe&apos;); ifr.src = &quot;http://localhost:8081/data.html&quot;; ifr.style.display = &apos;none&apos;; document.body.appendChild(ifr); ifr.onload = function() { ifr.onload = function() { data = ifr.contentWindow.name; console.log(&apos;Êî∂Âà∞Êï∞ÊçÆ:&apos;, data); } ifr.src = &quot;http://localhost:8080/proxy.html&quot;; } &lt;/script&gt; Êï∞ÊçÆÈ°µÈù¢Ôºö // name/server/data.html ÂØπÂ∫î localhost:8081/data.html &lt;script&gt; window.name = &quot;data.html ÁöÑÊï∞ÊçÆ!&quot;; &lt;/script&gt; localhost:8080index.html Âú®ËØ∑Ê±ÇÊï∞ÊçÆÁ´Ø localhost:8081/data.html Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ËØ•È°µÈù¢Êñ∞Âª∫‰∏Ä‰∏™ iframeÔºåËØ• iframe ÁöÑ src ÊåáÂêëÊï∞ÊçÆÁ´ØÂú∞ÂùÄ(Âà©Áî® iframe Ê†áÁ≠æÁöÑË∑®ÂüüËÉΩÂäõ)ÔºåÊï∞ÊçÆÁ´ØÊñá‰ª∂ËÆæÁΩÆÂ•Ω window.name ÁöÑÂÄº„ÄÇ ‰ΩÜÊòØÁî±‰∫é index.html È°µÈù¢‰∏éËØ•È°µÈù¢ iframe ÁöÑ src Â¶ÇÊûú‰∏çÂêåÊ∫êÁöÑËØùÔºåÂàôÊó†Ê≥ïÊìç‰Ωú iframe ÈáåÁöÑ‰ªª‰Ωï‰∏úË•øÔºåÊâÄ‰ª•Â∞±Âèñ‰∏çÂà∞ iframe ÁöÑ name ÂÄºÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú® data.html Âä†ËΩΩÂÆåÂêéÈáçÊñ∞Êç¢‰∏™ src ÂéªÊåáÂêë‰∏Ä‰∏™ÂêåÊ∫êÁöÑ html Êñá‰ª∂ÔºåÊàñËÄÖËÆæÁΩÆÊàê ‚Äòabout:blank;‚Äô ÈÉΩË°åÔºåËøôÊó∂ÂÄôÊàëÂè™Ë¶ÅÂú® index.html Áõ∏ÂêåÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™ proxy.html ÁöÑÁ©∫È°µÈù¢Âç≥ÂèØ„ÄÇÂ¶ÇÊûú‰∏çÈáçÊñ∞ÊåáÂêë src ÁöÑËØùÁõ¥Êé•Ëé∑ÂèñÁöÑ window.name ÁöÑËØù‰ºöÊä•ÈîôÔºö ‰πãÂêéËøêË°å yarn name Âç≥ÂèØÁúãÂà∞ÊïàÊûúÔºö 6.postMessagepostMessage ÊòØ HTML5 Êñ∞Â¢ûÂä†ÁöÑ‰∏ÄÈ°πÂäüËÉΩÔºåË∑®ÊñáÊ°£Ê∂àÊÅØ‰º†Ëæì(Cross Document Messaging)ÔºåÁõÆÂâçÔºöChrome 2.0+„ÄÅInternet Explorer 8.0+, Firefox 3.0+, Opera 9.6+, Âíå Safari 4.0+ ÈÉΩÊîØÊåÅËøôÈ°πÂäüËÉΩÔºå‰ΩøÁî®Ëµ∑Êù•‰πüÁâπÂà´ÁÆÄÂçï„ÄÇ ÂâçÁ´ØÈÄªËæëÔºö // postMessage/client/index.html ÂØπÂ∫î localhost:8080/index.html &lt;iframe src=&quot;http://localhost:8081/data.html&quot; style=&apos;display: none;&apos;&gt;&lt;/iframe&gt; &lt;script&gt; window.onload = function() { let targetOrigin = &apos;http://localhost:8081&apos;; window.frames[0].postMessage(&apos;index.html ÁöÑ data!&apos;, targetOrigin); } window.addEventListener(&apos;message&apos;, function(e) { console.log(&apos;index.html Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ:&apos;, e.data); }); &lt;/script&gt; ÂàõÂª∫‰∏Ä‰∏™ iframeÔºå‰ΩøÁî® iframe ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ï postMessage ÂèØ‰ª•ÊÉ≥ http://localhost:8081/data.html ÂèëÈÄÅÊ∂àÊÅØÔºåÁÑ∂ÂêéÁõëÂê¨ messageÔºåÂèØ‰ª•Ëé∑ÂæóÂÖ∂ÊñáÊ°£ÂèëÊù•ÁöÑÊ∂àÊÅØ„ÄÇ Êï∞ÊçÆÁ´ØÈÄªËæëÔºö // postMessage/server/data.html ÂØπÂ∫î localhost:8081/data.html &lt;script&gt; window.addEventListener(&apos;message&apos;, function(e) { if(e.source != window.parent) { return; } let data = e.data; console.log(&apos;data.html Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ:&apos;, data); parent.postMessage(&apos;data.html ÁöÑ data!&apos;, e.origin); }); &lt;/script&gt; ÂêØÂä®ÊúçÂä°Ôºöyarn postMessage Âπ∂ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºö ÂØπ postMessage ÊÑüÂÖ¥Ë∂£ÁöÑËØ¶ÁªÜÂÜÖÂÆπÂèØ‰ª•ÁúãÁúãÊïôÁ®ãÔºö PostMessage_ÁôæÂ∫¶ÁôæÁßëWindow.postMessage() 7.document.domainÂØπ‰∫é‰∏ªÂüüÁõ∏ÂêåËÄåÂ≠êÂüü‰∏çÂêåÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ document.domain ÁöÑÂäûÊ≥ïÊù•Ëß£ÂÜ≥ÔºåÂÖ∑‰ΩìÂÅöÊ≥ïÊòØÂèØ‰ª•Âú® http://www.example.com/index.html Âíå http://sub.example.com/data.html ‰∏§‰∏™Êñá‰ª∂ÂàÜÂà´Âä†‰∏ä document.domain = &quot;example.com&quot; ÁÑ∂ÂêéÈÄöËøá index.html Êñá‰ª∂ÂàõÂª∫‰∏Ä‰∏™ iframeÔºåÂéªÊéßÂà∂ iframe ÁöÑ windowÔºå‰ªéËÄåËøõË°å‰∫§‰∫íÔºåÂΩìÁÑ∂ËøôÁßçÊñπÊ≥ïÂè™ËÉΩËß£ÂÜ≥‰∏ªÂüüÁõ∏ÂêåËÄå‰∫åÁ∫ßÂüüÂêç‰∏çÂêåÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊûú‰Ω†ÂºÇÊÉ≥Â§©ÂºÄÁöÑÊää script.example.com ÁöÑ domain ËÆæ‰∏∫ qq.com ÊòæÁÑ∂ÊòØÊ≤°Áî®ÁöÑÔºåÈÇ£‰πàÂ¶Ç‰ΩïÊµãËØïÂë¢Ôºü ÊµãËØïÁöÑÊñπÂºèÁ®çÂæÆÂ§çÊùÇÁÇπÔºåÈúÄË¶ÅÂÆâË£Ö nginx ÂÅöÂüüÂêçÊò†Â∞ÑÔºåÂ¶ÇÊûú‰Ω†ÁîµËÑëÊ≤°ÊúâÂÆâË£Ö nginxÔºåËØ∑ÂÖàÂéªÂÆâË£Ö‰∏Ä‰∏ã: nginx ÂâçÁ´ØÈÄªËæëÔºö // domain/client/index.html ÂØπÂ∫î sub1.example.com/index.html &lt;script&gt; document.domain = &apos;example.com&apos;; let ifr = document.createElement(&apos;iframe&apos;); ifr.src = &apos;http://sub2.example.com/data.html&apos;; ifr.style.display = &apos;none&apos;; document.body.append(ifr); ifr.onload = function() { let win = ifr.contentWindow; alert(win.data); } &lt;/script&gt; Êï∞ÊçÆÁ´ØÈÄªËæëÔºö // domain/server/data ÂØπÂ∫î sub2.example.com/data.html &lt;script&gt; document.domain = &apos;example.com&apos;; window.data = &apos;data.html ÁöÑÊï∞ÊçÆÔºÅ&apos;; &lt;/script&gt; ÊâìÂºÄÊìç‰ΩúÁ≥ªÁªü‰∏ãÁöÑ hosts Êñá‰ª∂Ôºömac ÊòØ‰Ωç‰∫é /etc/hosts Êñá‰ª∂ÔºåÂπ∂Ê∑ªÂä†Ôºö 127.0.0.1 sub1.example.com 127.0.0.1 sub2.example.com ‰πãÂêéÊâìÂºÄ nginx ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö/usr/local/etc/nginx/nginx.confÔºåÂπ∂Âú® http Ê®°ÂùóÈáåÊ∑ªÂä†ÔºåËÆ∞ÂæóËæìÂÖ• nginx ÂêØÂä® nginx ÊúçÂä°Ôºö /usr/local/etc/nginx/nginx.conf http { // ... server { listen 80; server_name sub1.example.com; location / { proxy_pass http://127.0.0.1:8080/; } } server { listen 80; server_name sub2.example.com; location / { proxy_pass http://127.0.0.1:8081/; } } // ... } Áõ∏ÂΩì‰∫éÊòØËÆ≤ sub1.example.com Âíå sub2.example.com Ëøô‰∫õÂüüÂêçÂú∞ÂùÄÊåáÂêëÊú¨Âú∞ 127.0.0.1:80ÔºåÁÑ∂ÂêéÁî® nginx ÂÅöÂèçÂêë‰ª£ÁêÜÂàÜÂà´Êò†Â∞ÑÂà∞ 8080 Âíå 8081 Á´ØÂè£„ÄÇ ËøôÊ†∑ËÆøÈóÆ sub1(2).example.com Á≠â‰∫éËÆøÈóÆ 127.0.0.1:8080(1) ÂêØÂä®ÊúçÂä° yarn domain ËÆøÈóÆÊµèËßàÂô®Âç≥ÂèØÁúãÂà∞ÊïàÊûúÔºö ÊÄªÁªìÔºöÂâçÈù¢‰∏ÉÁßçË∑®ÂüüÊñπÂºèÊàëÂ∑≤ÁªèÂÖ®ÈÉ®ËÆ≤ÂÆåÔºåÂÖ∂ÂÆûËÆ≤ÈÅìÁêÜÔºåÂ∏∏Áî®ÁöÑ‰πüÂ∞±ÊòØÂâç‰∏âÁßçÊñπÂºèÔºåÂêéÈù¢ÂõõÁßçÊõ¥Â§öÊó∂ÂÄôÊòØ‰∏Ä‰∫õÂ∞èÊäÄÂ∑ßÔºåËôΩÁÑ∂Âú®Â∑•‰Ωú‰∏≠‰∏ç‰∏ÄÂÆö‰ºöÁî®Âà∞Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Âú®Èù¢ËØïËøáÁ®ã‰∏≠ËÉΩÂ§üÊèêÂà∞Ëøô‰∫õË∑®ÂüüÁöÑÊäÄÂ∑ßÔºåÊó†ÁñëÂú®Èù¢ËØïÂÆòÁöÑÂøÉ‰∏≠ÊòØ‰∏Ä‰∏™Âä†ÂàÜÈ°π„ÄÇ ‰∏äÈù¢ÈòêËø∞ÊñπÊ≥ïÁöÑÊó∂ÂÄôÂèØËÉΩÊúâ‰∫õËÆ≤ÁöÑ‰∏çÊòéÁôΩÔºåÂ∏åÊúõÂú®ÈòÖËØªÁöÑËøáÁ®ã‰∏≠Âª∫ËÆÆ‰Ω†Ë∑üÁùÄÊàëÊï≤‰ª£Á†ÅÔºåÂΩì‰Ω†ÊâìÂºÄÊµèËßàÂô®ÁúãÂà∞ÁªìÊûúÁöÑÊó∂ÂÄôÔºå‰Ω†‰πüÂ∞±ËÉΩÊéåÊè°Âà∞ËøôÁßçÊñπÊ≥ï„ÄÇ]]></content>
      <tags>
        <tag>Ë∑®Âüü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂâçÁ´ØÊÄßËÉΩÁõëÊéßÔºöwindow.performance]]></title>
    <url>%2F2016%2F04%2F23%2F%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%EF%BC%9Awindow-performance%2F</url>
    <content type="text"><![CDATA[window.performance ÊòØW3CÊÄßËÉΩÂ∞èÁªÑÂºïÂÖ•ÁöÑÊñ∞ÁöÑAPIÔºåÁõÆÂâçIE9‰ª•‰∏äÁöÑÊµèËßàÂô®ÈÉΩÊîØÊåÅ„ÄÇ‰∏Ä‰∏™performanceÂØπË±°ÁöÑÂÆåÊï¥ÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Window.performanceËôΩÁÑ∂Âè´ Timing API ‰ΩÜÊòØÁî®Ëµ∑Êù•Âç¥ÊòØ window.performance // ÂÖºÂÆπÊÄßÂÜôÊ≥ï const performance = window.performance || window.msPerformance || window.webkitPerformance; memoryÂ≠óÊÆµ‰ª£Ë°®JavaScriptÂØπÂÜÖÂ≠òÁöÑÂç†Áî®„ÄÇ performance.memory(ÂÜÖÂ≠ò) usedJSHeapSizeJS ÂØπË±°ÔºàÂåÖÊã¨V8ÂºïÊìéÂÜÖÈÉ®ÂØπË±°ÔºâÂç†Áî®ÁöÑÂÜÖÂ≠ò totalJSHeapSizeÂèØ‰ΩøÁî®ÁöÑÂÜÖÂ≠ò jsHeapSizeLimitÂÜÖÂ≠òÂ§ßÂ∞èÈôêÂà∂ performance.navigation(Êàë‰ªéÂì™ÈáåÊù•) redirectCountÂ¶ÇÊûúÊúâÈáçÂÆöÂêëÁöÑËØùÔºåÈ°µÈù¢ÈÄöËøáÂá†Ê¨°ÈáçÂÆöÂêëË∑≥ËΩ¨ËÄåÊù• type 0 Âç≥ TYPE_NAVIGATENEXT Ê≠£Â∏∏ËøõÂÖ•ÁöÑÈ°µÈù¢ÔºàÈùûÂà∑Êñ∞„ÄÅÈùûÈáçÂÆöÂêëÁ≠âÔºâ 1 Âç≥ TYPE_RELOAD ÈÄöËøá window.location.reload() Âà∑Êñ∞ÁöÑÈ°µÈù¢ 2 Âç≥ TYPE_BACK_FORWARD ÈÄöËøáÊµèËßàÂô®ÁöÑÂâçËøõÂêéÈÄÄÊåâÈíÆËøõÂÖ•ÁöÑÈ°µÈù¢ÔºàÂéÜÂè≤ËÆ∞ÂΩïÔºâ 255 Âç≥ TYPE_UNDEFINED Èùû‰ª•‰∏äÊñπÂºèËøõÂÖ•ÁöÑÈ°µÈù¢ navigationÂ≠óÊÆµÁªüËÆ°ÁöÑÊòØ‰∏Ä‰∫õÁΩëÈ°µÂØºËà™Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÔºö redirectCount:ÈáçÂÆöÂêëÁöÑÊï∞ÈáèÔºàÂè™ËØªÔºâÔºå‰ΩÜÊòØËøô‰∏™Êé•Âè£ÊúâÂêåÊ∫êÁ≠ñÁï•ÈôêÂà∂ÔºåÂç≥‰ªÖËÉΩÊ£ÄÊµãÂêåÊ∫êÁöÑÈáçÂÆöÂêëÔºõ type ËøîÂõûÂÄºÂ∫îËØ•ÊòØ0,1,2 ‰∏≠ÁöÑ‰∏Ä‰∏™„ÄÇÂàÜÂà´ÂØπÂ∫î‰∏â‰∏™Êûö‰∏æÂÄº: 0 : TYPE_NAVIGATE (Áî®Êà∑ÈÄöËøáÂ∏∏ËßÑÂØºËà™ÊñπÂºèËÆøÈóÆÈ°µÈù¢ÔºåÊØîÂ¶ÇÁÇπ‰∏Ä‰∏™ÈìæÊé•ÔºåÊàñËÄÖ‰∏ÄËà¨ÁöÑgetÊñπÂºè) 1 : TYPE_RELOAD (Áî®Êà∑ÈÄöËøáÂà∑Êñ∞ÔºåÂåÖÊã¨JSË∞ÉÁî®Âà∑Êñ∞Êé•Âè£Á≠âÊñπÂºèËÆøÈóÆÈ°µÈù¢) 2 : TYPE_BACK_FORWARD (Áî®Êà∑ÈÄöËøáÂêéÈÄÄÊåâÈíÆËÆøÈóÆÊú¨È°µÈù¢) ÊúÄÈáçË¶ÅÁöÑÊòØtimingÂ≠óÊÆµÁöÑÁªüËÆ°Êï∞ÊçÆÔºåÂÆÉÂåÖÂê´‰∫ÜÁΩëÁªú„ÄÅËß£ÊûêÁ≠â‰∏ÄÁ≥ªÂàóÁöÑÊó∂Èó¥Êï∞ÊçÆ„ÄÇ performance.timing(Êó∂Èó¥) 2.2.1 timing API timingÁöÑÊï¥‰ΩìÁªìÊûÑÂ¶Ç‰∏äÂõæÊâÄÁ§∫Ôºö ÂêÑÂ≠óÊÆµÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºö startTimeÔºöÊúâ‰∫õÊµèËßàÂô®ÂÆûÁé∞‰∏∫navigationStartÔºå‰ª£Ë°®ÊµèËßàÂô®ÂºÄÂßãunloadÂâç‰∏Ä‰∏™È°µÈù¢ÊñáÊ°£ÁöÑÂºÄÂßãÊó∂Èó¥ËäÇÁÇπ„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÂΩìÂâçÊ≠£Âú®ÊµèËßàbaidu.comÔºåÂú®Âú∞ÂùÄÊ†èËæìÂÖ•google.comÂπ∂ÂõûËΩ¶ÔºåÊµèËßàÂô®ÁöÑÊâßË°åÂä®‰Ωú‰æùÊ¨°‰∏∫ÔºöunloadÂΩìÂâçÊñáÊ°£ÔºàÂç≥http://baidu.comÔºâ-&gt;ËØ∑Ê±Ç‰∏ã‰∏ÄÊñáÊ°£ÔºàÂç≥http://google.comÔºâ„ÄÇnavigationStartÁöÑÂÄº‰æøÊòØËß¶ÂèëunloadÂΩìÂâçÊñáÊ°£ÁöÑÊó∂Èó¥ËäÇÁÇπ„ÄÇ Â¶ÇÊûúÂΩìÂâçÊñáÊ°£‰∏∫Á©∫ÔºåÂàônavigationStartÁöÑÂÄºÁ≠â‰∫éfetchStart„ÄÇ redirectStartÂíåredirectEndÔºöÂ¶ÇÊûúÈ°µÈù¢ÊòØÁî±redirectËÄåÊù•ÔºåÂàôredirectStartÂíåredirectEndÂàÜÂà´‰ª£Ë°®redirectÂºÄÂßãÂíåÁªìÊùüÁöÑÊó∂Èó¥ËäÇÁÇπÔºõ unloadEventStartÂíåunloadEventEndÔºöÂ¶ÇÊûúÂâç‰∏Ä‰∏™ÊñáÊ°£ÂíåËØ∑Ê±ÇÁöÑÊñáÊ°£ÊòØÂêå‰∏Ä‰∏™ÂüüÁöÑÔºåÂàôunloadEventStartÂíåunloadEventEndÂàÜÂà´‰ª£Ë°®ÊµèËßàÂô®unloadÂâç‰∏Ä‰∏™ÊñáÊ°£ÁöÑÂºÄÂßãÂíåÁªìÊùüÊó∂Èó¥ËäÇÁÇπ„ÄÇÂê¶Âàô‰∏§ËÄÖÈÉΩÁ≠â‰∫é0Ôºõ fetchStartÊòØÊåáÂú®ÊµèËßàÂô®ÂèëËµ∑‰ªª‰ΩïËØ∑Ê±Ç‰πãÂâçÁöÑÊó∂Èó¥ÂÄº„ÄÇÂú®fetchStartÂíådomainLookupStart‰πãÈó¥ÔºåÊµèËßàÂô®‰ºöÊ£ÄÊü•ÂΩìÂâçÊñáÊ°£ÁöÑÁºìÂ≠òÔºõ domainLookupStartÂíådomainLookupEndÂàÜÂà´‰ª£Ë°®DNSÊü•ËØ¢ÁöÑÂºÄÂßãÂíåÁªìÊùüÊó∂Èó¥ËäÇÁÇπ„ÄÇÂ¶ÇÊûúÊµèËßàÂô®Ê≤°ÊúâËøõË°åDNSÊü•ËØ¢ÔºàÊØîÂ¶Ç‰ΩøÁî®‰∫ÜcacheÔºâÔºåÂàô‰∏§ËÄÖÁöÑÂÄºÈÉΩÁ≠â‰∫éfetchStartÔºõ connectStartÂíåconnectEndÂàÜÂà´‰ª£Ë°®TCPÂª∫Á´ãËøûÊé•ÂíåËøûÊé•ÊàêÂäüÁöÑÊó∂Èó¥ËäÇÁÇπ„ÄÇÂ¶ÇÊûúÊµèËßàÂô®Ê≤°ÊúâËøõË°åTCPËøûÊé•ÔºàÊØîÂ¶Ç‰ΩøÁî®ÊåÅ‰πÖÂåñËøûÊé•webscoketÔºâÔºåÂàô‰∏§ËÄÖÈÉΩÁ≠â‰∫édomainLookupEndÔºõ secureConnectionStartÔºöÂèØÈÄâ„ÄÇÂ¶ÇÊûúÈ°µÈù¢‰ΩøÁî®HTTPSÔºåÂÆÉÁöÑÂÄºÊòØÂÆâÂÖ®ËøûÊé•Êè°Êâã‰πãÂâçÁöÑÊó∂Âàª„ÄÇÂ¶ÇÊûúËØ•Â±ûÊÄß‰∏çÂèØÁî®ÔºåÂàôËøîÂõûundefined„ÄÇÂ¶ÇÊûúËØ•Â±ûÊÄßÂèØÁî®Ôºå‰ΩÜÊ≤°Êúâ‰ΩøÁî®HTTPSÔºåÂàôËøîÂõû0Ôºõ requestStart‰ª£Ë°®ÊµèËßàÂô®ÂèëËµ∑ËØ∑Ê±ÇÁöÑÊó∂Èó¥ËäÇÁÇπÔºåËØ∑Ê±ÇÁöÑÊñπÂºèÂèØ‰ª•ÊòØËØ∑Ê±ÇÊúçÂä°Âô®„ÄÅÁºìÂ≠ò„ÄÅÊú¨Âú∞ËµÑÊ∫êÁ≠âÔºõ responseStartÂíåresponseEndÂàÜÂà´‰ª£Ë°®ÊµèËßàÂô®Êî∂Âà∞‰ªéÊúçÂä°Âô®Á´ØÔºàÊàñÁºìÂ≠ò„ÄÅÊú¨Âú∞ËµÑÊ∫êÔºâÂìçÂ∫îÂõûÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÂíåÊúÄÂêé‰∏Ä‰∏™Â≠óËäÇÊï∞ÊçÆÁöÑÊó∂ÂàªÔºõ domLoading‰ª£Ë°®ÊµèËßàÂô®ÂºÄÂßãËß£ÊûêhtmlÊñáÊ°£ÁöÑÊó∂Èó¥ËäÇÁÇπ„ÄÇÊàë‰ª¨Áü•ÈÅìIEÊµèËßàÂô®‰∏ãÁöÑdocumentÊúâreadyStateÂ±ûÊÄßÔºådomLoadingÁöÑÂÄºÂ∞±Á≠â‰∫éreadyStateÊîπÂèò‰∏∫loadingÁöÑÊó∂Èó¥ËäÇÁÇπÔºõ domInteractive‰ª£Ë°®ÊµèËßàÂô®Ëß£ÊûêhtmlÊñáÊ°£ÁöÑÁä∂ÊÄÅ‰∏∫interactiveÊó∂ÁöÑÊó∂Èó¥ËäÇÁÇπ„ÄÇdomInteractiveÂπ∂ÈùûDOMReadyÔºåÂÆÉÊó©‰∫éDOMReadyËß¶ÂèëÔºå‰ª£Ë°®htmlÊñáÊ°£Ëß£ÊûêÂÆåÊØïÔºàÂç≥dom treeÂàõÂª∫ÂÆåÊàêÔºâ‰ΩÜÊòØÂÜÖÂµåËµÑÊ∫êÔºàÊØîÂ¶ÇÂ§ñÈìæcss„ÄÅjsÁ≠âÔºâËøòÊú™Âä†ËΩΩÁöÑÊó∂Èó¥ÁÇπÔºõ domContentLoadedEventStartÔºö‰ª£Ë°®DOMContentLoaded‰∫ã‰ª∂Ëß¶ÂèëÁöÑÊó∂Èó¥ËäÇÁÇπÔºö È°µÈù¢ÊñáÊ°£ÂÆåÂÖ®Âä†ËΩΩÂπ∂Ëß£ÊûêÂÆåÊØï‰πãÂêé,‰ºöËß¶ÂèëDOMContentLoaded‰∫ã‰ª∂ÔºåHTMLÊñáÊ°£‰∏ç‰ºöÁ≠âÂæÖÊ†∑ÂºèÊñá‰ª∂,ÂõæÁâáÊñá‰ª∂,Â≠êÊ°ÜÊû∂È°µÈù¢ÁöÑÂä†ËΩΩ(load‰∫ã‰ª∂ÂèØ‰ª•Áî®Êù•Ê£ÄÊµãHTMLÈ°µÈù¢ÊòØÂê¶ÂÆåÂÖ®Âä†ËΩΩÂÆåÊØï(fully-loaded))„ÄÇ domContentLoadedEventEndÔºö‰ª£Ë°®DOMContentLoaded‰∫ã‰ª∂ÂÆåÊàêÁöÑÊó∂Èó¥ËäÇÁÇπÔºåÊ≠§ÂàªÁî®Êà∑ÂèØ‰ª•ÂØπÈ°µÈù¢ËøõË°åÊìç‰ΩúÔºå‰πüÂ∞±ÊòØjQuery‰∏≠ÁöÑdomreadyÊó∂Èó¥Ôºõ domCompleteÔºöhtmlÊñáÊ°£ÂÆåÂÖ®Ëß£ÊûêÂÆåÊØïÁöÑÊó∂Èó¥ËäÇÁÇπÔºõ loadEventStartÂíåloadEventEndÂàÜÂà´‰ª£Ë°®onload‰∫ã‰ª∂Ëß¶ÂèëÂíåÁªìÊùüÁöÑÊó∂Èó¥ËäÇÁÇπ 2.2.2 ËÆ°ÁÆóÊÄßËÉΩÊåáÊ†á ÂèØ‰ª•‰ΩøÁî®Navigation.timing ÁªüËÆ°Âà∞ÁöÑÊó∂Èó¥Êï∞ÊçÆÊù•ËÆ°ÁÆó‰∏Ä‰∫õÈ°µÈù¢ÊÄßËÉΩÊåáÊ†áÔºåÊØîÂ¶ÇDNSÊü•ËØ¢ËÄóÊó∂„ÄÅÁôΩÂ±èÊó∂Èó¥„ÄÅdomreadyÁ≠âÁ≠â„ÄÇÂ¶Ç‰∏ãÔºö DNSÊü•ËØ¢ËÄóÊó∂ = domainLookupEnd - domainLookupStart TCPÈìæÊé•ËÄóÊó∂ = connectEnd - connectStart requestËØ∑Ê±ÇËÄóÊó∂ = responseEnd - responseStart Ëß£ÊûêdomÊ†ëËÄóÊó∂ = domComplete - domInteractive ÁôΩÂ±èÊó∂Èó¥ = domloadng - fetchStart domreadyÊó∂Èó¥ = domContentLoadedEventEnd - fetchStart onloadÊó∂Èó¥ = loadEventEnd - fetchStart ÊâÄ‰ª•Ê†πÊçÆ‰∏äÈù¢ÁöÑÊó∂Èó¥ÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ°ÁÆóÂ∏∏ËßÑÁöÑÊÄßËÉΩÂÄºÔºåÂ¶Ç‰∏ãÔºö Ôºà‰ΩøÁî®ËØ•apiÊó∂ÈúÄË¶ÅÂú®È°µÈù¢ÂÆåÂÖ®Âä†ËΩΩÂÆåÊàê‰πãÂêéÊâçËÉΩ‰ΩøÁî®ÔºåÊúÄÁÆÄÂçïÁöÑÂäûÊ≥ïÊòØÂú®window.onload‰∫ã‰ª∂‰∏≠ËØªÂèñÂêÑÁßçÊï∞ÊçÆÔºåÂõ†‰∏∫ÂæàÂ§öÂÄºÂøÖÈ°ªÂú®È°µÈù¢ÂÆåÂÖ®Âä†ËΩΩ‰πãÂêéÊâçËÉΩÂæóÂá∫„ÄÇÔºâ var timing = window.performance &amp;&amp; window.performance.timing; var navigation = window.performance &amp;&amp; window.performance.navigation; ÈáçÂÆöÂêëÊ¨°Êï∞Ôºö var redirectCount = navigation &amp;&amp; navigation.redirectCount; Ë∑≥ËΩ¨ËÄóÊó∂Ôºö var redirect = timing.redirectEnd - timing.redirectStart; APP CACHE ËÄóÊó∂Ôºö var appcache = Math.max(timing.domainLookupStart - timing.fetchStart, 0); DNS Ëß£ÊûêËÄóÊó∂Ôºö var dns = timing.domainLookupEnd - timing.domainLookupStart; TCP ÈìæÊé•ËÄóÊó∂Ôºö var conn = timing.connectEnd - timing.connectStart; Á≠âÂæÖÊúçÂä°Âô®ÂìçÂ∫îËÄóÊó∂ÔºàÊ≥®ÊÑèÊòØÂê¶Â≠òÂú®cacheÔºâÔºö var request = timing.responseStart - timing.requestStart; ÂÜÖÂÆπÂä†ËΩΩËÄóÊó∂ÔºàÊ≥®ÊÑèÊòØÂê¶Â≠òÂú®cacheÔºâ: var response = timing.responseEnd - timing.responseStart; ÊÄª‰ΩìÁΩëÁªú‰∫§‰∫íËÄóÊó∂ÔºåÂç≥ÂºÄÂßãË∑≥ËΩ¨Âà∞ÊúçÂä°Âô®ËµÑÊ∫ê‰∏ãËΩΩÂÆåÊàêÔºö var network = timing.responseEnd - timing.navigationStart; Ê∏≤ÊüìÂ§ÑÁêÜÔºö var processing = (timing.domComplete || timing.domLoading) - timing.domLoading; ÊäõÂá∫ load ‰∫ã‰ª∂Ôºö var load = timing.loadEventEnd - timing.loadEventStart; ÊÄªËÄóÊó∂Ôºö var total = (timing.loadEventEnd || timing.loadEventStart || timing.domComplete || timing.domLoading) - timing.navigationStart; ÂèØ‰∫§‰∫íÔºö var active = timing.domInteractive - timing.navigationStart; ËØ∑Ê±ÇÂìçÂ∫îËÄóÊó∂ÔºåÂç≥ T0ÔºåÊ≥®ÊÑècacheÔºö var t0 = timing.responseStart - timing.navigationStart; È¶ñÊ¨°Âá∫Áé∞ÂÜÖÂÆπÔºåÂç≥ T1Ôºö var t1 = timing.domLoading - timing.navigationStart; ÂÜÖÂÆπÂä†ËΩΩÂÆåÊØïÔºåÂç≥ T3Ôºö var t3 = timing.loadEventEnd - timing.navigationStart; 2.2.3 Resource timing API Resource timing APIÊòØÁî®Êù•ÁªüËÆ°ÈùôÊÄÅËµÑÊ∫êÁõ∏ÂÖ≥ÁöÑÊó∂Èó¥‰ø°ÊÅØÔºåËØ¶ÁªÜÁöÑÂÜÖÂÆπËØ∑ÂèÇËÄÉW3C Resource timing„ÄÇËøôÈáåÊàë‰ª¨Âè™‰ªãÁªçperformance.getEntriesÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•Ëé∑ÂèñÈ°µÈù¢‰∏≠ÊØè‰∏™ÈùôÊÄÅËµÑÊ∫êÁöÑËØ∑Ê±ÇÔºå„Äê‰ª•ÁôæÂ∫¶ÁßªÂä®ÁâàÈ¶ñÈ°µÁöÑlogo‰∏∫‰æã„ÄëÂ¶Ç‰∏ãÔºö ÊØîËæÉÊúâÁî®ÁöÑÂá†‰∏™Â±ûÊÄßÔºö nameÔºöËµÑÊ∫êÁöÑÈìæÊé• initiatorType: ÂàùÂßãÁ±ªÂûãÔºàÊ≥®ÊÑèËøô‰∏™Á±ªÂûãÂπ∂‰∏çÂáÜÁ°ÆÔºå‰æãÂ¶ÇÂú®css‰∏≠ÁöÑÂõæÁâáËµÑÊ∫ê‰ºöËøô‰∏™ÂÄºÊòæÁ§∫cssÔºåÊâÄ‰ª•ËøòÊòØÊé®ËçêÁî®name‰∏≠ÁöÑÂêéÁºÄÂêçÔºâ duration: ËµÑÊ∫êÁöÑÊÄªËÄóÊó∂ÔºàÂåÖÊã¨Á≠âÂæÖÊó∂ÈïøÔºåËØ∑Ê±ÇÊó∂ÈïøÔºåÂìçÂ∫îÊó∂Èïø Áõ∏ÂΩì‰∫éresponseEnd - startTimeÔºâ transferSize: ËΩ¨Êç¢ÂêéÁöÑÊñá‰ª∂Â§ßÂ∞è(Áï•Â§ß‰∫éencodedBodySize, ‰∏∫‰ªÄ‰πàÊàëÂèñËøô‰∏™Âë¢ÔºåÂõ†‰∏∫Ëøô‰∏™ÂÄºÊòØÂíåchromeÁöÑdevtool NetworkÈáåÁöÑsize‰∏ÄËá¥) ÂèØ‰ª•ÁúãÂà∞performance.getEntriesËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑÁöÑÊØè‰∏™ÂÖÉÁ¥†‰ª£Ë°®ÂØπÂ∫îÁöÑÈùôÊÄÅËµÑÊ∫êÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶Ç‰∏äÂõæÂ±ïÁ§∫ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂØπÂ∫îÁöÑËµÑÊ∫êÁ±ªÂûãinitiatorTypeÊòØÂõæÁâáimgÔºåËØ∑Ê±ÇËä±Ë¥πÁöÑÊó∂Èó¥Â∞±ÊòØdurationÁöÑÂÄº„ÄÇ ÂÖ≥‰∫éResource timing APIÁöÑ‰ΩøÁî®Âú∫ÊôØÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Ê∑±ÂÖ•Á†îÁ©∂„ÄÇ ; (function() { handleAddListener(&apos;load&apos;, getTiming) function handleAddListener(type, fn) { if(window.addEventListener) { window.addEventListener(type, fn) } else { window.attachEvent(&apos;on&apos; + type, fn) } } function getTiming() { try { var time = performance.timing; var timingObj = {}; var loadTime = (time.loadEventEnd - time.loadEventStart) / 1000; if(loadTime &lt; 0) { setTimeout(function() { getTiming(); }, 200); return; } timingObj[&apos;ÈáçÂÆöÂêëÊó∂Èó¥&apos;] = (time.redirectEnd - time.redirectStart) / 1000; timingObj[&apos;DNSËß£ÊûêÊó∂Èó¥&apos;] = (time.domainLookupEnd - time.domainLookupStart) / 1000; timingObj[&apos;TCPÂÆåÊàêÊè°ÊâãÊó∂Èó¥&apos;] = (time.connectEnd - time.connectStart) / 1000; timingObj[&apos;HTTPËØ∑Ê±ÇÂìçÂ∫îÂÆåÊàêÊó∂Èó¥&apos;] = (time.responseEnd - time.requestStart) / 1000; timingObj[&apos;DOMÂºÄÂßãÂä†ËΩΩÂâçÊâÄËä±Ë¥πÊó∂Èó¥&apos;] = (time.responseEnd - time.navigationStart) / 1000; timingObj[&apos;DOMÂä†ËΩΩÂÆåÊàêÊó∂Èó¥&apos;] = (time.domComplete - time.domLoading) / 1000; timingObj[&apos;DOMÁªìÊûÑËß£ÊûêÂÆåÊàêÊó∂Èó¥&apos;] = (time.domInteractive - time.domLoading) / 1000; timingObj[&apos;ËÑöÊú¨Âä†ËΩΩÊó∂Èó¥&apos;] = (time.domContentLoadedEventEnd - time.domContentLoadedEventStart) / 1000; timingObj[&apos;onload‰∫ã‰ª∂Êó∂Èó¥&apos;] = (time.loadEventEnd - time.loadEventStart) / 1000; timingObj[&apos;È°µÈù¢ÂÆåÂÖ®Âä†ËΩΩÊó∂Èó¥&apos;] = (timingObj[&apos;ÈáçÂÆöÂêëÊó∂Èó¥&apos;] + timingObj[&apos;DNSËß£ÊûêÊó∂Èó¥&apos;] + timingObj[&apos;TCPÂÆåÊàêÊè°ÊâãÊó∂Èó¥&apos;] + timingObj[&apos;HTTPËØ∑Ê±ÇÂìçÂ∫îÂÆåÊàêÊó∂Èó¥&apos;] + timingObj[&apos;DOMÁªìÊûÑËß£ÊûêÂÆåÊàêÊó∂Èó¥&apos;] + timingObj[&apos;DOMÂä†ËΩΩÂÆåÊàêÊó∂Èó¥&apos;]); for(item in timingObj) { console.log(item + &quot;:&quot; + timingObj[item] + &apos;ÊØ´Áßí(ms)&apos;); } console.log(performance.timing); } catch(e) { console.log(timingObj) console.log(performance.timing); } } })(); &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;&lt;/title&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;//cdn.bootcss.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css&quot; /&gt; &lt;script src=&quot;&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt;]]></content>
      <tags>
        <tag>performance</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[eval() Âíå new Function() ÊâßË°åJS‰ª£Á†Å]]></title>
    <url>%2F2016%2F02%2F28%2Feval-%E5%92%8C-new-Function-%E6%89%A7%E8%A1%8CJS%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[DEMO1234567891011var a = &apos;global scope&apos;function b()&#123; var a = &apos;local scope&apos; eval(&apos;console.log(a)&apos;) //local scope ;(new Function(&apos;&apos;,&apos;console.log(a)&apos;))() //global scope&#125; b() local scopeglobal scope eval‰∏≠ÁöÑ‰ª£Á†ÅÊâßË°åÊó∂ÁöÑ‰ΩúÁî®Âüü‰∏∫ÂΩìÂâç‰ΩúÁî®Âüü„ÄÇÂÆÉÂèØ‰ª•ËÆøÈóÆÂà∞ÂáΩÊï∞‰∏≠ÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ new Function‰∏≠ÁöÑ‰ª£Á†ÅÊâßË°åÊó∂ÁöÑ‰ΩúÁî®Âüü‰∏∫ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºå‰∏çËÆ∫ÂÆÉÁöÑÂú®Âì™‰∏™Âú∞ÊñπË∞ÉÁî®ÁöÑ„ÄÇÊâÄ‰ª•ÂÆÉËÆøÈóÆÁöÑÊòØÂÖ®Â±ÄÂèòÈáèa„ÄÇÂÆÉÊ†πÊú¨Êó†Ê≥ïËÆøÈóÆbÂáΩÊï∞ÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ eval()‰ª• str ÁöÑÊñπÂºèËøêË°å JavaScript ‰ª£Á†ÅÔºåÊØîÂ¶ÇÔºö123&gt; var a = 12;&gt; eval( &apos;a+5&apos; );&gt; 17 Ê≥®ÊÑèËØ≠Âè•‰∏ä‰∏ãÊñá eval()ÁöÑËß£ÊûêÔºö1234&gt; eval( &apos;&#123; foo: 123 &#125;&apos; );&gt; 123&gt; eval( &apos;(&#123; foo: 123 &#125;)&apos; );&gt; &#123; foo: 123 &#125; ‰∏•Ê†ºÊ®°Âºè‰∏ãÁöÑ eval()ÂØπ‰∫é eval()ÔºåÁêÜÂ∫îÂΩìÂú®‰∏•Ê†ºÊ®°Âºè‰∏ã‰ΩøÁî®„ÄÇÂú®ÊùæÊï£Ê®°Âºè‰∏ãËøêË°å‰ª£Á†Å‰ºöÂú®ÂΩìÂâçÁöÑ‰ΩúÁî®Âüü‰∏≠ÂàõÂª∫Â±ÄÈÉ®ÂèòÈáèÔºö function f(){ eval( &apos;var foo = 1&apos; ); console.log( foo ); // 1 } ‰∏•Ê†ºÊ®°Âºè‰∏ãÂ∞±‰∏ç‰ºöÂá∫Áé∞ËØ•ÊÉÖÂÜµ„ÄÇ‰ΩÜÊòØÔºåËøêË°å‰ª£Á†Å‰ªçÁÑ∂ÂÖ∑ÊúâËØªÂÜôÂΩìÂâç‰ΩúÁî®Âüü‰∏≠ÂèòÈáèÁöÑÊùÉÈôê„ÄÇ‰Ω†ÈúÄË¶ÅÈÄöËøáÈó¥Êé•Ë∞ÉÁî® eval() Êù•ÈòªÊ≠¢ËøôÁßçÊùÉÈôê„ÄÇ ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏ãÈó¥Êé•ÊâßË°å eval() Êúâ‰∏§ÁßçË∞ÉÁî® eval() ÁöÑÊñπÂºèÔºö Áõ¥Êé•ÊñπÂºèÔºöÈÄöËøáÁõ¥Êé•Ë∞ÉÁî®Âêç‰∏∫ ‚Äúeval‚Äù ÁöÑÂáΩÊï∞„ÄÇ Èó¥Êé•ÊñπÂºèÔºö‰ΩøÁî®ÂÖ∂‰ªñÁöÑ‰∏Ä‰∫õÊñπÂºè„ÄÇÔºàÈÄöËøá call Ë∞ÉÁî®ÔºåÂ∞ÜÂÖ∂‰ª•ÂÖ∂‰ªñÂêçÂ≠ó‰Ωú‰∏∫ window ‰∏ãÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÂ≠òÂÇ®ÔºåÂú®ÈÇ£ÈáåËøõË°åË∞ÉÁî®Ôºâ ‰πãÂâçÂ∑≤ÁªèÁúãËøáÔºåÂú®ÂΩìÂâç‰ΩúÁî®ÂüüÁõ¥Êé•‰ΩøÁî® eval ÊâßË°å‰ª£Á†Å 123456var x = &apos;global&apos;; function directEval()&#123; &apos;use strict&apos;; var x = &apos;local&apos;; console.log( eval(&apos;x&apos;) ); // local &#125; Âèç‰πãÔºåÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠Èó¥Êé•Ë∞ÉÁî® eval„ÄÇ 12345678910111213var x = &apos;global&apos;; function indirectEval()&#123; &apos;use strict&apos;; var x = &apos;local&apos;; // ‰∏çÂêåÊñπÂºèË∞ÉÁî® call console.log( eval.call(null, &apos;x&apos;) ); // global console.log( window.eval(&apos;x&apos;) ); // global console.log( (1,eval)(&apos;x&apos;) ); // global (1) var xeval = eval; console.log( xeval(&apos;x&apos;) ); // global var obj = &#123; eval: eval &#125; console.log( obj.eval(&apos;x&apos;) ); // global&#125; ËØ¥ÊòéÔºöÂΩì‰Ω†ÈÄöËøá‰∏Ä‰∏™ÂêçÁß∞Êù•ÂºïÁî®‰∏Ä‰∏™ÂèòÈáèÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫‰∏Ä‰∏™ÊâÄË∞ìÁöÑÂºïÁî®ÔºåÊï∞ÊçÆÁªìÊûÑÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö Âü∫Á°ÄÊòØÊåáÂêëÂ≠òÂÇ®ÂèòÈáèÁöÑÂÄºÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ ÂºïÁî®ÂêçÊòØÂèòÈáèÁöÑÂêçÁß∞Âú®‰∏Ä‰∏™ÂáΩÊï∞Ë∞ÉÁî® eval ÁöÑÊó∂ÂÄôÔºåËØ•ÂáΩÊï∞ÁöÑË∞ÉÁî®Êìç‰ΩúÁ¨¶ÔºàÊã¨Âè∑ÔºâÈÅáÂà∞‰∏Ä‰∏™ÂØπ eval ÁöÑÂºïÁî®ÂèØ‰ª•Á°ÆÂÆöË¢´Ë∞ÉÁî®ÂáΩÊï∞ÁöÑÂêçÁß∞„ÄÇÊâÄ‰ª•Ê≠§Êó∂ÂáΩÊï∞‰ºöËß¶Âèë‰∏Ä‰∏™Áõ¥Êé•ÁöÑ eval Ë∞ÉÁî®„ÄÇÂΩìÁÑ∂‰Ω†ÂèØ‰ª•‰∏çÁªôË∞ÉÁî®Êìç‰ΩúÁ¨¶ÂºïÁî®Êù•Âº∫Âà∂Èó¥Êé•Ë∞ÉÁî® eval„ÄÇËøôÊòØÁî±‰∫éÂú®Êìç‰ΩúÁ¨¶ËøêË°å‰πãÂâçËé∑ÂèñÂºïÁî®ÁöÑÂÄºÊù•ÂÆûÁé∞ÁöÑ„ÄÇÂú® Ôºà1ÔºâÊ†áÊ≥®ÁöÑÈÇ£‰∏ÄË°åÔºåÈÄóÂè∑Êìç‰ΩúÁ¨¶‰∏∫Êàë‰ª¨ÂÆûÁé∞ÁöÑËøôÁÇπ„ÄÇËøô‰∏™ËøêÁÆóÁ¨¶ËøêË°å‰∫ÜÁ¨¨‰∏Ä‰∏™ËøêÁÆóÂÖÉÂπ∂ËøîÂõû‰∫ÜÁ¨¨‰∫å‰∏™ËøêÁÆóÂÖÉÁöÑÁªìÊûú„ÄÇËøêÁÆóÁªìÊûúÊÄªÊòØËøîÂõû ÂÄº ÁöÑÔºåÊÑèÂë≥ÁùÄÂºïÁî®Â∑≤ÁªèË¢´Ëß£Êûê„ÄÇ Èó¥Êé•ÁöÑËøêË°å‰ª£Á†ÅÊÄªÊòØÊùæÊï£ÁöÑ„ÄÇËøôÊòØÁî±‰∫é‰ª£Á†ÅË¢´Áã¨Á´ãÁöÑÂú®ÂΩìÂâçÁéØÂ¢É‰∏≠ËøêË°åÁöÑÁªìÊûú„ÄÇ 1234567function strictFunc()&#123; &apos;use strict&apos;; var code = &apos;(function()&#123; return this; &#125;())&apos;; var result = eval.call( null, code ); console.log( result !== undefined ); // true sloppy mode&#125; new Function()Function ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂáΩÊï∞Á≠æÂêç„ÄÇnew Function( param1, param2, ‚Ä¶, paramN,funcBody );ÂÆÉÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´0‰∏™ÊàñËÄÖËøá‰∏™ÂèÇÊï∞Âêç‰∏∫ param1 Á≠âÁöÑÂáΩÊï∞ÔºåÂáΩÊï∞‰Ωì‰∏∫ funcBody„ÄÇÁõ∏ÂΩì‰∫éÂ¶Ç‰∏ãÊñπÂºèÂàõÂª∫ÂáΩÊï∞Ôºö123function ( (param1), (param2), ..., (paramN) )&#123; (funcBody) &#125; ‰æãÂ¶ÇÔºö 12var f = new Function(&apos;x&apos;, &apos;y&apos;, &apos;return x+y&apos;); f( 3, 4 ) ‰∏éÈó¥Êé• eval Ë∞ÉÁî®Á±ª‰ººÔºånewFunction() ÂàõÂª∫ÁöÑÂáΩÊï∞‰ΩúÁî®Âüü‰πüÊòØÂÖ®Â±ÄÁöÑ„ÄÇ var x = &apos;global&apos;; function strictFunc(){ &apos;use strict&apos;; var x = &apos;local&apos;; var f = new Function(&apos;return x&apos;); console.log( f() ); //global } ‰ª•‰∏ãÁöÑÂáΩÊï∞‰πüÊòØÈªòËÆ§ÊùæÊï£Ê®°Âºè function strictFunc(){ &apos;use strict&apos;; var sl = newFunction( &apos;return this&apos; ); console.log( sl() !== undefined ); // true, sloppy modevar st = newFunction( &apos;&quot;use strict&quot;; return this;&apos; ); console.log( st() !== undefined ); // true, strict mode } eval() ÂØπÊØî new Function()‰∏ÄËà¨Êù•ËØ¥Ôºå‰ΩøÁî® new Function() ËøêË°å‰ª£Á†ÅÊØî eval() Êõ¥‰∏∫Â•Ω‰∏Ä‰∫õÔºöÂáΩÊï∞ÁöÑÂèÇÊï∞Êèê‰æõ‰∫ÜÊ∏ÖÊô∞ÁöÑÊé•Âè£Êù•ËøêË°å‰ª£Á†ÅÔºåËÄåÊ≤°ÊúâÂøÖË¶Å‰ΩøÁî®ËæÉ‰∏∫Á¨®ÊãôÁöÑËØ≠Ê≥ïÊù•Èó¥Êé•ÁöÑË∞ÉÁî® eval() Á°Æ‰øù‰ª£Á†ÅÂè™ËÉΩËÆøÈóÆËá™Â∑±ÁöÑÂíåÂÖ®Â±ÄÁöÑÂèòÈáè„ÄÇ ÊúÄ‰Ω≥ÂÆûË∑µÈÄöÂ∏∏ÔºöÈÅøÂÖç‰ΩøÁî® eval() Âíå new Function() „ÄÇÂä®ÊÄÅËøêË°å‰ª£Á†Å‰∏ç‰ΩÜÈÄüÂ∫¶ËæÉÊÖ¢ÔºåËøòÊúâÊΩúÂú®ÁöÑÂÆâÂÖ®È£éÈô©„ÄÇ‰∏ÄËà¨ÈÉΩÂèØ‰ª•ÊâæÂà∞Êõ¥Â•ΩÂú∞Êõø‰ª£ÊñπÊ°à„ÄÇ‰Ω†‰πü‰∏çÂ∫îËØ•‰ΩøÁî® eval() ÊàñËÄÖ newFunction() Êù•Ëß£Êûê JSONÊ†ºÂºèÁöÑÊï∞ÊçÆ„ÄÇÈÇ£‰πüÊòØ‰∏çÂÆâÂÖ®ÁöÑ„ÄÇË¶Å‰πà‰ΩøÁî® ECMAScript 5 ÂÜÖÁΩÆÁöÑÂØπJSONÁöÑÊîØÊåÅÊñπÊ≥ïÔºåË¶Å‰πà‰ΩøÁî®‰∏Ä‰∏™Á±ªÂ∫ì„ÄÇÂêàÁêÜ‰ΩøÁî®ÂÆû‰æã„ÄÇ‰æùÊóßÊúâ‰∏Ä‰∫õËæÉ‰∏∫ÂêàÁêÜÔºåÂØπ eval() Âíå newFunction() ‰ΩøÁî®ËæÉ‰∏∫È´òÁ∫ßÁöÑÔºöÈÖçÁΩÆÂáΩÊï∞Êï∞ÊçÆÔºàJSON ‰∏çÂÖÅËÆ∏ÔºâÔºåÊ®°ÊùøÂ∫ìÔºåËß£ÊûêÔºåÂëΩ‰ª§Ë°åÂíåÊ®°ÂùóÁ≥ªÁªü„ÄÇ]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Èò≤ÊäñÂíåËäÇÊµÅÂéüÁêÜÂàÜÊûê]]></title>
    <url>%2F2016%2F02%2F11%2F%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[Á™óÂè£ÁöÑresize„ÄÅscroll„ÄÅËæìÂÖ•Ê°ÜÂÜÖÂÆπÊ†°È™åÁ≠âÊìç‰ΩúÊó∂ÔºåÂ¶ÇÊûúËøô‰∫õÊìç‰ΩúÂ§ÑÁêÜÂáΩÊï∞ÊòØËæÉ‰∏∫Â§çÊùÇÊàñÈ°µÈù¢È¢ëÁπÅÈáçÊ∏≤ÊüìÁ≠âÊìç‰ΩúÊó∂ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÂ¶ÇÊûú‰∫ã‰ª∂Ëß¶ÂèëÁöÑÈ¢ëÁéáÊó†ÈôêÂà∂Ôºå‰ºöÂä†ÈáçÊµèËßàÂô®ÁöÑË¥üÊãÖÔºåÂØºËá¥Áî®Êà∑‰ΩìÈ™åÈùûÂ∏∏Á≥üÁ≥ï„ÄÇÊ≠§Êó∂Êàë‰ª¨ÂèØ‰ª•ÈááÁî®debounceÔºàÈò≤ÊäñÔºâÂíåthrottleÔºàËäÇÊµÅÔºâÁöÑÊñπÂºèÊù•ÂáèÂ∞ëËß¶ÂèëÁöÑÈ¢ëÁéáÔºåÂêåÊó∂Âèà‰∏çÂΩ±ÂìçÂÆûÈôÖÊïàÊûú„ÄÇ Èò≤ÊäñdebounceÔºàÈò≤ÊäñÔºâÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÈò≤Ê≠¢ÊäñÂä®„ÄÇ ÂΩìÊåÅÁª≠Ëß¶Âèë‰∫ã‰ª∂Êó∂Ôºådebounce ‰ºöÂêàÂπ∂‰∫ã‰ª∂‰∏î‰∏ç‰ºöÂéªËß¶Âèë‰∫ã‰ª∂ÔºåÂΩì‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâËß¶ÂèëÂÜçËøô‰∏™‰∫ã‰ª∂Êó∂ÔºåÊâçÁúüÊ≠£ÂéªËß¶Âèë‰∫ã‰ª∂„ÄÇ ÈùûÁ´ãÂç≥ÊâßË°åÁâàÈùûÁ´ãÂç≥ÊâßË°åÁâàÁöÑÊÑèÊÄùÊòØËß¶Âèë‰∫ã‰ª∂ÂêéÂáΩÊï∞‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÔºåËÄåÊòØÂú® n ÁßíÂêéÊâßË°åÔºåÂ¶ÇÊûúÂú® n ÁßíÂÜÖÂèàËß¶Âèë‰∫Ü‰∫ã‰ª∂ÔºåÂàô‰ºöÈáçÊñ∞ËÆ°ÁÆóÂáΩÊï∞ÊâßË°åÊó∂Èó¥„ÄÇ const debounce = (func, wait, ...args) =&gt; { let timeout; return function(){ const context = this; if (timeout) clearTimeout(timeout); timeout = setTimeout(() =&gt; { func.apply(context, args) },wait); } } Â¶ÇÊ≠§Ë∞ÉÁî®Ôºö content.onmousemove = debounce(count,1000); Á´ãÂç≥ÊâßË°åÁâàÁ´ãÂç≥ÊâßË°åÁâàÁöÑÊÑèÊÄùÊòØËß¶Âèë‰∫ã‰ª∂ÂêéÂáΩÊï∞‰ºöÁ´ãÂç≥ÊâßË°åÔºåÁÑ∂Âêé n ÁßíÂÜÖ‰∏çËß¶Âèë‰∫ã‰ª∂ÊâçËÉΩÁªßÁª≠ÊâßË°åÂáΩÊï∞ÁöÑÊïàÊûú„ÄÇ const debounce = (func, wait, ...args) =&gt; { let timeout; return function(){ const context = this; if (timeout) cleatTimeout(timeout); let callNow = !timeout; timeout = setTimeout(() =&gt; { timeout = null; },wait) if(callNow) func.apply(context,args) } } ÁªìÂêàÁâà/** * @desc ÂáΩÊï∞Èò≤Êäñ * @param func ÂáΩÊï∞ * @param wait Âª∂ËøüÊâßË°åÊØ´ÁßíÊï∞ * @param immediate true Ë°®Á´ãÂç≥ÊâßË°åÔºåfalse Ë°®ÈùûÁ´ãÂç≥ÊâßË°å */functiondebounce(func,wait,immediate) { var timeout; returnfunction () { var context = this; var args = arguments; if (timeout) clearTimeout(timeout); if (immediate) { var callNow = !timeout; timeout = setTimeout(function(){ timeout = null; }, wait) if (callNow) func.apply(context, args) } else { timeout = setTimeout(function(){ func.apply(context, args) }, wait); } } } ËäÇÊµÅthrottleÔºàËäÇÊµÅÔºâÔºåÂΩìÊåÅÁª≠Ëß¶Âèë‰∫ã‰ª∂Êó∂Ôºå‰øùËØÅÈöîÈó¥Êó∂Èó¥Ëß¶Âèë‰∏ÄÊ¨°‰∫ã‰ª∂„ÄÇ ÊåÅÁª≠Ëß¶Âèë‰∫ã‰ª∂Êó∂Ôºåthrottle ‰ºöÂêàÂπ∂‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÁöÑ‰∫ã‰ª∂ÔºåÂπ∂Âú®ËØ•Êó∂Èó¥ÁªìÊùüÊó∂ÁúüÊ≠£ÂéªËß¶Âèë‰∏ÄÊ¨°‰∫ã‰ª∂„ÄÇ Êó∂Èó¥Êà≥ÁâàÂú®ÊåÅÁª≠Ëß¶Âèë‰∫ã‰ª∂ÁöÑËøáÁ®ã‰∏≠ÔºåÂáΩÊï∞‰ºöÁ´ãÂç≥ÊâßË°åÔºåÂπ∂‰∏îÊØè 1s ÊâßË°å‰∏ÄÊ¨°„ÄÇ const throttle = (func, wait, ...args) =&gt; { let pre = 0; returnfunction(){ const context = this; let now = Date.now(); if (now - pre &gt;= wait){ func.apply(context, args); pre = Date.now(); } } } ÂÆöÊó∂Âô®ÁâàÂú®ÊåÅÁª≠Ëß¶Âèë‰∫ã‰ª∂ÁöÑËøáÁ®ã‰∏≠ÔºåÂáΩÊï∞‰∏ç‰ºöÁ´ãÂç≥ÊâßË°åÔºåÂπ∂‰∏îÊØè 1s ÊâßË°å‰∏ÄÊ¨°ÔºåÂú®ÂÅúÊ≠¢Ëß¶Âèë‰∫ã‰ª∂ÂêéÔºåÂáΩÊï∞Ëøò‰ºöÂÜçÊâßË°å‰∏ÄÊ¨°„ÄÇ const throttle = (func, wait, ...args) =&gt; { let timeout; return function(){ const context = this; if(!timeout){ timeout = setTimeout(() =&gt; { timeout = null; func.apply(context,args); },wait) } } } ÁªìÂêàÁâàÂÖ∂ÂÆûÊó∂Èó¥Êà≥ÁâàÂíåÂÆöÊó∂Âô®ÁâàÁöÑËäÇÊµÅÂáΩÊï∞ÁöÑÂå∫Âà´Â∞±ÊòØÔºåÊó∂Èó¥Êà≥ÁâàÁöÑÂáΩÊï∞Ëß¶ÂèëÊòØÂú®Êó∂Èó¥ÊÆµÂÜÖÂºÄÂßãÁöÑÊó∂ÂÄôÔºåËÄåÂÆöÊó∂Âô®ÁâàÁöÑÂáΩÊï∞Ëß¶ÂèëÊòØÂú®Êó∂Èó¥ÊÆµÂÜÖÁªìÊùüÁöÑÊó∂ÂÄô„ÄÇ /** * @desc ÂáΩÊï∞ËäÇÊµÅ * @param func ÂáΩÊï∞ * @param wait Âª∂ËøüÊâßË°åÊØ´ÁßíÊï∞ * @param type 1 Ë°®Êó∂Èó¥Êà≥ÁâàÔºå2 Ë°®ÂÆöÊó∂Âô®Áâà */functionthrottle(func, wait ,type) { if(type===1){ var previous = 0; }elseif(type===2){ var timeout; } returnfunction() { var context = this; var args = arguments; if(type===1){ var now = Date.now(); if (now - previous &gt; wait) { func.apply(context, args); previous = now; } }elseif(type===2){ if (!timeout) { timeout = setTimeout(function() { timeout = null; func.apply(context, args) }, wait) } } } }]]></content>
      <tags>
        <tag>Èò≤Êäñ</tag>
        <tag>ËäÇÊµÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[deferÂíåasyncÁöÑÂå∫Âà´]]></title>
    <url>%2F2016%2F01%2F25%2Fdefer%E5%92%8Casync%E7%9A%84%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[ÂÖàÊù•ËØï‰∏™‰∏ÄÂè•ËØùËß£Èáä‰ª®ÔºåÂΩìÊµèËßàÂô®Á¢∞Âà∞ script ËÑöÊú¨ÁöÑÊó∂ÂÄôÔºö &lt;script src=&quot;&quot;&gt;&lt;/script&gt; Ê≤°Êúâ defer Êàñ asyncÔºåÊµèËßàÂô®‰ºöÁ´ãÂç≥Âä†ËΩΩÂπ∂ÊâßË°åÊåáÂÆöÁöÑËÑöÊú¨Ôºå‚ÄúÁ´ãÂç≥‚ÄùÊåáÁöÑÊòØÂú®Ê∏≤ÊüìËØ• script Ê†áÁ≠æ‰πã‰∏ãÁöÑÊñáÊ°£ÂÖÉÁ¥†‰πãÂâçÔºå‰πüÂ∞±ÊòØËØ¥‰∏çÁ≠âÂæÖÂêéÁª≠ËΩΩÂÖ•ÁöÑÊñáÊ°£ÂÖÉÁ¥†ÔºåËØªÂà∞Â∞±Âä†ËΩΩÂπ∂ÊâßË°å„ÄÇ &lt;script async src=&quot;&quot;&gt;&lt;/script&gt; Êúâ asyncÔºåÂä†ËΩΩÂíåÊ∏≤ÊüìÂêéÁª≠ÊñáÊ°£ÂÖÉÁ¥†ÁöÑËøáÁ®ãÂ∞ÜÂíå script.js ÁöÑÂä†ËΩΩ‰∏éÊâßË°åÂπ∂Ë°åËøõË°åÔºàÂºÇÊ≠•Ôºâ„ÄÇ &lt;script defer src=&quot;&quot;&gt;&lt;/script&gt; Êúâ deferÔºåÂä†ËΩΩÂêéÁª≠ÊñáÊ°£ÂÖÉÁ¥†ÁöÑËøáÁ®ãÂ∞ÜÂíå script.js ÁöÑÂä†ËΩΩÂπ∂Ë°åËøõË°åÔºàÂºÇÊ≠•ÔºâÔºå‰ΩÜÊòØ script.js ÁöÑÊâßË°åË¶ÅÂú®ÊâÄÊúâÂÖÉÁ¥†Ëß£ÊûêÂÆåÊàê‰πãÂêéÔºåDOMContentLoaded ‰∫ã‰ª∂Ëß¶Âèë‰πãÂâçÂÆåÊàê„ÄÇ ÁÑ∂Âêé‰ªéÂÆûÁî®ËßíÂ∫¶Êù•ËØ¥Âë¢ÔºåÈ¶ñÂÖàÊääÊâÄÊúâËÑöÊú¨ÈÉΩ‰∏¢Âà∞ &lt;/body&gt; ‰πãÂâçÊòØÊúÄ‰Ω≥ÂÆûË∑µÔºåÂõ†‰∏∫ÂØπ‰∫éÊóßÊµèËßàÂô®Êù•ËØ¥ËøôÊòØÂîØ‰∏ÄÁöÑ‰ºòÂåñÈÄâÊã©ÔºåÊ≠§Ê≥ïÂèØ‰øùËØÅÈùûËÑöÊú¨ÁöÑÂÖ∂‰ªñ‰∏ÄÂàáÂÖÉÁ¥†ËÉΩÂ§ü‰ª•ÊúÄÂø´ÁöÑÈÄüÂ∫¶ÂæóÂà∞Âä†ËΩΩÂíåËß£Êûê„ÄÇ Êé•ÁùÄÔºåÊàë‰ª¨Êù•Áúã‰∏ÄÂº†ÂõæÂíØÔºö ËìùËâ≤Á∫ø‰ª£Ë°®ÁΩëÁªúËØªÂèñÔºåÁ∫¢Ëâ≤Á∫ø‰ª£Ë°®ÊâßË°åÊó∂Èó¥ÔºåËøô‰ø©ÈÉΩÊòØÈíàÂØπËÑöÊú¨ÁöÑÔºõÁªøËâ≤Á∫ø‰ª£Ë°® HTML Ëß£Êûê„ÄÇ„ÄêJS Ëß£Êûê‰ºöÈòªÂ°ûHTMLËß£Êûê„ÄëÊ≠§ÂõæÂëäËØâÊàë‰ª¨‰ª•‰∏ãÂá†‰∏™Ë¶ÅÁÇπÔºö defer Âíå async Âú®ÁΩëÁªúËØªÂèñÔºà‰∏ãËΩΩÔºâËøôÂùóÂÑøÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÊòØÂºÇÊ≠•ÁöÑÔºàÁõ∏ËæÉ‰∫é HTML Ëß£ÊûêÔºâ ÂÆÉ‰ø©ÁöÑÂ∑ÆÂà´Âú®‰∫éËÑöÊú¨‰∏ãËΩΩÂÆå‰πãÂêé‰ΩïÊó∂ÊâßË°åÔºåÊòæÁÑ∂ defer ÊòØÊúÄÊé•ËøëÊàë‰ª¨ÂØπ‰∫éÂ∫îÁî®ËÑöÊú¨Âä†ËΩΩÂíåÊâßË°åÁöÑË¶ÅÊ±ÇÁöÑ ÂÖ≥‰∫é deferÔºåÊ≠§ÂõæÊú™Â∞Ω‰πãÂ§ÑÂú®‰∫éÂÆÉÊòØÊåâÁÖßÂä†ËΩΩÈ°∫Â∫èÊâßË°åËÑöÊú¨ÁöÑÔºåËøô‰∏ÄÁÇπË¶ÅÂñÑÂä†Âà©Áî® async ÂàôÊòØ‰∏Ä‰∏™‰π±Â∫èÊâßË°åÁöÑ‰∏ªÔºåÂèçÊ≠£ÂØπÂÆÉÊù•ËØ¥ËÑöÊú¨ÁöÑÂä†ËΩΩÂíåÊâßË°åÊòØÁ¥ßÁ¥ßÊå®ÁùÄÁöÑÔºåÊâÄ‰ª•‰∏çÁÆ°‰Ω†Â£∞ÊòéÁöÑÈ°∫Â∫èÂ¶Ç‰ΩïÔºåÂè™Ë¶ÅÂÆÉÂä†ËΩΩÂÆå‰∫ÜÂ∞±‰ºöÁ´ãÂàªÊâßË°å ‰ªîÁªÜÊÉ≥ÊÉ≥Ôºåasync ÂØπ‰∫éÂ∫îÁî®ËÑöÊú¨ÁöÑÁî®Â§Ñ‰∏çÂ§ßÔºåÂõ†‰∏∫ÂÆÉÂÆåÂÖ®‰∏çËÄÉËôë‰æùËµñÔºàÂì™ÊÄïÊòØÊúÄ‰ΩéÁ∫ßÁöÑÈ°∫Â∫èÊâßË°åÔºâÔºå‰∏çËøáÂÆÉÂØπ‰∫éÈÇ£‰∫õÂèØ‰ª•‰∏ç‰æùËµñ‰ªª‰ΩïËÑöÊú¨Êàñ‰∏çË¢´‰ªª‰ΩïËÑöÊú¨‰æùËµñÁöÑËÑöÊú¨Êù•ËØ¥Âç¥ÊòØÈùûÂ∏∏ÂêàÈÄÇÁöÑÔºåÊúÄÂÖ∏ÂûãÁöÑ‰æãÂ≠êÔºöGoogle Analytics]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FastClick-Ê∫êÁ†ÅËß£Êûê]]></title>
    <url>%2F2016%2F01%2F22%2FFastClick-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687;(function() &#123; &apos;use strict&apos;; //ÊûÑÈÄ†ÂáΩÊï∞ function FastClick(layer, options) &#123; var oldOnClick; options = options || &#123;&#125;; //ÊòØÂê¶ÂºÄÂßãËøΩË∏™click‰∫ã‰ª∂ this.trackingClick = false; //Â≠òÂÇ®Á¨¨‰∏ÄÊ¨°Êåâ‰∏ãÊó∂Èó¥Êà≥ this.trackingClickStart = 0; //ÁõÆÊ†áÂÖÉÁ¥† this.targetElement = null; //Â≠òÊîæÂùêÊ†áÂÄºX this.touchStartX = 0; //Â≠òÊîæÂùêÊ†áÂÄºY this.touchStartY = 0; //‰∏ªË¶Åhack iOS4‰∏ãÁöÑ‰∏Ä‰∏™ÊÄ™ÂºÇÈóÆÈ¢ò this.lastTouchIdentifier = 0; //Áî®‰∫éÂå∫ÂàÜÊòØclickËøòÊòØTouchmoveÔºåËã•Âá∫ÁÇπÁßªÂä®Ë∂ÖËøáËØ•ÂÄºÂàôËßÜ‰∏∫touchmove this.touchBoundary = options.touchBoundary || 10; // ÁªëÂÆö‰∫ÜFastClickÁöÑÂÖÉÁ¥†Ôºå‰∏ÄËà¨ÊòØÊòØbody this.layer = layer; //ÂèåÂáªÊúÄÂ∞èÁÇπÂáªÊó∂Èó¥Â∑Æ this.tapDelay = options.tapDelay || 200; //ÈïøÊåâÊúÄÂ§ßÊó∂Èó¥ this.tapTimeout = options.tapTimeout || 700; //Â¶ÇÊûúÊòØÂ±û‰∫é‰∏çÈúÄË¶ÅÂ§ÑÁêÜÁöÑÂÖÉÁ¥†Á±ªÂûãÔºåÂàôÁõ¥Êé•ËøîÂõû if(FastClick.notNeeded(layer)) &#123; return; &#125; //ËØ≠Ê≥ïÁ≥ñÔºåÂÖºÂÆπ‰∏Ä‰∫õÁî®‰∏ç‰∫Ü Function.prototype.bind ÁöÑÊóßÂÆâÂçì //ÊâÄ‰ª•ÂêéÈù¢‰∏çËµ∞ layer.addEventListener(&apos;click&apos;, this.onClick.bind(this), true); function bind(method, context) &#123; return function() &#123; return method.apply(context, arguments); &#125;; &#125; var methods = [&apos;onMouse&apos;, &apos;onClick&apos;, &apos;onTouchStart&apos;, &apos;onTouchMove&apos;, &apos;onTouchEnd&apos;, &apos;onTouchCancel&apos;]; var context = this; for(var i = 0, l = methods.length; i &lt; l; i++) &#123; context[methods[i]] = bind(context[methods[i]], context); &#125; //ÂÆâÂçìÂàôÂÅöÈ¢ùÂ§ñÂ§ÑÁêÜ if(deviceIsAndroid) &#123; layer.addEventListener(&apos;mouseover&apos;, this.onMouse, true); layer.addEventListener(&apos;mousedown&apos;, this.onMouse, true); layer.addEventListener(&apos;mouseup&apos;, this.onMouse, true); &#125; layer.addEventListener(&apos;click&apos;, this.onClick, true); layer.addEventListener(&apos;touchstart&apos;, this.onTouchStart, false); layer.addEventListener(&apos;touchmove&apos;, this.onTouchMove, false); layer.addEventListener(&apos;touchend&apos;, this.onTouchEnd, false); layer.addEventListener(&apos;touchcancel&apos;, this.onTouchCancel, false); // ÂÖºÂÆπ‰∏çÊîØÊåÅ stopImmediatePropagation ÁöÑÊµèËßàÂô®(ÊØîÂ¶Ç Android 2) if(!Event.prototype.stopImmediatePropagation) &#123; layer.removeEventListener = function(type, callback, capture) &#123; var rmv = Node.prototype.removeEventListener; if(type === &apos;click&apos;) &#123; rmv.call(layer, type, callback.hijacked || callback, capture); &#125; else &#123; rmv.call(layer, type, callback, capture); &#125; &#125;; layer.addEventListener = function(type, callback, capture) &#123; var adv = Node.prototype.addEventListener; if(type === &apos;click&apos;) &#123; //ÁïôÊÑèËøôÈáå callback.hijacked ‰∏≠‰ºöÂà§Êñ≠ event.propagationStopped ÊòØÂê¶‰∏∫ÁúüÊù•Á°Æ‰øùÔºàÂÆâÂçìÁöÑonMouse‰∫ã‰ª∂ÔºâÂè™ÊâßË°å‰∏ÄÊ¨° //Âú® onMouse ‰∫ã‰ª∂Èáå‰ºöÁªô event.propagationStopped ËµãÂÄº true adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) &#123; if(!event.propagationStopped) &#123; callback(event); &#125; &#125;), capture); &#125; else &#123; adv.call(layer, type, callback, capture); &#125; &#125;; &#125; // Â¶ÇÊûúlayerÁõ¥Êé•Âú®DOM‰∏äÂÜô‰∫Ü onclick ÊñπÊ≥ïÔºåÈÇ£Êàë‰ª¨ÈúÄË¶ÅÊääÂÆÉÊõøÊç¢‰∏∫ addEventListener ÁªëÂÆöÂΩ¢Âºè if(typeof layer.onclick === &apos;function&apos;) &#123; oldOnClick = layer.onclick; layer.addEventListener(&apos;click&apos;, function(event) &#123; oldOnClick(event); &#125;, false); layer.onclick = null; &#125; &#125; /** * Windows Phone 8.1 fakes user agent string to look like Android and iPhone. * * @type boolean */ var deviceIsWindowsPhone = navigator.userAgent.indexOf(&quot;Windows Phone&quot;) &gt;= 0; /** * Android requires exceptions. * * @type boolean */ var deviceIsAndroid = navigator.userAgent.indexOf(&apos;Android&apos;) &gt; 0 &amp;&amp; !deviceIsWindowsPhone; /** * iOS requires exceptions. * * @type boolean */ var deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) &amp;&amp; !deviceIsWindowsPhone; /** * iOS 4 requires an exception for select elements. * * @type boolean */ var deviceIsIOS4 = deviceIsIOS &amp;&amp; (/OS 4_\d(_\d)?/).test(navigator.userAgent); /** * iOS 6.0-7.* requires the target element to be manually derived * * @type boolean */ var deviceIsIOSWithBadTarget = deviceIsIOS &amp;&amp; (/OS [6-7]_\d/).test(navigator.userAgent); /** * BlackBerry requires exceptions. * * @type boolean */ var deviceIsBlackBerry10 = navigator.userAgent.indexOf(&apos;BB10&apos;) &gt; 0; //Âà§Êñ≠ÂÖÉÁ¥†ÊòØÂê¶Ë¶Å‰øùÁïôÁ©øÈÄèÂäüËÉΩ FastClick.prototype.needsClick = function(target) &#123; switch(target.nodeName.toLowerCase()) &#123; // disabledÁöÑinput case &apos;button&apos;: case &apos;select&apos;: case &apos;textarea&apos;: if(target.disabled) &#123; return true; &#125; break; case &apos;input&apos;: // fileÁªÑ‰ª∂ÂøÖÈ°ªÈÄöËøáÂéüÁîüclick‰∫ã‰ª∂ÁÇπÂáªÊâçÊúâÊïà if((deviceIsIOS &amp;&amp; target.type === &apos;file&apos;) || target.disabled) &#123; return true; &#125; break; case &apos;label&apos;: case &apos;iframe&apos;: case &apos;video&apos;: return true; &#125; //ÂÖÉÁ¥†Â∏¶‰∫ÜÂêç‰∏∫‚Äúbneedsclick‚ÄùÁöÑclass‰πüËøîÂõûtrue return(/\bneedsclick\b/).test(target.className); &#125;; //Âà§Êñ≠ÁªôÂÆöÂÖÉÁ¥†ÊòØÂê¶ÈúÄË¶ÅÈÄöËøáÂêàÊàêclick‰∫ã‰ª∂Êù•Ê®°ÊãüËÅöÁÑ¶ FastClick.prototype.needsFocus = function(target) &#123; switch(target.nodeName.toLowerCase()) &#123; case &apos;textarea&apos;: return true; case &apos;select&apos;: return !deviceIsAndroid; //iOS‰∏ãÁöÑselectÂæóËµ∞Á©øÈÄèÁÇπÂáªÊâçË°å case &apos;input&apos;: switch(target.type) &#123; case &apos;button&apos;: case &apos;checkbox&apos;: case &apos;file&apos;: case &apos;image&apos;: case &apos;radio&apos;: case &apos;submit&apos;: return false; &#125; return !target.disabled &amp;&amp; !target.readOnly; default: //Â∏¶ÊúâÂêç‰∏∫‚Äúbneedsfocus‚ÄùÁöÑclassÂàôËøîÂõûtrue return(/\bneedsfocus\b/).test(target.className); &#125; &#125;; //ÂêàÊàê‰∏Ä‰∏™click‰∫ã‰ª∂Âπ∂Âú®ÊåáÂÆöÂÖÉÁ¥†‰∏äËß¶Âèë FastClick.prototype.sendClick = function(targetElement, event) &#123; var clickEvent, touch; // Âú®‰∏Ä‰∫õÂÆâÂçìÊú∫Âô®‰∏≠ÔºåÂæóËÆ©È°µÈù¢ÊâÄÂ≠òÂú®ÁöÑ activeElementÔºàËÅöÁÑ¶ÁöÑÂÖÉÁ¥†ÔºåÊØîÂ¶ÇinputÔºâÂ§±ÁÑ¶ÔºåÂê¶ÂàôÂêàÊàêÁöÑclick‰∫ã‰ª∂Â∞ÜÊó†Êïà if(document.activeElement &amp;&amp; document.activeElement !== targetElement) &#123; document.activeElement.blur(); &#125; touch = event.changedTouches[0]; // ÂêàÊàê(Synthesise) ‰∏Ä‰∏™ click ‰∫ã‰ª∂ // ÈÄöËøá‰∏Ä‰∏™È¢ùÂ§ñÂ±ûÊÄßÁ°Æ‰øùÂÆÉËÉΩË¢´ËøΩË∏™ÔºàtrackedÔºâ clickEvent = document.createEvent(&apos;MouseEvents&apos;); clickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null); clickEvent.forwardedTouchEvent = true; // fastclickÁöÑÂÜÖÈÉ®ÂèòÈáèÔºåÁî®Êù•ËØÜÂà´click‰∫ã‰ª∂ÊòØÂéüÁîüËøòÊòØÂêàÊàêÁöÑ targetElement.dispatchEvent(clickEvent); //Á´ãÂç≥Ëß¶ÂèëÂÖ∂click‰∫ã‰ª∂ &#125;; FastClick.prototype.determineEventType = function(targetElement) &#123; //ÂÆâÂçìËÆæÂ§á‰∏ã Select Êó†Ê≥ïÈÄöËøáÂêàÊàêÁöÑ click ‰∫ã‰ª∂Ë¢´Â±ïÂºÄÔºåÂæóÊîπ‰∏∫ mousedown if(deviceIsAndroid &amp;&amp; targetElement.tagName.toLowerCase() === &apos;select&apos;) &#123; return &apos;mousedown&apos;; &#125; return &apos;click&apos;; &#125;; //ËÆæÁΩÆÂÖÉÁ¥†ËÅöÁÑ¶‰∫ã‰ª∂ FastClick.prototype.focus = function(targetElement) &#123; var length; // ÁªÑ‰ª∂Âª∫ËÆÆÈÄöËøásetSelectionRange(selectionStart, selectionEnd)Êù•ËÆæÂÆöÂÖâÊ†áËåÉÂõ¥ÔºàÊ≥®ÊÑèËøôÊ†∑ËøòÊ≤°ÊúâËÅöÁÑ¶ // Ë¶ÅÁ≠âÂà∞ÂêéÈù¢Ëß¶Âèë sendClick ‰∫ã‰ª∂Êâç‰ºöËÅöÁÑ¶Ôºâ // Âè¶Â§ñ iOS7 ‰∏ãÊúâ‰∫õinputÂÖÉÁ¥†(ÊØîÂ¶Ç date datetime month) ÁöÑ selectionStart Âíå selectionEnd ÁâπÊÄßÊòØÊ≤°ÊúâÊï¥ÂûãÂÄºÁöÑÔºå // ÂØºËá¥‰ºöÊäõÂá∫‰∏Ä‰∏™ÂÖ≥‰∫é setSelectionRange ÁöÑÊ®°Á≥äÈîôËØØÔºåÂÆÉ‰ª¨ÈúÄË¶ÅÊîπÁî® focus ‰∫ã‰ª∂Ëß¶Âèë if(deviceIsIOS &amp;&amp; targetElement.setSelectionRange &amp;&amp; targetElement.type.indexOf(&apos;date&apos;) !== 0 &amp;&amp; targetElement.type !== &apos;time&apos; &amp;&amp; targetElement.type !== &apos;month&apos;) &#123; length = targetElement.value.length; targetElement.setSelectionRange(length, length); &#125; else &#123; //Áõ¥Êé•Ëß¶ÂèëÂÖ∂focus‰∫ã‰ª∂ targetElement.focus(); &#125; &#125;; /** * Ê£ÄÊü•targetÊòØÂê¶‰∏Ä‰∏™ÊªöÂä®ÂÆπÂô®ÈáåÁöÑÂ≠êÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊòØÂàôÁªôÂÆÉÂä†‰∏™Ê†áËÆ∞ */ FastClick.prototype.updateScrollParent = function(targetElement) &#123; var scrollParent, parentElement; scrollParent = targetElement.fastClickScrollParent; // Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the // target element was moved to another parent. if(!scrollParent || !scrollParent.contains(targetElement)) &#123; parentElement = targetElement; do &#123; if(parentElement.scrollHeight &gt; parentElement.offsetHeight) &#123; scrollParent = parentElement; targetElement.fastClickScrollParent = parentElement; break; &#125; parentElement = parentElement.parentElement; &#125; while (parentElement); &#125; // ÁªôÊªöÂä®ÂÆπÂô®Âä†‰∏™Ê†áÂøófastClickLastScrollTopÔºåÂÄº‰∏∫ÂÖ∂ÂΩìÂâçÂûÇÁõ¥ÊªöÂä®ÂÅèÁßª if(scrollParent) &#123; scrollParent.fastClickLastScrollTop = scrollParent.scrollTop; &#125; &#125;; /** * ËøîÂõûÁõÆÊ†áÂÖÉÁ¥† */ FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) &#123; // ‰∏Ä‰∫õËæÉËÄÅÁöÑÊµèËßàÂô®Ôºåtarget ÂèØËÉΩ‰ºöÊòØ‰∏Ä‰∏™ÊñáÊú¨ËäÇÁÇπÔºåÂæóËøîÂõûÂÖ∂DOMËäÇÁÇπ if(eventTarget.nodeType === Node.TEXT_NODE) &#123; return eventTarget.parentNode; &#125; return eventTarget; &#125;; FastClick.prototype.onTouchStart = function(event) &#123; var targetElement, touch, selection; // Â§öÊåáËß¶ÊéßÁöÑÊâãÂäøÂàôÂøΩÁï• if(event.targetTouches.length &gt; 1) &#123; return true; &#125; targetElement = this.getTargetElementFromEventTarget(event.target); //‰∏Ä‰∫õËæÉËÄÅÁöÑÊµèËßàÂô®Ôºåtarget ÂèØËÉΩ‰ºöÊòØ‰∏Ä‰∏™ÊñáÊú¨ËäÇÁÇπÔºåÂæóËøîÂõûÂÖ∂DOMËäÇÁÇπ touch = event.targetTouches[0]; if(deviceIsIOS) &#123; //IOSÂ§ÑÁêÜ // Ëã•Áî®Êà∑Â∑≤ÁªèÈÄâ‰∏≠‰∫Ü‰∏Ä‰∫õÂÜÖÂÆπÔºàÊØîÂ¶ÇÈÄâ‰∏≠‰∫Ü‰∏ÄÊÆµÊñáÊú¨ÊâìÁÆóÂ§çÂà∂ÔºâÔºåÂàôÂøΩÁï• selection = window.getSelection(); if(selection.rangeCount &amp;&amp; !selection.isCollapsed) &#123; return true; &#125; if(!deviceIsIOS4) &#123; //ÊòØÂê¶IOS4 //ÊÄ™ÂºÇÁâπÊÄßÂ§ÑÁêÜ‚Äî‚ÄîËã•click‰∫ã‰ª∂ÂõûË∞ÉÊâìÂºÄ‰∫Ü‰∏Ä‰∏™alert/confirmÔºåÁî®Êà∑‰∏ã‰∏ÄÊ¨°tapÈ°µÈù¢ÁöÑÂÖ∂ÂÆÉÂú∞ÊñπÊó∂ÔºåÊñ∞ÁöÑtouchstartÂíåtouchend //‰∫ã‰ª∂‰ºöÊã•ÊúâÂêå‰∏Ä‰∏™touch.identifierÔºàÊñ∞ÁöÑ touch event ‰ºöË∑ü‰∏ä‰∏ÄÊ¨°Ëß¶ÂèëalertÁÇπÂáªÁöÑ touch event ‰∏ÄÊ†∑ÔºâÔºå //‰∏∫ÈÅøÂÖçÂ∞ÜÊñ∞ÁöÑeventÂΩì‰Ωú‰πãÂâçÁöÑeventÂØºËá¥ÈóÆÈ¢òÔºåËøôÈáåÈúÄË¶ÅÁ¶ÅÁî®ÈªòËÆ§‰∫ã‰ª∂ //Âè¶Â§ñchromeÁöÑÂºÄÂèëÂ∑•ÂÖ∑ÂêØÁî®&apos;Emulate touch events&apos;ÂêéÔºåiOS UA‰∏ãÁöÑ identifier ‰ºöÂèòÊàê0ÔºåÊâÄ‰ª•Ë¶ÅÂÅöÂÆπÈîôÈÅøÂÖçË∞ÉËØïËøáÁ®ã‰πüË¢´Á¶ÅÁî®‰∫ã‰ª∂‰∫Ü if(touch.identifier &amp;&amp; touch.identifier === this.lastTouchIdentifier) &#123; event.preventDefault(); return false; &#125; this.lastTouchIdentifier = touch.identifier; // Â¶ÇÊûútargetÊòØ‰∏Ä‰∏™ÊªöÂä®ÂÆπÂô®ÈáåÁöÑ‰∏Ä‰∏™Â≠êÂÖÉÁ¥†(‰ΩøÁî®‰∫Ü -webkit-overflow-scrolling: touch) ÔºåËÄå‰∏îÊª°Ë∂≥: // 1) Áî®Êà∑ÈùûÂ∏∏Âø´ÈÄüÂú∞ÊªöÂä®Â§ñÂ±ÇÊªöÂä®ÂÆπÂô® // 2) Áî®Êà∑ÈÄöËøátapÂÅúÊ≠¢‰Ωè‰∫ÜËøô‰∏™Âø´ÈÄüÊªöÂä® // ËøôÊó∂ÂÄôÊúÄÂêéÁöÑ&apos;touchend&apos;ÁöÑevent.target‰ºöÂèòÊàêÁî®Êà∑ÊúÄÁªàÊâãÊåá‰∏ãÁöÑÈÇ£‰∏™ÂÖÉÁ¥† // ÊâÄ‰ª•ÂΩìÂø´ÈÄüÊªöÂä®ÂºÄÂßãÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÅöÊ£ÄÊü•targetÊòØÂê¶ÊªöÂä®ÂÆπÂô®ÁöÑÂ≠êÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊòØÔºåÂÅö‰∏™Ê†áËÆ∞ // Âú®touchendÊó∂Ê£ÄÊü•Ëøô‰∏™Ê†áËÆ∞ÁöÑÂÄºÔºàÊªöÂä®ÂÆπÂô®ÁöÑscrolltopÔºâÊòØÂê¶ÊîπÂèò‰∫ÜÔºåÂ¶ÇÊûúÊòØÂàôËØ¥ÊòéÈ°µÈù¢Âú®ÊªöÂä®‰∏≠ÔºåÈúÄË¶ÅÂèñÊ∂àfastclickÂ§ÑÁêÜ this.updateScrollParent(targetElement); &#125; &#125; this.trackingClick = true; //ÂÅö‰∏™Ê†áÂøóË°®Á§∫ÂºÄÂßãËøΩË∏™click‰∫ã‰ª∂‰∫Ü this.trackingClickStart = event.timeStamp; //Ê†áËÆ∞‰∏ãtouch‰∫ã‰ª∂ÂºÄÂßãÁöÑÊó∂Èó¥Êà≥ this.targetElement = targetElement; //Ê†áËÆ∞touchËµ∑ÂßãÁÇπÁöÑÈ°µÈù¢ÂÅèÁßªÂÄº this.touchStartX = touch.pageX; this.touchStartY = touch.pageY; // this.lastClickTime ÊòØÂú® touchend ÈáåÊ†áËÆ∞ÁöÑ‰∫ã‰ª∂Êó∂Èó¥Êà≥ // this.tapDelay ‰∏∫Â∏∏Èáè 200 ÔºàmsÔºâ // Ê≠§‰∏æÁî®Êù•ÈÅøÂÖç phantom ÁöÑÂèåÂáªÔºà200msÂÜÖÂø´ÈÄüÁÇπ‰∫Ü‰∏§Ê¨°ÔºâËß¶Âèë click // ÂèçÊ≠£200msÂÜÖÁöÑÁ¨¨‰∫åÊ¨°ÁÇπÂáª‰ºöÁ¶ÅÊ≠¢Ëß¶ÂèëÁÇπÂáªÁöÑÈªòËÆ§‰∫ã‰ª∂ if((event.timeStamp - this.lastClickTime) &lt; this.tapDelay) &#123; event.preventDefault(); &#125; return true; &#125;; //Âà§Êñ≠ÊòØÂê¶ÁßªÂä®‰∫Ü //this.touchBoundaryÊòØÂ∏∏ÈáèÔºåÂÄº‰∏∫10 //Â¶ÇÊûútouchÂ∑≤ÁªèÁßªÂä®‰∫Ü10‰∏™ÂÅèÁßªÈáèÂçï‰ΩçÔºåÂàôÂ∫îÂΩì‰Ωú‰∏∫ÁßªÂä®‰∫ã‰ª∂Â§ÑÁêÜËÄåÈùûclick‰∫ã‰ª∂ FastClick.prototype.touchHasMoved = function(event) &#123; var touch = event.changedTouches[0], boundary = this.touchBoundary; if(Math.abs(touch.pageX - this.touchStartX) &gt; boundary || Math.abs(touch.pageY - this.touchStartY) &gt; boundary) &#123; return true; &#125; return false; &#125;; FastClick.prototype.onTouchMove = function(event) &#123; //‰∏çÊòØÈúÄË¶ÅË¢´ËøΩË∏™clickÁöÑ‰∫ã‰ª∂ÂàôÂøΩÁï• if(!this.trackingClick) &#123; return true; &#125; // Â¶ÇÊûútargetÁ™ÅÁÑ∂ÊîπÂèò‰∫ÜÔºåÊàñËÄÖÁî®Êà∑ÂÖ∂ÂÆûÊòØÂú®ÁßªÂä®ÊâãÂäøËÄåÈùûÊÉ≥Ë¶Åclick // ÂàôÂ∫îËØ•Ê∏ÖÊéâthis.trackingClickÂíåthis.targetElementÔºåÂëäËØâÂêéÈù¢ÁöÑ‰∫ã‰ª∂‰Ω†‰ª¨‰πü‰∏çÁî®Â§ÑÁêÜ‰∫Ü if(this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) &#123; this.trackingClick = false; this.targetElement = null; &#125; return true; &#125;; //ÊâæÂà∞labelÊ†áÁ≠æÊâÄÊò†Â∞ÑÁöÑÁªÑ‰ª∂ÔºåÊñπ‰æøËÆ©Áî®Êà∑ÁÇπlabelÁöÑÊó∂ÂÄôÁõ¥Êé•ÊøÄÊ¥ªËØ•ÁªÑ‰ª∂ FastClick.prototype.findControl = function(labelElement) &#123; // ÊúâÁºìÂ≠òÂàôÁõ¥Êé•ËØªÁºìÂ≠òÁùÄÁöÑ if(labelElement.control !== undefined) &#123; return labelElement.control; &#125; // Ëé∑ÂèñÊåáÂêëÁöÑÁªÑ‰ª∂ if(labelElement.htmlFor) &#123; return document.getElementById(labelElement.htmlFor); &#125; // Ê≤°ÊúâforÂ±ûÊÄßÂàôÊøÄÊ¥ªÈ°µÈù¢Á¨¨‰∏Ä‰∏™ÁªÑ‰ª∂Ôºàlabellable ÂÖÉÁ¥†Ôºâ return labelElement.querySelector(&apos;button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea&apos;); &#125;; FastClick.prototype.onTouchEnd = function(event) &#123; var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement; if(!this.trackingClick) &#123; return true; &#125; // ÈÅøÂÖç phantom ÁöÑÂèåÂáªÔºà200msÂÜÖÂø´ÈÄüÁÇπ‰∫Ü‰∏§Ê¨°ÔºâËß¶Âèë click // Êàë‰ª¨Âú® ontouchstart ÈáåÂ∑≤ÁªèÂÅöËøá‰∏ÄÊ¨°Âà§Êñ≠‰∫ÜÔºà‰ªÖ‰ªÖÁ¶ÅÁî®ÈªòËÆ§‰∫ã‰ª∂ÔºâÔºåËøôÈáåÂÜçÂÅö‰∏ÄÊ¨°Âà§Êñ≠ if((event.timeStamp - this.lastClickTime) &lt; this.tapDelay) &#123; this.cancelNextClick = true; //ËØ•Â±ûÊÄß‰ºöÂú® onMouse ‰∫ã‰ª∂‰∏≠Ë¢´Âà§Êñ≠Ôºå‰∏∫trueÂàôÂΩªÂ∫ïÁ¶ÅÁî®‰∫ã‰ª∂ÂíåÂÜíÊ≥° return true; &#125; //this.tapTimeoutÊòØÂ∏∏ÈáèÔºåÂÄº‰∏∫700 //ËØÜÂà´ÊòØÂê¶‰∏∫ÈïøÊåâ‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊòØÔºàÂ§ß‰∫é700msÔºâÂàôÂøΩÁï• if((event.timeStamp - this.trackingClickStart) &gt; this.tapTimeout) &#123; return true; &#125; // ÂæóÈáçÁΩÆ‰∏∫falseÔºåÈÅøÂÖçinput‰∫ã‰ª∂Ë¢´ÊÑèÂ§ñÂèñÊ∂à // ‰æãÂ≠êËßÅ https://github.com/ftlabs/fastclick/issues/156 this.cancelNextClick = false; this.lastClickTime = event.timeStamp; //Ê†áËÆ∞touchendÊó∂Èó¥ÔºåÊñπ‰æø‰∏ã‰∏ÄÊ¨°ÁöÑtouchstartÂÅöÂèåÂáªÊ†°È™å trackingClickStart = this.trackingClickStart; //ÈáçÁΩÆ this.trackingClick Âíå this.trackingClickStart this.trackingClick = false; this.trackingClickStart = 0; // iOS 6.0-7.*ÁâàÊú¨‰∏ãÊúâ‰∏™ÈóÆÈ¢ò ‚Äî‚Äî Â¶ÇÊûúlayerÂ§Ñ‰∫étransitionÊàñscrollËøáÁ®ãÔºåeventÊâÄÊèê‰æõÁöÑtargetÊòØ‰∏çÊ≠£Á°ÆÁöÑ // ÊâÄ‰ª•Âí±‰ª¨ÂæóÈáçÊâæ targetElementÔºàËøôÈáåÈÄöËøá document.elementFromPoint Êé•Âè£Êù•ÂØªÊâæÔºâ if(deviceIsIOSWithBadTarget) &#123; //iOS 6.0-7.*ÁâàÊú¨ touch = event.changedTouches[0]; //ÊâãÊåáÁ¶ªÂºÄÂâçÁöÑËß¶ÁÇπ // Êúâ‰∫õÊÉÖÂÜµ‰∏ã elementFromPoint ÈáåÁöÑÂèÇÊï∞ÊòØÈ¢ÑÊúüÂ§ñ/‰∏çÂèØÁî®ÁöÑ, ÊâÄ‰ª•ËøòÂæóÈÅøÂÖç targetElement ‰∏∫ null targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement; // targetÂèØËÉΩ‰∏çÊ≠£Á°ÆÈúÄË¶ÅÈáçÊâæÔºå‰ΩÜfastClickScrollParentÊòØ‰∏ç‰ºöÂèòÁöÑ targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent; &#125; targetTagName = targetElement.tagName.toLowerCase(); if(targetTagName === &apos;label&apos;) &#123; //ÊòØlabelÂàôÊøÄÊ¥ªÂÖ∂ÊåáÂêëÁöÑÁªÑ‰ª∂ forElement = this.findControl(targetElement); if(forElement) &#123; this.focus(targetElement); //ÂÆâÂçìÁõ¥Êé•ËøîÂõûÔºàÊó†ÈúÄÂêàÊàêclick‰∫ã‰ª∂Ëß¶ÂèëÔºåÂõ†‰∏∫ÁÇπÂáªÂíåÊøÄÊ¥ªÂÖÉÁ¥†‰∏çÂêåÔºå‰∏çÂ≠òÂú®ÁÇπÈÄèÔºâ if(deviceIsAndroid) &#123; return false; &#125; targetElement = forElement; &#125; &#125; else if(this.needsFocus(targetElement)) &#123; //ÈùûlabelÂàôËØÜÂà´ÊòØÂê¶ÈúÄË¶ÅfocusÁöÑÂÖÉÁ¥† //ÊâãÂäøÂÅúÁïôÂú®ÁªÑ‰ª∂ÂÖÉÁ¥†Êó∂ÈïøË∂ÖËøá100msÔºåÂàôÁΩÆÁ©∫this.targetElementÂπ∂ËøîÂõû //ÔºàËÄå‰∏çÊòØÈÄöËøáË∞ÉÁî®this.focusÊù•Ëß¶ÂèëÂÖ∂ËÅöÁÑ¶‰∫ã‰ª∂ÔºåËµ∞ÁöÑÂéüÁîüÁöÑclick/focus‰∫ã‰ª∂Ëß¶ÂèëÊµÅÁ®ãÔºâ //Ëøô‰πüÊòØ‰∏∫‰ΩïÊñáÁ´†ÂºÄÂ§¥ÊèêÂà∞ÁöÑÈóÆÈ¢ò‰∏≠ÔºåÁ®çÂæÆ‰πÖÊåâ‰∏ÄÁÇπÔºàË∂ÖËøá100msÔºâtextareaÊòØÂèØ‰ª•ÊääÂÖâÊ†áÂÆö‰ΩçÂú®Ê≠£Á°ÆÁöÑÂú∞ÊñπÁöÑÂéüÂõ† //Âè¶Â§ñiOS‰∏ãÊúâ‰∏™ÊÑèÊñô‰πãÂ§ñÁöÑbug‚Äî‚ÄîÂ¶ÇÊûúË¢´ÁÇπÂáªÁöÑÂÖÉÁ¥†ÊâÄÂú®ÊñáÊ°£ÊòØÂú®iframe‰∏≠ÁöÑÔºåÊâãÂä®Ë∞ÉÁî®ÂÖ∂focusÁöÑËØùÔºå //‰ºöÂèëÁé∞‰Ω†ÂæÄÂÖ∂‰∏≠ËæìÂÖ•ÁöÑtextÊòØÁúã‰∏çÂà∞ÁöÑÔºàÂç≥‰ΩøvalueÂÅö‰∫ÜÊõ¥Êñ∞ÔºâÔºåsoËøôÈáå‰πüÁõ¥Êé•ËøîÂõû if((event.timeStamp - trackingClickStart) &gt; 100 || (deviceIsIOS &amp;&amp; window.top !== window &amp;&amp; targetTagName === &apos;input&apos;)) &#123; this.targetElement = null; return false; &#125; this.focus(targetElement); this.sendClick(targetElement, event); //Á´ãÂç≥Ëß¶ÂèëÂÖ∂click‰∫ã‰ª∂ÔºåËÄåÊó†È°ªÁ≠âÂæÖ300ms //iOS4‰∏ãÁöÑ select ÂÖÉÁ¥†‰∏çËÉΩÁ¶ÅÁî®ÈªòËÆ§‰∫ã‰ª∂ÔºàË¶ÅÁ°Æ‰øùÂÆÉËÉΩË¢´Á©øÈÄèÔºâÔºåÂê¶Âàô‰∏ç‰ºöÊâìÂºÄselectÁõÆÂΩï //ÊúâÊó∂ÂÄô iOS6/7 ‰∏ãÔºàVoiceOverÂºÄÂêØÁöÑÊÉÖÂÜµ‰∏ãÔºâ‰πü‰ºöÂ¶ÇÊ≠§ if(!deviceIsIOS || targetTagName !== &apos;select&apos;) &#123; this.targetElement = null; event.preventDefault(); &#125; return false; &#125; if(deviceIsIOS &amp;&amp; !deviceIsIOS4) &#123; // ÊªöÂä®ÂÆπÂô®ÁöÑÂûÇÁõ¥ÊªöÂä®ÂÅèÁßªÊîπÂèò‰∫ÜÔºåËØ¥ÊòéÊòØÂÆπÂô®Âú®ÂÅöÊªöÂä®ËÄåÈùûÁÇπÂáªÔºåÂàôÂøΩÁï• scrollParent = targetElement.fastClickScrollParent; if(scrollParent &amp;&amp; scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) &#123; return true; &#125; &#125; // Êü•ÁúãÂÖÉÁ¥†ÊòØÂê¶Êó†ÈúÄÂ§ÑÁêÜÁöÑÁôΩÂêçÂçïÂÜÖÔºàÊØîÂ¶ÇÂä†‰∫ÜÂêç‰∏∫‚Äúneedsclick‚ÄùÁöÑclassÔºâ // ‰∏çÊòØÁôΩÂêçÂçïÁöÑÂàôÁÖßÊóßÈ¢ÑÈò≤Á©øÈÄèÂ§ÑÁêÜÔºåÁ´ãÂç≥Ëß¶ÂèëÂêàÊàêÁöÑclick‰∫ã‰ª∂ if(!this.needsClick(targetElement)) &#123; event.preventDefault(); this.sendClick(targetElement, event); &#125; return false; &#125;; FastClick.prototype.onTouchCancel = function() &#123; this.trackingClick = false; this.targetElement = null; &#125;; //Áî®‰∫éÂÜ≥ÂÆöÊòØÂê¶ÂÖÅËÆ∏Á©øÈÄè‰∫ã‰ª∂ÔºàËß¶ÂèëlayerÁöÑclickÈªòËÆ§‰∫ã‰ª∂Ôºâ FastClick.prototype.onMouse = function(event) &#123; // touch‰∫ã‰ª∂‰∏ÄÁõ¥Ê≤°Ëß¶Âèë if(!this.targetElement) &#123; return true; &#125; if(event.forwardedTouchEvent) &#123; //Ëß¶ÂèëÁöÑclick‰∫ã‰ª∂ÊòØÂêàÊàêÁöÑ return true; &#125; // ÁºñÁ®ãÊ¥æÁîüÁöÑ‰∫ã‰ª∂ÊâÄÂØπÂ∫îÂÖÉÁ¥†‰∫ã‰ª∂ÂèØ‰ª•Ë¢´ÂÖÅËÆ∏ // Á°Æ‰øùÂÖ∂Ê≤°ÊâßË°åËøá preventDefault ÊñπÊ≥ïÔºàevent.cancelable ‰∏ç‰∏∫ trueÔºâÂç≥ÂèØ if(!event.cancelable) &#123; return true; &#125; // ÈúÄË¶ÅÂÅöÈ¢ÑÈò≤Á©øÈÄèÂ§ÑÁêÜÁöÑÂÖÉÁ¥†ÔºåÊàñËÄÖÂÅö‰∫ÜÂø´ÈÄüÔºà200msÔºâÂèåÂáªÁöÑÊÉÖÂÜµ if(!this.needsClick(this.targetElement) || this.cancelNextClick) &#123; //ÂÅúÊ≠¢ÂΩìÂâçÈªòËÆ§‰∫ã‰ª∂ÂíåÂÜíÊ≥° if(event.stopImmediatePropagation) &#123; event.stopImmediatePropagation(); &#125; else &#123; // ‰∏çÊîØÊåÅ stopImmediatePropagation ÁöÑËÆæÂ§á(ÊØîÂ¶ÇAndroid 2)ÂÅöÊ†áËÆ∞Ôºå // Á°Æ‰øùËØ•‰∫ã‰ª∂ÂõûË∞É‰∏ç‰ºöÊâßË°åÔºàËßÅ126Ë°åÔºâ event.propagationStopped = true; &#125; // ÂèñÊ∂à‰∫ã‰ª∂ÂíåÂÜíÊ≥° event.stopPropagation(); event.preventDefault(); return false; &#125; //ÂÖÅËÆ∏Á©øÈÄè return true; &#125;; //click‰∫ã‰ª∂Â∏∏ËßÑÈÉΩÊòØtouch‰∫ã‰ª∂Ë°çÁîüÊù•ÁöÑÔºå‰πüÊéíÂú®touchÂêéÈù¢Ëß¶Âèë„ÄÇ //ÂØπ‰∫éÈÇ£‰∫õÊàë‰ª¨Âú®touch‰∫ã‰ª∂ËøáÁ®ãÊ≤°ÊúâÁ¶ÅÁî®ÊéâÈªòËÆ§‰∫ã‰ª∂ÁöÑeventÊù•ËØ¥ÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂú®clickÁöÑÊçïËé∑Èò∂ÊÆµËøõ‰∏ÄÊ≠• //ÂÅöÂà§Êñ≠ÂÜ≥ÂÆöÊòØÂê¶Ë¶ÅÁ¶ÅÊéâÁÇπÂáª‰∫ã‰ª∂ÔºàÈò≤Á©øÈÄèÔºâ FastClick.prototype.onClick = function(event) &#123; var permitted; // Â¶ÇÊûúËøòÊúâ trackingClick Â≠òÂú®ÔºåÂèØËÉΩÊòØÊüê‰∫õUI‰∫ã‰ª∂ÈòªÂ°û‰∫ÜtouchEnd ÁöÑÊâßË°å if(this.trackingClick) &#123; this.targetElement = null; this.trackingClick = false; return true; &#125; // ‰æùÊóßÊòØÂØπ iOS ÊÄ™ÂºÇË°å‰∏∫ÁöÑÂ§ÑÁêÜ ‚Äî‚Äî Â¶ÇÊûúÁî®Êà∑ÁÇπÂáª‰∫ÜiOSÊ®°ÊãüÂô®ÈáåÊüê‰∏™Ë°®Âçï‰∏≠ÁöÑ‰∏Ä‰∏™submitÂÖÉÁ¥† // ÊàñËÄÖÁÇπÂáª‰∫ÜÂºπÂá∫Êù•ÁöÑÈîÆÁõòÈáåÁöÑ‚ÄúGo‚ÄùÊåâÈíÆÔºå‰ºöËß¶Âèë‰∏Ä‰∏™‚Äú‰º™‚Äùclick‰∫ã‰ª∂ÔºàtargetÊòØ‰∏Ä‰∏™submit-typeÁöÑinputÂÖÉÁ¥†Ôºâ if(event.target.type === &apos;submit&apos; &amp;&amp; event.detail === 0) &#123; return true; &#125; permitted = this.onMouse(event); if(!permitted) &#123; //Â¶ÇÊûúÁÇπÂáªÊòØË¢´ÂÖÅËÆ∏ÁöÑÔºåÂ∞Üthis.targetElementÁΩÆÁ©∫ÂèØ‰ª•Á°Æ‰øùonMouse‰∫ã‰ª∂Èáå‰∏ç‰ºöÈòªÊ≠¢ÈªòËÆ§‰∫ã‰ª∂ this.targetElement = null; &#125; //Ê≤°ÊúâÂ§öÂ§ßÊÑè‰πâ return permitted; &#125;; //ÈîÄÊØÅFastclickÊâÄÊ≥®ÂÜåÁöÑÁõëÂê¨‰∫ã‰ª∂„ÄÇÊòØÁªôÂ§ñÈÉ®ÂÆû‰æãÂéªË∞ÉÁî®ÁöÑ FastClick.prototype.destroy = function() &#123; var layer = this.layer; if(deviceIsAndroid) &#123; layer.removeEventListener(&apos;mouseover&apos;, this.onMouse, true); layer.removeEventListener(&apos;mousedown&apos;, this.onMouse, true); layer.removeEventListener(&apos;mouseup&apos;, this.onMouse, true); &#125; layer.removeEventListener(&apos;click&apos;, this.onClick, true); layer.removeEventListener(&apos;touchstart&apos;, this.onTouchStart, false); layer.removeEventListener(&apos;touchmove&apos;, this.onTouchMove, false); layer.removeEventListener(&apos;touchend&apos;, this.onTouchEnd, false); layer.removeEventListener(&apos;touchcancel&apos;, this.onTouchCancel, false); &#125;; //ÊòØÂê¶Ê≤°ÂøÖË¶Å‰ΩøÁî®Âà∞ Fastclick ÁöÑÊ£ÄÊµã FastClick.notNeeded = function(layer) &#123; var metaViewport; var chromeVersion; var blackberryVersion; var firefoxVersion; // ‰∏çÊîØÊåÅËß¶Êë∏ÁöÑËÆæÂ§á if(typeof window.ontouchstart === &apos;undefined&apos;) &#123; return true; &#125; // Ëé∑ÂèñChromeÁâàÊú¨Âè∑ÔºåËã•ÈùûChromeÂàôËøîÂõû0 chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]; if(chromeVersion) &#123; if(deviceIsAndroid) &#123; //ÂÆâÂçì metaViewport = document.querySelector(&apos;meta[name=viewport]&apos;); if(metaViewport) &#123; // ÂÆâÂçì‰∏ãÔºåÂ∏¶Êúâ user-scalable=&quot;no&quot; ÁöÑ meta Ê†áÁ≠æÁöÑ chrome ÊòØ‰ºöËá™Âä®Á¶ÅÁî® 300ms Âª∂ËøüÁöÑÔºåÊâÄ‰ª•Êó†ÈúÄ Fastclick if(metaViewport.content.indexOf(&apos;user-scalable=no&apos;) !== -1) &#123; return true; &#125; // ÂÆâÂçìChrome 32 Âèä‰ª•‰∏äÁâàÊú¨ÔºåËã•Â∏¶Êúâ width=device-width ÁöÑ meta Ê†áÁ≠æ‰πüÊòØÊó†ÈúÄ FastClick ÁöÑ if(chromeVersion &gt; 31 &amp;&amp; document.documentElement.scrollWidth &lt;= window.outerWidth) &#123; return true; &#125; &#125; // ÂÖ∂ÂÆÉÁöÑÂ∞±ËÇØÂÆöÊòØÊ°åÈù¢Á∫ßÁöÑ Chrome ‰∫ÜÔºåÊõ¥‰∏çÈúÄË¶Å FastClick Âï¶ &#125; else &#123; return true; &#125; &#125; if(deviceIsBlackBerry10) &#123; //ÈªëËéìÔºåÂíå‰∏äÈù¢ÂÆâÂçìÂêåÁêÜÔºåÂ∞±‰∏çÂÜôÊ≥®Èáä‰∫Ü blackberryVersion = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/); if(blackberryVersion[1] &gt;= 10 &amp;&amp; blackberryVersion[2] &gt;= 3) &#123; metaViewport = document.querySelector(&apos;meta[name=viewport]&apos;); if(metaViewport) &#123; if(metaViewport.content.indexOf(&apos;user-scalable=no&apos;) !== -1) &#123; return true; &#125; if(document.documentElement.scrollWidth &lt;= window.outerWidth) &#123; return true; &#125; &#125; &#125; &#125; // Â∏¶Êúâ -ms-touch-action: none / manipulation ÁâπÊÄßÁöÑ IE10 ‰ºöÁ¶ÅÁî®ÂèåÂáªÊîæÂ§ßÔºå‰πüÊ≤°Êúâ 300ms Êó∂Âª∂ if(layer.style.msTouchAction === &apos;none&apos; || layer.style.touchAction === &apos;manipulation&apos;) &#123; return true; &#125; // FirefoxÊ£ÄÊµãÔºåÂêå‰∏ä firefoxVersion = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]; if(firefoxVersion &gt;= 27) &#123; metaViewport = document.querySelector(&apos;meta[name=viewport]&apos;); if(metaViewport &amp;&amp; (metaViewport.content.indexOf(&apos;user-scalable=no&apos;) !== -1 || document.documentElement.scrollWidth &lt;= window.outerWidth)) &#123; return true; &#125; &#125; // IE11 Êé®Ëçê‰ΩøÁî®Ê≤°Êúâ‚Äú-ms-‚ÄùÂâçÁºÄÁöÑ touch-action Ê†∑ÂºèÁâπÊÄßÂêç if(layer.style.touchAction === &apos;none&apos; || layer.style.touchAction === &apos;manipulation&apos;) &#123; return true; &#125; return false; &#125;; FastClick.attach = function(layer, options) &#123; return new FastClick(layer, options); &#125;; if(typeof define === &apos;function&apos; &amp;&amp; typeof define.amd === &apos;object&apos; &amp;&amp; define.amd) &#123; // AMD. Register as an anonymous module. define(function() &#123; return FastClick; &#125;); &#125; else if(typeof module !== &apos;undefined&apos; &amp;&amp; module.exports) &#123; module.exports = FastClick.attach; module.exports.FastClick = FastClick; &#125; else &#123; window.FastClick = FastClick; &#125;&#125;()); 1234567891011121314151617181920212223242526272829303132333435&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; &lt;title&gt;Demo&lt;/title&gt; &lt;script src=&quot;./fastclick.js&quot;&gt;&lt;/script&gt; &lt;style&gt; div &#123; width: 200px; background: red;Y margin: 0 auto; height: 200px; color: wheat; font-size: 25px; display: flex; justify-content: center; align-items: center; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;main&quot;&gt;FastClick&lt;/div&gt; &lt;script&gt; FastClick.attach(document.body); document.getElementById(&quot;main&quot;).addEventListener(&quot;click&quot;, function(event) &#123; console.log(event.target.innerText) &#125;, false) &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <tags>
        <tag>fastclick</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊµÖËØ¥ XSS Âíå CSRF]]></title>
    <url>%2F2015%2F09%2F29%2F%E6%B5%85%E8%AF%B4-XSS-%E5%92%8C-CSRF%2F</url>
    <content type="text"><![CDATA[Âú® Web ÂÆâÂÖ®È¢ÜÂüü‰∏≠ÔºåXSS Âíå CSRF ÊòØÊúÄÂ∏∏ËßÅÁöÑÊîªÂáªÊñπÂºè„ÄÇÊú¨ÊñáÂ∞Ü‰ºöÁÆÄÂçï‰ªãÁªç XSS Âíå CSRF ÁöÑÊîªÈò≤ÈóÆÈ¢ò„ÄÇ Â£∞ÊòéÔºöÊú¨ÊñáÁöÑÁ§∫‰æã‰ªÖÁî®‰∫éÊºîÁ§∫Áõ∏ÂÖ≥ÁöÑÊîªÂáªÂéüÁêÜ XSSXSSÔºåÂç≥ Cross Site ScriptÔºå‰∏≠ËØëÊòØË∑®Á´ôËÑöÊú¨ÊîªÂáªÔºõÂÖ∂ÂéüÊú¨Áº©ÂÜôÊòØ CSSÔºå‰ΩÜ‰∏∫‰∫ÜÂíåÂ±ÇÂè†Ê†∑ÂºèË°®(Cascading Style Sheet)ÊúâÊâÄÂå∫ÂàÜÔºåÂõ†ËÄåÂú®ÂÆâÂÖ®È¢ÜÂüüÂè´ÂÅö XSS„ÄÇ XSS ÊîªÂáªÊòØÊåáÊîªÂáªËÄÖÂú®ÁΩëÁ´ô‰∏äÊ≥®ÂÖ•ÊÅ∂ÊÑèÁöÑÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºåÈÄöËøáÊÅ∂ÊÑèËÑöÊú¨ÂØπÂÆ¢Êà∑Á´ØÁΩëÈ°µËøõË°åÁØ°ÊîπÔºå‰ªéËÄåÂú®Áî®Êà∑ÊµèËßàÁΩëÈ°µÊó∂ÔºåÂØπÁî®Êà∑ÊµèËßàÂô®ËøõË°åÊéßÂà∂ÊàñËÄÖËé∑ÂèñÁî®Êà∑ÈöêÁßÅÊï∞ÊçÆÁöÑ‰∏ÄÁßçÊîªÂáªÊñπÂºè„ÄÇ ÊîªÂáªËÄÖÂØπÂÆ¢Êà∑Á´ØÁΩëÈ°µÊ≥®ÂÖ•ÁöÑÊÅ∂ÊÑèËÑöÊú¨‰∏ÄËà¨ÂåÖÊã¨ JavaScriptÔºåÊúâÊó∂‰πü‰ºöÂåÖÂê´ HTML Âíå Flash„ÄÇÊúâÂæàÂ§öÁßçÊñπÂºèËøõË°å XSS ÊîªÂáªÔºå‰ΩÜÂÆÉ‰ª¨ÁöÑÂÖ±ÂêåÁÇπ‰∏∫ÔºöÂ∞Ü‰∏Ä‰∫õÈöêÁßÅÊï∞ÊçÆÂÉè cookie„ÄÅsession ÂèëÈÄÅÁªôÊîªÂáªËÄÖÔºåÂ∞ÜÂèóÂÆ≥ËÄÖÈáçÂÆöÂêëÂà∞‰∏Ä‰∏™Áî±ÊîªÂáªËÄÖÊéßÂà∂ÁöÑÁΩëÁ´ôÔºåÂú®ÂèóÂÆ≥ËÄÖÁöÑÊú∫Âô®‰∏äËøõË°å‰∏Ä‰∫õÊÅ∂ÊÑèÊìç‰Ωú„ÄÇ XSSÊîªÂáªÂèØ‰ª•ÂàÜ‰∏∫3Á±ªÔºöÂèçÂ∞ÑÂûãÔºàÈùûÊåÅ‰πÖÂûãÔºâ„ÄÅÂ≠òÂÇ®ÂûãÔºàÊåÅ‰πÖÂûãÔºâ„ÄÅÂü∫‰∫éDOM„ÄÇ ÂèçÂ∞ÑÂûãÂèçÂ∞ÑÂûã XSS Âè™ÊòØÁÆÄÂçïÂú∞ÊääÁî®Êà∑ËæìÂÖ•ÁöÑÊï∞ÊçÆ ‚ÄúÂèçÂ∞Ñ‚Äù ÁªôÊµèËßàÂô®ÔºåËøôÁßçÊîªÂáªÊñπÂºèÂæÄÂæÄÈúÄË¶ÅÊîªÂáªËÄÖËØ±‰ΩøÁî®Êà∑ÁÇπÂáª‰∏Ä‰∏™ÊÅ∂ÊÑèÈìæÊé•ÔºåÊàñËÄÖÊèê‰∫§‰∏Ä‰∏™Ë°®ÂçïÔºåÊàñËÄÖËøõÂÖ•‰∏Ä‰∏™ÊÅ∂ÊÑèÁΩëÁ´ôÊó∂ÔºåÊ≥®ÂÖ•ËÑöÊú¨ËøõÂÖ•Ë¢´ÊîªÂáªËÄÖÁöÑÁΩëÁ´ô„ÄÇ Áúã‰∏Ä‰∏™Á§∫‰æã„ÄÇÊàëÂÖàÂáÜÂ§á‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑÈùôÊÄÅÈ°µÔºö ÊÅ∂ÊÑèÈìæÊé•ÁöÑÂú∞ÂùÄÊåáÂêë‰∫Ü localhost:8001/?q=111&amp;p=222„ÄÇÁÑ∂ÂêéÔºåÊàëÂÜçÂêØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Node ÊúçÂä°Â§ÑÁêÜÊÅ∂ÊÑèÈìæÊé•ÁöÑËØ∑Ê±ÇÔºö consthttp=require(&apos;http&apos;); functionhandleReequest(req, res) { res.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;); res.writeHead(200, {&apos;Content-Type&apos;:&apos;text/html; charset=UTF-8&apos;}); res.write(&apos;&lt;script&gt;alert(&quot;ÂèçÂ∞ÑÂûã XSS ÊîªÂáª&quot;)&lt;/script&gt;&apos;); res.end(); } constserver=newhttp.Server(); server.listen(8001, &apos;127.0.0.1&apos;); server.on(&apos;request&apos;, handleReequest); ÂΩìÁî®Êà∑ÁÇπÂáªÊÅ∂ÊÑèÈìæÊé•Êó∂ÔºåÈ°µÈù¢Ë∑≥ËΩ¨Âà∞ÊîªÂáªËÄÖÈ¢ÑÂÖàÂáÜÂ§áÁöÑÈ°µÈù¢Ôºå‰ºöÂèëÁé∞Âú®ÊîªÂáªËÄÖÁöÑÈ°µÈù¢ÊâßË°å‰∫Ü js ËÑöÊú¨Ôºö ËøôÊ†∑Â∞±‰∫ßÁîü‰∫ÜÂèçÂ∞ÑÂûã XSS ÊîªÂáª„ÄÇÊîªÂáªËÄÖÂèØ‰ª•Ê≥®ÂÖ•‰ªªÊÑèÁöÑÊÅ∂ÊÑèËÑöÊú¨ËøõË°åÊîªÂáªÔºåÂèØËÉΩÊ≥®ÂÖ•ÊÅ∂‰ΩúÂâßËÑöÊú¨ÔºåÊàñËÄÖÊ≥®ÂÖ•ËÉΩËé∑ÂèñÁî®Êà∑ÈöêÁßÅÊï∞ÊçÆ(Â¶Çcookie)ÁöÑËÑöÊú¨ÔºåËøôÂèñÂÜ≥‰∫éÊîªÂáªËÄÖÁöÑÁõÆÁöÑ„ÄÇ Â≠òÂÇ®ÂûãÂ≠òÂÇ®Âûã XSS ‰ºöÊääÁî®Êà∑ËæìÂÖ•ÁöÑÊï∞ÊçÆ ‚ÄúÂ≠òÂÇ®‚Äù Âú®ÊúçÂä°Âô®Á´ØÔºåÂΩìÊµèËßàÂô®ËØ∑Ê±ÇÊï∞ÊçÆÊó∂ÔºåËÑöÊú¨‰ªéÊúçÂä°Âô®‰∏ä‰º†ÂõûÂπ∂ÊâßË°å„ÄÇËøôÁßç XSS ÊîªÂáªÂÖ∑ÊúâÂæàÂº∫ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ ÊØîËæÉÂ∏∏ËßÅÁöÑ‰∏Ä‰∏™Âú∫ÊôØÊòØÊîªÂáªËÄÖÂú®Á§æÂå∫ÊàñËÆ∫Âùõ‰∏äÂÜô‰∏ã‰∏ÄÁØáÂåÖÂê´ÊÅ∂ÊÑè JavaScript ‰ª£Á†ÅÁöÑÊñáÁ´†ÊàñËØÑËÆ∫ÔºåÊñáÁ´†ÊàñËØÑËÆ∫ÂèëË°®ÂêéÔºåÊâÄÊúâËÆøÈóÆËØ•ÊñáÁ´†ÊàñËØÑËÆ∫ÁöÑÁî®Êà∑ÔºåÈÉΩ‰ºöÂú®‰ªñ‰ª¨ÁöÑÊµèËßàÂô®‰∏≠ÊâßË°åËøôÊÆµÊÅ∂ÊÑèÁöÑ JavaScript ‰ª£Á†Å„ÄÇ ‰∏æ‰∏Ä‰∏™Á§∫‰æã„ÄÇ ÂÖàÂáÜÂ§á‰∏Ä‰∏™ËæìÂÖ•È°µÈù¢Ôºö &lt;input type=&quot;text&quot; id=&quot;input&quot;&gt; &lt;button id=&quot;btn&quot;&gt;Submit&lt;/button&gt; &lt;script&gt; const input = document.getElementById(&apos;input&apos;); const btn = document.getElementById(&apos;btn&apos;); let val; input.addEventListener(&apos;change&apos;, (e) =&gt; { val = e.target.value; }, false); btn.addEventListener(&apos;click&apos;, (e) =&gt; { fetch(&apos;http://localhost:8001/save&apos;, { method: &apos;POST&apos;, body: val }); }, false); &lt;/script&gt; ÂêØÂä®‰∏Ä‰∏™ Node ÊúçÂä°ÁõëÂê¨ save ËØ∑Ê±Ç„ÄÇ‰∏∫‰∫ÜÁÆÄÂåñÔºåÁî®‰∏Ä‰∏™ÂèòÈáèÊù•‰øùÂ≠òÁî®Êà∑ÁöÑËæìÂÖ•Ôºö consthttp=require(&apos;http&apos;); let userInput =&apos;&apos;; functionhandleReequest(req, res) { constmethod=req.method; res.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;); res.setHeader(&apos;Access-Control-Allow-Headers&apos;, &apos;Content-Type&apos;) if (method ===&apos;POST&apos;&amp;&amp;req.url===&apos;/save&apos;) { let body =&apos;&apos;; req.on(&apos;data&apos;, chunk=&gt; { body += chunk; }); req.on(&apos;end&apos;, () =&gt; { if (body) { userInput = body; } res.end(); }); } else { res.writeHead(200, {&apos;Content-Type&apos;:&apos;text/html; charset=UTF-8&apos;}); res.write(userInput); res.end(); } } constserver=newhttp.Server(); server.listen(8001, &apos;127.0.0.1&apos;); server.on(&apos;request&apos;, handleReequest); ÂΩìÁî®Êà∑ÁÇπÂáªÊèê‰∫§ÊåâÈíÆÂ∞ÜËæìÂÖ•‰ø°ÊÅØÊèê‰∫§Âà∞ÊúçÂä°Á´ØÊó∂ÔºåÊúçÂä°Á´ØÈÄöËøá userInput ÂèòÈáè‰øùÂ≠ò‰∫ÜËæìÂÖ•ÂÜÖÂÆπ„ÄÇÂΩìÁî®Êà∑ÈÄöËøá http://localhost:8001/${id} ËÆøÈóÆÊó∂ÔºåÊúçÂä°Á´Ø‰ºöËøîÂõû‰∏é id ÂØπÂ∫îÁöÑÂÜÖÂÆπ(Êú¨Á§∫‰æãÁÆÄÂåñ‰∫ÜÂ§ÑÁêÜ)„ÄÇÂ¶ÇÊûúÁî®Êà∑ËæìÂÖ•‰∫ÜÊÅ∂ÊÑèËÑöÊú¨ÂÜÖÂÆπÔºåÂàôÂÖ∂‰ªñÁî®Êà∑ËÆøÈóÆËØ•ÂÜÖÂÆπÊó∂ÔºåÊÅ∂ÊÑèËÑöÊú¨Â∞±‰ºöÂú®ÊµèËßàÂô®Á´ØÊâßË°åÔºö Âü∫‰∫éDOMÂü∫‰∫é DOM ÁöÑ XSS ÊîªÂáªÊòØÊåáÈÄöËøáÊÅ∂ÊÑèËÑöÊú¨‰øÆÊîπÈ°µÈù¢ÁöÑ DOM ÁªìÊûÑÔºåÊòØÁ∫ØÁ≤πÂèëÁîüÂú®ÂÆ¢Êà∑Á´ØÁöÑÊîªÂáª„ÄÇ ÁúãÂ¶Ç‰∏ã‰ª£Á†ÅÔºö &lt;h2&gt;XSS: &lt;/h2&gt; &lt;inputtype=&quot;text&quot;id=&quot;input&quot;&gt; &lt;buttonid=&quot;btn&quot;&gt;Submit&lt;/button&gt; &lt;divid=&quot;div&quot;&gt;&lt;/div&gt; &lt;script&gt;constinput=document.getElementById(&apos;input&apos;);constbtn=document.getElementById(&apos;btn&apos;);constdiv=document.getElementById(&apos;div&apos;);let val;input.addEventListener(&apos;change&apos;, (e) =&gt; { val =e.target.value; }, false);btn.addEventListener(&apos;click&apos;, () =&gt; {div.innerHTML=`&lt;ahref=${val}&gt;testLink&lt;/a&gt;` }, false);&lt;/script&gt; ÁÇπÂáª Submit ÊåâÈíÆÂêéÔºå‰ºöÂú®ÂΩìÂâçÈ°µÈù¢ÊèíÂÖ•‰∏Ä‰∏™ÈìæÊé•ÔºåÂÖ∂Âú∞ÂùÄ‰∏∫Áî®Êà∑ÁöÑËæìÂÖ•ÂÜÖÂÆπ„ÄÇÂ¶ÇÊûúÁî®Êà∑Âú®ËæìÂÖ•Êó∂ÊûÑÈÄ†‰∫ÜÂ¶Ç‰∏ãÂÜÖÂÆπÔºö &apos;&apos; onclick=alert(/xss/) Áî®Êà∑Êèê‰∫§‰πãÂêéÔºåÈ°µÈù¢‰ª£Á†ÅÂ∞±ÂèòÊàê‰∫ÜÔºö &lt;ahrefonlick=&quot;alert(/xss/)&quot;&gt;testLink&lt;/a&gt; Ê≠§Êó∂ÔºåÁî®Êà∑ÁÇπÂáªÁîüÊàêÁöÑÈìæÊé•ÔºåÂ∞±‰ºöÊâßË°åÂØπÂ∫îÁöÑËÑöÊú¨Ôºö XSS ÊîªÂáªÁöÑÈò≤ËåÉÁé∞Âú®‰∏ªÊµÅÁöÑÊµèËßàÂô®ÂÜÖÁΩÆ‰∫ÜÈò≤ËåÉ XSS ÁöÑÊé™ÊñΩÔºå‰æãÂ¶Ç CSP„ÄÇ‰ΩÜÂØπ‰∫éÂºÄÂèëËÄÖÊù•ËØ¥Ôºå‰πüÂ∫îËØ•ÂØªÊâæÂèØÈù†ÁöÑËß£ÂÜ≥ÊñπÊ°àÊù•Èò≤Ê≠¢ XSS ÊîªÂáª„ÄÇ HttpOnly Èò≤Ê≠¢Âä´Âèñ CookieHttpOnly ÊúÄÊó©Áî±ÂæÆËΩØÊèêÂá∫ÔºåËá≥‰ªäÂ∑≤ÁªèÊàê‰∏∫‰∏Ä‰∏™Ê†áÂáÜ„ÄÇÊµèËßàÂô®Â∞ÜÁ¶ÅÊ≠¢È°µÈù¢ÁöÑJavascript ËÆøÈóÆÂ∏¶Êúâ HttpOnly Â±ûÊÄßÁöÑCookie„ÄÇ ‰∏äÊñáÊúâËØ¥Âà∞ÔºåÊîªÂáªËÄÖÂèØ‰ª•ÈÄöËøáÊ≥®ÂÖ•ÊÅ∂ÊÑèËÑöÊú¨Ëé∑ÂèñÁî®Êà∑ÁöÑ Cookie ‰ø°ÊÅØ„ÄÇÈÄöÂ∏∏ Cookie ‰∏≠ÈÉΩÂåÖÂê´‰∫ÜÁî®Êà∑ÁöÑÁôªÂΩïÂá≠ËØÅ‰ø°ÊÅØÔºåÊîªÂáªËÄÖÂú®Ëé∑ÂèñÂà∞ Cookie ‰πãÂêéÔºåÂàôÂèØ‰ª•ÂèëËµ∑ Cookie Âä´ÊåÅÊîªÂáª„ÄÇÊâÄ‰ª•Ôºå‰∏•Ê†ºÊù•ËØ¥ÔºåHttpOnly Âπ∂ÈùûÈòªÊ≠¢ XSS ÊîªÂáªÔºåËÄåÊòØËÉΩÈòªÊ≠¢ XSS ÊîªÂáªÂêéÁöÑ Cookie Âä´ÊåÅÊîªÂáª„ÄÇ ËæìÂÖ•Ê£ÄÊü•‰∏çË¶ÅÁõ∏‰ø°Áî®Êà∑ÁöÑ‰ªª‰ΩïËæìÂÖ•„ÄÇ ÂØπ‰∫éÁî®Êà∑ÁöÑ‰ªª‰ΩïËæìÂÖ•Ë¶ÅËøõË°åÊ£ÄÊü•„ÄÅËøáÊª§ÂíåËΩ¨‰πâ„ÄÇÂª∫Á´ãÂèØ‰ø°‰ªªÁöÑÂ≠óÁ¨¶Âíå HTML Ê†áÁ≠æÁôΩÂêçÂçïÔºåÂØπ‰∫é‰∏çÂú®ÁôΩÂêçÂçï‰πãÂàóÁöÑÂ≠óÁ¨¶ÊàñËÄÖÊ†áÁ≠æËøõË°åËøáÊª§ÊàñÁºñÁ†Å„ÄÇ Âú® XSS Èò≤Âæ°‰∏≠ÔºåËæìÂÖ•Ê£ÄÊü•‰∏ÄËà¨ÊòØÊ£ÄÊü•Áî®Êà∑ËæìÂÖ•ÁöÑÊï∞ÊçÆ‰∏≠ÊòØÂê¶ÂåÖÂê´ &lt;Ôºå&gt; Á≠âÁâπÊÆäÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåÂàôÂØπÁâπÊÆäÂ≠óÁ¨¶ËøõË°åËøáÊª§ÊàñÁºñÁ†ÅÔºåËøôÁßçÊñπÂºè‰πüÁß∞‰∏∫ XSS Filter„ÄÇ ËÄåÂú®‰∏Ä‰∫õÂâçÁ´ØÊ°ÜÊû∂‰∏≠ÔºåÈÉΩ‰ºöÊúâ‰∏Ä‰ªΩ decodingMapÔºå Áî®‰∫éÂØπÁî®Êà∑ËæìÂÖ•ÊâÄÂåÖÂê´ÁöÑÁâπÊÆäÂ≠óÁ¨¶ÊàñÊ†áÁ≠æËøõË°åÁºñÁ†ÅÊàñËøáÊª§ÔºåÂ¶Ç &lt;Ôºå&gt;ÔºåscriptÔºåÈò≤Ê≠¢ XSS ÊîªÂáªÔºö // vuejs ‰∏≠ÁöÑ decodingMap // Âú® vuejs ‰∏≠ÔºåÂ¶ÇÊûúËæìÂÖ•Â∏¶ script Ê†áÁ≠æÁöÑÂÜÖÂÆπÔºå‰ºöÁõ¥Êé•ËøáÊª§Êéâ const decodingMap = { &apos;&amp;lt;&apos;: &apos;&lt;&apos;, &apos;&amp;gt;&apos;: &apos;&gt;&apos;, &apos;&amp;quot;&apos;: &apos;&quot;&apos;, &apos;&amp;amp;&apos;: &apos;&amp;&apos;, &apos;&amp;#10;&apos;: &apos;\n&apos; } ËæìÂá∫Ê£ÄÊü•Áî®Êà∑ÁöÑËæìÂÖ•‰ºöÂ≠òÂú®ÈóÆÈ¢òÔºåÊúçÂä°Á´ØÁöÑËæìÂá∫‰πü‰ºöÂ≠òÂú®ÈóÆÈ¢ò„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÈô§ÂØåÊñáÊú¨ÁöÑËæìÂá∫Â§ñÔºåÂú®ÂèòÈáèËæìÂá∫Âà∞ HTML È°µÈù¢Êó∂ÔºåÂèØ‰ª•‰ΩøÁî®ÁºñÁ†ÅÊàñËΩ¨‰πâÁöÑÊñπÂºèÊù•Èò≤Âæ° XSS ÊîªÂáª„ÄÇ‰æãÂ¶ÇÂà©Áî® sanitize-html ÂØπËæìÂá∫ÂÜÖÂÆπËøõË°åÊúâËßÑÂàôÁöÑËøáÊª§‰πãÂêéÂÜçËæìÂá∫Âà∞È°µÈù¢‰∏≠„ÄÇ CSRFCSRFÔºåÂç≥ Cross Site Request ForgeryÔºå‰∏≠ËØëÊòØË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÔºåÊòØ‰∏ÄÁßçÂä´ÊåÅÂèó‰ø°‰ªªÁî®Êà∑ÂêëÊúçÂä°Âô®ÂèëÈÄÅÈùûÈ¢ÑÊúüËØ∑Ê±ÇÁöÑÊîªÂáªÊñπÂºè„ÄÇ ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåCSRF ÊîªÂáªÊòØÊîªÂáªËÄÖÂÄüÂä©ÂèóÂÆ≥ËÄÖÁöÑ Cookie È™óÂèñÊúçÂä°Âô®ÁöÑ‰ø°‰ªªÔºåÂèØ‰ª•Âú®ÂèóÂÆ≥ËÄÖÊØ´‰∏çÁü•ÊÉÖÁöÑÊÉÖÂÜµ‰∏ã‰ª•ÂèóÂÆ≥ËÄÖÂêç‰πâ‰º™ÈÄ†ËØ∑Ê±ÇÂèëÈÄÅÁªôÂèóÊîªÂáªÊúçÂä°Âô®Ôºå‰ªéËÄåÂú®Âπ∂Êú™ÊéàÊùÉÁöÑÊÉÖÂÜµ‰∏ãÊâßË°åÂú®ÊùÉÈôê‰øùÊä§‰πã‰∏ãÁöÑÊìç‰Ωú„ÄÇ Âú®‰∏æ‰æãÂ≠ê‰πãÂâçÔºåÂÖàËØ¥ËØ¥ÊµèËßàÂô®ÁöÑ Cookie Á≠ñÁï•„ÄÇ ÊµèËßàÂô®ÁöÑ Cookie Á≠ñÁï•Cookie ÊòØÊúçÂä°Âô®ÂèëÈÄÅÂà∞Áî®Êà∑ÊµèËßàÂô®Âπ∂‰øùÂ≠òÂú®Êú¨Âú∞ÁöÑ‰∏ÄÂ∞èÂùóÊï∞ÊçÆÔºåÂÆÉ‰ºöÂú®ÊµèËßàÂô®‰∏ãÊ¨°ÂêëÂêå‰∏ÄÊúçÂä°Âô®ÂÜçÂèëËµ∑ËØ∑Ê±ÇÊó∂Ë¢´Êê∫Â∏¶Âπ∂ÂèëÈÄÅÂà∞ÊúçÂä°Âô®‰∏ä„ÄÇCookie ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö ‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜÔºàÂ¶ÇÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅË¥≠Áâ©ËΩ¶„ÄÅÊ∏∏ÊàèÂàÜÊï∞ÊàñÂÖ∂ÂÆÉÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÔºâ ‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ ‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ ËÄåÊµèËßàÂô®ÊâÄÊåÅÊúâÁöÑ Cookie ÂàÜ‰∏∫‰∏§ÁßçÔºö Session Cookie(‰ºöËØùÊúü Cookie)Ôºö‰ºöËØùÊúü Cookie ÊòØÊúÄÁÆÄÂçïÁöÑCookieÔºåÂÆÉ‰∏çÈúÄË¶ÅÊåáÂÆöËøáÊúüÊó∂Èó¥ÔºàExpiresÔºâÊàñËÄÖÊúâÊïàÊúüÔºàMax-AgeÔºâÔºåÂÆÉ‰ªÖÂú®‰ºöËØùÊúüÂÜÖÊúâÊïàÔºåÊµèËßàÂô®ÂÖ≥Èó≠‰πãÂêéÂÆÉ‰ºöË¢´Ëá™Âä®Âà†Èô§„ÄÇ Permanent Cookie(ÊåÅ‰πÖÊÄß Cookie)Ôºö‰∏é‰ºöËØùÊúü Cookie ‰∏çÂêåÁöÑÊòØÔºåÊåÅ‰πÖÊÄß Cookie ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÁâπÂÆöÁöÑËøáÊúüÊó∂Èó¥ÔºàExpiresÔºâÊàñÊúâÊïàÊúüÔºàMax-AgeÔºâ„ÄÇ res.setHeader(‚ÄòSet-Cookie‚Äô, [‚Äòmycookie=222‚Äô, ‚Äòtest=3333; expires=Sat, 21 Jul 2018 00:00:00 GMT;‚Äô]); ‰∏äËø∞‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏§‰∏™ CookieÔºömycookie Âíå testÔºåÂâçËÄÖÂ±û‰∫é‰ºöËØùÊúü CookieÔºåÂêéËÄÖÂàôÂ±û‰∫éÊåÅ‰πÖÊÄß Cookie„ÄÇÂΩìÊàë‰ª¨ÂéªÊü•Áúã Cookie Áõ∏ÂÖ≥ÁöÑÂ±ûÊÄßÊó∂Ôºå‰∏çÂêåÁöÑÊµèËßàÂô®ÂØπ‰ºöËØùÊúü Cookie ÁöÑ Expires Â±ûÊÄßÂÄº‰ºö‰∏ç‰∏ÄÊ†∑Ôºö FirefoxÔºö Chrome: Ê≠§Â§ñÔºåÊØè‰∏™ Cookie ÈÉΩ‰ºöÊúâ‰∏é‰πãÂÖ≥ËÅîÁöÑÂüüÔºåËøô‰∏™ÂüüÁöÑËåÉÂõ¥‰∏ÄËà¨ÈÄöËøá donmain Â±ûÊÄßÊåáÂÆö„ÄÇÂ¶ÇÊûú Cookie ÁöÑÂüüÂíåÈ°µÈù¢ÁöÑÂüüÁõ∏ÂêåÔºåÈÇ£‰πàÊàë‰ª¨Áß∞Ëøô‰∏™ Cookie ‰∏∫Á¨¨‰∏ÄÊñπ CookieÔºàfirst-party cookieÔºâÔºåÂ¶ÇÊûú Cookie ÁöÑÂüüÂíåÈ°µÈù¢ÁöÑÂüü‰∏çÂêåÔºåÂàôÁß∞‰πã‰∏∫Á¨¨‰∏âÊñπ CookieÔºàthird-party cookieÔºâ„ÄÇ‰∏Ä‰∏™È°µÈù¢ÂåÖÂê´ÂõæÁâáÊàñÂ≠òÊîæÂú®ÂÖ∂‰ªñÂüü‰∏äÁöÑËµÑÊ∫êÔºàÂ¶ÇÂõæÁâáÔºâÊó∂ÔºåÁ¨¨‰∏ÄÊñπÁöÑ Cookie ‰πüÂè™‰ºöÂèëÈÄÅÁªôËÆæÁΩÆÂÆÉ‰ª¨ÁöÑÊúçÂä°Âô®„ÄÇ ÈÄöËøá Cookie ËøõË°å CSRF ÊîªÂáªÂÅáËÆæÊúâ‰∏Ä‰∏™ bbs Á´ôÁÇπÔºöhttp://www.c.comÔºåÂΩìÁôªÂΩïÂêéÁöÑÁî®Êà∑ÂèëËµ∑Â¶Ç‰∏ã GET ËØ∑Ê±ÇÊó∂Ôºå‰ºöÂà†Èô§ ID ÊåáÂÆöÁöÑÂ∏ñÂ≠êÔºö http://www.c.com:8002/content/delete/:id Â¶ÇÂèëËµ∑ http://www.c.com:8002/content/delete/87343 ËØ∑Ê±ÇÊó∂Ôºå‰ºöÂà†Èô§ id ‰∏∫ 87343 ÁöÑÂ∏ñÂ≠ê„ÄÇÂΩìÁî®Êà∑ÁôªÂΩï‰πãÂêéÔºå‰ºöËÆæÁΩÆÂ¶Ç‰∏ã cookieÔºö res.setHeader(&apos;Set-Cookie&apos;, [&apos;user=22333; expires=Sat, 21 Jul 2018 00:00:00 GMT;&apos;]); user ÂØπÂ∫îÁöÑÂÄºÊòØÁî®Êà∑ ID„ÄÇÁÑ∂ÂêéÊûÑÈÄ†‰∏Ä‰∏™È°µÈù¢ AÔºö &lt;p&gt;CSRF ÊîªÂáªËÄÖÂáÜÂ§áÁöÑÁΩëÁ´ôÔºö&lt;/p&gt; &lt;img src=&quot;http://www.c.com:8002/content/delete/87343&quot;&gt; È°µÈù¢ A ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ img Ê†áÁ≠æÔºåÂÖ∂Âú∞ÂùÄÊåáÂêë‰∫ÜÂà†Èô§Áî®Êà∑Â∏ñÂ≠êÁöÑÈìæÊé•Ôºö ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÁôªÂΩïÁî®Êà∑ËÆøÈóÆÊîªÂáªËÄÖÁöÑÁΩëÁ´ôÊó∂Ôºå‰ºöÂêë www.c.com ÂèëËµ∑‰∏Ä‰∏™Âà†Èô§Áî®Êà∑Â∏ñÂ≠êÁöÑËØ∑Ê±Ç„ÄÇÊ≠§Êó∂Ëã•Áî®Êà∑Âú®ÂàáÊç¢Âà∞ www.c.com ÁöÑÂ∏ñÂ≠êÈ°µÈù¢Âà∑Êñ∞Ôºå‰ºöÂèëÁé∞ID ‰∏∫ 87343 ÁöÑÂ∏ñÂ≠êÂ∑≤ÁªèË¢´Âà†Èô§„ÄÇ Áî±‰∫é Cookie ‰∏≠ÂåÖÂê´‰∫ÜÁî®Êà∑ÁöÑËÆ§ËØÅ‰ø°ÊÅØÔºåÂΩìÁî®Êà∑ËÆøÈóÆÊîªÂáªËÄÖÂáÜÂ§áÁöÑÊîªÂáªÁéØÂ¢ÉÊó∂ÔºåÊîªÂáªËÄÖÂ∞±ÂèØ‰ª•ÂØπÊúçÂä°Âô®ÂèëËµ∑ CSRF ÊîªÂáª„ÄÇÂú®Ëøô‰∏™ÊîªÂáªËøáÁ®ã‰∏≠ÔºåÊîªÂáªËÄÖÂÄüÂä©ÂèóÂÆ≥ËÄÖÁöÑ Cookie È™óÂèñÊúçÂä°Âô®ÁöÑ‰ø°‰ªªÔºå‰ΩÜÂπ∂‰∏çËÉΩÊãøÂà∞ CookieÔºå‰πüÁúã‰∏çÂà∞ Cookie ÁöÑÂÜÖÂÆπ„ÄÇËÄåÂØπ‰∫éÊúçÂä°Âô®ËøîÂõûÁöÑÁªìÊûúÔºåÁî±‰∫éÊµèËßàÂô®ÂêåÊ∫êÁ≠ñÁï•ÁöÑÈôêÂà∂ÔºåÊîªÂáªËÄÖ‰πüÊó†Ê≥ïËøõË°åËß£Êûê„ÄÇÂõ†Ê≠§ÔºåÊîªÂáªËÄÖÊó†Ê≥ï‰ªéËøîÂõûÁöÑÁªìÊûú‰∏≠ÂæóÂà∞‰ªª‰Ωï‰∏úË•øÔºå‰ªñÊâÄËÉΩÂÅöÁöÑÂ∞±ÊòØÁªôÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºå‰ª•ÊâßË°åËØ∑Ê±Ç‰∏≠ÊâÄÊèèËø∞ÁöÑÂëΩ‰ª§ÔºåÂú®ÊúçÂä°Âô®Á´ØÁõ¥Êé•ÊîπÂèòÊï∞ÊçÆÁöÑÂÄºÔºåËÄåÈùûÁ™ÉÂèñÊúçÂä°Âô®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ ‰ΩÜËã• CSRF ÊîªÂáªÁöÑÁõÆÊ†áÂπ∂‰∏çÈúÄË¶Å‰ΩøÁî® CookieÔºåÂàô‰πü‰∏çÂøÖÈ°æËôëÊµèËßàÂô®ÁöÑ Cookie Á≠ñÁï•‰∫Ü„ÄÇ CSRF ÊîªÂáªÁöÑÈò≤ËåÉÂΩìÂâçÔºåÂØπ CSRF ÊîªÂáªÁöÑÈò≤ËåÉÊé™ÊñΩ‰∏ªË¶ÅÊúâÂ¶Ç‰∏ãÂá†ÁßçÊñπÂºè„ÄÇ È™åËØÅÁ†ÅÈ™åËØÅÁ†ÅË¢´ËÆ§‰∏∫ÊòØÂØπÊäó CSRF ÊîªÂáªÊúÄÁÆÄÊ¥ÅËÄåÊúâÊïàÁöÑÈò≤Âæ°ÊñπÊ≥ï„ÄÇ ‰ªé‰∏äËø∞Á§∫‰æã‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåCSRF ÊîªÂáªÂæÄÂæÄÊòØÂú®Áî®Êà∑‰∏çÁü•ÊÉÖÁöÑÊÉÖÂÜµ‰∏ãÊûÑÈÄ†‰∫ÜÁΩëÁªúËØ∑Ê±Ç„ÄÇËÄåÈ™åËØÅÁ†Å‰ºöÂº∫Âà∂Áî®Êà∑ÂøÖÈ°ª‰∏éÂ∫îÁî®ËøõË°å‰∫§‰∫íÔºåÊâçËÉΩÂÆåÊàêÊúÄÁªàËØ∑Ê±Ç„ÄÇÂõ†‰∏∫ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÈ™åËØÅÁ†ÅËÉΩÂ§üÂæàÂ•ΩÂú∞ÈÅèÂà∂ CSRF ÊîªÂáª„ÄÇ ‰ΩÜÈ™åËØÅÁ†ÅÂπ∂‰∏çÊòØ‰∏áËÉΩÁöÑÔºåÂõ†‰∏∫Âá∫‰∫éÁî®Êà∑ËÄÉËôëÔºå‰∏çËÉΩÁªôÁΩëÁ´ôÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÂä†‰∏äÈ™åËØÅÁ†Å„ÄÇÂõ†Ê≠§ÔºåÈ™åËØÅÁ†ÅÂè™ËÉΩ‰Ωú‰∏∫Èò≤Âæ° CSRF ÁöÑ‰∏ÄÁßçËæÖÂä©ÊâãÊÆµÔºåËÄå‰∏çËÉΩ‰Ωú‰∏∫ÊúÄ‰∏ªË¶ÅÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ Referer CheckÊ†πÊçÆ HTTP ÂçèËÆÆÔºåÂú® HTTP Â§¥‰∏≠Êúâ‰∏Ä‰∏™Â≠óÊÆµÂè´ RefererÔºåÂÆÉËÆ∞ÂΩï‰∫ÜËØ• HTTP ËØ∑Ê±ÇÁöÑÊù•Ê∫êÂú∞ÂùÄ„ÄÇÈÄöËøá Referer CheckÔºåÂèØ‰ª•Ê£ÄÊü•ËØ∑Ê±ÇÊòØÂê¶Êù•Ëá™ÂêàÊ≥ïÁöÑ‚ÄùÊ∫ê‚Äù„ÄÇ ÊØîÂ¶ÇÔºåÂ¶ÇÊûúÁî®Êà∑Ë¶ÅÂà†Èô§Ëá™Â∑±ÁöÑÂ∏ñÂ≠êÔºåÈÇ£‰πàÂÖàË¶ÅÁôªÂΩï www.c.comÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫îÁöÑÈ°µÈù¢ÔºåÂèëËµ∑Âà†Èô§Â∏ñÂ≠êÁöÑËØ∑Ê±Ç„ÄÇÊ≠§Êó∂ÔºåReferer ÁöÑÂÄºÊòØ http://www.c.comÔºõÂΩìËØ∑Ê±ÇÊòØ‰ªé www.a.com ÂèëËµ∑Êó∂ÔºåReferer ÁöÑÂÄºÊòØ http://www.a.com ‰∫Ü„ÄÇÂõ†Ê≠§ÔºåË¶ÅÈò≤Âæ° CSRF ÊîªÂáªÔºåÂè™ÈúÄË¶ÅÂØπ‰∫éÊØè‰∏Ä‰∏™Âà†Â∏ñËØ∑Ê±ÇÈ™åËØÅÂÖ∂ Referer ÂÄºÔºåÂ¶ÇÊûúÊòØ‰ª• www.c.com ÂºÄÂ§¥ÁöÑÂüüÂêçÔºåÂàôËØ¥ÊòéËØ•ËØ∑Ê±ÇÊòØÊù•Ëá™ÁΩëÁ´ôËá™Â∑±ÁöÑËØ∑Ê±ÇÔºåÊòØÂêàÊ≥ïÁöÑ„ÄÇÂ¶ÇÊûú Referer ÊòØÂÖ∂‰ªñÁΩëÁ´ôÁöÑËØùÔºåÂàôÊúâÂèØËÉΩÊòØ CSRF ÊîªÂáªÔºåÂèØ‰ª•ÊãíÁªùËØ•ËØ∑Ê±Ç„ÄÇ ÈíàÂØπ‰∏äÊñáÁöÑ‰æãÂ≠êÔºåÂèØ‰ª•Âú®ÊúçÂä°Á´ØÂ¢ûÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö if (req.headers.referer!==&apos;http://www.c.com:8002/&apos;) { res.write(&apos;csrf ÊîªÂáª&apos;); return; } Referer Check ‰∏ç‰ªÖËÉΩÈò≤ËåÉ CSRF ÊîªÂáªÔºåÂè¶‰∏Ä‰∏™Â∫îÁî®Âú∫ÊôØÊòØ ‚ÄúÈò≤Ê≠¢ÂõæÁâáÁõóÈìæ‚Äù„ÄÇ Ê∑ªÂä† token È™åËØÅCSRF ÊîªÂáª‰πãÊâÄ‰ª•ËÉΩÂ§üÊàêÂäüÔºåÊòØÂõ†‰∏∫ÊîªÂáªËÄÖÂèØ‰ª•ÂÆåÂÖ®‰º™ÈÄ†Áî®Êà∑ÁöÑËØ∑Ê±ÇÔºåËØ•ËØ∑Ê±Ç‰∏≠ÊâÄÊúâÁöÑÁî®Êà∑È™åËØÅ‰ø°ÊÅØÈÉΩÊòØÂ≠òÂú®‰∫é Cookie ‰∏≠ÔºåÂõ†Ê≠§ÊîªÂáªËÄÖÂèØ‰ª•Âú®‰∏çÁü•ÈÅìËøô‰∫õÈ™åËØÅ‰ø°ÊÅØÁöÑÊÉÖÂÜµ‰∏ãÁõ¥Êé•Âà©Áî®Áî®Êà∑Ëá™Â∑±ÁöÑ Cookie Êù•ÈÄöËøáÂÆâÂÖ®È™åËØÅ„ÄÇË¶ÅÊäµÂæ° CSRFÔºåÂÖ≥ÈîÆÂú®‰∫éÂú®ËØ∑Ê±Ç‰∏≠ÊîæÂÖ•ÊîªÂáªËÄÖÊâÄ‰∏çËÉΩ‰º™ÈÄ†ÁöÑ‰ø°ÊÅØÔºåÂπ∂‰∏îËØ•‰ø°ÊÅØ‰∏çÂ≠òÂú®‰∫é Cookie ‰πã‰∏≠„ÄÇÂèØ‰ª•Âú® HTTP ËØ∑Ê±Ç‰∏≠‰ª•ÂèÇÊï∞ÁöÑÂΩ¢ÂºèÂä†ÂÖ•‰∏Ä‰∏™ÈöèÊú∫‰∫ßÁîüÁöÑ tokenÔºåÂπ∂Âú®ÊúçÂä°Âô®Á´ØÂª∫Á´ã‰∏Ä‰∏™Êã¶Êà™Âô®Êù•È™åËØÅËøô‰∏™ tokenÔºåÂ¶ÇÊûúËØ∑Ê±Ç‰∏≠Ê≤°Êúâ token ÊàñËÄÖ token ÂÜÖÂÆπ‰∏çÊ≠£Á°ÆÔºåÂàôËÆ§‰∏∫ÂèØËÉΩÊòØ CSRF ÊîªÂáªËÄåÊãíÁªùËØ•ËØ∑Ê±Ç„ÄÇ ÊÄªÁªìÊú¨Êñá‰∏ªË¶Å‰ªãÁªç‰∫Ü XSS Âíå CSRF ÁöÑÊîªÂáªÂéüÁêÜÂíåÈò≤Âæ°Êé™ÊñΩ„ÄÇÂΩìÁÑ∂ÔºåÂú® Web ÂÆâÂÖ®È¢ÜÂüüÔºåÈô§‰∫ÜËøô‰∏§ÁßçÂ∏∏ËßÅÁöÑÊîªÂáªÊñπÂºèÔºå‰πüÂ≠òÂú®Ëøô SQL Ê≥®ÂÖ•Á≠âÂÖ∂ÂÆÉÊîªÂáªÊñπÂºèÔºåËøô‰∏çÂú®Êú¨ÊñáÁöÑËÆ®ËÆ∫ËåÉÂõ¥‰πãÂÜÖÔºåÂ¶ÇÊûú‰Ω†ÂØπÂÖ∂ÊÑüÂÖ¥Ë∂£ÔºåÂèØ‰ª•ÈòÖËØªSQLÊ≥®ÂÖ•ÊäÄÊúØ‰∏ìÈ¢òÁöÑ‰∏ìÊ†èËØ¶ÁªÜ‰∫ÜËß£Áõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇÊúÄÂêéÔºåÊÄªÁªì‰∏Ä‰∏ã XSS ÊîªÂáªÂíå CSRF ÊîªÂáªÁöÑÂ∏∏ËßÅÈò≤Âæ°Êé™ÊñΩÔºö Èò≤Âæ° XSS ÊîªÂáª HttpOnly Èò≤Ê≠¢Âä´Âèñ Cookie Áî®Êà∑ÁöÑËæìÂÖ•Ê£ÄÊü• ÊúçÂä°Á´ØÁöÑËæìÂá∫Ê£ÄÊü• Èò≤Âæ° CSRF ÊîªÂáª È™åËØÅÁ†Å Referer Check Token È™åËØÅ &lt;ÂÆå&gt; ÂèÇËÄÉËµÑÊñô Cross-site scripting CSRF ÊîªÂáªÁöÑÂ∫îÂØπ‰πãÈÅì „ÄäÁôΩÂ∏ΩÂ≠êËÆ≤ Web ÂÆâÂÖ®„Äã]]></content>
      <tags>
        <tag>xss</tag>
        <tag>csrf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂâçÁ´ØÂ∏∏ËßÅË∑®ÂüüËß£ÂÜ≥ÊñπÊ°à]]></title>
    <url>%2F2015%2F09%2F22%2F%E5%89%8D%E7%AB%AF%E5%B8%B8%E8%A7%81%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØË∑®ÂüüÔºüË∑®ÂüüÊòØÊåá‰∏Ä‰∏™Âüü‰∏ãÁöÑÊñáÊ°£ÊàñËÑöÊú¨ËØïÂõæÂéªËØ∑Ê±ÇÂè¶‰∏Ä‰∏™Âüü‰∏ãÁöÑËµÑÊ∫êÔºåËøôÈáåË∑®ÂüüÊòØÂπø‰πâÁöÑ„ÄÇ Âπø‰πâÁöÑË∑®ÂüüÔºö 1.) ËµÑÊ∫êË∑≥ËΩ¨Ôºö AÈìæÊé•„ÄÅÈáçÂÆöÂêë„ÄÅË°®ÂçïÊèê‰∫§ 2.) ËµÑÊ∫êÂµåÂÖ•Ôºö &lt;link&gt;„ÄÅ&lt;script&gt;„ÄÅ&lt;img&gt;„ÄÅ&lt;frame&gt;Á≠âdomÊ†áÁ≠æÔºåËøòÊúâÊ†∑Âºè‰∏≠background:url()„ÄÅ@font-face()Á≠âÊñá‰ª∂Â§ñÈìæ 3.) ËÑöÊú¨ËØ∑Ê±ÇÔºö jsÂèëËµ∑ÁöÑajaxËØ∑Ê±Ç„ÄÅdomÂíåjsÂØπË±°ÁöÑË∑®ÂüüÊìç‰ΩúÁ≠â ÂÖ∂ÂÆûÊàë‰ª¨ÈÄöÂ∏∏ÊâÄËØ¥ÁöÑË∑®ÂüüÊòØÁã≠‰πâÁöÑÔºåÊòØÁî±ÊµèËßàÂô®ÂêåÊ∫êÁ≠ñÁï•ÈôêÂà∂ÁöÑ‰∏ÄÁ±ªËØ∑Ê±ÇÂú∫ÊôØ„ÄÇ ‰ªÄ‰πàÊòØÂêåÊ∫êÁ≠ñÁï•ÔºüÂêåÊ∫êÁ≠ñÁï•/SOPÔºàSame origin policyÔºâÊòØ‰∏ÄÁßçÁ∫¶ÂÆöÔºåÁî±NetscapeÂÖ¨Âè∏1995Âπ¥ÂºïÂÖ•ÊµèËßàÂô®ÔºåÂÆÉÊòØÊµèËßàÂô®ÊúÄÊ†∏ÂøÉ‰πüÊúÄÂü∫Êú¨ÁöÑÂÆâÂÖ®ÂäüËÉΩÔºåÂ¶ÇÊûúÁº∫Â∞ë‰∫ÜÂêåÊ∫êÁ≠ñÁï•ÔºåÊµèËßàÂô®ÂæàÂÆπÊòìÂèóÂà∞XSS„ÄÅCSFRÁ≠âÊîªÂáª„ÄÇÊâÄË∞ìÂêåÊ∫êÊòØÊåá‚ÄùÂçèËÆÆ+ÂüüÂêç+Á´ØÂè£‚Äù‰∏âËÄÖÁõ∏ÂêåÔºåÂç≥‰æø‰∏§‰∏™‰∏çÂêåÁöÑÂüüÂêçÊåáÂêëÂêå‰∏Ä‰∏™ipÂú∞ÂùÄÔºå‰πüÈùûÂêåÊ∫ê„ÄÇ ÂêåÊ∫êÁ≠ñÁï•ÈôêÂà∂‰ª•‰∏ãÂá†ÁßçË°å‰∏∫Ôºö 1.) Cookie„ÄÅLocalStorage Âíå IndexDB Êó†Ê≥ïËØªÂèñ 2.) DOM Âíå JsÂØπË±°Êó†Ê≥ïËé∑Âæó 3.) AJAX ËØ∑Ê±Ç‰∏çËÉΩÂèëÈÄÅ Â∏∏ËßÅË∑®ÂüüÂú∫ÊôØURL ËØ¥Êòé ÊòØÂê¶ÂÖÅËÆ∏ÈÄö‰ø° http://www.domain.com/a.js http://www.domain.com/b.js Âêå‰∏ÄÂüüÂêçÔºå‰∏çÂêåÊñá‰ª∂ÊàñË∑ØÂæÑ ÂÖÅËÆ∏ http://www.domain.com/lab/c.js http://www.domain.com:8000/a.js http://www.domain.com/b.js Âêå‰∏ÄÂüüÂêçÔºå‰∏çÂêåÁ´ØÂè£ ‰∏çÂÖÅËÆ∏ http://www.domain.com/a.js https://www.domain.com/b.js Âêå‰∏ÄÂüüÂêçÔºå‰∏çÂêåÂçèËÆÆ ‰∏çÂÖÅËÆ∏ http://www.domain.com/a.js http://192.168.4.12/b.js ÂüüÂêçÂíåÂüüÂêçÂØπÂ∫îÁõ∏Âêåip ‰∏çÂÖÅËÆ∏ http://www.domain.com/a.js http://x.domain.com/b.js ‰∏ªÂüüÁõ∏ÂêåÔºåÂ≠êÂüü‰∏çÂêå ‰∏çÂÖÅËÆ∏ http://domain.com/c.js http://www.domain1.com/a.js http://www.domain2.com/b.js ‰∏çÂêåÂüüÂêç ‰∏çÂÖÅËÆ∏ Ë∑®ÂüüËß£ÂÜ≥ÊñπÊ°à1„ÄÅ ÈÄöËøájsonpË∑®Âüü2„ÄÅ document.domain + iframeË∑®Âüü3„ÄÅ location.hash + iframe4„ÄÅ window.name + iframeË∑®Âüü5„ÄÅ postMessageË∑®Âüü6„ÄÅ Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´ÔºàCORSÔºâ7„ÄÅ nginx‰ª£ÁêÜË∑®Âüü8„ÄÅ nodejs‰∏≠Èó¥‰ª∂‰ª£ÁêÜË∑®Âüü9„ÄÅ WebSocketÂçèËÆÆË∑®Âüü ‰∏Ä„ÄÅ ÈÄöËøájsonpË∑®ÂüüÈÄöÂ∏∏‰∏∫‰∫ÜÂáèËΩªwebÊúçÂä°Âô®ÁöÑË¥üËΩΩÔºåÊàë‰ª¨Êääjs„ÄÅcssÔºåimgÁ≠âÈùôÊÄÅËµÑÊ∫êÂàÜÁ¶ªÂà∞Âè¶‰∏ÄÂè∞Áã¨Á´ãÂüüÂêçÁöÑÊúçÂä°Âô®‰∏äÔºåÂú®htmlÈ°µÈù¢‰∏≠ÂÜçÈÄöËøáÁõ∏Â∫îÁöÑÊ†áÁ≠æ‰ªé‰∏çÂêåÂüüÂêç‰∏ãÂä†ËΩΩÈùôÊÄÅËµÑÊ∫êÔºåËÄåË¢´ÊµèËßàÂô®ÂÖÅËÆ∏ÔºåÂü∫‰∫éÊ≠§ÂéüÁêÜÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂä®ÊÄÅÂàõÂª∫scriptÔºåÂÜçËØ∑Ê±Ç‰∏Ä‰∏™Â∏¶ÂèÇÁΩëÂùÄÂÆûÁé∞Ë∑®ÂüüÈÄö‰ø°„ÄÇ 1.ÔºâÂéüÁîüÂÆûÁé∞Ôºö &lt;script&gt; var script = document.createElement(&apos;script&apos;); script.type = &apos;text/javascript&apos;; // ‰º†ÂèÇÂπ∂ÊåáÂÆöÂõûË∞ÉÊâßË°åÂáΩÊï∞‰∏∫onBack script.src = &apos;http://www.domain2.com:8080/login?user=admin&amp;callback=onBack&apos;; document.head.appendChild(script); // ÂõûË∞ÉÊâßË°åÂáΩÊï∞ function onBack(res) { alert(JSON.stringify(res)); } &lt;/script&gt; ÊúçÂä°Á´ØËøîÂõûÂ¶Ç‰∏ãÔºàËøîÂõûÊó∂Âç≥ÊâßË°åÂÖ®Â±ÄÂáΩÊï∞ÔºâÔºö onBack({&quot;status&quot;: true, &quot;user&quot;: &quot;admin&quot;}) 2.Ôºâjquery ajaxÔºö $.ajax({ url: &apos;http://www.domain2.com:8080/login&apos;, type: &apos;get&apos;, dataType: &apos;jsonp&apos;, // ËØ∑Ê±ÇÊñπÂºè‰∏∫jsonp jsonpCallback: &quot;onBack&quot;, // Ëá™ÂÆö‰πâÂõûË∞ÉÂáΩÊï∞Âêç data: {} }); 3.Ôºâvue.jsÔºö this.$http.jsonp(&apos;http://www.domain2.com:8080/login&apos;, { params: {}, jsonp: &apos;onBack&apos; }).then((res) =&gt; { console.log(res); }) ÂêéÁ´Ønode.js‰ª£Á†ÅÁ§∫‰æãÔºö var querystring = require(&apos;querystring&apos;); var http = require(&apos;http&apos;); var server = http.createServer(); server.on(&apos;request&apos;, function(req, res) { var params = qs.parse(req.url.split(&apos;?&apos;)[1]); var fn = params.callback; // jsonpËøîÂõûËÆæÁΩÆ res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/javascript&apos; }); res.write(fn + &apos;(&apos; + JSON.stringify(params) + &apos;)&apos;); res.end(); }); server.listen(&apos;8080&apos;); console.log(&apos;Server is running at port 8080...&apos;); jsonpÁº∫ÁÇπÔºöÂè™ËÉΩÂÆûÁé∞get‰∏ÄÁßçËØ∑Ê±Ç„ÄÇ ‰∫å„ÄÅ document.domain + iframeË∑®ÂüüÊ≠§ÊñπÊ°à‰ªÖÈôê‰∏ªÂüüÁõ∏ÂêåÔºåÂ≠êÂüü‰∏çÂêåÁöÑË∑®ÂüüÂ∫îÁî®Âú∫ÊôØ„ÄÇ ÂÆûÁé∞ÂéüÁêÜÔºö‰∏§‰∏™È°µÈù¢ÈÉΩÈÄöËøájsÂº∫Âà∂ËÆæÁΩÆdocument.domain‰∏∫Âü∫Á°Ä‰∏ªÂüüÔºåÂ∞±ÂÆûÁé∞‰∫ÜÂêåÂüü„ÄÇ 1.ÔºâÁà∂Á™óÂè£Ôºö(http://www.domain.com/a.html) &lt;iframe id=&quot;iframe&quot; src=&quot;http://child.domain.com/b.html&quot;&gt;&lt;/iframe&gt; &lt;script&gt; document.domain = &apos;domain.com&apos;; var user = &apos;admin&apos;; &lt;/script&gt; 2.ÔºâÂ≠êÁ™óÂè£Ôºö(http://child.domain.com/b.html) &lt;script&gt; document.domain = &apos;domain.com&apos;; // Ëé∑ÂèñÁà∂Á™óÂè£‰∏≠ÂèòÈáè alert(&apos;get js data from parent ---&gt; &apos; + window.parent.user); &lt;/script&gt; ‰∏â„ÄÅ location.hash + iframeË∑®ÂüüÂÆûÁé∞ÂéüÁêÜÔºö aÊ¨≤‰∏ébË∑®ÂüüÁõ∏‰∫íÈÄö‰ø°ÔºåÈÄöËøá‰∏≠Èó¥È°µcÊù•ÂÆûÁé∞„ÄÇ ‰∏â‰∏™È°µÈù¢Ôºå‰∏çÂêåÂüü‰πãÈó¥Âà©Áî®iframeÁöÑlocation.hash‰º†ÂÄºÔºåÁõ∏ÂêåÂüü‰πãÈó¥Áõ¥Êé•jsËÆøÈóÆÊù•ÈÄö‰ø°„ÄÇ ÂÖ∑‰ΩìÂÆûÁé∞ÔºöAÂüüÔºöa.html -&gt; BÂüüÔºöb.html -&gt; AÂüüÔºöc.htmlÔºåa‰∏éb‰∏çÂêåÂüüÂè™ËÉΩÈÄöËøáhashÂÄºÂçïÂêëÈÄö‰ø°Ôºåb‰∏éc‰πü‰∏çÂêåÂüü‰πüÂè™ËÉΩÂçïÂêëÈÄö‰ø°Ôºå‰ΩÜc‰∏éaÂêåÂüüÔºåÊâÄ‰ª•cÂèØÈÄöËøáparent.parentËÆøÈóÆaÈ°µÈù¢ÊâÄÊúâÂØπË±°„ÄÇ 1.Ôºâa.htmlÔºö(http://www.domain1.com/a.html) &lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain2.com/b.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt; &lt;script&gt; var iframe = document.getElementById(&apos;iframe&apos;); // Âêëb.html‰º†hashÂÄº setTimeout(function() { iframe.src = iframe.src + &apos;#user=admin&apos;; }, 1000); // ÂºÄÊîæÁªôÂêåÂüüc.htmlÁöÑÂõûË∞ÉÊñπÊ≥ï function onCallback(res) { alert(&apos;data from c.html ---&gt; &apos; + res); } &lt;/script&gt; 2.Ôºâb.htmlÔºö(http://www.domain2.com/b.html) &lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain1.com/c.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt; &lt;script&gt; var iframe = document.getElementById(&apos;iframe&apos;); // ÁõëÂê¨a.html‰º†Êù•ÁöÑhashÂÄºÔºåÂÜç‰º†Áªôc.html window.onhashchange = function () { iframe.src = iframe.src + location.hash; }; &lt;/script&gt; 3.Ôºâc.htmlÔºö(http://www.domain1.com/c.html) &lt;script&gt; // ÁõëÂê¨b.html‰º†Êù•ÁöÑhashÂÄº window.onhashchange = function () { // ÂÜçÈÄöËøáÊìç‰ΩúÂêåÂüüa.htmlÁöÑjsÂõûË∞ÉÔºåÂ∞ÜÁªìÊûú‰º†Âõû window.parent.parent.onCallback(&apos;hello: &apos; + location.hash.replace(&apos;#user=&apos;, &apos;&apos;)); }; &lt;/script&gt; Âõõ„ÄÅ window.name + iframeË∑®Âüüwindow.nameÂ±ûÊÄßÁöÑÁã¨Áâπ‰πãÂ§ÑÔºönameÂÄºÂú®‰∏çÂêåÁöÑÈ°µÈù¢ÔºàÁîöËá≥‰∏çÂêåÂüüÂêçÔºâÂä†ËΩΩÂêé‰æùÊóßÂ≠òÂú®ÔºåÂπ∂‰∏îÂèØ‰ª•ÊîØÊåÅÈùûÂ∏∏ÈïøÁöÑ name ÂÄºÔºà2MBÔºâ„ÄÇ 1.Ôºâa.htmlÔºö(http://www.domain1.com/a.html) var proxy = function(url, callback) { var state = 0; var iframe = document.createElement(&apos;iframe&apos;); // Âä†ËΩΩË∑®ÂüüÈ°µÈù¢ iframe.src = url; // onload‰∫ã‰ª∂‰ºöËß¶Âèë2Ê¨°ÔºåÁ¨¨1Ê¨°Âä†ËΩΩË∑®ÂüüÈ°µÔºåÂπ∂ÁïôÂ≠òÊï∞ÊçÆ‰∫éwindow.name iframe.onload = function() { if (state === 1) { // Á¨¨2Ê¨°onload(ÂêåÂüüproxyÈ°µ)ÊàêÂäüÂêéÔºåËØªÂèñÂêåÂüüwindow.name‰∏≠Êï∞ÊçÆ callback(iframe.contentWindow.name); destoryFrame(); } else if (state === 0) { // Á¨¨1Ê¨°onload(Ë∑®ÂüüÈ°µ)ÊàêÂäüÂêéÔºåÂàáÊç¢Âà∞ÂêåÂüü‰ª£ÁêÜÈ°µÈù¢ iframe.contentWindow.location = &apos;http://www.domain1.com/proxy.html&apos;; state = 1; } }; document.body.appendChild(iframe); // Ëé∑ÂèñÊï∞ÊçÆ‰ª•ÂêéÈîÄÊØÅËøô‰∏™iframeÔºåÈáäÊîæÂÜÖÂ≠òÔºõËøô‰πü‰øùËØÅ‰∫ÜÂÆâÂÖ®Ôºà‰∏çË¢´ÂÖ∂‰ªñÂüüframe jsËÆøÈóÆÔºâ function destoryFrame() { iframe.contentWindow.document.write(&apos;&apos;); iframe.contentWindow.close(); document.body.removeChild(iframe); } }; // ËØ∑Ê±ÇË∑®ÂüübÈ°µÈù¢Êï∞ÊçÆ proxy(&apos;http://www.domain2.com/b.html&apos;, function(data){ alert(data); }); 2.Ôºâproxy.htmlÔºö(http://www.domain1.com/proxy‚Ä¶.‰∏≠Èó¥‰ª£ÁêÜÈ°µÔºå‰∏éa.htmlÂêåÂüüÔºåÂÜÖÂÆπ‰∏∫Á©∫Âç≥ÂèØ„ÄÇ 3.Ôºâb.htmlÔºö(http://www.domain2.com/b.html) &lt;script&gt; window.name = &apos;This is domain2 data!&apos;; &lt;/script&gt; ÊÄªÁªìÔºöÈÄöËøáiframeÁöÑsrcÂ±ûÊÄßÁî±Â§ñÂüüËΩ¨ÂêëÊú¨Âú∞ÂüüÔºåË∑®ÂüüÊï∞ÊçÆÂç≥Áî±iframeÁöÑwindow.name‰ªéÂ§ñÂüü‰º†ÈÄíÂà∞Êú¨Âú∞Âüü„ÄÇËøô‰∏™Â∞±Â∑ßÂ¶ôÂú∞ÁªïËøá‰∫ÜÊµèËßàÂô®ÁöÑË∑®ÂüüËÆøÈóÆÈôêÂà∂Ôºå‰ΩÜÂêåÊó∂ÂÆÉÂèàÊòØÂÆâÂÖ®Êìç‰Ωú„ÄÇ ‰∫î„ÄÅ postMessageË∑®ÂüüpostMessageÊòØHTML5 XMLHttpRequest Level 2‰∏≠ÁöÑAPIÔºå‰∏îÊòØ‰∏∫Êï∞‰∏çÂ§öÂèØ‰ª•Ë∑®ÂüüÊìç‰ΩúÁöÑwindowÂ±ûÊÄß‰πã‰∏ÄÔºåÂÆÉÂèØÁî®‰∫éËß£ÂÜ≥‰ª•‰∏ãÊñπÈù¢ÁöÑÈóÆÈ¢òÔºöa.Ôºâ È°µÈù¢ÂíåÂÖ∂ÊâìÂºÄÁöÑÊñ∞Á™óÂè£ÁöÑÊï∞ÊçÆ‰º†ÈÄíb.Ôºâ Â§öÁ™óÂè£‰πãÈó¥Ê∂àÊÅØ‰º†ÈÄíc.Ôºâ È°µÈù¢‰∏éÂµåÂ•óÁöÑiframeÊ∂àÊÅØ‰º†ÈÄíd.Ôºâ ‰∏äÈù¢‰∏â‰∏™Âú∫ÊôØÁöÑË∑®ÂüüÊï∞ÊçÆ‰º†ÈÄí Áî®Ê≥ïÔºöpostMessage(data,origin)ÊñπÊ≥ïÊé•Âèó‰∏§‰∏™ÂèÇÊï∞dataÔºö html5ËßÑËåÉÊîØÊåÅ‰ªªÊÑèÂü∫Êú¨Á±ªÂûãÊàñÂèØÂ§çÂà∂ÁöÑÂØπË±°Ôºå‰ΩÜÈÉ®ÂàÜÊµèËßàÂô®Âè™ÊîØÊåÅÂ≠óÁ¨¶‰∏≤ÔºåÊâÄ‰ª•‰º†ÂèÇÊó∂ÊúÄÂ•ΩÁî®JSON.stringify()Â∫èÂàóÂåñ„ÄÇoriginÔºö ÂçèËÆÆ+‰∏ªÊú∫+Á´ØÂè£Âè∑Ôºå‰πüÂèØ‰ª•ËÆæÁΩÆ‰∏∫‚Äù*‚ÄùÔºåË°®Á§∫ÂèØ‰ª•‰º†ÈÄíÁªô‰ªªÊÑèÁ™óÂè£ÔºåÂ¶ÇÊûúË¶ÅÊåáÂÆöÂíåÂΩìÂâçÁ™óÂè£ÂêåÊ∫êÁöÑËØùËÆæÁΩÆ‰∏∫‚Äù/‚Äú„ÄÇ 1.Ôºâa.htmlÔºö(http://www.domain1.com/a.html) &lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain2.com/b.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt; &lt;script&gt; var iframe = document.getElementById(&apos;iframe&apos;); iframe.onload = function() { var data = { name: &apos;aym&apos; }; // Âêëdomain2‰º†ÈÄÅË∑®ÂüüÊï∞ÊçÆ iframe.contentWindow.postMessage(JSON.stringify(data), &apos;http://www.domain2.com&apos;); }; // Êé•Âèódomain2ËøîÂõûÊï∞ÊçÆ window.addEventListener(&apos;message&apos;, function(e) { alert(&apos;data from domain2 ---&gt; &apos; + e.data); }, false); &lt;/script&gt; 2.Ôºâb.htmlÔºö(http://www.domain2.com/b.html) &lt;script&gt; // Êé•Êî∂domain1ÁöÑÊï∞ÊçÆ window.addEventListener(&apos;message&apos;, function(e) { alert(&apos;data from domain1 ---&gt; &apos; + e.data); var data = JSON.parse(e.data); if (data) { data.number = 16; // Â§ÑÁêÜÂêéÂÜçÂèëÂõûdomain1 window.parent.postMessage(JSON.stringify(data), &apos;http://www.domain1.com&apos;); } }, false); &lt;/script&gt; ÂÖ≠„ÄÅ Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´ÔºàCORSÔºâÊôÆÈÄöË∑®ÂüüËØ∑Ê±ÇÔºöÂè™ÊúçÂä°Á´ØËÆæÁΩÆAccess-Control-Allow-OriginÂç≥ÂèØÔºåÂâçÁ´ØÊó†È°ªËÆæÁΩÆÔºåËã•Ë¶ÅÂ∏¶cookieËØ∑Ê±ÇÔºöÂâçÂêéÁ´ØÈÉΩÈúÄË¶ÅËÆæÁΩÆ„ÄÇ ÈúÄÊ≥®ÊÑèÁöÑÊòØÔºöÁî±‰∫éÂêåÊ∫êÁ≠ñÁï•ÁöÑÈôêÂà∂ÔºåÊâÄËØªÂèñÁöÑcookie‰∏∫Ë∑®ÂüüËØ∑Ê±ÇÊé•Âè£ÊâÄÂú®ÂüüÁöÑcookieÔºåËÄåÈùûÂΩìÂâçÈ°µ„ÄÇÂ¶ÇÊûúÊÉ≥ÂÆûÁé∞ÂΩìÂâçÈ°µcookieÁöÑÂÜôÂÖ•ÔºåÂèØÂèÇËÄÉ‰∏ãÊñáÔºö‰∏É„ÄÅnginxÂèçÂêë‰ª£ÁêÜ‰∏≠ËÆæÁΩÆproxy_cookie_domain Âíå ÂÖ´„ÄÅNodeJs‰∏≠Èó¥‰ª∂‰ª£ÁêÜ‰∏≠cookieDomainRewriteÂèÇÊï∞ÁöÑËÆæÁΩÆ„ÄÇ ÁõÆÂâçÔºåÊâÄÊúâÊµèËßàÂô®ÈÉΩÊîØÊåÅËØ•ÂäüËÉΩ(IE8+ÔºöIE8/9ÈúÄË¶Å‰ΩøÁî®XDomainRequestÂØπË±°Êù•ÊîØÊåÅCORSÔºâ)ÔºåCORS‰πüÂ∑≤ÁªèÊàê‰∏∫‰∏ªÊµÅÁöÑË∑®ÂüüËß£ÂÜ≥ÊñπÊ°à„ÄÇ 1„ÄÅ ÂâçÁ´ØËÆæÁΩÆÔºö1.ÔºâÂéüÁîüajax // ÂâçÁ´ØËÆæÁΩÆÊòØÂê¶Â∏¶cookie xhr.withCredentials = true; Á§∫‰æã‰ª£Á†ÅÔºö var xhr = new XMLHttpRequest(); // IE8/9ÈúÄÁî®window.XDomainRequestÂÖºÂÆπ // ÂâçÁ´ØËÆæÁΩÆÊòØÂê¶Â∏¶cookie xhr.withCredentials = true; xhr.open(&apos;post&apos;, &apos;http://www.domain2.com:8080/login&apos;, true); xhr.setRequestHeader(&apos;Content-Type&apos;, &apos;application/x-www-form-urlencoded&apos;); xhr.send(&apos;user=admin&apos;); xhr.onreadystatechange = function() { if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) { alert(xhr.responseText); } }; 2.ÔºâjQuery ajax $.ajax({ ... xhrFields: { withCredentials: true // ÂâçÁ´ØËÆæÁΩÆÊòØÂê¶Â∏¶cookie }, crossDomain: true, // ‰ºöËÆ©ËØ∑Ê±ÇÂ§¥‰∏≠ÂåÖÂê´Ë∑®ÂüüÁöÑÈ¢ùÂ§ñ‰ø°ÊÅØÔºå‰ΩÜ‰∏ç‰ºöÂê´cookie ... }); 3.ÔºâvueÊ°ÜÊû∂Âú®vue-resourceÂ∞ÅË£ÖÁöÑajaxÁªÑ‰ª∂‰∏≠Âä†ÂÖ•‰ª•‰∏ã‰ª£Á†ÅÔºö Vue.http.options.credentials = true 2„ÄÅ ÊúçÂä°Á´ØËÆæÁΩÆÔºöËã•ÂêéÁ´ØËÆæÁΩÆÊàêÂäüÔºåÂâçÁ´ØÊµèËßàÂô®ÊéßÂà∂Âè∞Âàô‰∏ç‰ºöÂá∫Áé∞Ë∑®ÂüüÊä•Èîô‰ø°ÊÅØÔºåÂèç‰πãÔºåËØ¥ÊòéÊ≤°ËÆæÊàêÂäü„ÄÇ 1.ÔºâJavaÂêéÂè∞Ôºö /* * ÂØºÂÖ•ÂåÖÔºöimport javax.servlet.http.HttpServletResponse; * Êé•Âè£ÂèÇÊï∞‰∏≠ÂÆö‰πâÔºöHttpServletResponse response */ response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://www.domain1.com&quot;); // Ëã•ÊúâÁ´ØÂè£ÈúÄÂÜôÂÖ®ÔºàÂçèËÆÆ+ÂüüÂêç+Á´ØÂè£Ôºâ response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;); 2.ÔºâNodejsÂêéÂè∞Á§∫‰æãÔºö var http = require(&apos;http&apos;); var server = http.createServer(); var qs = require(&apos;querystring&apos;); server.on(&apos;request&apos;, function(req, res) { var postData = &apos;&apos;; // Êï∞ÊçÆÂùóÊé•Êî∂‰∏≠ req.addListener(&apos;data&apos;, function(chunk) { postData += chunk; }); // Êï∞ÊçÆÊé•Êî∂ÂÆåÊØï req.addListener(&apos;end&apos;, function() { postData = qs.parse(postData); // Ë∑®ÂüüÂêéÂè∞ËÆæÁΩÆ res.writeHead(200, { &apos;Access-Control-Allow-Credentials&apos;: &apos;true&apos;, // ÂêéÁ´ØÂÖÅËÆ∏ÂèëÈÄÅCookie &apos;Access-Control-Allow-Origin&apos;: &apos;http://www.domain1.com&apos;, // ÂÖÅËÆ∏ËÆøÈóÆÁöÑÂüüÔºàÂçèËÆÆ+ÂüüÂêç+Á´ØÂè£Ôºâ &apos;Set-Cookie&apos;: &apos;l=a123456;Path=/;Domain=www.domain2.com;HttpOnly&apos; // HttpOnly:ËÑöÊú¨Êó†Ê≥ïËØªÂèñcookie }); res.write(JSON.stringify(postData)); res.end(); }); }); server.listen(&apos;8080&apos;); console.log(&apos;Server is running at port 8080...&apos;); ‰∏É„ÄÅ nginx‰ª£ÁêÜË∑®Âüü1„ÄÅ nginxÈÖçÁΩÆËß£ÂÜ≥iconfontË∑®ÂüüÊµèËßàÂô®Ë∑®ÂüüËÆøÈóÆjs„ÄÅcss„ÄÅimgÁ≠âÂ∏∏ËßÑÈùôÊÄÅËµÑÊ∫êË¢´ÂêåÊ∫êÁ≠ñÁï•ËÆ∏ÂèØÔºå‰ΩÜiconfontÂ≠ó‰ΩìÊñá‰ª∂(eot|otf|ttf|woff|svg)‰æãÂ§ñÔºåÊ≠§Êó∂ÂèØÂú®nginxÁöÑÈùôÊÄÅËµÑÊ∫êÊúçÂä°Âô®‰∏≠Âä†ÂÖ•‰ª•‰∏ãÈÖçÁΩÆ„ÄÇ location / { add_header Access-Control-Allow-Origin *; } 2„ÄÅ nginxÂèçÂêë‰ª£ÁêÜÊé•Âè£Ë∑®ÂüüË∑®ÂüüÂéüÁêÜÔºö ÂêåÊ∫êÁ≠ñÁï•ÊòØÊµèËßàÂô®ÁöÑÂÆâÂÖ®Á≠ñÁï•Ôºå‰∏çÊòØHTTPÂçèËÆÆÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÊúçÂä°Âô®Á´ØË∞ÉÁî®HTTPÊé•Âè£Âè™ÊòØ‰ΩøÁî®HTTPÂçèËÆÆÔºå‰∏ç‰ºöÊâßË°åJSËÑöÊú¨Ôºå‰∏çÈúÄË¶ÅÂêåÊ∫êÁ≠ñÁï•Ôºå‰πüÂ∞±‰∏çÂ≠òÂú®Ë∑®Ë∂äÈóÆÈ¢ò„ÄÇ ÂÆûÁé∞ÊÄùË∑ØÔºöÈÄöËøánginxÈÖçÁΩÆ‰∏Ä‰∏™‰ª£ÁêÜÊúçÂä°Âô®ÔºàÂüüÂêç‰∏édomain1Áõ∏ÂêåÔºåÁ´ØÂè£‰∏çÂêåÔºâÂÅöË∑≥ÊùøÊú∫ÔºåÂèçÂêë‰ª£ÁêÜËÆøÈóÆdomain2Êé•Âè£ÔºåÂπ∂‰∏îÂèØ‰ª•È°∫‰æø‰øÆÊîπcookie‰∏≠domain‰ø°ÊÅØÔºåÊñπ‰æøÂΩìÂâçÂüücookieÂÜôÂÖ•ÔºåÂÆûÁé∞Ë∑®ÂüüÁôªÂΩï„ÄÇ nginxÂÖ∑‰ΩìÈÖçÁΩÆÔºö #proxyÊúçÂä°Âô® server { listen 81; server_name www.domain1.com; location / { proxy_pass http://www.domain2.com:8080; #ÂèçÂêë‰ª£ÁêÜ proxy_cookie_domain www.domain2.com www.domain1.com; #‰øÆÊîπcookieÈáåÂüüÂêç index index.html index.htm; # ÂΩìÁî®webpack-dev-serverÁ≠â‰∏≠Èó¥‰ª∂‰ª£ÁêÜÊé•Âè£ËÆøÈóÆnignxÊó∂ÔºåÊ≠§Êó∂Êó†ÊµèËßàÂô®ÂèÇ‰∏éÔºåÊïÖÊ≤°ÊúâÂêåÊ∫êÈôêÂà∂Ôºå‰∏ãÈù¢ÁöÑË∑®ÂüüÈÖçÁΩÆÂèØ‰∏çÂêØÁî® add_header Access-Control-Allow-Origin http://www.domain1.com; #ÂΩìÂâçÁ´ØÂè™Ë∑®Âüü‰∏çÂ∏¶cookieÊó∂ÔºåÂèØ‰∏∫* add_header Access-Control-Allow-Credentials true; } } 1.) ÂâçÁ´Ø‰ª£Á†ÅÁ§∫‰æãÔºö var xhr = new XMLHttpRequest(); // ÂâçÁ´ØÂºÄÂÖ≥ÔºöÊµèËßàÂô®ÊòØÂê¶ËØªÂÜôcookie xhr.withCredentials = true; // ËÆøÈóÆnginx‰∏≠ÁöÑ‰ª£ÁêÜÊúçÂä°Âô® xhr.open(&apos;get&apos;, &apos;http://www.domain1.com:81/?user=admin&apos;, true); xhr.send(); 2.) NodejsÂêéÂè∞Á§∫‰æãÔºö var http = require(&apos;http&apos;); var server = http.createServer(); var qs = require(&apos;querystring&apos;); server.on(&apos;request&apos;, function(req, res) { var params = qs.parse(req.url.substring(2)); // ÂêëÂâçÂè∞ÂÜôcookie res.writeHead(200, { &apos;Set-Cookie&apos;: &apos;l=a123456;Path=/;Domain=www.domain2.com;HttpOnly&apos; // HttpOnly:ËÑöÊú¨Êó†Ê≥ïËØªÂèñ }); res.write(JSON.stringify(params)); res.end(); }); server.listen(&apos;8080&apos;); console.log(&apos;Server is running at port 8080...&apos;); ÂÖ´„ÄÅ Nodejs‰∏≠Èó¥‰ª∂‰ª£ÁêÜË∑®Âüünode‰∏≠Èó¥‰ª∂ÂÆûÁé∞Ë∑®Âüü‰ª£ÁêÜÔºåÂéüÁêÜÂ§ßËá¥‰∏énginxÁõ∏ÂêåÔºåÈÉΩÊòØÈÄöËøáÂêØ‰∏Ä‰∏™‰ª£ÁêÜÊúçÂä°Âô®ÔºåÂÆûÁé∞Êï∞ÊçÆÁöÑËΩ¨ÂèëÔºå‰πüÂèØ‰ª•ÈÄöËøáËÆæÁΩÆcookieDomainRewriteÂèÇÊï∞‰øÆÊîπÂìçÂ∫îÂ§¥‰∏≠cookie‰∏≠ÂüüÂêçÔºåÂÆûÁé∞ÂΩìÂâçÂüüÁöÑcookieÂÜôÂÖ•ÔºåÊñπ‰æøÊé•Âè£ÁôªÂΩïËÆ§ËØÅ„ÄÇ 1„ÄÅ ÈùûvueÊ°ÜÊû∂ÁöÑË∑®ÂüüÔºà2Ê¨°Ë∑®ÂüüÔºâÂà©Áî®node + express + http-proxy-middlewareÊê≠Âª∫‰∏Ä‰∏™proxyÊúçÂä°Âô®„ÄÇ 1.ÔºâÂâçÁ´Ø‰ª£Á†ÅÁ§∫‰æãÔºö var xhr = new XMLHttpRequest(); // ÂâçÁ´ØÂºÄÂÖ≥ÔºöÊµèËßàÂô®ÊòØÂê¶ËØªÂÜôcookie xhr.withCredentials = true; // ËÆøÈóÆhttp-proxy-middleware‰ª£ÁêÜÊúçÂä°Âô® xhr.open(&apos;get&apos;, &apos;http://www.domain1.com:3000/login?user=admin&apos;, true); xhr.send(); 2.Ôºâ‰∏≠Èó¥‰ª∂ÊúçÂä°Âô®Ôºö var express = require(&apos;express&apos;); var proxy = require(&apos;http-proxy-middleware&apos;); var app = express(); app.use(&apos;/&apos;, proxy({ // ‰ª£ÁêÜË∑®ÂüüÁõÆÊ†áÊé•Âè£ target: &apos;http://www.domain2.com:8080&apos;, changeOrigin: true, // ‰øÆÊîπÂìçÂ∫îÂ§¥‰ø°ÊÅØÔºåÂÆûÁé∞Ë∑®ÂüüÂπ∂ÂÖÅËÆ∏Â∏¶cookie onProxyRes: function(proxyRes, req, res) { res.header(&apos;Access-Control-Allow-Origin&apos;, &apos;http://www.domain1.com&apos;); res.header(&apos;Access-Control-Allow-Credentials&apos;, &apos;true&apos;); }, // ‰øÆÊîπÂìçÂ∫î‰ø°ÊÅØ‰∏≠ÁöÑcookieÂüüÂêç cookieDomainRewrite: &apos;www.domain1.com&apos; // ÂèØ‰ª•‰∏∫falseÔºåË°®Á§∫‰∏ç‰øÆÊîπ })); app.listen(3000); console.log(&apos;Proxy server is listen at port 3000...&apos;); 3.ÔºâNodejsÂêéÂè∞ÂêåÔºàÂÖ≠ÔºönginxÔºâ 2„ÄÅ vueÊ°ÜÊû∂ÁöÑË∑®ÂüüÔºà1Ê¨°Ë∑®ÂüüÔºâÂà©Áî®node + webpack + webpack-dev-server‰ª£ÁêÜÊé•Âè£Ë∑®Âüü„ÄÇÂú®ÂºÄÂèëÁéØÂ¢É‰∏ãÔºåÁî±‰∫évueÊ∏≤ÊüìÊúçÂä°ÂíåÊé•Âè£‰ª£ÁêÜÊúçÂä°ÈÉΩÊòØwebpack-dev-serverÂêå‰∏Ä‰∏™ÔºåÊâÄ‰ª•È°µÈù¢‰∏é‰ª£ÁêÜÊé•Âè£‰πãÈó¥‰∏çÂÜçË∑®ÂüüÔºåÊó†È°ªËÆæÁΩÆheadersË∑®Âüü‰ø°ÊÅØ‰∫Ü„ÄÇ webpack.config.jsÈÉ®ÂàÜÈÖçÁΩÆÔºö module.exports = { entry: {}, module: {}, ... devServer: { historyApiFallback: true, proxy: [{ context: &apos;/login&apos;, target: &apos;http://www.domain2.com:8080&apos;, // ‰ª£ÁêÜË∑®ÂüüÁõÆÊ†áÊé•Âè£ changeOrigin: true, cookieDomainRewrite: &apos;www.domain1.com&apos; // ÂèØ‰ª•‰∏∫falseÔºåË°®Á§∫‰∏ç‰øÆÊîπ }], noInfo: true } } ‰πù„ÄÅ WebSocketÂçèËÆÆË∑®ÂüüWebSocket protocolÊòØHTML5‰∏ÄÁßçÊñ∞ÁöÑÂçèËÆÆ„ÄÇÂÆÉÂÆûÁé∞‰∫ÜÊµèËßàÂô®‰∏éÊúçÂä°Âô®ÂÖ®ÂèåÂ∑•ÈÄö‰ø°ÔºåÂêåÊó∂ÂÖÅËÆ∏Ë∑®ÂüüÈÄöËÆØÔºåÊòØserver pushÊäÄÊúØÁöÑ‰∏ÄÁßçÂæàÂ•ΩÁöÑÂÆûÁé∞„ÄÇÂéüÁîüWebSocket API‰ΩøÁî®Ëµ∑Êù•‰∏çÂ§™Êñπ‰æøÔºåÊàë‰ª¨‰ΩøÁî®http://Socket.ioÔºåÂÆÉÂæàÂ•ΩÂú∞Â∞ÅË£Ö‰∫ÜwebSocketÊé•Âè£ÔºåÊèê‰æõ‰∫ÜÊõ¥ÁÆÄÂçï„ÄÅÁÅµÊ¥ªÁöÑÊé•Âè£Ôºå‰πüÂØπ‰∏çÊîØÊåÅwebSocketÁöÑÊµèËßàÂô®Êèê‰æõ‰∫ÜÂêë‰∏ãÂÖºÂÆπ„ÄÇ 1.ÔºâÂâçÁ´Ø‰ª£Á†ÅÔºö &lt;div&gt;user inputÔºö&lt;input type=&quot;text&quot;&gt;&lt;/div&gt; &lt;script src=&quot;./socket.io.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var socket = io(&apos;http://www.domain2.com:8080&apos;); // ËøûÊé•ÊàêÂäüÂ§ÑÁêÜ socket.on(&apos;connect&apos;, function() { // ÁõëÂê¨ÊúçÂä°Á´ØÊ∂àÊÅØ socket.on(&apos;message&apos;, function(msg) { console.log(&apos;data from server: ---&gt; &apos; + msg); }); // ÁõëÂê¨ÊúçÂä°Á´ØÂÖ≥Èó≠ socket.on(&apos;disconnect&apos;, function() { console.log(&apos;Server socket has closed.&apos;); }); }); document.getElementsByTagName(&apos;input&apos;)[0].onblur = function() { socket.send(this.value); }; &lt;/script&gt; 2.ÔºâNodejs socketÂêéÂè∞Ôºö var http = require(&apos;http&apos;); var socket = require(&apos;socket.io&apos;); // ÂêØhttpÊúçÂä° var server = http.createServer(function(req, res) { res.writeHead(200, { &apos;Content-type&apos;: &apos;text/html&apos; }); res.end(); }); server.listen(&apos;8080&apos;); console.log(&apos;Server is running at port 8080...&apos;); // ÁõëÂê¨socketËøûÊé• socket.listen(server).on(&apos;connection&apos;, function(client) { // Êé•Êî∂‰ø°ÊÅØ client.on(&apos;message&apos;, function(msg) { client.send(&apos;helloÔºö&apos; + msg); console.log(&apos;data from client: ---&gt; &apos; + msg); }); // Êñ≠ÂºÄÂ§ÑÁêÜ client.on(&apos;disconnect&apos;, function() { console.log(&apos;Client socket has closed.&apos;); }); });]]></content>
      <tags>
        <tag>Ë∑®Âüü</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript ‰∏≠ÁöÑ this !]]></title>
    <url>%2F2015%2F08%2F31%2FJavaScript-%E4%B8%AD%E7%9A%84-this%2F</url>
    <content type="text"><![CDATA[Âú® js ‰∏≠Ôºåthis Ëøô‰∏™‰∏ä‰∏ãÊñáÊÄªÊòØÂèòÂåñËé´ÊµãÔºåÂæàÂ§öÊó∂ÂÄôÂá∫Áé∞ bug ÊÄªÊòØ‰∏ÄÂ§¥ÈõæÊ∞¥ÔºåÂÖ∂ÂÆûÔºåÂè™Ë¶ÅÂàÜÊ∏ÖÊ•ö‰∏çÂêåÁöÑÊÉÖÂÜµ‰∏ãÂ¶Ç‰ΩïÊâßË°åÂ∞± ok ‰∫Ü„ÄÇ ÂÖ®Â±ÄÊâßË°åÈ¶ñÂÖàÔºåÊàë‰ª¨Âú®ÂÖ®Â±ÄÁéØÂ¢É‰∏≠ÁúãÁúãÂÆÉÁöÑ this ÊòØ‰ªÄ‰πàÔºö first. ÊµèËßàÂô®Ôºö console.log(this); // Window {speechSynthesis: SpeechSynthesis, caches: CacheStorage, localStorage: Storage, sessionStorage: Storage, webkitStorageInfo: DeprecatedStorageInfo‚Ä¶} ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞Âá∫‰∫Ü window ÂØπË±°Ôºõ second. nodeÔºö console.log(this); // global ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞Âá∫‰∫Ü global ÂØπË±°Ôºõ ÊÄªÁªìÔºöÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠ÂÆÉÁöÑ this ÊâßË°åÂΩìÂâçÁöÑÂÖ®Â±ÄÂØπË±°ÔºàÊµèËßàÂô®Á´ØÊòØ WindowÔºånode ‰∏≠ÊòØ globalÔºâ„ÄÇ ÂáΩÊï∞‰∏≠ÊâßË°åÁ∫ØÁ≤πÁöÑÂáΩÊï∞Ë∞ÉÁî®ËøôÊòØÊúÄÊôÆÈÄöÁöÑÂáΩÊï∞‰ΩøÁî®ÊñπÊ≥ï‰∫ÜÔºö function test() { console.log(this); }; test(); // Window {speechSynthesis: SpeechSynthesis, caches: CacheStorage, localStorage: Storage, sessionStorage: Storage, webkitStorageInfo: DeprecatedStorageInfo‚Ä¶} Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ôºå‰∏Ä‰∏™ÂáΩÊï∞Ë¢´Áõ¥Êé•Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂ±û‰∫éÂÖ®Â±ÄË∞ÉÁî®ÔºåËøôÊó∂ÂÄôÂÆÉÁöÑ this ÊåáÂêë ÂÖ®Â±ÄÂØπË±°Ôºõ ‰∏•Ê†ºÊ®°Âºè ‚Äòuse strict‚Äô; Â¶ÇÊûúÂú®‰∏•Ê†ºÊ®°ÂºèÁöÑÊÉÖÂÜµ‰∏ãÊâßË°åÁ∫ØÁ≤πÁöÑÂáΩÊï∞Ë∞ÉÁî®ÔºåÈÇ£‰πàËøôÈáåÁöÑÁöÑ this Âπ∂‰∏ç‰ºöÊåáÂêëÂÖ®Â±ÄÔºåËÄåÊòØ undefinedÔºåËøôÊ†∑ÁöÑÂÅöÊ≥ïÊòØ‰∏∫‰∫ÜÊ∂àÈô§ js ‰∏≠‰∏Ä‰∫õ‰∏ç‰∏•Ë∞®ÁöÑË°å‰∏∫Ôºö &apos;use strict&apos;; function test() { console.log(this); }; test(); // undefined ÂΩìÁÑ∂ÔºåÊääÂÆÉÊîæÂú®‰∏Ä‰∏™Á´ãÂç≥ÊâßË°åÂáΩÊï∞‰∏≠‰ºöÊõ¥Â•ΩÔºåÈÅøÂÖç‰∫ÜÊ±°ÊüìÂÖ®Â±ÄÔºö (function (){ &quot;use strict&quot;; console.log(this); })(); // undefined ‰Ωú‰∏∫ÂØπË±°ÁöÑÊñπÊ≥ïË∞ÉÁî®ÂΩì‰∏Ä‰∏™ÂáΩÊï∞Ë¢´ÂΩì‰Ωú‰∏Ä‰∏™ÂØπË±°ÁöÑÊñπÊ≥ïË∞ÉÁî®ÁöÑÊó∂ÂÄôÔºö var obj = { name: &apos;qiutc&apos;, foo: function() { console.log(this.name); } } obj.foo(); // &apos;qiutc&apos; ËøôÊó∂ÂÄôÔºåthis ÊåáÂêëÂΩìÂâçÁöÑËøô‰∏™ÂØπË±°Ôºõ ÂΩìÁÑ∂ÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ëøô‰πàÂÅöÔºö function test() { console.log(this.name); } var obj = { name: &apos;qiutc&apos;, foo: test } obj.foo(); // &apos;qiutc&apos; ÂêåÊ†∑‰∏çÂèòÔºåÂõ†‰∏∫Âú® js ‰∏≠‰∏ÄÂàáÈÉΩÊòØÂØπË±°ÔºåÂáΩÊï∞‰πüÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂØπ‰∫é test ÔºåÂÆÉÂè™ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂêçÔºåÂáΩÊï∞ÁöÑÂºïÁî®ÔºåÂÆÉÊåáÂêëËøô‰∏™ÂáΩÊï∞ÔºåÂΩì foo = testÔºåfoo ÂêåÊ†∑‰πüÊåáÂêë‰∫ÜËøô‰∏™ÂáΩÊï∞„ÄÇ Â¶ÇÊûúÊääÂØπË±°ÁöÑÊñπÊ≥ïËµãÂÄºÁªô‰∏Ä‰∏™ÂèòÈáèÔºåÁÑ∂ÂêéÁõ¥Êé•Ë∞ÉÁî®Ëøô‰∏™ÂèòÈáèÂë¢Ôºö var obj = { name: &apos;qiutc&apos;, foo: function() { console.log(this); } } var test = obj.foo; test(); // Window ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÊó∂ÂÄô this ÊâßË°å‰∫ÜÂÖ®Â±ÄÔºåÂΩìÊàë‰ª¨Êää test = obj.foo Ôºåtest Áõ¥Êé•ÊåáÂêë‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂºïÁî®ÔºåËøôÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂíå obj Ëøô‰∏™ÂØπË±°Ê≤°ÊúâÂÖ≥Á≥ª‰∫ÜÔºåÊâÄ‰ª•ÔºåÂÆÉÊòØË¢´ÂΩì‰Ωú‰∏Ä‰∏™ÊôÆÈÄöÂáΩÊï∞Êù•Áõ¥Êé•Ë∞ÉÁî®ÔºåÂõ†Ê≠§Ôºåthis ÊåáÂêëÂÖ®Â±ÄÂØπË±°„ÄÇ ‰∏Ä‰∫õÂùë Êàë‰ª¨ÁªèÂ∏∏Âú®ÂõûË∞ÉÂáΩÊï∞ÈáåÈù¢‰ºöÈÅáÂà∞‰∏Ä‰∫õÂùëÔºö var obj = { name: &apos;qiutc&apos;, foo: function() { console.log(this); }, foo2: function() { console.log(this); //Object {name: &quot;qiutc&quot;...} setTimeout(this.foo, 1000); // window ÂØπË±° } } obj.foo2(); ÊâßË°åËøôÊÆµ‰ª£Á†ÅÊàë‰ª¨‰ºöÂèëÁé∞‰∏§Ê¨°ÊâìÂç∞Âá∫Êù•ÁöÑ this ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºö ÂÖ≥‰∫ésetTimeoutÁöÑthisÊåáÂêëÔºöhttps://www.talkingcoder.com/article/6356947525374513523 Á¨¨‰∏ÄÊ¨°ÊòØ foo2 ‰∏≠Áõ¥Êé•ÊâìÂç∞ thisÔºåËøôÈáåÊåáÂêë obj Ëøô‰∏™ÂØπË±°ÔºåÊàë‰ª¨ÊØãÂ∫∏ÁΩÆÁñëÔºõ ‰ΩÜÊòØÂú® setTimeout ‰∏≠ÊâßË°åÁöÑ this.fooÔºåÂç¥ÊåáÂêë‰∫ÜÂÖ®Â±ÄÂØπË±°ÔºåËøôÈáå‰∏çÊòØÊääÂÆÉÂΩì‰ΩúÂáΩÊï∞ÁöÑÊñπÊ≥ï‰ΩøÁî®ÂêóÔºüËøô‰∏ÄÁÇπÁªèÂ∏∏ËÆ©ÂæàÂ§öÂàùÂ≠¶ËÄÖÁñëÊÉëÔºõÂÖ∂ÂÆûÔºåsetTimeout ‰πüÂè™ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ËÄåÂ∑≤ÔºåÂáΩÊï∞ÂøÖÁÑ∂ÊúâÂèØËÉΩÈúÄË¶ÅÂèÇÊï∞ÔºåÊàë‰ª¨Êää this.foo ÂΩì‰Ωú‰∏Ä‰∏™ÂèÇÊï∞‰º†Áªô setTimeout Ëøô‰∏™ÂáΩÊï∞ÔºåÂ∞±ÂÉèÂÆÉÈúÄË¶Å‰∏Ä‰∏™ fun ÂèÇÊï∞ÔºåÂú®‰º†ÂÖ•ÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÂÖ∂ÂÆûÂÅö‰∫Ü‰∏™ËøôÊ†∑ÁöÑÊìç‰Ωú fun = this.fooÔºåÁúãÂà∞Ê≤°ÊúâÔºåËøôÈáåÊàë‰ª¨Áõ¥Êé•Êää fun ÊåáÂêë this.foo ÁöÑÂºïÁî®ÔºõÊâßË°åÁöÑÊó∂ÂÄôÂÖ∂ÂÆûÊòØÊâßË°å‰∫Ü fun() ÊâÄ‰ª•Â∑≤ÁªèÂíå obj Êó†ÂÖ≥‰∫ÜÔºåÂÆÉÊòØË¢´ÂΩì‰ΩúÊôÆÈÄöÂáΩÊï∞Áõ¥Êé•Ë∞ÉÁî®ÁöÑÔºåÂõ†Ê≠§ this ÊåáÂêëÂÖ®Â±ÄÂØπË±°„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÊòØÂæàÂ§öÂºÇÊ≠•ÂõûË∞ÉÂáΩÊï∞‰∏≠ÊôÆÈÅç‰ºöÁ¢∞Âà∞ÁöÑÔºõ Ëß£ÂÜ≥ ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•Âà©Áî® Èó≠ÂåÖ ÁöÑÁâπÊÄßÊù•Â§ÑÁêÜÔºö var obj = { name: &apos;qiutc&apos;, foo: function() { console.log(this); }, foo2: function() { console.log(this); var _this = this; setTimeout(function() { console.log(this); // Window console.log(_this); // Object {name: &quot;qiutc&quot;} }, 1000); } } obj.foo2(); ÂèØ‰ª•ÁúãÂà∞Áõ¥Êé•Áî® this ‰ªçÁÑ∂ÊòØ WindowÔºõÂõ†‰∏∫ foo2 ‰∏≠ÁöÑ this ÊòØÊåáÂêë objÔºåÊàë‰ª¨ÂèØ‰ª•ÂÖàÁî®‰∏Ä‰∏™ÂèòÈáè _this Êù•ÂÇ®Â≠òÔºåÁÑ∂ÂêéÂú®ÂõûË∞ÉÂáΩÊï∞‰∏≠‰ΩøÁî® _thisÔºåÂ∞±ÂèØ‰ª•ÊåáÂêëÂΩìÂâçÁöÑËøô‰∏™ÂØπË±°‰∫ÜÔºõ setTimeout ÁöÑÂè¶‰∏Ä‰∏™Âùë ‰πãÂâçÂïäËØ¥ËøáÔºåÂ¶ÇÊûúÁõ¥Êé•ÊâßË°åÂõûË∞ÉÂáΩÊï∞ËÄåÊ≤°ÊúâÁªëÂÆö‰ΩúÁî®ÂüüÔºåÈÇ£‰πàÂÆÉÁöÑ this ÊòØÊåáÂêëÂÖ®Â±ÄÂØπË±°(window)ÔºåÂú®‰∏•Ê†ºÊ®°Âºè‰∏ã‰ºöÊåáÂêë undefinedÔºåÁÑ∂ËÄåÂú® setTimeout ‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞Âú®‰∏•Ê†ºÊ®°Âºè‰∏ãÂç¥Ë°®Áé∞Âá∫‰∏çÂêåÔºö &apos;use strict&apos;; function foo() { console.log(this); } setTimeout(foo, 1); // window ÊåâÁêÜËØ¥Êàë‰ª¨Âä†‰∫Ü‰∏•Ê†ºÊ®°ÂºèÔºåfoo Ë∞ÉÁî®‰πüÊ≤°ÊúâÊåáÂÆö thisÔºåÂ∫îËØ•ÊòØÂá∫Êù• undefinedÔºå‰ΩÜÊòØËøôÈáå‰ªçÁÑ∂Âá∫Áé∞‰∫ÜÂÖ®Â±ÄÂØπË±°ÔºåÈöæÈÅìÊòØ‰∏•Ê†ºÊ®°ÂºèÂ§±Êïà‰∫ÜÂêóÔºü Âπ∂‰∏çÔºåÂç≥‰ΩøÂú®‰∏•Ê†ºÊ®°Âºè‰∏ãÔºåsetTimeout ÊñπÊ≥ïÂú®Ë∞ÉÁî®‰º†ÂÖ•ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúËøô‰∏™ÂáΩÊï∞Ê≤°ÊúâÊåáÂÆö‰∫ÜÁöÑ thisÔºåÈÇ£‰πàÂÆÉ‰ºöÂÅö‰∏Ä‰∏™ÈöêÂºèÁöÑÊìç‰Ωú‚Äî-Ëá™Âä®Âú∞Ê≥®ÂÖ•ÂÖ®Â±Ä‰∏ä‰∏ãÊñáÔºåÁ≠âÂêå‰∫éË∞ÉÁî® foo.apply(window) ËÄåÈùû foo()Ôºõ ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®‰º†ÂÖ•ÂáΩÊï∞ÁöÑÊó∂ÂÄôÂ∑≤ÁªèÊåáÂÆö thisÔºåÈÇ£‰πàÂ∞±‰∏ç‰ºöË¢´Ê≥®ÂÖ•ÂÖ®Â±ÄÂØπË±°ÔºåÊØîÂ¶ÇÔºö setTimeout(foo.bind(obj), 1);Ôºõ http://stackoverflow.com/questions/21957030/why-is-window-still-defined-in-this-strict-mode-code ‰Ωú‰∏∫‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞‰ΩøÁî®Âú® js ‰∏≠Ôºå‰∏∫‰∫ÜÂÆûÁé∞Á±ªÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∫õÊûÑÈÄ†ÂáΩÊï∞ÔºåÂú®Ë∞ÉÁî®‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊó∂ÂÄôÈúÄË¶ÅÂä†‰∏ä new Ëøô‰∏™ÂÖ≥ÈîÆÂ≠óÔºö function Person(name) { this.name = name; console.log(this); } var p = new Person(&apos;qiutc&apos;); // Person {name: &quot;qiutc&quot;} Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂΩì‰ΩúÊûÑÈÄ†ÂáΩÊï∞Ë∞ÉÁî®Êó∂Ôºåthis ÊåáÂêë‰∫ÜËøô‰∏™ÊûÑÈÄ†ÂáΩÊï∞Ë∞ÉÁî®Êó∂ÂÄôÂÆû‰æãÂåñÂá∫Êù•ÁöÑÂØπË±°Ôºõ ÂΩìÁÑ∂ÔºåÊûÑÈÄ†ÂáΩÊï∞ÂÖ∂ÂÆû‰πüÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂ¶ÇÊûúÊàë‰ª¨ÊääÂÆÉÂΩì‰Ωú‰∏Ä‰∏™ÊôÆÈÄöÂáΩÊï∞ÊâßË°åÔºåËøô‰∏™ this ‰ªçÁÑ∂ÊâßË°åÂÖ®Â±ÄÔºö function Person(name) { this.name = name; console.log(this); } var p = Person(&apos;qiutc&apos;); // Window ÂÖ∂Âå∫Âà´Âú®‰∫éÔºåÂ¶Ç‰ΩïË∞ÉÁî®ÂáΩÊï∞ÔºànewÔºâ„ÄÇ ÁÆ≠Â§¥ÂáΩÊï∞Âú® ES6 ÁöÑÊñ∞ËßÑËåÉ‰∏≠ÔºåÂä†ÂÖ•‰∫ÜÁÆ≠Â§¥ÂáΩÊï∞ÔºåÂÆÉÂíåÊôÆÈÄöÂáΩÊï∞ÊúÄ‰∏ç‰∏ÄÊ†∑ÁöÑ‰∏ÄÁÇπÂ∞±ÊòØ this ÁöÑÊåáÂêë‰∫ÜÔºåËøòËÆ∞ÂæóÂú®‰∏äÊñá‰∏≠Ôºà‰Ωú‰∏∫ÂØπË±°ÁöÑÊñπÊ≥ïË∞ÉÁî®-‰∏Ä‰∫õÂùë-Ëß£ÂÜ≥ÔºâÊàë‰ª¨‰ΩøÁî®Èó≠ÂåÖÊù•Ëß£ÂÜ≥ this ÁöÑÊåáÂêëÈóÆÈ¢òÂêóÔºåÂ¶ÇÊûúÁî®‰∏ä‰∫ÜÁÆ≠Â§¥ÂáΩÊï∞Â∞±ÂèØ‰ª•Êõ¥ÂÆåÁæéÁöÑËß£ÂÜ≥‰∫ÜÔºö var obj = { name: &apos;qiutc&apos;, foo: function() { console.log(this); }, foo2: function() { console.log(this); setTimeout(() =&gt; { console.log(this); // Object {name: &quot;qiutc&quot;} }, 1000); } } obj.foo2(); ÂèØ‰ª•ÁúãÂà∞ÔºåÂú® setTimeout ÊâßË°åÁöÑÂáΩÊï∞‰∏≠ÔºåÊú¨Â∫îËØ•ÊâìÂç∞Âá∫Âú® WindowÔºå‰ΩÜÊòØÂú®ËøôÈáå this Âç¥ÊåáÂêë‰∫Ü objÔºåÂéüÂõ†Â∞±Âú®‰∫éÔºåÁªô setTimeout ‰º†ÂÖ•ÁöÑÂáΩÊï∞ÔºàÂèÇÊï∞ÔºâÊòØ‰∏Ä‰∏™ÁÆ≠Â§¥ÂáΩÊï∞Ôºö ÂáΩÊï∞‰ΩìÂÜÖÁöÑthisÂØπË±°ÔºåÂ∞±ÊòØÂÆö‰πâÊó∂ÊâÄÂú®ÁöÑÂØπË±°ÔºåËÄå‰∏çÊòØ‰ΩøÁî®Êó∂ÊâÄÂú®ÁöÑÂØπË±°„ÄÇ Ê†πÊçÆ‰æãÂ≠êÊàë‰ª¨ÁêÜËß£‰∏Ä‰∏ãËøôÂè•ËØùÔºöÂú® obj.foo2() ÊâßË°åÁöÑÊó∂ÂÄôÔºåÂΩìÂâçÁöÑ this ÊåáÂêë objÔºõÂú®ÊâßË°å setTimeout Êó∂ÂÄôÔºåÊàë‰ª¨ÂÖàÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂåøÂêçÁöÑÁÆ≠Â§¥ÂáΩÊï∞ÔºåÂÖ≥ÈîÆÁÇπÂ∞±Âú®ËøôÔºåÁÆ≠Â§¥ÂáΩÊï∞ÂÜÖÁöÑ this ÊâßË°åÂÆö‰πâÊó∂ÊâÄÂú®ÁöÑÂØπË±°ÔºåÂ∞±ÊòØÊåáÂêëÂÆö‰πâËøô‰∏™ÁÆ≠Â§¥ÂáΩÊï∞Êó∂‰ΩúÁî®ÂüüÂÜÖÁöÑ thisÔºå‰πüÂ∞±ÊòØ obj.foo2 ‰∏≠ÁöÑ thisÔºåÂç≥ objÔºõÊâÄ‰ª•Âú®ÊâßË°åÁÆ≠Â§¥ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑ this -&gt; obj.foo2 ‰∏≠ÁöÑ this -&gt; objÔºõ ÁÆÄÂçïÊù•ËØ¥Ôºå ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÁöÑ this Âè™ÂíåÂÆö‰πâÂÆÉÊó∂ÂÄôÁöÑ‰ΩúÁî®ÂüüÁöÑ this ÊúâÂÖ≥ÔºåËÄå‰∏éÂú®Âì™Èáå‰ª•ÂèäÂ¶Ç‰ΩïË∞ÉÁî®ÂÆÉÊó†ÂÖ≥ÔºåÂêåÊó∂ÂÆÉÁöÑ this ÊåáÂêëÊòØ‰∏çÂèØÊîπÂèòÁöÑ„ÄÇ call, apply, bindÂú® js ‰∏≠ÔºåÂáΩÊï∞‰πüÊòØÂØπË±°ÔºåÂêåÊ†∑‰πüÊúâ‰∏Ä‰∫õÊñπÊ≥ïÔºåËøôÈáåÊàë‰ª¨‰ªãÁªç‰∏â‰∏™ÊñπÊ≥ïÔºå‰ªñ‰ª¨ÂèØ‰ª•Êõ¥ÊîπÂáΩÊï∞‰∏≠ÁöÑ this ÊåáÂêëÔºö call fun.call(thisArg[, arg1[, arg2[, ‚Ä¶]]]) ÂÆÉ‰ºöÁ´ãÂç≥ÊâßË°åÂáΩÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊåáÂÆöÊâßË°åÂáΩÊï∞‰∏≠ this ÁöÑ‰∏ä‰∏ãÊñáÔºåÂêéÈù¢ÁöÑÂèÇÊï∞ÊòØÊâßË°åÂáΩÊï∞ÈúÄË¶Å‰º†ÂÖ•ÁöÑÂèÇÊï∞Ôºõ apply fun.apply(thisArg[, [arg1, arg2, ‚Ä¶]]) ÂÆÉ‰ºöÁ´ãÂç≥ÊâßË°åÂáΩÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊåáÂÆöÊâßË°åÂáΩÊï∞‰∏≠ this ÁöÑ‰∏ä‰∏ãÊñáÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊòØ‰º†ÁªôÊâßË°åÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºà‰∏é call ÁöÑÂå∫Âà´ÔºâÔºõ bind var foo = fun.bind(thisArg[, arg1[, arg2[, ‚Ä¶]]]); ÂÆÉ‰∏ç‰ºöÊâßË°åÂáΩÊï∞ÔºåËÄåÊòØËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåËøô‰∏™Êñ∞ÁöÑÂáΩÊï∞Ë¢´ÊåáÂÆö‰∫Ü this ÁöÑ‰∏ä‰∏ãÊñáÔºåÂêéÈù¢ÁöÑÂèÇÊï∞ÊòØÊâßË°åÂáΩÊï∞ÈúÄË¶Å‰º†ÂÖ•ÁöÑÂèÇÊï∞Ôºõ Ëøô‰∏â‰∏™ÂáΩÊï∞ÂÖ∂ÂÆûÂ§ßÂêåÂ∞èÂºÇÔºåÊÄªÁöÑÁõÆÁöÑÂ∞±ÊòØÂéªÊåáÂÆö‰∏Ä‰∏™ÂáΩÊï∞ÁöÑ‰∏ä‰∏ãÊñáÔºàthisÔºâÔºåÊàë‰ª¨‰ª• call ÂáΩÊï∞‰∏∫‰æãÔºõ ‰∏∫‰∏Ä‰∏™ÊôÆÈÄöÂáΩÊï∞ÊåáÂÆö this var obj = { name: &apos;qiutc&apos; }; function foo() { console.log(this); } foo.call(obj); // Object {name: &quot;qiutc&quot;} ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ÊâßË°å foo.call(obj) ÁöÑÊó∂ÂÄôÔºåÂáΩÊï∞ÂÜÖÁöÑ this ÊåáÂêë‰∫Ü obj Ëøô‰∏™ÂØπË±°ÔºåÊàêÂäüÔºõ ‰∏∫ÂØπË±°‰∏≠ÁöÑÊñπÊ≥ïÊåáÂÆö‰∏Ä‰∏™ this var obj = { name: &apos;qiutc&apos;, foo: function () { console.log(this); } } var obj2 = { name: &apos;tcqiu222222&apos; }; obj.foo.call(obj2); // Object {name: &quot;tcqiu222222&quot;} ÂèØ‰ª•ÁúãÂà∞ÔºåÊâßË°åÂáΩÊï∞ÁöÑÊó∂ÂÄôËøôÈáåÁöÑ this ÊåáÂêë‰∫Ü obj2ÔºåÊàêÂäüÔºõ ‰∏∫ÊûÑÈÄ†ÂáΩÊï∞ÊåáÂÆö this function Person(name) { this.name = name; console.log(this); } var obj = { name: &apos;qiutc2222222&apos; }; var p = new Person.call(obj, &apos;qiutc&apos;); // Uncaught TypeError: Person.call is not a constructor(‚Ä¶) ËøôÈáåÊä•‰∫Ü‰∏™ÈîôÔºåÂéüÂõ†ÊòØÊàë‰ª¨Âéª new ‰∫Ü Person.call ÂáΩÊï∞ÔºåËÄåÈùû Person ÔºåËøôÈáåÁöÑÂáΩÊï∞‰∏çÊòØ‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞Ôºõ Êç¢Êàê bind ËØïËØïÔºö function Person(name) { this.name = name; console.log(this); } var obj = { name: &apos;qiutc2222222&apos; }; var Person2 = Person.bind(obj); var p = new Person2(&apos;qiutc&apos;); // Person {name: &quot;qiutc&quot;} console.log(obj); // Object {name: &quot;qiutc2222222&quot;} ÊâìÂç∞Âá∫Êù•ÁöÑÊòØ Person ÂÆû‰æãÂåñÂá∫Êù•ÁöÑÂØπË±°ÔºåËÄåÂíå obj Ê≤°ÊúâÂÖ≥Á≥ªÔºåËÄå obj ‰πüÊ≤°ÊúâÂèëÁîüÂèòÂåñÔºåËØ¥ÊòéÔºåÊàë‰ª¨Áªô Person ÊåáÂÆö this ‰∏ä‰∏ãÊñáÂπ∂Ê≤°ÊúâÁîüÊïàÔºõ Âõ†Ê≠§ÂèØ‰ª•ÂæóÂá∫Ôºö ‰ΩøÁî® bind Áªô‰∏Ä‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÊåáÂÆö thisÔºåÂú® new Ëøô‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåbind ÂáΩÊï∞ÊâÄÊåáÂÆöÁöÑ this Âπ∂‰∏ç‰ºöÁîüÊïàÔºõ ÂΩìÁÑ∂ bind ‰∏ç‰ªÖÂèØ‰ª•ÊåáÂÆö this ÔºåËøòËÉΩ‰º†ÂÖ•ÂèÇÊï∞ÔºåÊàë‰ª¨Êù•ËØïËØïËøô‰∏™Êìç‰ΩúÔºö function Person(name) { this.name = name; console.log(this); } var obj = { name: &apos;qiutc2222222&apos; }; var Person2 = Person.bind(obj, &apos;qiutc111111&apos;); var p = new Person2(&apos;qiutc&apos;); // Person {name: &quot;qiutc111111&quot;} ÂèØ‰ª•ÁúãÂà∞ÔºåËôΩÁÑ∂ÊåáÂÆö this ‰∏çËµ∑‰ΩúÁî®Ôºå‰ΩÜÊòØ‰º†ÂÖ•ÂèÇÊï∞ËøòÊòØËµ∑‰ΩúÁî®‰∫ÜÔºõ ‰∏∫ÁÆ≠Â§¥ÂáΩÊï∞ÊåáÂÆö this Êàë‰ª¨Êù•ÂÆö‰πâ‰∏Ä‰∏™ÂÖ®Â±Ä‰∏ãÁöÑÁÆ≠Â§¥ÂáΩÊï∞ÔºåÂõ†Ê≠§Ëøô‰∏™ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÁöÑ this ÂøÖÁÑ∂‰ºöÊåáÂêëÂÖ®Â±ÄÂØπË±°ÔºåÂ¶ÇÊûúÁî® call ÊñπÊ≥ïÊîπÂèò this Âë¢Ôºö var afoo = (a) =&gt; { console.log(a); console.log(this); } afoo(1); // 1 // Window var obj = { name: &apos;qiutc&apos; }; afoo.call(obj, 2); // 2 // Window ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÈáåÁöÑ call ÊåáÂêë this ÁöÑÊìç‰ΩúÂπ∂Ê≤°ÊúâÊàêÂäüÔºåÊâÄ‰ª•ÂèØ‰ª•ÂæóÂá∫Ôºö ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÁöÑ this Âú®ÂÆö‰πâÂÆÉÁöÑÊó∂ÂÄôÂ∑≤ÁªèÂÜ≥ÂÆö‰∫ÜÔºàÊâßË°åÂÆö‰πâÂÆÉÁöÑ‰ΩúÁî®Âüü‰∏≠ÁöÑ thisÔºâÔºå‰∏éÂ¶Ç‰ΩïË∞ÉÁî®‰ª•ÂèäÂú®Âì™ÈáåË∞ÉÁî®ÂÆÉÊó†ÂÖ≥ÔºåÂåÖÊã¨ (call, apply, bind) Á≠âÊìç‰ΩúÈÉΩÊó†Ê≥ïÊîπÂèòÂÆÉÁöÑ this„ÄÇ Âè™Ë¶ÅËÆ∞‰ΩèÁÆ≠Â§¥ÂáΩÊï∞Â§ßÊ≥ïÂ•ΩÔºå‰∏çÂèòÁöÑ this„ÄÇ Function.prototype.call Ê†ºÂºè:fx.call( thisArg [Ôºåarg1Ôºåarg2Ôºå‚Ä¶ ] ); callÁöÑ‰º†ÂèÇ‰∏™Êï∞‰∏çÈôê,Á¨¨‰∏Ä‰∏™Êï∞Ë°®Á§∫Ë∞ÉÁî®ÂáΩÊï∞(fx)ÂáΩÊï∞‰ΩìÂÜÖthisÁöÑÊåáÂêë.‰ªéÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂºÄÂßã‰æùÊ¨°ÊåâÂ∫è‰º†ÂÖ•ÂáΩÊï∞. var age = 40; var xiaoMing = { age:30 }; var xiaoLi = { age: 20 }; var getAge = function(){ console.log(this.age); }; getAge.call( xiaoMing ); //30 Ë°®Á§∫ÂáΩÊï∞thisÊåáÂêëxiaoMing getAge.call(xiaoLi); //20 Ë°®Á§∫ÂáΩÊï∞thisÊåáÂêëxiaoLi getAge.call(undefined);//40 getAge.call(undefined)==getAge.call(null) getAge.call(null);//40 getAge(); //40 Â¶ÇÊûúÊàë‰ª¨‰º†ÂÖ•fx.call()ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Êï∞‰∏∫null,ÈÇ£‰πàË°®Á§∫ÂáΩÊï∞fx‰ΩìÂÜÖthisÊåáÂêëÂÆø‰∏ªÂØπË±°,Âú®ÊµèËßàÂô®ÊòØWindowÂØπË±°,Ëøô‰πüËß£Èáä‰∫ÜgetAge.call(undefined);//40„ÄÇ Âú®Ê≠§Âü∫Á°ÄÊàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫ getAge()Áõ∏ÂΩì‰∫égetAge.call(null/undefined),Êâ©Â±ïÂà∞ÊâÄÊúâÂáΩÊï∞,fx()==fx.call(null) == fx.call(undefined) ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØ‰∏•Ê†ºÊ®°Âºè‰∏ãÊúâÁÇπÂå∫Âà´: thisÊåáÂêënull var getAge = function(){ &apos;use strict&apos; console.log(this.age); }; getAge(null);//Êä•Èîô ageÊú™ÂÆö‰πâ ÂÜçÊù•ÁêÜËß£thisÁöÑ‰ΩøÁî® thisÁöÑÂ∏∏Áî®Âú∫ÊôØ: this‰Ωç‰∫é‰∏Ä‰∏™ÂØπË±°ÁöÑÊñπÊ≥ïÂÜÖ,Ê≠§Êó∂thisÊåáÂêëËØ•ÂØπË±° var name = ‚Äòwindow‚Äô; var Student = { name : &apos;kobe&apos;, getName: function () { console.log(this == Student); //true console.log(this.name); //kobe } } Student.getName(); var name = ‚Äòwindow‚Äô; var Student = { name : &apos;kobe&apos;, getName: function () { var name=100; console.log(this == Student); //true console.log(this.name); //kobe } } Student.getName(); //getNameÂèñÂæóÊòØStudent ÁöÑname this‰Ωç‰∫é‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞ÂÜÖ,Ë°®Á§∫thisÊåáÂêëÂÖ®Â±ÄÂØπË±°,(ÊµèËßàÂô®ÊòØwindow) var name = ‚Äòwindow‚Äô; var getName = function () { var name = &apos;kobe&apos;; //Ëø∑ÊÉëÊÄßËÄåÂ∑≤ return this.name; } console.log( getName() ); //window this‰ΩøÁî®Âú®ÊûÑÈÄ†ÂáΩÊï∞(ÊûÑÈÄ†Âô®)ÈáåÈù¢,Ë°®Á§∫thisÊåáÂêëÁöÑÊòØÈÇ£‰∏™ËøîÂõûÁöÑÂØπË±°. var name = ‚Äòwindow‚Äô; //ÊûÑÈÄ†Âô® var Student = function () { this.name = &apos;student&apos;; } var s1 = new Student(); console.log(s1.name); //student Ê≥®ÊÑè: Â¶ÇÊûúÊûÑÈÄ†Âô®ËøîÂõûÁöÑ‰πüÊòØ‰∏Ä‰∏™ObjectÁöÑÂØπË±°(ÂÖ∂‰ªñÁ±ªÂûãthisÊåáÂêë‰∏çÂèòÈÅµÂæ™‰πãÂâçÈÇ£‰∏™ËßÑÂæã),ËøôÊó∂ÂÄôthisÊåáÁöÑÊòØËøîÂõûÁöÑËøô‰∏™Objec. var name = &apos;window&apos;; //ÊûÑÈÄ†Âô® var Student = function () { this.name = &apos;student&apos;; return { name: &apos;boyStudent&apos; } } var s1 = new Student(); console.log(s1.name); //boyStudent thisÊåáÂêëÂ§±ÊïàÈóÆÈ¢ò var name = ‚Äòwindow‚Äô; var Student = { name : &apos;kobe&apos;, getName: function () { console.log(this.name); } } Student.getName(); // kobe var s1 = Student.getName; s1(); //window ÂéüÂõ†: Ê≠§Êó∂s1ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ function () { console.log(this.name); } ÂØπ‰∏Ä‰∏™Âü∫Êú¨ÁöÑÂáΩÊï∞,ÂâçÈù¢ÊèêËøáthisÂú®Âü∫Êú¨ÂáΩÊï∞‰∏≠ÊåáÁöÑÊòØwindow. Âú®ÂºÄÂèë‰∏≠Êàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®ÁöÑthisÁºìÂ≠òÊ≥ï ,ÁºìÂ≠òÂΩìÂâç‰ΩúÁî®Âüü‰∏ãthisÂà∞Âè¶Â§ñ‰∏Ä‰∏™ÁéØÂ¢ÉÂüü‰∏ã‰ΩøÁî® ÊúÄÂêéÁêÜËß£applyÁöÑÁî®Ê≥ï Function.prototype.apply Ê†ºÂºè: fx.apply(thisArg [ÔºåargArray] ); // ÂèÇÊï∞Êï∞ÁªÑÔºåargArray apply‰∏écallÁöÑ‰ΩúÁî®ÊòØ‰∏ÄÊ†∑ÁöÑ,Âè™ÊòØ‰º†ÂèÇÊñπÂºè‰∏çÂêå, applyÊé•Âèó‰∏§‰∏™ÂèÇÊï∞,Á¨¨‰∏Ä‰∏™‰πüÊòØfxÂáΩÊï∞‰ΩìÂÜÖthisÁöÑÊåáÂêë,Áî®Ê≥ï‰∏écallÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏ÄËá¥.Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÊï∞ÁªÑÊàñËÄÖÁ±ªÊï∞ÁªÑ,applyÂ∞±ÊòØÊääËøô‰∏™Êï∞ÁªÑÂÖÉÁ¥†‰º†ÂÖ•ÂáΩÊï∞fx. var add = function (a ,b ,c) { console.log(a +b +c); } add.apply(null , [1,2,3]); // 6 ÂÜçÂêÉÈÄèËøô‰∏™È¢òÁõÆÂ∞±ok var a=10; var foo={ a:20, bar:function(){ var a=30; return this.a; } } foo.bar() //20 (foo.bar)() //20 (foo.bar=foo.bar)() //10 (foo.bar,foo.bar)() //10 ‰∏äÈ¢òÊ≥®Ëß£Ôºö Êó∂ÂàªÁâ¢ËÆ∞Ôºö‰ΩúÁî®ÂüüÈìæÊü•ÊâæÈÅµÂæ™‚ÄùÂ∞±ËøëÂéüÂàô‚ÄùÔºõthisË∞ÅË∞ÉÁî®Â∞±ÊåáÂêëË∞Å„ÄÇvar a=10; var foo={ a:20, bar:function(){ var a=30; //this ÊåáÂêë foo Ôºöconsole.log( this == foo) //true return this.a; } } foo.bar() //20 // foo.bar() // fooË∞ÉÁî®ÔºåthisÊåáÂêëfoo , Ê≠§Êó∂ÁöÑ this ÊåáÁöÑÊòØfooÔºåÊâÄ‰ª•ÊòØ20 (foo.bar)() //20 //Á¨¨‰∏ÄÊ≠•Ôºö (function(){ var a=30; return this.a; })() //‰ΩúÁî®ÂüüÈìæÂêë‰∏äÊü•Êâæ,this ÊåáÂêëÂ§ñ‰∏ÄÂ±ÇÁöÑÂØπË±°foo (foo.bar=foo.bar)() //10 foo.bar=foo.bar,„ÄêÁùÅÂ§ßÁúºÁùõÔºåÊòØÂçïÁ≠âÂè∑ËµãÂÄº„ÄëÂ∞±ÊòØÊôÆÈÄöÁöÑÂ§çÂà∂,‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞ËµãÂÄºÁªô‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáè,‰Ω†ÂèØ‰ª•ÊääÂè≥ËæπÁöÑfoo.barÊç¢Êàêb, Âç≥(b = foo.bar)(),ÂçöÂÆ¢ÈáåÈù¢„ÄêthisÊåáÂêëÂ§±ÊïàÈóÆÈ¢ò„ÄëËØ¥ËøáÊôÆÈÄöÁöÑÂáΩÊï∞ÈáåÈù¢ÁöÑthisÊåáÂêëwindow,Ëá™ÁÑ∂this.a == 10 (foo.bar,foo.bar)() //ÈÄóÂè∑Ë°®ËææÂºè //10 //(foo.bar,foo.bar)ÊòØ‰∏Ä‰∏™Â∞èÊã¨Âè∑Ë°®ËææÂºè,Â∞èÊã¨Âè∑Ë°®ËææÂºè‰ºö‰æùÊ¨°ÂàõÂª∫‰∏§‰∏™ÂåøÂêçÂáΩÊï∞,Âπ∂ËøîÂõûÊúÄÂêé‰∏Ä‰∏™ÁöÑÂåøÂêçÂáΩÊï∞ÂÄº, (foo.bar,foo.bar) ÂæóÂà∞ÁöÑÊòØËøô‰∏™ÂáΩÊï∞ function(){ var a=30; console.log( this == foo); //Â¶ÇÊûú‰∏çÊòØÂæà‰∫ÜËß£thisÁöÑÊåáÂêëÂ∞±Âä†Ëøô‰∏™‰ª£Á†ÅËøõË°åÊ£ÄÊµã return this.a; } ,Ëøô‰∏™ÊòØÂåøÂêçÂáΩÊï∞,ÂåøÂêçÂáΩÊï∞ÁöÑthisÊåáÁöÑÊòØwidnow,ÈÇ£‰πàthis.a = 10 thisÂèØË∞ìÊòØJavaScript‰∏≠ÁöÑÂºÄÂèëÁ•ûÂô®Ôºå‰ΩøÁî®ÂæóÂΩìÁöÑËØù‰∏ç‰ªÖÊúâ‰∫ãÂçäÂäüÂÄçÁöÑÊïàÊûúÔºåËÄå‰∏î‰ª£Á†ÅÁöÑÈÄºÊ†º‰πüÊõ¥È´ò„ÄÇ‰ΩÜÊòØÊó¢ÁÑ∂ÊòØÁ•ûÂô®ÔºåÂ¶ÇÊûú‰Ω†Ê≤°ÊúâË∂≥Â§üÁöÑÂäüÂäõÁöÑËØùÔºåÈÇ£‰πàÂ∞±‰∏çË¶Å‰ΩøÁî®ÂÆÉÔºåÂê¶ÂàôÂ∞±ÊúâÂèØËÉΩËá™ÊØÅË∫´‰∫°„ÄÇÊõæÂá†‰ΩïÊó∂ÔºåÊàëÂÅ∂ÁÑ∂ÂæóÂà∞Ëøô‰∏™Á•ûÂô®Ôºå‰πãÂêéÔºåÔºåÔºåËá™ÊÆãÔºåÔºåÔºåËá™ÊÆãÔºåÔºåÔºåÂÜçËá™ÊÆã...ÂÜçËá™ÊÆã‰∫ÜÈÇ£‰πàÂ§öÊ¨°ÂêéÔºåÁªà‰∫éÂèØ‰ª•Êã•ÊúâÂº∫Â§ßÂäüÂäõÊåÅÊ≠§Á•ûÂô®Ë°åËµ∞Ê±üÊπñ‰∫Ü„ÄÇÊé•‰∏ãÊù•ÔºåÊàëÂ∞±‰∏∫Â§ßÂÆ∂Êù•‰º†Êéà‰º†ËØ¥‰∏≠Á•ûÂô®ÁöÑ‰ΩøÁî®ÁßòËØÄ„ÄÇ Âí≥Âí≥„ÄÇ„ÄÇ ÂÖ•Ê≠£È¢ò„ÄÇ thisÊòØ‰ªÄ‰πàÔºüthisË°®Á§∫ÂΩìÂâçËøêË°åÊñπÊ≥ïÁöÑ‰∏ª‰Ωì„ÄÇ Ê≥®ÊÑèÔºöÂáΩÊï∞‰∏≠ÁöÑthisÊåáÂêëÂíåÂΩìÂâçÂáΩÊï∞Âú®Âì™ÂÆö‰πâÁöÑËØùÊàñËÄÖÂú®Âì™ÊâßË°åÈÉΩÊ≤°Êúâ‰ªª‰ΩïÁöÑÂÖ≥Á≥ª„ÄÇ‰∏∫Âï•ËøôÊ†∑ËØ¥ÔºåËØ∑‰ªîÁªÜÈòÖËØª‰∏ãÈù¢ÁöÑÁßòÁ±çÂ§ßÂÖ®„ÄÇ Á•ûÂô®ÁßòÁ±çÂ§ßÂÖ®Ôºö ÁßòÁ±ç‰∏ÄÔºöËá™Âà∂Ë°åÂáΩÊï∞ÈáåÈù¢ÁöÑthisÊ∞∏ËøúÈÉΩÊòØwindow var inner = &quot;window&quot;; var obj = {inner : &quot;obj&quot;, fn : (function () {console.log(this.inner)})() } ‰∏äÈù¢ÊµèËßàÂô®Âú®ËøêË°åËØ•Á®ãÂ∫èÊó∂Ôºå‰ºöËá™Âä®ËøêË°åobj.fnÈáåÈù¢ÁöÑÊñπÊ≥ïÔºåÂõ†‰∏∫obj.fnÊòØ‰∏Ä‰∏™Ëá™Âà∂Ë°åÂáΩÊï∞ÔºåÂΩìÊâßË°åËØ•ÂáΩÊï∞Êó∂ÔºåÁ®ãÂ∫è‰ºöËæìÂá∫window„ÄÇ È¢ùÔºå‰∏∫‰ªÄ‰πàËæìÂá∫‰∏çÊòØobjÔºü Âõ†‰∏∫‰∫∫ÂÆ∂ËßÑÂÆöËá™Âà∂Ë°åÂáΩÊï∞ÈáåÈù¢ÁöÑthisÊòØwindow,ÊâÄ‰ª•ÂÖ∂ÂÆûthis.innerÂ∞±ÊòØwindow.innerÔºåÂõ†Ê≠§Ëøô‰∏™innerÊòØÂÆö‰πâÂú®ÂÖ®Â±ÄÂèòÈáèÁöÑÔºåÂÆÉÁöÑÂÄºÊòØ&quot;window&quot;„ÄÇ ÁßòÁ±ç‰∫åÔºöÂÖÉÁ¥†ÁªëÂÆö‰∫ã‰ª∂È©±Âä®ÊñπÊ≥ïËøêË°åÔºåÊñπÊ≥ïÈáåÁöÑthisË°®Á§∫ÂΩìÂâçÁªëÂÆöÁöÑÂÖÉÁ¥† var oDiv = document.getElementsByTagName(&quot;div&quot;)[0]; oDiv.onclick=function(){ console.log(this); //ÂΩìÁî®Èº†Ê†áÁÇπÂáªËØ•ÂÖÉÁ¥†ÔºåÂàôËæìÂá∫oDivÂÖÉÁ¥†ÁöÑÈõÜÂêà }; Ëøô‰∏™Â•ΩÁêÜËß£ÔºåÂÖÉÁ¥†ÁªëÂÆöÊüê‰∏™Ë°å‰∏∫ÊâßË°åÁöÑÊñπÊ≥ïÔºåÂ∞±Áõ∏ÂΩì‰∫éÊääËøô‰∏™ÊñπÊ≥ï‰πüÁªëÂÆöÂú®Ëøô‰∏™ÂÖÉÁ¥†‰∏äÔºåÊâÄ‰ª•this‰πüÂ∞±ÊåáÂêëÂÖÉÁ¥†Êú¨Ë∫´„ÄÇ ÁßòÁ±ç‰∏âÔºöÊñπÊ≥ïÊâßË°åÔºåÁúãÊñπÊ≥ïÂêçÂâçÈù¢ÊòØÂê¶Êúâ&quot;.&quot;ÔºåÊúâÁöÑËØù&quot;.&quot;ÂâçÈù¢ÊòØË∞ÅthisÂ∞±ÊòØË∞ÅÔºåÊ≤°ÊúâÁöÑËØùthisÂ∞±ÊòØwindow var obj={fn:fn}; function fn(){console.log(this)} fn.prototype.aa=function(){console.log(this)}; var f=new fn; fn(); //window.. obj.fn(); //Object.. fn.prototype.aa(); //fn.prototype f.aa(); //f ËÆ∞‰ΩèÊ≠§ÁßòÁ±çÔºÅÔºÅÔºÅ ÁßòÁ±çÂõõÔºöÂú®ÊûÑÈÄ†ÂáΩÊï∞Ê®°Âºè‰∏≠,ÂáΩÊï∞‰Ωì‰∏≠ÁöÑthisÊòØÂΩìÂâçÁ±ªÁöÑ‰∏Ä‰∏™ÂÆû‰æã function Fn(){ this.x = 100; console.log(this); // ÂÆû‰æã f } var f = new Fn; ÊûÑÈÄ†ÂáΩÊï∞ÁîüÊàêÁöÑÂÆû‰æãÔºåÊïÖÊûÑÈÄ†ÂáΩÊï∞ÈáåÁöÑthisÂΩìÁÑ∂ÊòØÊåáÂêëÂΩìÂâçËøô‰∏™ÂÆû‰æã‰∫Ü„ÄÇ ÁßòÁ±ç‰∫îÔºàÂ§ßÊãõÔºâÔºöcall/applyÊù•ÊîπÂèòthisÁöÑÊåáÂêë var oDiv = document.getElementsByTagName(&quot;div&quot;)[0]; function fn() { console.log(this); } fn.call(oDiv); fn.call(oDiv); //ÊâßË°åËøô‰∏™ËØ≠Âè•ÂêéÔºåfnÈáåÈù¢ÁöÑthisÊåáÂêëoDivÂÖÉÁ¥†ÔºåapplayÁî®Ê≥ï‰∏écallÁ±ª‰ºº„ÄÇ Ê≠§Â§ßÊãõ‰∏ÄÂá∫Êù•Ôºå‰∏äÈù¢Âõõ‰∏™ÁßòÁ±çÈÉΩÊó†Êïà‰∫Ü„ÄÇ ‰∫î‰∏™ÂÖ∏ÂûãÁöÑ JavaScript Èù¢ËØïÈ¢òÈóÆÈ¢ò1: ËåÉÂõ¥ÔºàScopeÔºâÊÄùËÄÉ‰ª•‰∏ã‰ª£Á†ÅÔºö ÊéßÂà∂Âè∞ÔºàconsoleÔºâ‰ºöÊâìÂç∞Âá∫‰ªÄ‰πàÔºü Á≠îÊ°à ‰∏äËø∞‰ª£Á†Å‰ºöÊâìÂç∞Âá∫5„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÁöÑÈô∑Èò±Â∞±ÊòØÔºåÂú®Á´ãÂç≥ÊâßË°åÂáΩÊï∞Ë°®ËææÂºèÔºàIIFEÔºâ‰∏≠ÔºåÊúâ‰∏§‰∏™ÂëΩÂêçÔºå‰ΩÜÊòØÂÖ∂‰∏≠ÂèòÈáèÊòØÈÄöËøáÂÖ≥ÈîÆËØçvarÊù•Â£∞ÊòéÁöÑ„ÄÇËøôÂ∞±ÊÑèÂë≥ÁùÄaÊòØËøô‰∏™ÂáΩÊï∞ÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ‰∏éÊ≠§Áõ∏ÂèçÔºåbÊòØÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏ãÁöÑ„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÂè¶‰∏Ä‰∏™Èô∑Èò±Â∞±ÊòØÔºåÂú®ÂáΩÊï∞‰∏≠‰ªñÊ≤°Êúâ‰ΩøÁî®‚Äù‰∏•Ê†ºÊ®°Âºè‚Äù (‚Äòuse strict‚Äô;)„ÄÇÂ¶ÇÊûú ‰∏•Ê†ºÊ®°Âºè ÂºÄÂêØÔºåÈÇ£‰πà‰ª£Á†ÅÂ∞±‰ºöÊä•Âá∫Êú™ÊçïËé∑ÂºïÁî®ÈîôËØØÔºàUncaught ReferenceErrorÔºâÔºöbÊ≤°ÊúâÂÆö‰πâ„ÄÇËÆ∞‰ΩèÔºå‰∏•Ê†ºÊ®°ÂºèË¶ÅÊ±Ç‰Ω†Âú®ÈúÄË¶Å‰ΩøÁî®ÂÖ®Â±ÄÂèòÈáèÊó∂ÔºåÊòéÁ°ÆÂú∞ÂºïÁî®ËØ•ÂèòÈáè„ÄÇÂõ†Ê≠§Ôºå‰Ω†ÈúÄË¶ÅÂÉè‰∏ãÈù¢Ëøô‰πàÂÜôÔºö ÈóÆÈ¢ò2: ÂàõÂª∫ ‚ÄúÂéüÁîüÔºànativeÔºâ‚Äù ÊñπÊ≥ïÂú®StringÂØπË±°‰∏äÂÆö‰πâ‰∏Ä‰∏™repeatifyÂáΩÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ÔºåÊù•ÊòéÁ°ÆÂ≠óÁ¨¶‰∏≤ÈúÄË¶ÅÈáçÂ§çÂá†Ê¨°„ÄÇËøô‰∏™ÂáΩÊï∞Ë¶ÅÊ±ÇÂ≠óÁ¨¶‰∏≤ÈáçÂ§çÊåáÂÆöÁöÑÊ¨°Êï∞„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö Â∫îËØ•ÊâìÂç∞Âá∫hellohellohello. Á≠îÊ°à ‰∏ÄÁßçÂèØËÉΩÁöÑÂÆûÁé∞Â¶Ç‰∏ãÊâÄÁ§∫Ôºö Ëøô‰∏™ÈóÆÈ¢òÊµãËØï‰∫ÜÂºÄÂèë‰∫∫ÂëòÂØπ‰∫éJavaScript‰∏≠ÁªßÊâøÁöÑÊéåÊè°Ôºå‰ª•ÂèäprototypeËøô‰∏™Â±ûÊÄß„ÄÇËøô‰πüÈ™åËØÅ‰∫ÜÂºÄÂèë‰∫∫ÂëòÊòØÂê¶ÊúâËÉΩÂäõÊâ©Â±ïÂéüÁîüÊï∞ÊçÆÁ±ªÂûãÁöÑÂäüËÉΩÔºàËôΩÁÑ∂‰∏çÂ∫îËØ•Ëøô‰πàÂÅöÔºâ„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÁöÑÂè¶‰∏Ä‰∏™ÈáçÁÇπÊòØÈ™åËØÅ‰Ω†ÊòØÂê¶ÊÑèËØÜÂà∞Âπ∂Áü•ÈÅìÂ¶Ç‰ΩïÈÅøÂÖçË¶ÜÁõñÂ∑≤ÁªèÂ≠òÂú®ÁöÑÂáΩÊï∞„ÄÇËøôÂèØ‰ª•ÈÄöËøáÂú®Ëá™ÂÆö‰πâÂáΩÊï∞‰πãÂâçÂà§Êñ≠ËØ•ÂáΩÊï∞ÊòØÂê¶Â≠òÂú®Êù•ÂÅöÂà∞„ÄÇ ÂΩì‰Ω†ÈúÄË¶Å‰∏∫ÊóßÊµèËßàÂô®ÂÆûÁé∞ÂêëÂêéÂÖºÂÆπÁöÑÂáΩÊï∞Êó∂ÔºåËøô‰∏ÄÊäÄÂ∑ßÂçÅÂàÜÊúâÁî®„ÄÇ ÈóÆÈ¢ò3: ÂèòÈáèÊèêÂçáÔºàHoistingÔºâÊâßË°å‰ª•‰∏ã‰ª£Á†Å‰ºöÊúâ‰ªÄ‰πàÁªìÊûúÔºü‰∏∫‰ªÄ‰πàÔºü Á≠îÊ°à ËøôÊÆµ‰ª£Á†ÅÁöÑÊâßË°åÁªìÊûúÊòØ undefined Âíå 2„ÄÇ Ëøô‰∏™ÁªìÊûúÁöÑÂéüÂõ†ÊòØÔºåÂèòÈáèÂíåÂáΩÊï∞ÈÉΩË¢´ÊèêÂçá‰∫ÜÔºàhoistedÔºâ„ÄÇÂõ†Ê≠§ÔºåÂú®aË¢´ÊâìÂç∞ÁöÑÊó∂ÂÄôÔºåÂÆÉÂ∑≤ÁªèÂú®ÂáΩÊï∞‰ΩúÁî®Âüü‰∏≠Â≠òÂú®ÔºàÂç≥ÂÆÉÂ∑≤ÁªèË¢´Â£∞Êòé‰∫ÜÔºâÔºå‰ΩÜÊòØÂÆÉÁöÑÂÄº‰æùÁÑ∂ÊòØ undefined„ÄÇÊç¢Ë®Ä‰πãÔºå‰∏äËø∞‰ª£Á†ÅÂíå‰ª•‰∏ã‰ª£Á†ÅÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ ÈóÆÈ¢ò4: this Âú® JavaScript ‰∏≠ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑ‰ª•‰∏ã‰ª£Á†ÅÁöÑÁªìÊûúÊòØ‰ªÄ‰πàÔºüËØ∑Ëß£Èáä‰Ω†ÁöÑÁ≠îÊ°à„ÄÇ Á≠îÊ°à ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊâìÂç∞Âá∫ Aurelio De Rosa Âíå John Doe„ÄÇÂéüÂõ†ÊòØÂú® JavaScript ‰∏≠Ôºå‰∏Ä‰∏™ÂáΩÊï∞ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºå‰πüÂ∞±ÊòØthisÂÖ≥ÈîÆËØçÊâÄÂºïÁî®ÂØπË±°ÔºåÊòØ‰æùËµñ‰∫éÂáΩÊï∞ÊòØÂ¶Ç‰ΩïË¢´Ë∞ÉÁî®ÁöÑÔºåËÄå‰∏çÊòØ‰æùËµñ‰∫éÂáΩÊï∞Â¶Ç‰ΩïË¢´ÂÆö‰πâÁöÑ„ÄÇ Âú®Á¨¨‰∏Ä‰∏™ console.log() Ë∞ÉÁî®‰∏≠Ôºå getFullname() ÊòØ‰Ωú‰∏∫ obj.prop ÁöÑÂáΩÊï∞Ë¢´Ë∞ÉÁî®ÁöÑ„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢ÉÊåáÂêëÂêéËÄÖÂπ∂‰∏îÂáΩÊï∞ËøîÂõûthisÂØπË±°ÁöÑ fullname Â±ûÊÄß„ÄÇÁõ∏ÂèçÔºåÂΩì getFullname() Ë¢´Ëµã‰∏∫testÂèòÈáèÁöÑÂÄºÊó∂ÔºåÈÇ£‰∏™ËØ≠Â¢ÉÊåáÂêëÂÖ®Â±ÄÂØπË±°(window)„ÄÇËøôÊòØÂõ†‰∏∫ÔºåtestË¢´ÈöêÂºèËÆæÁΩÆ‰∏∫ÂÖ®Â±ÄÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇÂõ†Ê≠§ÔºåÂáΩÊï∞Ë∞ÉÁî®ËøîÂõû window ÁöÑ fullname Â±ûÊÄßÂÄºÔºåÂú®Ê≠§ÊÆµ‰ª£Á†Å‰∏≠ÔºåËøô‰∏™ÂÄºÊòØÈÄöËøáÁ¨¨‰∏ÄË°åËµãÂÄºËØ≠Âè•ËÆæÁΩÆÁöÑ„ÄÇ ÈóÆÈ¢ò5: call() Âíå apply()‰øÆÂ§ç‰∏ä‰∏Ä‰∏™ÈóÆÈ¢òÔºåËÆ©ÊúÄÂêé‰∏Ä‰∏™ console.log() ÊâìÂç∞Âá∫ Aurelio De Rosa„ÄÇ Á≠îÊ°à Ë¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂèØ‰ª•ÈÄöËøá‰∏∫ÂáΩÊï∞ call() ÊàñËÄÖ apply() Âº∫Âà∂ÂáΩÊï∞Ë∞ÉÁî®ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢É„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÁü•ÈÅì call() Âíå apply() ‰πãÈó¥ÁöÑÂå∫Âà´ÔºåÊàëÊé®ËçêÈòÖËØªÊñáÁ´†‚Äú function.call Âíå function.apply ‰πãÈó¥ÊúâÂíåÂå∫Âà´?‚Äù„ÄÇÂú®‰ª•‰∏ã‰ª£Á†Å‰∏≠ÔºåÊàë‰ºöÁî® call()Ôºå‰ΩÜÊòØÂú®ËøôÈáåÔºåÁî® apply() ‰πüÂèØ‰ª•Ëé∑ÂæóÁõ∏ÂêåÁöÑÁªìÊûúÔºö Â∏∏ËßÅÈù¢ËØïÔºö‰∏ãÈù¢Âàó‰∏æ‰∏Ä‰∫õÁÆÄÂçïÁöÑÂÆû‰æã ÊÄªÁªì‰∏Ä‰∏ãthisÁöÑ‰∏Ä‰∫õÁî®Ê≥ïÔºö 1.ÊñπÊ≥ï‰∏≠ÁöÑthis‰ºöÊåáÂêëÂΩìÂâçÊâßË°åËØ•ÊñπÊ≥ïÁöÑÂØπË±° Â¶ÇÔºö var name = &quot;window&quot; var Tom = { name:&quot;Tom&quot;; show:function(){alert(this.name)} } Tom.show(); //Tom 2.ÊñπÊ≥ï‰∏≠ÁöÑthis‰∏ç‰ºöÊåáÂêëÂ£∞ÊòéÂÆÉÁöÑÂØπË±° Â¶Ç‰∏ã var Bob={ name:&quot;Bob&quot;, show:function(){alert(this.name);} }; var Tom={ name:&quot;Tom&quot;, show:Bob.show }; Tom.show() ; //Tom Âõ†‰∏∫Â∞ΩÁÆ°alert(this.name)ÊòØÂú®BobÂØπË±°ÁéØÂ¢É‰∏≠Â£∞ÊòéÁöÑ ‰ΩÜËØ•ÊñπÊ≥ïÊòØÁî±TomÂØπË±°Ë∞ÉÁî®ÊâßË°åÊâÄ‰ª•thisÊÄªÊòØ‰ºöÊåáÂêëÂΩìÂâçÊâßË°åÁöÑÂØπË±°ÔºåËÄå‰∏çÊòØÂ£∞ÊòéÁöÑÂØπË±° 3.Â∞ÜÊñπÊ≥ïÂ§çÂà∂ÁªôÂèòÈáèÊó∂ÔºåÊâßË°åÊó∂‰ªçÁÑ∂‰ºö‰ª•TomÂØπË±°Âå∫Ë∞ÉÁî®ËØ•ÊñπÊ≥ï var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;. show:function(){alert(this.name)} }; var fun=Tom.show(); fun(); //Tom ÂèØ‰ª•ÁúãÂá∫ËµãÂÄºÂêéÂÜçË∞ÉÁî®ÔºåÂπ∂‰∏çÂΩ±ÂìçË∞ÉÁî®ÂÖ∂ÊñπÊ≥ïÁöÑÂØπË±° 4.Â∞ÜÂØπË±°ËµãÂÄºÁªôÂèòÈáèÂêéÔºåÂÜçË∞ÉÁî®ÊñπÊ≥ïÔºåÊâßË°åÁöÑÂØπË±°‰ªçÁÑ∂ÊòØTom var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){ var that=this; that.show(); } }; Tom.wait(); //Tom ËøôÈáåthatËµãÂÄº‰∫ÜÂΩìÂâçÊâßË°åÁöÑÂØπË±°ÔºåÂπ∂ËÆ©ÂÆÉÁªßÁª≠Ë∞ÉÁî®showÔºå ÊâÄ‰ª•showÊñπÊ≥ï‰∏≠alert(this.name)Ëá™ÁÑ∂ËÄåÁÑ∂ÁöÑÊåáÂêë‰∫ÜTom ÂèØ‰ª•Êää‰∏äÈù¢ÁöÑ &quot;thatËµãÂÄºÂØπË±° ÁÑ∂ÂêéË∞ÉÁî®ÊñπÊ≥ï&quot; Ëøô‰∏™ËøáÁ®ãÁúãÂÅöÊàêÊâßË°åÂØπË±° ÁöÑÂª∂ËøüÔºåÂ∞±ÊòØËÆ©TomÂä†Áè≠ÁöÑÊÑèÊÄù 5.Âè¶‰∏ÄÁßç ÊåáÊòéË∞ÉÁî®ÊñπÊ≥ïÁöÑÂØπË±° ÁöÑÂäûÊ≥ï Â¶Ç‰∏ãÔºö var name = &quot;window&quot;; var Bob= { name:&quot;Bob&quot;, show:function(){alert(this.name);} }; var Tom= {name: &quot;Tom&quot;}; Bob.show(); //Bob Bob.show.apply(); //window Bob.show.apply(Tom); //Tom ÂΩìÁÑ∂call()‰πüÂ∑Æ‰∏çÂ§öÁ±ª‰ºº 6.‰∏ãÈù¢Êù•‰∏™ÁâπÊÆäÁöÑ‰æãÂ≠ê var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){ var fun=this.show; fun(); } }; Tom.wait(); //window ‰∏äÈù¢‰πüÊòØËµãÂÄºÊñπÊ≥ïÂêéÔºåÂÜçË∞ÉÁî®ÔºåÂèØÊòØÊâßË°åÁöÑÂØπË±°Âç¥ÊîπÊàê‰∫ÜwindowÂØπË±° Ëß£ÈáäÔºö Âú®ÂáΩÊï∞‰ΩìÂÜÖÊääÊñπÊ≥ïËµãÂÄºÁªôÂèòÈáèÂÜçË∞ÉÁî®‰ºöÂØºËá¥ÂØπË±°Êõ¥Êîπ‰∏∫WindowÂØπË±° ÊâßË°åfunÊó∂ÔºåÂèØ‰ª•ÁúãÂÅöÊòØ‰∏ÄÁßçÊñπÊ≥ïË∞ÉÁî®ÁöÑÂª∂ËøüË°å‰∏∫ÔºåÂª∂ËøüË∞ÉÁî®ÊñπÊ≥ï‰ºö‰ΩøÂæóÊâßË°åÁöÑÂØπË±° Âèò‰∏∫ÂÖ®Â±ÄÂØπË±°‰πüÂ∞±ÊòØwindowÂØπË±° ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúãÂÖ∂‰ªñÂá†ÁßçÂª∂ËøüÊñπÂºèÔºåÂØºËá¥ÂØπË±°Ë¢´Êõ¥Êîπ‰∏∫windowÁöÑ‰æãÂ≠ê 7.ÂåøÂêçÂáΩÊï∞ÁöÑÂª∂Ëøü var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){!function(call){call();}(this.show)} } Tom.wait(); //Window 8.setTimeout„ÄÅsetIntervalÂáΩÊï∞Âª∂Ëøü ËøôÈáåÂè™‰ª•setTimeout‰∏∫‰æãÂ≠ê var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){setTimeout(this.show,1000)} } Tom.wait(); //window 9. Âú®Âª∂ËøüÁöÑÁéØÂ¢É‰∏ã Â∞ùËØïËÆ©TomÂä†Áè≠ÔºàÂØπË±°‰πüË∑üÁùÄÂª∂ËøüÔºâ var name=&quot;window&quot;; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){setTimeout(Tom.show,1000)} } Tom.wait(); //window ‰∏äÈù¢‰∏≠thisÂØπË±°ÊîπÊàê‰∫ÜTomÔºåÂ∞ùËØïËÆ©TomÂä†Áè≠Ôºå‰ΩÜÊòØÁªìÊûú‰ªçÁÑ∂‰∏∫WindowÂØπË±° Âõ†‰∏∫Tom.showÊîæÂú®Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÈáåÔºåÂª∂ËøüÁöÑÊâßË°å‰ΩøÂæóÊâßË°åÁöÑÂØπË±°Âèò‰∏∫windowÂØπË±° ËÄå‰∏çÂÜçÊòØTomÂØπË±°ÔºåÂ¶Ç‰ΩïËÆ©ÊâßË°åÂØπË±°TomÂú®Âª∂ËøüÂΩì‰∏çË¢´ÂèòÊõ¥Âë¢Ôºü‰∏ãÈù¢Áªô‰Ω†Á≠îÊ°à 10.ËôΩÁÑ∂Âª∂Ëøü‰ºöÂØºËá¥ÊñπÊ≥ïÁöÑÊâßË°åÂØπË±°Ë¢´Êõ¥Êîπ‰∏∫Window ‰ΩÜ‰πüÊúâÂäûÊ≥ïÈò≤Ê≠¢ÊâßË°åÂØπË±°Êõ¥Êîπ Â¶Ç‰∏ã var name=&quot;window&quot; var Tom ={ name : &quot;Tom&quot;, show : function(){alert(this.name);}, wait: function(){ var that=this; setTimeout(function(){that.show()},1000)} } Tom.wait(); //Tom Â¶ÇÊûú‰∏çËÉΩÁêÜËß£‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºå‰Ω†Â∞±ÂΩìÂÅöTomÂØπË±°‰πüË∑üÁùÄÂáΩÊï∞‰∏ÄËµ∑Âª∂ËøüÂ∞±Â•Ω‰∫Ü ËÄåÁ¨¨9‰∏™‰æãÂ≠êÊ≤°ÊúâÊàêÂäüÂª∂ËøüÔºåÊòØÂõ†‰∏∫Ê≤°ÊúâÂèòÈáè‰øùÂ≠òÂØπË±°‰ΩøÂæóÊâßË°åÂØπË±°Ê≤°ÊúâË∑üÁùÄÂª∂Ëøü 11.evalÂáΩÊï∞ÁöÑÂª∂Ëøü ÂØπ‰∫éevalÊØîËæÉÁâπÊÆä Âú®evalÁéØÂ¢É‰∏ãÔºåÊâßË°åÁöÑÂØπË±°Â∞±ÊòØÂΩìÂâç‰ΩúÁî®ÂüüÁöÑÂØπË±° Â¶Ç‰∏ã var name=&quot;window&quot;; var Bob={ name:&quot;Bob&quot;, showName: function(){ eval(&quot;alert(this.name)&quot;); } }; Bob.showName(); //Bob 12.evalÂáΩÊï∞ÁöÑÁéØÂ¢É‰∏ãÔºå‰∏ç‰ºöÂèóÂà∞Âª∂ËøüËÄåÂΩ±ÂìçÂáΩÊï∞ÊâßË°åÁöÑÂØπË±° ‰πãÊâÄ‰ª•evalÁâπÊÆäÊòØÂõ†‰∏∫eval‰∏çÂèóÂª∂ËøüÁöÑÂΩ±Âìç var name=&quot;window&quot;; var that; var Tom={ name:&quot;Tom&quot;, show:function(){alert(this.name)}, wait:function(){that=this;setTimeout(&quot;that.show()&quot;,1000)} } Tom.wait(); //Tom ‰πüËÆ∏‰Ω†‰ºöËßâÂæó‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊ≤°ÊúâevalÂáΩÊï∞ÁöÑË∫´ÂΩ± ÂÖ∂ÂÆûsetTimeoutÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∞±ÊòØevalÁéØÂ¢É ‰ªñ‰ºöÊåáÂêëÂΩìÂâçÊâßË°å‰ΩúÁî®ÂüüÁöÑÊâßË°åÂØπË±°ÔºåÂøΩÁï•Âª∂ËøüÊñπÊ≥ïÂª∂ËøüË∞ÉÁî® Â¶ÇÊûúËÉΩÊää‰∏äÈù¢12‰∏™‰æãÂ≠êÈÉΩÁêÜËß£‰∫ÜÔºåÈÇ£‰πàthisÂ∞ÜÊàê‰∏∫‰Ω†ÁöÑ‰∏ÄÊääÊúâÂäõÁöÑÂàÄÔºåÊå•ËàûÂú®‰Ω†‰ª£Á†Å‰∏≠ ÂΩìÁÑ∂Â¶ÇÊûú‰∏çËÉΩÁêÜËß£ÔºåÈÇ£‰πàÂÉèÈó≠ÂåÖ‰∏ÄÊ†∑ Â∞ΩÈáèÁöÑÂ∞ëÁî®ÔºÅ ÂáΩÊï∞ÊòØJavaScript‰∏ñÁïåÈáåÁöÑÁ¨¨‰∏ÄÂÖ¨Ê∞ëÔºåÊç¢Âè•ËØùÊù•ËØ¥ÔºåÂ∞±ÊòØÊàë‰ª¨Â¶ÇÊûúÂèØ‰ª•Á≤æÈÄöJavaScriptÂáΩÊï∞ÁöÑ‰ΩøÁî®ÔºåÈÇ£‰πàÂØπJavaScriptÁöÑËøêÁî®ÂèØ‰ª•Êõ¥Ê∏∏ÂàÉÊúâ‰Ωô‰∫Ü„ÄÇÁÜüÊÇâJavaScriptÁöÑ‰∫∫Â∫îËØ•ÈÉΩÁü•ÈÅìÔºåÂêåÊ†∑ÁöÑÂáΩÊï∞Ôºå‰ª•‰∏çÂêåÁöÑÊñπÂºèË∞ÉÁî®ÁöÑËØùÔºåÂèóÂΩ±ÂìçÊúÄÂ§ßÁöÑÂ∫îËØ•ÊòØ this „ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ËØ¥ËØ¥JavaScriptÂáΩÊï∞ÁöÑÂêÑÁßçË∞ÉÁî®Ê®°Âºè„ÄÇ ‰∏Ä„ÄÅÊôÆÈÄöÂáΩÊï∞ÁöÑË∞ÉÁî®Ê®°Âºè ÊâÄË∞ìÊôÆÈÄöÂáΩÊï∞ÁöÑË∞ÉÁî®Ê®°ÂºèÔºå‰πüÊòØJavaScriptÂáΩÊï∞ÁöÑÊúÄÁÆÄÂçïÁöÑ‰∏ÄÁßçË∞ÉÁî®Ê®°ÂºèÔºåÁõ¥Êé•Â∞±ÊòØÂáΩÊï∞ÂêçÂêéÊé•‰∏Ä‰∏™ () ÂÆûÁé∞Ë∞ÉÁî®ÔºåÁúã‰∏ãÈù¢‰ª£Á†ÅÔºö function func(){ console.log(this === window); //true } func(); ‰∏äÈù¢‰ª£Á†ÅÔºåÊàë‰ª¨Áî®functionÂÖ≥ÈîÆÂ≠óÂ£∞Êòé‰∫Ü‰∏Ä‰∏™ func ÂáΩÊï∞ÔºåÂπ∂‰∏îÂú®ÂáΩÊï∞‰ΩìÂÜÖÊâìÂç∞ this===windowÔºåÁÑ∂ÂêéÊàë‰ª¨Áõ¥Êé•Ë∞ÉÁî®ÂáΩÊï∞funcÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÊéßÂà∂Âè∞ÊòØÁõ¥Êé•ÊâìÂç∞Âá∫ true Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂáΩÊï∞ÁöÑËøôÁßçÊôÆÈÄöË∞ÉÁî®Ê®°ÂºèÔºåÂáΩÊï∞‰ΩìÂÜÖÁöÑ this ÊòØÊåáÂêëÂÖ®Â±ÄÁéØÂ¢É window ÁöÑ„ÄÇ‰∏çÊ∏ÖÊ•öËøôÁÇπÁöÑÂêåÂ≠¶ÔºåÂèØ‰ª•ËÉΩ‰ºöÈÅáÂà∞ËøôÊ†∑ÁöÑ‰∏Ä‰∏™bugÔºö var color = &apos;gg&apos;; var obj = { color : &apos;red&apos;, show : function(){ function func1(){ console.log(this.color); //gg } func1(); } } obj.show(); Êàë‰ª¨Âú®ÂÖ®Â±ÄÁéØÂ¢É‰∏ãÂ£∞Êòé‰∫Ü‰∏Ä‰∏™ÂèòÈáè color Âíå‰∏Ä‰∏™ÂØπË±° obj ÔºåÂú®ÂØπË±° obj ÈáåÈù¢Êàë‰ª¨ËøòÂ£∞Êòé‰∫Ü‰∏Ä‰∏™ color Â±ûÊÄß ‰∏∫ ‚Äòred‚ÄôÔºå‰∏Ä‰∏™ show ÊñπÊ≥ï„ÄÇËÄå‰∏îÂú® show ÊñπÊ≥ïÈáåÈù¢Âë¢ÔºåÊàë‰ª¨ËøòÂ£∞Êòé‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ func1 Âπ∂‰∏îË∞ÉÁî®‰∫Ü func1Ôºåfunc1 ÁöÑ‰ΩúÁî®ÊòØÊâìÂç∞ this.color„ÄÇÊúÄÂêéÊàë‰ª¨ËøêË°å‰ª£Á†Å obj.show(); Ë∞ÉÁî®objÈáåÈù¢ÁöÑshowÊñπÊ≥ï„ÄÇ‰∏çÊ∏ÖÊ•öÂáΩÊï∞ÁöÑÊôÆÈÄöË∞ÉÁî®Ê®°ÂºèÁöÑÁâπÁÇπÁöÑÂêåÂ≠¶ÂèØËÉΩ‰ºöËÆ§‰∏∫Ê≠§Êó∂Âú®ÊéßÂà∂Âè∞Á≠îÂ∫îÂá∫Êù•ÁöÑ‰ºöÊòØ ‚Äòred‚Äô „ÄÇÂÆûÈôÖ‰∏äÊ≠§Êó∂Âú®ÊéßÂà∂Âè∞Á≠îÂ∫îÂá∫Êù•ÁöÑÂ∫îËØ•ÊòØ gg „ÄÇÂõ†‰∏∫ÂáΩÊï∞ func1 ÁöÑË∞ÉÁî®Ê®°ÂºèÊòØ ÊôÆÈÄöÂáΩÊï∞Ë∞ÉÁî®Ê®°ÂºèÔºàÂç≥‰ΩøÂÆÉÊòØÂú® obj ÁöÑ show ÊñπÊ≥ïÈáåÈù¢Ë∞ÉÁî®ÁöÑÔºâÔºåÊâÄ‰ª•Ê≠§Êó∂ÂáΩÊï∞‰ΩìÂÜÖÁöÑ this ÊòØÊåáÂêë ÂÖ®Â±ÄÁéØÂ¢Éwindow ÁöÑÔºåÊâÄ‰ª•Â∞±ÊâìÂç∞‰∫ÜÂÖ®Â±ÄÁéØÂ¢É‰∏ãÁöÑÂèòÈáè color „ÄÇ ÂèØËÉΩÊúâ‰∫õÂêåÂ≠¶‰ºöÈóÆÔºöÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõ func1 ÂáΩÊï∞ÊâìÂç∞Âá∫Êù•ÁöÑÊòØ ‚Äòred‚Äô Âë¢ÔºåÂ∫îËØ•ÊÄé‰πàÊîπÔºüÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÂõ†‰∏∫ obj.color ÊâçÊòØ ‚Äòred‚Äô ÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ÈúÄË¶ÅÊää ÊåáÂêë obj ÁöÑ this ÂºïÂÖ•Âà∞ÂáΩÊï∞ func1 ÈáåÈù¢Â∞±Ë°å‰∫ÜÔºö var color = &apos;gg&apos;; var obj = { color : &apos;red&apos;, show : function(){ var that = this; function func1(){ console.log(that.color); //red } func1(); } } obj.show(); var color = &apos;gg&apos;; var obj = { color : &apos;red&apos;, show : function(){ var func1=function(){ console.log(this.color); //red }.bind(this); func1(); } } obj.show(); Âú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂõ†‰∏∫ show ÈáåÈù¢ÁöÑ this ÊåáÂêë obj ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú® show ÈáåÈù¢Â£∞Êòé‰∏Ä‰∏™ÂèòÈáè that = this;Áî®Êù•ÊääÊåáÂêë obj ÁöÑ this ÂºïÂÖ•Âà∞ func1 ‰∏≠ÔºåÁÑ∂ÂêéÂÜçÊää func1 ÂáΩÊï∞‰ΩìÂÜÖÁöÑ this.color Êîπ‰∏∫ that.color ,Ê≠§Êó∂Âú®ÊéßÂà∂Âè∞ÊâìÂç∞Âá∫Êù•ÁöÑÂ∞±ÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑ ‚Äòred‚Äô ‰∫Ü„ÄÇ ÂèØËÉΩÁé∞Âú®ÂèàÊúâÂêåÂ≠¶‰ºöÈóÆÔºö‰∏∫‰ªÄ‰πà show ÈáåÈù¢ÁöÑ this ÊòØÊåáÂêë obj ÁöÑÂë¢ÔºüËøôÂ∞±ÊòØÊàë‰ª¨Ë¶ÅËØ¥ÁöÑJavaScriptÂáΩÊï∞ÁöÑÁ¨¨‰∫åÁßçË∞ÉÁî®Ê®°ÂºèÔºöÊñπÊ≥ïË∞ÉÁî®Ê®°Âºè ‰∫å„ÄÅÊñπÊ≥ïË∞ÉÁî®Ê®°Âºè ÊñπÊ≥ïË∞ÉÁî®Ê®°ÂºèÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÊää‰∏Ä‰∏™ JavaScriptÂáΩÊï∞‰Ωú‰∏∫‰∏Ä‰∏™ÂØπË±°ÁöÑÊñπÊ≥ïÊù•Ë∞ÉÁî®ÔºåÂΩì‰∏Ä‰∏™ÂáΩÊï∞Ë¢´‰øùÂ≠ò‰∏∫‰∏Ä‰∏™ÂØπË±°ÁöÑÂ±ûÊÄßÊòØÔºåÊàë‰ª¨Â∞±ÊääÂÆÉÁß∞‰∏∫ÊñπÊ≥ïÔºå‰æãÂ¶Ç‰∏äÊñáÁöÑ obj ÂØπË±°ÈáåÁöÑ show ÔºåÂΩì‰∏Ä‰∏™ÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂ÔºåÂáΩÊï∞‰ΩìÈáåÈù¢ÁöÑ this Â∞±‰ºöÁªëÂÆöÂà∞Ëøô‰∏™ÂØπË±°Ôºå‰æãÂ¶Ç‰∏äÊñáÁöÑ show ÈáåÈù¢ÁöÑ this „ÄÇÊñπÊ≥ïË∞ÉÁî®Ê®°Âºè‰πüÂæàÂÆπÊòìËæ®Âà´Ôºöobj.show()ÔºåÂØπË±°Âêç . Â±ûÊÄßÂêç () Ôºõ‰ª£Á†ÅÁöÑËØùÂèØ‰ª•ÂèÇËÄÉ‰∏äÊñáÁöÑ obj ‰ª£Á†Å ÔºåÂçö‰∏ªÂ∞±‰∏çÂ§öÂÜô‰∫Ü„ÄÇËÆ∞‰ΩèÔºöÊñπÊ≥ïÁöÑË∞ÉÁî®ÊòØÂèØ‰ª•Âú®ÂáΩÊï∞‰ΩìÂÜÖÈÄöËøá this ËÆøÈóÆËá™Â∑±ÊâÄÂ±ûÁöÑÈÇ£‰∏™ÂØπË±°ÁöÑ„ÄÇ ‰∏â„ÄÅÊûÑÈÄ†Âô®Ë∞ÉÁî®Ê®°Âºè Âçö‰∏ªËÆ§‰∏∫ÊûÑÈÄ†Âô®Ë∞ÉÁî®Ê®°ÂºèÊòØÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÊ®°ÂºèÊù•ËØ¥ËæÉ‰∏∫Â§çÊùÇÁÇπÁöÑË∞ÉÁî®Ê®°Âºè‰∫Ü„ÄÇÈÄöËøáÂÖ≥ÈîÆÂ≠ó new ÂèØ‰ª•Êää‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÊûÑÈÄ†Âô®Êù•Ë∞ÉÁî®„ÄÇÂÖ≥ÈîÆÂ≠ó new ÂèØ‰ª•ÊîπÂèòÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºö function func2(name){ this.name = name; } name; //undefined //ÊôÆÈÄöÂáΩÊï∞Ë∞ÉÁî®Ê®°Âºè var foo = func2(&apos;afei&apos;); foo; //undefined name; //afei //ÊûÑÈÄ†Âô®Ë∞ÉÁî®Ê®°Âºè var bar = new func2(&apos;lizefei&apos;); bar.__proto__ === func2.prototype; //true bar; //{name:&apos;lizefei&apos;} bar.name; //&apos;lizefei&apos; Âú®‰∏äÁ§∫‰ª£Á†Å‰∏≠Êàë‰ª¨Â£∞Êòé‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ func2 ÔºåÂàÜÂà´Áî®‰∏§Áßç‰∏çÂêåÁöÑË∞ÉÁî®Ê®°ÂºèÂéªË∞ÉÁî®ÂÆÉ„ÄÇÂõ†‰∏∫ÂáΩÊï∞ func2 Âπ∂Ê≤°ÊúâÊòæÂºèËøîÂõûÂÄºÔºåÊâÄ‰ª•‰Ωú‰∏∫ÊôÆÈÄöÂáΩÊï∞ÂéªË∞ÉÁî®Êó∂ÔºåÂÆÉ‰ªÄ‰πà‰πüÊ≤°ÊúâËøîÂõûÔºåÊâÄ‰ª• foo ÁöÑÂÄºÊòØ undefined „ÄÇÂõ†‰∏∫ÊôÆÈÄöË∞ÉÁî®Ê®°ÂºèÁöÑ this ÊòØÊåáÂêë ÂÖ®Â±ÄÁéØÂ¢É window ÁöÑÔºåÊâÄ‰ª• func2(‚Äòafei‚Äô); ÂêéÔºåÂÖ®Â±ÄÁéØÂ¢É‰∏ãÂ∞±Â§ö‰∫Ü‰∏Ä‰∏™ name ÂèòÈáè‰∏îÁ≠â‰∫é ‚Äòafei‚Äô„ÄÇ func2 ‰Ωú‰∏∫ÊûÑÈÄ†Âô®Ë∞ÉÁî®Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆÉËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂõ†‰∏∫ÂÖ≥ÈîÆÂ≠ó new ‰ΩøÂæóÂáΩÊï∞Âú®Ë∞ÉÁî®ÊòØÂèëÁîü‰∫ÜÂ¶Ç‰∏ãÁöÑÁâπÊÆäÂèòÂåñÔºö ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåËÄå‰∏îËøô‰∏™Êñ∞ÂØπË±°ÊòØÈìæÊé•Âà∞ func2 ÁöÑ prototype Â±ûÊÄßÁöÑ ÊääÂáΩÊï∞ÈáåÁöÑ this ÊåáÂêë‰∫ÜËøô‰∏™Êñ∞ÂØπË±° Â¶ÇÊûúÊ≤°ÊúâÊòæÂºèÁöÑËøîÂõûÂÄºÔºåÊñ∞ÂØπË±°‰Ωú‰∏∫ÊûÑÈÄ†Âô®func2ÁöÑËøîÂõûÂÄºËøõË°åËøîÂõûÔºàÊâÄ‰ª•bar ÊòØ {name:‚Äôlizefei‚Äô}Ôºâ ËøôÊ†∑Â≠êÊàë‰ª¨Â∞±ÂèØ‰ª•ÁúãÂá∫ÊûÑÈÄ†Âô®ÁöÑ‰ΩúÁî®ÔºöÈÄöËøáÂáΩÊï∞ÁöÑË∞ÉÁî®Êù•ÂàùÂßãÂåñÊñ∞ÂàõÂª∫Âá∫Êù•ÁöÑÂØπË±°„ÄÇÂú®JavaScriptÁöÑÈù¢ÂêëÂØπË±°ÁºñÁ®ãÈáåÈù¢ÔºåËøô‰∏™ÂèØÊòØÁõ∏ÂΩìÈáçË¶ÅÁöÑ„ÄÇ Âõ†‰∏∫Âú®ÂáΩÊï∞ÁöÑÂ£∞Êòé‰∏äÔºåÂú®Êú™Êù•‰Ωú‰∏∫ÊûÑÈÄ†Âô®Ë∞ÉÁî®ÁöÑÂáΩÊï∞ÂíåÊôÆÈÄöÂáΩÊï∞ÁöÑÂ£∞ÊòéÊ≤°‰ªÄ‰πàÂå∫Âà´ÔºåÊâÄ‰ª•ÂØºËá¥ÂêéÊù•ÁöÑÂºÄÂèëËÄÖÂæàÂÆπÊòìÂõ†‰∏∫Ë∞ÉÁî®Ê®°ÂºèÁöÑÈîôËØØÂØºËá¥Á®ãÂ∫èÂá∫ÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÂºÄÂèëËÄÖ‰ª¨ÈÉΩÈªòÂ•ëÂú∞Á∫¶ÂÆöÔºåÁî®Êù•ÂÅöÊûÑÈÄ†Âô®Ë∞ÉÁî®ÁöÑÂáΩÊï∞ÁöÑÂáΩÊï∞ÂêçÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶Â∫îËØ•Â§ßÂÜôÔºå‰æãÂ¶ÇÔºöPersonÔºåPeople„ÄÇËøôÊ†∑Â≠êÂêéÊù•ÁöÑÂºÄÂèëËÄÖ‰∏ÄÁúãÂà∞ÂáΩÊï∞ÂêçÂ∞±Áü•ÈÅìË¶ÅÁî®ÊûÑÈÄ†Âô®Ë∞ÉÁî®Ê®°ÂºèË∞ÉÁî®Ê≠§ÂáΩÊï∞‰∫Ü„ÄÇ Âõõ„ÄÅ‰ΩøÁî®apply()Âíåcall()ÊñπÊ≥ïË∞ÉÁî® ËøôÁßçË∞ÉÁî®ÁöÑÊ®°ÂºèÊòØ‰∏∫‰∫ÜÊõ¥ÁÅµÊ¥ªÊéßÂà∂ÂáΩÊï∞ËøêË°åÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢ÉËÄåËØûÁîüÁöÑ„ÄÇÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØ‰∏∫‰∫ÜÁÅµÊ¥ªÊéßÂà∂ÂáΩÊï∞‰ΩìÂÜÖ this ÁöÑÂÄº„ÄÇ apply Âíå callËøô‰∏§‰∏™ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÈÉΩÊòØË¶Å‰º†ÈÄíË¢´ÂáΩÊï∞‰∏ä‰∏ãÊñáÁöÑÂØπË±°ÔºàÁÆÄÂçïÁÇπËØ¥Â∞±ÊòØË¶ÅÁªëÂÆöÁªôÂáΩÊï∞ this ÁöÑÂØπË±°Ôºâ„ÄÇÂÖ∂‰ªñÂèÇÊï∞Â∞±ÊúâÊâÄ‰∏çÂêå‰∫ÜÔºö applyÊñπÊ≥ïÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑÈáåÈù¢ÁöÑÂÄºÂ∞Ü‰Ωú‰∏∫ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂèÇÊï∞Ôºõ callÊñπÊ≥ïÔºå‰ªéÁ¨¨‰∫å‰∏™ÂèÇÊï∞Ëµ∑ÔºàÂåÖÊã¨Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºâÔºåÂâ©‰∏ãÁöÑÂèÇÊï∞ÈÉΩÊòØ‰Ωú‰∏∫ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂèÇÊï∞Ôºõ ËÆ©Êàë‰ª¨ÁúãÁúãÊ†óÂ≠êÔºö var obj = { name :&apos;afei&apos; } function say(ag1,ag2){ console.log(ag1+&apos;:&apos;+ag2+&quot; &quot;+ this.name); } say.apply(obj,[&apos;applyÊñπÊ≥ï&apos;,&apos;hello&apos;]); //applyÊñπÊ≥ï:hello afei say.call(obj,&apos;callÊñπÊ≥ï&apos;,&apos;hi&apos;); //callÊñπÊ≥ï:hi afei Ê≠£Â¶ÇÊ†óÂ≠êÊâÄÁ§∫ÔºåÊàë‰ª¨ÊääÂØπË±° obj ‰Ωú‰∏∫ÂáΩÊï∞ say ÁöÑ‰∏ä‰∏ãÊñáÊù•Ë∞ÉÁî®ÂáΩÊï∞ say ÔºåÊâÄ‰ª•ÂáΩÊï∞ÈáåÁöÑ this ÊòØÊåáÂêë ÂØπË±° obj ÁöÑ„ÄÇÂú®applyÊñπÊ≥ïÈáåÔºåÊàë‰ª¨ÈÄöËøáÊï∞ÁªÑ [‚ÄòapplyÊñπÊ≥ï‚Äô,‚Äôhello‚Äô] Áªô say ÊñπÊ≥ï‰º†ÈÄí‰∫Ü‰∏§‰∏™ÂèÇÊï∞Ôºà‚ÄôapplyÊñπÊ≥ï‚Äô Âíå ‚Äòhello‚ÄôÔºâÔºåÊâÄ‰ª•ÊâìÂç∞Âá∫Êù•ÊòØÔºö applyÊñπÊ≥ï:hello afei„ÄÇ ÂêåÁêÜ call ‰πüÊòØ‰∏ÄÊ†∑ÔºåËÄå‰∏îÂáΩÊï∞‰º†ÈÄíÁöÑÊñπÂºèÈÄöËøá‰∏äÈù¢ÁöÑ‰ª£Á†Å‰πü‰∏ÄÁõÆ‰∫ÜÁÑ∂ÊàëÔºåÂçö‰∏ªÂ∞±‰∏çÂ§öÂÅöËß£Èáä‰∫Ü„ÄÇ Âè¶Â§ñÔºåÂçö‰∏ªËøòÂê¨ËØ¥applyÂíåcallËøô‰∏§‰∏™ÊñπÊ≥ïÈô§‰∫Ü‰º†ÈÄíÂèÇÊï∞ÁöÑÊñπÂºè‰∏ç‰∏ÄÊ†∑ÔºåÊâßË°åÁöÑÈÄüÂ∫¶ËøòÊòØapply ÊØî call Ë¶ÅÂø´Âë¢„ÄÇ‰∏çËøáÂçö‰∏ªÂ∞±Ê≤°ÊúâÂÆûÈ™åËøá„ÄÇ ‰∫î„ÄÅÊÄªÁªì Âú®JavaScriptÈáåÈù¢ÔºåÂáΩÊï∞Âè™Ë¶ÅÁöÑË∞ÉÁî®Ê®°ÂºèÂ∞±ÊòØËøôÂá†Áßç‰∫ÜÔºàÂú®ES6ÈáåÈù¢ËøòÊúâ‰∏ÄÁßçÂæàÂ•áÊÄ™ÂæàÁâπÊÆäÁöÑÂáΩÊï∞Ë∞ÉÁî®Ê®°ÂºèÔºåÂè´ÂÅö‚ÄôÊ†áÁ≠æÊ®°Êùø‚ÄòÔºåÂú®ËøôÈáåÂçö‰∏ª‰πü‰∏çÂ§öËØ¥‰∫ÜÔºåÊúâÁ©∫Âè¶Êõ¥ÔºâÔºåÂè™Ë¶ÅÊéåÊè°‰∫ÜËøôÂá†Áßç‰∏ªË¶ÅÁöÑË∞ÉÁî®Ê®°ÂºèÔºåÈÇ£‰πàÊó•ÂêéÂÜç‰πü‰∏çÁî®ÊãÖÂøÉ this ÁöÑÂÄºÂèòÊù•ÂèòÂéª‰∫Ü„ÄÇ ‰∏äÊñáÂ¶ÇÊûúÊúâÊºèÁöÑ„ÄÅÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊúõÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÊåáÂá∫ÔºåÂ∞èÂºüËôöÂøÉÂêëÂ≠¶„ÄÇ]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS‰∏≠ÁöÑthisÁöÑ‰∏ÉÁßç‰ΩøÁî®Âú∫ÊôØ]]></title>
    <url>%2F2015%2F08%2F30%2FJS%E4%B8%AD%E7%9A%84this%E7%9A%84%E4%B8%83%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%2F</url>
    <content type="text"><![CDATA[Javascript ‰∏≠ÁöÑ thisÔºåÊúâÊó∂ÂÄôËÆ©‰∫∫Ëø∑ÊÉëÔºåÊâÄ‰ª•ÊÄªÁªì‰∫Ü‰∏Ä‰∏ãÂÖ≥‰∫éthisÊåáÂêëÁöÑÈóÆÈ¢ò„ÄÇ Âú®ÂáΩÊï∞‰∏≠ this Âà∞Â∫ïÂèñ‰ΩïÂÄºÔºåÊòØÂú®ÂáΩÊï∞ÁúüÊ≠£Ë¢´Ë∞ÉÁî®ÊâßË°åÁöÑÊó∂ÂÄôÁ°ÆÂÆö‰∏ãÊù•ÁöÑÔºåÂáΩÊï∞ÂÆö‰πâÁöÑÊó∂ÂÄôÁ°ÆÂÆö‰∏ç‰∫Ü„ÄÇ Âõ†‰∏∫ this ÁöÑÂèñÂÄºÊòØÂáΩÊï∞ÊâßË°å‰∏ä‰∏ãÊñá(context)ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊØèÊ¨°Ë∞ÉÁî®ÂáΩÊï∞ÔºåÈÉΩ‰ºö‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑÊâßË°å‰∏ä‰∏ãÊñáÁéØÂ¢É„ÄÇÂΩì‰ª£Á†Å‰∏≠‰ΩøÁî®‰∫Ü thisÔºåËøô‰∏™ this ÁöÑÂÄºÂ∞±Áõ¥Êé•‰ªéÊâßË°åÁöÑ‰∏ä‰∏ãÊñá‰∏≠Ëé∑Âèñ‰∫ÜÔºåËÄå‰∏ç‰ºö‰ªé‰ΩúÁî®ÂüüÈìæ‰∏≠ÊêúÂØª„ÄÇ ÂÖ≥‰∫é this ÁöÑÂèñÂÄºÔºåÂ§ß‰Ωì‰∏äÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ã‰∏ÉÁßçÊÉÖÂÜµÔºö Áî±‰∫é‰∏•Ê†ºÊ®°Âºè‰∏ãÔºåÁ¶ÅÊ≠¢thisÊåáÂêëÂÖ®Â±ÄÂØπË±°ÔºåÊâÄ‰ª•‰ª•‰∏ãÁ§∫‰æãÂùáËøêË°åÂú®Èùû‰∏•Ê†ºÊ®°Âºè‰∏ã ÊÉÖÂÜµ‰∏ÄÔºöÂÖ®Â±Ä &amp; Ë∞ÉÁî®ÊôÆÈÄöÂáΩÊï∞Âú®ÂÖ®Â±ÄÁéØÂ¢É‰∏≠Ôºåthis Ê∞∏ËøúÊåáÂêë window„ÄÇ console.log(this === window); //true ÊôÆÈÄöÂáΩÊï∞Âú®Ë∞ÉÁî®Êó∂ÂÄô(Ê≥®ÊÑè‰∏çÊòØÊûÑÈÄ†ÂáΩÊï∞ÔºåÂâçÈù¢‰∏çÂä† new)ÔºåÂÖ∂‰∏≠ÁöÑ this ‰πüÊòØÊåáÂêë window„ÄÇ var x = 10; function foo(){ console.log(this); //Window console.log(this.x); //10 } foo(); ÊÉÖÂÜµ‰∫åÔºöÊûÑÈÄ†ÂáΩÊï∞ÊâÄË∞ìÁöÑÊûÑÈÄ†ÂáΩÊï∞Â∞±ÊòØÁî±‰∏Ä‰∏™ÂáΩÊï∞ new Âá∫Êù•ÁöÑÂØπË±°Ôºå‰∏ÄËà¨ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂáΩÊï∞ÂêçÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºå‰æãÂ¶ÇÂÉè ObjectÔºåFunctionÔºåArray Ëøô‰∫õÈÉΩÂ±û‰∫éÊûÑÈÄ†ÂáΩÊï∞„ÄÇ function Foo(){ this.x = 10; console.log(this); //Foo {x:10} } var foo = new Foo(); console.log(foo.x); //10 ‰∏äËø∞‰ª£Á†ÅÔºåÂ¶ÇÊûúÂáΩÊï∞‰Ωú‰∏∫ÊûÑÈÄ†ÂáΩÊï∞‰ΩøÁî®ÔºåÈÇ£‰πàÂÖ∂‰∏≠ÁöÑ this Â∞±‰ª£Ë°®ÂÆÉÂç≥Â∞Ü new Âá∫Êù•ÁöÑÂØπË±°„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûúÁõ¥Êé•Ë∞ÉÁî® Foo ÂáΩÊï∞ÔºåËÄå‰∏çÊòØ new Foo()ÔºåÈÇ£Â∞±ÂèòÊàêÊÉÖÂÜµ1ÔºåËøôÊó∂ÂÄô Foo() Â∞±ÂèòÊàêÊôÆÈÄöÂáΩÊï∞„ÄÇ function Foo(){ this.x = 10; console.log(this); //Window } var foo = Foo(); ÊÉÖÂÜµ‰∏âÔºöÂØπË±°ÊñπÊ≥ïÂ¶ÇÊûúÂáΩÊï∞‰Ωú‰∏∫ÂØπË±°ÁöÑÊñπÊ≥ïÊó∂ÔºåÊñπÊ≥ï‰∏≠ÁöÑ this ÊåáÂêëËØ•ÂØπË±°„ÄÇ var obj = { x: 10, foo: function () { console.log(this); //Object console.log(this.x); //10 } }; obj.foo(); Ê≥®ÊÑèÔºöËã•ÊòØÂú®ÂØπË±°ÊñπÊ≥ï‰∏≠ÂÆö‰πâÂáΩÊï∞ÔºåÈÇ£‰πàÊÉÖÂÜµÂ∞±‰∏çÂêå‰∫Ü„ÄÇ var obj = { x: 10, foo: function () { function f(){ console.log(this); //Window console.log(this.x); //undefined } f(); } } obj.foo(); ÂèØ‰ª•Ëøô‰πàÁêÜËß£ÔºöÂáΩÊï∞ f ËôΩÁÑ∂ÊòØÂú® obj.foo ÂÜÖÈÉ®ÂÆö‰πâÁöÑÔºå‰ΩÜÂÆÉ‰ªçÁÑ∂Â±û‰∫é‰∏Ä‰∏™ÊôÆÈÄöÂáΩÊï∞Ôºåthis ‰ªçÊåáÂêë window„ÄÇ Âú®ËøôÈáåÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅË∞ÉÁî®‰∏äÂ±Ç‰ΩúÁî®Âüü‰∏≠ÁöÑÂèòÈáè obj.xÔºåÂèØ‰ª•‰ΩøÁî® self ÁºìÂ≠òÂ§ñÈÉ® this ÂèòÈáè„ÄÇ var obj = { x: 10, foo: function () { var self = this; function f(){ console.log(self); //{x: 10} console.log(self.x); //10 } f(); } } obj.foo(); Â¶ÇÊûú foo ÂáΩÊï∞‰∏ç‰Ωú‰∏∫ÂØπË±°ÊñπÊ≥ïË¢´Ë∞ÉÁî®Ôºö var obj = { x: 10, foo: function () { console.log(this); //Window console.log(this.x); //undefined } }; var fn = obj.foo; fn(); obj.foo Ë¢´ËµãÂÄºÁªô‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáèÔºåÂπ∂Ê≤°Êúâ‰Ωú‰∏∫ obj ÁöÑ‰∏Ä‰∏™Â±ûÊÄßË¢´Ë∞ÉÁî®ÔºåÈÇ£‰πàÊ≠§Êó∂ this ÁöÑÂÄºÊòØ window„ÄÇ ÊÉÖÂÜµÂõõÔºöÊûÑÈÄ†ÂáΩÊï∞ prototype Â±ûÊÄßfunction Foo(){ this.x = 10; } Foo.prototype.getX = function () { console.log(this); //Foo {x: 10, getX: function} console.log(this.x); //10 } var foo = new Foo(); foo.getX(); Âú® Foo.prototype.getX ÂáΩÊï∞‰∏≠Ôºåthis ÊåáÂêëÁöÑ foo ÂØπË±°„ÄÇ‰∏ç‰ªÖ‰ªÖÂ¶ÇÊ≠§ÔºåÂç≥‰æøÊòØÂú®Êï¥‰∏™ÂéüÂûãÈìæ‰∏≠Ôºåthis ‰ª£Ë°®ÁöÑ‰πüÊòØÂΩìÂâçÂØπË±°ÁöÑÂÄº„ÄÇ ÊÉÖÂÜµ‰∫îÔºöÂáΩÊï∞Áî® call„ÄÅapplyÊàñËÄÖ bind Ë∞ÉÁî®„ÄÇvar obj = { x: 10 } function foo(){ console.log(this); //{x: 10} console.log(this.x); //10 } foo.call(obj); foo.apply(obj); foo.bind(obj)(); ÂΩì‰∏Ä‰∏™ÂáΩÊï∞Ë¢´ call„ÄÅapply ÊàñËÄÖ bind Ë∞ÉÁî®Êó∂Ôºåthis ÁöÑÂÄºÂ∞±Âèñ‰º†ÂÖ•ÁöÑÂØπË±°ÁöÑÂÄº„ÄÇ ÊÉÖÂÜµÂÖ≠ÔºöDOM event thisÂú®‰∏Ä‰∏™ HTML DOM ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÈáåÔºåthis ÂßãÁªàÊåáÂêëËøô‰∏™Â§ÑÁêÜÁ®ãÂ∫èÊâÄÁªëÂÆöÁöÑ HTML DOM ËäÇÁÇπÔºö function Listener(){ document.getElementById(&apos;foo&apos;).addEventListener(&apos;click&apos;, this.handleClick); //ËøôÈáåÁöÑ this ÊåáÂêë Listener Ëøô‰∏™ÂØπË±°„ÄÇ‰∏çÊòØÂº∫Ë∞ÉÁöÑÊòØËøôÈáåÁöÑ this } Listener.prototype.handleClick = function (event) { console.log(this); //&lt;div id=&quot;foo&quot;&gt;&lt;/div&gt; } var listener = new Listener(); document.getElementById(&apos;foo&apos;).click(); Ëøô‰∏™ÂæàÂ•ΩÁêÜËß£ÔºåÂ∞±Áõ∏ÂΩì‰∫éÊòØÁªôÂáΩÊï∞‰º†ÂèÇÔºå‰Ωø handleClick ËøêË°åÊó∂‰∏ä‰∏ãÊñáÊîπÂèò‰∫ÜÔºåÁõ∏ÂΩì‰∫é‰∏ãÈù¢ËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºö var obj = { x: 10, fn: function() { console.log(this); //Window console.log(this.x); //undefined } }; function foo(fn) { fn(); } foo(obj.fn); ‰Ω†‰πüÂèØ‰ª•Áî®ÈÄöËøá bind ÂàáÊç¢‰∏ä‰∏ãÊñá: function Listener(){ document.getElementById(&apos;foo&apos;).addEventListener(&apos;click&apos;,this.handleClick.bind(this)); } Listener.prototype.handleClick = function (event) { console.log(this); //Listener {} } var listener = new Listener(); document.getElementById(&apos;foo&apos;).click(); ÂâçÂÖ≠ÁßçÊÉÖÂÜµÂÖ∂ÂÆûÂèØ‰ª•ÊÄªÁªì‰∏∫Ôºö this ÊåáÂêëË∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑÂØπË±°„ÄÇ ÊÉÖÂÜµ‰∏ÉÔºöÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÁöÑ thisÂΩì‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞ÁöÑÊó∂ÂÄôÔºåÊÉÖÂÜµÂ∞±ÊúâÊâÄ‰∏çÂêå‰∫ÜÔºöÁÆ≠Â§¥ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑ this ÊòØËØçÊ≥ï‰ΩúÁî®ÂüüÔºåÁî±‰∏ä‰∏ãÊñáÁ°ÆÂÆö„ÄÇ var obj = { x: 10, foo: function() { var fn = () =&gt; { return () =&gt; { return () =&gt; { console.log(this); //Object {x: 10} console.log(this.x); //10 } } } fn()()(); } } obj.foo(); Áé∞Âú®ÔºåÁÆ≠Â§¥ÂáΩÊï∞ÂÆåÂÖ®‰øÆÂ§ç‰∫Ü this ÁöÑÊåáÂêëÔºåthis ÊÄªÊòØÊåáÂêëËØçÊ≥ï‰ΩúÁî®ÂüüÔºå‰πüÂ∞±ÊòØÂ§ñÂ±ÇË∞ÉÁî®ËÄÖ obj„ÄÇ Â¶ÇÊûú‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞Ôºå‰ª•ÂâçÁöÑËøôÁßç hack ÂÜôÊ≥ïÔºö var self = this; Â∞±‰∏çÂÜçÈúÄË¶Å‰∫Ü„ÄÇ var obj = { x: 10, foo: function() { var fn = () =&gt; { return () =&gt; { return () =&gt; { console.log(this); // Object {x: 10} console.log(this.x); //10 } } } fn.bind({x: 14})()()(); fn.call({x: 14})()(); } } obj.foo(); Áî±‰∫é this Âú®ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠Â∑≤ÁªèÊåâÁÖßËØçÊ≥ï‰ΩúÁî®ÂüüÁªëÂÆö‰∫ÜÔºåÊâÄ‰ª•ÔºåÁî® call()ÊàñËÄÖ apply()Ë∞ÉÁî®ÁÆ≠Â§¥ÂáΩÊï∞Êó∂ÔºåÊó†Ê≥ïÂØπ this ËøõË°åÁªëÂÆöÔºåÂç≥‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë¢´ÂøΩÁï•„ÄÇ]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âº∫Â§ßÁöÑmarginË¥üËæπË∑ù]]></title>
    <url>%2F2015%2F08%2F01%2F%E5%BC%BA%E5%A4%A7%E7%9A%84margin%E8%B4%9F%E8%BE%B9%E8%B7%9D%2F</url>
    <content type="text"><![CDATA[css‰∏≠ÁöÑË¥üËæπË∑ù(negative margin)ÊòØÂ∏ÉÂ±Ä‰∏≠ÁöÑ‰∏Ä‰∏™Â∏∏Áî®ÊäÄÂ∑ßÔºåÂè™Ë¶ÅËøêÁî®ÂæóÂêàÁêÜÂ∏∏Â∏∏‰ºöÊúâÊÑèÊÉ≥‰∏çÂà∞ÁöÑÊïàÊûú„ÄÇÂæàÂ§öÁâπÊÆäÁöÑcssÂ∏ÉÂ±ÄÊñπÊ≥ïÈÉΩ‰æùËµñ‰∫éË¥üËæπË∑ùÔºåÊâÄ‰ª•ÊéåÊè°ÂÆÉÁöÑÁî®Ê≥ïÂØπ‰∫éÂâçÁ´ØÁöÑÂêåÂ≠¶Êù•ËØ¥ÔºåÈÇ£ÊòØÂøÖÈ°ªÁöÑ„ÄÇÊú¨ÊñáÈùûÂ∏∏Âü∫Á°ÄÔºåËÄÅÈ∏üÂèØ‰ª•Áï•Ëøá„ÄÇ Â∑¶ÂíåÂè≥ÁöÑË¥üËæπË∑ùÂØπÂÖÉÁ¥†ÂÆΩÂ∫¶ÁöÑÂΩ±Âìç Ë¥üËæπË∑ù‰∏ç‰ªÖËÉΩÂΩ±ÂìçÂÖÉÁ¥†Âú®ÊñáÊ°£ÊµÅ‰∏≠ÁöÑ‰ΩçÁΩÆÔºåËøòËÉΩÂ¢ûÂä†ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÔºÅ Ëøô‰∏™‰ΩúÁî®ËÉΩÂÆûÁé∞ÁöÑÂâçÊèêÊòØÔºöËØ•ÂÖÉÁ¥†Ê≤°ÊúâËÆæÂÆöwidthÂ±ûÊÄßÔºàÂΩìÁÑ∂width:autoÊòØÂèØ‰ª•ÁöÑÔºâ„ÄÇ ÊØîÂ¶Ç‰∏ãÂõæÁöÑÈªëÁÅ∞Ëâ≤ÈÉ®ÂàÜÊòØ‰∏Ä‰∏™ÂùóÁä∂ÂÖÉÁ¥†ÔºåÂÆÉÊ≤°ÊúâËÆæÂÆöÂÆΩÂ∫¶„ÄÇÂÆÉË¢´ÂåÖË£πÂú®‰∏Ä‰∏™ÂÆΩÂ∫¶‰∏∫400px,‰∏îÊ∞¥Âπ≥Â±Ö‰∏≠ÁöÑÁà∂ÂÖÉÁ¥†‰∏≠„ÄÇ Áé∞Âú®ÁªôËøô‰∏™ÂÖÉÁ¥†ÁöÑËÆæ‰∏Ä‰∏™margin-right:-100px; Êàë‰ª¨ÁúãÂà∞ÂÆÉÁöÑÂÆΩÂ∫¶ÁöÑÁ°ÆÂèòÈïø100px;ÁÑ∂ÂêéÂÜçÁªôÂÆÉËÆæ‰∏Ä‰∏™margin-left:-100px; Êàë‰ª¨ÁúãÂà∞ÂÆÉÂèòÂæóÊõ¥ÂÆΩ‰∫Ü„ÄÇ Ë¥üÁöÑmargin‰ºöÊîπÂèòÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÔºåËøôÁöÑÁ°ÆÂæàËÆ©‰∫∫Ë¥πËß£ÔºåÂ¶ÇÊûúËØ¥Ë¥üËæπË∑ù‰ºöÊîπÂèòÂÖÉÁ¥†Âú®ÊñáÊ°£ÊµÅ‰∏≠ÁöÑ‰ΩçÁΩÆËøòÊòØÂæàÂ•ΩÁêÜËß£ÁöÑËØùÔºåÈÇ£ÊîπÂèòÂÆΩÂ∫¶ËøôÁßçÁé∞Ë±°ËøòÁúüÁöÑËõÆËÆ©‰∫∫‰∏çÂèØÊÄùËÆÆÁöÑ„ÄÇ ÈÇ£ËøôË¥ßÊúâ‰ªÄ‰πàÁî®ÈÄîÂë¢ÔºüÊàëÂ∞±‰∏æ‰∏Ä‰∏™‰æãÂ≠êÂêß„ÄÇ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh&quot;&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;title&gt;ÊµÆÂä®‰∏§Á´ØÂØπÈΩê&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; ul, li { margin: 0; padding: 0; } h2 { clear: both; font-size: 1.2em; } .justify { width: 320px; /* 1Ë°å3‰∏™liÔºåli‰πãÈó¥Ë∑ùÁ¶ª10px = 100px*3 + 10px*2 */ overflow: hidden; margin: 10px; border: 1px solid #999999; } .justify ul { width: 330px; /* ÂèØÂÆπÁ∫≥‰∏ã3ÂàóÁöÑÂÆΩÂ∫¶ */ margin-bottom: -10px; /* ÈöêËóèÊéâÊúÄ‰∏ãÈù¢‰∏ÄË°åÁöÑmargin-bottom */ overflow: hidden; zoom: 1; /* Ëß¶ÂèëIEÁöÑLayout */ } *+html .justify ul { margin-bottom: 0; /* ÈíàÂØπIE7‰∏≠ÊúÄÂêé1Ë°åliÁöÑmargin-bottomÂ§±Êïà */ } .justify li { display: inline; float: left; list-style: none; width: 100px; height: 100px; margin: 0 10px 10px 0; background: #EEEEEE; } .margin ul { width: auto; margin: 0 -10px -10px 0; } .col-2 { width: 210px; } .col-4 { width: 430px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt; &lt;a href=&quot;http://www.ddcat.net/blog/?p=1199&quot; title=&quot;ÂõûÂà∞Áå´Á™ùBlog&quot;&gt;ÂõûÂà∞Áå´Á™ùBlog&lt;/a&gt; &lt;/div&gt; &lt;h1&gt;ÊµÆÂä®‰∏§Á´ØÂØπÈΩê&lt;/h1&gt; &lt;h2&gt;ulÂÆöÂÆΩ&lt;/h2&gt; &lt;div class=&quot;justify&quot;&gt; &lt;ul&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;h2&gt;ul‰ΩøÁî®Ë¥ümarginÂÄº&lt;/h2&gt; &lt;div class=&quot;justify margin&quot;&gt; &lt;ul&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;‰∏≠Èó¥&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;h2&gt;‰∏§Âàó&lt;/h2&gt; &lt;div class=&quot;justify margin col-2&quot;&gt; &lt;ul&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Â∑¶Ëæπ&lt;/li&gt; &lt;li&gt;Èù†Âè≥Ëæπ&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;h2&gt;ÂõõÂàó&lt;/h2&gt; &lt;div class=&quot;justify margin col-4&quot;&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;li&gt;5&lt;/li&gt; &lt;li&gt;6&lt;/li&gt; &lt;li&gt;7&lt;/li&gt; &lt;li&gt;8&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div&gt; &lt;a href=&quot;http://www.ddcat.net/blog/?p=1199&quot; title=&quot;ÂõûÂà∞Áå´Á™ùBlog&quot;&gt;ÂõûÂà∞Áå´Á™ùBlog&lt;/a&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; ‰∏Ä‰∏™Ë¥üÁöÑmargin-right,Áõ∏ÂΩì‰∫éÊääulÁöÑÂÆΩÂ∫¶Â¢ûÂä†‰∫Ü10px. Ë¥üËæπË∑ùÂØπÊµÆÂä®ÂÖÉÁ¥†ÁöÑÂΩ±Âìç Ë¥üËæπË∑ùÂØπÊµÆÂä®ÂÖÉÁ¥†ÁöÑÂΩ±Âìç‰∏éË¥üËæπË∑ùÂØπÊñáÊ°£ÊµÅ‰∏≠ÂÖÉÁ¥†ÁöÑÂΩ±ÂìçÂÖ∂ÂÆûÊòØÂ∑Æ‰∏çÂ§öÁöÑ„ÄÇÊñáÊ°£ÊµÅ‰∏≠ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÁî±ÊñáÊ°£ÊµÅÁöÑËµ∞ÂêëÂÜ≥ÂÆöÔºåÊµÆÂä®ÁöÑÂÖÉÁ¥†‰πüÂèØ‰ª•ÁúãÊàêÊúâ‰∏Ä‰∏™‚ÄúÊµÆÂä®ÊµÅ‚ÄùÂ≠òÂú®Ôºå‰∏çËøáÊµÆÂä®ÊµÅÊó¢ÂèØ‰ª•ÂêëÂ∑¶Ôºå‰πüÂèØ‰ª•ÂêëÂè≥„ÄÇ ÊØîÂ¶Ç‰∏ãÂõæÊòØ‰∏â‰∏™ÂêëÂ∑¶ÊµÆÂä®ÁöÑÂÖÉÁ¥†ÔºåÂÆΩÈ´òÈÉΩÊòØ100pxÔºö Áé∞Âú®ÊääÂÆÉ‰ª¨ÈÉΩËÆæ‰∏Ä‰∏™margin-right:-50px; ÁÑ∂Âêé‰ºöÂèòÊàêËøôÊ†∑Â≠êÔºö Êàë‰ª¨ÁúãÂà∞ÂêéÈù¢ÁöÑÂÖÉÁ¥†Âè†Âà∞‰∫ÜÂâçÈù¢ÁöÑÂÖÉÁ¥†‰∏ä„ÄÇ ÂÜçÁúã‰∏ãÈù¢ÁöÑÂõæÔºö Êàë‰ª¨ÊääÊµèËßàÂô®Áº©Â∞è‰∫ÜÔºåÁÑ∂ÂêéÂõ†‰∏∫ÂÆΩÂ∫¶‰∏çÂ§üÔºåÂÖÉÁ¥†3Êéâ‰∏ãÊù•‰∫Ü„ÄÇÊàë‰ª¨ÁªôÂÖÉÁ¥†3ËÆæ‰∏Ä‰∏™margin-left:-80px;ÁúãÁúã‰ºöÊÄé‰πàÊ†∑ ËøôÊó∂Êàë‰ª¨ÁúãÂà∞ÂÖÉÁ¥†3‰∏äÂéª‰∫ÜÔºåËÄå‰∏îËøòË¶ÜÁõñ‰∫ÜÂÖÉÁ¥†2ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÁªßÁª≠ÂÖÉÁ¥†3ËÆæ‰∏∫margin-left:-100px ËøôÊó∂ÂÖÉÁ¥†3ÂÆåÂÖ®Ë¶ÜÁõñ‰Ωè‰∫ÜÂÖÉÁ¥†2,ÂΩìÂÖÉÁ¥†3ËÆæ‰∏∫Ôºömargin-left:-200pxÊó∂Ôºö Êàë‰ª¨ÁúãÂà∞ÂÖÉÁ¥†3ÁªßÁª≠ÂêëÂ∑¶ÁßªÂä®Âπ∂Ë¶ÜÁõñ‰Ωè‰∫ÜÂÖÉÁ¥†1„ÄÇ Áé∞Âú®ÊÉ≥ÂøÖÂ§ßÂÆ∂ÈÉΩÊòéÁôΩ‰∫ÜË¥üËæπË∑ùÂØπÊµÆÂä®ÂÖÉÁ¥†‰ΩçÁΩÆÁöÑÂΩ±Âìç‰∫ÜÂêß„ÄÇÊâÄ‰ª•ÈÇ£‰∫õËØ¥ÂæóÂæàÂ•ΩÂê¨ÁöÑ‰ªÄ‰πàÂú£ÊùØÂ∏ÉÂ±Ä„ÄÅÂèåÈ£ûÁøºÂ∏ÉÂ±ÄÂïä‰ªÄ‰πàÁöÑÔºåÈÉΩÊòØÂà©Áî®Ëøô‰∏™ÂéüÁêÜÂÆûÁé∞ÁöÑ„ÄÇÂ∞±ÊòØÊüê‰∏™ÂÖÉÁ¥†ËôΩÁÑ∂ÊòØÂÜôÂú®‰∫ÜÂêéÈù¢Ôºå‰ΩÜÂèØ‰ª•ÈÄöËøáË¥üËæπË∑ùËÆ©ÂÆÉÂú®ÊµèËßàÂô®ÊòæÁ§∫ÁöÑÊó∂ÂÄôÊòØÂú®ÂâçÈù¢ÁöÑ„ÄÇËøô‰∏™‰ª•ÂêéÂèØ‰ª•ÂÜçÊÖ¢ÊÖ¢ËÆ≤„ÄÇ Ë¥üËæπË∑ùÂØπÁªùÂØπÂÆö‰ΩçÂÖÉÁ¥†ÁöÑÂΩ±Âìç ÁªùÂØπÂÆö‰ΩçÁöÑÂÖÉÁ¥†ÂÆö‰πâÁöÑtop„ÄÅright„ÄÅbottom„ÄÅleftÁ≠âÂÄºÊòØÂÖÉÁ¥†Ëá™Ë∫´ÁöÑËæπÁïåÂà∞ÊúÄËøëÁöÑÂ∑≤ÂÆö‰ΩçÁöÑÁ•ñÂÖàÂÖÉÁ¥†ÁöÑË∑ùÁ¶ªÔºåËøô‰∏™ÂÖÉÁ¥†Ëá™Ë∫´ÁöÑËæπÁïåÊåáÁöÑÂ∞±ÊòØmarginÂÆö‰πâÁöÑËæπÁïåÔºåÊâÄ‰ª•ÔºåÂ¶ÇÊûúmargin‰∏∫Ê≠£ÁöÑÊó∂ÂÄôÔºåÈÇ£ÂÆÉÁöÑËæπÁïåÊòØÂêëÂ§ñÊâ©ÁöÑÔºåÂ¶ÇÊûúmargin‰∏∫Ë¥üÁöÑÊó∂ÂÄôÔºåÂàôÂÆÉÁöÑËæπÁïåÊòØÂêëÈáåÊî∂ÁöÑ„ÄÇÂà©Áî®ËøôÁÇπÔºåÂ∞±Êúâ‰∫ÜÁªèÂÖ∏ÁöÑÂà©Áî®ÁªùÂØπÂÆö‰ΩçÊù•Â±Ö‰∏≠ÁöÑÊñπÊ≥ïÔºö Áúã‰∏ãÊïàÊûúÔºö ‰ΩÜËØ•ÊñπÊ≥ïÁöÑÁº∫ÁÇπÊòØÂøÖÈ°ªË¶ÅÁü•ÈÅìË¶ÅÂ±Ö‰∏≠ÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÂíåÂÆΩÂ∫¶„ÄÇ]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[requestAnimationFrame]]></title>
    <url>%2F2015%2F07%2F08%2FrequestAnimationFrame%2F</url>
    <content type="text"><![CDATA[Âú®WebÂ∫îÁî®‰∏≠ÔºåÂÆûÁé∞Âä®ÁîªÊïàÊûúÁöÑÊñπÊ≥ïÊØîËæÉÂ§öÔºåJavaScript ‰∏≠ÂèØ‰ª•ÈÄöËøáÂÆöÊó∂Âô® setTimeout Êù•ÂÆûÁé∞Ôºåcss3 ÂèØ‰ª•‰ΩøÁî® transition Âíå animation Êù•ÂÆûÁé∞Ôºåhtml5 ‰∏≠ÁöÑ canvas ‰πüÂèØ‰ª•ÂÆûÁé∞„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåhtml5 ËøòÊèê‰æõ‰∏Ä‰∏™‰∏ìÈó®Áî®‰∫éËØ∑Ê±ÇÂä®ÁîªÁöÑ APIÔºåÂç≥ requestAnimationFrameÔºàrAFÔºâÔºåÈ°æÂêçÊÄù‰πâÂ∞±ÊòØ ‚ÄúËØ∑Ê±ÇÂä®ÁîªÂ∏ß‚Äù„ÄÇ ‰∏∫‰∫ÜÊ∑±ÂÖ•ÁêÜËß£ rAF ËÉåÂêéÁöÑÂéüÁêÜÔºàÂêéÊñáÁöÑ rAF ÂùáÊåáÁöÑÊòØ requestAnimationFrameÔºâÔºåÊàë‰ª¨È¶ñÂÖàÈúÄË¶Å‰∫ÜËß£‰∏Ä‰∏ã‰∏é‰πãÁõ∏ÂÖ≥ÁöÑÂá†‰∏™Ê¶ÇÂøµÔºö Â±èÂπïÁªòÂà∂È¢ëÁéáÂç≥ÂõæÂÉèÂú®Â±èÂπï‰∏äÊõ¥Êñ∞ÁöÑÈÄüÂ∫¶Ôºå‰πüÂç≥Â±èÂπï‰∏äÁöÑÂõæÂÉèÊØèÁßíÈíüÂá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂÆÉÁöÑÂçï‰ΩçÊòØËµ´ÂÖπ(Hz)„ÄÇ ÂØπ‰∫é‰∏ÄËà¨Á¨îËÆ∞Êú¨ÁîµËÑëÔºåËøô‰∏™È¢ëÁéáÂ§ßÊ¶ÇÊòØ60HzÔºå ÂèØ‰ª•Âú®Ê°åÈù¢‰∏ä Âè≥ÈîÆ &gt; Â±èÂπïÂàÜËæ®Áéá &gt; È´òÁ∫ßËÆæÁΩÆ &gt; ÁõëËßÜÂô® ‰∏≠Êü•ÁúãÂíåËÆæÁΩÆ„ÄÇËøô‰∏™ÂÄºÁöÑËÆæÂÆöÂèóÂ±èÂπïÂàÜËæ®Áéá„ÄÅÂ±èÂπïÂ∞∫ÂØ∏ÂíåÊòæÂç°ÁöÑÂΩ±ÂìçÔºåÂéüÂàô‰∏äËÆæÁΩÆÊàêËÆ©ÁúºÁùõÁúãÁùÄËàíÈÄÇÁöÑÂÄºÈÉΩË°å„ÄÇ Â∏ÇÈù¢‰∏äÂ∏∏ËßÅÁöÑÊòæÁ§∫Âô®Êúâ‰∏§ÁßçÔºåÂç≥ CRT Âíå LCDÔºå CRT Â∞±ÊòØ‰º†ÁªüÊòæÁ§∫Âô®ÔºåLCD Â∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÊ∂≤Êô∂ÊòæÁ§∫Âô®„ÄÇ CRT ÊòØ‰∏ÄÁßç‰ΩøÁî®Èò¥ÊûÅÂ∞ÑÁ∫øÁÆ°ÁöÑÊòæÁ§∫Âô®ÔºåÂ±èÂπï‰∏äÁöÑÂõæÂΩ¢ÂõæÂÉèÊòØÁî±‰∏Ä‰∏™‰∏™Âõ†ÁîµÂ≠êÊùüÂáªÊâìËÄåÂèëÂÖâÁöÑËçßÂÖâÁÇπÁªÑÊàêÔºåÁî±‰∫éÊòæÂÉèÁÆ°ÂÜÖËçßÂÖâÁ≤âÂèóÂà∞ÁîµÂ≠êÊùüÂáªÊâìÂêéÂèëÂÖâÁöÑÊó∂Èó¥ÂæàÁü≠ÔºåÊâÄ‰ª•ÁîµÂ≠êÊùüÂøÖÈ°ª‰∏çÊñ≠ÂáªÊâìËçßÂÖâÁ≤â‰ΩøÂÖ∂ÊåÅÁª≠ÂèëÂÖâ„ÄÇÁîµÂ≠êÊùüÊØèÁßíÂáªÊâìËçßÂÖâÁ≤âÁöÑÊ¨°Êï∞Â∞±ÊòØÂ±èÂπïÁªòÂà∂È¢ëÁéá„ÄÇ ËÄåÂØπ‰∫é LCD Êù•ËØ¥ÔºåÂàô‰∏çÂ≠òÂú®ÁªòÂà∂È¢ëÁéáÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫ LCD ‰∏≠ÊØè‰∏™ÂÉèÁ¥†ÈÉΩÂú®ÊåÅÁª≠‰∏çÊñ≠Âú∞ÂèëÂÖâÔºåÁõ¥Âà∞‰∏çÂèëÂÖâÁöÑÁîµÂéãÊîπÂèòÂπ∂Ë¢´ÈÄÅÂà∞ÊéßÂà∂Âô®‰∏≠ÔºåÊâÄ‰ª• LCD ‰∏ç‰ºöÊúâÁîµÂ≠êÊùüÂáªÊâìËçßÂÖâÁ≤âËÄåÂºïËµ∑ÁöÑÈó™ÁÉÅÁé∞Ë±°„ÄÇ Âõ†Ê≠§ÔºåÂΩì‰Ω†ÂØπÁùÄÁîµËÑëÂ±èÂπï‰ªÄ‰πà‰πü‰∏çÂÅöÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòæÁ§∫Âô®‰πü‰ºö‰ª•ÊØèÁßí60Ê¨°ÁöÑÈ¢ëÁéáÊ≠£Âú®‰∏çÊñ≠ÁöÑÊõ¥Êñ∞Â±èÂπï‰∏äÁöÑÂõæÂÉè„ÄÇ‰∏∫‰ªÄ‰πà‰Ω†ÊÑüËßâ‰∏çÂà∞Ëøô‰∏™ÂèòÂåñÔºü ÈÇ£ÊòØÂõ†‰∏∫‰∫∫ÁöÑÁúºÁùõÊúâËßÜËßâÂÅúÁïôÊïàÂ∫îÔºåÂç≥Ââç‰∏ÄÂâØÁîªÈù¢ÁïôÂú®Â§ßËÑëÁöÑÂç∞Ë±°ËøòÊ≤°Ê∂àÂ§±ÔºåÁ¥ßÊé•ÁùÄÂêé‰∏ÄÂâØÁîªÈù¢Â∞±Ë∑ü‰∏äÊù•‰∫ÜÔºåËøô‰∏≠Èó¥Âè™Èó¥Èöî‰∫Ü16.7ms(1000/60‚âà16.7)Ôºå ÊâÄ‰ª•‰ºöËÆ©‰Ω†ËØØ‰ª•‰∏∫Â±èÂπï‰∏äÁöÑÂõæÂÉèÊòØÈùôÊ≠¢‰∏çÂä®ÁöÑ„ÄÇËÄåÂ±èÂπïÁªô‰Ω†ÁöÑËøôÁßçÊÑüËßâÊòØÂØπÁöÑÔºåËØïÊÉ≥‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÂà∑Êñ∞È¢ëÁéáÂèòÊàê1Ê¨°/ÁßíÔºåÂ±èÂπï‰∏äÁöÑÂõæÂÉèÂ∞±‰ºöÂá∫Áé∞‰∏•ÈáçÁöÑÈó™ÁÉÅÔºåËøôÊ†∑Â∞±ÂæàÂÆπÊòìÂºïËµ∑ÁúºÁùõÁñ≤Âä≥„ÄÅÈÖ∏ÁóõÂíåÂ§¥ÊôïÁõÆÁú©Á≠âÁóáÁä∂„ÄÇ CSS Âä®ÁîªÂéüÁêÜÊ†πÊçÆ‰∏äÈù¢ÁöÑÂéüÁêÜÊàë‰ª¨Áü•ÈÅìÔºå‰Ω†ÁúºÂâçÊâÄÁúãÂà∞ÂõæÂÉèÊ≠£Âú®‰ª•ÊØèÁßí 60 Ê¨°ÁöÑÈ¢ëÁéáÁªòÂà∂ÔºåÁî±‰∫éÈ¢ëÁéáÂæàÈ´òÔºåÊâÄ‰ª•‰Ω†ÊÑüËßâ‰∏çÂà∞ÂÆÉÂú®ÁªòÂà∂„ÄÇËÄå Âä®ÁîªÊú¨Ë¥®Â∞±ÊòØË¶ÅËÆ©‰∫∫ÁúºÁúãÂà∞ÂõæÂÉèË¢´ÁªòÂà∂ËÄåÂºïËµ∑ÂèòÂåñÁöÑËßÜËßâÊïàÊûúÔºåËøô‰∏™ÂèòÂåñË¶Å‰ª•ËøûË¥ØÁöÑ„ÄÅÂπ≥ÊªëÁöÑÊñπÂºèËøõË°åËøáÊ∏°„ÄÇ ÈÇ£ÊÄé‰πàÊ†∑ÊâçËÉΩÂÅöÂà∞ËøôÁßçÊïàÊûúÂë¢Ôºü 60Hz ÁöÑÂ±èÂπïÊØè 16.7ms ÁªòÂà∂‰∏ÄÊ¨°ÔºåÂ¶ÇÊûúÂú®Â±èÂπïÊØèÊ¨°ÁªòÂà∂ÂâçÔºåÂ∞ÜÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÂêëÂ∑¶ÁßªÂä®‰∏Ä‰∏™ÂÉèÁ¥†ÔºåÂç≥1pxÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÂ±èÂπïÊØèÊ¨°ÁªòÂà∂Âá∫Êù•ÁöÑÂõæÂÉè‰ΩçÁΩÆÈÉΩÊØîÂâç‰∏Ä‰∏™Ë¶ÅÂ∑Æ1pxÔºå‰Ω†Â∞±‰ºöÁúãÂà∞ÂõæÂÉèÂú®ÁßªÂä®ÔºõËÄåÁî±‰∫é‰∫∫ÁúºÁöÑËßÜËßâÂÅúÁïôÊïàÂ∫îÔºåÂΩìÂâç‰ΩçÁΩÆÁöÑÂõæÂÉèÂÅúÁïôÂú®Â§ßËÑëÁöÑÂç∞Ë±°ËøòÊ≤°Ê∂àÂ§±ÔºåÁ¥ßÊé•ÁùÄÂõæÂÉèÂèàË¢´ÁßªÂà∞‰∫Ü‰∏ã‰∏Ä‰∏™‰ΩçÁΩÆÔºåËøôÊ†∑‰Ω†ÊâÄÁúãÂà∞ÁöÑÊïàÊûúÂ∞±ÊòØÔºåÂõæÂÉèÂú®ÊµÅÁïÖÁöÑÁßªÂä®„ÄÇËøôÂ∞±ÊòØËßÜËßâÊïàÊûú‰∏äÂΩ¢ÊàêÁöÑÂä®Áîª„ÄÇ setTimeoutÁêÜËß£‰∫Ü‰∏äÈù¢ÁöÑÊ¶ÇÂøµ‰ª•ÂêéÔºåÊàë‰ª¨‰∏çÈöæÂèëÁé∞ÔºåsetTimeout ÂÖ∂ÂÆûÂ∞±ÊòØÈÄöËøáËÆæÁΩÆ‰∏Ä‰∏™Èó¥ÈöîÊó∂Èó¥Êù•‰∏çÊñ≠ÁöÑÊîπÂèòÂõæÂÉèÁöÑ‰ΩçÁΩÆÔºå‰ªéËÄåËææÂà∞Âä®ÁîªÊïàÊûúÁöÑ„ÄÇ‰ΩÜÊàë‰ª¨‰ºöÂèëÁé∞ÔºåÂà©Áî® seTimeout ÂÆûÁé∞ÁöÑÂä®ÁîªÂú®Êüê‰∫õ‰ΩéÁ´ØÊú∫‰∏ä‰ºöÂá∫Áé∞Âç°È°ø„ÄÅÊäñÂä®ÁöÑÁé∞Ë±°„ÄÇ ËøôÁßçÁé∞Ë±°ÁöÑ‰∫ßÁîüÊúâ‰∏§‰∏™ÂéüÂõ†Ôºö setTimeout ÁöÑÊâßË°åÊó∂Èó¥Âπ∂‰∏çÊòØÁ°ÆÂÆöÁöÑ„ÄÇÂú®JavaScript‰∏≠Ôºå setTimeout ‰ªªÂä°Ë¢´ÊîæËøõ‰∫ÜÂºÇÊ≠•ÈòüÂàó‰∏≠ÔºåÂè™ÊúâÂΩì‰∏ªÁ∫øÁ®ã‰∏äÁöÑ‰ªªÂä°ÊâßË°åÂÆå‰ª•ÂêéÔºåÊâç‰ºöÂéªÊ£ÄÊü•ËØ•ÈòüÂàóÈáåÁöÑ‰ªªÂä°ÊòØÂê¶ÈúÄË¶ÅÂºÄÂßãÊâßË°åÔºåÊâÄ‰ª• setTimeout ÁöÑÂÆûÈôÖÊâßË°åÊó∂Êú∫‰∏ÄËà¨Ë¶ÅÊØîÂÖ∂ËÆæÂÆöÁöÑÊó∂Èó¥Êôö‰∏Ä‰∫õ„ÄÇ Âà∑Êñ∞È¢ëÁéáÂèó Â±èÂπïÂàÜËæ®Áéá Âíå Â±èÂπïÂ∞∫ÂØ∏ ÁöÑÂΩ±ÂìçÔºå‰∏çÂêåËÆæÂ§áÁöÑÂ±èÂπïÁªòÂà∂È¢ëÁéáÂèØËÉΩ‰ºö‰∏çÂêåÔºåËÄå setTimeout Âè™ËÉΩËÆæÁΩÆ‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÔºåËøô‰∏™Êó∂Èó¥‰∏ç‰∏ÄÂÆöÂíåÂ±èÂπïÁöÑÂà∑Êñ∞Êó∂Èó¥Áõ∏Âêå„ÄÇ ‰ª•‰∏ä‰∏§ÁßçÊÉÖÂÜµÈÉΩ‰ºöÂØºËá¥ setTimeout ÁöÑÊâßË°åÊ≠•Ë∞ÉÂíåÂ±èÂπïÁöÑÂà∑Êñ∞Ê≠•Ë∞É‰∏ç‰∏ÄËá¥Ôºå‰ªéËÄåÂºïËµ∑‰∏¢Â∏ßÁé∞Ë±°„ÄÇ ÈÇ£‰∏∫‰ªÄ‰πàÊ≠•Ë∞É‰∏ç‰∏ÄËá¥Â∞±‰ºöÂºïËµ∑‰∏¢Â∏ßÂë¢Ôºü È¶ñÂÖàË¶ÅÊòéÁôΩÔºåsetTimeout ÁöÑÊâßË°åÂè™ÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÂØπÂÖÉÁ¥†Â±ûÊÄßËøõË°åÊîπÂèòÔºåËøô‰∏™ÂèòÂåñÂøÖÈ°ªË¶ÅÁ≠âÂà∞Â±èÂπï‰∏ãÊ¨°ÁªòÂà∂Êó∂Êâç‰ºöË¢´Êõ¥Êñ∞Âà∞Â±èÂπï‰∏ä„ÄÇÂ¶ÇÊûú‰∏§ËÄÖÁöÑÊ≠•Ë∞É‰∏ç‰∏ÄËá¥ÔºåÂ∞±ÂèØËÉΩ‰ºöÂØºËá¥‰∏≠Èó¥Êüê‰∏ÄÂ∏ßÁöÑÊìç‰ΩúË¢´Ë∑®Ë∂äËøáÂéªÔºåËÄåÁõ¥Êé•Êõ¥Êñ∞‰∏ã‰∏ÄÂ∏ßÁöÑÂÖÉÁ¥†„ÄÇÂÅáËÆæÂ±èÂπïÊØèÈöî16.7msÂà∑Êñ∞‰∏ÄÊ¨°ÔºåËÄåsetTimeout ÊØèÈöî10msËÆæÁΩÆÂõæÂÉèÂêëÂ∑¶ÁßªÂä®1pxÔºå Â∞±‰ºöÂá∫Áé∞Â¶Ç‰∏ãÁªòÂà∂ËøáÁ®ãÔºö Á¨¨ 0 msÔºöÂ±èÂπïÊú™ÁªòÂà∂Ôºå Á≠âÂæÖ‰∏≠ÔºåsetTimeout ‰πüÊú™ÊâßË°åÔºåÁ≠âÂæÖ‰∏≠Ôºõ Á¨¨ 10 msÔºöÂ±èÂπïÊú™ÁªòÂà∂ÔºåÁ≠âÂæÖ‰∏≠ÔºåsetTimeout ÂºÄÂßãÊâßË°åÂπ∂ËÆæÁΩÆÂÖÉÁ¥†Â±ûÊÄß left=1pxÔºõ Á¨¨ 16.7 msÔºöÂ±èÂπïÂºÄÂßãÁªòÂà∂ÔºåÂ±èÂπï‰∏äÁöÑÂÖÉÁ¥†ÂêëÂ∑¶ÁßªÂä®‰∫Ü 1pxÔºå setTimeout Êú™ÊâßË°åÔºåÁªßÁª≠Á≠âÂæÖ‰∏≠Ôºõ Á¨¨ 20 msÔºöÂ±èÂπïÊú™ÁªòÂà∂ÔºåÁ≠âÂæÖ‰∏≠ÔºåsetTimeout ÂºÄÂßãÊâßË°åÂπ∂ËÆæÁΩÆ left=2px; Á¨¨ 30 msÔºöÂ±èÂπïÊú™ÁªòÂà∂ÔºåÁ≠âÂæÖ‰∏≠ÔºåsetTimeout ÂºÄÂßãÊâßË°åÂπ∂ËÆæÁΩÆ left=3px; Á¨¨33.4 msÔºöÂ±èÂπïÂºÄÂßãÁªòÂà∂ÔºåÂ±èÂπï‰∏äÁöÑÂÖÉÁ¥†ÂêëÂ∑¶ÁßªÂä®‰∫Ü 3pxÔºå setTimeout Êú™ÊâßË°åÔºåÁªßÁª≠Á≠âÂæÖ‰∏≠Ôºõ ‚Ä¶ ‰ªé‰∏äÈù¢ÁöÑÁªòÂà∂ËøáÁ®ã‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂ±èÂπïÊ≤°ÊúâÊõ¥Êñ∞ left=2px ÁöÑÈÇ£‰∏ÄÂ∏ßÁîªÈù¢ÔºåÂÖÉÁ¥†Áõ¥Êé•‰ªéleft=1px ÁöÑ‰ΩçÁΩÆË∑≥Âà∞‰∫Ü left=3px ÁöÑÁöÑ‰ΩçÁΩÆÔºåËøôÂ∞±ÊòØ‰∏¢Â∏ßÁé∞Ë±°ÔºåËøôÁßçÁé∞Ë±°Â∞±‰ºöÂºïËµ∑Âä®ÁîªÂç°È°ø„ÄÇ rAF‰∏é setTimeout Áõ∏ÊØîÔºårAF ÊúÄÂ§ßÁöÑ‰ºòÂäøÊòØ Áî±Á≥ªÁªüÊù•ÂÜ≥ÂÆöÂõûË∞ÉÂáΩÊï∞ÁöÑÊâßË°åÊó∂Êú∫„ÄÇÂÖ∑‰Ωì‰∏ÄÁÇπËÆ≤Â∞±ÊòØÔºåÁ≥ªÁªüÊØèÊ¨°ÁªòÂà∂‰πãÂâç‰ºö‰∏ªÂä®Ë∞ÉÁî® rAF ‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂ¶ÇÊûúÁ≥ªÁªüÁªòÂà∂ÁéáÊòØ 60HzÔºåÈÇ£‰πàÂõûË∞ÉÂáΩÊï∞Â∞±ÊØè16.7ms Ë¢´ÊâßË°å‰∏ÄÊ¨°ÔºåÂ¶ÇÊûúÁªòÂà∂È¢ëÁéáÊòØ75HzÔºåÈÇ£‰πàËøô‰∏™Èó¥ÈöîÊó∂Èó¥Â∞±ÂèòÊàê‰∫Ü 1000/75=13.3ms„ÄÇÊç¢Âè•ËØùËØ¥Â∞±ÊòØÔºårAF ÁöÑÊâßË°åÊ≠•‰ºêË∑üÁùÄÁ≥ªÁªüÁöÑÁªòÂà∂È¢ëÁéáËµ∞„ÄÇÂÆÉËÉΩ‰øùËØÅÂõûË∞ÉÂáΩÊï∞Âú®Â±èÂπïÊØè‰∏ÄÊ¨°ÁöÑÁªòÂà∂Èó¥Èöî‰∏≠Âè™Ë¢´ÊâßË°å‰∏ÄÊ¨°ÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÂºïËµ∑‰∏¢Â∏ßÁé∞Ë±°Ôºå‰πü‰∏ç‰ºöÂØºËá¥Âä®ÁîªÂá∫Áé∞Âç°È°øÁöÑÈóÆÈ¢ò„ÄÇ Ëøô‰∏™APIÁöÑË∞ÉÁî®ÂæàÁÆÄÂçïÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213var progress = 0;//ÂõûË∞ÉÂáΩÊï∞function render() &#123; progress += 1; //‰øÆÊîπÂõæÂÉèÁöÑ‰ΩçÁΩÆ if (progress &lt; 100) &#123; //Âú®Âä®ÁîªÊ≤°ÊúâÁªìÊùüÂâçÔºåÈÄíÂΩíÊ∏≤Êüì window.requestAnimationFrame(render); &#125;&#125; //Á¨¨‰∏ÄÂ∏ßÊ∏≤Êüìwindow.requestAnimationFrame(render); Èô§Ê≠§‰πãÂ§ñÔºårAF ËøòÊúâ‰ª•‰∏ã‰∏§‰∏™‰ºòÂäøÔºö CPUËäÇËÉΩÔºö‰ΩøÁî® setTimeout ÂÆûÁé∞ÁöÑÂä®ÁîªÔºåÂΩìÈ°µÈù¢Ë¢´ÈöêËóèÊàñÊúÄÂ∞èÂåñÊó∂ÔºåsetTimeout ‰ªçÁÑ∂Âú®ÂêéÂè∞ÊâßË°åÂä®Áîª‰ªªÂä°ÔºåÁî±‰∫éÊ≠§Êó∂È°µÈù¢Â§Ñ‰∫é‰∏çÂèØËßÅÊàñ‰∏çÂèØÁî®Áä∂ÊÄÅÔºåÂà∑Êñ∞Âä®ÁîªÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºåËÄå‰∏îËøòÊµ™Ë¥π CPU ËµÑÊ∫ê„ÄÇËÄå rAF ÂàôÂÆåÂÖ®‰∏çÂêåÔºåÂΩìÈ°µÈù¢Â§ÑÁêÜÊú™ÊøÄÊ¥ªÁöÑÁä∂ÊÄÅ‰∏ãÔºåËØ•È°µÈù¢ÁöÑÂ±èÂπïÁªòÂà∂‰ªªÂä°‰πü‰ºöË¢´Á≥ªÁªüÊöÇÂÅúÔºåÂõ†Ê≠§Ë∑üÁùÄÁ≥ªÁªüÊ≠•‰ºêËµ∞ÁöÑ rAF ‰πü‰ºöÂÅúÊ≠¢Ê∏≤ÊüìÔºåÂΩìÈ°µÈù¢Ë¢´ÊøÄÊ¥ªÊó∂ÔºåÂä®ÁîªÂ∞±‰ªé‰∏äÊ¨°ÂÅúÁïôÁöÑÂú∞ÊñπÁªßÁª≠ÊâßË°åÔºåÊúâÊïàËäÇÁúÅ‰∫Ü CPU ÂºÄÈîÄ„ÄÇ ÂáΩÊï∞ËäÇÊµÅÔºöÂú®È´òÈ¢ëÁéá‰∫ã‰ª∂(resize,scroll Á≠â)‰∏≠Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢Âú®‰∏Ä‰∏™Âà∑Êñ∞Èó¥ÈöîÂÜÖÂèëÁîüÂ§öÊ¨°ÂáΩÊï∞ÊâßË°åÔºå‰ΩøÁî® rAF ÂèØ‰øùËØÅÊØè‰∏™ÁªòÂà∂Èó¥ÈöîÂÜÖÔºåÂáΩÊï∞Âè™Ë¢´ÊâßË°å‰∏ÄÊ¨°ÔºåËøôÊ†∑Êó¢ËÉΩ‰øùËØÅÊµÅÁïÖÊÄßÔºå‰πüËÉΩÊõ¥Â•ΩÁöÑËäÇÁúÅÂáΩÊï∞ÊâßË°åÁöÑÂºÄÈîÄ„ÄÇ‰∏Ä‰∏™ÁªòÂà∂Èó¥ÈöîÂÜÖÂáΩÊï∞ÊâßË°åÂ§öÊ¨°Êó∂Ê≤°ÊúâÊÑè‰πâÁöÑÔºåÂõ†‰∏∫ÊòæÁ§∫Âô®ÊØè16.7ms ÁªòÂà∂‰∏ÄÊ¨°ÔºåÂ§öÊ¨°ÁªòÂà∂Âπ∂‰∏ç‰ºöÂú®Â±èÂπï‰∏ä‰ΩìÁé∞Âá∫Êù•„ÄÇ ‰ºòÈõÖÈôçÁ∫ßÁî±‰∫é rAF ÁõÆÂâçËøòÂ≠òÂú®ÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåËÄå‰∏î‰∏çÂêåÁöÑÊµèËßàÂô®ËøòÈúÄË¶ÅÂ∏¶‰∏çÂêåÁöÑÂâçÁºÄ„ÄÇÂõ†Ê≠§ÈúÄË¶ÅÈÄöËøá‰ºòÈõÖÈôçÁ∫ßÁöÑÊñπÂºèÂØπ rAF ËøõË°åÂ∞ÅË£ÖÔºå‰ºòÂÖà‰ΩøÁî®È´òÁ∫ßÁâπÊÄßÔºåÁÑ∂ÂêéÂÜçÊ†πÊçÆ‰∏çÂêåÊµèËßàÂô®ÁöÑÊÉÖÂÜµËøõË°åÂõûÈÄÄÔºåÁõ¥Ê≠¢Âè™ËÉΩ‰ΩøÁî® setTimeout ÁöÑÊÉÖÂÜµÔºåÂõ†Ê≠§ÂèØ‰ª•Ëøô‰πàÂÜôÔºö 12345678window.requestAnimFrame = (function()&#123; return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function( callback )&#123; window.setTimeout(callback, 1000 / 60); &#125;;&#125;)(); ‰ΩÜËøôÁßçÂÜôÊ≥ïÊ≤°ÊúâËÄÉËôë cancelAnimationFrame ÁöÑÂÖºÂÆπÊÄßÔºåÂπ∂‰∏î‰∏çÊòØÊâÄÊúâÁöÑËÆæÂ§áÁªòÂà∂Êó∂Èó¥Èó¥ÈöîÈÉΩÊòØ1000/60Ôºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊòØÊØîËæÉÂÖ®ÁöÑ‰∏Ä‰∏™ polyfillÔºåËØ¶ÊÉÖ‰ªãÁªçËØ∑ÂèÇËÄÉÔºö requestAnimationFrame 12345678910111213141516171819202122232425if (!Date.now) Date.now = function() &#123; return new Date().getTime(); &#125;; (function() &#123; &apos;use strict&apos;; var vendors = [&apos;webkit&apos;, &apos;moz&apos;]; for (var i = 0; i &lt; vendors.length &amp;&amp; !window.requestAnimationFrame; ++i) &#123; var vp = vendors[i]; window.requestAnimationFrame = window[vp+&apos;RequestAnimationFrame&apos;]; window.cancelAnimationFrame = (window[vp+&apos;CancelAnimationFrame&apos;] || window[vp+&apos;CancelRequestAnimationFrame&apos;]); &#125; if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) // iOS6 is buggy || !window.requestAnimationFrame || !window.cancelAnimationFrame) &#123; var lastTime = 0; window.requestAnimationFrame = function(callback) &#123; var now = Date.now(); var nextTime = Math.max(lastTime + 16, now); return setTimeout(function() &#123; callback(lastTime = nextTime); &#125;, nextTime - now); &#125;; window.cancelAnimationFrame = clearTimeout; &#125;&#125;());]]></content>
      <tags>
        <tag>requestAnimationFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂíåÁ©∫Èó¥Â§çÊùÇÂ∫¶]]></title>
    <url>%2F2015%2F06%2F22%2F%E7%AE%97%E6%B3%95%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%92%8C%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%2F</url>
    <content type="text"><![CDATA[1 - ÁÆóÊ≥ï ÁÆóÊ≥ïÁöÑÂÆö‰πâÊòØËøôÊ†∑ÁöÑÔºöËß£È¢òÊñπÊ°àÁöÑÂáÜÁ°ÆËÄåÂÆåÂñÑÁöÑÊèèËø∞ÔºåÊòØ‰∏ÄÁ≥ªÂàóËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊ∏ÖÊô∞Êåá‰ª§„ÄÇÂ∑¥ÊãâÂ∑¥ÊãâÁöÑÔºåËôΩÁÑ∂ÊòØ‰∏ÄÂ∞èÂè•‰ΩÜËøòÊòØ‰∏çÊÉ≥ÁúãÔºàÈ¢òÂ§ñËØùÔºöÊúâÊó∂ÂÄôÂêß‰∏ì‰∏öÂêçËØçËÆ∞‰∏ãÊù•Èù¢ËØïÁöÑÊó∂ÂÄôËøòÊòØÊå∫ÊúâÁî®ÁöÑÔºâÔºåÂÖ∂ÂÆûÂ∞±ÊòØËß£ÂÜ≥‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÂÆåÊï¥ÊÄßÊèèËø∞„ÄÇÂè™‰∏çËøáËøô‰∏™ÊèèËø∞Â∞±ÂèØËÉΩÊòØÁî®‰∏çÂêåÁöÑÊñπÂºèÊàñËÄÖËØ¥ÊòØ‚ÄúËØ≠Ë®Ä‚Äù‰∫Ü„ÄÇ 2 - ÁÆóÊ≥ïÁöÑÊïàÁéá Êó¢ÁÑ∂ÁÆóÊ≥ïÊòØËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊèèËø∞ÔºåÈÇ£‰πàÂ∞±ÂÉè‰∏ÄÂçÉ‰∏™‰∫∫Áúº‰∏≠Êúâ‰∏ÄÂçÉ‰∏™ÈòøÂßÜÈõ∑Áâπ‰ªñÂ§ßÂß®Â§´‰∏ÄÊ†∑ÔºåËß£ÂÜ≥Âêå‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÂäûÊ≥ï‰πüÊòØÂ§öÁßçÂ§öÊ†∑ÁöÑÔºåÂè™ÊòØÂú®ËøôËøáÁ®ã‰∏≠Êàë‰ª¨ÊâÄ‰ΩøÁî®/Ê∂àËÄóÁöÑÊó∂Èó¥ÊàñËÄÖÊó∂Èó¥‰ª•Â§ñÁöÑ‰ª£‰ª∑ÔºàËÆ°ÁÆóÊú∫Ê∂àËÄóÁöÑÂàô‰∏∫ÂÜÖÂ≠ò‰∫ÜÔºâ‰∏ç‰∏ÄÊ†∑„ÄÇ‰∏∫‰∫ÜÊõ¥Âø´„ÄÅÊõ¥Â•Ω„ÄÅÊõ¥Âº∫ÁöÑÂèëÊâ¨Â••Âà©Â••..Âì¶‰∏çÔºåÊèêÈ´òÁÆóÊ≥ïÁöÑÊïàÁéá„ÄÇÊâÄ‰ª•ÂæàÂ§öÊó∂ÂÄô‰∏Ä‰∏™‰ºòÁßÄÁöÑÁÆóÊ≥ïÂ∞±Âú®‰∫éÂÆÉ‰∏éÂÖ∂‰ªñÂÆûÁé∞Âêå‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÁÆóÊ≥ïÁõ∏ÊØîÔºåÂú®Êó∂Èó¥ÊàñÁ©∫Èó¥ÔºàÂÜÖÂ≠òÔºâÊàñËÄÖÊó∂Èó¥ÂíåÁ©∫Èó¥ÔºàÂÜÖÂ≠òÔºâ‰∏äÈÉΩÂæóÂà∞ÊòéÊòæÁöÑÈôç‰Ωé„ÄÇ ÊâÄ‰ª•Âë¢ÔºåÁÆóÊ≥ïÁöÑÊïàÁéá‰∏ªË¶ÅÁî±‰ª•‰∏ã‰∏§‰∏™Â§çÊùÇÂ∫¶Êù•ËØÑ‰º∞Ôºö Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöËØÑ‰º∞ÊâßË°åÁ®ãÂ∫èÊâÄÈúÄÁöÑÊó∂Èó¥„ÄÇÂèØ‰ª•‰º∞ÁÆóÂá∫Á®ãÂ∫èÂØπÂ§ÑÁêÜÂô®ÁöÑ‰ΩøÁî®Á®ãÂ∫¶„ÄÇÁ©∫Èó¥Â§çÊùÇÂ∫¶ÔºöËØÑ‰º∞ÊâßË°åÁ®ãÂ∫èÊâÄÈúÄÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇÂèØ‰ª•‰º∞ÁÆóÂá∫Á®ãÂ∫èÂØπËÆ°ÁÆóÊú∫ÂÜÖÂ≠òÁöÑ‰ΩøÁî®Á®ãÂ∫¶„ÄÇ ËÆæËÆ°ÁÆóÊ≥ïÊó∂ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶Ë¶ÅÊØîÁ©∫Èó¥Â§çÊùÇÂ∫¶Êõ¥ÂÆπÊòìÂá∫ÈóÆÈ¢òÔºåÊâÄ‰ª•‰∏ÄËà¨ÊÉÖÂÜµ‰∏Ä‰∏ãÊàë‰ª¨Âè™ÂØπÊó∂Èó¥Â§çÊùÇÂ∫¶ËøõË°åÁ†îÁ©∂„ÄÇ‰∏ÄËà¨Èù¢ËØïÊàñËÄÖÂ∑•‰ΩúÁöÑÊó∂ÂÄôÊ≤°ÊúâÁâπÂà´ËØ¥ÊòéÁöÑËØùÔºåÂ§çÊùÇÂ∫¶Â∞±ÊòØÊåáÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ 2.0 - Êó∂Èó¥Â§çÊùÇÂ∫¶ Êé•‰∏ãÊù•Êàë‰ª¨ËøòÈúÄË¶ÅÁü•ÈÅìÂè¶‰∏Ä‰∏™Ê¶ÇÂøµÔºöÊó∂Èó¥È¢ëÂ∫¶„ÄÇËøô‰∏™Êó∂ÂÄô‰Ω†ÂèØËÉΩ‰ºöËØ¥Ôºö‚Äú‰∏çÊòØËØ¥Â•Ω‰∏ÄËµ∑Â≠¶ÁÆóÊ≥ïÂêóÔºåËøô‰∫õ‰∏ú‰∏úÊòØ‰ªÄ‰πàÔºüËµ†ÂìÅÂêóÔºü‚Äù„ÄÇÈùû‰πüÈùû‰πüÔºåËøôÊòØÈùûÂçñÂìÅ„ÄÇ Âõ†‰∏∫‰∏Ä‰∏™ÁÆóÊ≥ïÊâßË°åÊâÄÊ∂àËÄóÁöÑÊó∂Èó¥ÁêÜËÆ∫‰∏äÊòØ‰∏çËÉΩÁÆóÂá∫Êù•ÁöÑÔºåÊ≤°ÈîôÊ≠£ÊòØÁêÜËÆ∫‰∏äÔºåsoÊàë‰ª¨‰ªªÁÑ∂ÂèØ‰ª•Âú®Á®ãÂ∫è‰∏≠ÊµãËØïËé∑Âæó„ÄÇ‰ΩÜÊòØÊàë‰ª¨‰∏çÂèØËÉΩÂèàÊ≤°ÂøÖË¶ÅÂØπÊØè‰∏™ÁÆóÊ≥ïËøõË°åÊµãËØïÔºåÂè™ÈúÄË¶ÅÁü•ÈÅìÂ§ßÊ¶ÇÁöÑÂì™‰∏™ÁÆóÊ≥ïÊâßË°åÊâÄËä±Ë¥πÁöÑÊó∂Èó¥Â§öÔºåÂì™‰∏™Ëä±Ë¥πÁöÑÊó∂Èó¥Â∞ëÂ∞±Ë°å‰∫Ü„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÁÆóÊ≥ïÊâÄËä±Ë¥πÁöÑÊó∂Èó¥‰∏éÁÆóÊ≥ï‰∏≠‰ª£Á†ÅËØ≠Âè•ÊâßË°åÊ¨°Êï∞ÊàêÊ≠£ÊØîÔºåÈÇ£‰πàÈÇ£‰∏™ÁÆóÊ≥ïÊâßË°åËØ≠Âè•Ë∂äÂ§öÔºåÂÆÉÁöÑËä±Ë¥πÊó∂Èó¥‰πüÂ∞±Ë∂äÂ§ö„ÄÇÊàë‰ª¨Êää‰∏Ä‰∏™ÁÆóÊ≥ï‰∏≠ÁöÑËØ≠Âè•ÊâßË°åÊ¨°Êï∞Áß∞‰∏∫Êó∂Èó¥È¢ëÂ∫¶„ÄÇÈÄöÂ∏∏Ôºàps:ÂæàÊÉ≥Áü•ÈÅìÈÄöÂ∏∏ÊòØË∞ÅÔºâÁî®T(n)Ë°®Á§∫„ÄÇ Âú®Êó∂Èó¥È¢ëÂ∫¶T(n)‰∏≠ÔºånÂèà‰ª£Ë°®ÁùÄÈóÆÈ¢òÁöÑËßÑÊ®°ÔºåÂΩìn‰∏çÊñ≠ÂèòÂåñÊó∂ÔºåT(n)‰πü‰ºö‰∏çÊñ≠Âú∞Èöè‰πãÂèòÂåñ„ÄÇ‰∏∫‰∫Ü‰∫ÜËß£Ëøô‰∏™ÂèòÂåñÁöÑËßÑÂæãÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶Ëøô‰∏ÄÊ¶ÇÂøµÂ∞±Ë¢´ÂºïÂÖ•‰∫Ü„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁÆóÊ≥ïÂü∫Á°ÄÊú¨Êìç‰ΩúÁöÑÈáçÂ§çÊâßË°åÊ¨°Êï∞‰∏∫ÈóÆÈ¢òËßÑÊ®°nÁöÑÊüê‰∏™ÂáΩÊï∞ÔºåÁî®‰πüÂ∞±ÊòØÊó∂Èó¥È¢ëÂ∫¶T(n)„ÄÇÂ¶ÇÊûúÊúâÊüê‰∏™ËæÖÂä©ÂáΩÊï∞f(n)ÔºåÂΩìË∂ã‰∫éÊó†Á©∑Â§ßÁöÑÊó∂ÂÄôÔºåT(n)/f(n)ÁöÑÊûÅÈôêÂÄºÊòØ‰∏ç‰∏∫Èõ∂ÁöÑÊüê‰∏™Â∏∏Êï∞ÔºåÈÇ£‰πàf(n)ÊòØT(n)ÁöÑÂêåÊï∞ÈáèÁ∫ßÂáΩÊï∞ÔºåËÆ∞‰ΩúT(n)=O(f(n))ÔºåË¢´Áß∞‰∏∫ÁÆóÊ≥ïÁöÑÊ∏êËøõÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÂèàÁÆÄÁß∞‰∏∫Êó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ 2.1 - Â§ßOË°®Á§∫Ê≥ï Áî®O(n)Êù•‰ΩìÁé∞ÁÆóÊ≥ïÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑËÆ∞Ê≥ïË¢´Áß∞‰ΩúÂ§ßOË°®Á§∫Ê≥ï ‰∏ÄËà¨Êàë‰ª¨Êàë‰ª¨ËØÑ‰º∞‰∏Ä‰∏™ÁÆóÊ≥ïÈÉΩÊòØÁõ¥Êé•ËØÑ‰º∞ÂÆÉÁöÑÊúÄÂùèÁöÑÂ§çÊùÇÂ∫¶„ÄÇ Â§ßOË°®Á§∫Ê≥ïO(f(n))‰∏≠ÁöÑf(n)ÁöÑÂÄºÂèØ‰ª•‰∏∫1„ÄÅn„ÄÅlogn„ÄÅn^2 Á≠âÔºåÊâÄ‰ª•Êàë‰ª¨Â∞ÜO(1)„ÄÅO(n)„ÄÅO(logn)„ÄÅO( n^2 )ÂàÜÂà´Áß∞‰∏∫Â∏∏Êï∞Èò∂„ÄÅÁ∫øÊÄßÈò∂„ÄÅÂØπÊï∞Èò∂ÂíåÂπ≥ÊñπÈò∂„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúãÊé®ÂØºÂ§ßOÈò∂ÁöÑÊñπÊ≥ïÔºö Êé®ÂØºÂ§ßOÈò∂ Êé®ÂØºÂ§ßOÈò∂Êúâ‰∏Ä‰∏ã‰∏âÁßçËßÑÂàôÔºö Áî®Â∏∏Êï∞1Âèñ‰ª£ËøêË°åÊó∂Èó¥‰∏≠ÁöÑÊâÄÊúâÂä†Ê≥ïÂ∏∏Êï∞ Âè™‰øùÁïôÊúÄÈ´òÈò∂È°π ÂéªÈô§ÊúÄÈ´òÈò∂ÁöÑÂ∏∏Êï∞ ‰∏æÂ•ΩÂ§öÊ†óÂ≠ê Â∏∏Êï∞Èò∂ let sum = 0, n = 10; // ËØ≠Âè•ÊâßË°å‰∏ÄÊ¨° let sum = (1+n)*n/2; // ËØ≠Âè•ÊâßË°å‰∏ÄÊ¨° console.log(The sum is : ${sum}) //ËØ≠Âè•ÊâßË°å‰∏ÄÊ¨° ËøôÊ†∑ÁöÑ‰∏ÄÊÆµ‰ª£Á†ÅÂÆÉÁöÑÊâßË°åÊ¨°Êï∞‰∏∫ 3 ÔºåÁÑ∂ÂêéÊàë‰ª¨Â•óÁî®ËßÑÂàô1ÔºåÂàôËøô‰∏™ÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)Ôºå‰πüÂ∞±ÊòØÂ∏∏Êï∞Èò∂„ÄÇ Á∫øÊÄßÈò∂ let i =0; // ËØ≠Âè•ÊâßË°å‰∏ÄÊ¨° while (i &lt; n) { // ËØ≠Âè•ÊâßË°ånÊ¨° console.log(`Current i is ${i}`); //ËØ≠Âè•ÊâßË°ånÊ¨° i++; // ËØ≠Âè•ÊâßË°ånÊ¨° } Ëøô‰∏™ÁÆóÊ≥ï‰∏≠‰ª£Á†ÅÊÄªÂÖ±ÊâßË°å‰∫Ü 3n + 1Ê¨°ÔºåÊ†πÊçÆËßÑÂàô 2-&gt;3ÔºåÂõ†Ê≠§ËØ•ÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n)„ÄÇ ÂØπÊï∞Èò∂ let number = 1; // ËØ≠Âè•ÊâßË°å‰∏ÄÊ¨° while (number &lt; n) { // ËØ≠Âè•ÊâßË°ålognÊ¨° number *= 2; // ËØ≠Âè•ÊâßË°ålognÊ¨° } ‰∏äÈù¢ÁöÑÁÆóÊ≥ï‰∏≠ÔºånumberÊØèÊ¨°ÈÉΩÊîæÂ§ß‰∏§ÂÄçÔºåÊàë‰ª¨ÂÅáËÆæËøô‰∏™Âæ™ÁéØ‰ΩìÊâßË°å‰∫ÜmÊ¨°ÔºåÈÇ£‰πà2^m = nÂç≥m = lognÔºåÊâÄ‰ª•Êï¥ÊÆµ‰ª£Á†ÅÊâßË°åÊ¨°Êï∞‰∏∫1 + 2*lognÔºåÂàôf(n) = lognÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(logn)„ÄÇ Âπ≥ÊñπÈò∂ for (let i = 0; i &lt; n; i++) { // ËØ≠Âè•ÊâßË°ånÊ¨° for (let j = 0; j &lt; n; j++) { // ËØ≠Âè•ÊâßË°ån^2Ê¨° console.log(&apos;I am here!&apos;); // ËØ≠Âè•ÊâßË°ån^2 } } ‰∏äÈù¢ÁöÑÂµåÂ•óÂæ™ÁéØ‰∏≠Ôºå‰ª£Á†ÅÂÖ±ÊâßË°å 2*n^2 + nÔºåÂàôf(n) = n^2„ÄÇÊâÄ‰ª•ËØ•ÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n^2 ) Â∏∏ËßÅÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÊØîËæÉ Â∏∏ËßÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂáΩÊï∞Áõ∏‰ø°Â§ßÂÆ∂Âú®Â§ßÂ≠¶‰∏≠ÈÉΩÂ∑≤ÁªèËßÅËøá‰∫ÜÔºåËøôÈáå‰πü‰∏çÂ§öÂÅöËß£Èáä‰∫ÜÔºö O(1)&lt;O(logn)&lt;O(n)&lt;O(nlogn)&lt;O(n¬≤)&lt;O(n¬≥)&lt;O(2‚Åø)&lt;O(n!)]]></content>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ªé‰Ω†Âú®ÊµèËßàÂô®ËæìÂÖ•‰∏Ä‰∏™ÁΩëÂùÄ....]]></title>
    <url>%2F2015%2F06%2F01%2F%E4%BB%8E%E4%BD%A0%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BD%91%E5%9D%80...%2F</url>
    <content type="text"><![CDATA[‰ªé‰Ω†Âú®ÊµèËßàÂô®ËæìÂÖ•‰∏Ä‰∏™ÁΩëÂùÄ‚Ä¶Êàë‰ª¨Âú®Èù¢ËØïÁöÑÊó∂ÂÄôÊàñËÆ∏ÁªèÂ∏∏‰ºöË¢´ÈóÆÂà∞Ôºö ‰ªé‰Ω†Âú®ÊµèËßàÂô®ËæìÂÖ•‰∏Ä‰∏™ÁΩëÂùÄÂà∞ÁΩëÈ°µÂÜÖÂÆπÂÆåÂÖ®Ë¢´Â±ïÁ§∫ÁöÑËøôÊÆµÊó∂Èó¥ÂÜÖÔºåÈÉΩÂèëÁîü‰∫Ü‰ªÄ‰πà‰∫ãÊÉÖÔºü Á°ÆÂÆûÊòØ‰∏™ËÄÅÁîüÂ∏∏Ë∞àÁöÑÈóÆÈ¢òÔºå‰ΩÜÈóÆÈ¢òÁöÑÁ≠îÊ°àÂπ∂‰∏çÊòØÂîØ‰∏ÄÁöÑÔºåÊàñËÆ∏Âú®‰∏â‰∫îÂπ¥ÂâçÔºåËøô‰∏™ÈóÆÈ¢òËøò‰ºöÊúâ‰∏Ä‰∏™„ÄåÁõ∏ÂØπ„ÄçÊ†áÂáÜÁöÑÁ≠îÊ°à„ÄÇ ÊµèËßàÂô®Âú®Êé•Êî∂Âà∞Ëøô‰∏™ËØ∑Ê±ÇÊó∂Ôºå‰ºöÂºÄÂêØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜËøô‰∏™ËØ∑Ê±ÇÔºåÈ¶ñÂÖàË¶ÅÂà§Êñ≠Áî®Êà∑ËæìÂÖ•ÊòØÂê¶‰∏∫ÂêàÊ≥ïÊàñÂêàÁêÜÁöÑ URL Âú∞ÂùÄÔºåÊòØÂê¶‰∏∫ HTTP ÂçèËÆÆËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊòØÈÇ£Â∞±ËøõÂÖ•‰∏ã‰∏ÄÊ≠• ÊµèËßàÂô®ÁöÑÊµèËßàÂô®ÂºïÊìéÂ∞ÜÂØπÊ≠§ URL ËøõË°åÂàÜÊûêÂä†ËΩΩ ÈÄöËøá DNS Ëß£ÊûêÂüüÂêçËé∑ÂèñËØ•ÁΩëÁ´ôÂú∞ÂùÄÂØπÂ∫îÁöÑ IP Âú∞ÂùÄÔºåÊü•ËØ¢ÂÆåÊàêÂêéËøûÂêåÊµèËßàÂô®ÁöÑ Cookie„ÄÅ userAgent Á≠â‰ø°ÊÅØÂêëÁΩëÁ´ôÁõÆÁöÑ IP ÂèëÂá∫ GET ËØ∑Ê±Ç„ÄÇ Êé•‰∏ãÊù•Â∞±ÊòØÁªèÂÖ∏ÁöÑ„Äå‰∏âÊ¨°Êè°Êâã„ÄçÔºåHTTP ÂçèËÆÆ‰ºöËØùÔºåÊµèËßàÂô®ÂÆ¢Êà∑Á´ØÂêë Web ÊúçÂä°Âô®ÂèëÈÄÅÊä•ÊñáÔºåËøõË°åÈÄöËÆØÂíåÊï∞ÊçÆ‰º†Ëæì„ÄÇ ËøõÂÖ•ÁΩëÁ´ôÁöÑÂêéÁ´ØÊúçÂä°ÔºåÂ¶Ç Tomcat„ÄÅApache Á≠âÔºåËøòÊúâËøëÂá†Âπ¥ÊµÅË°åÁöÑ Node.js ÊúçÂä°Âô®ÔºåËøô‰∫õÊúçÂä°Âô®‰∏äÈÉ®ÁΩ≤ÁùÄÂ∫îÁî®‰ª£Á†ÅÔºåËØ≠Ë®ÄÊúâÂæàÂ§öÔºåÂ¶Ç Java„ÄÅ PHP„ÄÅ C++„ÄÅ C# Âíå Javascript Á≠â„ÄÇ ÊúçÂä°Âô®Ê†πÊçÆ URL ÊâßË°åÁõ∏Â∫îÁöÑÂêéÁ´ØÂ∫îÁî®ÈÄªËæëÔºåÊï¥ÁêÜÊï∞ÊçÆÁªÑË£ÖÊàê‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ HTML Êï∞ÊçÆËøîÂõûÁªôÊµèËßàÂô®ÔºåÊúüÈó¥‰ºö‰ΩøÁî®Âà∞„ÄåÊúçÂä°Âô®ÁºìÂ≠ò„ÄçÊàñ„ÄåÊï∞ÊçÆÂ∫ì„ÄçÂÜÖÁöÑÂÜÖÂÆπ„ÄÇ ÊµèËßàÂô®Êé•Êî∂Âà∞ËøîÂõû‰ø°ÊÅØÂêéÂÖàÂà§ËØªÊ≠§ HTML Êñá‰ª∂ÊòØÂê¶Â≠òÂú®Êú¨Âú∞ÁºìÂ≠òÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Êàñ‰∏çÂèØÁî®ÔºåÂàô‰∏ãËΩΩÊ≠§ HTML Êñá‰ª∂Ôºà200Áä∂ÊÄÅÁ†ÅÔºâÔºåÂ¶ÇÊûúÂèØÁî®ÔºàÊú™ËøáÊúüÔºâÔºåÂàôËµ∞ÊµèËßàÂô®ÁºìÂ≠òÔºà304ËøîÂõûÁ†ÅÔºâ„ÄÇ„ÄåÂº∫ÁºìÂ≠òÔºà200ËøîÂõûÁ†ÅÔºâ‰∏çÂú®ËÄÉËôëËåÉÂõ¥„Äç ÊµèËßàÂô®ÁöÑÊ∏≤ÊüìÂºïÊìéÂú®ÊãøÂà∞ HTML Êñá‰ª∂ÂêéÔºå‰æøÂºÄÂßãËß£ÊûêÊûÑÂª∫ DOM Êï∞ÔºåÂπ∂Ê†πÊçÆ HTML ‰∏≠ÁöÑÊ†áËÆ∞ËØ∑Ê±Ç‰∏ãËΩΩÊåáÂÆöÁöÑ MIME Á±ªÂûãÊñá‰ª∂ÔºàÂ¶Ç CSS„ÄÅ JavaScript ËÑöÊú¨Á≠âÔºâÔºåÂêåÊó∂‰ΩøÁî®&amp;ËÆæÁΩÆÁºìÂ≠òÁ≠âÂÜÖÂÆπ„ÄÇ Ê∏≤ÊüìÂºïÊìéÊ†πÊçÆ CSS Ê†∑ÂºèËßÑÂàôÂ∞Ü DOM Ê†ëÊâ©ÂÖÖ‰∏∫Ê∏≤ÊüìÊ†ëÔºåÁÑ∂ÂêéËøõË°åÈáçÊéí„ÄÅÈáçÁªò„ÄÇ Â¶ÇÊûúÂê´Êúâ JS Êñá‰ª∂Â∞Ü‰ºöÊâßË°åÔºåËøõË°å Dom Êìç‰Ωú„ÄÅÁºìÂ≠òËØªÂ≠ò„ÄÅÊó∂Èó¥ÁªëÂÆöÁ≠âÊìç‰Ωú„ÄÇÊúÄÁªàÈ°µÈù¢Â∞ÜË¢´Â±ïÁ§∫Âú®ÊµèËßàÂô®‰∏ä„ÄÇ Ê≠§Á≠îÊ°àÁ≤æÁÆÄÁöÑÊ¶ÇÊã¨‰∫Ü„ÄåÂêéÁ´Ø‰∏∫‰∏ªÁöÑ MVC Ê®°Âºè„ÄçÂèäÊó©Êúü Web Â∫îÁî®ÁöÑÊµèËßàÂô®Áõ∏Â∫îÁöÑÂÖ®ËøáÁ®ã„ÄÇÈÇ£ÔºåÂâçÁ´ØÊäÄÊúØÂèëÂ±ïÂà∞Áé∞Âú®Ôºå„ÄåÂâçÂêéÁ´ØÂàÜÁ¶ª„Äç„Äå‰∏≠Èó¥‰ª∂Áõ¥Âá∫„ÄçÂíå„ÄåMNV*Ê®°Âºè„Äç‰πüÂ∑≤ÈóÆ‰∏ñÔºåÂÜçË∞àÂèäÊ≠§ÈóÆÈ¢òÔºåÁ≠îÊ°à‰ºöÊúâ‰∏çÂêå„ÄÇ Â∞±‰ª•„ÄåÂâçÂêéÁ´ØÂàÜÁ¶ª„Äç‰∏∫‰æãÔºåÂú®‰∏äÊñπÁ≠îÊ°àÁöÑÁ¨¨4Ê≠•ÂêéÔºåÁ¥ßÊé•ÁùÄÂ∞±‰∏ç‰ºöÁõ¥Êé•ËøõÂÖ•ÂêéÁ´ØÊúçÂä°Âô®‰∫Ü„ÄÇËÄå‰ºöË¢´ HTTP ÂíåÂèçÂêë‰ª£ÁêÜÊúçÂä°Âô®ÔºåÂ¶Ç NgnixÔºå‰ª£Êõø„ÄÇ ÂâçÁΩÆÊ≠•È™§1„ÄÅ2„ÄÅ3„ÄÅ4 Ngnix Âú®Êé•Êî∂Âà∞ HTTPÔºà80Á´ØÂè£ÔºâÊàñ HTTPSÔºà443Á´ØÂè£ÔºâÂêéÔºåÊ†πÊçÆ URL ÂÅöÊúçÂä°Âô®ÂàÜÂèëÔºåÂàÜÂèëÔºàrewriteÔºâÂà∞ÂêéÁ´ØÊúçÂä°Âô®ÊàñÈùôÊÄÅËµÑÊ∫êÊúçÂä°Âô®ÔºåÈ¶ñÈ°µËØ∑Ê±ÇÂü∫Êú¨ÊòØÈùôÊÄÅÊúçÂä°Âô®ÔºåËøîÂõû‰∏Ä‰∏™ÈùôÊÄÅÁöÑ HTML Êñá‰ª∂ Ê≠•È™§7„ÄÅ8„ÄÅ9 ÊâßË°å JS ËÑöÊú¨ÔºåÂºÇÊ≠• ajax„ÄÅ fetch ÂèëËµ∑ POST„ÄÅ GET ËØ∑Ê±ÇÔºåÈáçÊñ∞ËøõÂÖ• Ngnix ÂàÜÂèëÔºåÊ≠§Ê¨°ÂàÜÂèëÂà∞ÂêéÁ´ØÊúçÂä°Âô®ÔºåÊ≠•È™§5„ÄÅ6ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™ xml Êàñ json Ê†ºÂºèÁöÑ‰ø°ÊÅØÔºå‰∏ÄËà¨Âê´Êúâ codeÔºàËøîÂõûÁ†ÅÔºâ„ÄÅresultÔºà‰æùËµñ‰ø°ÊÅØÔºâ ÊúÄÂêéÊ†πÊçÆËøîÂõûÁ†ÅÊâßË°å‰∏çÂêåÁöÑ js ÈÄªËæëÔºåÂ¢ûÂà†ÊîπÈ°µÈù¢ÂÖÉÁ¥†ÔºåÊ≠§Êó∂ÂèØËÉΩ‰ºöÂèëÁîüÈáçÊéíÊàñÈáçÊ±á„ÄÇÈ¶ñÈ°µÂä†ËΩΩÁªìÊùü„ÄÇ ‰ª•‰∏äÊ≠•È™§ÂèØ‰ª•ÂèëÁé∞ÔºåÊµèËßàÂô®ÂèØËÉΩ‰ºöËß¶ÂèëÈáçÁªò‰∏§Ê¨°ÔºåÊûÅÊòìÂèëÁîü„ÄåÁôΩÂ±è„ÄçÊàñ„ÄåÈ°µÈù¢ÊäñÂä®„ÄçÔºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„Äå‰∏≠Èó¥‰ª∂Áõ¥Âá∫„ÄçÁöÑÊ®°ÂºèÂ∫îËøêËÄåÁîü„ÄÇÂè¶Â§ñ‰∏∫‰∫ÜÊâ©ÂÖÖÂ§ßÂâçÁ´ØÁöÑÈòµËê•ÔºåÂê∏Á∫≥ IOS Âíå AndroidÔºåGoogleÂèàËÆæËÆ°‰∫Ü„ÄåMNV*Ê®°Âºè„ÄçÔºåÂÖ∏Âûã‰ª£Ë°®Â∞±ÊòØ ReactNativeÔºå‰ΩÜÊ≠§Ê®°ÂºèÂ∑≤ÁªèËÑ±Á¶ª‰∫ÜÊµèËßàÂô®ÁöÑËåÉÁï¥ÔºåÊ≠§Â§ÑÂ∞±‰∏çÂÜçÂÅöÊâ©Â±ï„ÄÇ ‰ª•‰∏äËÆ®ËÆ∫ÁöÑÊ∏≤ÊüìËøáÁ®ã‰∏≠‰ΩøÁî®Âà∞‰∫ÜËæÉÂ§öÁöÑÊµèËßàÂô®ÂäüËÉΩÔºåÂ¶ÇÁî®Êà∑Âú∞ÂùÄÊ†èËæìÂÖ•Ê°Ü„ÄÅÁΩëÁªúËØ∑Ê±Ç„ÄÅÊµèËßàÂô®ÊñáÊ°£Ëß£Êûê„ÄÅÊ∏≤ÊüìÂºïÊìéÊ∏≤ÊüìÁΩëÈ°µ„ÄÅ JavaScript ÂºïÊìéÊâßË°åjsËÑöÊú¨„ÄÅÂÆ¢Êà∑Á´ØÂ≠òÂÇ®Á≠â„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨‰ªãÁªç‰∏ãÊµèËßàÂô®ÁöÑÂü∫Êú¨ÁªìÊûÑÁªÑÊàê„ÄÇ ÊµèËßàÂô®ÁöÑÁªìÊûÑÁªÑÊàêÊµèËßàÂô®‰∏ÄËà¨Áî±‰∏É‰∏™Ê®°ÂùóÁªÑÊàêÔºåUser InterfaceÔºàÁî®Êà∑ÁïåÈù¢Ôºâ„ÄÅBrowser engineÔºàÊµèËßàÂô®ÂºïÊìéÔºâ„ÄÅRendering engineÔºàÊ∏≤ÊüìÂºïÊìéÔºâ„ÄÅNetworkingÔºàÁΩëÁªúÔºâ„ÄÅJavaScript InterpreterÔºàjsËß£ÈáäÂô®Ôºâ„ÄÅUI BackendÔºàUI ÂêéÁ´ØÔºâ„ÄÅDate PersistenceÔºàÊï∞ÊçÆÊåÅ‰πÖÂåñÂ≠òÂÇ®Ôºâ Â¶Ç‰∏ãÂõæÔºö Áî®Êà∑ÁïåÈù¢ÔºçÂåÖÊã¨Âú∞ÂùÄÊ†è„ÄÅÂêéÈÄÄ/ÂâçËøõÊåâÈíÆ„ÄÅ‰π¶Á≠æÁõÆÂΩïÁ≠âÔºå‰πüÂ∞±ÊòØ‰Ω†ÊâÄÁúãÂà∞ÁöÑÈô§‰∫ÜÈ°µÈù¢ÊòæÁ§∫Á™óÂè£‰πãÂ§ñÁöÑÂÖ∂‰ªñÈÉ®ÂàÜ ÊµèËßàÂô®ÂºïÊìéÔºçÂèØ‰ª•Âú®Áî®Êà∑ÁïåÈù¢ÂíåÊ∏≤ÊüìÂºïÊìé‰πãÈó¥‰º†ÈÄÅÊåá‰ª§ÊàñÂú®ÂÆ¢Êà∑Á´ØÊú¨Âú∞ÁºìÂ≠ò‰∏≠ËØªÂÜôÊï∞ÊçÆÁ≠âÔºåÊòØÊµèËßàÂô®‰∏≠ÂêÑ‰∏™ÈÉ®ÂàÜ‰πãÈó¥Áõ∏‰∫íÈÄö‰ø°ÁöÑÊ†∏ÂøÉ Ê∏≤ÊüìÂºïÊìéÔºçËß£ÊûêDOMÊñáÊ°£ÂíåCSSËßÑÂàôÂπ∂Â∞ÜÂÜÖÂÆπÊéíÁâàÂà∞ÊµèËßàÂô®‰∏≠ÊòæÁ§∫ÊúâÊ†∑ÂºèÁöÑÁïåÈù¢Ôºå‰πüÊúâ‰∫∫Áß∞‰πã‰∏∫ÊéíÁâàÂºïÊìéÔºåÊàë‰ª¨Â∏∏ËØ¥ÁöÑÊµèËßàÂô®ÂÜÖÊ†∏‰∏ªË¶ÅÊåáÁöÑÂ∞±ÊòØÊ∏≤ÊüìÂºïÊìé ÁΩëÁªúÔºçÁî®Êù•ÂÆåÊàêÁΩëÁªúË∞ÉÁî®ÊàñËµÑÊ∫ê‰∏ãËΩΩÁöÑÊ®°Âùó UI ÂêéÁ´ØÔºçÁî®Êù•ÁªòÂà∂Âü∫Êú¨ÁöÑÊµèËßàÂô®Á™óÂè£ÂÜÖÊéß‰ª∂ÔºåÂ¶ÇËæìÂÖ•Ê°Ü„ÄÅÊåâÈíÆ„ÄÅÂçïÈÄâÊåâÈíÆÁ≠âÔºåÊ†πÊçÆÊµèËßàÂô®‰∏çÂêåÁªòÂà∂ÁöÑÊïàÊûú‰πü‰∏çÂêå JSËß£ÈáäÂô®ÔºçÁî®Êù•Ëß£ÈáäÊâßË°åJSËÑöÊú¨ÁöÑÊ®°ÂùóÔºåÂ¶Ç V8 ÂºïÊìé Êï∞ÊçÆÂ≠òÂÇ®ÔºçÊµèËßàÂô®Âú®Á°¨Áõò‰∏≠‰øùÂ≠ò cookie„ÄÅlocalStorageÁ≠âÂêÑÁßçÊï∞ÊçÆÔºåÂèØÈÄöËøáÊµèËßàÂô®ÂºïÊìéÊèê‰æõÁöÑAPIËøõË°åË∞ÉÁî® ‰Ωú‰∏∫ÂâçÁ´ØÂºÄÂèë‰∫∫ÂëòÔºåÊàë‰ª¨ÈúÄË¶ÅÈáçÁÇπÁêÜËß£Ê∏≤ÊüìÂºïÊìéÁöÑÂ∑•‰ΩúÂéüÁêÜÔºåÁÅµÊ¥ªÂ∫îÁî®Êï∞ÊçÆÂ≠òÂÇ®ÊäÄÊúØÔºåÂú®ÂÆûÈôÖÈ°πÁõÆÂºÄÂèë‰∏≠‰ºöÁªèÂ∏∏Ê∂âÂèäÂà∞Ëøô‰∏§‰∏™ÈÉ®ÂàÜÔºåÂ∞§ÂÖ∂ÊòØÂú®ÂÅöÈ°πÁõÆÊÄßËÉΩ‰ºòÂåñÊó∂ÔºåÁêÜËß£ÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìéÂ∞§‰∏∫ÈáçË¶Å„ÄÇËÄåÂÖ∂‰ªñÈÉ®ÂàÜÂàôÊòØÁî±ÂêÑÁßçÊµèËßàÂô®Ëá™Ë°åÁÆ°ÁêÜÁöÑÔºåÂºÄÂèëËÄÖËÉΩÊéßÂà∂ÁöÑÂú∞ÊñπËæÉÂ∞ë„ÄÇ‰ªäÂ§©Êàë‰ª¨Â∞±Âõ¥ÁªïËøô‰∏§‰∏™ÈáçÁÇπÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÈÉ®ÂàÜ„ÄåÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìé„ÄçËøõË°åÂ±ïÂºÄ ÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìéÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìéÊòØÁî±ÂêÑÂ§ßÊµèËßàÂô®ÂéÇÂïÜ‰æùÁÖß W3C Ê†áÂáÜËá™Ë°åÂÆûÁé∞ÁöÑÔºå‰πüË¢´Áß∞‰πã‰∏∫„ÄåÊµèËßàÂô®ÂÜÖÊ†∏„Äç„ÄÇ ÁõÆÂâçÔºåÂ∏ÇÈù¢‰∏ä‰ΩøÁî®ÁöÑ‰∏ªÊµÅÊµèËßàÂô®ÂÜÖÊ†∏Êúâ5Á±ªÔºöTrident„ÄÅGecko„ÄÅPresto„ÄÅWebkit„ÄÅBlink„ÄÇ TridentÔºö‰øóÁß∞ IE ÂÜÖÊ†∏Ôºå‰πüË¢´Âè´ÂÅö MSHTML ÂºïÊìéÔºåÁõÆÂâçÂú®‰ΩøÁî®ÁöÑÊµèËßàÂô®‰∏∫ IE11-Ôºå‰ª•ÂèäÂêÑÁßçÂõΩ‰∫ßÂ§öÊ†∏ÊµèËßàÂô®‰∏≠ÁöÑIEÂÖºÂÆπÊ®°Âºè„ÄÇÂè¶Â§ñEdge ÊµèËßàÂô®‰∏çÂÜç‰ΩøÁî® MSHTML ÂºïÊìéÔºåËÄåÊòØ‰ΩøÁî®Á±ªÂÖ®Êñ∞ÁöÑÂºïÊìé EdgeHTML„ÄÇ GeckoÔºö‰øóÁß∞ Firefox ÂÜÖÊ†∏ÔºåNetscape6ÂºÄÂßãÈááÁî®ÁöÑÂÜÖÊ†∏ÔºåÂêéÊù•ÁöÑMozilla FireFox(ÁÅ´ÁãêÊµèËßàÂô®) ‰πüÈááÁî®‰∫ÜËØ•ÂÜÖÊ†∏ÔºåGeckoÁöÑÁâπÁÇπÊòØ‰ª£Á†ÅÂÆåÂÖ®ÂÖ¨ÂºÄÔºåÂõ†Ê≠§ÔºåÂÖ∂ÂèØÂºÄÂèëÁ®ãÂ∫¶ÂæàÈ´òÔºåÂÖ®‰∏ñÁïåÁöÑÁ®ãÂ∫èÂëòÈÉΩÂèØ‰ª•‰∏∫ÂÖ∂ÁºñÂÜô‰ª£Á†ÅÔºåÂ¢ûÂä†ÂäüËÉΩ„ÄÇÂõ†‰∏∫ËøôÊòØ‰∏™ÂºÄÊ∫êÂÜÖÊ†∏ÔºåÂõ†Ê≠§ÂèóÂà∞ËÆ∏Â§ö‰∫∫ÁöÑÈùíÁùêÔºåGeckoÂÜÖÊ†∏ÁöÑÊµèËßàÂô®‰πüÂæàÂ§öÔºåËøô‰πüÊòØGeckoÂÜÖÊ†∏ËôΩÁÑ∂Âπ¥ËΩª‰ΩÜÂ∏ÇÂú∫Âç†ÊúâÁéáËÉΩÂ§üËøÖÈÄüÊèêÈ´òÁöÑÈáçË¶ÅÂéüÂõ†„ÄÇ PrestoÔºöOpera ÂâçÂÜÖÊ†∏Ôºå‰∏∫Âï•ËØ¥ÊòØÂâçÂÜÖÊ†∏Âë¢ÔºüÂõ†‰∏∫ Opera12.17 ‰ª•Âêé‰æøÊã•Êä±‰∫Ü Google Chrome ÁöÑ Blink ÂÜÖÊ†∏ÔºåÊ≠§ÂÜÖÊ†∏Â∞±Ê≤°‰∫ÜÂØÑÊâò WebkitÔºöSafari ÂÜÖÊ†∏‰πüÊòØ Chrome ÂÜÖÊ†∏ÂéüÂûãÔºå‰∏ªË¶ÅÊòØ Safari ÊµèËßàÂô®Âú®‰ΩøÁî®ÁöÑÂÜÖÊ†∏Ôºå‰πüÊòØÁâπÊÄß‰∏äË°®Áé∞ËæÉÂ•ΩÁöÑÊµèËßàÂô®ÂÜÖÊ†∏„ÄÇ‰πüË¢´Â§ßÈáè‰ΩøÁî®Âú®ÁßªÂä®Á´ØÊµèËßàÂô®‰∏ä„ÄÇ BlinkÔºö Áî±GoogleÂíåOpera SoftwareÂºÄÂèëÁöÑÊµèËßàÂô®ÊéíÁâàÂºïÊìéÔºåÂú®ChromeÔºà28ÂèäÂæÄÂêéÁâàÊú¨Ôºâ„ÄÅOperaÔºà15ÂèäÂæÄÂêéÁâàÊú¨ÔºâÂíåYandexÊµèËßàÂô® ‰∏≠‰ΩøÁî®„ÄÇBlink ÂÖ∂ÂÆûÊòØ WebKit ÁöÑ‰∏Ä‰∏™ÂàÜÊîØÔºåÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õ‰ºòÂåñÁöÑÊñ∞ÁâπÊÄßÔºå‰æãÂ¶ÇË∑®ËøõÁ®ãÁöÑ iframeÔºåÂ∞Ü DOM ÁßªÂÖ• JavaScript ‰∏≠Êù•ÊèêÈ´ò JavaScript ÂØπ DOM ÁöÑËÆøÈóÆÈÄüÂ∫¶Á≠âÔºåÁõÆÂâçËæÉÂ§öÁöÑÁßªÂä®Á´ØÂ∫îÁî®ÂÜÖÂµåÁöÑÊµèËßàÂô®ÂÜÖÊ†∏‰πüÊ∏êÊ∏êÂºÄÂßãÈááÁî® Blink„ÄÇ Ê∏≤ÊüìÂºïÊìéÁöÑÂ∑•‰ΩúÊµÅÁ®ãÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìéÈáçË¶ÅÁöÑÂ∑•‰ΩúÂ∞±ÊòØÂ∞Ü HTML Âíå CSS ÊñáÊ°£Ëß£ÊûêÁªÑÂêàÊúÄÁªàÊ∏≤ÊüìÂà∞ÊµèËßàÂô®Á™óÂè£‰∏ä„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÊ∏≤ÊüìÂºïÊìéÂú®Êé•ÂèóÂà∞ HTML Êñá‰ª∂Âêé‰∏ªË¶ÅËøõË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºöËß£Êûê HTML ÊûÑÂª∫ DOM Ê†ë -&gt; ÊûÑÂª∫Ê∏≤ÊüìÊ†ë -&gt; Ê∏≤ÊüìÊ†ëÂ∏ÉÂ±Ä -&gt; Ê∏≤ÊüìÊ†ëÁªòÂà∂„ÄÇ Ëß£Êûê HTML ÊûÑÂª∫ DOM Ê†ëÊó∂Ê∏≤ÊüìÂºïÊìé‰ºöÂ∞Ü HTML Êñá‰ª∂ÁöÑ‰æøÁ≠æÂÖÉÁ¥†Ëß£ÊûêÊàêÂ§ö‰∏™ DOM ÂÖÉÁ¥†ÂØπË±°ËäÇÁÇπÔºåÂπ∂‰∏îÂ∞ÜËøô‰∫õÂØπË±°Ê†πÊçÆÁà∂Â≠êÂÖ≥Á≥ªÁªÑÊàê‰∏Ä‰∏™Ê†ëÁªìÊûÑ„ÄÇÂêåÊó∂ CSS Êñá‰ª∂Ë¢´Ëß£ÊûêÊàê CSSËßÑÂàôË°®ÔºåÁÑ∂ÂêéÂ∞ÜÊØèÊù° CSS ËßÑÂàôÊåâÁÖß„Äå‰ªéÂè≥ÂêëÂ∑¶„ÄçÁöÑÊñπÂºèÂú® DOM Ê†ë‰∏äËøõË°åÈÄÜÂêëÂåπÈÖçÔºåÁîüÊàê‰∏Ä‰∏™ÂÖ∑ÊúâÊ†∑ÂºèËßÑÂàôÊèèËø∞ÁöÑ DOM Ê∏≤ÊüìÊ†ë„ÄÇÊé•‰∏ãÊù•Â∞±ÊòØÂ∞ÜÊ∏≤ÊüìÊ†ëËøõË°åÂ∏ÉÂ±Ä„ÄÅÁªòÂà∂ÁöÑËøáÁ®ã„ÄÇÈ¶ñÂÖàÊ†πÊçÆ DOM Ê∏≤ÊüìÊ†ë‰∏äÁöÑÊ†∑ÂºèËßÑÂàôÔºåÂØπ DOM ÂÖÉÁ¥†ËøõË°åÂ§ßÂ∞èÂíå‰ΩçÁΩÆÁöÑÂÆö‰ΩçÔºåÂÖ≥ÈîÆÂ±ûÊÄßÂ¶Çposition;width;margin;padding;top;border;...ÔºåÊé•‰∏ãÊù•Âú®Ê†πÊçÆÂÖÉÁ¥†Ê†∑ÂºèËßÑÂàô‰∏≠ÁöÑcolor;background;shadow;...ËßÑÂàôËøõË°å DOM ÁöÑÁªòÂà∂„ÄÇ Âè¶Â§ñÔºåËøô‰∏™ËøáÁ®ãÊòØÈÄêÊ≠•ÂÆåÊàêÁöÑÔºå‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™åÔºåÊ∏≤ÊüìÂºïÊìéÂ∞Ü‰ºöÂ∞ΩÂèØËÉΩÊó©ÁöÑÂ∞ÜÂÜÖÂÆπÂëàÁé∞Âà∞Â±èÂπï‰∏äÔºåÂπ∂‰∏ç‰ºöÁ≠âÂà∞ÊâÄÊúâÁöÑhtmlÈÉΩËß£ÊûêÂÆåÊàê‰πãÂêéÂÜçÂéªÊûÑÂª∫ÂíåÂ∏ÉÂ±ÄrenderÊ†ë„ÄÇÂÆÉÊòØËß£ÊûêÂÆå‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπÂ∞±ÊòæÁ§∫‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπÔºåÂêåÊó∂ÔºåÂèØËÉΩËøòÂú®ÈÄöËøáÁΩëÁªú‰∏ãËΩΩÂÖ∂‰ΩôÂÜÖÂÆπ„ÄÇ ÂÜçËÄÖÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂú®ÊµèËßàÂô®Ê∏≤ÊüìÂÆåÈ¶ñÂ±èÈ°µÈù¢ÂêéÔºåÂ¶ÇÊûúÂØπ DOM ËøõË°åÊìç‰Ωú‰ºöÂºïËµ∑ÊµèËßàÂô®ÂºïÊìéÂØπ DOM Ê∏≤ÊüìÊ†ëÁöÑÈáçÊñ∞Â∏ÉÂ±ÄÂíåÈáçÊñ∞ÁªòÂà∂ÔºåÊàë‰ª¨Âè´ÂÅö„ÄåÈáçÊéí„ÄçÂíå„ÄåÈáçÁªò„ÄçÔºåÁî±‰∫éÈáçÊéíÂíåÈáçÁªòÊòØÂâçÂêé‰æùËµñÁöÑÂÖ≥Á≥ªÔºåÊâÄ‰ª•ÈáçÁªòÂèëÁîüÊó∂Êú™ÂøÖ‰ºöËß¶ÂèëÊ∏≤ÊüìÂºïÊìéÁöÑÈáçÊéíÔºå‰ΩÜÊòØÂ¶ÇÊûúÂèëÁîü‰∫ÜÈáçÊéíÂ∞±ÂøÖÁÑ∂‰ºöËß¶ÂèëÈáçÁªòÊìç‰ΩúÔºåËøôÊ†∑Â∏¶Êù•ÁöÑÊÄßËÉΩÊçüÂÆ≥Â∞±ÊòØÂ∑®Â§ßÁöÑ„ÄÇÂõ†Ê≠§Êàë‰ª¨Âú®ÂÅöÊÄßËÉΩ‰ºòÂåñÁöÑÊó∂ÂÄôÂ∫îËØ•ÈÅµÂæ™„ÄåÈÅøÂÖçÈáçÊéíÔºõÂáèÂ∞ëÈáçÁªò„ÄçÁöÑÂéüÂàô„ÄÇ ‰∏çÂêåÊµèËßàÂô®ÂÜÖÊ†∏Èó¥ÁöÑÂ∑ÆÂºÇÂú®‰∏çÂêåÁöÑÊµèËßàÂô®ÂÜÖÊ†∏‰∏ãÔºå ÊµèËßàÂô®È°µÈù¢Ê∏≤ÊüìÁöÑÊµÅÁ®ãÁï•Êúâ‰∏çÂêå ‰∏äÈù¢‰∏§ÂπÖÂõæÂàÜÂà´ÊòØ Webkit Âíå Geoko ÂÜÖÊ†∏Ê∏≤Êüì DOM ÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºåÂØπÊØîÂèØ‰ª•ÁúãÂá∫Ôºå‰∏§ËÄÖÊµÅÁ®ãÁöÑÂå∫Âà´‰∏ªË¶ÅÂú®‰∫é CSS Ê†∑ÂºèË°®ÁöÑËß£ÊûêÊó∂Êú∫ÔºåWebkit ÂÜÖÊ†∏‰∏ãÔºåHTML Âíå CSS Êñá‰ª∂ÁöÑËß£ÊûêÊòØÂêåÊ≠•ÁöÑÔºåËÄå Geoko ÂÜÖÊ†∏‰∏ãÔºåCSS Êñá‰ª∂ÈúÄË¶ÅÁ≠âÂà∞ HTML Êñá‰ª∂Ëß£ÊûêÊàêÂÜÖÂÆπ Sink ÂêéÊâçËøõË°åËß£Êûê„ÄÇ Âè¶Â§ñ‰∏§ËÄÖÁöÑ‰∏çÂêåËøòÊúâÊèèËø∞ÊúØËØ≠ÔºåÈô§Ê≠§‰πãÂ§ñ‰∏§ËÄÖÁöÑÊµÅÁ®ãÂ∞±Âü∫Êú¨Áõ∏Âêå‰∫ÜÔºåÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÂ∞±ÊòØ „ÄåHTML ÁöÑËß£Êûê„Äç„ÄåCSS ÁöÑËß£Êûê„Äç„ÄåÊ∏≤ÊüìÊ†ëÁöÑÁîüÊàê„Äç„ÄÇËøô‰∏â‰∏™ÈÉ®ÂàÜÁöÑÂéüÁêÜÂÜÖÂÆπÂ∞±ÊØîËæÉÊ∑±ÔºåÊ∂âÂèäÂà∞„ÄåËØçÊ≥ïÂàÜÊûê„Äç„ÄåËØ≠Ê≥ïÂàÜÊûê„Äç„ÄåËΩ¨Êç¢„Äç„ÄåËß£Èáä„ÄçÁ≠âÊï∞ÊçÆÁªìÊûÑÁöÑÂÜÖÂÆπÔºåÊØîËæÉÊûØÁá•Ôºå‰∏ÄËà¨Êàë‰ª¨‰∫ÜËß£Âà∞ËøôÈáåÂ∞±Â§ü‰∫ÜÔºå‰∏çËøáÊÉ≥Ê∑±ÂÖ•‰∫ÜËß£ÁöÑÂêåÂ≠¶ÂèØ‰ª•ÈòÖËØªÊ≠§ÁØáËØëÊñáÔºåÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºåÈáåÈù¢ËØ¶ÁªÜÁöÑËß£Èáä‰∫Ü‰ª•‰∏ä‰∏â‰∏™ÈÉ®ÂàÜÁöÑÊµÅÁ®ãÂíåÂÖ≥Á≥ª„ÄÇÊ≠§Â§ÑÂ∞±‰∏çÂÜçÂ§öÂÅöËµòËø∞‰∫Ü„ÄÇ ÂÖ≥‰∫é CSS ËßÑÂàôÁöÑÂåπÈÖç‰∏äÈù¢Êàë‰ª¨ÊèêÂà∞ËøáÔºå CSS ËßÑÂàôÊòØÊåâÁÖß„Äå‰ªéÂè≥ÂêëÂ∑¶„ÄçÁöÑÊñπÂºèÂú® DOM Ê†ë‰∏äËøõË°åÈÄÜÂêëÂåπÈÖçÁöÑÔºåÊúÄÁªàÁîüÊàê‰∏Ä‰∏™ÂÖ∑ÊúâÊ†∑ÂºèËßÑÂàôÊèèËø∞ÁöÑ DOM Ê∏≤ÊüìÊ†ë„ÄÇ ‰ΩÜÊòØ‰Ω†Áü•ÈÅì‰∏∫‰ªÄ‰πàË¶Å„Äå‰ªéÂè≥ÂêëÂ∑¶„ÄçÂÅöÈÄÜÂêëÂåπÈÖçÁ†ÅÔºü Êàë‰ª¨ÈáçÊñ∞ÂõûÂà∞„Äêwebkit ÂÜÖÊ†∏Â∑•‰ΩúÊµÅÁ®ã„ÄëÂõæ CSS ËßÑÂàôÂåπÈÖçÊòØÂèëÁîüÂú®webkitÂºïÊìéÁöÑ„ÄåAttachment„ÄçËøáÁ®ã‰∏≠ÔºåÊµèËßàÂô®Ë¶Å‰∏∫ÊØè‰∏™ DOM Tree ‰∏≠ÁöÑÂÖÉÁ¥†Êâ©ÂÖÖ CSS Ê†∑ÂºèËßÑÂàôÔºàÂåπÈÖç Style RulesÔºâ„ÄÇÂØπ‰∫éÊØè‰∏™ DOM ÂÖÉÁ¥†ÔºåÂøÖÈ°ªÂú®ÊâÄÊúâ Style Rules ‰∏≠ÊâæÂà∞Á¨¶ÂêàÁöÑ selector Âπ∂Â∞ÜÂØπÂ∫îÁöÑËßÑÂàôËøõË°åÂêàÂπ∂„ÄÇÈÄâÊã©Âô®ÁöÑ„ÄåËß£Êûê„ÄçÂÆûÈôÖÊòØÂú®ËøôÈáåÊâßË°åÁöÑÔºåÂú®ÈÅçÂéÜ DOM Tree Êó∂Ôºå‰ªé Style Rules ‰∏≠ÂéªÂØªÊâæÂØπÂ∫îÁöÑ selector„ÄÇ Êàë‰ª¨Êù•‰∏æ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÊ†óÂ≠êÔºö &lt;template&gt; &lt;div&gt; &lt;div class=&quot;t&quot;&gt; &lt;span&gt;test&lt;/span&gt; &lt;p&gt;test&lt;/p&gt; &lt;div&gt; &lt;/div&gt; &lt;/template&gt; &lt;style&gt; div{ color: #000; } div .t span{ color: red; } div .t p{color: blue; } &lt;/style&gt; Ê≠§Â§ÑÊàë‰ª¨Êúâ‰∏Ä‰∏™ html ÂÖÉÁ¥† Âíå‰∏Ä‰∏™ style ÂÖÉÁ¥†Ôºå‰∏§ËÄÖÈúÄË¶ÅÂÅöÈÅçÂéÜÂåπÈÖç Ê≠§Â§Ñ‰ºöÊúâ 4*3 ‰∏™ÂåπÈÖçÈ°πÔºåÂ¶ÇÊûúÂÅöÊ≠£ÂêëÂåπÈÖçÔºåÂú®ÈÅáÂà∞ &lt;span&gt; Ê†áÁ≠æÂåπÈÖç div .t p{ color: red; }Âà∞ÂåπÈÖçÈ°πÊó∂ÔºåÊòæÁÑ∂Êó∂‰∏çÈÄöËøáÂà∞ÔºåËÆ°ÁÆóÊú∫È¶ñÂÖàË¶ÅÊâæÂà∞&lt;span&gt; Ê†áÁ≠æÂà∞Áà∂Ê†áÁ≠æÂíåÁ•ñÁà∂Ê†áÁ≠æÔºåÂà§Êñ≠‰ªñ‰ª¨ÊòØÂê¶Êª°Ë∂≥div .tÁöÑËßÑÂàôÔºåÁÑ∂ÂêéÂú®ÂåπÈÖç&lt;span&gt;ÊòØÂê¶‰∏∫pÊ†áÁ≠æÔºåÊ≠§Â§ÑÂåπÈÖç‰∏çÊàêÂäüÔºåÊ≠§Â§ÑÂ∞±‰∫ßÁîü‰∫Ü‰∏âÊ¨°Êµ™Ë¥π„ÄÇ Â¶ÇÊûúÊó∂ÈÄÜÂêëÂåπÈÖçÔºåÈÇ£‰πàÁ¨¨‰∏ÄÊ¨°ÂØπÊØî&lt;span&gt;ÊòØÂê¶‰∏∫pÊ†áÁ≠æ‰æøÂèØÊéíÈô§Ê≠§ËßÑÂàôÔºåÊïàÁéáÊõ¥È´ò„ÄÇ Â¶ÇÊûúÂ∞Ü HTML ÁªìÊûÑÂèòÂ§çÊùÇÔºåCSS ËßÑÂàôË°®ÂèòÂ∫ûÂ§ßÔºåÈÇ£‰πàÔºå„ÄåÈÄÜÂêëÂåπÈÖç„ÄçÁöÑ‰ºòÂäøÂ∞±ËøúÂ§ß‰∫é„ÄåÊ≠£ÂêëÂåπÈÖç„Äç‰∫ÜÔºåÂõ†‰∏∫ÂåπÈÖçÁöÑÊÉÖÂÜµËøúËøú‰Ωé‰∫é‰∏çÂåπÈÖçÁöÑÊÉÖÂÜµ„ÄÇÂêåÊó∂Â¶ÇÊûúÂú®ÈÄâÊã©Âô®ÁªìÂ∞æÂä†‰∏äÈÄöÈÖçÁ¨¶„Äå*„ÄçÔºåÈÇ£‰πà„ÄåÈÄÜÂêëÂåπÈÖç„ÄçÁöÑ‰ºòÂäøÂ∞±Â§ßÊâìÊäòÊâ£ÔºåËøô‰πüÂ∞±ÊòØÂæàÂ§ö‰ºòÂåñÂéüÂàôÊèêÂà∞ÁöÑÂ∞ΩÈáèÈÅøÂÖçÂú®ÈÄâÊã©Âô®Êú´Â∞æÊ∑ªÂä†ÈÄöÈÖçÁ¨¶ÁöÑÂéüÂõ†„ÄÇ ÊûÅÈôê‰∫ÜÊÉ≥ÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑÊ†∑ÂºèË°®‰∏çÂ≠òÂú®ÂµåÂ•óÂÖ≥Á≥ªÔºåÂ¶Ç‰∏ãÔºö &lt;template&gt; &lt;div&gt; &lt;div&gt; &lt;span class=&quot;div_t_span&quot;&gt;test&lt;/span&gt; &lt;p class=&quot;div_t_p&quot;&gt;test&lt;/p&gt; &lt;div&gt; &lt;/div&gt; &lt;/template&gt; &lt;style&gt; div{ color: #000; } .div_t_span{ color: red; } .div_t_p{color: blue; } &lt;/style ÈÇ£‰πàÂºïÊìéÁöÑ„ÄåAttachment„ÄçËøáÁ®ãÂ∞ÜÂæóÂà∞ÊûÅÂ§ßÁöÑÁ≤æÁÆÄÔºåÊïàÁéá‰πüÊòØÂèØÊÉ≥ËÄåÁü•ÁöÑÔºåËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà„ÄåÂæÆ‰ø°Â∞èÁ®ãÂ∫è„ÄçÊ†∑ÂºèË°®‰∏çÂª∫ËÆÆ‰ΩøÁî®ÂÖ≥Á≥ªË°åÂÜôÊ≥ïÁöÑÂéüÂõ†„ÄÇ Áõ∏ÂÖ≥ÁöÑÊÄßËÉΩ‰ºòÂåñÁî±‰ª•‰∏ä‰ªãÁªçÔºåÊàë‰ª¨Â§ßËá¥ÂèØ‰ª•Âú®Ê°à‰æã‰∏≠ÁúãÂà∞ÂêåÊµèËßàÂô®Ê∏≤ÊüìÂºïÊìéÁõ∏ÂÖ≥ÁöÑÂèØË°å‰ºòÂåñÁÇπ„ÄÇ Â§ßËá¥‰∏∫‰ª•‰∏ãÂá†Áßç ÂáèÂ∞ë JS Âä†ËΩΩÂØπ Dom Ê∏≤ÊüìÁöÑÂΩ±ÂìçÔºöÂ∞Ü JS Êñá‰ª∂ÊîæÂú® HTML ÊñáÊ°£ÂêéÂä†ËΩΩÔºåÊàñËÄÖ‰ΩøÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩ JS ‰ª£Á†Å ÈÅøÂÖçÈáçÊéíÔºåÂáèÂ∞ëÈáçÁªòÔºöÂú®ÂÅöcssÂä®ÁîªÁöÑÊó∂ÂÄôÂáèÂ∞ë‰ΩøÁî® width„ÄÅ margin„ÄÅ paddingÁ≠âÂΩ±Âìç CSS Â∏ÉÂ±ÄÂØπËßÑÂàôÔºåÂèØ‰ª•‰ΩøÁî® CSS3 ÁöÑ transform ‰ª£Êõø ÂáèÂ∞ë‰ΩøÁî®ÂÖ≥Á≥ªÂûãÊ†∑ÂºèË°®ÁöÑÂÜôÊ≥ïÔºöÁõ¥Êé•‰ΩøÁî®ÂîØ‰∏ÄÁöÑÁ±ªÂêçÂç≥ÂèØÊúÄÂ§ßÈôêÂ∫¶ÁöÑÊèêÂçáÊ∏≤ÊüìÊïàÁéá ÂáèÂ∞ë DOM ÁöÑÂ±ÇÁ∫ßÔºöÂáèÂ∞ëÊó†ÊÑè‰πâÁöÑdom Â±ÇÁ∫ßÂèØ‰ª•ÂáèÂ∞ë Ê∏≤ÊüìÂºïÊìé Attachment ËøáÁ®ã‰∏≠ÁöÑÂåπÈÖçËÆ°ÁÆóÈáè]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
        <tag>url</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSÁ≠âÊØî‰æãÁº©ÊîæÁöÑÁõíÂ≠ê]]></title>
    <url>%2F2015%2F05%2F19%2FCSS%E7%AD%89%E6%AF%94%E4%BE%8B%E7%BC%A9%E6%94%BE%E7%9A%84%E7%9B%92%E5%AD%90%2F</url>
    <content type="text"><![CDATA[‰Ω†ËÇØÂÆöÂ∑≤ÁªèÁü•ÈÅìÔºåÂØπ‰∫é‰∏Ä‰∏™ img ÂÖÉÁ¥†ËÄåË®ÄÔºå‰Ω†ÂèØ‰ª•ÂçïÁã¨Âú∞‰øÆÊîπÂÆÉÁöÑ width ÊàñËÄÖ height Â±ûÊÄßÊù•ËÆæÁΩÆÂÆÉÁöÑÂ§ßÂ∞èÔºåÂêåÊó∂ÂõæÁâáÁöÑÊØî‰æãËøòËÉΩÂ§ü‰øùÊåÅ‰∏çÂèò„ÄÇ Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÊúÄ‰∏äÈù¢ÊòØÂéüÂßãÂ§ßÂ∞èÁöÑÂõæÁâáÔºå‰∏ãÈù¢‰∏§Âº†ÂàôÂàÜÂà´ÊòØËÆæÁΩÆ‰∫Ü width: 50% Âíå height: 50% Â±ûÊÄßÂêéÁöÑÊ†∑Â≠ê„ÄÇ ÂèØ‰ª•ÁúãÂà∞ÊääÂÆΩÂ∫¶ËÆæÁΩÆ‰∏∫‰∫ÜÂéüÊù•ÁöÑ‰∏ÄÂçäÁöÑÂêåÊó∂ÔºåÂõæÁâáÁöÑÈ´òÂ∫¶Âπ∂‰∏çÊòØ‰øùÊåÅÂéüÊù•ÁöÑÂ§ßÂ∞èÔºåËÄåÊòØÁõ∏Â∫îÁöÑ‰πüÂèòÊàê‰∫ÜÂéüÊù•ÁöÑ‰∏ÄÂçäÔºå‰ΩøÂæóÂõæÁâá‰ªçËÉΩÂ§ü‰øùÊåÅÂéüÊúâÁöÑÊØî‰æã„ÄÇÂêåÁêÜÊääÈ´òÂ∫¶ËÆæÊàêÂéüÊù•ÁöÑ‰∏ÄÂçä‰πüÂ¶ÇÊ≠§„ÄÇ ‰Ωú‰∏∫ÂØπÁÖßÔºåÊàë‰ª¨ÁúãÁúãÂçïÁã¨‰øÆÊîπÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂÆΩÂíåÈ´ò‰ºö‰∫ßÁîü‰ªÄ‰πàÊ†∑ÁöÑÊïàÊûúÔºö ‰∏äÂõæÊúÄÂ∑¶ËæπÁöÑËìùËâ≤Áü©ÂΩ¢ÊòØÂéüÂßãÁöÑ div ÂÖÉÁ¥†Ôºå‰πãÂêé‰∏§‰∏™ÂàÜÂà´ÊòØÂØπÂÖ∂ËÆæÁΩÆ‰∫Ü width: 50% Âíå height: 50% Â±ûÊÄßÂêéÁöÑÊ†∑Â≠ê„ÄÇÂèØËßÅ‰∏é img ÂÖÉÁ¥†‰∏çÂêåÔºåÂçïÁã¨ËÆæÁΩÆ div ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÔºàÈ´òÂ∫¶ÔºâÊó∂ÔºåÂØπÂ∫îÁöÑÈ´òÂ∫¶ÔºàÂÆΩÂ∫¶ÔºâÂπ∂‰∏ç‰ºöÊîπÂèòÔºå‰ªéËÄåÂØºËá¥ÂÖÉÁ¥†ÁöÑÊØî‰æãÂèëÁîüÂèòÂåñ„ÄÇËøô‰∏ÄÁªìÊûúÁõ∏‰ø°ÊØè‰∏™Á®çÂæÆÂØπÂâçÁ´ØÊúâ‰∫õ‰∫ÜËß£ÁöÑÂêåÂ≠¶ÈÉΩËÉΩÁåúÂà∞„ÄÇ‰ΩÜÊòØÁ©∂Á´üÊòØ‰ªÄ‰πàÂØºËá¥‰∫ÜÂêåÊ†∑ÁöÑÂ±ûÊÄßÁî®‰∫é img Âíå div Âêé‰ºö‰∫ßÁîü‰∏çÂêåÁöÑÁªìÊûúÂë¢Ôºü img Âú®ÂÖÉÁ¥†ÂàÜÁ±ª‰∏≠Â±û‰∫é replaced ÔºàË¢´ÊõøÊç¢ÁöÑÔºâÂÖÉÁ¥†„ÄÇreplaced ÂÖÉÁ¥†Ë°®Á§∫Ëøô‰∏™ÂÖÉÁ¥†ÂÜÖÂÆπÁöÑÊòæÁ§∫‰∏çÊòØÁî± CSS ÊéßÂà∂ÁöÑ„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂØπ‰∫é img ÂÖÉÁ¥†ËÄåË®ÄÔºåÂõæÁâáÁöÑÂÜÖÂÆπÂπ∂‰∏çÊòØÁî± CSS ÂÆö‰πâÁöÑÔºåËÄåÊòØÈÄöËøáÂÖ∂ src Â±ûÊÄßÊåáÂêëÁöÑËµÑÊ∫êÂÜ≥ÂÆöÁöÑ„ÄÇÂæàÂ§ö replaced ÂÖÉÁ¥†Êù•ÈÉΩ‰ºöÊúâËá™Â∑±ÁöÑÂõ∫ÊúâÂ∞∫ÂØ∏ÔºàIntrinsic dimensionÔºâÔºåimg ‰πü‰∏ç‰æãÂ§ñ1„ÄÇÂΩì img ÁöÑÈ´òÂ∫¶ÊîπÂèòÂêéÔºåÊµèËßàÂô®‰ºöËÆ°ÁÆóÂá∫ÂÖ∂Áº©ÊîæÊØî‰æãÔºåËÄåÂΩìÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÊòØ autoÔºàÂç≥ÈªòËÆ§ÂÄºÔºâÊó∂ÔºåÊµèËßàÂô®Âàô‰ª•ÂéüÂßãÂÆΩÂ∫¶ * Áº©ÊîæÊØî‰æãÊù•‰Ωú‰∏∫ÂÖÉÁ¥†ÁöÑÊñ∞ÂÆΩÂ∫¶„ÄÇ‰ªéËÄå‰ΩøÂæó img ÂÖÉÁ¥†ÁöÑÊØî‰æãÂßãÁªà‰øùÊåÅ‰∏ÄËá¥„ÄÇ ÁÑ∂ËÄåËøôÈÉΩÂπ∂‰∏çÊòØËøôÁØáÊñáÁ´†ËÆ®ËÆ∫ÁöÑÈáçÁÇπ„ÄÇÔºàÈÇ£‰ΩçÂêåÂ≠¶ËØ∑‰∏çË¶ÅËØ¥ËÑèËØùÔºå‰∏çÊñáÊòé ÈáçÁÇπÊòØ‰ªÄ‰πàÔºüÈáçÁÇπÂ∞±ÊòØÈ¢òÁõÆÔºöÂÆûÁé∞Á≠âÊØî‰æãÁº©ÊîæÁöÑÁõíÂ≠ê„ÄÇ Âú®ÂìçÂ∫îÂºèËÆæËÆ°ÈÄêÊ∏êÊàê‰∏∫‰∏ªÊµÅÁöÑ‰ªäÂ§©ÔºåÊµÅÂºèÂ∏ÉÂ±ÄËøô‰∏™ËØçÂç≥‰ΩøÊîæÂú®‰∏Ä‰∏§Âπ¥Ââç‰πüÁªùÁÆó‰∏çÂæóÊòØ‰∏™Êñ∞È≤úËØçÊ±á„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Â∏ÉÂ±ÄÂÆû‰æãÔºö ‰∏äÂõæ‰∏≠ÊØè‰∏™ËìùËâ≤ÁöÑÁü©ÂΩ¢ÂàÜÂà´ÂØπÂ∫î‰∏Ä‰∏™ div ÂÖÉÁ¥†ÔºåÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶Âç†Á™óÂè£ÂÆΩÂ∫¶ÁöÑÂõõÂàÜ‰πã‰∏ÄÔºàÂõæÁ§∫‰∏≠‰∏∫‰∫ÜÊºîÁ§∫Êñπ‰æøÁªôÊØè‰∏™ÂÖÉÁ¥†Âä†‰∫ÜËæπË∑ùÊïàÊûúÔºâ„ÄÇÂ¶ÇÊûú‰∏çÂÅöÈ¢ùÂ§ñÂ§ÑÁêÜÔºåÂΩìÁ™óÂè£ÂÆΩÂ∫¶ÂèòÂ∞èÊó∂‰∏äÂõæÁöÑÈ°µÈù¢‰ºöÂèò‰∏∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö ÂèØËßÅÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ËøõË°å‰∫ÜÁº©ÊîæÔºå‰ΩÜÈ´òÂ∫¶Âπ∂Ê≤°ÊúâÂèòÂåñÔºåÁúãËµ∑Êù•Âπ∂‰∏çÊòØÂæàÂçèË∞É„ÄÇÊâÄ‰ª•Êúâ‰∫õÂú∫ÊôØ‰∏ãÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞ÂΩìÁ™óÂè£ÂÆΩÂ∫¶Áº©ÊîæÊó∂Ôºå‰ΩøÂæóÂÖÉÁ¥†ÂÆΩÂ∫¶Ëá™ÈÄÇÂ∫îÁöÑÂêåÊó∂Ôºå‰øùËØÅÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÆΩÈ´òÊØî‰æã‰∏çÂèò„ÄÇ ÂæàÂ§öÂêåÂ≠¶Âú®ÊàëËØùËøòÊ≤°ËÆ≤ÂÆåÊó∂ÔºåÂ∞±Â∑≤ÁªèÁ∫∑Á∫∑ÊéèÂá∫ JavaScript Â§ßÈî§ÁùÄÊâãÂÆûÁé∞‰∫ÜËµ∑Êù•„ÄÇÁÑ∂ËÄåËøô‰∏™Á≥ªÂàóÊñáÁ´†ÁöÑÊ†áÈ¢òÊòØ„Ää‰Ω†‰∏çÁü•ÈÅìÁöÑ CSS„ÄãÔºåËá™ÁÑ∂‰∏ç‰ºö‰ªãÁªç CSS ÂÆûÁé∞‰∏ç‰∫ÜËøôÁßçÊâìËá™Â∑±ËÑ∏ÁöÑÈúÄÊ±ÇÔºåËÄå‰∏îÂ∞±Ê≠§‰æãËÄåË®ÄÔºå‰ΩøÁî® JavaScript ÂÆûÁé∞ÊïàÊûúÂπ∂‰∏çÂ•ΩÔºåÁªëÂÆö onresize ‰∫ã‰ª∂ÂêéÂú®ÊãñÊãΩÊó∂Êüê‰∫õÊòüÂ∫ßÁöÑÊúãÂèã‰ºöÂØüËßâÂá∫Êù•‰∫õËÆ∏Âç°È°øÔºà‰Ω†ËØïËØï‰æøÁü•ÔºâÔºåËÄå‰∏îÂú® JavaScript Âä†ËΩΩÂÆåÊàêÂâçÊòØÁúã‰∏çÂá∫ÊïàÊûúÁöÑ„ÄÇ ÂÖ∂ÂÆûÁî® CSS ÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÂÆûÁé∞ËøôÊ†∑ÁöÑÊïàÊûúÔºåÁî®ÁöÑÂ±ûÊÄß‰πüÊòØÊàë‰ª¨ÊØè‰∏™Â∑•‰ΩúÊó•ÂíåÂë®Êú´ÔºàÂ¶ÇÊûúÂä†Áè≠ÁöÑËØùÔºâÈÉΩ‰ºöÁî®Âà∞ÁöÑÔºöpadding-bottom„ÄÇpadding-bottom Êúâ‰∏Ä‰∏™ËÆ©‰∫∫ÂæàÂÆπÊòìÂøΩÁï•ÁöÑÁâπÊÄßÊòØÂΩìÂÆÉÁöÑÂÄºÊòØÁôæÂàÜÊØîÂΩ¢ÂºèÊó∂ÔºåÁôæÂàÜÊØîÁöÑÂü∫Êï∞ÊòØÂÖ∂ÊâÄÂú®ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ËÄå‰∏çÊòØÈ´òÂ∫¶ÔºàÂêå padding-left Âíå padding-right ‰∏ÄÊ†∑Ôºâ„ÄÇËøôÊ†∑Ëß£ÂÜ≥ÊñπÊ°à‰πüÂ∞±ÈùûÂ∏∏ÊòéÊòæ‰∫ÜÔºö Â∞ÜÂÖÉÁ¥†ÁöÑ height ËÆæÊàê 0Ôºå‰ΩøÂæóÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶Á≠â‰∫é padding-bottomÔºõ ÂêàÁêÜËÆæÁΩÆ padding-bottom ÁöÑÂÄº„ÄÇÊØîÂ¶ÇÊØè‰∏™ÂÖÉÁ¥†ÁöÑ width ÊòØ 25%ÔºåÁé∞Âú®ÊÉ≥ËÆ©ÂÖÉÁ¥†ÁöÑÈ´òÂ∫¶ÂßãÁªà‰øùÊåÅ‰∏∫ÂÖ∂ÂÆΩÂ∫¶ÁöÑ‰∏§ÂÄçÔºåÂàô padding-bottom ÁöÑÂÄºÂ∫îËØ•ËÆæÁΩÆ‰∏∫ 50%„ÄÇ ÁªìÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Áõ∏Â∫îÁöÑ‰ª£Á†ÅÂèØ‰ª•ÂèÇËßÅÔºöhttp://jsfiddle.net/luin/25BbH/7/„ÄÇ ÁÑ∂ËÄåËá≥Ê≠§ÔºåËøôÁØáÊñáÁ´†ËøòÊ≤°ÂÆå„ÄÇËÇØÂÆö‰ºöÊúâÂæàÂ§öÂêåÂ≠¶ÁñëÊÉëÊó¢ÁÑ∂ height Ë¢´ËÆæÊàê‰∫Ü 0ÔºåÈÇ£‰πàÂ¶ÇÊûúÂÖÉÁ¥†ÁöÑ overflow ‰∏∫ hiddenÔºåÈáåÈù¢ÁöÑÊñáÂ≠ó‰ºö‰∏ç‰ºöÂõ†‰∏∫Ë∂ÖÂá∫‰∫ÜÂÖÉÁ¥†È´òÂ∫¶ËÄåË¢´ÈöêËóèÂë¢Ôºü Á≠îÊ°àÊòØ‰∏ç‰ºö„ÄÇÊ†πÊçÆ CSS 2.1 ËßÑËåÉ2Ôºåoverflow Âè™‰ºöÂØπÂ§Ñ‰∫é padding edge Â§ñÈù¢ÁöÑÂÜÖÂÆπÁîüÊïàÔºåÂç≥Âè™ÊúâË∂ÖÂá∫‰∫Ü padding Âå∫ÂüüÁöÑÂÜÖÂÆπÊâç‰ºöË¢´ overflow Â±ûÊÄßÈöêËóèÊéâ„ÄÇ ÂÖ∂ÂÆûÊúâ‰∏ÄÁÇπ‰æãÂ§ñÁöÑÊÉÖÂÜµÊòØÂΩì img ÁöÑÂõæÁâáÊòØ svg Êó∂ÔºåÂÆÉÊòØÊ≤°ÊúâÂõ∫ÊúâÂ∞∫ÂØ∏ÁöÑ„ÄÇ ‚Ü© http://www.w3.org/TR/CSS2/visufx.html‚Ü© &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; .item { float: left; width: 21%; margin: 10px 2%; height: 0; padding-bottom: 33.98%; background-color: #dbe0e4; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt;]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ajax‰∏éComet]]></title>
    <url>%2F2015%2F04%2F26%2FAjax%E4%B8%8EComet%2F</url>
    <content type="text"><![CDATA[‰∏ãËø∞ÂÜÖÂ≠ò‰∏ªË¶ÅËÆ≤Ëø∞‰∫Ü„ÄäJavaScriptÈ´òÁ∫ßÁ®ãÂ∫èËÆæËÆ°ÔºàÁ¨¨3ÁâàÔºâ„ÄãÁ¨¨21Á´†ÂÖ≥‰∫é‚ÄúAjax‰∏éComet‚Äù„ÄÇ AjaxÔºàAsynchronous JavaScript + XMLÁöÑÁÆÄÂÜôÔºâÂèØ‰ª•ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆËÄåÊó†ÈúÄÂç∏ËΩΩÔºàÂà∑Êñ∞ÔºâÈ°µÈù¢ÔºåÂ∏¶Êù•Êõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇAjaxÊäÄÊúØÁöÑÊ†∏ÂøÉÊòØXMLHttpRequestÂØπË±°ÔºàÁÆÄÁß∞XHRÔºâ„ÄÇ ‰∏Ä„ÄÅXMLHttpRequestÂØπË±°1234567891011121314151617181920212223242526/* ÂÖºÂÆπIEÊó©ÊúüÁâàÊú¨ */function createXHR()&#123; if (typeof XMLHttpRequest != &quot;undefined&quot;)&#123; return new XMLHttpRequest(); &#125; else if (typeof ActiveXObject != &quot;undefined&quot;)&#123; // ÈÄÇÁî®‰∫éIE7‰πãÂâçÁöÑÁâàÊú¨ if (typeof arguments.callee.activeXString != &quot;string&quot;)&#123; var versions = [&quot;MSXML2.XMLHttp.6.0&quot;, &quot;MSXML2.XMLHttp.3.0&quot;, &quot;MSXML2.XMLHttp&quot;], i, len; for (i=0,len=versions.length; i &lt; len; i++)&#123; try &#123; new ActiveXObject(versions[i]); arguments.callee.activeXString = versions[i]; break; &#125; catch (ex)&#123; //skip &#125; &#125; &#125; return new ActiveXObject(arguments.callee.activeXString); &#125; else &#123; // XHRÂØπË±°ÂíåActiveXÂØπË±°ÈÉΩ‰∏çÂ≠òÂú®ÔºåÂàôÊäõÂá∫ÈîôËØØ throw new Error(&quot;No XHR object available.&quot;); &#125;&#125; 1. XHRÁöÑÁî®Ê≥ï1xhr.open(&quot;ËØ∑Ê±ÇÁöÑÁ±ªÂûãget|postÁ≠â&quot;, &quot;ËØ∑Ê±ÇÁöÑURL&quot;, &quot;ÊòØÂê¶ÂºÇÊ≠•ÂèëÈÄÅËØ∑Ê±Ç&quot;); ËØ¥ÊòéÔºöÔºà1ÔºâURLÁõ∏ÂØπ‰∫éÊâßË°å‰ª£Á†ÅÁöÑÂΩìÂâçÈ°µÈù¢ÔºàÂΩìÁÑ∂‰πüÂèØ‰ª•‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÔºâÔºà2Ôºâopen()ÊñπÊ≥ïÂπ∂‰∏ç‰ºöÁúüÊ≠£ÂèëÈÄÅËØ∑Ê±ÇÔºåËÄåÂè™ÊòØÂêØÂä®‰∏Ä‰∏™ËØ∑Ê±Ç‰ª•Â§áÂèëÈÄÅ1xhr.send(&quot;ËØ∑Ê±Ç‰∏ª‰ΩìÂèëÈÄÅÁöÑÊï∞ÊçÆ&quot;); ËØ¥ÊòéÔºöÔºà1ÔºâÂ¶ÇÊûú‰∏çÈúÄË¶ÅÈÄöËøáËØ∑Ê±Ç‰∏ª‰ΩìÂèëÈÄÅÊï∞ÊçÆÔºàÊØîÂ¶ÇgetËØ∑Ê±ÇÔºâÔºåÂàôÂøÖÈ°ª‰º†ÂÖ•nullÔºåÂõ†‰∏∫Ëøô‰∏™ÂèÇÊï∞ÂØπÊúâ‰∫õÊµèËßàÂô®Êù•ËØ¥ÊòØÂøÖÈúÄÁöÑÔºà2ÔºâË∞ÉÁî®send()‰πãÂêéÔºåËØ∑Ê±ÇÂ∞±‰ºöË¢´ÂàÜÊ¥æÂà∞ÊúçÂä°Âô® Ë°•ÂÖÖÔºöxhr.open()ÊñπÊ≥ï‰∏∫‚Äúfalse‚ÄùÔºåÂç≥ÂêåÊ≠•ËØ∑Ê±ÇÔºåJavaScript‰ª£Á†Å‰ºöÁ≠âÂà∞ÊúçÂä°Âô®ÂìçÂ∫îÂêéÂÜçÁªßÁª≠ÊâßË°åÔºõÂê¶ÂàôÔºåÁªßÁª≠ÊâßË°åÂêéÁª≠‰ª£Á†Å„ÄÇ Âú®Êî∂Âà∞ÊúçÂä°Âô®ÂìçÂ∫îÂêéÔºåÁõ∏Â∫îÁöÑÊï∞ÊçÆ‰ºöËá™Âä®Â°´ÂÖÖXHRÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ responseTextÔºö‰Ωú‰∏∫ÂìçÂ∫î‰∏ª‰ΩìË¢´ËøîÂõûÁöÑÊñáÊú¨ responseXMLÔºöÂ¶ÇÊûúÂìçÂ∫îÁöÑÂÜÖÂÆπÁ±ªÂûãÊòØ‚Äùtext/xml‚ÄùÊàñ‚Äùapplication/xml‚ÄùÔºåËøô‰∏™Â±ûÊÄß‰∏≠Â∞Ü‰øùÂ≠òÂåÖÂê´ÁùÄÂìçÂ∫îÊï∞ÊçÆÁöÑXML DOMÊñáÊ°£ statusÔºöÂìçÂ∫îÁöÑHTTPÁä∂ÊÄÅ statusTextÔºöHTTPÁä∂ÊÄÅÁöÑËØ¥Êòé1234// ‰∏∫Á°Æ‰øùÊé•Êî∂Âà∞ÈÄÇÂΩìÁöÑÂìçÂ∫î 200:ÊàêÂäüÔºõ304:ËµÑÊ∫êÊú™Ë¢´‰øÆÊîπif((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304) &#123; console.log(xhr.responseText);&#125; ËØ¥ÊòéÔºöÔºà1ÔºâÊúâÁöÑÊµèËßàÂô®‰ºöÈîôËØØÁöÑÊä•ÂëäÊàêÂäüÁä∂ÊÄÅÁ†Å‰∏∫204Ôºà2ÔºâÊó†ËÆ∫ÂÜÖÂÆπÁ±ªÂûãÊòØ‰ªÄ‰πàÔºåÂìçÂ∫î‰∏ª‰ΩìÁöÑÂÜÖÂÆπÈÉΩ‰ºö‰øùÂ≠òÂà∞responseTextÂ±ûÊÄß‰∏≠ÔºõËÄåÂØπ‰∫éXMLÊï∞ÊçÆËÄåË®ÄÔºåresponseXMLÂêåÊó∂‰πüÂ∞ÜË¢´ËµãÂÄºÔºåÂê¶ÂàôÂÖ∂ÂÄº‰∏∫null ÂØπ‰∫éÂºÇÊ≠•ËØ∑Ê±ÇÔºåÂèØ‰ª•Ê£ÄÊµãXHRÂØπË±°ÁöÑreadyStateÂ±ûÊÄßÔºåËØ•Â±ûÊÄßË°®Á§∫ËØ∑Ê±Ç/ÂìçÂ∫îËøáÁ®ãÁöÑÂΩìÂâçÊ¥ªÂä®Èò∂ÊÆµ 0ÔºöÊú™ÂàùÂßãÂåñ„ÄÇÂ∞öÊú™Ë∞ÉÁî®open()ÊñπÊ≥ï 1ÔºöÂêØÂä®„ÄÇÂ∑≤ÁªèË∞ÉÁî®open()ÊñπÊ≥ïÔºå‰ΩÜÂ∞öÊú™Ë∞ÉÁî®send()ÊñπÊ≥ï 2ÔºöÂèëÈÄÅ„ÄÇÂ∑≤ÁªèË∞ÉÁî®send()ÊñπÊ≥ïÔºå‰ΩÜÂ∞öÊú™Êé•Êî∂Âà∞ÂìçÂ∫î 3ÔºöÊé•Êî∂„ÄÇÂ∑≤ÁªèÊé•Êî∂Âà∞ÈÉ®ÂàÜÂìçÂ∫îÊï∞ÊçÆ 4ÔºöÂÆåÊàê„ÄÇÂ∑≤ÁªèÊé•Êî∂ÂÖ®ÈÉ®ÂìçÂ∫îÊï∞ÊçÆÔºåËÄå‰∏îÂ∑≤ÁªèÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´Ø‰ΩøÁî®‰∫Ü„ÄÇ readyStateÂ±ûÊÄßÁöÑÂÄºÂèëÁîüÂèòÂåñÔºåÈÉΩ‰ºöËß¶Âèëreadystatechange‰∫ã‰ª∂„ÄÇÂèØ‰ª•Âà©Áî®Ëøô‰∏™‰∫ã‰ª∂Êù•Ê£ÄÊµãÊØèÊ¨°Áä∂ÊÄÅÂèòÂåñÂêéreadyStateÁöÑÂÄº„ÄÇ‰∏çËøáÔºåÂøÖÈ°ªÂú®Ë∞ÉÁî®open()‰πãÂâçÊåáÂÆöonreadystatechange‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊâçËÉΩÁ°Æ‰øùË∑®ÊµèËßàÂô®ÂÖºÂÆπÊÄß„ÄÇ var xhr = createXHR(); xhr.onreadystatechange = function(event){ // ‰∏çË¶Å‰ΩøÁî®thisÔºå‰ΩúÁî®Âüü‰ºö‰∫ßÁîüÈóÆÈ¢òÔºåÂú®ÈÉ®ÂàÜÊµèËßàÂô®‰∏≠‰ºöÊâßË°åÂ§±Ë¥• if (xhr.readyState == 4){ if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304){ console.log(xhr.responseText); } else { console.log(&quot;Request was unsuccessful: &quot; + xhr.status); } } }; xhr.open(&quot;get&quot;, &quot;example.txt&quot;, true); xhr.send(null); Âú®Êé•Êî∂Âà∞ÂìçÂ∫îÊï∞ÊçÆ‰πãÂâçÂèØ‰ª•Ë∞ÉÁî®abort()ÊñπÊ≥ïÊù•ÂèñÊ∂àÂºÇÊ≠•ËØ∑Ê±ÇÔºö xhr.abort(); xhr =null; // Ëß£Èô§ÂºïÁî®ÔºåÈáäÊîæÂÜÖÂ≠ò 2. HTTPÂ§¥ÈÉ®‰ø°ÊÅØsetRequestHeader()ÔºöËÆæÁΩÆËá™ÂÆö‰πâÁöÑËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ„ÄÇÂøÖÈ°ªÂú®Ë∞ÉÁî®open()ÊñπÊ≥ï‰πãÂêé‰∏îË∞ÉÁî®send()ÊñπÊ≥ï‰πãÂâçË∞ÉÁî®„ÄÇgetResponseHeader() getAllResponseHeaders()ÔºöÂèØ‰ª•Ëé∑ÂèñÊåáÂÆöÔºàÂÖ®ÈÉ®ÔºâÂìçÂ∫îÂ§¥‰ø°ÊÅØ„ÄÇ var xhr = createXHR(); xhr.onreadystatechange = function(){}; xhr.open(&quot;get&quot;, &quot;example.php&quot;, true); xhr.setRequestHeader(&quot;MyHeader&quot;, &quot;MyValue&quot;); xhr.send(null); 3. GETËØ∑Ê±Çopen()ÊñπÊ≥ïÁöÑURLÂ∞æÈÉ®ÁöÑÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÂøÖÈ°ªÁªèËøáÊ≠£Á°ÆÁöÑÁºñÁ†Å functionaddURLParam(url, name, value) { url += (url.indexOf(&quot;?&quot;) == -1 ? &quot;?&quot; : &quot;&amp;&quot;); url += encodeURIComponent(name) + &quot;=&quot; + encodeURIComponent(value); return url; } var url = &quot;http://test.com&quot;; url = addURLParam(url, &quot;uid&quot; , 5); url = addURLParam(url, &quot;siteid&quot;, 123); // &quot;http://test.com?uid=5&amp;siteid=123&quot; xhr.open(&quot;get&quot;, url, true); xhr.send(null); 4. POSTËØ∑Ê±ÇPOSTËØ∑Ê±ÇÂ∞ÜÊï∞ÊçÆ‰Ωú‰∏∫ËØ∑Ê±ÇÁöÑ‰∏ª‰Ωì123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/* Â∫èÂàóÂåñË°®Âçï */function serialize(form)&#123; var parts = new Array(); var field = null; for (var i=0, len=form.elements.length; i &lt; len; i++)&#123; field = form.elements[i]; switch(field.type)&#123; case &quot;select-one&quot;: case &quot;select-multiple&quot;: for (var j=0, optLen = field.options.length; j &lt; optLen; j++)&#123; var option = field.options[j]; if (option.selected)&#123; var optValue = &quot;&quot;; if (option.hasAttribute)&#123; optValue = (option.hasAttribute(&quot;value&quot;) ? option.value : option.text); &#125; else &#123; optValue = (option.attributes[&quot;value&quot;].specified ? option.value : option.text); &#125; parts.push(encodeURIComponent(field.name) + &quot;=&quot; + encodeURIComponent(optValue)); &#125; &#125; break; case undefined: //fieldset case &quot;file&quot;: //file input case &quot;submit&quot;: //submit button case &quot;reset&quot;: //reset button case &quot;button&quot;: //custom button break; case &quot;radio&quot;: //radio button case &quot;checkbox&quot;: //checkbox if (!field.checked)&#123; break; &#125; /* falls through */ default: parts.push(encodeURIComponent(field.name) + &quot;=&quot; + encodeURIComponent(field.value)); &#125; &#125; return parts.join(&quot;&amp;&quot;);&#125; 1234567891011121314151617181920/* ÂèëÈÄÅËØ∑Ê±Ç */function submitData()&#123; var xhr = createXHR(); xhr.onreadystatechange = function(event)&#123; if (xhr.readyState == 4)&#123; if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304)&#123; alert(xhr.responseText); &#125; else &#123; alert(&quot;Request was unsuccessful: &quot; + xhr.status); &#125; &#125; &#125;; xhr.open(&quot;post&quot;, &quot;postexample.php&quot;, true); // Ë°®ÂçïÊèê‰∫§ÁöÑÂÜÖÂÆπÁ±ªÂûã xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); var form = document.getElementById(&quot;user-info&quot;); // ËØ∑Ê±Ç‰∏ª‰Ωì‰∏∫Êï∞ÊçÆ xhr.send(serialize(form));&#125; ‰∫å„ÄÅXMLHttpRequest 2Á∫ßXMLHttpRequest 1Á∫ßÂè™ÊòØÊääÂ∑≤ÊúâÁöÑXHRÂØπË±°ÁöÑÂÆûÁé∞ÁªÜËäÇÊèèËø∞‰∫ÜÂá∫Êù•„ÄÇËÄåXMLHttpRequest 2Á∫ßÂàôËøõ‰∏ÄÊ≠•ÂèëÂ±ï‰∫ÜXHR„ÄÇÂπ∂ÈùûÊâÄÊúâÊµèËßàÂô®ÈÉΩÂÆåÊï¥Âú∞ÂÆûÁé∞‰∫ÜXMLHttpRequest 2Á∫ßËßÑËåÉÔºå‰ΩÜÊâÄÊúâÊµèËßàÂô®ÈÉΩÂÆûÁé∞‰∫ÜÂÆÉËßÑÂÆöÁöÑÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ 1. FormData123456789101112// ÂàõÂª∫FormDataÂØπË±°var data=new FormData();data.append(&quot;name&quot;, &quot;ligang&quot;);// Áî®Ë°®ÂçïÂÖÉÁ¥†Â°´ÂÖÖxhr.open(&quot;post&quot;, &quot;postexample.php&quot;, true);var form = document.getElementById(&quot;user-info&quot;);// ‰ΩøÁî®FormDataÁöÑÊñπ‰æø‰πãÂ§ÑÂú®‰∫é‰∏çÂøÖÊòéÁ°ÆÂú∞Âú®XHRÂØπË±°‰∏äËÆæÁΩÆËØ∑Ê±ÇÂ§¥„ÄÇ// xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);xhr.send(new FormData(form)); 2. Ë∂ÖÊó∂ËÆæÂÆöIE8‰∏∫XHRÂØπË±°Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™timeoutÂ±ûÊÄßÔºåË°®Á§∫ËØ∑Ê±ÇÂú®Á≠âÂæÖÂìçÂ∫îÂ§öÂ∞ëÊØ´ÁßíÂêéÂ∞±ÁªàÊ≠¢„ÄÇ123456xhr.open(&quot;get&quot;, &quot;timeout.php&quot;, true);xhr.timeout = 60 * 1000;xhr.ontimeout = function()&#123; alert(&quot;Request did not return in a second.&quot;);&#125;; xhr.send(null); ÂØπ‰∫éÂÖ∂‰ªñÊµèËßàÂô®ÁöÑÂÖºÂÆπÂÅöÊ≥ï1234567891011121314151617xhr.open(&quot;get&quot;, &quot;timeout.php&quot;, true);xhr.onreadystatechange = function(event)&#123;if (xhr.readyState == 4)&#123; // Ê∏ÖÈô§ÂÆöÊó∂Âô® clearTimeout(timeout); if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304)&#123; console.log(xhr.responseText); &#125; else &#123; console.log(&quot;Request was unsuccessful: &quot; + xhr.status); &#125; &#125;&#125;;// ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥ 1ÂàÜÈíüvar timeout = setTimeout(function() &#123; xmlHttpRequest.abort(); xmlHttpRequest = null;&#125;, 60 * 1000);xmlHttpRequest.send(null); 3. overrideMimeType()ÊñπÊ≥ïÈáçÂÜôXHRÂìçÂ∫îÁöÑMIMEÁ±ªÂûãÔºåÂøÖÈ°ªÂú®send()ÊñπÊ≥ï‰πãÂâç„ÄÇ Â¶ÇÊûúÔºåÊúçÂä°Âô®ËøîÂõûÁöÑMIMEÁ±ªÂûãÊòØtext/plainÔºå‰ΩÜÊï∞ÊçÆ‰∏≠ÂÆûÈôÖÂåÖÂê´ÁöÑÊòØXML„ÄÇÊ†πÊçÆMIMEÁ±ªÂûãÔºåresponseXMLÂ±ûÊÄß‰∏≠‰ªçÁÑ∂ÊòØnull„ÄÇÊ≠§Êó∂ÔºåÈÄöËøáoverrideMimeType()ÊñπÊ≥ïÔºåÂèØ‰ª•‰øùËØÅÊääÂìçÂ∫îÂΩì‰ΩúXMLËÄåÈùûÁ∫ØÊñáÊú¨Êù•Â§ÑÁêÜÔºàÂç≥ÔºåresponseXML‰∏≠Ë¢´ËµãÂÄºÔºâ„ÄÇ1234var xhr = createXHR();xhr.open(&quot;get&quot;, &quot;text.php&quot;, true);xhr.overrideMimeType(&quot;text/xml&quot;);xhr.send(null); ‰∏â„ÄÅËøõÂ∫¶‰∫ã‰ª∂6‰∏™ËøõÂ∫¶‰∫ã‰ª∂Ôºö loadstartÔºöÂú®Êé•Êî∂Âà∞ÂìçÂ∫îÊï∞ÊçÆÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇÊó∂Ëß¶Âèë„ÄÇ progressÔºöÂú®Êé•Êî∂ÂìçÂ∫îÊúüÈó¥ÊåÅÁª≠‰∏çÊñ≠Âú∞Ëß¶Âèë„ÄÇ errorÔºöÂú®ËØ∑Ê±ÇÂèëÁîüÈîôËØØÊó∂Ëß¶Âèë„ÄÇ abortÔºöÂú®Âõ†‰∏∫Ë∞ÉÁî®abort()ÊñπÊ≥ïËÄåÁªàÊ≠¢Êó∂Ëß¶Âèë„ÄÇ loadÔºöÂú®Êé•Êî∂Âà∞ÂÆåÊï¥ÁöÑÂìçÂ∫îÊï∞ÊçÆÊó∂Ëß¶Âèë„ÄÇ loadendÔºöÂú®ÈÄö‰ø°ÂÆåÊàêÊàñËÄÖËß¶Âèëerror„ÄÅabortÊàñload‰∫ã‰ª∂ÂêéËß¶Âèë„ÄÇ 1. load‰∫ã‰ª∂ÂèØ‰ª•‰ª£Êõøreadystatechagne‰∫ã‰ª∂„ÄÇÂÖ∂Â§ÑÁêÜÁ®ãÂ∫è‰ºöÊé•Êî∂Âà∞‰∏Ä‰∏™eventÂØπË±°ÔºåÂÖ∂targetÂ±ûÊÄßÊåáÂêëXHRÂØπË±°ÂÆû‰æãÔºåÂõ†ËÄåÂèØ‰ª•ËÆøÈóÆÂà∞XHRÂØπË±°ÁöÑÊâÄÊúâÊñπÊ≥ïÂíåÂ±ûÊÄß„ÄÇÁÑ∂ËÄåÔºåÂπ∂ÈùûÊâÄÊúâÊµèËßàÂô®ÈÉΩÂÆûÁé∞‰∫Ü‰∫ã‰ª∂ÂØπË±°„ÄÇ 2. progress‰∫ã‰ª∂ÂÖ∂Â§ÑÁêÜÁ®ãÂ∫è‰ºöÊé•Êî∂‰∏Ä‰∏™eventÂØπË±°ÔºåÂÖ∂targetÂ±ûÊÄßÊåáÂêëXHRÂØπË±°ÂÆû‰æãÔºå‰ΩÜÂåÖÂê´ÁùÄ‰∏â‰∏™È¢ùÂ§ñÁöÑÂ±ûÊÄß lengthComputableÔºöÊòØ‰∏Ä‰∏™Ë°®Á§∫ËøõÂ∫¶‰ø°ÊÅØÊòØÂê¶ÂèØÁî®ÁöÑÂ∏ÉÂ∞îÂÄº positionÔºöË°®Á§∫Â∑≤ÁªèÊé•Êî∂ÁöÑÂ≠óËäÇÊï∞ totalSizeÔºöÊ†πÊçÆcontent-lengthÂìçÂ∫îÂ§¥Á°ÆÂÆöÁöÑÈ¢ÑÊúüÂ≠óËäÇÊï∞Ê≥®ÊÑèÔºöÂÖ∂ÂøÖÈ°ªÂú®Ë∞ÉÁî®open()ÊñπÊ≥ï‰πãÂâçÊ∑ªÂä†1234567891011121314151617var xhr = createXHR(); xhr.onload = function(event)&#123; // event.targetÂ≠òÂú®ÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåÊâÄ‰ª•Âè™ËÉΩ‰ΩøÁî®xhr if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304)&#123; console.log(xhr.responseText); &#125; else &#123; console.log(&quot;Request was unsuccessful: &quot; + xhr.status); &#125;&#125;;xhr.onprogress = function(event)&#123; var divStatus = document.getElementById(&quot;status&quot;); if (event.lengthComputable)&#123; divStatus.innerHTML = &quot;Received &quot; + event.position + &quot; of &quot; + event.totalSize + &quot; bytes&quot;; &#125;&#125;;xhr.open(&quot;get&quot;, &quot;altevents.php&quot;, true);xhr.send(null); Âõõ„ÄÅË∑®Ê∫êËµÑÊ∫êÂÖ±‰∫´CORSÔºàCross-Origin Resource SharingÔºâËÉåÂêéÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÔºåÂ∞±ÊòØ‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑHTTPÂ§¥ÈÉ®ËÆ©ÊµèËßàÂô®‰∏éÊúçÂä°Âô®ËøõË°åÊ≤üÈÄöÔºå‰ªéËÄåÂÜ≥ÂÆöËØ∑Ê±ÇÊàñÂìçÂ∫îÊòØÂ∫îËØ•ÊàêÂäüËøòÊòØÂ§±Ë¥•„ÄÇ Âú®ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÁªôÂÖ∂ÈôÑÂä†‰∏Ä‰∏™È¢ùÂ§ñÁöÑOriginÂ§¥ÈÉ®ÔºåÂÖ∂‰∏≠ÂåÖÂê´ËØ∑Ê±ÇÈ°µÈù¢ÁöÑÊ∫ê‰ø°ÊÅØÔºàÂçèËÆÆ„ÄÅÂüüÂêçÂíåÁ´ØÂè£ÔºâÔºå‰ª•‰æøÊúçÂä°Âô®Ê†πÊçÆËøô‰∏™Â§¥ÈÉ®‰ø°ÊÅØÊù•ÂÜ≥ÂÆöÊòØÂê¶Áªô‰∫àÂìçÂ∫î„ÄÇ Origin: http://www.test.com Â¶ÇÊûúÊúçÂä°ËÆ§‰∏∫Ëøô‰∏™ËØ∑Ê±ÇÂèØ‰ª•Êé•ÂèóÔºåÂú®Access-Control-Allow-OriginÂ§¥ÈÉ®‰∏≠ÂõûÂèëÁõ∏ÂêåÁöÑÊ∫ê‰ø°ÊÅØÔºàÂ¶ÇÊûúÊòØÂÖ¨ÂÖ±ËµÑÊ∫êÔºåÂèØ‰ª•ÂõûÂèë‚Äù*‚ÄùÔºâ„ÄÇ Access-Control-Allow-Origin: http://www.test.com Ê≥®ÊÑèÔºöËØ∑Ê±ÇÂíåÂìçÂ∫îÈÉΩ‰∏çÂåÖÂê´cookie‰ø°ÊÅØ„ÄÇ 1. IE‰∏≠ÂÆûÁé∞CORSÔºöXDRÔºàXDomainRequestÔºâÔºåÊâÄÊúâÁöÑXDRËØ∑Ê±ÇÈÉΩÊòØÂºÇÊ≠•ÁöÑÔºå‰∏çËÉΩÂàõÂª∫ÂêåÊ≠•ËØ∑Ê±Ç„ÄÇÂÖ∂‰ΩøÁî®ÊñπÊ≥ïÁ±ª‰ºº‰∫éXHR„ÄÇ2. ÂÖ∂‰ªñÊµèËßàÂô®ÂØπCORSÁöÑÂÆûÁé∞ÔºöÈÄöËøáXMLHttpRequestÂØπË±°ÂÆûÁé∞ÂØπCORSÁöÑÂéüÁîüÊîØÊåÅ„ÄÇÂè™ÈúÄÁªôopen()ÊñπÊ≥ï‰º†ÂÖ•ÁªùÂØπÂú∞ÂùÄ„ÄÇÊîØÊåÅÂêåÊ≠•ËØ∑Ê±Ç„ÄÇË∑®ÂüüXHRÂØπË±°ÁöÑÂÆâÂÖ®ÈôêÂà∂Ôºö Ôºà1Ôºâ‰∏çËÉΩ‰ΩøÁî®setRequestHeader()ËÆæÁΩÆËá™ÂÆö‰πâÂ§¥ÈÉ®„ÄÇ Ôºà2Ôºâ‰∏çËÉΩÂèëÈÄÅÂíåÊé•Êî∂cookie„ÄÇ Ôºà3ÔºâË∞ÉÁî®getAllResponseHeaders()ÊñπÊ≥ïÊÄª‰ºöËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇ Âª∫ËÆÆÔºöËÆøÈóÆÊú¨Âú∞ËµÑÊ∫êÔºåÊúÄÂ•Ω‰ΩøÁî®Áõ∏ÂØπURLÔºõËÆøÈóÆËøúÁ®ãËµÑÊ∫êÔºå‰ΩøÁî®ÁªùÂØπURL„ÄÇ 3. Ë∑®ÊµèËßàÂô®ÁöÑCORSfunctioncreateCORSRequest(method, url){var xhr = new XMLHttpRequest(); if (&quot;withCredentials&quot;in xhr){ // Ê£ÄÊµãXHRÊòØÂê¶ÊîØÊåÅCORSÁöÑÁÆÄÂçïÊñπÂºèÔºåÂ∞±ÊòØÊ£ÄÊµãÊòØÂê¶Â≠òÂú®withCredentialsÂ±ûÊÄß xhr.open(method, url, true); } elseif (typeof XDomainRequest != &quot;undefined&quot;){ // IE XDR xhr = new XDomainRequest(); xhr.open(method, url); } else { xhr = null; } return xhr; } var request = createCORSRequest(&quot;get&quot;, &quot;http://www.somewhere-else.com/xdr.php&quot;); if (request){ request.onload = function(){//do something with request.responseText }; request.send(); } ‰∫î„ÄÅÂÖ∂‰ªñË∑®ÂüüÊäÄÊúØÂà©Áî®DOM‰∏≠ËÉΩÂ§üÊâßË°åË∑®ÂüüËØ∑Ê±ÇÁöÑÂäüËÉΩÔºåÂú®‰∏ç‰æùËµñXHRÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ã‰πüËÉΩÂèëÈÄÅÊüêÁßçËØ∑Ê±ÇÔºåÂÖ∂‰∏çÈúÄË¶Å‰øÆÊîπÊúçÂä°Âô®Á´Ø‰ª£Á†Å„ÄÇ 1. ÂõæÂÉèPing&lt;img&gt;Ê†áÁ≠æÔºåÂèØ‰ª•‰ªé‰ªª‰ΩïÁΩëÈ°µ‰∏≠Âä†ËΩΩÂõæÂÉèÔºåÊó†ÈúÄÂÖ≥Ê≥®ÊòØÂê¶Ë∑®Âüü„ÄÇËøô‰πüÊòØÂπøÂëäË∑üË∏™ÊµèËßàÈáèÁöÑ‰∏ªË¶ÅÊñπÂºè„ÄÇ ÂõæÂÉèPingÊòØ‰∏éÊúçÂä°Âô®ËøõË°åÁÆÄÂçï„ÄÅÂçïÂêëÁöÑË∑®ÂüüÈÄö‰ø°ÁöÑ‰∏ÄÁßçÊñπÂºè„ÄÇÊµèËßàÂô®Âæó‰∏çÂà∞‰ªª‰ΩïÂÖ∑‰ΩìÁöÑÊï∞ÊçÆ„ÄÇ‰ΩÜÈÄöËøáÁõëÂê¨loadÂíåerror‰∫ã‰ª∂ÔºåÂèØ‰ª•Áü•ÈÅìÂìçÂ∫îÊòØ‰ªÄ‰πàÊó∂Èó¥Êé•Êî∂Âà∞ÁöÑ„ÄÇ var img = new Image(); img.onload = img.error = function() { console.log(&quot;Done!&quot;); }; img.src = &quot;http://www.test.com/getImage?id=1&quot;; Áº∫ÁÇπ: Ôºà1ÔºâÂè™ËÉΩÂèëÈÄÅGetËØ∑Ê±Ç Ôºà2ÔºâÊó†Ê≥ïËÆøÈóÆÊúçÂä°Âô®ÁöÑÂìçÂ∫îÊñáÊú¨ 2. JSONPÔºàJSON with paddingÔºâ‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºöÂõûË∞ÉÂáΩÊï∞ÂíåÊï∞ÊçÆ„ÄÇ ÂõûË∞ÉÂáΩÊï∞ÊòØÂΩìÂìçÂ∫îÂà∞Êù•Êó∂Â∫îËØ•Âú®È°µÈù¢Ë∞ÉÁî®ÁöÑÂáΩÊï∞„ÄÇÂõûÂà∞ÂáΩÊï∞ÁöÑÂêçÂ≠ó‰∏ÄËà¨ÊòØÂú®ËØ∑Ê±Ç‰∏≠ÊåáÂÆöÁöÑ„ÄÇËÄåÊï∞ÊçÆÊòØ‰º†ÂÖ•ÂõûË∞ÉÂáΩÊï∞‰∏≠ÁöÑJSONÊï∞ÊçÆ„ÄÇ JSONPÊòØÈÄöËøáÂä®ÊÄÅ&lt;script&gt;ÂÖÉÁ¥†Êù•‰ΩøÁî®ÁöÑ function handleResponse(response){ alert(&quot;You&apos;re at IP address &quot; + response.ip + &quot;, which is in &quot; + response.city + &quot;, &quot; + response.region_name); } var script = document.createElement(&quot;script&quot;); script.src = &quot;http://freegeoip.net/json/?callback=handleResponse&quot;; document.body.insertBefore(script, document.body.firstChild); ‰ºòÁÇπÔºöËÉΩÂ§üÁõ¥Êé•ËÆøÈóÆÂìçÂ∫îÊñáÊú¨ÔºåÊîØÊåÅÂú®ÊµèËßàÂô®‰∏éÊúçÂä°Âô®‰πãÈó¥ÂèåÂêëÈÄö‰ø°„ÄÇÁº∫ÁÇπÔºö Ôºà1ÔºâJSONPÊòØ‰ªéÂÖ∂‰ªñÂüü‰∏≠Âä†ËΩΩ‰ª£Á†ÅÊâßË°åÔºåÂÖ∂ÂÆâÂÖ®ÊÄßÊó†Ê≥ïÁ°Æ‰øù„ÄÇ Ôºà2Ôºâ‰∏çËÉΩÂæàÂÆπÊòìÁöÑÁ°ÆÂÆöJSONPËØ∑Ê±ÇÊòØÂê¶Â§±Ë¥•„ÄÇ 3. CometÊõ¥È´òÁ∫ßÁöÑAjaxÊäÄÊúØÔºåÊúçÂä°Âô®ÂêëÈ°µÈù¢Êé®ÈÄÅÊï∞ÊçÆ„ÄÇ Comet Êú¨Ë¥®‰∏äÂíå C/S ‰∏≠ÁöÑÈÄö‰ø°Âπ∂‰∏ç‰∏ÄÊ†∑ÔºåÂÆÉÊòØÈÄöËøáÈïøËøûÊé•Êù•Ê®°ÊãüÊé®ÈÄÅÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂú®Ê≤°ÊúâÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåËøô‰∏™ËøûÊé•ÊåÇËµ∑ÔºåÁõ¥Âà∞ÊúâÊï∞ÊçÆÊù•‰∫ÜÔºàÊé®ÈÄÅÔºâÔºåÊúçÂä°Âô®Á´ØËøîÂõûÂìçÂ∫îÔºåËØ•ËøûÊé•ÁªìÊùüÔºåÂÆ¢Êà∑Á´ØÁöÑ JS ÈáçÊñ∞Âª∫Á´ã‰∏ã‰∏Ä‰∏™Á≠âÂæÖËøûÊé•„ÄÇ ËøôÁßçÊñπÂºèÂπ∂‰∏çÂÉè C/S ÈÄö‰ø°Âª∫Á´ãÈïøÊúü‰ΩøÁî®ÁöÑÈÄöÈÅìÔºåÂè™ÊòØÈïøÊúü‚ÄúÁ≠âÂæÖ‚ÄùËÄåÂ∑≤ÔºåÈÅøÂÖç‰∫ÜÂú®Êï∞ÊçÆÊõ¥Êñ∞È¢ëÁéá‰∏çÂ§ßÁöÑÊÉÖÂÜµ‰∏ãËΩÆËØ¢ÁöÑÂºÄÈîÄÔºöËØïÊÉ≥Â¶ÇÊûú‰∫îÂàÜÈíüÊâç‰∏ÄÊ¨°Êõ¥Êñ∞ÔºåÈÇ£‰πàËΩÆËØ¢ÊñπÂºèÂú®Ê≠§ÊúüÈó¥Âá†ÁßíÈíüÂ∞±Ë¶ÅÂèëÁîü‰∏ÄÊ¨°ËØ∑Ê±Ç&amp;ÂìçÂ∫îÔºåËÄåËøô‰∫õËØ∑Ê±ÇÂìçÂ∫îÈÉΩÊòØÊ≤°Êúâ‰ª∑ÂÄºÁöÑÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Âπ∂Ê≤°Êúâ‰º†ËæìÊúâÁî®Êï∞ÊçÆ„ÄÇComet ÈÅøÂÖçÁöÑÊòØËøôÊñπÈù¢ÁöÑÊµ™Ë¥πÔºå‰∏çÂÜçÊúâÁ©∫ËØ∑Ê±ÇÔºåÂõ†‰∏∫ÊåÇËµ∑ÁöÑËøûÊé•Áõ¥Âà∞Êï∞ÊçÆÊõ¥Êñ∞‰∫ÜÊâçÁªìÊùü„ÄÇ ÊÄßËÉΩÊñπÈù¢ÔºåÂØπ‰∫éÊï∞ÊçÆÈáè‰∏çÂ§ß‰ΩÜÈúÄË¶ÅÂÆûÊó∂Êõ¥Êñ∞ÁöÑÂ∫îÁî®Êù•ËØ¥ÔºåComet ËÉΩÊõ¥ÊúâÊïàÂà©Áî®ËøûÊé•ÔºåÂêåÊó∂Âõ†‰∏∫Ê≤°ÊúâËΩÆËØ¢ÁöÑÂøÉË∑≥È¢ëÁéáÔºåComet ‰ºöÊØîËΩÆËØ¢Êõ¥Âä†ÂÆûÊó∂‚Äî‚ÄîÂõ†‰∏∫Âè™Ê∂àËÄóÂìçÂ∫îÁöÑÁΩëÁªú‰º†ËæìÊó∂Èó¥„ÄÇ ‰ΩÜÊòØ Comet Êú¨Ë∫´Âπ∂‰∏çËÉΩÂú®Êï∞ÊçÆ‰º†ËæìÊñπÈù¢Êèê‰æõÊØîËΩÆËØ¢Êõ¥È´òÁöÑÊïàÁéáÔºå‰ªÖ‰ªÖÈÅøÂÖç‰∫ÜËΩÆËØ¢ÁöÑÁ©∫ËØ∑Ê±ÇÊµ™Ë¥π„ÄÇÊâÄ‰ª• Comet Âíå web socket ‰πãÁ±ªÁöÑÈÄöËÆØÊñπÂºèÂ∑ÆË∑ùËøòÊòØÊúâÁöÑ„ÄÇ Â§ßÂûãÁΩëÁ´ôÁöÑÂ∫îÁî®ÊñπÈù¢ÔºåÁü•‰πé„ÄÅQQ ÈÇÆÁÆ±ÈÉΩÊúâÁî®Âà∞ CometÔºåËøòÊúâÊñ∞Êµ™ÂæÆÂçöÁöÑÁßÅ‰ø°ÔºàËÅäÂ§©Ôºâ„ÄÇ‰ΩøÁî® Comet ‰∏ªË¶ÅÈúÄË¶ÅÊòØÊúçÂä°Âô®Á´ØÁöÑÊîØÊåÅÔºåÂõ†‰∏∫‰ΩøÁî®ÈïøËøûÊé•ÔºåÊâÄ‰ª•Ë¶ÅÊúâ‰∏ÄÂÆöË¥üËΩΩÈáè‰∏ÄËà¨Âæó‰ΩøÁî®ÂºÇÊ≠•ÁöÑÁΩëÁªúÊ°ÜÊû∂ÔºåPython ÁöÑ tornado„ÄÅgevent Âíå JavaScript ÁöÑ node.js ÈÉΩÊòØÊ≠§Âàó„ÄÇ ‰∏§ÁßçÂÆûÁé∞CometÁöÑÊñπÂºèÔºöÈïøËΩÆËØ¢ÂíåÊµÅ„ÄÇ Ôºà1ÔºâÈïøËΩÆËØ¢ÔºöÈ°µÈù¢ÂèëËµ∑‰∏Ä‰∏™Âà∞ÊúçÂä°Âô®ÁöÑËØ∑Ê±ÇÔºåÁÑ∂ÂêéÊúçÂä°Âô®‰∏ÄÁõ¥‰øùÊåÅËøûÊé•ÊâìÂºÄÔºåÁõ¥Âà∞ÊúâÊï∞ÊçÆÂèØÂèëÈÄÅ„ÄÇÂèëÈÄÅÂÆåÊï∞ÊçÆ‰πãÂêéÔºåÊµèËßàÂô®ÂÖ≥Èó≠ËøûÊé•ÔºåÈöèÂç≥ÂèàÂèëËµ∑‰∏Ä‰∏™Âà∞ÊúçÂä°Âô®ÁöÑÊñ∞ËØ∑Ê±Ç„ÄÇ„ÄêÂå∫Âà´ÔºöÁü≠ËΩÆËØ¢ÔºåÊúçÂä°Âô®Á´ãÂç≥ÂèëÈÄÅÂìçÂ∫îÔºåÊó†ËÆ∫ÊòØÂê¶ÊúâÊïàÔºåËÄåÈïøËΩÆËØ¢ÊòØÁ≠âÂæÖÂèëÈÄÅÂìçÂ∫î„ÄÇ„Äë Ôºà2ÔºâHTTPÊµÅÔºöÁîüÂëΩÂë®ÊúüÂÜÖÂè™‰ΩøÁî®‰∏Ä‰∏™HTTPËøûÊé•„ÄÇÊµèËßàÂô®ÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåËÄåÊúçÂä°Âô®‰øùÊåÅËøûÊé•ÊâìÂºÄÔºåÁÑ∂ÂêéÂë®ÊúüÊÄßÂú∞ÂêëÊµèËßàÂô®ÂèëÈÄÅÊï∞ÊçÆ„ÄÇ /** * progressÔºöÊé•Êî∂Êï∞ÊçÆÊó∂Ë∞ÉÁî®ÁöÑÂáΩÊï∞ * finishedÔºöÂÖ≥Èó≠ËøûÊé•Êó∂Ë∞ÉÁî®ÁöÑÂáΩÊï∞ */ function createStreamingClient(url, progress, finished){ var xhr = new XMLHttpRequest(), received = 0; xhr.open(&quot;get&quot;, url, true); xhr.onreadystatechange = function(){var result; if (xhr.readyState == 3){ //get only the new data and adjust counter result = xhr.responseText.substring(received); received += result.length; //call the progress callback progress(result); } elseif (xhr.readyState == 4){ finished(xhr.responseText); } }; xhr.send(null); return xhr; } var client = createStreamingClient(&quot;streaming.php&quot;,function(data){alert(&quot;Received: &quot; + data);}, function(data){alert(&quot;Done!&quot;);}); ÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºöSSEÂíå‰∫ã‰ª∂ÊµÅ 4. Web SocketsÁõÆÊ†áÊòØÂú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊåÅ‰πÖËøûÊé•‰∏äÊèê‰æõÂÖ®ÂèåÂ∑•„ÄÅÂèåÂêëÈÄö‰ø°„ÄÇ ‰ºòÁÇπÔºöËÉΩÂ§üÂú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÂèëÈÄÅÈùûÂ∏∏Â∞ëÈáèÁöÑÊï∞ÊçÆÔºåËÄå‰∏çÂøÖÊãÖÂøÉHTTPÈÇ£Ê†∑Â≠óËäÇÁ∫ßÁöÑÂºÄÈîÄ„ÄÇ Áº∫ÁÇπÔºöÂà∂ÂÆöÂçèËÆÆÁöÑÊó∂Èó¥ÊØîÂà∂ÂÆöJavaScript APIÁöÑÊó∂Èó¥ËøòË¶ÅÈïø„ÄÇ12345678// ÂøÖÈ°ªÁªôWebSocketÊûÑÈÄ†ÂáΩÊï∞‰º†ÂÖ•ÁªùÂØπURLvar socket = new WebSocket(&quot;ws://www.example.com/server.php&quot;);// ÂêëÊúçÂä°Âô®ÂèëÈÄÅÊï∞ÊçÆÔºàÂè™ËÉΩÂèëÈÄÅÁ∫ØÊñáÊú¨ÔºåÂÖ∂‰ªñÊï∞ÊçÆÈúÄË¶ÅÂ∫èÂàóÂåñÔºâsocket.send(&quot;Hello&quot;);// Êé•Êî∂ÊúçÂä°Âô®ÁöÑÂìçÂ∫îÊï∞ÊçÆsocket.onmessage = function(event) &#123; var data = event.data;&#125;; ÂÖ∂‰ªñ‰∫ã‰ª∂Ôºö openÔºöÂú®ÊàêÂäüÂª∫Á´ãËøûÊé•Êó∂Ëß¶Âèë„ÄÇ errorÔºöÂú®ÂèëÁîüÈîôËØØÊó∂Ëß¶ÂèëÔºåËøûÊé•‰∏çËÉΩÊåÅÁª≠„ÄÇ closeÔºöÂú®ËøûÊé•ÂÖ≥Èó≠Êó∂Ëß¶Âèë„ÄÇ Ê≥®ÊÑèÔºöWebSocketÂØπË±°‰∏çÊîØÊåÅDOM 2Á∫ß‰∫ã‰ª∂‰æ¶Âê¨Âô®ÔºåÂøÖÈ°ª‰ΩøÁî®DOM 0Á∫ßËØ≠Ê≥ïÂàÜÂà´ÂÆö‰πâÂêÑ‰∏™‰∫ã‰ª∂„ÄÇ jQuery.comet.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667jQuery.comet = &#123; fetching: false, settings: &#123;&#125;, url: &apos;&apos;, bound: &#123;&#125;, connect: function(url, options) &#123; jQuery.comet.settings = jQuery.extend(&#123; timeout: 60000, onError: null, requestMethod: &apos;GET&apos;, typeAttr: &apos;type&apos;, dataAttr: &apos;data&apos; &#125;, options); jQuery.comet.url = url; jQuery.comet.fetch(); &#125;, fetch: function() &#123; if (jQuery.comet.fetching) return; jQuery.comet.fetching = true; $.ajax(&#123; type: jQuery.comet.settings.requestMethod, url: jQuery.comet.url, async: true, cache: true, timeout: jQuery.comet.settings.timeout, ifModified: true, success: function(data) &#123; jQuery.comet.fetching = false; jQuery.comet.handle_update(data); setTimeout(jQuery.comet.fetch, 1); &#125;, error: function(XMLHttpRequest, textStatus, errorThrown) &#123; jQuery.comet.fetching = false; if (textStatus == &apos;timeout&apos;) &#123; jQuery.comet.fetch() &#125; else &#123; if (jQuery.comet.settings.onError != null) &#123; jQuery.comet.settings.onError(XMLHttpRequest, textStatus, errorThrown); &#125; setTimeout(jQuery.comet.fetch, 10000); &#125; &#125; &#125;); &#125;, handle_update: function(update) &#123; type = null; data = update; if (update[jQuery.comet.settings.typeAttr]) &#123; type = update[jQuery.comet.settings.typeAttr]; &#125; if (update[jQuery.comet.settings.dataAttr]) &#123; data = update[jQuery.comet.settings.dataAttr]; &#125; jQuery(document).trigger(type + &quot;.comet&quot;, [data, type]); &#125;,&#125;;]]></content>
      <tags>
        <tag>Ajax</tag>
        <tag>Comet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS contentÂ±ûÊÄß]]></title>
    <url>%2F2015%2F04%2F17%2FCSS-content%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[ÂÜôÂú®ÂâçÈù¢cssÂçöÂ§ßÁ≤æÊ∑±ÔºåÂæàÂ§öÂ±ûÊÄßÔºåÂæÄÂæÄÈÉΩÊòØÁúã‰ººÁÜüÊÇâÔºå‰ΩÜÊòØ‰ºº‰πéÂèà‰∏çËÉΩÂ∞ÜÂÖ∂ÁâπÊÄßÂíåÁî®Ê≥ïÂÆåÊï¥Âú∞ËØ¥Âá∫Êù•„ÄÇ contentÂ±ûÊÄßÔºåÁöÑÁ°ÆÊòØÂæàÁúºÁÜüÔºå‰πüËÆ∏ÂæàÂ§öÁ´•ÈûãÂíåÊàë‰∏ÄÊ†∑ÔºåÂíåÂÆÉÂàùÊ¨°ËßÅÈù¢ÔºåÊòØÂú®Ê∏ÖÈô§ÊµÆÂä®ÁöÑÊó∂ÂÄôÔºö .clearfix:after{ content: &quot;.&quot;; display: block; height: 0; clear: both; visibility: hidden } Â¶Ç‰∏äÊâÄÁ§∫Ôºåcontent Â±ûÊÄß‰∏é :before Âèä :after ‰º™ÂÖÉÁ¥†ÈÖçÂêà‰ΩøÁî®ÔºåÂπ∂ÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂÄº„ÄÇ ÁÑ∂ËÄåÔºåÈô§‰∫ÜÂ≠óÁ¨¶‰∏≤‰πãÂ§ñÔºåËøòËÉΩÊé•Âèó‰ªÄ‰πàÊ†∑ÁöÑÂÄºÂë¢Ôºü ÂÆö‰πâÂíåÁî®Ê≥ï content Â±ûÊÄß‰∏é :before Âèä :after ‰º™ÂÖÉÁ¥†ÈÖçÂêà‰ΩøÁî®ÔºåÊù•ÊèíÂÖ•ÁîüÊàêÂÜÖÂÆπ„ÄÇ ËØ•Â±ûÊÄßÁî®‰∫éÂÆö‰πâÂÖÉÁ¥†‰πãÂâçÊàñ‰πãÂêéÊîæÁΩÆÁöÑÁîüÊàêÂÜÖÂÆπ„ÄÇÈªòËÆ§ÊòØË°åÂÜÖÂÜÖÂÆπÔºå‰∏çËøáÂèØ‰ª•Áî®Â±ûÊÄß display ÊéßÂà∂„ÄÇ ÂèØËÉΩÁöÑÂÄºnone„ÄÅnormal„ÄÅinherit„ÄÅstring„ÄÅurl()„ÄÅattr()„ÄÅ[no-]open-quote„ÄÅ[no-]close-quote„ÄÅcounter[s] ÂÖ∂‰∏≠none„ÄÅnormal„ÄÅinheritËøô‰∏â‰∏™ÂíåÂ§ßÂ§öÊï∞Â±ûÊÄßÁ±ª‰ººÔºåÊïÖ‰∏çÂÅö‰ªãÁªç„ÄÇ stringstringÊòØÂ∏∏ËßÅÁöÑÔºå‰∏äÈù¢Ê∏ÖÈô§ÊµÆÂä®ÁöÑ‰æãÂ≠êÔºåÂ∞±ÊòØÂÖ∂‰∏≠‰πã‰∏Ä„ÄÇ url()urlÁöÑÁî®Ê≥ïÔºåÂíåbackgroundÂ±ûÊÄßÊúâÁÇπÁ±ª‰ººÔºåÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™ÂõæÁâáurl„ÄÇ‰∏ç‰∏ÄÊ†∑ÁöÑÊòØÔºåcontentÂ±ûÊÄßÊó†Ê≥ïÊéßÂà∂ÂõæÁâáÁöÑÂ§ßÂ∞è„ÄÇ &lt;div class=&quot;logo&quot;&gt;Google&lt;/div&gt; .logo:before{ content: url(https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png); } attrattrÔºåÈ°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÂ∞ÜcontentÂÜÖÂÆπËÆæÁΩÆ‰∏∫ÂØπÂ∫îÂÖÉÁ¥†ÁöÑÊüê‰∏ÄÂ±ûÊÄß„ÄÇ &lt;p&gt; &lt;span data-text=&apos;Âçä&apos;&gt;Âçä&lt;/span&gt; &lt;span data-text=&apos;Ëæπ&apos;&gt;Ëæπ&lt;/span&gt; &lt;span data-text=&apos;Êïà&apos;&gt;Êïà&lt;/span&gt; &lt;span data-text=&apos;Êûú&apos;&gt;Êûú&lt;/span&gt; &lt;/p&gt; span{ font-size: 100px; font-weight: bold; position: relative; color: #000; } span:before{ content: attr(data-text); color: #F00; position: absolute; left: 0; top: 0; width: 50%; overflow: hidden; } quote ¬∑ ÂºïÂè∑[no-]open-quote„ÄÅ[no-]close-quoteÔºåËøôÂõõ‰∏™ÂÄºÔºåÂ∏∏Áî®‰∫éÁªôÂÖÉÁ¥†ÂâçÂêéÂä†‰∏äÂºïÂè∑ÔºåÈÖçÂêàquotes Â±ûÊÄß‰∏ÄËµ∑‰ΩøÁî®„ÄÇ &lt;p&gt;È≤ÅËøÖÊõæÁªèËØ¥Ëøá: &lt;span&gt;ËÉΩÁî®CSSËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂ∞±‰∏çË¶Å‰ΩøÁî®JS„ÄÇ&lt;span&gt;ÂëµÂëµÔºåË∞ÅËØ¥ÁöÑÔºü&lt;span class=&quot;no-quote&quot;&gt;ÂëµÂëµÔºåË∞ÅËØ¥ÁöÑÔºü&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; span { quotes: &apos;‚Äú&apos;&apos;‚Äù&apos;&apos;‚Äò&apos;&apos;‚Äô&apos;&apos;&quot;&apos;&apos;&quot;&apos;; } span:before { content: open-quote; } span:after { content: close-quote; } .no-quote:after{ content: no-close-quote; } ÂÖ∂‰∏≠ÔºåquotesÂ±ûÊÄßÂÆö‰πâË¶Å‰ΩøÁî®ÁöÑÂºïÂè∑„ÄÇ‰∏§‰∏§‰∏ÄÁªÑÔºåÂâç‰∏§‰∏™ÂÄºËßÑÂÆöÁ¨¨‰∏ÄÁ∫ßÂºïÁî®ÂµåÂ•óÔºåÂêé‰∏§‰∏™ÂÄºËßÑÂÆö‰∏ã‰∏ÄÁ∫ßÂºïÂè∑ÂµåÂ•ó„ÄÇÂ¶ÇÊ≠§Á±ªÊé®„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂè™ÊúâÂΩì‰º™ÂÖÉÁ¥†:beforeËÆæÁΩÆcontentÁöÑÂÄº‰∏∫open-quoteÊâç‰ºöÊúâÊïàÊûú„ÄÇ counter[s] ¬∑ ËÆ°Êï∞Âô®ËøôÊòØ‰∏Ä‰∏™ÂæàÂº∫Â§ßÁöÑ‰∏úË•øÔºå‰∏çÂ¶®ÂÖàÊù•‰ΩìÈ™å‰∏Ä‰∏ãÂÖ∂Âº∫Â§ßÁöÑÂäõÈáèÔºå1234567891011&lt;strong&gt;ËØ∑ÈÄâÊã©‰Ω†ÊâÄ‰ΩøÁî®ÁöÑÊäÄÊúØÔºö&lt;/strong&gt;&lt;ol&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item1&quot;&gt;&lt;label for=&quot;item1&quot;&gt;PHP&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item2&quot;&gt;&lt;label for=&quot;item2&quot;&gt;Javascript&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item3&quot;&gt;&lt;label for=&quot;item3&quot;&gt;Java&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item4&quot;&gt;&lt;label for=&quot;item4&quot;&gt;HTML&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item5&quot;&gt;&lt;label for=&quot;item5&quot;&gt;CSS&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item6&quot;&gt;&lt;label for=&quot;item6&quot;&gt;nodejs&lt;/label&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=&quot;checkbox&quot; id=&quot;item7&quot;&gt;&lt;label for=&quot;item7&quot;&gt;go&lt;/label&gt;&lt;/li&gt;&lt;/ol&gt;ÊÄªÂÖ±ÈÄâÊã©‰∫Ü &lt;strong class=&quot;total&quot;&gt;&lt;/strong&gt; È°πÔºÅ 1234567891011ol&#123; counter-reset: n;&#125;input:checked &#123; counter-increment: n;&#125;.total:after &#123; content: counter(n);&#125; ‰∏éÂÖ∂Êê≠ÈÖç‰ΩøÁî®ÁöÑÔºåËøòÊúâcounter-reset„ÄÅcounter-increment‰∏§‰∏™Â±ûÊÄß„ÄÇ counter-resetÁî®Êù•Ê†áËØÜËÆ°Êï∞Âô®ÁöÑ‰ΩúÁî®ÂüüÔºåÂÄºÂåÖÊã¨‰∏§ÈÉ®ÂàÜÔºöÁ¨¨‰∏ÄÈÉ®ÂàÜ‰∏∫ËÆ°Êï∞Âô®ÁöÑÂêçÂ≠óÔºõÁ¨¨‰∫åÈÉ®ÂàÜ‰∏∫ËÆ°Êï∞Âô®ÁöÑËµ∑ÂßãÂÄºÔºåÈªòËÆ§‰∏∫0„ÄÇÊ≠§Â§ñÔºåcounter-resetËøòÂèØ‰ª•ÂêåÊó∂Â£∞ÊòéÂ§ö‰∏™ËÆ°Êï∞Âô® counter-reset: n 0 counter-reset: n 2 counter-reset: n 0 m 0 p 0 counter-incrementÁî®Êù•Ë°®ÊòéËÆ°Êï∞Âô®ÂÆûÈôÖÁî®Âà∞ÁöÑËåÉÂõ¥ÔºåÂÄºÂåÖÊã¨‰∏§ÈÉ®ÂàÜÔºöÁ¨¨‰∏ÄÈÉ®ÂàÜ‰∏∫ËÆ°Êï∞Âô®ÁöÑÂêçÂ≠óÔºõÁ¨¨‰∫åÈÉ®ÂàÜ‰∏∫ËÆ°Êï∞Âô®ÁöÑÈÄíÂ¢ûÁöÑÂÄºÔºåÈªòËÆ§‰∏∫1„ÄÇÂ¶ÇÔºö counter-increment: n 2 counter-increment: n -1 /*ÈÄíÂáè*/ ÈÇ£counterÂíåcountersÊúâ‰ªÄ‰πà‰∏ç‰∏ÄÊ†∑Âë¢Ôºü counter()counterÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞„ÄÇÁ¨¨‰∏Ä‰∏™ÊòØËÆ°Êï∞Âô®ÁöÑÂêçÂ≠óÔºåÂøÖÂ°´ÔºõÁ¨¨‰∫å‰∏™ÊòØËÆ°Êï∞Âô®ÁöÑÊ†∑ÂºèÔºå‰πüÂ∞±ÊòØlist-style-typeÔºåÂÖ∂ÊîØÊåÅÁöÑÂÖ≥ÈîÆÂ≠óÂÄºÔºåÂ∞±ÊòØlist-style-typeÊîØÊåÅÁöÑÈÇ£‰∫õÂÄºÔºåÊØîÂ¶Çdisc | circle | square‰πãÁ±ªÁ≠âÁ≠â„ÄÇ content: counter(n) content: counter(m, circle) counters()countersÊñπÊ≥ï‰∏ªË¶ÅÁî®‰∫éÂµåÂ•óËÆ°Êï∞ÔºåÂèØ‰ª•Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞„ÄÇÁ¨¨‰∏Ä‰∏™ÊòØËÆ°Êï∞Âô®ÁöÑÂêçÂ≠óÔºåÂøÖÂ°´ÔºõÁ¨¨‰∫å‰∏™ÊòØÂ≠óÁ¨¶‰∏≤ÔºåÁî®‰∫éÂµåÂ•óËÆ°Êï∞ÁöÑÂàÜÈöîÁ¨¶ÔºåÂ¶Ç1.1‰∏≠ÁöÑ‚Äú.‚ÄùÔºõÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÊòØËÆ°Êï∞Âô®ÁöÑÊ†∑ÂºèÔºå‰∏écounter‰∏ÄÊ†∑„ÄÇÂÖ∂‰∏≠ÔºåÂâç‰∏§‰∏™ÂèÇÊï∞‰∏∫ÂøÖÂ°´ content: counters(n, &apos;-&apos;); ËØ¥‰∫ÜËøô‰πàÂ§öÔºåËøòÊòØ12345678910111213141516171819202122&lt;ul&gt; &lt;li&gt;none&lt;/li&gt; &lt;li&gt;normal&lt;/li&gt; &lt;li&gt;inherit&lt;/li&gt; &lt;li&gt;string&lt;/li&gt; &lt;li&gt;url&lt;/li&gt; &lt;li&gt;attr&lt;/li&gt; &lt;li&gt;quote &lt;ul&gt; &lt;li&gt;open-quote&lt;/li&gt; &lt;li&gt;close-quote&lt;/li&gt; &lt;li&gt;no-open-quote&lt;/li&gt; &lt;li&gt;no-close-quote&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt;counter[s] &lt;ul&gt; &lt;li&gt;counter&lt;/li&gt; &lt;li&gt;counters&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt; 12345678910ul&#123; counter-reset: n;&#125;li&#123; list-style-type: none; counter-increment: n;&#125;li:before&#123; content: counters(n, &apos;-&apos;) &apos;.&apos;;&#125; tipsÈÇ£ÂÖ∑‰ΩìÊÄé‰πàÁî®Âë¢ÔºåÁªôÂ§ßÂÆ∂‰∏æ‰∏™Ê†óÂ≠êÔºåÂâçÊÆµÊó∂Èó¥ÂàöÂ•ΩÁî®Âà∞ÁöÑÔºåÁªôÊåâÈíÆÂÆûÁé∞ÊèêÁ§∫ÂäüËÉΩÔºåÂ∞±ÊòØÈº†Ê†áÊîæ‰∏äÂéªÂêéÔºåÂá∫Êù•‰∏™Â∞èÊèêÁ§∫Ôºö123&lt;div class=&quot;wrap&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;btn&quot; data-tip=&quot;ÁÇπÂáª‰ΩúÁ≠î&quot;&gt;‰∏Ä‰∏™ÊåâÈíÆ&lt;/a&gt;&lt;/div&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445.btn &#123; display: inline-block; padding: 5px 20px; border-radius: 4px; background-color: #6495ed; color: #fff; font-size: 14px; text-decoration: none; text-align: center; position: relative;&#125;.btn::before &#123; content: attr(data-tip); width: 80px; padding: 5px 10px; border-radius: 4px; background-color: #000; color: #ccc; position: absolute; top: -30px; left: 50%; transform: translate(-50%); text-align: center; opacity: 0; transition: all .3s;&#125;.btn::after &#123; content: &apos;&apos;; border: 8px solid transparent; border-top: 8px solid #000; position: absolute; top: -3px; left: 50%; transform: translate(-50%); opacity: 0; transition: all .3s;&#125;.btn:hover::before &#123; top: -40px; opacity: 1;&#125;.btn:hover::after &#123; top: -13px; opacity: 1;&#125; ÂΩìÁÑ∂attr()ËøòÂèØ‰ª•Ëé∑ÂèñÊõ¥Â§öÁöÑÂÖ∂‰ªñÂ±ûÊÄßÔºåÊØîÂ¶ÇaÊ†áÁ≠æÈáåÁöÑhrefÂ±ûÊÄßÁ≠âÔºåÊõ¥Â§öÁöÑÁî®Ê≥ïÂ§ßÂÆ∂Ëá™Ë°åÂ∞ùËØïÂêß„ÄÇ]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂçÅÂ§ßÁªèÂÖ∏ÊéíÂ∫èÁÆóÊ≥ï]]></title>
    <url>%2F2015%2F01%2F02%2F%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÁÆóÊ≥ïÊ¶ÇËø∞ÁÆóÊ≥ïÂàÜÁ±ªÂçÅÁßçÂ∏∏ËßÅÊéíÂ∫èÁÆóÊ≥ïÂèØ‰ª•ÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºö ÈùûÁ∫øÊÄßÊó∂Èó¥ÊØîËæÉÁ±ªÊéíÂ∫èÔºöÈÄöËøáÊØîËæÉÊù•ÂÜ≥ÂÆöÂÖÉÁ¥†Èó¥ÁöÑÁõ∏ÂØπÊ¨°Â∫èÔºåÁî±‰∫éÂÖ∂Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏çËÉΩÁ™ÅÁ†¥O(nlogn)ÔºåÂõ†Ê≠§Áß∞‰∏∫ÈùûÁ∫øÊÄßÊó∂Èó¥ÊØîËæÉÁ±ªÊéíÂ∫è„ÄÇÁ∫øÊÄßÊó∂Èó¥ÈùûÊØîËæÉÁ±ªÊéíÂ∫èÔºö‰∏çÈÄöËøáÊØîËæÉÊù•ÂÜ≥ÂÆöÂÖÉÁ¥†Èó¥ÁöÑÁõ∏ÂØπÊ¨°Â∫èÔºåÂÆÉÂèØ‰ª•Á™ÅÁ†¥Âü∫‰∫éÊØîËæÉÊéíÂ∫èÁöÑÊó∂Èó¥‰∏ãÁïåÔºå‰ª•Á∫øÊÄßÊó∂Èó¥ËøêË°åÔºåÂõ†Ê≠§Áß∞‰∏∫Á∫øÊÄßÊó∂Èó¥ÈùûÊØîËæÉÁ±ªÊéíÂ∫è„ÄÇ ÁÆóÊ≥ïÂ§çÊùÇÂ∫¶ Áõ∏ÂÖ≥Ê¶ÇÂøµ Á®≥ÂÆöÔºöÂ¶ÇÊûúaÂéüÊú¨Âú®bÂâçÈù¢ÔºåËÄåa=bÔºåÊéíÂ∫è‰πãÂêéa‰ªçÁÑ∂Âú®bÁöÑÂâçÈù¢„ÄÇ‰∏çÁ®≥ÂÆöÔºöÂ¶ÇÊûúaÂéüÊú¨Âú®bÁöÑÂâçÈù¢ÔºåËÄåa=bÔºåÊéíÂ∫è‰πãÂêé a ÂèØËÉΩ‰ºöÂá∫Áé∞Âú® b ÁöÑÂêéÈù¢„ÄÇÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºöÂØπÊéíÂ∫èÊï∞ÊçÆÁöÑÊÄªÁöÑÊìç‰ΩúÊ¨°Êï∞„ÄÇÂèçÊò†ÂΩìnÂèòÂåñÊó∂ÔºåÊìç‰ΩúÊ¨°Êï∞ÂëàÁé∞‰ªÄ‰πàËßÑÂæã„ÄÇÁ©∫Èó¥Â§çÊùÇÂ∫¶ÔºöÊòØÊåáÁÆóÊ≥ïÂú®ËÆ°ÁÆóÊú∫ÂÜÖÊâßË°åÊó∂ÊâÄÈúÄÂ≠òÂÇ®Á©∫Èó¥ÁöÑÂ∫¶ÈáèÔºåÂÆÉ‰πüÊòØÊï∞ÊçÆËßÑÊ®°nÁöÑÂáΩÊï∞„ÄÇ 1„ÄÅÂÜíÊ≥°ÊéíÂ∫èÔºàBubble SortÔºâÂÜíÊ≥°ÊéíÂ∫èÊòØ‰∏ÄÁßçÁÆÄÂçïÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂÆÉÈáçÂ§çÂú∞Ëµ∞ËÆøËøáË¶ÅÊéíÂ∫èÁöÑÊï∞ÂàóÔºå‰∏ÄÊ¨°ÊØîËæÉ‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÂÆÉ‰ª¨ÁöÑÈ°∫Â∫èÈîôËØØÂ∞±ÊääÂÆÉ‰ª¨‰∫§Êç¢ËøáÊù•„ÄÇËµ∞ËÆøÊï∞ÂàóÁöÑÂ∑•‰ΩúÊòØÈáçÂ§çÂú∞ËøõË°åÁõ¥Âà∞Ê≤°ÊúâÂÜçÈúÄË¶Å‰∫§Êç¢Ôºå‰πüÂ∞±ÊòØËØ¥ËØ•Êï∞ÂàóÂ∑≤ÁªèÊéíÂ∫èÂÆåÊàê„ÄÇËøô‰∏™ÁÆóÊ≥ïÁöÑÂêçÂ≠óÁî±Êù•ÊòØÂõ†‰∏∫Ë∂äÂ∞èÁöÑÂÖÉÁ¥†‰ºöÁªèÁî±‰∫§Êç¢ÊÖ¢ÊÖ¢‚ÄúÊµÆ‚ÄùÂà∞Êï∞ÂàóÁöÑÈ°∂Á´Ø„ÄÇ 1.1 ÁÆóÊ≥ïÊèèËø∞ ÊØîËæÉÁõ∏ÈÇªÁöÑÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÊØîÁ¨¨‰∫å‰∏™Â§ßÔºåÂ∞±‰∫§Êç¢ÂÆÉ‰ª¨‰∏§‰∏™Ôºõ ÂØπÊØè‰∏ÄÂØπÁõ∏ÈÇªÂÖÉÁ¥†‰ΩúÂêåÊ†∑ÁöÑÂ∑•‰ΩúÔºå‰ªéÂºÄÂßãÁ¨¨‰∏ÄÂØπÂà∞ÁªìÂ∞æÁöÑÊúÄÂêé‰∏ÄÂØπÔºåËøôÊ†∑Âú®ÊúÄÂêéÁöÑÂÖÉÁ¥†Â∫îËØ•‰ºöÊòØÊúÄÂ§ßÁöÑÊï∞Ôºõ ÈíàÂØπÊâÄÊúâÁöÑÂÖÉÁ¥†ÈáçÂ§ç‰ª•‰∏äÁöÑÊ≠•È™§ÔºåÈô§‰∫ÜÊúÄÂêé‰∏Ä‰∏™Ôºõ ÈáçÂ§çÊ≠•È™§1~3ÔºåÁõ¥Âà∞ÊéíÂ∫èÂÆåÊàê„ÄÇ 1.2 Âä®ÂõæÊºîÁ§∫ 1.3 ‰ª£Á†ÅÂÆûÁé∞12345678910111213function bubbleSort(arr) &#123; var len = arr.length; for (var i = 0; i &lt; len - 1; i++) &#123; for (var j = 0; j &lt; len - 1 - i; j++) &#123; if (arr[j] &gt; arr[j+1]) &#123; // Áõ∏ÈÇªÂÖÉÁ¥†‰∏§‰∏§ÂØπÊØî var temp = arr[j+1]; // ÂÖÉÁ¥†‰∫§Êç¢ arr[j+1] = arr[j]; arr[j] = temp; &#125; &#125; &#125; return arr;&#125; 2„ÄÅÈÄâÊã©ÊéíÂ∫èÔºàSelection SortÔºâÈÄâÊã©ÊéíÂ∫è(Selection-sort)ÊòØ‰∏ÄÁßçÁÆÄÂçïÁõ¥ËßÇÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂÆÉÁöÑÂ∑•‰ΩúÂéüÁêÜÔºöÈ¶ñÂÖàÂú®Êú™ÊéíÂ∫èÂ∫èÂàó‰∏≠ÊâæÂà∞ÊúÄÂ∞èÔºàÂ§ßÔºâÂÖÉÁ¥†ÔºåÂ≠òÊîæÂà∞ÊéíÂ∫èÂ∫èÂàóÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÁÑ∂ÂêéÔºåÂÜç‰ªéÂâ©‰ΩôÊú™ÊéíÂ∫èÂÖÉÁ¥†‰∏≠ÁªßÁª≠ÂØªÊâæÊúÄÂ∞èÔºàÂ§ßÔºâÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÊîæÂà∞Â∑≤ÊéíÂ∫èÂ∫èÂàóÁöÑÊú´Â∞æ„ÄÇ‰ª•Ê≠§Á±ªÊé®ÔºåÁõ¥Âà∞ÊâÄÊúâÂÖÉÁ¥†ÂùáÊéíÂ∫èÂÆåÊØï„ÄÇ 2.1 ÁÆóÊ≥ïÊèèËø∞n‰∏™ËÆ∞ÂΩïÁöÑÁõ¥Êé•ÈÄâÊã©ÊéíÂ∫èÂèØÁªèËøán-1Ë∂üÁõ¥Êé•ÈÄâÊã©ÊéíÂ∫èÂæóÂà∞ÊúâÂ∫èÁªìÊûú„ÄÇÂÖ∑‰ΩìÁÆóÊ≥ïÊèèËø∞Â¶Ç‰∏ãÔºö ÂàùÂßãÁä∂ÊÄÅÔºöÊó†Â∫èÂå∫‰∏∫R[1..n]ÔºåÊúâÂ∫èÂå∫‰∏∫Á©∫Ôºõ Á¨¨iË∂üÊéíÂ∫è(i=1,2,3‚Ä¶n-1)ÂºÄÂßãÊó∂ÔºåÂΩìÂâçÊúâÂ∫èÂå∫ÂíåÊó†Â∫èÂå∫ÂàÜÂà´‰∏∫R[1..i-1]ÂíåR(i..nÔºâ„ÄÇËØ•Ë∂üÊéíÂ∫è‰ªéÂΩìÂâçÊó†Â∫èÂå∫‰∏≠-ÈÄâÂá∫ÂÖ≥ÈîÆÂ≠óÊúÄÂ∞èÁöÑËÆ∞ÂΩï R[k]ÔºåÂ∞ÜÂÆÉ‰∏éÊó†Â∫èÂå∫ÁöÑÁ¨¨1‰∏™ËÆ∞ÂΩïR‰∫§Êç¢Ôºå‰ΩøR[1..i]ÂíåR[i+1..n)ÂàÜÂà´Âèò‰∏∫ËÆ∞ÂΩï‰∏™Êï∞Â¢ûÂä†1‰∏™ÁöÑÊñ∞ÊúâÂ∫èÂå∫ÂíåËÆ∞ÂΩï‰∏™Êï∞ÂáèÂ∞ë1‰∏™ÁöÑÊñ∞Êó†Â∫èÂå∫Ôºõ n-1Ë∂üÁªìÊùüÔºåÊï∞ÁªÑÊúâÂ∫èÂåñ‰∫Ü„ÄÇ 2.2 Âä®ÂõæÊºîÁ§∫ 2.3 ‰ª£Á†ÅÂÆûÁé∞12345678910111213141516function selectionSort(arr) &#123; var len = arr.length; var minIndex, temp; for (var i = 0; i &lt; len - 1; i++) &#123; minIndex = i; for (var j = i + 1; j &lt; len; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; // ÂØªÊâæÊúÄÂ∞èÁöÑÊï∞ minIndex = j; // Â∞ÜÊúÄÂ∞èÊï∞ÁöÑÁ¥¢Âºï‰øùÂ≠ò &#125; &#125; temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; &#125; return arr;&#125; 2.4 ÁÆóÊ≥ïÂàÜÊûêË°®Áé∞ÊúÄÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ï‰πã‰∏ÄÔºåÂõ†‰∏∫Êó†ËÆ∫‰ªÄ‰πàÊï∞ÊçÆËøõÂéªÈÉΩÊòØO(n2)ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÊâÄ‰ª•Áî®Âà∞ÂÆÉÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆËßÑÊ®°Ë∂äÂ∞èË∂äÂ•Ω„ÄÇÂîØ‰∏ÄÁöÑÂ•ΩÂ§ÑÂèØËÉΩÂ∞±ÊòØ‰∏çÂç†Áî®È¢ùÂ§ñÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰∫ÜÂêß„ÄÇÁêÜËÆ∫‰∏äËÆ≤ÔºåÈÄâÊã©ÊéíÂ∫èÂèØËÉΩ‰πüÊòØÂπ≥Êó∂ÊéíÂ∫è‰∏ÄËà¨‰∫∫ÊÉ≥Âà∞ÁöÑÊúÄÂ§öÁöÑÊéíÂ∫èÊñπÊ≥ï‰∫ÜÂêß„ÄÇ 3„ÄÅÊèíÂÖ•ÊéíÂ∫èÔºàInsertion SortÔºâÊèíÂÖ•ÊéíÂ∫èÔºàInsertion-SortÔºâÁöÑÁÆóÊ≥ïÊèèËø∞ÊòØ‰∏ÄÁßçÁÆÄÂçïÁõ¥ËßÇÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂÆÉÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØÈÄöËøáÊûÑÂª∫ÊúâÂ∫èÂ∫èÂàóÔºåÂØπ‰∫éÊú™ÊéíÂ∫èÊï∞ÊçÆÔºåÂú®Â∑≤ÊéíÂ∫èÂ∫èÂàó‰∏≠‰ªéÂêéÂêëÂâçÊâ´ÊèèÔºåÊâæÂà∞Áõ∏Â∫î‰ΩçÁΩÆÂπ∂ÊèíÂÖ•„ÄÇ 3.1 ÁÆóÊ≥ïÊèèËø∞‰∏ÄËà¨Êù•ËØ¥ÔºåÊèíÂÖ•ÊéíÂ∫èÈÉΩÈááÁî®in-placeÂú®Êï∞ÁªÑ‰∏äÂÆûÁé∞„ÄÇÂÖ∑‰ΩìÁÆóÊ≥ïÊèèËø∞Â¶Ç‰∏ãÔºö ‰ªéÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂºÄÂßãÔºåËØ•ÂÖÉÁ¥†ÂèØ‰ª•ËÆ§‰∏∫Â∑≤ÁªèË¢´ÊéíÂ∫èÔºõ ÂèñÂá∫‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂú®Â∑≤ÁªèÊéíÂ∫èÁöÑÂÖÉÁ¥†Â∫èÂàó‰∏≠‰ªéÂêéÂêëÂâçÊâ´ÊèèÔºõ Â¶ÇÊûúËØ•ÂÖÉÁ¥†ÔºàÂ∑≤ÊéíÂ∫èÔºâÂ§ß‰∫éÊñ∞ÂÖÉÁ¥†ÔºåÂ∞ÜËØ•ÂÖÉÁ¥†ÁßªÂà∞‰∏ã‰∏Ä‰ΩçÁΩÆÔºõ ÈáçÂ§çÊ≠•È™§3ÔºåÁõ¥Âà∞ÊâæÂà∞Â∑≤ÊéíÂ∫èÁöÑÂÖÉÁ¥†Â∞è‰∫éÊàñËÄÖÁ≠â‰∫éÊñ∞ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÔºõ Â∞ÜÊñ∞ÂÖÉÁ¥†ÊèíÂÖ•Âà∞ËØ•‰ΩçÁΩÆÂêéÔºõ ÈáçÂ§çÊ≠•È™§2~5„ÄÇ 3.2 Âä®ÂõæÊºîÁ§∫ 3.2 ‰ª£Á†ÅÂÆûÁé∞1234567891011121314function insertionSort(arr) &#123; var len = arr.length; var preIndex, current; for (var i = 1; i &lt; len; i++) &#123; preIndex = i - 1; current = arr[i]; while (preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123; arr[preIndex + 1] = arr[preIndex]; preIndex--; &#125; arr[preIndex + 1] = current; &#125; return arr;&#125; 3.4 ÁÆóÊ≥ïÂàÜÊûêÊèíÂÖ•ÊéíÂ∫èÂú®ÂÆûÁé∞‰∏äÔºåÈÄöÂ∏∏ÈááÁî®in-placeÊéíÂ∫èÔºàÂç≥Âè™ÈúÄÁî®Âà∞O(1)ÁöÑÈ¢ùÂ§ñÁ©∫Èó¥ÁöÑÊéíÂ∫èÔºâÔºåÂõ†ËÄåÂú®‰ªéÂêéÂêëÂâçÊâ´ÊèèËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÂèçÂ§çÊääÂ∑≤ÊéíÂ∫èÂÖÉÁ¥†ÈÄêÊ≠•ÂêëÂêéÊå™‰ΩçÔºå‰∏∫ÊúÄÊñ∞ÂÖÉÁ¥†Êèê‰æõÊèíÂÖ•Á©∫Èó¥„ÄÇ 4„ÄÅÂ∏åÂ∞îÊéíÂ∫èÔºàShell SortÔºâ1959Âπ¥ShellÂèëÊòéÔºåÁ¨¨‰∏Ä‰∏™Á™ÅÁ†¥O(n2)ÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºåÊòØÁÆÄÂçïÊèíÂÖ•ÊéíÂ∫èÁöÑÊîπËøõÁâà„ÄÇÂÆÉ‰∏éÊèíÂÖ•ÊéíÂ∫èÁöÑ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåÂÆÉ‰ºö‰ºòÂÖàÊØîËæÉË∑ùÁ¶ªËæÉËøúÁöÑÂÖÉÁ¥†„ÄÇÂ∏åÂ∞îÊéíÂ∫èÂèàÂè´Áº©Â∞èÂ¢ûÈáèÊéíÂ∫è„ÄÇ 4.1 ÁÆóÊ≥ïÊèèËø∞ÂÖàÂ∞ÜÊï¥‰∏™ÂæÖÊéíÂ∫èÁöÑËÆ∞ÂΩïÂ∫èÂàóÂàÜÂâ≤Êàê‰∏∫Ëã•Âπ≤Â≠êÂ∫èÂàóÂàÜÂà´ËøõË°åÁõ¥Êé•ÊèíÂÖ•ÊéíÂ∫èÔºåÂÖ∑‰ΩìÁÆóÊ≥ïÊèèËø∞Ôºö ÈÄâÊã©‰∏Ä‰∏™Â¢ûÈáèÂ∫èÂàót1Ôºåt2Ôºå‚Ä¶ÔºåtkÔºåÂÖ∂‰∏≠ti&gt;tjÔºåtk=1Ôºõ ÊåâÂ¢ûÈáèÂ∫èÂàó‰∏™Êï∞kÔºåÂØπÂ∫èÂàóËøõË°åk Ë∂üÊéíÂ∫èÔºõ ÊØèË∂üÊéíÂ∫èÔºåÊ†πÊçÆÂØπÂ∫îÁöÑÂ¢ûÈáètiÔºåÂ∞ÜÂæÖÊéíÂ∫èÂàóÂàÜÂâ≤ÊàêËã•Âπ≤ÈïøÂ∫¶‰∏∫m ÁöÑÂ≠êÂ∫èÂàóÔºåÂàÜÂà´ÂØπÂêÑÂ≠êË°®ËøõË°åÁõ¥Êé•ÊèíÂÖ•ÊéíÂ∫è„ÄÇ‰ªÖÂ¢ûÈáèÂõ†Â≠ê‰∏∫1 Êó∂ÔºåÊï¥‰∏™Â∫èÂàó‰Ωú‰∏∫‰∏Ä‰∏™Ë°®Êù•Â§ÑÁêÜÔºåË°®ÈïøÂ∫¶Âç≥‰∏∫Êï¥‰∏™Â∫èÂàóÁöÑÈïøÂ∫¶„ÄÇ 4.2 Âä®ÂõæÊºîÁ§∫ 4.3 ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718function shellSort(arr) &#123; var len = arr.length, temp, gap = 1; while (gap &lt; len / 3) &#123; // Âä®ÊÄÅÂÆö‰πâÈó¥ÈöîÂ∫èÂàó gap = gap * 3 + 1; &#125; for (gap; gap &gt; 0; gap = Math.floor(gap / 3)) &#123; for (var i = gap; i &lt; len; i++) &#123; temp = arr[i]; for (var j = i-gap; j &gt; 0 &amp;&amp; arr[j]&gt; temp; j-=gap) &#123; arr[j + gap] = arr[j]; &#125; arr[j + gap] = temp; &#125; &#125; return arr;&#125; 4.4 ÁÆóÊ≥ïÂàÜÊûêÂ∏åÂ∞îÊéíÂ∫èÁöÑÊ†∏ÂøÉÂú®‰∫éÈó¥ÈöîÂ∫èÂàóÁöÑËÆæÂÆö„ÄÇÊó¢ÂèØ‰ª•ÊèêÂâçËÆæÂÆöÂ•ΩÈó¥ÈöîÂ∫èÂàóÔºå‰πüÂèØ‰ª•Âä®ÊÄÅÁöÑÂÆö‰πâÈó¥ÈöîÂ∫èÂàó„ÄÇÂä®ÊÄÅÂÆö‰πâÈó¥ÈöîÂ∫èÂàóÁöÑÁÆóÊ≥ïÊòØ„ÄäÁÆóÊ≥ïÔºàÁ¨¨4ÁâàÔºâ„ÄãÁöÑÂêàËëóËÄÖRobert SedgewickÊèêÂá∫ÁöÑ„ÄÇ 5„ÄÅÂΩíÂπ∂ÊéíÂ∫èÔºàMerge SortÔºâÂΩíÂπ∂ÊéíÂ∫èÊòØÂª∫Á´ãÂú®ÂΩíÂπ∂Êìç‰Ωú‰∏äÁöÑ‰∏ÄÁßçÊúâÊïàÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇËØ•ÁÆóÊ≥ïÊòØÈááÁî®ÂàÜÊ≤ªÊ≥ïÔºàDivide and ConquerÔºâÁöÑ‰∏Ä‰∏™ÈùûÂ∏∏ÂÖ∏ÂûãÁöÑÂ∫îÁî®„ÄÇÂ∞ÜÂ∑≤ÊúâÂ∫èÁöÑÂ≠êÂ∫èÂàóÂêàÂπ∂ÔºåÂæóÂà∞ÂÆåÂÖ®ÊúâÂ∫èÁöÑÂ∫èÂàóÔºõÂç≥ÂÖà‰ΩøÊØè‰∏™Â≠êÂ∫èÂàóÊúâÂ∫èÔºåÂÜç‰ΩøÂ≠êÂ∫èÂàóÊÆµÈó¥ÊúâÂ∫è„ÄÇËã•Â∞Ü‰∏§‰∏™ÊúâÂ∫èË°®ÂêàÂπ∂Êàê‰∏Ä‰∏™ÊúâÂ∫èË°®ÔºåÁß∞‰∏∫2-Ë∑ØÂΩíÂπ∂„ÄÇ 5.1 ÁÆóÊ≥ïÊèèËø∞ ÊääÈïøÂ∫¶‰∏∫nÁöÑËæìÂÖ•Â∫èÂàóÂàÜÊàê‰∏§‰∏™ÈïøÂ∫¶‰∏∫n/2ÁöÑÂ≠êÂ∫èÂàóÔºõ ÂØπËøô‰∏§‰∏™Â≠êÂ∫èÂàóÂàÜÂà´ÈááÁî®ÂΩíÂπ∂ÊéíÂ∫èÔºõ Â∞Ü‰∏§‰∏™ÊéíÂ∫èÂ•ΩÁöÑÂ≠êÂ∫èÂàóÂêàÂπ∂Êàê‰∏Ä‰∏™ÊúÄÁªàÁöÑÊéíÂ∫èÂ∫èÂàó„ÄÇ 5.2 Âä®ÂõæÊºîÁ§∫ 5.3 ‰ª£Á†ÅÂÆûÁé∞123456789101112131415161718192021222324252627282930function mergeSort(arr) &#123; // ÈááÁî®Ëá™‰∏äËÄå‰∏ãÁöÑÈÄíÂΩíÊñπÊ≥ï var len = arr.length; if (len &lt; 2) &#123; return arr; &#125; var middle = Math.floor(len / 2), left = arr.slice(0, middle), right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right));&#125; function merge(left, right) &#123; var result = []; while (left.length&gt;0 &amp;&amp; right.length&gt;0) &#123; if (left[0] &lt;= right[0]) &#123; result.push(left.shift()); &#125; else &#123; result.push(right.shift()); &#125; &#125; while (left.length) result.push(left.shift()); while (right.length) result.push(right.shift()); return result;&#125; 5.4 ÁÆóÊ≥ïÂàÜÊûêÂΩíÂπ∂ÊéíÂ∫èÊòØ‰∏ÄÁßçÁ®≥ÂÆöÁöÑÊéíÂ∫èÊñπÊ≥ï„ÄÇÂíåÈÄâÊã©ÊéíÂ∫è‰∏ÄÊ†∑ÔºåÂΩíÂπ∂ÊéíÂ∫èÁöÑÊÄßËÉΩ‰∏çÂèóËæìÂÖ•Êï∞ÊçÆÁöÑÂΩ±ÂìçÔºå‰ΩÜË°®Áé∞ÊØîÈÄâÊã©ÊéíÂ∫èÂ•ΩÁöÑÂ§öÔºåÂõ†‰∏∫ÂßãÁªàÈÉΩÊòØO(nlognÔºâÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ‰ª£‰ª∑ÊòØÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ 6„ÄÅÂø´ÈÄüÊéíÂ∫èÔºàQuick SortÔºâÂø´ÈÄüÊéíÂ∫èÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÔºöÈÄöËøá‰∏ÄË∂üÊéíÂ∫èÂ∞ÜÂæÖÊéíËÆ∞ÂΩïÂàÜÈöîÊàêÁã¨Á´ãÁöÑ‰∏§ÈÉ®ÂàÜÔºåÂÖ∂‰∏≠‰∏ÄÈÉ®ÂàÜËÆ∞ÂΩïÁöÑÂÖ≥ÈîÆÂ≠óÂùáÊØîÂè¶‰∏ÄÈÉ®ÂàÜÁöÑÂÖ≥ÈîÆÂ≠óÂ∞èÔºåÂàôÂèØÂàÜÂà´ÂØπËøô‰∏§ÈÉ®ÂàÜËÆ∞ÂΩïÁªßÁª≠ËøõË°åÊéíÂ∫èÔºå‰ª•ËææÂà∞Êï¥‰∏™Â∫èÂàóÊúâÂ∫è„ÄÇ 6.1 ÁÆóÊ≥ïÊèèËø∞Âø´ÈÄüÊéíÂ∫è‰ΩøÁî®ÂàÜÊ≤ªÊ≥ïÊù•Êää‰∏Ä‰∏™‰∏≤ÔºàlistÔºâÂàÜ‰∏∫‰∏§‰∏™Â≠ê‰∏≤Ôºàsub-listsÔºâ„ÄÇÂÖ∑‰ΩìÁÆóÊ≥ïÊèèËø∞Â¶Ç‰∏ãÔºö ‰ªéÊï∞Âàó‰∏≠ÊåëÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÁß∞‰∏∫ ‚ÄúÂü∫ÂáÜ‚ÄùÔºàpivotÔºâÔºõ ÈáçÊñ∞ÊéíÂ∫èÊï∞ÂàóÔºåÊâÄÊúâÂÖÉÁ¥†ÊØîÂü∫ÂáÜÂÄºÂ∞èÁöÑÊëÜÊîæÂú®Âü∫ÂáÜÂâçÈù¢ÔºåÊâÄÊúâÂÖÉÁ¥†ÊØîÂü∫ÂáÜÂÄºÂ§ßÁöÑÊëÜÂú®Âü∫ÂáÜÁöÑÂêéÈù¢ÔºàÁõ∏ÂêåÁöÑÊï∞ÂèØ‰ª•Âà∞‰ªª‰∏ÄËæπÔºâ„ÄÇÂú®Ëøô‰∏™ÂàÜÂå∫ÈÄÄÂá∫‰πãÂêéÔºåËØ•Âü∫ÂáÜÂ∞±Â§Ñ‰∫éÊï∞ÂàóÁöÑ‰∏≠Èó¥‰ΩçÁΩÆ„ÄÇËøô‰∏™Áß∞‰∏∫ÂàÜÂå∫ÔºàpartitionÔºâÊìç‰ΩúÔºõ ÈÄíÂΩíÂú∞ÔºàrecursiveÔºâÊääÂ∞è‰∫éÂü∫ÂáÜÂÄºÂÖÉÁ¥†ÁöÑÂ≠êÊï∞ÂàóÂíåÂ§ß‰∫éÂü∫ÂáÜÂÄºÂÖÉÁ¥†ÁöÑÂ≠êÊï∞ÂàóÊéíÂ∫è„ÄÇ 6.2 Âä®ÂõæÊºîÁ§∫ 6.3 ‰ª£Á†ÅÂÆûÁé∞1234567891011121314151617181920212223242526272829303132function quickSort(arr, left, right) &#123; var len = arr.length, partitionIndex, left = typeof left != &apos;number&apos; ? 0 : left, right = typeof right != &apos;number&apos; ? len - 1 : right; if (left &lt; right) &#123; partitionIndex = partition(arr, left, right); quickSort(arr, left, partitionIndex-1); quickSort(arr, partitionIndex+1, right); &#125; return arr;&#125; function partition(arr, left ,right) &#123; // ÂàÜÂå∫Êìç‰Ωú var pivot = left, // ËÆæÂÆöÂü∫ÂáÜÂÄºÔºàpivotÔºâ index = pivot + 1; for (var i = index; i &lt;= right; i++) &#123; if (arr[i] &lt; arr[pivot]) &#123; swap(arr, i, index); index++; &#125; &#125; swap(arr, pivot, index - 1); return index-1;&#125; function swap(arr, i, j) &#123; var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp;&#125; 7„ÄÅÂ†ÜÊéíÂ∫èÔºàHeap SortÔºâÂ†ÜÊéíÂ∫èÔºàHeapsortÔºâÊòØÊåáÂà©Áî®Â†ÜËøôÁßçÊï∞ÊçÆÁªìÊûÑÊâÄËÆæËÆ°ÁöÑ‰∏ÄÁßçÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂ†ÜÁßØÊòØ‰∏Ä‰∏™Ëøë‰ººÂÆåÂÖ®‰∫åÂèâÊ†ëÁöÑÁªìÊûÑÔºåÂπ∂ÂêåÊó∂Êª°Ë∂≥Â†ÜÁßØÁöÑÊÄßË¥®ÔºöÂç≥Â≠êÁªìÁÇπÁöÑÈîÆÂÄºÊàñÁ¥¢ÂºïÊÄªÊòØÂ∞è‰∫éÔºàÊàñËÄÖÂ§ß‰∫éÔºâÂÆÉÁöÑÁà∂ËäÇÁÇπ„ÄÇ 7.1 ÁÆóÊ≥ïÊèèËø∞ Â∞ÜÂàùÂßãÂæÖÊéíÂ∫èÂÖ≥ÈîÆÂ≠óÂ∫èÂàó(R1,R2‚Ä¶.Rn)ÊûÑÂª∫ÊàêÂ§ßÈ°∂Â†ÜÔºåÊ≠§Â†Ü‰∏∫ÂàùÂßãÁöÑÊó†Â∫èÂå∫Ôºõ Â∞ÜÂ†ÜÈ°∂ÂÖÉÁ¥†R[1]‰∏éÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†R[n]‰∫§Êç¢ÔºåÊ≠§Êó∂ÂæóÂà∞Êñ∞ÁöÑÊó†Â∫èÂå∫(R1,R2,‚Ä¶‚Ä¶Rn-1)ÂíåÊñ∞ÁöÑÊúâÂ∫èÂå∫(Rn),‰∏îÊª°Ë∂≥R[1,2‚Ä¶n-1]&lt;=R[n]Ôºõ Áî±‰∫é‰∫§Êç¢ÂêéÊñ∞ÁöÑÂ†ÜÈ°∂R[1]ÂèØËÉΩËøùÂèçÂ†ÜÁöÑÊÄßË¥®ÔºåÂõ†Ê≠§ÈúÄË¶ÅÂØπÂΩìÂâçÊó†Â∫èÂå∫(R1,R2,‚Ä¶‚Ä¶Rn-1)Ë∞ÉÊï¥‰∏∫Êñ∞Â†ÜÔºåÁÑ∂ÂêéÂÜçÊ¨°Â∞ÜR[1]‰∏éÊó†Â∫èÂå∫ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∫§Êç¢ÔºåÂæóÂà∞Êñ∞ÁöÑÊó†Â∫èÂå∫(R1,R2‚Ä¶.Rn-2)ÂíåÊñ∞ÁöÑÊúâÂ∫èÂå∫(Rn-1,Rn)„ÄÇ‰∏çÊñ≠ÈáçÂ§çÊ≠§ËøáÁ®ãÁõ¥Âà∞ÊúâÂ∫èÂå∫ÁöÑÂÖÉÁ¥†‰∏™Êï∞‰∏∫n-1ÔºåÂàôÊï¥‰∏™ÊéíÂ∫èËøáÁ®ãÂÆåÊàê„ÄÇ 7.2 Âä®ÂõæÊºîÁ§∫ 7.3 ‰ª£Á†ÅÂÆûÁé∞1234567891011121314151617181920212223242526272829303132333435363738394041424344var len; // Âõ†‰∏∫Â£∞ÊòéÁöÑÂ§ö‰∏™ÂáΩÊï∞ÈÉΩÈúÄË¶ÅÊï∞ÊçÆÈïøÂ∫¶ÔºåÊâÄ‰ª•ÊäälenËÆæÁΩÆÊàê‰∏∫ÂÖ®Â±ÄÂèòÈáè function buildMaxHeap(arr) &#123; // Âª∫Á´ãÂ§ßÈ°∂Â†Ü len = arr.length; for (var i = Math.floor(len/2); i &gt;= 0; i--) &#123; heapify(arr, i); &#125;&#125; function heapify(arr, i) &#123; // Â†ÜË∞ÉÊï¥ var left = 2 * i + 1, right = 2 * i + 2, largest = i; if (left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123; largest = left; &#125; if (right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123; largest = right; &#125; if (largest != i) &#123; swap(arr, i, largest); heapify(arr, largest); &#125;&#125; function swap(arr, i, j) &#123; var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp;&#125; function heapSort(arr) &#123; buildMaxHeap(arr); for (var i = arr.length - 1; i &gt; 0; i--) &#123; swap(arr, 0, i); len--; heapify(arr, 0); &#125; return arr;&#125; 8„ÄÅËÆ°Êï∞ÊéíÂ∫èÔºàCounting SortÔºâËÆ°Êï∞ÊéíÂ∫è‰∏çÊòØÂü∫‰∫éÊØîËæÉÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºåÂÖ∂Ê†∏ÂøÉÂú®‰∫éÂ∞ÜËæìÂÖ•ÁöÑÊï∞ÊçÆÂÄºËΩ¨Âåñ‰∏∫ÈîÆÂ≠òÂÇ®Âú®È¢ùÂ§ñÂºÄËæüÁöÑÊï∞ÁªÑÁ©∫Èó¥‰∏≠„ÄÇ ‰Ωú‰∏∫‰∏ÄÁßçÁ∫øÊÄßÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÊéíÂ∫èÔºåËÆ°Êï∞ÊéíÂ∫èË¶ÅÊ±ÇËæìÂÖ•ÁöÑÊï∞ÊçÆÂøÖÈ°ªÊòØÊúâÁ°ÆÂÆöËåÉÂõ¥ÁöÑÊï¥Êï∞„ÄÇ 8.1 ÁÆóÊ≥ïÊèèËø∞ ÊâæÂá∫ÂæÖÊéíÂ∫èÁöÑÊï∞ÁªÑ‰∏≠ÊúÄÂ§ßÂíåÊúÄÂ∞èÁöÑÂÖÉÁ¥†Ôºõ ÁªüËÆ°Êï∞ÁªÑ‰∏≠ÊØè‰∏™ÂÄº‰∏∫iÁöÑÂÖÉÁ¥†Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂ≠òÂÖ•Êï∞ÁªÑCÁöÑÁ¨¨iÈ°πÔºõ ÂØπÊâÄÊúâÁöÑËÆ°Êï∞Á¥ØÂä†Ôºà‰ªéC‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂºÄÂßãÔºåÊØè‰∏ÄÈ°πÂíåÂâç‰∏ÄÈ°πÁõ∏Âä†ÔºâÔºõ ÂèçÂêëÂ°´ÂÖÖÁõÆÊ†áÊï∞ÁªÑÔºöÂ∞ÜÊØè‰∏™ÂÖÉÁ¥†iÊîæÂú®Êñ∞Êï∞ÁªÑÁöÑÁ¨¨C(i)È°πÔºåÊØèÊîæ‰∏Ä‰∏™ÂÖÉÁ¥†Â∞±Â∞ÜC(i)ÂáèÂéª1„ÄÇ 8.2 Âä®ÂõæÊºîÁ§∫ 8.3 ‰ª£Á†ÅÂÆûÁé∞12345678910111213141516171819202122function countingSort(arr, maxValue) &#123; var bucket = new Array(maxValue + 1), sortedIndex = 0; arrLen = arr.length, bucketLen = maxValue + 1; for (var i = 0; i &lt; arrLen; i++) &#123; if (!bucket[arr[i]]) &#123; bucket[arr[i]] = 0; &#125; bucket[arr[i]]++; &#125; for (var j = 0; j &lt; bucketLen; j++) &#123; while(bucket[j] &gt; 0) &#123; arr[sortedIndex++] = j; bucket[j]--; &#125; &#125; return arr;&#125; 8.4 ÁÆóÊ≥ïÂàÜÊûêËÆ°Êï∞ÊéíÂ∫èÊòØ‰∏Ä‰∏™Á®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂΩìËæìÂÖ•ÁöÑÂÖÉÁ¥†ÊòØ n ‰∏™ 0Âà∞ k ‰πãÈó¥ÁöÑÊï¥Êï∞Êó∂ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n+k)ÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶‰πüÊòØO(n+k)ÔºåÂÖ∂ÊéíÂ∫èÈÄüÂ∫¶Âø´‰∫é‰ªª‰ΩïÊØîËæÉÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂΩìk‰∏çÊòØÂæàÂ§ßÂπ∂‰∏îÂ∫èÂàóÊØîËæÉÈõÜ‰∏≠Êó∂ÔºåËÆ°Êï∞ÊéíÂ∫èÊòØ‰∏Ä‰∏™ÂæàÊúâÊïàÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇ 9„ÄÅÊ°∂ÊéíÂ∫èÔºàBucket SortÔºâÊ°∂ÊéíÂ∫èÊòØËÆ°Êï∞ÊéíÂ∫èÁöÑÂçáÁ∫ßÁâà„ÄÇÂÆÉÂà©Áî®‰∫ÜÂáΩÊï∞ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÈ´òÊïà‰∏éÂê¶ÁöÑÂÖ≥ÈîÆÂ∞±Âú®‰∫éËøô‰∏™Êò†Â∞ÑÂáΩÊï∞ÁöÑÁ°ÆÂÆö„ÄÇÊ°∂ÊéíÂ∫è (Bucket sort)ÁöÑÂ∑•‰ΩúÁöÑÂéüÁêÜÔºöÂÅáËÆæËæìÂÖ•Êï∞ÊçÆÊúç‰ªéÂùáÂåÄÂàÜÂ∏ÉÔºåÂ∞ÜÊï∞ÊçÆÂàÜÂà∞ÊúâÈôêÊï∞ÈáèÁöÑÊ°∂ÈáåÔºåÊØè‰∏™Ê°∂ÂÜçÂàÜÂà´ÊéíÂ∫èÔºàÊúâÂèØËÉΩÂÜç‰ΩøÁî®Âà´ÁöÑÊéíÂ∫èÁÆóÊ≥ïÊàñÊòØ‰ª•ÈÄíÂΩíÊñπÂºèÁªßÁª≠‰ΩøÁî®Ê°∂ÊéíÂ∫èËøõË°åÊéíÔºâ„ÄÇ 9.1 ÁÆóÊ≥ïÊèèËø∞ ËÆæÁΩÆ‰∏Ä‰∏™ÂÆöÈáèÁöÑÊï∞ÁªÑÂΩì‰ΩúÁ©∫Ê°∂Ôºõ ÈÅçÂéÜËæìÂÖ•Êï∞ÊçÆÔºåÂπ∂‰∏îÊääÊï∞ÊçÆ‰∏Ä‰∏™‰∏Ä‰∏™ÊîæÂà∞ÂØπÂ∫îÁöÑÊ°∂ÈáåÂéªÔºõ ÂØπÊØè‰∏™‰∏çÊòØÁ©∫ÁöÑÊ°∂ËøõË°åÊéíÂ∫èÔºõ ‰ªé‰∏çÊòØÁ©∫ÁöÑÊ°∂ÈáåÊääÊéíÂ•ΩÂ∫èÁöÑÊï∞ÊçÆÊãºÊé•Ëµ∑Êù•„ÄÇ 9.2 ÂõæÁâáÊºîÁ§∫ 9.3 ‰ª£Á†ÅÂÆûÁé∞12345678910111213141516171819202122232425262728293031323334353637383940function bucketSort(arr, bucketSize) &#123; if (arr.length === 0) &#123; return arr; &#125; var i; var minValue = arr[0]; var maxValue = arr[0]; for (i = 1; i &lt; arr.length; i++) &#123; if (arr[i] &lt; minValue) &#123; minValue = arr[i]; // ËæìÂÖ•Êï∞ÊçÆÁöÑÊúÄÂ∞èÂÄº &#125; else if (arr[i] &gt; maxValue) &#123; maxValue = arr[i]; // ËæìÂÖ•Êï∞ÊçÆÁöÑÊúÄÂ§ßÂÄº &#125; &#125; // Ê°∂ÁöÑÂàùÂßãÂåñ var DEFAULT_BUCKET_SIZE = 5; // ËÆæÁΩÆÊ°∂ÁöÑÈªòËÆ§Êï∞Èáè‰∏∫5 bucketSize = bucketSize || DEFAULT_BUCKET_SIZE; var bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; var buckets = new Array(bucketCount); for (i = 0; i &lt; buckets.length; i++) &#123; buckets[i] = []; &#125; // Âà©Áî®Êò†Â∞ÑÂáΩÊï∞Â∞ÜÊï∞ÊçÆÂàÜÈÖçÂà∞ÂêÑ‰∏™Ê°∂‰∏≠ for (i = 0; i &lt; arr.length; i++) &#123; buckets[Math.floor((arr[i] - minValue) / bucketSize)].push(arr[i]); &#125; arr.length = 0; for (i = 0; i &lt; buckets.length; i++) &#123; insertionSort(buckets[i]); // ÂØπÊØè‰∏™Ê°∂ËøõË°åÊéíÂ∫èÔºåËøôÈáå‰ΩøÁî®‰∫ÜÊèíÂÖ•ÊéíÂ∫è for (var j = 0; j &lt; buckets[i].length; j++) &#123; arr.push(buckets[i][j]); &#125; &#125; return arr;&#125; 9.4 ÁÆóÊ≥ïÂàÜÊûêÊ°∂ÊéíÂ∫èÊúÄÂ•ΩÊÉÖÂÜµ‰∏ã‰ΩøÁî®Á∫øÊÄßÊó∂Èó¥O(n)ÔºåÊ°∂ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÂèñÂÜ≥‰∏éÂØπÂêÑ‰∏™Ê°∂‰πãÈó¥Êï∞ÊçÆËøõË°åÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÂõ†‰∏∫ÂÖ∂ÂÆÉÈÉ®ÂàÜÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩ‰∏∫O(n)„ÄÇÂæàÊòæÁÑ∂ÔºåÊ°∂ÂàíÂàÜÁöÑË∂äÂ∞èÔºåÂêÑ‰∏™Ê°∂‰πãÈó¥ÁöÑÊï∞ÊçÆË∂äÂ∞ëÔºåÊéíÂ∫èÊâÄÁî®ÁöÑÊó∂Èó¥‰πü‰ºöË∂äÂ∞ë„ÄÇ‰ΩÜÁõ∏Â∫îÁöÑÁ©∫Èó¥Ê∂àËÄóÂ∞±‰ºöÂ¢ûÂ§ß„ÄÇ 10„ÄÅÂü∫Êï∞ÊéíÂ∫èÔºàRadix SortÔºâÂü∫Êï∞ÊéíÂ∫èÊòØÊåâÁÖß‰Ωé‰ΩçÂÖàÊéíÂ∫èÔºåÁÑ∂ÂêéÊî∂ÈõÜÔºõÂÜçÊåâÁÖßÈ´ò‰ΩçÊéíÂ∫èÔºåÁÑ∂ÂêéÂÜçÊî∂ÈõÜÔºõ‰æùÊ¨°Á±ªÊé®ÔºåÁõ¥Âà∞ÊúÄÈ´ò‰Ωç„ÄÇÊúâÊó∂ÂÄôÊúâ‰∫õÂ±ûÊÄßÊòØÊúâ‰ºòÂÖàÁ∫ßÈ°∫Â∫èÁöÑÔºåÂÖàÊåâ‰Ωé‰ºòÂÖàÁ∫ßÊéíÂ∫èÔºåÂÜçÊåâÈ´ò‰ºòÂÖàÁ∫ßÊéíÂ∫è„ÄÇÊúÄÂêéÁöÑÊ¨°Â∫èÂ∞±ÊòØÈ´ò‰ºòÂÖàÁ∫ßÈ´òÁöÑÂú®ÂâçÔºåÈ´ò‰ºòÂÖàÁ∫ßÁõ∏ÂêåÁöÑ‰Ωé‰ºòÂÖàÁ∫ßÈ´òÁöÑÂú®Ââç„ÄÇ 10.1 ÁÆóÊ≥ïÊèèËø∞ ÂèñÂæóÊï∞ÁªÑ‰∏≠ÁöÑÊúÄÂ§ßÊï∞ÔºåÂπ∂ÂèñÂæó‰ΩçÊï∞Ôºõ arr‰∏∫ÂéüÂßãÊï∞ÁªÑÔºå‰ªéÊúÄ‰Ωé‰ΩçÂºÄÂßãÂèñÊØè‰∏™‰ΩçÁªÑÊàêradixÊï∞ÁªÑÔºõ ÂØπradixËøõË°åËÆ°Êï∞ÊéíÂ∫èÔºàÂà©Áî®ËÆ°Êï∞ÊéíÂ∫èÈÄÇÁî®‰∫éÂ∞èËåÉÂõ¥Êï∞ÁöÑÁâπÁÇπÔºâÔºõ 10.2 Âä®ÂõæÊºîÁ§∫ 10.3 ‰ª£Á†ÅÂÆûÁé∞12345678910111213141516171819202122232425// LSD Radix Sortvar counter = [];function radixSort(arr, maxDigit) &#123; var mod = 10; var dev = 1; for (var i = 0; i &lt; maxDigit; i++, dev *= 10, mod *= 10) &#123; for(var j = 0; j &lt; arr.length; j++) &#123; var bucket = parseInt((arr[j] % mod) / dev); if(counter[bucket]==null) &#123; counter[bucket] = []; &#125; counter[bucket].push(arr[j]); &#125; var pos = 0; for(var j = 0; j &lt; counter.length; j++) &#123; var value = null; if(counter[j]!=null) &#123; while ((value = counter[j].shift()) != null) &#123; arr[pos++] = value; &#125; &#125; &#125; &#125; return arr;&#125; 10.4 ÁÆóÊ≥ïÂàÜÊûêÂü∫Êï∞ÊéíÂ∫èÂü∫‰∫éÂàÜÂà´ÊéíÂ∫èÔºåÂàÜÂà´Êî∂ÈõÜÔºåÊâÄ‰ª•ÊòØÁ®≥ÂÆöÁöÑ„ÄÇ‰ΩÜÂü∫Êï∞ÊéíÂ∫èÁöÑÊÄßËÉΩÊØîÊ°∂ÊéíÂ∫èË¶ÅÁï•Â∑ÆÔºåÊØè‰∏ÄÊ¨°ÂÖ≥ÈîÆÂ≠óÁöÑÊ°∂ÂàÜÈÖçÈÉΩÈúÄË¶ÅO(n)ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåËÄå‰∏îÂàÜÈÖç‰πãÂêéÂæóÂà∞Êñ∞ÁöÑÂÖ≥ÈîÆÂ≠óÂ∫èÂàóÂèàÈúÄË¶ÅO(n)ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇÂÅáÂ¶ÇÂæÖÊéíÊï∞ÊçÆÂèØ‰ª•ÂàÜ‰∏∫d‰∏™ÂÖ≥ÈîÆÂ≠óÔºåÂàôÂü∫Êï∞ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞ÜÊòØO(d*2n) ÔºåÂΩìÁÑ∂dË¶ÅËøúËøúÂ∞è‰∫énÔºåÂõ†Ê≠§Âü∫Êú¨‰∏äËøòÊòØÁ∫øÊÄßÁ∫ßÂà´ÁöÑ„ÄÇ Âü∫Êï∞ÊéíÂ∫èÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n+k)ÔºåÂÖ∂‰∏≠k‰∏∫Ê°∂ÁöÑÊï∞Èáè„ÄÇ‰∏ÄËà¨Êù•ËØ¥n&gt;&gt;kÔºåÂõ†Ê≠§È¢ùÂ§ñÁ©∫Èó¥ÈúÄË¶ÅÂ§ßÊ¶Çn‰∏™Â∑¶Âè≥„ÄÇ]]></content>
      <tags>
        <tag>ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptÊ†∏Ê≠¶Â∫ì]]></title>
    <url>%2F2015%2F01%2F01%2FJavaScript%E6%A0%B8%E6%AD%A6%E5%BA%93%2F</url>
    <content type="text"><![CDATA[‰ª•‰∏ãÊòØ‰∏™‰∫∫ÊÄªÁªìÔºå‰πüÊúâ‰∏Ä‰∫õÊòØcopyÂ§ßÁ•ûÁöÑÔºåÁé∞Âú®ÊîæÂà∞‰∏ÄËµ∑ÔºåÊñπ‰æø‰ª•ÂêéÊü•ÈòÖÔºàÊúâ‰∏çÂØπÁöÑÂú∞ÊñπÔºåËøòÊúõÂ§ßÂÆ∂ËÉΩÂ§üÊèêÂá∫ÔºåÊàë‰ºöÂ∞ΩÂø´Âä†‰ª•ÊîπÊ≠£Ôºâ„ÄÇ !!Âº∫Âà∂ËΩ¨booleanÊ†πÊçÆÁúüÂÄºÔºåÂÅáÂÄº Âà§Êñ≠ÔºåËøîÂõûtrueÔºåfalseÂÅáÂÄºÔºö 0 ‚Äú‚Äù null undefined false NaN ‰æãÂ¶ÇÔºö var nu=null; var nul=&quot;&quot;; var str=&quot;abcd&quot;; console.log(!!nu) // false; console.log(!!nul) // false; console.log(!!str) // true; +obj Âº∫Âà∂ËΩ¨Number Â∞ÜÂØπË±°Âº∫Âà∂ËΩ¨number,Â¶ÇÊûúÊòØÁ∫ØÊï∞Â≠óÁöÑ‚Äú88‚ÄùÂ≠óÁ¨¶‰∏≤ÔºåÂèØËΩ¨‰∏∫number var a=&quot;88&quot;; console.log(+a) =&gt;88 //‰ΩÜÊòØÂ¶ÇÊûúÊòØÊ∑∑ÂêàÁ±ªÂûãÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂàô‰ºöËΩ¨‰∏∫NaN var b=&quot;1606e&quot;; console.log(+b) =&gt; NaN ~~ Âº∫Âà∂ÂèñÊï¥~~ 12.34 12 ~~ 12.88 12 ‰∏çÂèØÈù†ÁöÑundefined ÂèØÈù†ÁöÑvoid 0Âú®JavaScript‰∏≠ÔºåÂÅáËÆæÊàë‰ª¨ÊÉ≥Âà§Êñ≠‰∏Ä‰∏™ÊòØÂê¶ÊòØ undefinedÔºåÈÇ£‰πàÊàë‰ª¨ÈÄöÂ∏∏‰ºöËøôÊ†∑ÂÜôÔºö if(a === undefined){ dosomething } //‰ΩÜÊòØÂú®javascript‰∏≠ÔºåundefinedÊòØ‰∏çÂèØÈù†ÁöÑ ‰æãÂ¶ÇÔºöÂΩìundefinedÂú®ÂáΩÊï∞ÂÜÖÔºåÂπ∂‰∏îÊòØÂú®Â±ÄÈÉ®ÂèòÈáèÊòØÂèØ‰ª•Ëµã‰∏äÂÄº function foo2(){ var undefined=1; console.log(undefined) } foo2(); =&gt;1; ‰ΩÜÊòØÂΩìÂú®ÂáΩÊï∞ÂÜÖÂÆö‰πâ‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáèÔºåÂπ∂‰∏çËÉΩÁªôËµã‰∏äÂÄº var undefined; function foo2(){ undefined=1; console.log(undefined) } foo2() // undefined void 0ÊàñËÄÖ void (0)Ôºö ÊúÄÂ∏∏ËßÅÁöÑÁî®Ê≥ïÊòØÈÄöËøávoid 0 ËøêÁÆóÊù•Ëé∑Âæó undefinedÔºåË°®ËææÂºè‰∏∫ 0 Êó∂ÁöÑËøêÁÆóÂºÄÈîÄÊúÄÂ∞èÔºöÈÇ£Âú®‰ª•ÂêéÈúÄË¶ÅÂà§Êñ≠ÂÄº‰∏∫undefinedÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•Áõ¥Êé•Áî®void 0ÊàñËÄÖvoid (0) Â≠óÁ¨¶‰∏≤‰πüÊòØÊúâlengthÂ±ûÊÄßÁöÑÔºÅÊàë‰ª¨Áü•ÈÅìÊâÄÊúâÁöÑarrayÈÉΩÊòØÊúâlength,Â±ûÊÄßÔºåÂ∞±ÁÆó‰∫ãÁ©∫Êï∞ÁªÑÔºålength ÊòØ0ÔºåÈÇ£‰πàÂ≠óÁ¨¶‰∏≤ÊúâÊ≤°ÊúâÂë¢ÔºüÊé•‰∏ãÊù•Êàë‰ª¨Êù•È™åËØÅ‰∏Ä‰∏ãÔºö var str=&quot;sdfsd5565s6dfsd65sd6+d5fd5&quot;; console.log(str.length) // 26 ÁªìÊûúÊòØÊúâÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú®Âà§Êñ≠Á±ªÂûãÊó∂Ôºå‰∏çËÉΩÂçïÁ∫ØÊãøÊúâÊ≤°ÊúâlengthÂ±ûÊÄßÊù•Âà§Êñ≠ÊòØ‰∏çÊòØÊï∞ÁªÑ‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•Áî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïÔºö var obj=[1,2] ; console.log(toString.call(obj) === &apos;[object Array]&apos;); ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫Êï∞ÁªÑ(ÂàõÂª∫Êï∞ÁªÑÔºåsortÊéíÂ∫è)Âú®È°πÁõÆ‰∏≠ÊúâÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ÈöèÊú∫Êâì‰π±ÁöÑÊï∞ÁªÑÔºåÈÇ£‰πà‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÁé∞‰ª•‰∏ãÔºöÂÖàÊù•ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑÔºö var arr=[]; for(var i=0;i&lt;10;i++){ arr.push(i) } console.log(arr) // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] Êé•‰∏ãÊù•Êàë‰ª¨Êù•Êâì‰π±ÂÆÉÔºö arr.sort(()=&gt;{ return Math.random() - 0.5 }) // [1, 0, 2, 3, 4, 6, 8, 5, 7, 9] Á¨¨‰∫åÁßçÊâì‰π±ÊñπÊ≥ïÔºö arr.sort((a,b)=&gt;{ return a&gt;Math.random()*10; }) // [1, 2, 0, 6, 4, 3, 8, 9, 7, 5] Êàë‰ª¨‰ª•ÂâçÁöÑÊ≠£Â∏∏ÊéíÂ∫èÊòØËøôÊ†∑ÁöÑÔºö arr.sort(function(a,b){ return b-a }); Ëß£ÊûêÔºöÂÖàËØ¥Ê≠£Â∏∏ÁöÑÊéíÂ∫èÔºöa,bË°®Á§∫Êï∞ÁªÑ‰∏≠ÁöÑ‰ªªÊÑè‰∏§‰∏™ÂÖÉÁ¥†ÔºåËã•return &gt; 0 bÂâçaÂêéÔºõreutrn &lt; 0 aÂâçbÂêéÔºõa=bÊó∂Â≠òÂú®ÊµèËßàÂô®ÂÖºÂÆπ Ôºåa-bËæìÂá∫‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫èÔºåb-aËæìÂá∫‰ªéÂ§ßÂà∞Â∞èÊéíÂ∫è„ÄÇÁÑ∂ÂêéÂÜçËØ¥Êàë‰ª¨Êâì‰π±ÁöÑÊñπÊ≥ïÔºöÂàõÂª∫Êï∞ÁªÑ‰∏çÁî®ËØ¥ÔºåÊé•‰∏ãÊù•Â∞±ÊòØÁî®jsÁöÑsortÊñπÊ≥ï Êù•ÂÆûÁé∞ÔºåMath.random()ÂÆûÁé∞‰∏Ä‰∏™ÈöèÊú∫0-1‰πãÈó¥ÁöÑÂ∞èÊï∞ ÁÑ∂ÂêéÂÜçÂáèÂéª0.5ÔºåËøôÊó∂Â∞±‰ºöÊ†πÊçÆreturnÊØîËæÉÂêéÂæóÂà∞ÁöÑÂÄºÊéíÔºåÊâÄ‰ª•ËØ¥Â∞±‰ºöÁîüÊàê‰∏çÊòØÊ≠£Â∏∏‰ªéÂ§ßÂà∞Â∞èÊàñËÄÖ‰ªéÂ∞èÂà∞Â§ßÁöÑÊéíÂ∫è„ÄÇ Á¨¨‰∫å‰∏™Êâì‰π±ÁöÑÊñπÊ≥ïÂêåÊ†∑ÊòØÈÅµÂæ™sortÁöÑÊñπÊ≥ïÔºåÂ∞Üa,b‰º†ËøõÂéª ÁÑ∂ÂêéÂíåÈöèÊú∫Êï∞ÂÅöÊØîËæÉÔºåÂÖ≥‰∫éÊØîËæÉÁöÑÊñπÊ≥ï‰∏çÂ§™Ê∏ÖÊ•ö„ÄÇ ÂéªÈô§ÂâçÂêé„ÄÅÂâç„ÄÅÂêé ÊâÄÊúâÁ©∫Ê†º ËøôÊòØ‰∏ìÈó®‰∏∫ÂéªÈô§Á©∫Ê†ºÂÜôÁöÑ‰∏ÄÂ•óÊñπÊ≥ïÔºåÈÄÇÁî®‰∫éÂêÑÁßçÊÉÖÂÜµÔºåÊâÄÊúâÁ©∫Ê†º,ÂâçÂêéÁ©∫Ê†ºÔºåÂâçÁ©∫Ê†ºÔºåÂêéÁ©∫Ê†º„ÄÇ var strr=‚Äù 1 ad dertasdf sdfASDFDF DFG SDFG ‚Äú// type 1-ÊâÄÊúâÁ©∫Ê†º 2-ÂâçÂêéÁ©∫Ê†º 3-ÂâçÁ©∫Ê†º 4-ÂêéÁ©∫Ê†º function trim(str,type){ switch (type){ case 1:return str.replace(/\s+/g,&quot;&quot;); case 2:return str.replace(/(^\s*)|(\s*$)/g, &quot;&quot;); case 3:return str.replace(/(^\s*)/g, &quot;&quot;); case 4:return str.replace(/(\s*$)/g, &quot;&quot;); default:return str; } } console.log( trim(strr,1)) // &quot;1addertasdfsdfASDFDFDFGSDFG&quot; Ëß£ÊûêÔºö Ëøô‰∏™ÊñπÊ≥ïÁî®ÁöÑÊòØÊ≠£ÂàôÁöÑÂåπÈÖçÊ†ºÂºè,ÂêéÈù¢Êàë‰ºöÊääÊ≠£ÂàôÂçïÁã¨ÊãøÂá∫Êù•ÊÄªÁªì‰∏Ä‰∏™Á≥ªÂàóÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅÔºÅÔºÅ \s Ôºö Á©∫Ê†ºÁ¨¶ÔºåTab,Êç¢È°µÁ¨¶ÔºåÊç¢Ë°åÁ¨¶ \S Ôºö Èùû\sÁöÑÊâÄÊúâÂÜÖÂÆπ /g : ÂÖ®Â±ÄÂåπÈÖç ^ : ÂåπÈÖçÂú®Ë°åÈ¶ñ $ : ÂåπÈÖçÂú®Ë°åÂ∞æ + Ôºö ÈáçÂ§çÊ¨°Êï∞&gt;0 * Ôºö ÈáçÂ§çÊ¨°Êï∞&gt;=0 | : ÊàñËÄÖ replace(a,b)Ôºö ÊñπÊ≥ïÁî®‰∫éÂú®Â≠óÁ¨¶Âàõ‰∏≠Áî®‰∏Ä‰∫õÂ≠óÁ¨¶ÊõøÊç¢Âè¶‰∏Ä‰∫õÂ≠óÁ¨¶, ‰ºö‰º†ÂÖ•‰∏§‰∏™ÂÄºÔºåÂ∞ÜÈÄóÂè∑ÂâçÈù¢ÁöÑÂÄºaÊõøÊç¢ÊàêÈÄóÂè∑ÂêéÈù¢ÁöÑÂÄºb Â≠óÊØçÂ§ßÂ∞èÂÜôÂàáÊç¢ÔºàÊ≠£ÂàôÂåπÈÖçÔºåreplaceÔºâËøô‰∏™ÊñπÊ≥ï‰∏ªË¶ÅÊòØÁªô‰∏Ä‰∫õÈúÄË¶ÅÂ§ßÂ∞èÂÜôËΩ¨Êç¢Êèê‰æõÁöÑÊñπÊ≥ïÔºå‰∏ªË¶ÅÊúâÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºåÈ¶ñÂ≠óÊØçÂ∞èÂÜôÔºåÂ§ßÂ∞èÂÜôËΩ¨Êç¢ÔºåÂÖ®ÈÉ®ËΩ¨Â§ßÂÜôÂíåÂÖ®ÈÉ®ËΩ¨Â∞èÂÜô„ÄÇ typeÔºö 1:È¶ñÂ≠óÊØçÂ§ßÂÜô 2ÔºöÈ¶ñÈ°µÊØçÂ∞èÂÜô 3ÔºöÂ§ßÂ∞èÂÜôËΩ¨Êç¢ 4ÔºöÂÖ®ÈÉ®Â§ßÂÜô 5ÔºöÂÖ®ÈÉ®Â∞èÂÜô ÂéüÂßãÂ≠óÁ¨¶‰∏≤Ôºö var str=&quot;sdfwwerasfddffddeerAasdgFegqer&quot;; function changeCase(str,type) { //Ëøô‰∏™ÂáΩÊï∞ÊòØÁ¨¨‰∏â‰∏™Â§ßÂ∞èÂÜôËΩ¨Êç¢ÁöÑÊñπÊ≥ï function ToggleCase(str) { var itemText = &quot;&quot; str.split(&quot;&quot;).forEach( function (item) { // Âà§Êñ≠Âæ™ÁéØÂ≠óÁ¨¶‰∏≤‰∏≠ÊØè‰∏™Â≠óÁ¨¶ÊòØÂê¶‰ª•a-z‰πãÈó¥ÂºÄÂ§¥ÁöÑÂπ∂‰∏îÈáçÂ§çÂ§ß‰∫é0Ê¨° if (/^([a-z]+)/.test(item)) { // Â¶ÇÊûúÊòØÂ∞èÂÜôÔºåËΩ¨Êç¢ÊàêÂ§ßÂÜô itemText += item.toUpperCase(); } // Âà§Êñ≠Âæ™ÁéØÂ≠óÁ¨¶‰∏≤‰∏≠ÊØè‰∏™Â≠óÁ¨¶ÊòØÂê¶‰ª•A-Z‰πãÈó¥ÂºÄÂ§¥ÁöÑÂπ∂‰∏îÈáçÂ§çÂ§ß‰∫é0Ê¨° else if (/^([A-Z]+)/.test(item)) { // Â¶ÇÊûúÊòØÂ§ßÂÜôÔºåËΩ¨Êç¢ÊàêÂ∞èÂÜô itemText += item.toLowerCase(); } else{ // Â¶ÇÊûúÈÉΩ‰∏çÁ¨¶ÂêàÔºåËøîÂõûÂÖ∂Êú¨Ë∫´ itemText += item; } }); return itemText; } //‰∏ãÈù¢‰∏ªË¶ÅÊ†πÊçÆ‰º†ÂÖ•ÁöÑtypeÂÄºÊù•ÂåπÈÖçÂêÑ‰∏™Âú∫ÊôØ switch (type) { //ÂΩìÂåπÈÖç case 1: return str.replace(/^(\w)(\w+)/, function (v, v1, v2) { //v=È™åËØÅÊú¨Ë∫´ v1=s ; v2=dfwwerasfddffddeerAasdgFegqer return v1.toUpperCase() + v2.toLowerCase(); }); case 2: return str.replace(/^(\w)(\w+)/, function (v, v1, v2) { //v=È™åËØÅÊú¨Ë∫´ v1=s ; v2=dfwwerasfddffddeerAasdgFegqer return v1.toLowerCase() + v2.toUpperCase(); }); case 3: return ToggleCase(str); case 4: return str.toUpperCase(); case 5: return str.toLowerCase(); default: return str; } } console.log(changeCase(str,1)) =&gt;SdfwwerasfddffddeerAasdgFegqer Ëß£ÊûêÔºö splitÔºöÁî®‰∫éÊää‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂàÜÂâ≤ÊàêÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑ \w: Êï∞Â≠ó0-9ÊàñÂ≠óÊØça-zÂèäA-Z,Êàñ‰∏ãÂàíÁ∫ø \W: Èùû\wÔºåÈô§‰ª•‰∏äÁöÑÁâπÊÆäÁ¨¶Âè∑Á≠â toUpperCaseÔºöËΩ¨Â§ßÂÜô toLowerCaseÔºöËΩ¨Â∞èÂÜô replaceÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØ‰ª•ÊòØÂáΩÊï∞ÔºåÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏≠ÔºåÁ¨¨‰∏Ä‰∏™ÊòØÊú¨Ë∫´ÔºåÁ¨¨‰∫å‰∏™ÊòØÊ≠£ÂàôÂåπÈÖçÂÜÖÂÆπÔºåÁ¨¨‰∏â‰∏™ÂåπÈÖçÂâ©‰∏ãÁöÑÂÜÖÂÆπ ‰∏ãÈù¢Êàë‰ª¨Â∞±ÈÄöËøáÂ∞èÂÆûÈ™åÊù•È™åËØÅ‰∏Ä‰∏ãÔºöÁΩë‰∏äÊúâËØ¥replaceÊòØÂèØ‰ª•Êúâ4‰∏™ÂèÇÊï∞ÁöÑÔºå‰ΩÜÊòØÊàëÂπ∂Ê≤°ÊúâÈ™åËØÅÂà∞Á¨¨Âõõ‰∏™‰ª£Ë°®ÁöÑÊÑè‰πâÔºåÂâç‰∏â‰∏™Â∑≤ÁªèÈ™åËØÅÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫È™åËØÅÊú¨Ë∫´ÔºåÁ¨¨‰∫å‰∏™Ê≠£ÂàôÂåπÈÖçÁªìÊûúÔºåÁ¨¨‰∏â‰∏∫Á¨¨‰∫å‰∏™ÂåπÈÖçÂÆåÂâ©‰∏ãÁöÑÂÄº„ÄÇ Âæ™ÁéØnÊ¨°‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤str‰∏∫‰º†ÂÖ•ÈöèÊÑèÂ≠óÁ¨¶‰∏≤Ôºåcount‰∏∫Âæ™ÁéØÁöÑÊ¨°Êï∞var str=&quot;abc&quot;; var number=555; function repeatStr(str, count) { //Â£∞Êòé‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤ÔºåÁî®Êù•‰øùÂ≠òÁîüÊàêÂêéÁöÑÊñ∞Â≠óÁ¨¶‰∏≤ var text = &apos;&apos;; //Âæ™ÁéØ‰º†ÂÖ•ÁöÑcountÂÄºÔºåÂç≥Âæ™ÁéØÁöÑÊ¨°Êï∞ for (var i = 0; i &lt; count; i++) { //Âæ™ÁéØ‰∏ÄÊ¨°Â∞±ÊääÂ≠óÁ¨¶‰∏≤+Âà∞Êàë‰ª¨‰∫ãÂÖàÂáÜÂ§áÂ•ΩÁöÑÁ©∫Â≠óÁ¨¶‰∏≤‰∏ä text += str; } return text; } console.log(repeatStr(str, 3)) // &quot;abcabcabc&quot; console.log(repeatStr(number, 3)) // &quot;555555555&quot; Ëß£ÊûêÔºöÊ†πÊçÆcountÂæ™ÁéØÁöÑÊ¨°Êï∞ÔºåÂú®Âæ™ÁéØ‰ΩìÂÜÖÂ§çÂà∂Ôºåreturn ËøîÂõû+=ÂêéÁöÑÂÄº Êü•ÊâæÂ≠óÁ¨¶‰∏≤ÁöÑAÂÜÖÂÆπÊõøÊç¢ÊàêBÂÜÖÂÆπlet str=&quot;abacdasdfsd&quot; function replaceAll(str,AFindText,ARepText){ raRegExp = new RegExp(AFindText,&quot;g&quot;); return str.replace(raRegExp,ARepText); } console.log(replaceAll(str,&quot;a&quot;,&quot;x&quot;)) // xbxcdxsdfsd strÔºöÈúÄË¶ÅÁºñËæëÁöÑÂ≠óÁ¨¶‰∏≤Êú¨Ë∫´ AFindText:ÈúÄË¶ÅÊõøÊç¢ÁöÑÂÜÖÂÆπ ARepText:Ë¢´ÊõøÊç¢ÊàêÁöÑÂÜÖÂÆπ Ëß£ÊûêÔºöÂàõÂª∫Ê≠£ÂàôÔºåÂåπÈÖçÂÜÖÂÆπÔºåÊõøÊç¢ Ê£ÄÊµãÂ∏∏Áî®Ê†ºÂºèÔºåÈÇÆÁÆ±ÔºåÊâãÊú∫Âè∑ÔºåÂêçÂ≠óÔºåÂ§ßÂÜôÔºåÂ∞èÂÜô,Âú®Ë°®ÂçïÈ™åËØÅÊó∂ÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöÈúÄË¶ÅÂéªÈ™åËØÅ‰∏Ä‰∫õÂÜÖÂÆπÔºå‰∏æ‰æãÂá†‰∏™Â∏∏Áî®ÁöÑÈ™åËØÅfunction checkType (str, type) { switch (type) { case &apos;email&apos;: return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str); case &apos;phone&apos;: return /^1[3|4|5|7|8][0-9]{9}$/.test(str); case &apos;tel&apos;: return /^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(str); case &apos;number&apos;: return /^[0-9]$/.test(str); case &apos;english&apos;: return /^[a-zA-Z]+$/.test(str); case &apos;chinese&apos;: return /^[\u4E00-\u9FA5]+$/.test(str); case &apos;lower&apos;: return /^[a-z]+$/.test(str); case &apos;upper&apos;: return /^[A-Z]+$/.test(str); default : return true; } } console.log(checkType (&apos;hjkhjhT&apos;,&apos;lower&apos;)) //false Ëß£ÊûêÔºö checkType (&apos;hjkhjhT&apos;,&apos;lower&apos;)&apos;ÈúÄË¶ÅÈ™åËØÅÁöÑÂ≠óÁ¨¶‰∏≤&apos;Ôºå&apos;ÂåπÈÖçÁöÑÊ†ºÂºè&apos; emailÔºöÈ™åËØÅÈÇÆÁÆ± phoneÔºöÈ™åËØÅÊâãÊú∫Âè∑ telÔºöÈ™åËØÅÂ∫ßÊú∫Âè∑ numberÔºöÈ™åËØÅÊï∞Â≠ó englishÔºöÈ™åËØÅËã±ÊñáÂ≠óÊØç chineseÔºöÈ™åËØÅ‰∏≠ÊñáÂ≠ó lowerÔºöÈ™åËØÅÂ∞èÂÜô upperÔºöÈ™åËØÅÂ§ßÂÜô JSËøîÂõûÊµèËßàÂô®ÂéÜÂè≤Á¨¨‰∏ÄÈ°µÔºö JSËøîÂõûÊµèËßàÂô®ÂéÜÂè≤Á¨¨‰∏ÄÈ°µ ÊàëÂú®ÊµèËßàÂô®ÊéßÂà∂Âè∞Êï≤‰∫Ü window.history ÂÖ∂ÂÆûÊàëÊÉ≥ÁúãÁúãËøòÊúâÂì™‰∫õAPIÔºå‰ªñËæìÂá∫‰∫Ü‰ª•‰∏ã‰ø°ÊÅØÔºåÊàëÁúãÂà∞length Ëøô‰∏™Â±ûÊÄßËÆ©ÊàëÁúºÂâç‰∏Ä‰∫ÆÔºåÂÖ∂‰ªñ2‰∏™Êàë‰∏çÂÖ≥ÂøÉ„ÄÇ { length: 2, scrollRestoration: &quot;auto&quot;, state: null } ÊàëÂ∞ùËØïÁî®length ÂéªÂõûÈÄÄÔºå ‰∏çÊàêÂäüÔºÅ window.history.go(-2); ÊàëÂÜçÂ∞ùËØïÁî®lengthÂéªÂáè1, ÊàêÂäü‰∫ÜÔºå ÊàëÁåúÂ∫îËØ•ÊòØË∑üÊñ∞Ê†áÁ≠æÈ°µÊúâÂÖ≥Âêß„ÄÇ ÈÇ£Êàë‰∏çÁÆ°‰∫ÜÔºåÊàëÂ∑≤ÁªèÊúâÁ≠îÊ°à‰∫Ü window.history.go(-1); ÊúÄÂêé‰ª£Á†Å var historyLen = window.history; window.history.go(-(historyLen - 1)); ÊµãËØï‰∫Ü3‰∏™ÊµèËßàÂô®Ôºå ÈÉΩÊòØÁ¨¨‰∏ÄÊ¨°ÊâìÂºÄÊµèËßàÂô®ÊµãËØï Chrome ‰ºöÁõ¥Êé•ËøîÂõûÂà∞Êñ∞Ê†áÁ≠æÈ°µ Safari ÊàëËøôÈáåÊµãËØïÊòØËøîÂõûÂà∞ÁôæÂ∫¶ÔºåÂèØËÉΩÊòØÊàëÁöÑËÆæÁΩÆÈóÆÈ¢ò Firefox Áõ¥Êé•ÂÖ≥Èó≠ÊµèËßàÂô® ‰Ωú‰∏∫ÊàòÊñóÂú®‰∏öÂä°‰∏ÄÁ∫øÁöÑÂâçÁ´ØÔºåË¶ÅÊÉ≥Â∞ëÂä†Áè≠ÔºåÂ∞±Ë¶ÅÊÉ≥ÂäûÊ≥ïÊèêÈ´òÂ∑•‰ΩúÊïàÁéá„ÄÇËøôÈáåÊèê‰∏Ä‰∏™Â∞èÁÇπÔºåÊàë‰ª¨Âú®‰∏öÂä°ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÁªèÂ∏∏‰ºöÈáçÂ§çÁî®Âà∞Êó•ÊúüÊ†ºÂºèÂåñ„ÄÅurlÂèÇÊï∞ËΩ¨ÂØπË±°„ÄÅÊµèËßàÂô®Á±ªÂûãÂà§Êñ≠„ÄÅËäÇÊµÅÂáΩÊï∞Á≠â‰∏ÄÁ±ªÂáΩÊï∞ÔºåËøô‰∫õÂ∑•ÂÖ∑Á±ªÂáΩÊï∞ÔºåÂü∫Êú¨‰∏äÂú®ÊØè‰∏™È°πÁõÆÈÉΩ‰ºöÁî®Âà∞Ôºå‰∏∫ÈÅøÂÖç‰∏çÂêåÈ°πÁõÆÂ§öÊ¨°Â§çÂà∂Á≤òË¥¥ÁöÑÈ∫ªÁÉ¶ÔºåÊàë‰ª¨ÂèØ‰ª•Áªü‰∏ÄÂ∞ÅË£ÖÔºåÂèëÂ∏ÉÂà∞npmÔºå‰ª•ÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ ËøôÈáåÔºåÁ¨îËÄÖÂ∑≤ÁªèÂ∞ÅË£ÖÂπ∂ÂèëÂ∏É‰∫ÜËá™Â∑±ÁöÑÊ≠¶Âô®Â∫ì outilsÔºåÂ¶ÇÊûú‰Ω†ÂØπÊú¨È°πÁõÆÊÑüÂÖ¥Ë∂£ÔºåÊ¨¢Ëøé star Êú¨È°πÁõÆ„ÄÇÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Âú®Êú¨È°πÁõÆÁöÑÂü∫Á°Ä‰∏äÂ∞ÅË£ÖËá™Â∑±ÁöÑÊ≠¶Âô®Â∫ì„ÄÇ Â∏∏Áî®ÂáΩÊï∞Ê±áÊÄª ËøôÈáåÂÖàÂàÜÁ±ªÊï¥ÁêÜ‰∏ãÔºå‰πãÂâçÈ°πÁõÆ‰∏≠Â§öÊ¨°Áî®Âà∞ÁöÑÂ∑•ÂÖ∑ÂáΩÊï∞„ÄÇ1.Array1.1 arrayEqual/** * * @desc Âà§Êñ≠‰∏§‰∏™Êï∞ÁªÑÊòØÂê¶Áõ∏Á≠â * @param {Array} arr1 * @param {Array} arr2 * @return {Boolean} */ function arrayEqual(arr1, arr2) { if (arr1 === arr2) return true; if (arr1.length != arr2.length) return false; for (var i = 0; i &lt; arr1.length; ++i) { if (arr1[i] !== arr2[i]) return false; } return true; } 2.Class2.1 addClass/** * * @desc ‰∏∫ÂÖÉÁ¥†Ê∑ªÂä†class * @param {HTMLElement} ele * @param {String} cls */ var hasClass = require(&apos;./hasClass&apos;); function addClass(ele, cls) { if (!hasClass(ele, cls)) { ele.className += &apos; &apos; + cls; } } 2.2 hasClass /** * * @desc Âà§Êñ≠ÂÖÉÁ¥†ÊòØÂê¶ÊúâÊüê‰∏™class * @param {HTMLElement} ele * @param {String} cls * @return {Boolean} */ function hasClass(ele, cls) { return (new RegExp(&apos;(\\s|^)&apos; + cls + &apos;(\\s|$)&apos;)).test(ele.className); } 2.3 removeClass /** * * @desc ‰∏∫ÂÖÉÁ¥†ÁßªÈô§class * @param {HTMLElement} ele * @param {String} cls */ var hasClass = require(&apos;./hasClass&apos;); function removeClass(ele, cls) { if (hasClass(ele, cls)) { var reg = new RegExp(&apos;(\\s|^)&apos; + cls + &apos;(\\s|$)&apos;); ele.className = ele.className.replace(reg, &apos; &apos;); } } 3.Cookie3.1 getCookie/** * * @desc Ê†πÊçÆnameËØªÂèñcookie * @param {String} name * @return {String} */ function getCookie(name) { var arr = document.cookie.replace(/\s/g, &quot;&quot;).split(&apos;;&apos;); for (var i = 0; i &lt; arr.length; i++) { var tempArr = arr[i].split(&apos;=&apos;); if (tempArr[0] == name) { return decodeURIComponent(tempArr[1]); } } return &apos;&apos;; } 3.2 removeCookie var setCookie = require(&apos;./setCookie&apos;); /** * * @desc Ê†πÊçÆnameÂà†Èô§cookie * @param {String} name */ function removeCookie(name) { // ËÆæÁΩÆÂ∑≤ËøáÊúüÔºåÁ≥ªÁªü‰ºöÁ´ãÂàªÂà†Èô§cookie setCookie(name, &apos;1&apos;, -1); } 3.3 setCookie /** * * @desc ËÆæÁΩÆCookie * @param {String} name * @param {String} value * @param {Number} days */ function setCookie(name, value, days) { var date = new Date(); date.setDate(date.getDate() + days); document.cookie = name + &apos;=&apos; + value + &apos;;expires=&apos; + date; } 4.Device4.1 getExplore/** * * @desc Ëé∑ÂèñÊµèËßàÂô®Á±ªÂûãÂíåÁâàÊú¨ * @return {String} */ function getExplore() { var sys = {}, ua = navigator.userAgent.toLowerCase(), s; (s = ua.match(/rv:([\d.]+)\) like gecko/)) ? sys.ie = s[1]: (s = ua.match(/msie ([\d\.]+)/)) ? sys.ie = s[1] : (s = ua.match(/edge\/([\d\.]+)/)) ? sys.edge = s[1] : (s = ua.match(/firefox\/([\d\.]+)/)) ? sys.firefox = s[1] : (s = ua.match(/(?:opera|opr).([\d\.]+)/)) ? sys.opera = s[1] : (s = ua.match(/chrome\/([\d\.]+)/)) ? sys.chrome = s[1] : (s = ua.match(/version\/([\d\.]+).*safari/)) ? sys.safari = s[1] : 0; // Ê†πÊçÆÂÖ≥Á≥ªËøõË°åÂà§Êñ≠ if (sys.ie) return (&apos;IE: &apos; + sys.ie) if (sys.edge) return (&apos;EDGE: &apos; + sys.edge) if (sys.firefox) return (&apos;Firefox: &apos; + sys.firefox) if (sys.chrome) return (&apos;Chrome: &apos; + sys.chrome) if (sys.opera) return (&apos;Opera: &apos; + sys.opera) if (sys.safari) return (&apos;Safari: &apos; + sys.safari) return &apos;Unkonwn&apos; } 4.2 getOS /** * * @desc Ëé∑ÂèñÊìç‰ΩúÁ≥ªÁªüÁ±ªÂûã * @return {String} */ function getOS() { var userAgent = &apos;navigator&apos; in window &amp;&amp; &apos;userAgent&apos; in navigator &amp;&amp; navigator.userAgent.toLowerCase() || &apos;&apos;; var vendor = &apos;navigator&apos; in window &amp;&amp; &apos;vendor&apos; in navigator &amp;&amp; navigator.vendor.toLowerCase() || &apos;&apos;; var appVersion = &apos;navigator&apos; in window &amp;&amp; &apos;appVersion&apos; in navigator &amp;&amp; navigator.appVersion.toLowerCase() || &apos;&apos;; if (/mac/i.test(appVersion)) return &apos;MacOSX&apos; if (/win/i.test(appVersion)) return &apos;windows&apos; if (/linux/i.test(appVersion)) return &apos;linux&apos; if (/iphone/i.test(userAgent) || /ipad/i.test(userAgent) || /ipod/i.test(userAgent)) &apos;ios&apos; if (/android/i.test(userAgent)) return &apos;android&apos; if (/win/i.test(appVersion) &amp;&amp; /phone/i.test(userAgent)) return &apos;windowsPhone&apos; } 5.Dom5.1 getScrollTop/** * * @desc Ëé∑ÂèñÊªöÂä®Êù°Ë∑ùÈ°∂ÈÉ®ÁöÑË∑ùÁ¶ª */ function getScrollTop() { return (document.documentElement &amp;&amp; document.documentElement.scrollTop) || document.body.scrollTop; } 5.2 offset /** * * @desc Ëé∑Âèñ‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑË∑ùÁ¶ªÊñáÊ°£(document)ÁöÑ‰ΩçÁΩÆÔºåÁ±ª‰ººjQ‰∏≠ÁöÑoffset() * @param {HTMLElement} ele * @returns { {left: number, top: number} } */ function offset(ele) { var pos = { left: 0, top: 0 }; while (ele) { pos.left += ele.offsetLeft; pos.top += ele.offsetTop; ele = ele.offsetParent; }; return pos; } 5.3 scrollTovar getScrollTop = require(&apos;./getScrollTop&apos;); var setScrollTop = require(&apos;./setScrollTop&apos;); var requestAnimFrame = (function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) { window.setTimeout(callback, 1000 / 60); }; })(); /** * * @desc Âú®${duration}Êó∂Èó¥ÂÜÖÔºåÊªöÂä®Êù°Âπ≥ÊªëÊªöÂä®Âà∞${to}ÊåáÂÆö‰ΩçÁΩÆ * @param {Number} to * @param {Number} duration */ function scrollTo(to, duration) { if (duration &lt; 0) { setScrollTop(to); return } var diff = to - getScrollTop(); if (diff === 0) return var step = diff / duration * 10; requestAnimationFrame( function () { if (Math.abs(step) &gt; Math.abs(diff)) { setScrollTop(getScrollTop() + diff); return; } setScrollTop(getScrollTop() + step); if (diff &gt; 0 &amp;&amp; getScrollTop() &gt;= to || diff &lt; 0 &amp;&amp; getScrollTop() &lt;= to) { return; } scrollTo(to, duration - 16); }); } 5.4 setScrollTop/** * * @desc ËÆæÁΩÆÊªöÂä®Êù°Ë∑ùÈ°∂ÈÉ®ÁöÑË∑ùÁ¶ª */ function setScrollTop(value) { window.scrollTo(0, value); return value; } 6.Keycode6.1 getKeyNamevar keyCodeMap = { 8: &apos;Backspace&apos;, 9: &apos;Tab&apos;, 13: &apos;Enter&apos;, 16: &apos;Shift&apos;, 17: &apos;Ctrl&apos;, 18: &apos;Alt&apos;, 19: &apos;Pause&apos;, 20: &apos;Caps Lock&apos;, 27: &apos;Escape&apos;, 32: &apos;Space&apos;, 33: &apos;Page Up&apos;, 34: &apos;Page Down&apos;, 35: &apos;End&apos;, 36: &apos;Home&apos;, 37: &apos;Left&apos;, 38: &apos;Up&apos;, 39: &apos;Right&apos;, 40: &apos;Down&apos;, 42: &apos;Print Screen&apos;, 45: &apos;Insert&apos;, 46: &apos;Delete&apos;, 48: &apos;0&apos;, 49: &apos;1&apos;, 50: &apos;2&apos;, 51: &apos;3&apos;, 52: &apos;4&apos;, 53: &apos;5&apos;, 54: &apos;6&apos;, 55: &apos;7&apos;, 56: &apos;8&apos;, 57: &apos;9&apos;, 65: &apos;A&apos;, 66: &apos;B&apos;, 67: &apos;C&apos;, 68: &apos;D&apos;, 69: &apos;E&apos;, 70: &apos;F&apos;, 71: &apos;G&apos;, 72: &apos;H&apos;, 73: &apos;I&apos;, 74: &apos;J&apos;, 75: &apos;K&apos;, 76: &apos;L&apos;, 77: &apos;M&apos;, 78: &apos;N&apos;, 79: &apos;O&apos;, 80: &apos;P&apos;, 81: &apos;Q&apos;, 82: &apos;R&apos;, 83: &apos;S&apos;, 84: &apos;T&apos;, 85: &apos;U&apos;, 86: &apos;V&apos;, 87: &apos;W&apos;, 88: &apos;X&apos;, 89: &apos;Y&apos;, 90: &apos;Z&apos;, 91: &apos;Windows&apos;, 93: &apos;Right Click&apos;, 96: &apos;Numpad 0&apos;, 97: &apos;Numpad 1&apos;, 98: &apos;Numpad 2&apos;, 99: &apos;Numpad 3&apos;, 100: &apos;Numpad 4&apos;, 101: &apos;Numpad 5&apos;, 102: &apos;Numpad 6&apos;, 103: &apos;Numpad 7&apos;, 104: &apos;Numpad 8&apos;, 105: &apos;Numpad 9&apos;, 106: &apos;Numpad *&apos;, 107: &apos;Numpad +&apos;, 109: &apos;Numpad -&apos;, 110: &apos;Numpad .&apos;, 111: &apos;Numpad /&apos;, 112: &apos;F1&apos;, 113: &apos;F2&apos;, 114: &apos;F3&apos;, 115: &apos;F4&apos;, 116: &apos;F5&apos;, 117: &apos;F6&apos;, 118: &apos;F7&apos;, 119: &apos;F8&apos;, 120: &apos;F9&apos;, 121: &apos;F10&apos;, 122: &apos;F11&apos;, 123: &apos;F12&apos;, 144: &apos;Num Lock&apos;, 145: &apos;Scroll Lock&apos;, 182: &apos;My Computer&apos;, 183: &apos;My Calculator&apos;, 186: &apos;;&apos;, 187: &apos;=&apos;, 188: &apos;,&apos;, 189: &apos;-&apos;, 190: &apos;.&apos;, 191: &apos;/&apos;, 192: &apos;`&apos;, 219: &apos;[&apos;, 220: &apos;\\&apos;, 221: &apos;]&apos;, 222: &apos;\&apos;&apos; }; /** * @desc Ê†πÊçÆkeycodeËé∑ÂæóÈîÆÂêç * @param {Number} keycode * @return {String} */ function getKeyName(keycode) { if (keyCodeMap[keycode]) { return keyCodeMap[keycode]; } else { console.log(&apos;Unknow Key(Key Code:&apos; + keycode + &apos;)&apos;); return &apos;&apos;; } }; 7.Object7.1 deepClone/** * @desc Ê∑±Êã∑Ë¥ùÔºåÊîØÊåÅÂ∏∏ËßÅÁ±ªÂûã * @param {Any} values */ function deepClone(values) { var copy; // Handle the 3 simple types, and null or undefined if (null == values || &quot;object&quot; != typeof values) return values; // Handle Date if (values instanceof Date) { copy = new Date(); copy.setTime(values.getTime()); return copy; } // Handle Array if (values instanceof Array) { copy = []; for (var i = 0, len = values.length; i &lt; len; i++) { copy[i] = deepClone(values[i]); } return copy; } // Handle Object if (values instanceof Object) { copy = {}; for (var attr in values) { if (values.hasOwnProperty(attr)) copy[attr] = deepClone(values[attr]); } return copy; } throw new Error(&quot;Unable to copy values! Its type isn&apos;t supported.&quot;); } 7.2 isEmptyObject/** * * @desc Âà§Êñ≠`obj`ÊòØÂê¶‰∏∫Á©∫ * @param {Object} obj * @return {Boolean} */ function isEmptyObject(obj) { if (!obj || typeof obj !== &apos;object&apos; || Array.isArray(obj)) return false return !Object.keys(obj).length } 8.Random8.1 randomColor/** * * @desc ÈöèÊú∫ÁîüÊàêÈ¢úËâ≤ * @return {String} */ function randomColor() { return &apos;#&apos; + (&apos;00000&apos; + (Math.random() * 0x1000000 &lt;&lt; 0).toString(16)).slice(-6); } 8.2 randomNum/** * * @desc ÁîüÊàêÊåáÂÆöËåÉÂõ¥ÈöèÊú∫Êï∞ * @param {Number} min * @param {Number} max * @return {Number} */ function randomNum(min, max) { return Math.floor(min + Math.random() * (max - min)); } 9.Regexp9.1 isEmail/** * * @desc Âà§Êñ≠ÊòØÂê¶‰∏∫ÈÇÆÁÆ±Âú∞ÂùÄ * @param {String} str * @return {Boolean} */ function isEmail(str) { return /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(str); } 9.2 isIdCard/** * * @desc Âà§Êñ≠ÊòØÂê¶‰∏∫Ë∫´‰ªΩËØÅÂè∑ * @param {String|Number} str * @return {Boolean} */ function isIdCard(str) { return /^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(str) } 9.3 isPhoneNum/** * * @desc Âà§Êñ≠ÊòØÂê¶‰∏∫ÊâãÊú∫Âè∑ * @param {String|Number} str * @return {Boolean} */ function isPhoneNum(str) { return /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(str) } 9.4 isUrl/** * * @desc Âà§Êñ≠ÊòØÂê¶‰∏∫URLÂú∞ÂùÄ * @param {String} str * @return {Boolean} */ function isUrl(str) { return /[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&amp;//=]*)/i.test(str); } 10.String10.1 digitUppercase/** * * @desc Áé∞ÈáëÈ¢ùËΩ¨Â§ßÂÜô * @param {Number} n * @return {String} */ function digitUppercase(n) { var fraction = [&apos;Ëßí&apos;, &apos;ÂàÜ&apos;]; var digit = [ &apos;Èõ∂&apos;, &apos;Â£π&apos;, &apos;Ë¥∞&apos;, &apos;ÂèÅ&apos;, &apos;ËÇÜ&apos;, &apos;‰ºç&apos;, &apos;ÈôÜ&apos;, &apos;Êüí&apos;, &apos;Êçå&apos;, &apos;Áéñ&apos; ]; var unit = [ [&apos;ÂÖÉ&apos;, &apos;‰∏á&apos;, &apos;‰∫ø&apos;], [&apos;&apos;, &apos;Êãæ&apos;, &apos;‰Ω∞&apos;, &apos;‰ªü&apos;] ]; var head = n &lt; 0 ? &apos;Ê¨†&apos; : &apos;&apos;; n = Math.abs(n); var s = &apos;&apos;; for (var i = 0; i &lt; fraction.length; i++) { s += (digit[Math.floor(n * 10 * Math.pow(10, i)) % 10] + fraction[i]).replace(/Èõ∂./, &apos;&apos;); } s = s || &apos;Êï¥&apos;; n = Math.floor(n); for (var i = 0; i &lt; unit[0].length &amp;&amp; n &gt; 0; i++) { var p = &apos;&apos;; for (var j = 0; j &lt; unit[1].length &amp;&amp; n &gt; 0; j++) { p = digit[n % 10] + unit[1][j] + p; n = Math.floor(n / 10); } s = p.replace(/(Èõ∂.)*Èõ∂$/, &apos;&apos;).replace(/^$/, &apos;Èõ∂&apos;) + unit[0][i] + s; } return head + s.replace(/(Èõ∂.)*Èõ∂ÂÖÉ/, &apos;ÂÖÉ&apos;) .replace(/(Èõ∂.)+/g, &apos;Èõ∂&apos;) .replace(/^Êï¥$/, &apos;Èõ∂ÂÖÉÊï¥&apos;); }; 11.Support11.1 isSupportWebP/** * * @desc Âà§Êñ≠ÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅwebPÊ†ºÂºèÂõæÁâá * @return {Boolean} */ function isSupportWebP() { return !![].map &amp;&amp; document.createElement(&apos;canvas&apos;).toDataURL(&apos;image/webp&apos;).indexOf(&apos;data:image/webp&apos;) == 0; } 12.Time12.1 formatPassTime/** * @desc Ê†ºÂºèÂåñ${startTime}Ë∑ùÁé∞Âú®ÁöÑÂ∑≤ËøáÊó∂Èó¥ * @param {Date} startTime * @return {String} */ function formatPassTime(startTime) { var currentTime = Date.parse(new Date()), time = currentTime - startTime, day = parseInt(time / (1000 * 60 * 60 * 24)), hour = parseInt(time / (1000 * 60 * 60)), min = parseInt(time / (1000 * 60)), month = parseInt(day / 30), year = parseInt(month / 12); if (year) return year + &quot;Âπ¥Ââç&quot; if (month) return month + &quot;‰∏™ÊúàÂâç&quot; if (day) return day + &quot;Â§©Ââç&quot; if (hour) return hour + &quot;Â∞èÊó∂Ââç&quot; if (min) return min + &quot;ÂàÜÈíüÂâç&quot; else return &apos;ÂàöÂàö&apos; } 12.2 formatRemainTime/** * * @desc Ê†ºÂºèÂåñÁé∞Âú®Ë∑ù${endTime}ÁöÑÂâ©‰ΩôÊó∂Èó¥ * @param {Date} endTime * @return {String} */ function formatRemainTime(endTime) { var startDate = new Date(); //ÂºÄÂßãÊó∂Èó¥ var endDate = new Date(endTime); //ÁªìÊùüÊó∂Èó¥ var t = endDate.getTime() - startDate.getTime(); //Êó∂Èó¥Â∑Æ var d = 0, h = 0, m = 0, s = 0; if (t &gt;= 0) { d = Math.floor(t / 1000 / 3600 / 24); h = Math.floor(t / 1000 / 60 / 60 % 24); m = Math.floor(t / 1000 / 60 % 60); s = Math.floor(t / 1000 % 60); } return d + &quot;Â§© &quot; + h + &quot;Â∞èÊó∂ &quot; + m + &quot;ÂàÜÈíü &quot; + s + &quot;Áßí&quot;; } 13.Url13.1 parseQueryString/** * * @desc urlÂèÇÊï∞ËΩ¨ÂØπË±° * @param {String} url default: window.location.href * @return {Object} */ function parseQueryString(url) { url = url == null ? window.location.href : url var search = url.substring(url.lastIndexOf(&apos;?&apos;) + 1) if (!search) { return {} } return JSON.parse(&apos;{&quot;&apos; + decodeURIComponent(search).replace(/&quot;/g, &apos;\\&quot;&apos;).replace(/&amp;/g, &apos;&quot;,&quot;&apos;).replace(/=/g, &apos;&quot;:&quot;&apos;) + &apos;&quot;}&apos;) } 13.2 stringfyQueryString/** * * @desc ÂØπË±°Â∫èÂàóÂåñ * @param {Object} obj * @return {String} */ function stringfyQueryString(obj) { if (!obj) return &apos;&apos;; var pairs = []; for (var key in obj) { var value = obj[key]; if (value instanceof Array) { for (var i = 0; i &lt; value.length; ++i) { pairs.push(encodeURIComponent(key + &apos;[&apos; + i + &apos;]&apos;) + &apos;=&apos; + encodeURIComponent(value[i])); } continue; } pairs.push(encodeURIComponent(key) + &apos;=&apos; + encodeURIComponent(obj[key])); } return pairs.join(&apos;&amp;&apos;); } 14.Function14.1 throttle/** * @desc ÂáΩÊï∞ËäÇÊµÅ„ÄÇ * ÈÄÇÁî®‰∫éÈôêÂà∂`resize`Âíå`scroll`Á≠âÂáΩÊï∞ÁöÑË∞ÉÁî®È¢ëÁéá * * @param {Number} delay 0 ÊàñËÄÖÊõ¥Â§ßÁöÑÊØ´ÁßíÊï∞„ÄÇ ÂØπ‰∫é‰∫ã‰ª∂ÂõûË∞ÉÔºåÂ§ßÁ∫¶100Êàñ250ÊØ´ÁßíÔºàÊàñÊõ¥È´òÔºâÁöÑÂª∂ËøüÊòØÊúÄÊúâÁî®ÁöÑ„ÄÇ * @param {Boolean} noTrailing ÂèØÈÄâÔºåÈªòËÆ§‰∏∫false„ÄÇ * Â¶ÇÊûúnoTrailing‰∏∫trueÔºåÂΩìËäÇÊµÅÂáΩÊï∞Ë¢´Ë∞ÉÁî®ÔºåÊØèËøá`delay`ÊØ´Áßí`callback`‰πüÂ∞ÜÊâßË°å‰∏ÄÊ¨°„ÄÇ * Â¶ÇÊûúnoTrailing‰∏∫falseÊàñËÄÖÊú™‰º†ÂÖ•Ôºå`callback`Â∞ÜÂú®ÊúÄÂêé‰∏ÄÊ¨°Ë∞ÉÁî®ËäÇÊµÅÂáΩÊï∞ÂêéÂÜçÊâßË°å‰∏ÄÊ¨°. * ÔºàÂª∂Ëøü`delay`ÊØ´Áßí‰πãÂêéÔºåËäÇÊµÅÂáΩÊï∞Ê≤°ÊúâË¢´Ë∞ÉÁî®,ÂÜÖÈÉ®ËÆ°Êï∞Âô®‰ºöÂ§ç‰ΩçÔºâ * @param {Function} callback Âª∂ËøüÊØ´ÁßíÂêéÊâßË°åÁöÑÂáΩÊï∞„ÄÇ`this`‰∏ä‰∏ãÊñáÂíåÊâÄÊúâÂèÇÊï∞ÈÉΩÊòØÊåâÂéüÊ†∑‰º†ÈÄíÁöÑÔºå * ÊâßË°åÂéªËäÇÊµÅÂäüËÉΩÊó∂ÔºåË∞ÉÁî®`callback`„ÄÇ * @param {Boolean} debounceMode Â¶ÇÊûú`debounceMode`‰∏∫trueÔºå`clear`Âú®`delay`msÂêéÊâßË°å„ÄÇ * Â¶ÇÊûúdebounceModeÊòØfalseÔºå`callback`Âú®`delay` ms‰πãÂêéÊâßË°å„ÄÇ * * @return {Function} Êñ∞ÁöÑËäÇÊµÅÂáΩÊï∞ */ function throttle(delay, noTrailing, callback, debounceMode) { // After wrapper has stopped being called, this timeout ensures that // `callback` is executed at the proper times in `throttle` and `end` // debounce modes. var timeoutID; // Keep track of the last time `callback` was executed. var lastExec = 0; // `noTrailing` defaults to falsy. if (typeof noTrailing !== &apos;boolean&apos;) { debounceMode = callback; callback = noTrailing; noTrailing = undefined; } // The `wrapper` function encapsulates all of the throttling / debouncing // functionality and when executed will limit the rate at which `callback` // is executed. function wrapper() { var self = this; var elapsed = Number(new Date()) - lastExec; var args = arguments; // Execute `callback` and update the `lastExec` timestamp. function exec() { lastExec = Number(new Date()); callback.apply(self, args); } // If `debounceMode` is true (at begin) this is used to clear the flag // to allow future `callback` executions. function clear() { timeoutID = undefined; } if (debounceMode &amp;&amp; !timeoutID) { // Since `wrapper` is being called for the first time and // `debounceMode` is true (at begin), execute `callback`. exec(); } // Clear any existing timeout. if (timeoutID) { clearTimeout(timeoutID); } if (debounceMode === undefined &amp;&amp; elapsed &gt; delay) { // In throttle mode, if `delay` time has been exceeded, execute // `callback`. exec(); } else if (noTrailing !== true) { // In trailing throttle mode, since `delay` time has not been // exceeded, schedule `callback` to execute `delay` ms after most // recent execution. // // If `debounceMode` is true (at begin), schedule `clear` to execute // after `delay` ms. // // If `debounceMode` is false (at end), schedule `callback` to // execute after `delay` ms. timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay); } } // Return the wrapper function. return wrapper; }; 14.2 debounce/** * @desc ÂáΩÊï∞Èò≤Êäñ * ‰∏éthrottle‰∏çÂêåÁöÑÊòØÔºådebounce‰øùËØÅ‰∏Ä‰∏™ÂáΩÊï∞Âú®Â§öÂ∞ëÊØ´ÁßíÂÜÖ‰∏çÂÜçË¢´Ëß¶ÂèëÔºåÂè™‰ºöÊâßË°å‰∏ÄÊ¨°Ôºå * Ë¶Å‰πàÂú®Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®returnÁöÑÈò≤ÊäñÂáΩÊï∞Êó∂ÊâßË°åÔºåË¶Å‰πàÂú®Âª∂ËøüÊåáÂÆöÊØ´ÁßíÂêéË∞ÉÁî®„ÄÇ * @example ÈÄÇÁî®Âú∫ÊôØÔºöÂ¶ÇÂú®Á∫øÁºñËæëÁöÑËá™Âä®Â≠òÂÇ®Èò≤Êäñ„ÄÇ * @param {Number} delay 0ÊàñËÄÖÊõ¥Â§ßÁöÑÊØ´ÁßíÊï∞„ÄÇ ÂØπ‰∫é‰∫ã‰ª∂ÂõûË∞ÉÔºåÂ§ßÁ∫¶100Êàñ250ÊØ´ÁßíÔºàÊàñÊõ¥È´òÔºâÁöÑÂª∂ËøüÊòØÊúÄÊúâÁî®ÁöÑ„ÄÇ * @param {Boolean} atBegin ÂèØÈÄâÔºåÈªòËÆ§‰∏∫false„ÄÇ * Â¶ÇÊûú`atBegin`‰∏∫falseÊàñÊú™‰º†ÂÖ•ÔºåÂõûË∞ÉÂáΩÊï∞ÂàôÂú®Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®returnÁöÑÈò≤ÊäñÂáΩÊï∞ÂêéÂª∂ËøüÊåáÂÆöÊØ´ÁßíË∞ÉÁî®„ÄÇ Â¶ÇÊûú`atBegin`‰∏∫trueÔºåÂõûË∞ÉÂáΩÊï∞ÂàôÂú®Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®returnÁöÑÈò≤ÊäñÂáΩÊï∞Êó∂Áõ¥Êé•ÊâßË°å * @param {Function} callback Âª∂ËøüÊØ´ÁßíÂêéÊâßË°åÁöÑÂáΩÊï∞„ÄÇ`this`‰∏ä‰∏ãÊñáÂíåÊâÄÊúâÂèÇÊï∞ÈÉΩÊòØÊåâÂéüÊ†∑‰º†ÈÄíÁöÑÔºå * ÊâßË°åÂéªÊäñÂä®ÂäüËÉΩÊó∂ÔºåÔºåË∞ÉÁî®`callback`„ÄÇ * * @return {Function} Êñ∞ÁöÑÈò≤ÊäñÂáΩÊï∞„ÄÇ */ var throttle = require(&apos;./throttle&apos;); function debounce(delay, atBegin, callback) { return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false); }; Â∞ÅË£Ö Èô§‰∫ÜÂØπ‰∏äÈù¢Ëøô‰∫õÂ∏∏Áî®ÂáΩÊï∞ËøõË°åÂ∞ÅË£ÖÔºå ÊúÄÈáçË¶ÅÁöÑÊòØÊîØÊåÅÂêàÁêÜÂåñÁöÑÂºïÂÖ•ÔºåËøôÈáåÊàë‰ª¨‰ΩøÁî®webpackÁªü‰∏ÄÊâìÂåÖÊàêUMD ÈÄöÁî®Ê®°ÂùóËßÑËåÉÔºåÊîØÊåÅwebpack„ÄÅRequireJS„ÄÅSeaJSÁ≠âÊ®°ÂùóÂä†ËΩΩÂô®Ôºå‰∫¶ÊàñÁõ¥Êé•ÈÄöËøá&lt;script&gt;Ê†áÁ≠æÂºïÂÖ•„ÄÇ ‰ΩÜËøôÊ†∑ÔºåËøòÊòØ‰∏çËÉΩËÆ©‰∫∫Êª°ÊÑè„ÄÇÂõ†‰∏∫ÂÆåÊï¥ÂºïÂÖ•Êï¥‰∏™Â∫ìÔºåÁï•ÊòæÊµ™Ë¥πÔºåÊàë‰ª¨‰∏çÂèØËÉΩÁî®Âà∞ÊâÄÊúâÁöÑÂáΩÊï∞„ÄÇÈÇ£‰πàÔºåÂ∞±ÊîØÊåÅÊåâÈúÄÂºïÂÖ•Âêß 1.ÁõÆÂΩïÁªìÊûÑËØ¥Êòé ‚îÇ .babelrc ‚îÇ .gitignore ‚îÇ .travis.yml ‚îÇ LICENSE ‚îÇ package.json ‚îÇ README.md ‚îÇ setCookie.js // Êã∑Ë¥ùÂà∞Ê†πË∑ØÂæÑÁöÑÂáΩÊï∞Ê®°ÂùóÔºåÊñπ‰æøÊåâÈúÄÂä†ËΩΩ ‚îÇ setScrollTop.js ‚îÇ stringfyQueryString.js ‚îÇ ... ‚îÇ ... ‚îÇ ‚îú‚îÄmin ‚îÇ outils.min.js // ÊâÄÊúâÂáΩÊï∞Áªü‰∏ÄÊâìÂåÖÁîüÊàêÁöÑÂÖ®ÈáèÂéãÁº©ÂåÖ ‚îÇ ‚îú‚îÄscript // Êú¨È°πÁõÆÂºÄÂèëËÑöÊú¨ÁõÆÂΩï ‚îÇ build.js // ÊâìÂåÖÊûÑÂª∫ËÑöÊú¨ ‚îÇ test.js // ÊµãËØïËÑöÊú¨ ‚îÇ webpack.conf.js // webpackÊâìÂåÖÈÖçÁΩÆÊñá‰ª∂ ‚îÇ ‚îú‚îÄsrc // Ê∫êÁ†ÅÁõÆÂΩï ‚îÇ ‚îÇ index.js // webpackÂÖ•Âè£Êñá‰ª∂ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄarray ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄclass ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄcookie ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄdevice ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄdom ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄkeycode ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄobject ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄrandom ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄregexp ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄstring ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄsupport ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄtime ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄurl ‚îÇ ‚îî‚îÄtest // ÊµãËØïÁî®‰æãÁõÆÂΩï ‚îÇ array.test.js ‚îÇ class.test.js ‚îÇ cookie.test.js ‚îÇ device.test.js ‚îÇ dom.test.js ‚îÇ index.html ‚îÇ keycode.test.js ‚îÇ object.test.js ‚îÇ random.test.js ‚îÇ regexp.test.js ‚îÇ string.test.js ‚îÇ support.test.js ‚îÇ time.test.js ‚îÇ url.test.js ‚îÇ ‚îî‚îÄ_lib // ÊµãËØïÊâÄÁî®Âà∞ÁöÑÁ¨¨‰∏âÊñπÂ∫ì mocha.css mocha.js power-assert.js 2.ÊûÑÂª∫ËÑöÊú¨ ËøôÈáå‰∏ªË¶ÅËØ¥Êòé‰∏Ä‰∏ãÈ°πÁõÆ‰∏≠ build.js ÁöÑÊûÑÂª∫ËøáÁ®ãÁ¨¨‰∏ÄÊ≠•ÔºåÊûÑÂª∫ÂÖ®ÈáèÂéãÁº©ÂåÖÔºåÂÖàÂà†Èô§minÁõÆÂΩï‰∏≠‰πãÂâçÁöÑoutils.min.jsÔºåÂêéÈÄöËøáwebpackÊâìÂåÖÂπ∂‰øùÂ≠òÊñ∞ÁöÑÂéãÁº©ÂåÖËá≥minÁõÆÂΩï‰∏≠Ôºö ...... ...... // Âà†Èô§ÊóßÁöÑÂÖ®ÈáèÂéãÁº©ÂåÖ rm(path.resolve(rootPath, &apos;min&apos;, `${pkg.name}.min.js`), err =&gt; { if (err) throw (err) webpack(config, function (err, stats) { if (err) throw (err) building.stop() process.stdout.write(stats.toString({ colors: true, modules: false, children: false, chunks: false, chunkModules: false }) + &apos;\n\n&apos;) resolve() console.log(chalk.cyan(&apos; Build complete.\n&apos;)) }) }) ...... ...... Á¨¨‰∫åÊ≠•ÔºåÊã∑Ë¥ùÂáΩÊï∞Ê®°ÂùóËá≥Ê†πÁõÆÂΩïÔºåÂÖàÂà†Èô§Ê†πÁõÆÂΩï‰∏≠‰πãÂâçÁöÑÂáΩÊï∞Ê®°ÂùóÔºåÂêéÊã∑Ë¥ùsrc‰∏ãÈù¢‰∏ÄÂ±ÇÁõÆÂΩïÁöÑÊâÄÊúâjsÊñá‰ª∂Ëá≥Ê†πÁõÆÂΩï„ÄÇËøô‰πàÂÅöÁöÑÁõÆÁöÑÊòØÔºåÊã∑Ë¥ùÂà∞Ê†πË∑ØÂæÑÔºåÂú®ÂºïÂÖ•ÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•require(&#39;outils/&lt;ÊñπÊ≥ïÂêç&gt;&#39;)Âç≥ÂèØÔºåÁº©Áü≠ÂºïÂÖ•ÁöÑË∑ØÂæÑÔºå‰πüÁÆóÊòØÊèêÈ´òÁÇπÊïàÁéá„ÄÇ // ÊõøÊç¢Ê®°ÂùóÊñá‰ª∂ ...... ...... // ÂÖàÂà†Èô§Ê†πÁõÆÂΩï‰∏≠‰πãÂâçÁöÑÂáΩÊï∞Ê®°Âùó rm(&apos;*.js&apos;, err =&gt; { if (err) throw (err) let folderList = fs.readdirSync(path.resolve(rootPath, &apos;src&apos;)) folderList.forEach((item, index) =&gt; { // Êã∑Ë¥ù`src`‰∏ãÈù¢‰∏ÄÂ±ÇÁõÆÂΩïÁöÑÊâÄÊúâ`js`Êñá‰ª∂Ëá≥Ê†πÁõÆÂΩï copy(`src/${item}/*.js`, rootPath, function (err, files) { if (err) throw err; if (index === folderList.length - 1) { console.log(chalk.cyan(&apos; Copy complete.\n&apos;)) copying.stop() } }) }) }) ...... ...... 3.‰π¶ÂÜôÊµãËØïÁî®‰æã ‰øóËØùËØ¥Ôºå‰∏çÂÜôÊµãËØïÁî®‰æãÁöÑÂâçÁ´Ø‰∏çÊòØ‰∏Ä‰∏™Â•ΩÁ®ãÂ∫èÂëò„ÄÇÈÇ£Â∞±‰∏çËÉΩÊÄÇÔºåÂ∞±ÊòØÂπ≤„ÄÇ ‰ΩÜÊòØÂõ†‰∏∫Êó∂Èó¥ÂÖ≥Á≥ªÔºåÊú¨È°πÁõÆÊöÇÊó∂ÈÄöËøáÈ°πÁõÆ‰∏≠ÁöÑ test.js ÔºåÂêØÂä®‰∫Ü‰∏Ä‰∏™koaÈùôÊÄÅÊúçÂä°Âô®ÔºåÊù•Âä†ËΩΩmochaÁΩëÈ°µÁ´ØÁöÑÊµãËØïÈ°µÈù¢ÔºåËÆ©Á¨îËÄÖ‰π¶ÂÜôÈ°πÁõÆÊó∂ÔºåÂèØ‰ª•Âú®Êú¨Âú∞ÂØπÂáΩÊï∞ÂäüËÉΩËøõË°åÊµãËØï„ÄÇ‰ΩÜÊòØÂêéÁª≠Â∞Ü‰ΩøÁî®travis-ciÈÖçÂêàGithubÊù•ÂÅöÊåÅÁª≠ÂåñÊûÑÂª∫ÔºåËá™Âä®ÂèëÂ∏ÉÂà∞npm„ÄÇÊîπÁî®karmaÔºåmochaÔºåpower-assertÂÅöÂçïÂÖÉÊµãËØïÔºå‰ΩøÁî®CoverageÊµãËØïË¶ÜÁõñÁéá„ÄÇËøô‰∏ÄÈÉ®ÂàÜÔºåÂêéÁª≠Êõ¥Êñ∞„ÄÇ ËøôÈáåÁªôÂ§ßÂÆ∂Êé®Ëçê‰∏Ä‰∏™Â•ΩÁî®ÁöÑÊñ≠Ë®ÄÂ∫ì power-assert ÔºåËøô‰∏™Â∫ìËÆ∞‰Ωèassert(value, [message])‰∏Ä‰∏™APIÂ∞±Âü∫Êú¨Êó†ÊïåÔºå‰ªéÊ≠§ÂÜç‰πü‰∏çÁî®ÊãÖÂøÉËÆ∞‰∏ç‰ΩèÊñ≠Ë®ÄÂ∫ìÁöÑAPI„ÄÇ Êú¨È°πÁõÆÁöÑÊâÄÊúâÊµãËØïÁî®‰æãÈÉΩÂú®testÁõÆÂΩï‰∏ãÔºåÂ§ßÂÆ∂ÂèØ‰ª•‰Ωú‰∏ÄÂÆöÂèÇËÄÉ„ÄÇ Êõ¥Êñ∞ÔºöÂçïÂÖÉÊµãËØïÔºåÂ∑≤‰ΩøÁî®karmaÔºåmochaÔºåpower-assertÔºå‰ΩøÁî®CoverageÊµãËØïË¶ÜÁõñÁéáÔºåÂπ∂ÈõÜÊàê travis-ci ÈÖçÂêàGithubÊù•ÂÅöÊåÅÁª≠ÂåñÊûÑÂª∫ÔºåÂèØ‰ª•ÂèÇËÄÉÊú¨È°πÁõÆÁöÑtravisÈÖçÁΩÆÊñá‰ª∂ .travis.yml ÂíåkarmaÁöÑÈÖçÁΩÆÊñá‰ª∂ karma.conf.js „ÄÇ ÂèëÂ∏É È¶ñÂÖàÊîæÂà∞GithubÊâòÁÆ°‰∏Ä‰∏ãÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Áõ¥Êé•forkÊú¨È°πÁõÆÔºåÁÑ∂ÂêéÂÜçÂä†ÂÖ•‰Ω†Ëá™Â∑±ÁöÑÂáΩÊï∞„ÄÇ‰ª•Á¨îËÄÖÈ°πÁõÆÔºå‰∏æ‰∏™Ê†óÂ≠ê: 1.Ê∑ªÂä†Ëá™Â∑±ÁöÑÂáΩÊï∞ Âú®srcÁõÆÂΩï‰∏ãÔºåÊñ∞Âª∫ÂàÜÁ±ªÁõÆÂΩïÊàñËÄÖÈÄâÊã©‰∏Ä‰∏™ÂàÜÁ±ªÔºåÂú®Â≠êÊñá‰ª∂Â§π‰∏≠Ê∑ªÂä†ÂáΩÊï∞Ê®°ÂùóÊñá‰ª∂ÔºàÂª∫ËÆÆ‰∏Ä‰∏™Â∞èÂäüËÉΩ‰øùÂ≠ò‰∏∫‰∏Ä‰∏™JSÊñá‰ª∂Ôºâ„ÄÇ /** * * @desc Âà§Êñ≠ÊòØÂê¶NaN * @param {Any} value * @return {Boolean} */ function isNaN(value) { return value !== value; }; modules.export = isNaN ÁÑ∂ÂêéËÆ∞ÂæóÂú®src/index.jsÊñá‰ª∂‰∏≠Êö¥Èú≤isNaNÂáΩÊï∞ 2.ÂçïÂÖÉÊµãËØï Âú®testÊñá‰ª∂Êñ∞Âª∫ÊµãËØïÁî®‰æã describe(&apos;#isNaN()&apos;, function () { it(`outils.isNaN(NaN) should return true`, function () { assert(outils.isNaN(NaN)) }) it(`outils.isNaN(&apos;value&apos;) should return false`, function () { assert.notEqual(outils.isNaN(NaN)) }) }) ÁÑ∂ÂêéËÆ∞ÂæóÂú®test/index.html‰∏≠ÂºïÂÖ•‰πãÂâçÂàõÂª∫ÁöÑÊµãËØïÁî®‰æãËÑöÊú¨„ÄÇ 3.ÊµãËØïÂπ∂ÊâìÂåÖ ÊâßË°ånpm run testÔºåÁúãÊâÄÊúâÁöÑÊµãËØïÁî®‰æãÊòØÂê¶ÈÄöËøá„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÈóÆÈ¢òÔºåÊâßË°ånpm run buildÊûÑÂª∫Ôºå‰πãÂêéÊèê‰∫§Âà∞‰∏™‰∫∫ÁöÑ github ‰ªìÂ∫ìÂç≥ÂèØ„ÄÇ 4.ÂèëÂ∏ÉÂà∞npm Âú® www.npmjs.com Ê≥®ÂÜåË¥¶Âè∑Ôºå‰øÆÊîπÊú¨Âú∞package.json‰∏≠ÁöÑname„ÄÅversion„ÄÅauthorÁ≠â‰ø°ÊÅØÔºåÊúÄÂêénpm publishÂ∞±Â§ßÂäüÂëäÊàê‰∫Ü„ÄÇÊ≥®ÊÑèÔºöÂêënpmÂèëÂåÖÔºåË¶ÅÊääÈïúÂÉèÊ∫êÂàáÂà∞ www.npmjs.com Ôºå‰ΩøÁî®cnpmÁ≠âÁ¨¨‰∏âÊñπÈïúÂÉèÊ∫ê‰ºöÊä•Èîô„ÄÇ ‰ΩøÁî® 1.ÊµèËßàÂô® Áõ¥Êé•‰∏ãËΩΩminÁõÆÂΩï‰∏ãÁöÑ outils.min.js ÔºåÈÄöËøá&lt;script&gt;Ê†áÁ≠æÂºïÂÖ•„ÄÇ &lt;script src=&quot;outils.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var OS = outils.getOS() &lt;/script&gt; Ê≥®ÊÑèÔºö Êú¨‰ªìÂ∫ì‰ª£Á†Å‰ºöÊåÅÁª≠Êõ¥Êñ∞ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶Å‰∏çÂêåÁâàÊú¨ÁöÑÂ¢ûÈáèÂéãÁº©ÂåÖÊàñÊ∫êÁ†ÅÔºåËØ∑Âà∞ github Release È°µÈù¢‰∏ãËΩΩÂØπÂ∫îÁâàÊú¨Âè∑ÁöÑ‰ª£Á†Å„ÄÇ 2.Webpack„ÄÅRequireJS„ÄÅSeaJSÁ≠âÊ®°ÂùóÂä†ËΩΩÂô® ÂÖà‰ΩøÁî®npmÂÆâË£Öoutils„ÄÇ $ npm install --save-dev outils // ÂÆåÊï¥ÂºïÂÖ• const outils = require(&apos;outils&apos;) const OS = outils.getOS() Êé®Ëçê‰ΩøÁî®ÊñπÊ≥ï // ÊåâÈúÄÂºïÂÖ•require(&apos;outils/&lt;ÊñπÊ≥ïÂêç&gt;&apos;) const getOS = require(&apos;outils/getOS&apos;) const OS = getOS() ÂΩìÁÑ∂Ôºå‰Ω†ÁöÑÂºÄÂèëÁéØÂ¢ÉÊúâbabelÁºñËØëES6ËØ≠Ê≥ïÁöÑËØùÔºå‰πüÂèØ‰ª•ËøôÊ†∑‰ΩøÁî®Ôºö import getOS from &apos;outils/getOS&apos; // Êàñ import { getOS } from &quot;outils&quot;; ÊÄªÁªì ËøôÈáåÂè™ÊòØÁÆÄÂçïÂ∞ÅË£ÖÔºåÂèëÂ∏ÉÂà∞npm‰∏äÔºåÁúÅÂéª‰∏ãÊ¨°Â§çÂà∂Á≤òË¥¥ÁöÑÂäüÂ§´ÔºåÊàñËÄÖÁõ¥Êé•GooleÁöÑÊó∂Èó¥„ÄÇÂ¶ÇÊûúÁ¨îËÄÖÁöÑÂ∫ì‰∏≠ÔºåÊ≤°Êúâ‰Ω†Â∏∏Áî®ÁöÑÂáΩÊï∞ÔºåÊàñËÄÖ‰Ω†ÊúâÊõ¥Â•ΩÁöÑÂª∫ËÆÆÔºåÊ¨¢ËøéÊù•Êú¨È°πÁõÆÁöÑ Github Issues ‰∫§ÊµÅÔºåÂ¶ÇÊûúËßâÂæó‰∏çÈîôÔºåÊ¨¢Ëøé star Êú¨È°πÁõÆ„ÄÇ ÂΩìÁÑ∂ÔºåÊõ¥Â•ΩÁöÑÂª∫ËÆÆÊòØ fork Êú¨È°πÁõÆÔºåÊàñËÄÖÁõ¥Êé•Êñ∞Âª∫Ëá™Â∑±ÁöÑÈ°πÁõÆÔºåÊ∑ªÂä†Ëá™Â∑± ÊÉ≥Ë¶ÅÁöÑ „ÄÅÂ∏∏Áî®ÁöÑ „ÄÅËÆ∞‰∏ç‰ΩèÁöÑ ÂáΩÊï∞ÔºåÁîöËá≥ÊòØÂèØ‰ª•ÊäΩË±°Âá∫Êù•ÁöÑÂäüËÉΩÔºåÂ∞ÅË£ÖÊàêËá™Â∑±È°∫Êâã„ÄÅÁÜüÊÇâÁöÑÂ∫ì„ÄÇ ËøôÊ†∑ÊâçËÉΩÊâìÈÄ†Âá∫‰Ω†Ëá™Â∑±ÁöÑÊ≠¶Âô®Â∫ìÔºåÁû¨Èó¥ÊèêÈ´ò‰Ω†ÁöÑÂçïÂÖµ‰ΩúÊàòÔºàÂºÄÂèëÔºâËÉΩÂäõ„ÄÇ libraries Ôºöhttps://github.com/wuxianqiang/librariesÁõÆÂΩï ‰ªøECMAScript5‰∏≠Object.create()ÂáΩÊï∞ ‰ªøECMAScript5‰∏≠String.trim()ÂáΩÊï∞ ‰ªøECMAScript5‰∏≠Array.reduce()ÂáΩÊï∞ ‰ªøECMAScript5‰∏≠Object.keys()ÂáΩÊï∞ ‰ªøECMAScript5‰∏≠Function.bind()ÂáΩÊï∞ ‰ªøECMAScript5‰∏≠Array.map()ÂáΩÊï∞ ‰ªøMath.max()ÊñπÊ≥ïÂÆûÁé∞ ‰ªøString.match()ÊñπÊ≥ïÂÆûÁé∞ ‰ªøHTML5ÁöÑclassListÂ±ûÊÄßÂÆûÁé∞ ‰ªøFunction.nameÂ±ûÊÄßÂÆûÁé∞ ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨nÂ±ÇÁ•ñÂÖàÂÖÉÁ¥† ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥† ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™Â≠ê‰ª£ÂÖÉÁ¥† ÂéüÁîüJSÂÆûÁé∞CSSÂä®Áîª‰πãÈúáÂä® ÂéüÁîüJSÂÆûÁé∞CSSÂä®Áîª‰πãÈöêËóè Âú®Êï∞ÁªÑ‰∏≠Êü•ÊâæÊâÄÊúâÂá∫Áé∞ÁöÑÂÖÉÁ¥†ÊñπÊ≥ï Êï∞ÊçÆÁ±ªÂûãÊ£ÄÊµã‰πãÁâπÊÆäÊÉÖÂÜµÁâπÊÆäÂ§ÑÁêÜ ‰ΩøÁî®innerHTMLÂÆûÁé∞outerHTMLÂ±ûÊÄß ÊèíÂÖ•ËäÇÁÇπ ÂÄíÂ∫èÊéíÂàóÂ≠êËäÇÁÇπ Êü•ËØ¢Á™óÂè£ÊªöÂä®Êù°ÁöÑ‰ΩçÁΩÆ Êü•ËØ¢Á™óÂè£ÁöÑËßÜÂè£Â∞∫ÂØ∏ Ë°®Ê†ºÁöÑË°åÊéíÂ∫è ÁîüÊàêÁõÆÂΩïË°® Êï∞ÁªÑÂéªÈáç ÂÜíÊ≥°ÊéíÂ∫è ‰ªéURLËß£ÊûêÂèÇÊï∞ Ëé∑ÂèñÁ∫ØÊñáÊú¨ÁöÑÂÖÉÁ¥†ÂÜÖÂÆπ ÊâãÂÜô‰∏Ä‰∏™JSONPÂÆûÁé∞ Êü•ËØ¢Á∫ØÊñáÊú¨ÂΩ¢ÂºèÁöÑÂÜÖÂÆπ Êü•ÊâæÂÖÉÁ¥†ÁöÑÂêé‰ª£‰∏≠ËäÇÁÇπ‰∏≠ÁöÑÊâÄÊúâTextËäÇÁÇπ ‰ΩøÁî®innerHTMLÂÆûÁé∞insertAdjacentHTML ÊãñÊãΩ Âú®Ë∞∑Ê≠åÂú∞Âõæ‰∏äÊòæÁ§∫Âú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØ ‰ΩøÁî®ÊâÄÊúâÂú∞ÁêÜ‰ΩçÁΩÆÁâπÊÄß ‰ºòÈõÖÁöÑÂõæÁâáÁøªËΩ¨ÂÆûÁé∞ ‰ΩøÁî®canvasÁªòÂà∂Â§öËæπÂΩ¢ ‰ΩøÁî®canvasÁªòÂà∂Èõ™Ëä± Âú®Web Worker‰∏≠ÂèëËµ∑ÂêåÊ≠•XMLHtttpRequest ‰ªøECMAScript5‰∏≠Object.create()ÂáΩÊï∞function inherit(obj) { if (obj === null) throw TypeError(); if (Object.create) return Object.create(obj); var t = typeof obj; if (t !== &quot;object&quot; &amp;&amp; t !== &quot;function&quot;) throw TypeError(); function Fn() {}; Fn.prototype = obj; return new Fn(); } ‰ªøECMAScript5‰∏≠String.trim()ÂáΩÊï∞String.prototype.mytrim = function () { String.prototype.trim || function () { if (!this) return this; //Á©∫Â≠óÁ¨¶‰∏≤‰∏çÂÅöÂ§ÑÁêÜ return this.replace(/^\s+|\s+$/g, &quot;&quot;) //‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÁªèË°åÁ©∫Ê†ºÊõøÊç¢ } } ‰ªøECMAScript5‰∏≠Array.reduce()ÂáΩÊï∞var reduce = Array.prototype.reduce ? function (ary, fn, initial) { if (arguments.length &gt; 2) { //Â¶ÇÊûúreduce()ÊñπÊ≥ïÂ≠òÂú®ÁöÑËØù return ary.reduce(fn, initial); //Â¶ÇÊûú‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™ÂàùÂßãÂÄº } else { return ary.reduce(fn); //Âê¶ÂàôÂàùÂßãÂÄº } } : function (ary, fn, initial) { //‰ª•ÁâπÂÆöÁöÑÂàùÂßãÂÄºÂºÄÂßãÔºåÂê¶ÂàôÁ¨¨‰∏Ä‰∏™ÂÄºÂèñËá™ary var i = 0, len = ary.length, accumulator; if (arguments.length &gt; 2) { accumulator = initial; } else { //ÊâæÂà∞Êï∞ÁªÑ‰∏≠Á¨¨‰∏Ä‰∏™Â∑≤ÁªèÂÆö‰πâÁöÑÁ¥¢Âºï if (len == 0) throw TypeError(); while (i &lt; len) { if (i in ary) { accumulator = ary[i++]; break; } else { i++; } } if (i == len) throw TypeError(); } while (i &lt; len) { //ÂØπ‰∫éÊï∞ÁªÑ‰∏≠Ââ©‰∏ãÁöÑÂÖÉÁ¥†‰æùÊ¨°Ë∞ÉÁî®fn if (i in ary) { accumulator = fn.call(undefined, accumulator, ary[i], i, ary) } i++; } return accumulator; } ‚¨Ü back to top Âú®Êï∞ÁªÑ‰∏≠Êü•ÊâæÊâÄÊúâÂá∫Áé∞ÁöÑÂÖÉÁ¥†ÊñπÊ≥ïfunction findAll(ary, ele) { var results = [], len = ary.length, pos = 0; while (pos &lt; len) { pos = ary.indexOf(ele, pos); if (pos === -1) break; results.push(pos); pos++; } return results; } ‚¨Ü back to top Êï∞ÊçÆÁ±ªÂûãÊ£ÄÊµãÔºåÁâπÊÆäÊÉÖÂÜµÁâπÊÆäÂ§ÑÁêÜfunction classOf(obj) { if (obj === null) return &quot;Null&quot;; if (obj === undefined) return &apos;Undefined&apos;; return Object.prototype.toString.call(obj).slice(8, -1); } ‚¨Ü back to top ‰ªøECMAScript5‰∏≠Object.keys()ÂáΩÊï∞function keys(obj) { if (typeof obj !== &quot;object&quot;) { throw TypeError(); } var result = []; for (var prop in obj) { if (obj.hasOwnProperty(prop)) { result.push(prop); } } return result; } ‚¨Ü back to top ‰ªøMath.maxÊñπÊ≥ïÔºà‰∏çÂÆöÂÆûÂèÇÂáΩÊï∞Ôºâfunction max() { var max = Number.NEGATIVE_INFINITY; for (var i = 0; i &lt; arguments.length; i++) { if (arguments[i] &gt; max) max = arguments[i]; } return max; } ‚¨Ü back to top ‰ªøECMAScript5‰∏≠Function.bind()ÂáΩÊï∞if (!Function.prototype.bind) { Function.prototype.bind = function (obj) { var self = this, boundArgs = arguments; return function () { var args = [], i; for (i = 1; i &lt; boundArgs.length; i++) args.push(boundArgs[i]); for (i = 1; i &lt; arguments.length; i++) args.push(arguments[i]); return self.apply(obj, args); } } } ‚¨Ü back to top ‰ªøECMAScript5‰∏≠Array.map()ÂáΩÊï∞var map = Array.prototype.map ? function (ary, fn) { return ary.map(fn); } : function (ary, fn) { var results = []; for (var i = 0, len = ary.length; i &lt; len; i++) { if (i in ary) { results[i] = fn.call(null, ary[i], i, ary); } } return results; } ‚¨Ü back to top Êï∞ÁªÑÂéªÈáçArray.prototype.unique = function unique() { var obj = {}; for (var i = 0; i &lt; this.length; i++) { var current = this[i]; if (obj[current] === current) { current = this[this.length - 1]; this.length--; i--; continue; } obj[current] = current } obj = null; return this; } ‚¨Ü back to top ÂÜíÊ≥°ÊéíÂ∫èArray.prototype.bubbleSort = function bubbleSort() { var temp = null; for (var i = 0; i &lt; this.length - 1; i++) { for (var k = 0; k &lt; this.length - 1 - i; k++) { if (this[k] &gt; this[k + 1]) { temp = this[k]; this[k] = this[k + 1]; this[k + 1] = temp; } } } return this; } ‚¨Ü back to top ‰ªøString.match()ÊñπÊ≥ïÂÆûÁé∞String.prototype.mymatch = function (reg) { var ary = []; var res = reg.exec(this); while (res) { ary.push(res[0]); res = reg.exec(this); } return ary; } ‚¨Ü back to top ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨nÂ±ÇÁ•ñÂÖàÂÖÉÁ¥†/** *ËøîÂõûÂÖÉÁ¥†eleÁöÑÁ¨¨nÂ±ÇÁ•ñÂÖàÂÖÉÁ¥†ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Ê≠§Á±ªÁ•ñÂÖàÊàñÁ•ñÂÖà‰∏çÊòØElementÔºå *Ôºà‰æãÂ¶ÇDocumentÊàñËÄÖDocumentFragmentÔºâÂàôËøîÂõûnull *Â¶ÇÊûún‰∏∫0ÔºåÂàôËøîÂõûeÊú¨Ë∫´„ÄÇÂ¶ÇÊûún‰∏∫1ÔºàÊàñÁúÅÁï•ÔºâÔºåÂàôËøîÂõûÂÖ∂Áà∂ÂÖÉÁ¥† *Â¶ÇÊûún‰∏∫2ÔºåÂàôËøîÂõûÂÖ∂Á•ñÁà∂ÂÖÉÁ¥†Ôºå‰æùÊ¨°Á±ªÊé® */ function parent(ele, n) { if (n === nudefined) n = 1; while (n-- &amp;&amp; ele) { ele = ele.parentNode; } if (!ele || ele.nodeTope !== 1) return null; return ele; } ‚¨Ü back to top ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥†/** *ËøîÂõûÂÖÉÁ¥†eleÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥† *Â¶ÇÊûún‰∏∫Ê≠£ÔºåËøîÂõûÂêéÁª≠ÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥† *Â¶ÇÊûún‰∏∫Ë¥üÔºåËøîÂõûÂâçÈù¢ÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥† *Â¶ÇÊûún‰∏∫Èõ∂ÔºåËøîÂõûeleÊú¨Ë∫´ */ function sibling(ele, n) { while (ele &amp;&amp; n !== 0) { //Â¶ÇÊûúeleÊú™ÂÆö‰πâÔºåÂç≥ÂàªËøîÂõûÂÆÉ if (n &gt; 0) { //Êü•ÊâæÂêéÁª≠ÁöÑÂÖÑÂºüÂÖÉÁ¥† if (ele.nextElementSibling) { ele = ele.nextElementSibling; } else { for (ele = ele.nextSibling; ele &amp;&amp; ele.nodeType !== 1; ele = ele.nextSibling) /*Á©∫Âæ™ÁéØ*/; } n--; } else { //Êü•ÊâæÂâçÈù¢ÁöÑÂÖÑÂºüÂÖÉÁ¥† if (ele.previousElementSibing) { ele = ele.previousElementSibling; } else { for (ele = ele.previousSibling; ele &amp;&amp; ele.nodeType !== 1; ele = ele.previousSibling) /*Á©∫Âæ™ÁéØ*/; } n++; } } return ele; } ‚¨Ü back to top ËøîÂõûÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™Â≠ê‰ª£ÂÖÉÁ¥†/** *ËøîÂõûÂÖÉÁ¥†eleÁöÑÁ¨¨n‰ª£Â≠êÂÖÉÁ¥†ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Âàô‰∏∫null *Ë¥üÂÄºn‰ª£Ë°®‰ªéÂêéÂæÄÂâçËÆ°Êï∞„ÄÇ0Ë°®Á§∫Á¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÔºåËÄå-1‰ª£Ë°®ÊúÄÂêé‰∏Ä‰∏™Ôºå-2‰ª£Ë°®ÂÄíÊï∞Á¨¨‰∫å‰∏™Ôºå‰æùÊ¨°Á±ªÊé® */ function child(ele, n) { if (ele.children) { //Â¶ÇÊûúchildrenÊï∞ÁªÑÂ≠òÂú® if (n &lt; 0) n += ele.children.length; //ËΩ¨Êç¢Ë¥üÁöÑn‰∏∫Êï∞ÁªÑÁ¥¢Âºï if (n &lt; 0) return null; //Â¶ÇÊûúÂÆÉ‰ªçÁÑ∂‰∏∫Ë¥üÔºåËØ¥ÊòéÊ≤°ÊúâÂ≠êÂÖÉÁ¥† return ele.children[n]; //ËøîÂõûÊåáÂÆöÁöÑÂ≠êÂÖÉÁ¥† } //Â¶ÇÊûúeÊ≤°ÊúâchildrenÊï∞ÁªÑÔºåÊâæÂà∞Á¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†Âπ∂ÂêëÂâçÊï∞ÔºåÊàñÊâæÂà∞ÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†Âπ∂ÂæÄÂõûÊï∞ if (n &gt;= 0) { //nÈùûË¥üÔºö‰ªéÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂêëÂâçÊï∞ //ÊâæÂà∞ÂÖÉÁ¥†eÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥† if (ele.firstElementChild) { ele = ele.firstElementChild; } else { for (ele = ele.firstChild; ele &amp;&amp; ele.nodeType !== 1; ele = ele.nextSibling) /*Á©∫Âæ™ÁéØ*/; } return sibling(ele, n); //ËøîÂõûÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÁöÑÁ¨¨n‰∏™ÂÖÑÂºüÂÖÉÁ¥† } else { //n‰∏∫Ë¥üÔºö‰ªéÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂæÄÂõûÊï∞ if (ele.lastElementChild) { ele = ele.lastElementChild; } else { for (ele = ele.lastChild; ele &amp;&amp; ele.nodeType !== 1; ele = ele.previousSibling) /*Á©∫Âæ™ÁéØ*/; } return sibling(ele, n + 1); //+1Êù•ËΩ¨ÂåñÊúÄÂêé1‰∏™Â≠êÂÖÉÁ¥†‰∏∫ÊúÄÂêé1‰∏™ÂÖÑÂºüÂÖÉÁ¥† } } ‚¨Ü back to top Ë°®Ê†ºÁöÑË°åÊéíÂ∫è//Ê†πÊçÆÊåáÂÆöË°®Ê†ºÊØèË°åÁ¨¨n‰∏™ÂçïÂÖÉÊ†ºÁöÑÂÄºÔºåÂØπÁ¨¨‰∏Ä‰∏™ÔºútbodyÔºû‰∏≠ÁöÑË°åËøõË°åÊéíÂ∫è //Â¶ÇÊûúÂ≠òÂú®comparatorÂáΩÊï∞Âàô‰ΩøÁî®ÂÆÉÔºåÂê¶ÂàôÊåâÂ≠óÊØçË°®È°∫Â∫èÊØîËæÉ function sortrows(table, n, comparator) { var tbody = table.tBodies[0]; //Á¨¨‰∏Ä‰∏™ÔºútbodyÔºûÔºåÂèØËÉΩÊòØÈöêÂºèÂàõÂª∫ÁöÑ var rows = tbody.getElementsByTagName(&quot;tr&quot;); //tbody‰∏≠ÁöÑÊâÄÊúâË°å rows = Array.prototype.slice.call(rows, 0); //ÁúüÂÆûÊï∞ÁªÑ‰∏≠ÁöÑÂø´ÁÖß //Âü∫‰∫éÁ¨¨n‰∏™ÔºútdÔºûÂÖÉÁ¥†ÁöÑÂÄºÂØπË°åÊéíÂ∫è rows.sort(function (row1, row2) { var cell1 = row1.getElementsByTagName(&quot;td&quot;)[n]; //Ëé∑ÂæóÁ¨¨n‰∏™ÂçïÂÖÉÊ†º var cell2 = row2.getElementsByTagName(&quot;td&quot;)[n]; //‰∏§Ë°åÈÉΩÊòØ var val1 = cell1.textContent || cell1.innerText; //Ëé∑ÂæóÊñáÊú¨ÂÜÖÂÆπ var val2 = cell2.textContent || cell2.innerText; //‰∏§ÂçïÂÖÉÊ†ºÈÉΩÊòØ if (comparator) return comparator(val1, val2); //ËøõË°åÊØîËæÉ if (val1 &lt; val2) { return -1; } else if (val1 &gt; val2) { return 1; } else { return 0; } }); //Âú®tbody‰∏≠ÊåâÂÆÉ‰ª¨ÁöÑÈ°∫Â∫èÊääË°åÊ∑ªÂä†Âà∞ÊúÄÂêé //ËøôÂ∞ÜËá™Âä®ÊääÂÆÉ‰ª¨‰ªéÂΩìÂâç‰ΩçÁΩÆÁßªËµ∞ÔºåÊïÖÊ≤°ÂøÖË¶ÅÈ¢ÑÂÖàÂà†Èô§ÂÆÉ‰ª¨ //Â¶ÇÊûúÔºútbodyÔºûËøòÂåÖÂê´‰∫ÜÈô§‰∫ÜÔºútrÔºûÁöÑ‰ªª‰ΩïÂÖ∂‰ªñÂÖÉÁ¥†ÔºåËøô‰∫õËäÇÁÇπÂ∞Ü‰ºöÊÇ¨ÊµÆÂà∞È°∂ÈÉ®‰ΩçÁΩÆ for (var i = 0; i &lt; rows.length; i++) tbody.appendChild(rows[i]); } //Êü•ÊâæË°®Ê†ºÁöÑÔºúthÔºûÂÖÉÁ¥†ÔºàÂÅáËÆæÂè™Êúâ‰∏ÄË°åÔºâÔºåËÆ©ÂÆÉ‰ª¨ÂèØÂçïÂáªÔºå //‰ª•‰æøÂçïÂáªÂàóÊ†áÈ¢òÔºåÊåâËØ•ÂàóÂØπË°åÊéíÂ∫è function makeSortable(table) { var headers = table.getElementsByTagName(&quot;th&quot;); for (var i = 0; i &lt; headers.length; i++) { (function (n) { //ÂµåÂ•óÂáΩÊï∞Êù•ÂàõÂª∫Êú¨Âú∞‰ΩúÁî®Âüü headers[i].onclick = function () { sortrows(table, n); }; }(i)); //Â∞ÜiÁöÑÂÄºËµãÁªôÂ±ÄÈÉ®ÂèòÈáèn } } ‚¨Ü back to top ÁîüÊàêÁõÆÂΩïË°®/** * *Ëøô‰∏™Ê®°ÂùóÊ≥®ÂÜå‰∏Ä‰∏™ÂèØÂú®È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéËá™Âä®ËøêË°åÁöÑÂåøÂêçÂáΩÊï∞„ÄÇÂΩìÊâßË°åËøô‰∏™ÂáΩÊï∞Êó∂‰ºöÂéªÊñáÊ°£‰∏≠Êü•Êâæ *id‰∏∫&quot;TOC&quot;ÁöÑÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúËøô‰∏™ÂÖÉÁ¥†‰∏çÂ≠òÂú®ÔºåÂ∞±ÂàõÂª∫‰∏Ä‰∏™ÂÖÉÁ¥† * *ÁîüÊàêÁöÑTOCÁõÆÂΩïÂ∫îÂΩìÂÖ∑ÊúâËá™Â∑±ÁöÑCSSÊ†∑Âºè„ÄÇÊï¥‰∏™ÁõÆÂΩïÂå∫ÂüüÁöÑÊ†∑ÂºèclassNameËÆæÁΩÆ‰∏∫&quot;TOCEntry&quot; *ÂêåÊ†∑Êàë‰ª¨‰∏∫‰∏çÂêåÂ±ÇÁ∫ßÁöÑÁõÆÂΩïÊ†áÈ¢òÂÆö‰πâ‰∏çÂêåÁöÑÊ†∑Âºè„ÄÇÔºúh1ÔºûÊ†áÁ≠æÁîüÊàêÁöÑÊ†áÈ¢ò *className‰∏∫&quot;TOCLevel1&quot;ÔºåÔºúh2ÔºûÊ†áÁ≠æÁîüÊàêÁöÑÊ†áÈ¢òclassName‰∏∫&quot;TOCLevel2&quot;Ôºå‰ª•Ê≠§Á±ªÊé® *ÊÆµÁºñÂè∑ÁöÑÊ†∑Âºè‰∏∫&quot;TOCSectNum&quot; * *ÂÆåÊï¥ÁöÑCSSÊ†∑Âºè‰ª£Á†ÅÂ¶Ç‰∏ã: * *#TOC{border:solid black 1px;margin:10px;padding:10px;} *.TOCEntry{font-family:sans-serif;} *.TOCEntry a{text-decoration:none;} *.TOCLevel1{font-size:16pt;font-weight:bold;} *.TOCLevel2{font-size:12pt;margin-left:.5in;} *.TOCSectNum:after{content:&quot;:&quot;;} * *ËøôÊÆµ‰ª£Á†ÅÁöÑÊúÄÂêé‰∏ÄË°åË°®Á§∫ÊØè‰∏™ÊÆµÁºñÂè∑‰πãÂêéÈÉΩÊúâ‰∏Ä‰∏™ÂÜíÂè∑ÂíåÁ©∫Ê†ºÁ¨¶„ÄÇË¶ÅÊÉ≥ÈöêËóèÊÆµÁºñÂè∑Ôºå *ËØ∑‰ΩøÁî®ËøôË°å‰ª£Á†ÅÔºö *.TOCSectNum{display:none} * **/ (function () { //ÂåøÂêçÂáΩÊï∞ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Â±ÄÈÉ®‰ΩúÁî®Âüü //Êü•ÊâæTOCÂÆπÂô®ÂÖÉÁ¥† //Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàôÂú®ÊñáÊ°£ÂºÄÂ§¥Â§ÑÂàõÂª∫‰∏Ä‰∏™ var toc = document.getElementById(&quot;TOC&quot;); if (!toc) { toc = document.createElement(&quot;div&quot;); toc.id = &quot;TOC&quot;; document.body.insertBefore(toc, document.body.firstChild); } //Êü•ÊâæÊâÄÊúâÁöÑÊ†áÈ¢òÂÖÉÁ¥† var headings; if (document.querySelectorAll) //Êàë‰ª¨ÊòØÂê¶ËÉΩÁî®Ëøô‰∏™ÁÆÄÂçïÁöÑÊñπÊ≥ïÔºü headings = document.querySelectorAll(&quot;h1,h2,h3,h4,h5,h6&quot;); else //Âê¶ÂàôÔºåÊü•ÊâæÊñπÊ≥ïÁ®çÂæÆÈ∫ªÁÉ¶‰∏Ä‰∫õ headings = findHeadings(document.body, []); //ÈÄíÂΩíÈÅçÂéÜdocumentÁöÑbodyÔºåÊü•ÊâæÊ†áÈ¢òÂÖÉÁ¥† function findHeadings(root, sects) { for (var c = root.firstChild; c != null; c = c.nextSibling) { if (c.nodeType !== 1) continue; if (c.tagName.length == 2 &amp;&amp; c.tagName.charAt(0) == &quot;H&quot;) sects.push(c); else findHeadings(c, sects); } return sects; } //ÂàùÂßãÂåñ‰∏Ä‰∏™Êï∞ÁªÑÊù•‰øùÊåÅË∑üË∏™Á´†ËäÇÂè∑ var sectionNumbers = [0, 0, 0, 0, 0, 0]; //Áé∞Âú®ÔºåÂæ™ÁéØÂ∑≤ÊâæÂà∞ÁöÑÊ†áÈ¢òÂÖÉÁ¥† for (var h = 0; h &lt; headings.length; h++) { var heading = headings[h]; //Ë∑≥ËøáÂú®TOCÂÆπÂô®‰∏≠ÁöÑÊ†áÈ¢òÂÖÉÁ¥† if (heading.parentNode == toc) continue; //Âà§ÂÆöÊ†áÈ¢òÁöÑÁ∫ßÂà´ var level = parseInt(heading.tagName.charAt(1)); if (isNaN(level) || level &lt; 1 || level &gt; 6) continue; //ÂØπ‰∫éËØ•Ê†áÈ¢òÁ∫ßÂà´Â¢ûÂä†sectionNumbersÂØπÂ∫îÁöÑÊï∞Â≠ó //ÈáçÁΩÆÊâÄÊúâÊ†áÈ¢òÊØîÂÆÉÁ∫ßÂà´‰ΩéÁöÑÊï∞Â≠ó‰∏∫Èõ∂ sectionNumbers[level - 1]++; for (var i = level; i &lt; 6; i++) sectionNumbers[i] = 0; //Áé∞Âú®ÔºåÂ∞ÜÊâÄÊúâÊ†áÈ¢òÁ∫ßÂà´ÁöÑÁ´†ËäÇÂè∑ÁªÑÂêà‰∫ßÁîü‰∏Ä‰∏™Á´†ËäÇÂè∑Ôºå Â¶Ç2 .3 .1 var sectionNumber = sectionNumbers.slice(0, level).join(&quot;.&quot;) //‰∏∫Ê†áÈ¢òÁ∫ßÂà´Â¢ûÂä†Á´†ËäÇÂè∑ //ÊääÊï∞Â≠óÊîæÂú®ÔºúspanÔºû‰∏≠Ôºå‰ΩøÂæóÂÖ∂ÂèØ‰ª•Áî®Ê†∑Âºè‰øÆÈ•∞ var span = document.createElement(&quot;span&quot;); span.className = &quot;TOCSectNum&quot;; span.innerHTML = sectionNumber; heading.insertBefore(span, heading.firstChild); //Áî®ÂëΩÂêçÁöÑÈîöÁÇπÂ∞ÜÊ†áÈ¢òÂåÖËµ∑Êù•Ôºå‰ª•‰æø‰∏∫ÂÆÉÂ¢ûÂä†ÈìæÊé• var anchor = document.createElement(&quot;a&quot;); anchor.name = &quot;TOC&quot; + sectionNumber; heading.parentNode.insertBefore(anchor, heading); anchor.appendChild(heading); //Áé∞Âú®‰∏∫ËØ•ËäÇÂàõÂª∫‰∏Ä‰∏™ÈìæÊé• var link = document.createElement(&quot;a&quot;); link.href = &quot;#TOC&quot; + sectionNumber; //ÈìæÊé•ÁöÑÁõÆÊ†áÂú∞ÂùÄ link.innerHTML = heading.innerHTML; //ÈìæÊé•ÊñáÊú¨‰∏éÂÆûÈôÖÊ†áÈ¢ò‰∏ÄËá¥ //Â∞ÜÈìæÊé•ÊîæÂú®‰∏Ä‰∏™div‰∏≠ÔºådivÁî®Âü∫‰∫éÁ∫ßÂà´ÂêçÂ≠óÁöÑÊ†∑Âºè‰øÆÈ•∞ var entry = document.createElement(&quot;div&quot;); entry.className = &quot;TOCEntry TOCLevel&quot; + level; entry.appendChild(link); //ËØ•divÊ∑ªÂä†Âà∞TOCÂÆπÂô®‰∏≠ toc.appendChild(entry); } }()); ‚¨Ü back to top ‰ªéURLËß£ÊûêÂèÇÊï∞/* *Ëøô‰∏™ÂáΩÊï∞Áî®Êù•Ëß£ÊûêÊù•Ëá™URLÁöÑÊü•ËØ¢‰∏≤‰∏≠ÁöÑname=valueÂèÇÊï∞ÂØπ *ÂÆÉÂ∞Üname=valueÂØπÂ≠òÂÇ®Âú®‰∏Ä‰∏™ÂØπË±°ÁöÑÂ±ûÊÄß‰∏≠ÔºåÂπ∂ËøîÂõûËØ•ÂØπË±° *ËøôÊ†∑Êù•‰ΩøÁî®ÂÆÉ * *var args=urlArgs();//‰ªéURL‰∏≠Ëß£ÊûêÂèÇÊï∞ *var q=args.q||&quot;&quot;;//Â¶ÇÊûúÂèÇÊï∞ÂÆö‰πâ‰∫ÜÁöÑËØùÂ∞±‰ΩøÁî®ÂèÇÊï∞ÔºõÂê¶Âàô‰ΩøÁî®‰∏Ä‰∏™ÈªòËÆ§ÂÄº *var n=args.n?parseInt(args.n):10; */ function urlArgs() { var args = {}; //ÂÆö‰πâ‰∏Ä‰∏™Á©∫ÂØπË±° var query = location.search.substring(1); //Êü•ÊâæÂà∞Êü•ËØ¢‰∏≤ÔºåÂπ∂ÂéªÊéâ&apos;?&apos; var pairs = query.split(&quot;&amp;&quot;); //Ê†πÊçÆ&quot;&amp;&quot;Á¨¶Âè∑Â∞ÜÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÂàÜÈöîÂºÄ for (var i = 0; i &lt; pairs.length; i++) { //ÂØπ‰∫éÊØè‰∏™ÁâáÊÆµ var pos = pairs[i].indexOf(&apos;=&apos;); //Êü•Êâæ&quot;name=value&quot; if (pos == -1) continue; //Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÁöÑËØùÔºåÂ∞±Ë∑≥Ëøá var name = pairs[i].substring(0, pos); //ÊèêÂèñname var value = pairs[i].substring(pos + 1); //ÊèêÂèñvalue value = decodeURIComponent(value); //ÂØπvalueËøõË°åËß£Á†Å args[name] = value; //Â≠òÂÇ®‰∏∫Â±ûÊÄß } return args; //ËøîÂõûËß£ÊûêÂêéÁöÑÂèÇÊï∞ } ‚¨Ü back to top Ëé∑ÂèñÁ∫ØÊñáÊú¨ÁöÑÂÖÉÁ¥†ÂÜÖÂÆπ/** *‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøîÂõûÂÖÉÁ¥†ÁöÑtextContentÊàñinnerText *‰∏§‰∏™ÂèÇÊï∞ÔºåÁî®valueÂèÇÊï∞ÁöÑÂÄºËÆæÁΩÆÂÖÉÁ¥†ÁöÑtextContentÊàñinnerText */ function textContent(element, value) { var content = element.textContent; //Ê£ÄÊµãtextContentÊòØÂê¶ÊúâÂÆö‰πâ if (value === undefined) { //Ê≤°‰º†ÈÄívalueÔºåÂõ†Ê≠§ËøîÂõûÂΩìÂâçÊñáÊú¨ if (content !== undefined) { return content; } else { return element.innerText; } } else { //‰º†ÈÄí‰∫ÜvalueÔºåÂõ†Ê≠§ËÆæÁΩÆÊñáÊú¨ if (content !== undefined) { element.textContent = value; } else { element.innerText = value; } } } ‚¨Ü back to top ÊâãÂÜô‰∏Ä‰∏™JSONPÂÆûÁé∞//Ê†πÊçÆÊåáÂÆöÁöÑURLÂèëÈÄÅ‰∏Ä‰∏™JSONPËØ∑Ê±Ç //ÁÑ∂ÂêéÊääËß£ÊûêÂæóÂà∞ÁöÑÂìçÂ∫îÊï∞ÊçÆ‰º†ÈÄíÁªôÂõûË∞ÉÂáΩÊï∞ //Âú®URL‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Âêç‰∏∫jsonpÁöÑÊü•ËØ¢ÂèÇÊï∞ÔºåÁî®‰∫éÊåáÂÆöËØ•ËØ∑Ê±ÇÁöÑÂõûË∞ÉÂáΩÊï∞ÁöÑÂêçÁß∞ function getJSONP(url, callback) { //‰∏∫Êú¨Ê¨°ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÂõûË∞ÉÂáΩÊï∞ÂêçÁß∞ var cbnum = &quot;cb&quot; + getJSONP.counter++; //ÊØèÊ¨°Ëá™Â¢ûËÆ°Êï∞Âô® var cbname = &quot;getJSONP.&quot; + cbnum; //‰Ωú‰∏∫JSONPÂáΩÊï∞ÁöÑÂ±ûÊÄß //Â∞ÜÂõûË∞ÉÂáΩÊï∞ÂêçÁß∞‰ª•Ë°®ÂçïÁºñÁ†ÅÁöÑÂΩ¢ÂºèÊ∑ªÂä†Âà∞URLÁöÑÊü•ËØ¢ÈÉ®ÂàÜ‰∏≠ //‰ΩøÁî®jsonp‰Ωú‰∏∫ÂèÇÊï∞ÂêçÔºå‰∏Ä‰∫õÊîØÊåÅJSONPÁöÑÊúçÂä° //ÂèØËÉΩ‰ΩøÁî®ÂÖ∂‰ªñÁöÑÂèÇÊï∞ÂêçÔºåÊØîÂ¶Çcallback if (url.indexOf(&quot;?&quot;) === -1) //URLÊ≤°ÊúâÊü•ËØ¢ÈÉ®ÂàÜ url += &quot;?jsonp=&quot; + cbname; //‰Ωú‰∏∫Êü•ËØ¢ÈÉ®ÂàÜÊ∑ªÂä†ÂèÇÊï∞ else //Âê¶Âàô url += &quot;ÔºÜjsonp=&quot; + cbname; //‰Ωú‰∏∫Êñ∞ÁöÑÂèÇÊï∞Ê∑ªÂä†ÂÆÉ //ÂàõÂª∫scriptÂÖÉÁ¥†Áî®‰∫éÂèëÈÄÅËØ∑Ê±Ç var script = document.createElement(&quot;script&quot;); //ÂÆö‰πâÂ∞ÜË¢´ËÑöÊú¨ÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞ getJSONP[cbnum] = function (response) { try { callback(response); //Â§ÑÁêÜÂìçÂ∫îÊï∞ÊçÆ } finally { //Âç≥‰ΩøÂõûË∞ÉÂáΩÊï∞ÊàñÂìçÂ∫îÊäõÂá∫ÈîôËØØ delete getJSONP[cbnum]; //Âà†Èô§ËØ•ÂáΩÊï∞ script.parentNode.removeChild(script); //ÁßªÈô§scriptÂÖÉÁ¥† } }; //Á´ãÂç≥Ëß¶ÂèëHTTPËØ∑Ê±Ç script.src = url; //ËÆæÁΩÆËÑöÊú¨ÁöÑURL document.body.appendChild(script); //ÊääÂÆÉÊ∑ªÂä†Âà∞ÊñáÊ°£‰∏≠ } getJSONP.counter = 0; //Áî®‰∫éÂàõÂª∫ÂîØ‰∏ÄÂõûË∞ÉÂáΩÊï∞ÂêçÁß∞ÁöÑËÆ°Êï∞Âô® ‚¨Ü back to top ÊèíÂÖ•ËäÇÁÇπ//Â∞ÜchildËäÇÁÇπÊèíÂÖ•Âà∞parent‰∏≠Ôºå‰ΩøÂÖ∂Êàê‰∏∫Á¨¨n‰∏™Â≠êËäÇÁÇπ function insertAt(parent, child, n) { if (n &lt; 0 || n &gt; parent.childNodes.length) { throw new Error(&quot;invalid index&quot;); } else if (n == parent.childNodes.length) { parent.appendChild(child); } else { parent.insertBefore(child, parent.childNodes[n]); } } ‚¨Ü back to top ‰ΩøÁî®innerHTMLÂÆûÁé∞outerHTMLÂ±ûÊÄß//‰∏∫ÈÇ£‰∫õ‰∏çÊîØÊåÅÂÆÉÁöÑÊµèËßàÂô®ÂÆûÁé∞outerHTMLÂ±ûÊÄß //ÂÅáËÆæÊµèËßàÂô®Á°ÆÂÆûÊîØÊåÅinnerHTMLÔºåÂπ∂Êúâ‰∏™ÂèØÊâ©Â±ïÁöÑElement.prototypeÔºå //Âπ∂‰∏îÂèØ‰ª•ÂÆö‰πâgetterÂíåsetter (function () { //Â¶ÇÊûúouterHTMLÂ≠òÂú®ÔºåÂàôÁõ¥Êé•ËøîÂõû if (document.createElement(&quot;div&quot;).outerHTML) return; //ËøîÂõûthisÊâÄÂºïÁî®ÂÖÉÁ¥†ÁöÑÂ§ñÈÉ®HTML function outerHTMLGetter() { var container = document.createElement(&quot;div&quot;); //ËôöÊãüÂÖÉÁ¥† container.appendChild(this.cloneNode(true)); //Â§çÂà∂Âà∞ËØ•ËôöÊãüËäÇÁÇπ return container.innerHTML; //ËøîÂõûËôöÊãüËäÇÁÇπÁöÑinnerHTML } //Áî®ÊåáÂÆöÁöÑÂÄºËÆæÁΩÆÂÖÉÁ¥†ÁöÑÂ§ñÈÉ®HTML function outerHTMLSetter(value) { //ÂàõÂª∫‰∏Ä‰∏™ËôöÊãüÂÖÉÁ¥†ÔºåËÆæÁΩÆÂÖ∂ÂÜÖÂÆπ‰∏∫ÊåáÂÆöÁöÑÂÄº var container = document.createElement(&quot;div&quot;); container.innerHTML = value; //Â∞ÜËôöÊãüÂÖÉÁ¥†‰∏≠ÁöÑËäÇÁÇπÂÖ®ÈÉ®ÁßªÂä®Âà∞ÊñáÊ°£‰∏≠ while (container.firstChild) //Âæ™ÁéØÔºåÁõ¥Âà∞containerÊ≤°ÊúâÂ≠êËäÇÁÇπ‰∏∫Ê≠¢ this.parentNode.insertBefore(container.firstChild, this); //Âà†Èô§ÊâÄË¢´Âèñ‰ª£ÁöÑËäÇÁÇπ this.parentNode.removeChild(this); } //Áé∞Âú®‰ΩøÁî®Ëøô‰∏§‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÊâÄÊúâElementÂØπË±°ÁöÑouterHTMLÂ±ûÊÄßÁöÑgetterÂíåsetter //Â¶ÇÊûúÂÆÉÂ≠òÂú®Âàô‰ΩøÁî®ES5ÁöÑObject.defineProperty()ÊñπÊ≥ïÔºå //Âê¶ÂàôÔºåÈÄÄËÄåÊ±ÇÂÖ∂Ê¨°Ôºå‰ΩøÁî®__defineGetter__()Âíå__defineSetter__() if (Object.defineProperty) { Object.defineProperty(Element.prototype, &quot;outerHTML&quot;, { get: outerHTMLGetter, set: outerHTMLSetter, enumerable: false, configurable: true }); } else { Element.prototype.__defineGetter__(&quot;outerHTML&quot;, outerHTMLGetter); Element.prototype.__defineSetter__(&quot;outerHTML&quot;, outerHTMLSetter); } }()); ‚¨Ü back to top ÂÄíÂ∫èÊéíÂàóÂ≠êËäÇÁÇπ//ÂÄíÂ∫èÊéíÂàóËäÇÁÇπnÁöÑÂ≠êËäÇÁÇπ function reverse(n) { //ÂàõÂª∫‰∏Ä‰∏™DocumentFragment‰Ωú‰∏∫‰∏¥Êó∂ÂÆπÂô® var f = document.createDocumentFragment(); //‰ªéÂêéËá≥ÂâçÂæ™ÁéØÂ≠êËäÇÁÇπÔºåÂ∞ÜÊØè‰∏Ä‰∏™Â≠êËäÇÁÇπÁßªÂä®Âà∞ÊñáÊ°£ÁâáÊÆµ‰∏≠ //nÁöÑÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπÂèòÊàêfÁöÑÁ¨¨‰∏Ä‰∏™ËäÇÁÇπÔºåÂèç‰πã‰∫¶ÁÑ∂ //Ê≥®ÊÑèÔºåÁªôfÊ∑ªÂä†‰∏Ä‰∏™ËäÇÁÇπÔºåËØ•ËäÇÁÇπËá™Âä®Âú∞‰ºö‰ªén‰∏≠Âà†Èô§ while (n.lastChild) f.appendChild(n.lastChild); //ÊúÄÂêéÔºåÊääfÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ‰∏ÄÊ¨°ÊÄßÂÖ®ÈÉ®ÁßªÂõûn‰∏≠ n.appendChild(f); } ‚¨Ü back to top Êü•ËØ¢Á™óÂè£ÊªöÂä®Êù°ÁöÑ‰ΩçÁΩÆ//‰ª•‰∏Ä‰∏™ÂØπË±°ÁöÑxÂíåyÂ±ûÊÄßÁöÑÊñπÂºèËøîÂõûÊªöÂä®Êù°ÁöÑÂÅèÁßªÈáè function getScrollOffsets(w) { //‰ΩøÁî®ÊåáÂÆöÁöÑÁ™óÂè£ÔºåÂ¶ÇÊûú‰∏çÂ∏¶ÂèÇÊï∞Âàô‰ΩøÁî®ÂΩìÂâçÁ™óÂè£ w = w || window; //Èô§‰∫ÜIE 8ÂèäÊõ¥Êó©ÁöÑÁâàÊú¨‰ª•Â§ñÔºåÂÖ∂‰ªñÊµèËßàÂô®ÈÉΩËÉΩÁî® if (w.pageXOffset != null) return { x: w.pageXOffset, y: w.pageYOffset }; //ÂØπÊ†áÂáÜÊ®°Âºè‰∏ãÁöÑIEÔºàÊàñ‰ªª‰ΩïÊµèËßàÂô®Ôºâ var d = w.document; if (document.compatMode == &quot;CSS1Compat&quot;) return { x: d.documentElement.scrollLeft, y: d.documentElement.scrollTop }; //ÂØπÊÄ™ÂºÇÊ®°Âºè‰∏ãÁöÑÊµèËßàÂô® return { x: d.body.scrollLeft, y: d.body.scrollTop }; } ‚¨Ü back to top Êü•ËØ¢Á™óÂè£ÁöÑËßÜÂè£Â∞∫ÂØ∏//‰Ωú‰∏∫‰∏Ä‰∏™ÂØπË±°ÁöÑwÂíåhÂ±ûÊÄßËøîÂõûËßÜÂè£ÁöÑÂ∞∫ÂØ∏ function getViewportSize(w) { //‰ΩøÁî®ÊåáÂÆöÁöÑÁ™óÂè£ÔºåÂ¶ÇÊûú‰∏çÂ∏¶ÂèÇÊï∞Âàô‰ΩøÁî®ÂΩìÂâçÁ™óÂè£ w = w || window; //Èô§‰∫ÜIE 8ÂèäÊõ¥Êó©ÁöÑÁâàÊú¨‰ª•Â§ñÔºåÂÖ∂‰ªñÊµèËßàÂô®ÈÉΩËÉΩÁî® if (w.innerWidth != null) return { w: w.innerWidth, h: w.innerHeight }; //ÂØπÊ†áÂáÜÊ®°Âºè‰∏ãÁöÑIEÔºàÊàñ‰ªª‰ΩïÊµèËßàÂô®Ôºâ var d = w.document; if (document.compatMode == &quot;CSS1Compat&quot;) return { w: d.documentElement.clientWidth, h: d.documentElement.clientHeight }; //ÂØπÊÄ™ÂºÇÊ®°Âºè‰∏ãÁöÑÊµèËßàÂô® return { w: d.body.clientWidth, h: d.body.clientWidth }; } ‚¨Ü back to top ËøîÂõûÂáΩÊï∞ÁöÑÂêçÂ≠óFunction.prototype.getName = function () { return this.name || this.toString().match(/function\s*(\w*)\s*\(/)[1]; } ‚¨Ü back to top ÂéüÁîüJSÂÆûÁé∞CSSÂä®Áîª1//Â∞ÜeËΩ¨Âåñ‰∏∫Áõ∏ÂØπÂÆö‰ΩçÁöÑÂÖÉÁ¥†Ôºå‰Ωø‰πãÂ∑¶Âè≥&quot;ÈúáÂä®&quot; //Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂèØ‰ª•ÊòØÂÖÉÁ¥†ÂØπË±°ÊàñËÄÖÂÖÉÁ¥†ÁöÑid //Â¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂáΩÊï∞Ôºå‰ª•e‰∏∫ÂèÇÊï∞ÔºåÂÆÉÂ∞ÜÂú®Âä®ÁîªÁªìÊùüÊó∂Ë∞ÉÁî® //Á¨¨‰∏â‰∏™ÂèÇÊï∞ÊåáÂÆöeÈúáÂä®ÁöÑË∑ùÁ¶ªÔºåÈªòËÆ§ÊòØ5ÂÉèÁ¥† //Á¨¨Âõõ‰∏™ÂèÇÊï∞ÊåáÂÆöÈúáÂä®Â§ö‰πÖÔºåÈªòËÆ§ÊòØ500ÊØ´Áßí function shake(e, oncomplete, distance, time) { //Âè•ÊüÑÂèÇÊï∞ if (typeof e === &quot;string&quot;) e = document.getElementById(e); if (!time) time = 500; if (!distance) distance = 5; var originalStyle = e.style.cssText; //‰øùÂ≠òeÁöÑÂéüÂßãstyle e.style.position = &quot;relative&quot;; //‰ΩøeÁõ∏ÂØπÂÆö‰Ωç var start = (new Date()).getTime(); //Ê≥®ÊÑèÔºåÂä®ÁîªÁöÑÂºÄÂßãÊó∂Èó¥ animate(); //Âä®ÁîªÂºÄÂßã //ÂáΩÊï∞Ê£ÄÊü•Ê∂àËÄóÁöÑÊó∂Èó¥ÔºåÂπ∂Êõ¥Êñ∞eÁöÑ‰ΩçÁΩÆ //Â¶ÇÊûúÂä®ÁîªÂÆåÊàêÔºåÂÆÉÂ∞ÜeËøòÂéü‰∏∫ÂéüÂßãÁä∂ÊÄÅ //Âê¶ÂàôÔºåÂÆÉÊõ¥Êñ∞eÁöÑ‰ΩçÁΩÆÔºåÂÆâÊéíÂÆÉËá™Ë∫´ÈáçÊñ∞ËøêË°å function animate() { var now = (new Date()).getTime(); //ÂæóÂà∞ÂΩìÂâçÊó∂Èó¥ var elapsed = now - start; //‰ªéÂºÄÂßã‰ª•Êù•Ê∂àËÄó‰∫ÜÂ§öÈïøÊó∂Èó¥Ôºü var fraction = elapsed / time; //ÊòØÊÄªÊó∂Èó¥ÁöÑÂá†ÂàÜ‰πãÂá†Ôºü if (fraction &lt; 1) { //Â¶ÇÊûúÂä®ÁîªÊú™ÂÆåÊàê //‰Ωú‰∏∫Âä®ÁîªÂÆåÊàêÊØî‰æãÁöÑÂáΩÊï∞ÔºåËÆ°ÁÆóeÁöÑx‰ΩçÁΩÆ //‰ΩøÁî®Ê≠£Âº¶ÂáΩÊï∞Â∞ÜÂÆåÊàêÊØî‰æã‰πò‰ª•4pi //ÊâÄ‰ª•ÔºåÂÆÉÊù•ÂõûÂæÄÂ§ç‰∏§Ê¨° var x = distance * Math.sin(fraction * 4 * Math.PI); e.style.left = x + &quot;px&quot;; //Âú®25ÊØ´ÁßíÂêéÊàñÂú®ÊÄªÊó∂Èó¥ÁöÑÊúÄÂêéÂ∞ùËØïÂÜçÊ¨°ËøêË°åÂáΩÊï∞ //ÁõÆÁöÑÊòØ‰∏∫‰∫Ü‰∫ßÁîüÊØèÁßí40Â∏ßÁöÑÂä®Áîª setTimeout(animate, Math.min(25, time - elapsed)); } else { //Âê¶ÂàôÔºåÂä®ÁîªÂÆåÊàê e.style.cssText = originalStyle //ÊÅ¢Â§çÂéüÂßãÊ†∑Âºè if (oncomplete) oncomplete(e); //Ë∞ÉÁî®ÂÆåÊàêÂêéÁöÑÂõûË∞ÉÂáΩÊï∞ } } } ‚¨Ü back to top ÂéüÁîüJSÂÆûÁé∞CSSÂä®Áîª2function fadeOut(e, oncomplete, time) { if (typeof e === &quot;string&quot;) e = document.getElementById(e); if (!time) time = 500; //‰ΩøÁî®Math.sqrt‰Ωú‰∏∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‚ÄúÁºìÂä®ÂáΩÊï∞‚ÄùÊù•ÂàõÂª∫Âä®Áîª //Á≤æÂ∑ßÁöÑÈùûÁ∫øÊÄßÔºö‰∏ÄÂºÄÂßãÊ∑°Âá∫ÂæóÊØîËæÉÂø´ÔºåÁÑ∂ÂêéÁºìÊÖ¢‰∫Ü‰∏Ä‰∫õ var ease = Math.sqrt; var start = (new Date()).getTime(); //Ê≥®ÊÑèÔºöÂä®ÁîªÂºÄÂßãÁöÑÊó∂Èó¥ animate(); //Âä®ÁîªÂºÄÂßã function animate() { var elapsed = (new Date()).getTime() - start; //Ê∂àËÄóÁöÑÊó∂Èó¥ var fraction = elapsed / time; //ÊÄªÊó∂Èó¥ÁöÑÂá†ÂàÜ‰πãÂá†Ôºü if (fraction &lt; 1) { //Â¶ÇÊûúÂä®ÁîªÊú™ÂÆåÊàê var opacity = 1 - ease(fraction); //ËÆ°ÁÆóÂÖÉÁ¥†ÁöÑ‰∏çÈÄèÊòéÂ∫¶ e.style.opacity = String(opacity); //ËÆæÁΩÆÂú®e‰∏ä setTimeout(animate, //Ë∞ÉÂ∫¶‰∏ã‰∏ÄÂ∏ß Math.min(25, time - elapsed)); } else { //Âê¶ÂàôÔºåÂä®ÁîªÂÆåÊàê e.style.opacity = &quot;0&quot;; //‰ΩøeÂÆåÂÖ®ÈÄèÊòé if (oncomplete) oncomplete(e); //Ë∞ÉÁî®ÂÆåÊàêÂêéÁöÑÂõûË∞ÉÂáΩÊï∞ } } } ‚¨Ü back to top ‰ªøHTML5ÁöÑclassListÂ±ûÊÄß/* *Â¶ÇÊûúeÊúâclassListÂ±ûÊÄßÂàôËøîÂõûÂÆÉ„ÄÇÂê¶ÂàôÔºåËøîÂõû‰∏Ä‰∏™‰∏∫eÊ®°ÊãüDOMTokenList APIÁöÑÂØπË±° *ËøîÂõûÁöÑÂØπË±°Êúâcontains()„ÄÅadd()„ÄÅremove()„ÄÅtoggle()ÂíåtoString()Á≠âÊñπÊ≥ï *Êù•Ê£ÄÊµãÂíå‰øÆÊîπÂÖÉÁ¥†eÁöÑÁ±ªÈõÜÂêà„ÄÇÂ¶ÇÊûúclassListÂ±ûÊÄßÊòØÂéüÁîüÊîØÊåÅÁöÑÔºå *ËøîÂõûÁöÑÁ±ªÊï∞ÁªÑÂØπË±°ÊúâlengthÂíåÊï∞ÁªÑÁ¥¢ÂºïÂ±ûÊÄß„ÄÇÊ®°ÊãüDOMTokenList‰∏çÊòØÁ±ªÊï∞ÁªÑÂØπË±°Ôºå *‰ΩÜÊòØÂÆÉÊúâ‰∏Ä‰∏™toArray()ÊñπÊ≥ïÊù•ËøîÂõû‰∏Ä‰∏™Âê´ÂÖÉÁ¥†Á±ªÂêçÁöÑÁ∫ØÊï∞ÁªÑÂø´ÁÖß */ function classList(e) { if (e.classList) return e.classList; //Â¶ÇÊûúe.classListÂ≠òÂú®ÔºåÂàôËøîÂõûÂÆÉ else return new CSSClassList(e); //Âê¶ÂàôÔºåÂ∞±‰º™ÈÄ†‰∏Ä‰∏™ } //CSSClassListÊòØ‰∏Ä‰∏™Ê®°ÊãüDOMTokenListÁöÑJavaScriptÁ±ª function CSSClassList(e) { this.e = e; } //Â¶ÇÊûúe.classNameÂåÖÂê´Á±ªÂêçcÂàôËøîÂõûtrueÂê¶ÂàôËøîÂõûfalse CSSClassList.prototype.contains = function (c) { //Ê£ÄÊü•cÊòØÂê¶ÊòØÂêàÊ≥ïÁöÑÁ±ªÂêç if (c.length === 0 || c.indexOf(&quot; &quot;) != -1) throw new Error(&quot;Invalid class name:&apos;&quot; + c + &quot;&apos;&quot;); //È¶ñÂÖàÊòØÂ∏∏ËßÑÊ£ÄÊü• var classes = this.e.className; if (!classes) return false; //e‰∏çÂê´Á±ªÂêç if (classes === c) return true; //eÊúâ‰∏Ä‰∏™ÂÆåÂÖ®ÂåπÈÖçÁöÑÁ±ªÂêç //Âê¶ÂàôÔºåÊääcËá™Ë∫´ÁúãÂÅö‰∏Ä‰∏™ÂçïËØçÔºåÂà©Áî®Ê≠£ÂàôË°®ËææÂºèÊêúÁ¥¢c //\bÂú®Ê≠£ÂàôË°®ËææÂºèÈáå‰ª£Ë°®ÂçïËØçÁöÑËæπÁïå return classes.search(&quot;\\b&quot; + c + &quot;\\b&quot;) != -1; }; //Â¶ÇÊûúc‰∏çÂ≠òÂú®ÔºåÂ∞ÜcÊ∑ªÂä†Âà∞e.className‰∏≠ CSSClassList.prototype.add = function (c) { if (this.contains(c)) return; //Â¶ÇÊûúÂ≠òÂú®Ôºå‰ªÄ‰πàÈÉΩ‰∏çÂÅö var classes = this.e.className; if (classes &amp;&amp; classes[classes.length - 1] != &quot;&quot;) c = &quot;&quot; + c; //Â¶ÇÊûúÈúÄË¶ÅÂä†‰∏Ä‰∏™Á©∫Ê†º this.e.className += c; //Â∞ÜcÊ∑ªÂä†Âà∞className‰∏≠ }; //Â∞ÜÂú®e.className‰∏≠Âá∫Áé∞ÁöÑÊâÄÊúâcÈÉΩÂà†Èô§ CSSClassList.prototype.remove = function (c) { //Ê£ÄÊü•cÊòØÂê¶ÊòØÂêàÊ≥ïÁöÑÁ±ªÂêç if (c.length === 0 || c.indexOf(&quot; &quot;) != -1) throw new Error(&quot;Invalid class name:&apos;&quot; + c + &quot;&apos;&quot;); //Â∞ÜÊâÄÊúâ‰Ωú‰∏∫ÂçïËØçÁöÑcÂíåÂ§ö‰ΩôÁöÑÂ∞æÈöèÁ©∫Ê†ºÂÖ®ÈÉ®Âà†Èô§ var pattern = new RegExp(&quot;\\b&quot; + c + &quot;\\b\\s*&quot;, &quot;g&quot;); this.e.className = this.e.className.replace(pattern, &quot;&quot;); }; //Â¶ÇÊûúc‰∏çÂ≠òÂú®ÔºåÂ∞ÜcÊ∑ªÂä†Âà∞e.className‰∏≠ÔºåÂπ∂ËøîÂõûtrue //Âê¶ÂàôÔºåÂ∞ÜÂú®e.className‰∏≠Âá∫Áé∞ÁöÑÊâÄÊúâcÈÉΩÂà†Èô§ÔºåÂπ∂ËøîÂõûfalse CSSClassList.prototype.toggle = function (c) { if (this.contains(c)) { //Â¶ÇÊûúe.classNameÂåÖÂê´c this.remove(c); //Âà†Èô§ÂÆÉ return false; } else { //Âê¶Âàô this.add(c); //Ê∑ªÂä†ÂÆÉ return true; } }; //ËøîÂõûe.classNameÊú¨Ë∫´ CSSClassList.prototype.toString = function () { return this.e.className; }; //ËøîÂõûÂú®e.className‰∏≠ÁöÑÁ±ªÂêç CSSClassList.prototype.toArray = function () { return this.e.className.match(/\b\w+\b/g) || []; }; ‚¨Ü back to top Êü•ËØ¢Á∫ØÊñáÊú¨ÂΩ¢ÂºèÁöÑÂÜÖÂÆπ/** *‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøîÂõûÂÖÉÁ¥†ÁöÑtextContentÊàñinnerText *‰∏§‰∏™ÂèÇÊï∞ÔºåÁî®valueÂèÇÊï∞ÁöÑÂÄºËÆæÁΩÆÂÖÉÁ¥†ÁöÑtextContentÊàñinnerText */ function textContent(element, value) { var content = element.textContent; //Ê£ÄÊµãtextContentÊòØÂê¶ÊúâÂÆö‰πâ if (value === undefined) { //Ê≤°‰º†ÈÄívalueÔºåÂõ†Ê≠§ËøîÂõûÂΩìÂâçÊñáÊú¨ if (content !== undefined) return content; else return element.innerText; } else { //‰º†ÈÄí‰∫ÜvalueÔºåÂõ†Ê≠§ËÆæÁΩÆÊñáÊú¨ if (content !== undefined) element.textContent = value; else element.innerText = value; } } textContentÂ±ûÊÄßÂú®Èô§‰∫ÜIEÁöÑÊâÄÊúâÂΩìÂâçÁöÑÊµèËßàÂô®‰∏≠ÈÉΩÊîØÊåÅ„ÄÇÂú®IE‰∏≠ÔºåÂèØ‰ª•Áî®ElementÁöÑinnerTextÂ±ûÊÄßÊù•‰ª£Êõø„ÄÇ ‚¨Ü back to top Êü•ÊâæÂÖÉÁ¥†ÁöÑÂêé‰ª£‰∏≠ËäÇÁÇπ‰∏≠ÁöÑÊâÄÊúâTextËäÇÁÇπ//ËøîÂõûÂÖÉÁ¥†eÁöÑÁ∫ØÊñáÊú¨ÂÜÖÂÆπÔºåÈÄíÂΩíËøõÂÖ•ÂÖ∂Â≠êÂÖÉÁ¥† //ËØ•ÊñπÊ≥ïÁöÑÊïàÊûúÁ±ª‰ºº‰∫étextContentÂ±ûÊÄß function textContent(e) { var child, type, s = &quot;&quot;; //s‰øùÂ≠òÊâÄÊúâÂ≠êËäÇÁÇπÁöÑÊñáÊú¨ for (child = e.firstChild; child != null; child = child.nextSibling) { type = child.nodeType; if (type === 3 || type === 4) //TextÂíåCDATASectionËäÇÁÇπ s += child.nodeValue; else if (type === 1) //ÈÄíÂΩíElementËäÇÁÇπ s += textContent(child); } return s; } ‚¨Ü back to top ‰ΩøÁî®innerHTMLÂÆûÁé∞insertAdjacentHTML()//Êú¨Ê®°Âùó‰∏∫‰∏çÊîØÊåÅÂÆÉÁöÑÊµèËßàÂô®ÂÆö‰πâ‰∫ÜElement.insertAdjacentHTML //ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÂèØÁßªÊ§çÁöÑHTMLÊèíÂÖ•ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÁöÑÂêçÂ≠óÊØîinsertAdjacentHTMLÊõ¥Á¨¶ÂêàÈÄªËæëÔºö //Insert.before()„ÄÅInsert.after()„ÄÅInsert.atStart()ÂíåInsert.atEnd() var Insert = (function () { //Â¶ÇÊûúÂÖÉÁ¥†ÊúâÂéüÁîüÁöÑinsertAdjacentHTMLÔºå //Âú®4‰∏™ÂáΩÊï∞ÂêçÊõ¥Êòé‰∫ÜÁöÑHTMLÊèíÂÖ•ÂáΩÊï∞‰∏≠‰ΩøÁî®ÂÆÉ if (document.createElement(&quot;div&quot;).insertAdjacentHTML) { return { before: function (e, h) { e.insertAdjacentHTML(&quot;beforebegin&quot;, h); }, after: function (e, h) { e.insertAdjacentHTML(&quot;afterend&quot;, h); }, atStart: function (e, h) { e.insertAdjacentHTML(&quot;afterbegin&quot;, h); }, atEnd: function (e, h) { e.insertAdjacentHTML(&quot;beforeend&quot;, h); } }; } //Âê¶ÂàôÔºåÊó†ÂéüÁîüÁöÑinsertAdjacentHTML //ÂÆûÁé∞ÂêåÊ†∑ÁöÑ4‰∏™ÊèíÂÖ•ÂáΩÊï∞ÔºåÂπ∂‰ΩøÁî®ÂÆÉ‰ª¨Êù•ÂÆö‰πâinsertAdjacentHTML //È¶ñÂÖàÔºåÂÆö‰πâ‰∏Ä‰∏™Â∑•ÂÖ∑ÂáΩÊï∞Ôºå‰º†ÂÖ•HTMLÂ≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™DocumentFragmentÔºå //ÂÆÉÂåÖÂê´‰∫ÜËß£ÊûêÂêéÁöÑHTMLÁöÑË°®Á§∫ function fragment(html) { var elt = document.createElement(&quot;div&quot;); //ÂàõÂª∫Á©∫ÂÖÉÁ¥† var frag = document.createDocumentFragment(); //ÂàõÂª∫Á©∫ÊñáÊ°£ÁâáÊÆµ elt.innerHTML = html; //ËÆæÁΩÆÂÖÉÁ¥†ÂÜÖÂÆπ while (elt.firstChild) //ÁßªÂä®ÊâÄÊúâÁöÑËäÇÁÇπ frag.appendChild(elt.firstChild); //‰ªéeltÂà∞frag return frag; //ÁÑ∂ÂêéËøîÂõûfrag } var Insert = { before: function (elt, html) { elt.parentNode.insertBefore(fragment(html), elt); }, after: function (elt, html) { elt.parentNode.insertBefore(fragment(html), elt.nextSibling); }, atStart: function (elt, html) { elt.insertBefore(fragment(html), elt.firstChild); }, atEnd: function (elt, html) { elt.appendChild(fragment(html)); } }; //Âü∫‰∫é‰ª•‰∏äÂáΩÊï∞ÂÆûÁé∞insertAdjacentHTML Element.prototype.insertAdjacentHTML = function (pos, html) { switch (pos.toLowerCase()) { case &quot;beforebegin&quot;: return Insert.before(this, html); case &quot;afterend&quot;: return Insert.after(this, html); case &quot;afterbegin&quot;: return Insert.atStart(this, html); case &quot;beforeend&quot;: return Insert.atEnd(this, html); } }; return Insert; //ÊúÄÂêéËøîÂõû4‰∏™ÊèíÂÖ•ÂáΩÊï∞ }()); ‚¨Ü back to top ÊãñÊãΩ/** *Drag.jsÔºöÊãñÂä®ÁªùÂØπÂÆö‰ΩçÁöÑHTMLÂÖÉÁ¥† * *Ëøô‰∏™Ê®°ÂùóÂÆö‰πâ‰∫Ü‰∏Ä‰∏™drag()ÂáΩÊï∞ÔºåÂÆÉÁî®‰∫émousedown‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑË∞ÉÁî® *ÈöèÂêéÁöÑmousemove‰∫ã‰ª∂Â∞ÜÁßªÂä®ÊåáÂÆöÂÖÉÁ¥†Ôºåmouseup‰∫ã‰ª∂Â∞ÜÁªàÊ≠¢ÊãñÂä® *Ëøô‰∫õÂÆûÁé∞ËÉΩÂêåÊ†áÂáÜÂíåIE‰∏§Áßç‰∫ã‰ª∂Ê®°Âûã‰∏ÄËµ∑Â∑•‰Ωú * *ÂèÇÊï∞Ôºö * *elementToDragÔºöÊé•Êî∂mousedown‰∫ã‰ª∂ÁöÑÂÖÉÁ¥†ÊàñÊüê‰∫õÂåÖÂê´ÂÖÉÁ¥† *ÂÆÉÂøÖÈ°ªÊòØÂÆö‰ΩçÁöÑÂÖÉÁ¥†,ÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÂøÖÈ°ªÊòØË°åÂÜÖÊ†∑Âºè *ÂÆÉÁöÑstyle.leftÂíåstyle.topÂÄºÂ∞ÜÈöèÁùÄÁî®Êà∑ÁöÑÊãñÂä®ËÄåÊîπÂèò * *eventÔºömousedown‰∫ã‰ª∂ÂØπË±° **/ function drag(elementToDrag, event) { //ÂàùÂßãÈº†Ê†á‰ΩçÁΩÆÔºåËΩ¨Êç¢‰∏∫ÊñáÊ°£ÂùêÊ†á var startX = event.clientX; var startY = event.clientY; //Âú®ÊñáÊ°£ÂùêÊ†á‰∏ãÔºåÂæÖÊãñÂä®ÂÖÉÁ¥†ÁöÑÂàùÂßã‰ΩçÁΩÆ //Âõ†‰∏∫elementToDragÊòØÁªùÂØπÂÆö‰ΩçÁöÑÔºå //ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÂÅáËÆæÂÆÉÁöÑoffsetParentÂ∞±ÊòØÊñáÊ°£ÁöÑbodyÂÖÉÁ¥† var origX = parseFloat(elementToDrag.style.left); var origY = parseFloat(elementToDrag.style.top); //ËÆ°ÁÆómousedown‰∫ã‰ª∂ÂíåÂÖÉÁ¥†Â∑¶‰∏äËßí‰πãÈó¥ÁöÑË∑ùÁ¶ª //Êàë‰ª¨Â∞ÜÂÆÉÂè¶Â≠ò‰∏∫Èº†Ê†áÁßªÂä®ÁöÑË∑ùÁ¶ª if (document.addEventListener) { //Ê†áÂáÜ‰∫ã‰ª∂Ê®°Âûã //Âú®documentÂØπË±°‰∏äÊ≥®ÂÜåÊçïËé∑‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è document.addEventListener(&quot;mousemove&quot;, moveHandler, true); document.addEventListener(&quot;mouseup&quot;, upHandler, true); } else if (document.attachEvent) { //Áî®‰∫éIE5ÔΩû8ÁöÑIE‰∫ã‰ª∂Ê®°Âûã //Âú®IE‰∫ã‰ª∂Ê®°Âûã‰∏≠Ôºå //ÊçïËé∑‰∫ã‰ª∂ÊòØÈÄöËøáË∞ÉÁî®ÂÖÉÁ¥†‰∏äÁöÑsetCapture()ÊçïËé∑ÂÆÉ‰ª¨ elementToDrag.setCapture(); elementToDrag.attachEvent(&quot;onmousemove&quot;, moveHandler); elementToDrag.attachEvent(&quot;onmouseup&quot;, upHandler); //‰Ωú‰∏∫mouseup‰∫ã‰ª∂ÁúãÂæÖÈº†Ê†áÊçïËé∑ÁöÑ‰∏¢Â§± elementToDrag.attachEvent(&quot;onlosecapture&quot;, upHandler); } //Êàë‰ª¨Â§ÑÁêÜ‰∫ÜËøô‰∏™‰∫ã‰ª∂Ôºå‰∏çËÆ©‰ªª‰ΩïÂÖ∂‰ªñÂÖÉÁ¥†ÁúãÂà∞ÂÆÉ if (event.stopPropagation) event.stopPropagation(); //Ê†áÂáÜÊ®°Âûã else event.cancelBubble = true; //IE //Áé∞Âú®ÈòªÊ≠¢‰ªª‰ΩïÈªòËÆ§Êìç‰Ωú if (event.preventDefault) event.preventDefault(); //Ê†áÂáÜÊ®°Âûã else event.returnValue = false; //IE /** * ÂΩìÂÖÉÁ¥†Ê≠£Âú®Ë¢´ÊãñÂä®Êó∂Ôºå ËøôÂ∞±ÊòØÊçïËé∑mousemove‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÁ®ãÂ∫è *ÂÆÉÁî®‰∫éÁßªÂä®Ëøô‰∏™ÂÖÉÁ¥† **/ function moveHandler(e) { if (!e) e = window.event; //IE‰∫ã‰ª∂Ê®°Âûã //ÁßªÂä®Ëøô‰∏™ÂÖÉÁ¥†Âà∞ÂΩìÂâçÈº†Ê†á‰ΩçÁΩÆÔºå //ÈÄöËøáÊªöÂä®Êù°ÁöÑ‰ΩçÁΩÆÂíåÂàùÂßãÂçïÂáªÁöÑÂÅèÁßªÈáèÊù•Ë∞ÉÊï¥ var targetLeft = e.clientX - startX + origX; var targetTop = e.clientY - startY + origY; var minLeft = 0; var minTop = 0; var maxLeft = (document.documentElement.clientWidth || document.body.clientWidth) - elementToDrag.offsetWidth; var maxTop = (document.documentElement.clientHeight || document.body.clientHeight) - elementToDrag.offsetHeight; targetLeft = targetLeft &gt; maxLeft ? maxLeft : (targetLeft &lt; minLeft ? minLeft : targetLeft); targetTop = targetTop &gt; maxTop ? maxTop : (targetTop &lt; minTop ? minTop : targetTop); elementToDrag.style.left = targetLeft + &quot;px&quot;; elementToDrag.style.top = targetTop + &quot;px&quot;; if (e.stopPropagation) e.stopPropagation(); //Ê†áÂáÜ else e.cancelBubble = true; //IE } /** *ËøôÊòØÊçïËé∑Âú®ÊãñÂä®ÁªìÊùüÊó∂ÂèëÁîüÁöÑÊúÄÁªàmouseup‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÁ®ãÂ∫è **/ function upHandler(e) { if (!e) e = window.event; //IE‰∫ã‰ª∂Ê®°Âûã //Ê≥®ÈîÄÊçïËé∑‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è if (document.removeEventListener) { //DOM‰∫ã‰ª∂Ê®°Âûã document.removeEventListener(&quot;mouseup&quot;, upHandler, true); document.removeEventListener(&quot;mousemove&quot;, moveHandler, true); } else if (document.detachEvent) { //IE 5+‰∫ã‰ª∂Ê®°Âûã elementToDrag.detachEvent(&quot;onlosecapture&quot;, upHandler); elementToDrag.detachEvent(&quot;onmouseup&quot;, upHandler); elementToDrag.detachEvent(&quot;onmousemove&quot;, moveHandler); elementToDrag.releaseCapture(); } //Âπ∂‰∏î‰∏çËÆ©‰∫ã‰ª∂Ëøõ‰∏ÄÊ≠•‰º†Êí≠ if (e.stopPropagation) e.stopPropagation(); //Ê†áÂáÜÊ®°Âûã else e.cancelBubble = true; //IE } } ‚¨Ü back to top Âú®Ë∞∑Ê≠åÂú∞Âõæ‰∏äÊòæÁ§∫Âú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØ//Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÁÑ∂ÂêéÈÄöËøáGoogleÂú∞ÂõæÊòæÁ§∫ //Â¶ÇÊûúÂΩìÂâçÊµèËßàÂô®‰∏çÊîØÊåÅÂú∞ÁêÜ‰ΩçÁΩÆAPIÔºåÂàôÊäõÂá∫‰∏Ä‰∏™ÈîôËØØ function getmap() { //Ê£ÄÊü•ÊòØÂê¶ÊîØÊåÅÂú∞ÁêÜ‰ΩçÁΩÆAPI if (!navigator.geolocation) throw &quot;Geolocation not supported&quot;; //ÂºÄÂßãËØ∑Ê±ÇÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØÔºå navigator.geolocation.getCurrentPosition(setMapURL); function setMapURL(pos) { //‰ªéÂèÇÊï∞ÂØπË±°ÔºàposÔºâ‰∏≠Ëé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØ var latitude = pos.coords.latitude; //ÁªèÂ∫¶ var longitude = pos.coords.longitude; //Á∫¨Â∫¶ var accuracy = pos.coords.accuracy; //Á±≥ var scale = 10; //ÊØî‰æã //ÊûÑÈÄ†‰∏Ä‰∏™URLÔºåÁî®‰∫éË∑≥ËΩ¨Âà∞GoogleÂú∞Âõæ var url = &quot;https://www.google.com/maps/@&quot; + latitude + &quot;,&quot; + longitude + &quot;,&quot; + scale + &quot;z&quot;; //ËÆæÁΩÆ‰∏Ä‰∏™Â§ßËá¥ÁöÑÁº©ÊîæÁ∫ßÂà´ location = url; } } ‚¨Ü back to top ‰ΩøÁî®ÊâÄÊúâÂú∞ÁêÜ‰ΩçÁΩÆÁâπÊÄß//ÂºÇÊ≠•ÁöÑËé∑ÂèñÊàëÁöÑ‰ΩçÁΩÆÔºåÂπ∂Âú®ÊåáÂÆöÁöÑÂÖÉÁ¥†‰∏≠Â±ïÁ§∫Âá∫Êù• function whereami(elt) { //Â∞ÜÊ≠§ÂØπË±°‰Ωú‰∏∫Á¨¨‰∏â‰∏™ÂèÇÊï∞‰º†ÈÄíÁªôgetCurrentPosition()ÊñπÊ≥ï var options = { //ËÆæÁΩÆ‰∏∫trueÔºåË°®Á§∫Â¶ÇÊûúÂèØ‰ª•ÁöÑËØù //Ëé∑ÂèñÈ´òÁ≤æÂ∫¶ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÔºà‰æãÂ¶ÇÔºåÈÄöËøáGPSËé∑ÂèñÔºâ //‰ΩÜÊòØÔºåË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰ºöÂΩ±ÂìçÁîµÊ±†ÂØøÂëΩ enableHighAccuracy: false, //ÂèØ‰ª•Ëøë‰ººÔºöËøôÊòØÈªòËÆ§ÂÄº //Â¶ÇÊûúËé∑ÂèñÁºìÂ≠òËøáÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÂ∞±Ë∂≥Â§üÁöÑËØùÔºåÂèØ‰ª•ËÆæÁΩÆÊ≠§Â±ûÊÄß //ÈªòËÆ§ÂÄº‰∏∫0,Ë°®Á§∫Âº∫Âà∂Ê£ÄÊü•Êñ∞ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ maximumAge: 300000, //5ÂàÜÈíüÂ∑¶Âêé //ÊÑøÊÑèÁ≠âÂæÖÂ§öÈïøÊó∂Èó¥Êù•Ëé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØÔºü //ÈªòËÆ§ÂÄº‰∏∫Êó†ÈôêÈïø [2] ÔºågetCurrentPosition()ÊñπÊ≥ïÊ∞∏‰∏çË∂ÖÊó∂ timeout: 15000 //‰∏çË¶ÅË∂ÖËøá15Áßí }; if (navigator.geolocation) //Â¶ÇÊûúÊîØÊåÅÁöÑËØùÔºåÂ∞±Ëé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØ navigator.geolocation.getCurrentPosition(success, error, options); else elt.innerHTMl = &quot;Geolocation not supported in this browser&quot;; //ÂΩìËé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØÂ§±Ë¥•ÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî®Ê≠§ÂáΩÊï∞ function error(e) { //errorÂØπË±°ÂåÖÂê´‰∏Ä‰∫õÊï∞Â≠óÁºñÁ†ÅÂíåÊñáÊú¨Ê∂àÊÅØÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö //1:Áî®Êà∑‰∏çÂÖÅËÆ∏ÂàÜ‰∫´‰ªñ/Â•πÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ //2:ÊµèËßàÂô®Êó†Ê≥ïÁ°ÆÂÆö‰ΩçÁΩÆ //3:ÂèëÁîüË∂ÖÊó∂ elt.innerHTML = &quot;Geolocation error&quot; + e.code + &quot;:&quot; + e.message; } //ÂΩìËé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØÊàêÂäüÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî®Ê≠§ÂáΩÊï∞ function success(pos) { //ÊÄªÊòØÂèØ‰ª•Ëé∑ÂèñÂ¶Ç‰∏ãËøô‰∫õÂ≠óÊÆµ //‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÁöÑÊòØÊó∂Èó¥Êà≥‰ø°ÊÅØÂú®outerÂØπË±°‰∏≠ÔºåËÄå‰∏çÂú®inner„ÄÅcoordsÂØπË±°‰∏≠ var msg = &quot;Êó∂Èó¥ÊòØ&quot; + new Date(pos.timestamp).toLocaleString() + &quot;Âú∞ÁêÜ‰ΩçÁΩÆÊòØ&quot; + pos.coords.accuracy + &quot;Á±≥ËåÉÂõ¥ÂÜÖÁªèÂ∫¶ÊòØ&quot; + pos.coords.latitude + &quot;Á∫¨Â∫¶ÊòØ&quot; + pos.coords.longitude + &quot;.&quot;; //Â¶ÇÊûúËÆæÂ§áËøòËøîÂõû‰∫ÜÊµ∑Êãî‰ø°ÊÅØÔºåÂàôÂ∞ÜÂÖ∂Ê∑ªÂä†ËøõÂéª if (pos.coords.altitude) { msg += &quot;Êµ∑ÊãîÊòØ&quot; + pos.coords.altitude + &quot;¬±&quot; + pos.coords.altitudeAccuracy + &quot;ÂçÉÁ±≥.&quot;; } //Â¶ÇÊûúËÆæÂ§áËøòËøîÂõû‰∫ÜÈÄüÂ∫¶ÂíåËà™Âêë‰ø°ÊÅØÔºå‰πüÂ∞ÜÂÆÉ‰ª¨Ê∑ªÂä†ËøõÂéª if (pos.coords.speed) { msg += &quot;ÈÄüÂ∫¶ÊòØ&quot; + pos.coords.speed + &quot;m/sÊñπÂêëÊòØ&quot; + pos.coords.heading + &quot;.&quot;; } elt.innerHTML = msg; //ÊòæÁ§∫ÊâÄÊúâÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ } } ‚¨Ü back to top ‰ºòÈõÖÁöÑÂõæÁâáÁøªËΩ¨ÂÆûÁé∞/** *‰ºòÈõÖÁöÑÂõæÁâáÁøªËΩ¨ÂÆûÁé∞ÊñπÂºè * *Ë¶ÅÂàõÂª∫ÂõæÁâáÁøªËΩ¨ÊïàÊûúÔºåÂ∞ÜÊ≠§Ê®°ÂùóÂºïÂÖ•Âà∞HTMLÊñá‰ª∂‰∏≠ *ÁÑ∂ÂêéÂú®‰ªªÊÑèÔºúimgÔºûÂÖÉÁ¥†‰∏ä‰ΩøÁî®data-rolloverÂ±ûÊÄßÊù•ÊåáÂÆöÁøªËΩ¨ÂõæÁâáÁöÑURLÂç≥ÂèØ *Â¶Ç‰∏ãÊâÄÁ§∫: * *&lt;img src=&quot;normal_image.png &quot;data-rollover=&quot;rollover_image.png&quot;&gt; * */ function changeImage() { //ÊâÄÊúâÂ§ÑÁêÜÈÄªËæëÈÉΩÂú®‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞‰∏≠:‰∏çÂÆö‰πâ‰ªª‰ΩïÁ¨¶Âè∑ //ÈÅçÂéÜÊâÄÊúâÁöÑÂõæÁâáÔºåÊü•Êâædata-rolloverÂ±ûÊÄß for (var i = 0; i &lt; document.images.length; i++) { var img = document.images[i]; var rollover = img.getAttribute(&quot;data-rollover&quot;); if (!rollover) continue; //Ë∑≥ËøáÊ≤°Êúâdata-rolloverÂ±ûÊÄßÁöÑÂõæÁâá //Á°Æ‰øùÂ∞ÜÁøªËΩ¨ÁöÑÂõæÁâáÁºìÂ≠òËµ∑Êù• (new Image()).src = rollover; //ÂÆö‰πâ‰∏Ä‰∏™Â±ûÊÄßÊù•Ê†áËØÜÈªòËÆ§ÁöÑÂõæÁâáURL img.setAttribute(&quot;data-rollout&quot;, img.src); //Ê≥®ÂÜå‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞Êù•ÂàõÂª∫ÁøªËΩ¨ÊïàÊûú img.onmouseover = function () { this.src = this.getAttribute(&quot;data-rollover&quot;); }; img.onmouseout = function () { this.src = this.getAttribute(&quot;data-rollout&quot;); }; } } ‚¨Ü back to top ‰ΩøÁî®canvasÁªòÂà∂Â§öËæπÂΩ¢//ÂÆö‰πâ‰∏Ä‰∏™‰ª•(x,y)‰∏∫‰∏≠ÂøÉÔºåÂçäÂæÑ‰∏∫rÁöÑËßÑÂàônËæπÂΩ¢,cÂèØ‰ª•ÈÄöËøáË∞ÉÁî®ÁîªÂ∏ÉgetContext()ÊñπÊ≥ïÂæóÂà∞ //ÊØè‰∏™È°∂ÁÇπÈÉΩÊòØÂùáÂåÄÂàÜÂ∏ÉÂú®ÂúÜÂë®‰∏ä //Â∞ÜÁ¨¨‰∏Ä‰∏™È°∂ÁÇπÊîæÁΩÆÂú®ÊúÄ‰∏äÈù¢ÔºåÊàñËÄÖÊåáÂÆö‰∏ÄÂÆöËßíÂ∫¶ //Èô§ÈùûÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÊòØtrueÔºåÂê¶ÂàôÈ°∫Êó∂ÈíàÊóãËΩ¨ function polygon(c, n, x, y, r, angle, counterclockwise) { angle = angle || 0; counterclockwise = counterclockwise || false; c.moveTo(x + r * Math.sin(angle), //‰ªéÁ¨¨‰∏Ä‰∏™È°∂ÁÇπÂºÄÂßã‰∏ÄÊù°Êñ∞ÁöÑÂ≠êË∑ØÂæÑ y - r * Math.cos(angle)); //‰ΩøÁî®‰∏âËßíÊ≥ïËÆ°ÁÆó‰ΩçÁΩÆ var delta = 2 * Math.PI / n; //‰∏§‰∏™È°∂ÁÇπ‰πãÈó¥ÁöÑÂ§πËßí for (var i = 1; i &lt; n; i++) { //Âæ™ÁéØÂâ©‰ΩôÁöÑÊØè‰∏™È°∂ÁÇπ angle += counterclockwise ? -delta : delta; //Ë∞ÉÊï¥ËßíÂ∫¶ c.lineTo(x + r * Math.sin(angle), //‰ª•‰∏ã‰∏™È°∂ÁÇπ‰∏∫Á´ØÁÇπÊ∑ªÂä†Á∫øÊÆµ y - r * Math.cos(angle)); } c.closePath(); //Â∞ÜÊúÄÂêé‰∏Ä‰∏™È°∂ÁÇπÂíåËµ∑ÁÇπËøûÊé•Ëµ∑Êù• } ‚¨Ü back to top ‰ΩøÁî®canvasÁªòÂà∂Èõ™Ëä±var deg = Math.PI / 180; //Áî®‰∫éËßíÂ∫¶Âà∂Âà∞ÂºßÂ∫¶Âà∂ÁöÑËΩ¨Êç¢ //Âú®ÁîªÂ∏ÉÁöÑ‰∏ä‰∏ãÊñác‰∏≠Ôºå‰ª•Â∑¶‰∏ãËßíÁöÑÁÇπ(x,y)ÂíåËæπÈïølenÔºåÁªòÂà∂‰∏Ä‰∏™nÁ∫ßÂà´ÁöÑÁßëËµ´Èõ™Ëä±ÂàÜÂΩ¢ function snowflake(c, n, x, y, len) { c.save(); //‰øùÂ≠òÂΩìÂâçÂèòÊç¢ c.translate(x, y); //ÂèòÊç¢ÂéüÁÇπ‰∏∫Ëµ∑ÂßãÁÇπ c.moveTo(0, 0); //‰ªéÊñ∞ÁöÑÂéüÁÇπÂºÄÂßã‰∏ÄÊù°Êñ∞ÁöÑÂ≠êË∑ØÂæÑ leg(n); //ÁªòÂà∂Èõ™Ëä±ÁöÑÁ¨¨‰∏ÄÊù°Ëæπ c.rotate(-120 * deg); //Áé∞Âú®Ê≤øÁùÄÈÄÜÊó∂ÈíàÊñπÂêëÊóãËΩ¨120 o leg(n); //ÁªòÂà∂Á¨¨‰∫åÊù°Ëæπ c.rotate(-120 * deg); //ÂÜçÊ¨°ÊóãËΩ¨ leg(n); //ÁîªÊúÄÂêé‰∏ÄÊù°Ëæπ c.closePath(); //Èó≠ÂêàÂ≠êË∑ØÂæÑ c.restore(); //ÊÅ¢Â§çÂàùÂßãÁöÑÂèòÊç¢ //ÁªòÂà∂nÁ∫ßÂà´ÁöÑÁßëËµ´Èõ™Ëä±ÁöÑ‰∏ÄÊù°Ëæπ //Ê≠§ÂáΩÊï∞Âú®ÁîªÂÆå‰∏ÄÊù°ËæπÁöÑÊó∂ÂÄôÂ∞±Á¶ªÂºÄÂΩìÂâçÁÇπÔºå //ÁÑ∂ÂêéÈÄöËøáÂùêÊ†áÁ≥ªÂèòÊç¢Â∞ÜÂΩìÂâçÁÇπÂèàËΩ¨Êç¢Êàê(0,0,) //ËøôÊÑèÂë≥ÁùÄÁîªÂÆå‰∏ÄÊù°Ëæπ‰πãÂêéÂèØ‰ª•ÂæàÁÆÄÂçïÂú∞Ë∞ÉÁî®rotate()ËøõË°åÊóãËΩ¨ function leg(n) { c.save(); //‰øùÂ≠òÂΩìÂâçÂùêÊ†áÁ≥ªÂèòÊç¢ if (n == 0) { //‰∏çÈúÄË¶ÅÈÄíÂΩíÁöÑÊÉÖÂÜµ‰∏ã: c.lineTo(len, 0); //Â∞±ÁªòÂà∂‰∏ÄÊù°Ê∞¥Âπ≥Á∫øÊÆµ } else { //ÈÄíÂΩíÊÉÖÂÜµ‰∏ãÔºöÁªòÂà∂4Êù°Â≠êËæπÔºåÁ±ª‰ººËøô‰∏™Ê†∑Â≠êÔºö - \/ - c.scale(1 / 3, 1 / 3); //Â≠êËæπÈïøÂ∫¶‰∏∫ÂéüËæπÈïøÁöÑ1/3 leg(n - 1); //ÈÄíÂΩíÁ¨¨‰∏ÄÊù°Â≠êËæπ c.rotate(60 * deg); //È°∫Êó∂ÈíàÊóãËΩ¨60 o leg(n - 1); //Á¨¨‰∫åÊù°Â≠êËæπ c.rotate(-120 * deg); //ÈÄÜÊó∂ÈíàÊóãËΩ¨120 o leg(n - 1); //Á¨¨‰∏âÊù°Â≠êËæπ c.rotate(60 * deg); //ÈÄöËøáÊóãËΩ¨ÂõûÂà∞ÂàùÂßãÁä∂ÊÄÅ leg(n - 1); //ÊúÄÂêé‰∏ÄÊù°Ëæπ } c.restore(); //ÊÅ¢Â§çÂùêÊ†áÁ≥ªÂèòÊç¢ c.translate(len, 0); //‰ΩÜÊòØÈÄöËøáËΩ¨Êç¢‰ΩøÂæóËæπÁöÑÁªìÊùüÁÇπ‰∏∫(0,0) } } ‚¨Ü back to top Âú®Web Worker‰∏≠ÂèëËµ∑ÂêåÊ≠•XMLHtttpRequest//Ê≠§Êñá‰ª∂‰ºöÈÄöËøá‰∏Ä‰∏™Êñ∞ÁöÑWorker()Êù•ËΩΩÂÖ•ÔºåÂõ†Ê≠§ÔºåÂÆÉÊòØËøêË°åÂú®Áã¨Á´ãÁöÑÁ∫øÁ®ã‰∏≠ÁöÑÔºå //ÂèØ‰ª•ÊîæÂøÉÂú∞‰ΩøÁî®ÂêåÊ≠•XMLHttpRequest API //Ê∂àÊÅØÊòØURLÊï∞ÁªÑÁöÑÂΩ¢Âºè„ÄÇ‰ª•Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂêåÊ≠•Ëé∑ÂèñÊØè‰∏™URLÊåáÂÆöÁöÑÂÜÖÂÆπÔºå //Âπ∂Â∞ÜËøô‰∫õÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑ‰º†ÈÄíÂõûÂéª„ÄÇ onmessage = function (e) { var urls = e.data; //ËæìÂÖ•ÔºöË¶ÅËé∑ÂèñÁöÑURL var contents = []; //ËæìÂá∫ÔºöURLÊåáÂÆöÁöÑÂÜÖÂÆπ for (var i = 0; i &lt; urls.length; i++) { var url = urls[i]; //ÊØè‰∏™URL var xhr = new XMLHttpRequest(); //ÂºÄÂßã‰∏Ä‰∏™HTTPËØ∑Ê±Ç xhr.open(&quot;GET&quot;, url, false); //falseÂàôË°®Á§∫ËøõË°åÂêåÊ≠•ËØ∑Ê±Ç xhr.send(); //ÈòªÂ°û‰ΩèÔºå‰∏ÄÁõ¥Âà∞ÂìçÂ∫îÂÆåÊàê if (xhr.status !== 200) //Â¶ÇÊûúËØ∑Ê±ÇÂ§±Ë¥•ÂàôÊäõÂá∫ÈîôËØØ throw Error(xhr.status + &quot; &quot; + xhr.statusText + &quot;: &quot; + url); contents.push(xhr.responseText); //Âê¶ÂàôÔºåÂ≠òÂÇ®ÈÄöËøáURLËé∑ÂèñÂæóÂà∞ÁöÑÂÜÖÂÆπ } //ÊúÄÂêéÔºåÂ∞ÜËøô‰∫õURLÂÜÖÂÆπ‰ª•Êï∞ÁªÑÁöÑÂΩ¢Âºè‰º†ÈÄíÂõû‰∏ªÁ∫øÁ®ã postMessage(contents); } ÂñÑ‰∫éÂà©Áî®JS‰∏≠ÁöÑÂ∞èÊäÄÂ∑ßÔºå‰∏ç‰ªÖÂèØ‰ª•‰Ωø‰ª£Á†ÅÊõ¥Âä†ÁÆÄÊ¥ÅÔºåËÄå‰∏îÈÄºÊ†ºÊõ¥È´ò„ÄÇ ‰ΩøÁî®!!Ê®°ÊãüBoolean()ÂáΩÊï∞ÂéüÁêÜÔºöÈÄªËæëÈùûÊìç‰Ωú‰∏Ä‰∏™Êï∞ÊçÆÂØπË±°Êó∂Ôºå‰ºöÂÖàÂ∞ÜÊï∞ÊçÆÂØπË±°ËΩ¨Êç¢‰∏∫Â∏ÉÂ∞îÂÄºÔºåÁÑ∂ÂêéÂèñÂèçÔºå‰∏§‰∏™!!ÈáçÂ§çÂèñÂèçÔºåÂ∞±ÂÆûÁé∞‰∫ÜËΩ¨Êç¢‰∏∫Â∏ÉÂ∞îÂÄºÁöÑÊïàÊûú„ÄÇ ‰ΩøÁî®‰∏ÄÂÖÉÂä†(+)Ê®°ÊãüNumber()ÂáΩÊï∞ÂéüÁêÜÔºöÂØπÈùûÊï∞ÂÄºÁ±ªÂûãÁöÑÊï∞ÊçÆ‰ΩøÁî®‰∏ÄÂÖÉÂä†(+)Ôºå‰ºöËµ∑Âà∞‰∏éNumber()ÂáΩÊï∞Áõ∏ÂêåÁöÑÊïàÊûú„ÄÇ nullËΩ¨Êç¢‰∏∫0 undefinedËΩ¨Êç¢‰∏∫NaN falseËΩ¨Êç¢‰∏∫0ÔºåtrueËΩ¨Êç¢‰∏∫1 ÂØπ‰∫éÂ≠óÁ¨¶‰∏≤Ôºö Á©∫Â≠ó‰∏≤ËΩ¨Êç¢‰∏∫0 Âê´ÊúâÊï∞Â≠óÊàñËÄÖÊµÆÁÇπÊï∞ÊàñËÄÖÂçÅÂÖ≠ËøõÂà∂Ê†ºÂºèÁöÑÊï∞ÊçÆ(11, 0.3, 0xfeÁ≠â)ÔºåËΩ¨Êç¢‰∏∫Áõ∏Â∫îÁöÑÊï∞ÂÄº Âê´ÊúâÂÖ∂‰ªñÊ†ºÂºèÂ≠óÁ¨¶ÔºåÊó†Ê≥ïËΩ¨Êç¢‰∏∫Êï∞ÂÄºÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËΩ¨Êç¢‰∏∫NaN ÂØπ‰∫éÂØπË±°ÔºåÂÖàË∞ÉÁî®valueOf()ÊñπÊ≥ïÔºåÂú®ËΩ¨Êç¢ÔºåËã•ÁªìÊûú‰∏∫NaNÔºåÈÇ£‰πàÂÜçË∞ÉÁî®toString()ÊñπÊ≥ïÔºå‰πãÂêéÂÜçËΩ¨Êç¢ ‰ΩøÁî®ÈÄªËæë‰∏é(&amp;&amp;)ËøõË°åÁü≠Ë∑ØÊìç‰Ωúif(connected){ login(); } ‰ª•‰∏ä‰ª£Á†ÅÂèØ‰ª•ÁÆÄÂÜô‰∏∫: connected &amp;&amp; login(); ‰πüÂèØÁî®ËøôÁßçÊñπÊ≥ïÊù•Ê£ÄÊü•ÂØπË±°‰∏≠ÊòØÂê¶Êã•ÊúâÊüê‰∏™Â±ûÊÄß user &amp;&amp; user.name ÂéüÁêÜÔºöÈÄªËæë‰∏é(&amp;&amp;)‰ºöÈ¶ñÂÖàÂØπÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÊï∞ËøõË°åÊ±ÇÂÄºÔºåÂè™ÊúâÊ±ÇÂÄºÁªìÊûú‰∏∫trueÊó∂Êâç‰ºöÂØπÁ¨¨‰∫å‰∏™Êìç‰ΩúÊï∞Ê±ÇÂÄº„ÄÇconnected &amp;&amp; login()‰∏≠ÔºåËã•Âà§Êñ≠connected‰∏ç‰∏∫true,Âàô‰∏çÂÜçËøõË°å‰∏ã‰∏ÄÊ≠•Êìç‰Ωú„ÄÇÊâÄË∞ìÁöÑÁü≠Ë∑ØÊìç‰ΩúÂç≥Á¨¨‰∏Ä‰∏™Êìç‰ΩúÊï∞ÂèØ‰ª•ÂÜ≥ÂÆöÁªìÊûúÔºåÂàô‰∏çÂÜçÂØπÁ¨¨‰∫å‰∏™Êìç‰ΩúÊï∞ËøõË°åÊ±ÇÂÄº„ÄÇ ‰ΩøÁî®ÈÄªËæëÊàñ(||)ËÆæÁΩÆÈªòËÆ§ÂÄºÈÄªËæëÊàñ(||)‰πüÂ±û‰∫éÁü≠Ë∑ØÊìç‰ΩúÔºåÂç≥ÂΩìÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÊï∞ÂèØ‰ª•ÂÜ≥ÂÆöÁªìÊûúÊó∂Ôºå‰∏çÂÜçÂØπÁ¨¨‰∫å‰∏™Êìç‰ΩúÊï∞ËøõË°åÊ±ÇÂÄº„ÄÇÂà©Áî®Ëøô‰∏™ÁâπÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•ÁªôËµãÂÄºËØ≠Âè•ËÆæÁΩÆÈªòËÆ§ÂÄº„ÄÇÂè™ÊúâÂΩìÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÊï∞‰∏∫nullÊàñËÄÖundefinedÊó∂ÔºåÊâç‰ºöÊääÁ¨¨‰∫å‰∏™Êìç‰ΩúÊï∞ËµãÂÄºÁªôÁõÆÊ†á„ÄÇ function User(name, age){ this.name = name || &quot;Liming&quot;; } ‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÂ¶ÇÊûúÂáΩÊï∞‰∏≠Ê≤°Êúâ‰º†ÂÖ•nameÂèÇÊï∞ÔºånameÁöÑÂÄº‰∏∫undefinedÔºåÈÇ£‰πàÂ∞±‰ºöÁªôthis.nameËµãÂÄº‰∏∫‚ÄùLiming‚Äù„ÄÇES6‰∏≠ÂèØ‰ª•‰∏∫ÂáΩÊï∞ËÆæÁΩÆÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•ËøôÁßçÊñπÊ≥ïÂèØËÉΩË¶ÅÊàê‰∏∫ËøáÂéªÂºèÔºå‰ΩÜÊòØÂÖ∂‰ªñÂú∞ÊñπËøòÊòØÂæàÊúâÁî®ÁöÑ„ÄÇES6 ÂÜôÊ≥ï ÁÆÄÊ¥Å‰∫ÜËÆ∏Â§ö let User = (name=&quot;Liming&quot;, age) =&gt; { } Ëé∑ÂèñÊï∞ÁªÑÊúÄÂêén‰∏™ÂÖÉÁ¥†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅËé∑ÂèñÊï∞ÁªÑ‰∏≠ÊúÄÂêén‰∏™ÂÖÉÁ¥† var array = [1, 2, 3, 4, 5, 6]; console.log(array.slice(-1)); //[6] console.log(array.slice(-2)); //[5, 6] ÂéüÁêÜ:Array.prototype.slice(begin,end)ÂèØ‰ª•Áî®Êù•Ë£ÅÂâ™Êï∞ÁªÑÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄºÊòØÊï∞ÁªÑÁöÑÈïøÂ∫¶ÂÄº„ÄÇËã•ÂÄº‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂàô‰ºöËøîÂõû‰ªéÊåáÂÆöÁ¥¢ÂºïÂºÄÂßãÂà∞Êï∞ÁªÑÁªìÂ∞æÁöÑÊâÄÊúâÂÄº„ÄÇËÄåslice()ÊñπÊ≥ïËøòÂèØ‰ª•Êé•Êî∂Ë¥üÂÄºÔºåÂΩì‰º†ÂÖ•Ë¥üÂÄºÊó∂Ôºå‰ºöËá™Âä®Âä†‰∏äÊï∞ÁªÑÁöÑÈïøÂ∫¶ÂÄº‰ΩøÂÖ∂ËΩ¨Êç¢‰∏∫Ê≠£ÂÄºÔºå‰∫éÊòØ‰æøÂæóÂà∞‰∫ÜÊúÄÂêéÁöÑn‰∏™ÂÄº„ÄÇ ÂêàÂπ∂Â§ßÊï∞ÁªÑÂ∏∏Áî®ÁöÑÂêàÂπ∂Êï∞ÁªÑÁöÑÊñπÂºèÊòØ‰ΩøÁî®Array.concat()ÂáΩÊï∞„ÄÇËØ•ÂáΩÊï∞‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂ∞Ü‰∏§‰∏™Êï∞ÁªÑËøûÊé•Ëµ∑Êù•Â≠òÂÇ®Âà∞Êñ∞Êï∞ÁªÑ‰∏≠ÔºåËøô‰ºöÂ§ßÈáèÊ∂àËÄóÂÜÖÂ≠ò„ÄÇÂèØ‰ª•‰ΩøÁî®Array.push.apply(arr1, arr2)ÔºåÂÆÉ‰∏ç‰ºöÂàõÂª∫Êñ∞Êï∞ÁªÑÔºåËÄåÊòØÂ∞ÜÁ¨¨‰∫å‰∏™Êï∞ÁªÑÂêàÂπ∂Âà∞Á¨¨‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠Ôºå‰ª•ÂáèÂ∞ëÂÜÖÂ≠òÁöÑÊ∂àËÄó„ÄÇ var a = [1,2]; var b = [3,4]; console.log(a.push.apply(a, b)); // [1,2,3,4] //ÊàñËÄÖ Array.prototype.push.apply(a, b); // aÂèòÊàê‰∫Ü[1,2,3,4] console.log(a); //[1,2,3,4] ÂéüÁêÜ: Array.push()ÊòØÂú®Êï∞ÁªÑÁöÑÊú´Â∞æÂ¢ûÂä†ÂÖÉÁ¥†Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰ΩøÁî®a.push(b)‰ºöÊääÊï¥‰∏™Êï∞ÁªÑbÂΩì‰Ωú‰∏Ä‰∏™ÂÖÉÁ¥†Ê∑ªÂä†Âà∞Êï∞ÁªÑa‰∏≠„ÄÇËÄåapply()ÊñπÊ≥ïÔºåÂàôÂÖÅËÆ∏Â∞ÜÊüê‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞‰ª•Êï∞ÁªÑÁöÑÂΩ¢Âºè‰º†ÂÖ•ÔºåÊâÄ‰ª•Ëµ∑Âà∞‰∫ÜÂ∞ÜÊï∞ÁªÑb‰∏≠ÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Êï∞ÁªÑa‰∏≠ÁöÑÊïàÊûú„ÄÇ NodeListËΩ¨Êç¢‰∏∫Êï∞ÁªÑ‰ΩøÁî®document.querySelectorAll(‚Äòdiv‚Äô)ËøîÂõûÁöÑÊòØNodeListÂØπË±°ÔºåËôΩÁÑ∂ÂÆÉÂæàÂÉèÊï∞ÁªÑÔºå‰ΩÜÊòØÂπ∂‰∏çËÉΩ‰ΩøÁî®ËØ∏Â¶Çsort()Ôºåfilter()Á≠âÊñπÊ≥ï„ÄÇ‰Ω†ÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÁúüÊ≠£ÁöÑÊï∞ÁªÑ„ÄÇ var eles = document.querySelectorAll(&apos;p&apos;); //NodeList var arrayElements = [].slice.call(eles); //ËΩ¨Âåñ‰∏∫Êï∞ÁªÑ // ÊàñËÄÖ var arrayElements = Array.prototype.slice.call(eles); // ÊàñËÄÖ var arrayElements = Array.from(eles); ÂéüÁêÜ: [].slice.call(eles):È¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á©∫Êï∞ÁªÑ[]ÔºåÁÑ∂ÂêéË∞ÉÁî®‰ªñÁöÑslice()ÊñπÊ≥ïÔºå‰ΩÜÊòØÂú®slice()ÊñπÊ≥ïÁöÑÊâßË°å‰∏≠ÔºåÊääthisÂØπË±°ÊåáÂêë‰∫Üeles,ÊâÄ‰ª•‰ºöÂØπelesËøõË°åË£ÅÂáèÔºåÁî±‰∫éÂØπslice()ÊñπÊ≥ïÊ≤°Êúâ‰º†ÂÖ•ÂèÇÊï∞ÔºåÊâÄ‰ª•Áõ∏ÂΩì‰∫éslice(0,eles.length),‰ºöÊåâÁÖßÂÖÉÈïøÂ∫¶ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇ Array.prototype.slice.call(eles): ÂéüÁêÜ‰∏é‰∏äÈù¢Áõ∏‰ººÔºåÂè™‰∏çËøáËøôÊ¨°Ê≤°ÊúâÂàõÂª∫Á©∫Êï∞ÁªÑÔºåËÄåÊòØÁõ¥Êé•‰ΩøÁî®‰∫ÜÂéüÂûã‰∏≠ÁöÑÊñπÊ≥ï]]></content>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂéüÁîü JS Ê±áÊÄª]]></title>
    <url>%2F2015%2F01%2F01%2F%E5%8E%9F%E7%94%9F-JS-%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[JSÈÄâÂèñDOMÂÖÉÁ¥†ÁöÑÊñπÊ≥ï Ê≥®ÊÑèÔºöÂéüÁîüJSÈÄâÂèñDOMÂÖÉÁ¥†ÊØî‰ΩøÁî®jQueryÁ±ªÂ∫ìÈÄâÂèñË¶ÅÂø´ÂæàÂ§ö 1„ÄÅÈÄöËøáIDÈÄâÂèñÂÖÉÁ¥† document.getElementById(&apos;myid&apos;); 2„ÄÅÈÄöËøáCLASSÈÄâÂèñÂÖÉÁ¥† document.getElementsByClassName(&apos;myclass&apos;)[0]; 3„ÄÅÈÄöËøáÊ†áÁ≠æÈÄâÂèñÂÖÉÁ¥† document.getElementsByTagName(&apos;mydiv&apos;)[0]; 4„ÄÅÈÄöËøáNAMEÂ±ûÊÄßÈÄâÂèñÂÖÉÁ¥†ÔºàÂ∏∏Áî®‰∫éË°®ÂçïÔºâ document.getElementsByName(&apos;myname&apos;)[0]; JS‰øÆÊîπCSSÊ†∑Âºè document.getElementById(&apos;myid&apos;).style.display = &apos;none&apos;; class Êìç‰ΩúÔºö JS‰øÆÊîπCLASSÂ±ûÊÄß document.getElementById(&apos;myid&apos;).className = &apos;active&apos;; Â¶ÇÊûúÊúâÂ§ö‰∏™CLASSÂ±ûÊÄßÔºåÂç≥Áî®Á©∫Ê†ºÈöîÂºÄ document.getElementById(&apos;myid&apos;).className = &apos;active div-1&apos;; ÁßªÈô§ËØ•ÂÖÉÁ¥†‰∏äÁöÑÊâÄÊúâCLASS document.getElementById(&apos;myid&apos;).className = &apos;&apos;; Ê≥®ÊÑèÔºö‰ΩøÁî®classList‰ºö‰ºò‰∫é‰ΩøÁî®className document.getElementById(&apos;myid&apos;).classList.item(0);//item‰∏∫Á±ªÂêçÁöÑÁ¥¢Âºï document.getElementById(&apos;myid&apos;).classList.length;//Âè™ËØªÂ±ûÊÄß document.getElementById(&apos;myid&apos;).classList.add(&apos;newClass&apos;);//Ê∑ªÂä†class document.getElementById(&apos;myid&apos;).classList.remove(&apos;newClass&apos;);//ÁßªÈô§class document.getElementById(&apos;myid&apos;).classList.toggle(&apos;newClass&apos;);//ÂàáÊç¢ÔºåÊúâÂàôÁßªÈô§ÔºåÊ≤°ÊúâÂàôÊ∑ªÂä† document.getElementById(&apos;myid&apos;).classList.contains(&apos;newClass&apos;);//Âà§Êñ≠ÊòØÂê¶Â≠òÂú®ËØ•class Ë°•ÂÖÖÔºöaddÂíåremoveÊñπÊ≥ï‰∏çÂÖÅËÆ∏ÈìæÂºèÊìç‰ΩúÔºåÂõ†‰∏∫ËøîÂõûÁöÑÈÉΩÊòØundefinedÔºåÂÖ∂Ê¨°Ôºå‰πü‰∏çÂÖÅËÆ∏ÂêåÊó∂Ê∑ªÂä†ÊàñÂà†Èô§Â§ö‰∏™classÔºåÂèØ‰ª•Ëá™Ë°åÊâ©Â±ï‰∏Ä‰∏ã DOMTokenList.prototype.adds = function(tokens){ tokens.split(&apos; &apos;).forEach(function(token){ this.add(token); }).bind(this)); return this; }; var clList = document.body.classList; clList.adds(&apos;a b c&apos;).toString(); //a b c JS‰øÆÊîπÊñáÊú¨ document.getElementById(&apos;myid&apos;).innerHTML = &apos;123&apos;; JSÂàõÂª∫ÂÖÉÁ¥†Âπ∂ÂêëÂÖ∂‰∏≠ËøΩÂä†ÊñáÊú¨ var newdiv = document.createElement(&apos;div&apos;); var newtext = document.createTextNode(&apos;123&apos;); newdiv.appendChild(newtext); document.body.appendChild(newdiv); ÂêåÁêÜÔºöremoveChild()ÁßªÈô§ËäÇÁÇπÔºåÂπ∂ËøîÂõûËäÇÁÇπ cloneNode()Â§çÂà∂ËäÇÁÇπ insertBefore()ÊèíÂÖ•ËäÇÁÇπÔºàÁà∂ËäÇÁÇπÂÜÖÂÆπÁöÑÊúÄÂâçÈù¢Ôºâ Ê≥®ÊÑèÔºöinsertBefore()Êúâ‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÊòØÊèíÂÖ•ÁöÑËäÇÁÇπÔºåÁ¨¨‰∫å‰∏™ÊòØÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ ‰æãÂ≠êÔºö var list = document.getElementById(&apos;myList&apos;); list.insertBefore(newItem,list.childNodes[1]); //ÊèíÂÖ•Êñ∞ËäÇÁÇπnewItemÂà∞listÁöÑÁ¨¨‰∫å‰∏™Â≠êËäÇÁÇπ JSËøîÂõûÊâÄÊúâÂ≠êËäÇÁÇπÂØπË±°childNodes var mylist = document.getElementById(&apos;myid&apos;); for(var i=0,i&lt;mylist.childNodes.length;i++){ console.log(mylist.childNodes[i]); } firstChildËøîÂõûÁ¨¨‰∏Ä‰∏™Â≠êËäÇÁÇπ lastChildËøîÂõûÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπ parentNodeËøîÂõûÁà∂ËäÇÁÇπÂØπË±° nextSiblingËøîÂõû‰∏ã‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπÂØπË±° previousSiblingËøîÂõûÂâç‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπÂØπË±° nodeNameËøîÂõûËäÇÁÇπÁöÑHTMLÊ†áËÆ∞ÂêçÁß∞ ÂéüÁîüJSÊ±áÊÄªÔºö ‰∏Ä„ÄÅËäÇÁÇπ 1.1 ËäÇÁÇπÂ±ûÊÄß Node.nodeName //ËøîÂõûËäÇÁÇπÂêçÁß∞ÔºåÂè™ËØª Node.nodeType //ËøîÂõûËäÇÁÇπÁ±ªÂûãÁöÑÂ∏∏Êï∞ÂÄºÔºåÂè™ËØª Node.nodeValue //ËøîÂõûTextÊàñCommentËäÇÁÇπÁöÑÊñáÊú¨ÂÄºÔºåÂè™ËØª Node.textContent //ËøîÂõûÂΩìÂâçËäÇÁÇπÂíåÂÆÉÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπÔºåÂèØËØªÂÜô Node.baseURI //ËøîÂõûÂΩìÂâçÁΩëÈ°µÁöÑÁªùÂØπË∑ØÂæÑ Node.ownerDocument //ËøîÂõûÂΩìÂâçËäÇÁÇπÊâÄÂú®ÁöÑÈ°∂Â±ÇÊñáÊ°£ÂØπË±°ÔºåÂç≥document Node.nextSibling //ËøîÂõûÁ¥ßË∑üÂú®ÂΩìÂâçËäÇÁÇπÂêéÈù¢ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπ Node.previousSibling //ËøîÂõûÂΩìÂâçËäÇÁÇπÂâçÈù¢ÁöÑ„ÄÅË∑ùÁ¶ªÊúÄËøëÁöÑ‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπ Node.parentNode //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node.parentElement //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁà∂ElementËäÇÁÇπ Node.childNodes //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ Node.firstChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™Â≠êËäÇÁÇπ Node.lastChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπ //parentNodeÊé•Âè£ Node.children //ËøîÂõûÊåáÂÆöËäÇÁÇπÁöÑÊâÄÊúâElementÂ≠êËäÇÁÇπ Node.firstElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Node.lastElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Node.childElementCount //ËøîÂõûÂΩìÂâçËäÇÁÇπÊâÄÊúâElementÂ≠êËäÇÁÇπÁöÑÊï∞ÁõÆ„ÄÇ 1.2 Êìç‰Ωú Node.appendChild(node) //ÂêëËäÇÁÇπÊ∑ªÂä†ÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπ Node.hasChildNodes() //ËøîÂõûÂ∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçËäÇÁÇπÊòØÂê¶ÊúâÂ≠êËäÇÁÇπ Node.cloneNode(true); // ÈªòËÆ§‰∏∫false(ÂÖãÈöÜËäÇÁÇπ), true(ÂÖãÈöÜËäÇÁÇπÂèäÂÖ∂Â±ûÊÄßÔºå‰ª•ÂèäÂêé‰ª£) Node.insertBefore(newNode,oldNode) // Âú®ÊåáÂÆöÂ≠êËäÇÁÇπ‰πãÂâçÊèíÂÖ•Êñ∞ÁöÑÂ≠êËäÇÁÇπ Node.removeChild(node) //Âà†Èô§ËäÇÁÇπÔºåÂú®Ë¶ÅÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ‰∏äÊìç‰Ωú Node.replaceChild(newChild,oldChild) //ÊõøÊç¢ËäÇÁÇπ Node.contains(node) //ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂèÇÊï∞ËäÇÁÇπÊòØÂê¶‰∏∫ÂΩìÂâçËäÇÁÇπÁöÑÂêé‰ª£ËäÇÁÇπ„ÄÇ Node.compareDocumentPosition(node) //ËøîÂõû‰∏Ä‰∏™7‰∏™ÊØîÁâπ‰ΩçÁöÑ‰∫åËøõÂà∂ÂÄºÔºåË°®Á§∫ÂèÇÊï∞ËäÇÁÇπÂíåÂΩìÂâçËäÇÁÇπÁöÑÂÖ≥Á≥ª Node.isEqualNode(noe) //ËøîÂõûÂ∏ÉÂ∞îÂÄºÔºåÁî®‰∫éÊ£ÄÊü•‰∏§‰∏™ËäÇÁÇπÊòØÂê¶Áõ∏Á≠â„ÄÇÊâÄË∞ìÁõ∏Á≠âÁöÑËäÇÁÇπÔºåÊåáÁöÑÊòØ‰∏§‰∏™ËäÇÁÇπÁöÑÁ±ªÂûãÁõ∏Âêå„ÄÅÂ±ûÊÄßÁõ∏Âêå„ÄÅÂ≠êËäÇÁÇπÁõ∏Âêå„ÄÇ Node.normalize() //Áî®‰∫éÊ∏ÖÁêÜÂΩìÂâçËäÇÁÇπÂÜÖÈÉ®ÁöÑÊâÄÊúâTextËäÇÁÇπ„ÄÇÂÆÉ‰ºöÂéªÈô§Á©∫ÁöÑÊñáÊú¨ËäÇÁÇπÔºåÂπ∂‰∏îÂ∞ÜÊØóÈÇªÁöÑÊñáÊú¨ËäÇÁÇπÂêàÂπ∂Êàê‰∏Ä‰∏™„ÄÇ //ChildNodeÊé•Âè£ Node.remove() //Áî®‰∫éÂà†Èô§ÂΩìÂâçËäÇÁÇπ Node.before() // Node.after() Node.replaceWith() 1.3 DocumentËäÇÁÇπ 1.3.1 DocumentËäÇÁÇπÁöÑÂ±ûÊÄß document.doctype // document.documentElement //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊ†πËäÇÁÇπ document.defaultView //ËøîÂõûdocumentÂØπË±°ÊâÄÂú®ÁöÑwindowÂØπË±° document.body //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑ&lt;body&gt;ËäÇÁÇπ document.head //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑ&lt;head&gt;ËäÇÁÇπ document.activeElement //ËøîÂõûÂΩìÂâçÊñáÊ°£‰∏≠Ëé∑ÂæóÁÑ¶ÁÇπÁöÑÈÇ£‰∏™ÂÖÉÁ¥†„ÄÇ //ËäÇÁÇπÈõÜÂêàÂ±ûÊÄß document.links //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊâÄÊúâaÂÖÉÁ¥† document.forms //ËøîÂõûÈ°µÈù¢‰∏≠ÊâÄÊúâË°®ÂçïÂÖÉÁ¥† document.images //ËøîÂõûÈ°µÈù¢‰∏≠ÊâÄÊúâÂõæÁâáÂÖÉÁ¥† document.embeds //ËøîÂõûÁΩëÈ°µ‰∏≠ÊâÄÊúâÂµåÂÖ•ÂØπË±° document.scripts //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊâÄÊúâËÑöÊú¨ document.styleSheets //ËøîÂõûÂΩìÂâçÁΩëÈ°µÁöÑÊâÄÊúâÊ†∑ÂºèË°® //ÊñáÊ°£‰ø°ÊÅØÂ±ûÊÄß document.documentURI //Ë°®Á§∫ÂΩìÂâçÊñáÊ°£ÁöÑÁΩëÂùÄ document.URL //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÁΩëÂùÄ document.domain //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÂüüÂêç document.lastModified //ËøîÂõûÂΩìÂâçÊñáÊ°£ÊúÄÂêé‰øÆÊîπÁöÑÊó∂Èó¥Êà≥ document.location //ËøîÂõûlocationÂØπË±°ÔºåÊèê‰æõÂΩìÂâçÊñáÊ°£ÁöÑURL‰ø°ÊÅØ document.referrer //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑËÆøÈóÆÊù•Ê∫ê document.title //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊ†áÈ¢ò document.characterSetÂ±ûÊÄßËøîÂõûÊ∏≤ÊüìÂΩìÂâçÊñáÊ°£ÁöÑÂ≠óÁ¨¶ÈõÜÔºåÊØîÂ¶ÇUTF-8„ÄÅISO-8859-1„ÄÇ document.readyState //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÁä∂ÊÄÅ document.designMode //ÊéßÂà∂ÂΩìÂâçÊñáÊ°£ÊòØÂê¶ÂèØÁºñËæëÔºåÂèØËØªÂÜô document.compatMode //ËøîÂõûÊµèËßàÂô®Â§ÑÁêÜÊñáÊ°£ÁöÑÊ®°Âºè document.cookie //Áî®Êù•Êìç‰ΩúCookie 1.3.2 DocumentËäÇÁÇπÁöÑÊñπÊ≥ï Ôºà1ÔºâËØªÂÜôÊñπÊ≥ï document.open() //Áî®‰∫éÊñ∞Âª∫Âπ∂ÊâìÂºÄ‰∏Ä‰∏™ÊñáÊ°£ document.close() //‰∏çÂÆâÊØîopenÊñπÊ≥ïÊâÄÊñ∞Âª∫ÁöÑÊñáÊ°£ document.write() //Áî®‰∫éÂêëÂΩìÂâçÊñáÊ°£ÂÜôÂÖ•ÂÜÖÂÆπ document.writeIn() //Áî®‰∫éÂêëÂΩìÂâçÊñáÊ°£ÂÜôÂÖ•ÂÜÖÂÆπÔºåÂ∞æÈÉ®Ê∑ªÂä†Êç¢Ë°åÁ¨¶„ÄÇ Ôºà2ÔºâÊü•ÊâæËäÇÁÇπ document.querySelector(selectors) //Êé•Âèó‰∏Ä‰∏™CSSÈÄâÊã©Âô®‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûÁ¨¨‰∏Ä‰∏™ÂåπÈÖçËØ•ÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇ document.querySelectorAll(selectors) //Êé•Âèó‰∏Ä‰∏™CSSÈÄâÊã©Âô®‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûÊâÄÊúâÂåπÈÖçËØ•ÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇ document.getElementsByTagName(tagName) //ËøîÂõûÊâÄÊúâÊåáÂÆöHTMLÊ†áÁ≠æÁöÑÂÖÉÁ¥† document.getElementsByClassName(className) //ËøîÂõûÂåÖÊã¨‰∫ÜÊâÄÊúâclassÂêçÂ≠óÁ¨¶ÂêàÊåáÂÆöÊù°‰ª∂ÁöÑÂÖÉÁ¥† document.getElementsByName(name) //Áî®‰∫éÈÄâÊã©Êã•ÊúânameÂ±ûÊÄßÁöÑHTMLÂÖÉÁ¥†ÔºàÊØîÂ¶Ç&lt;form&gt;„ÄÅ&lt;radio&gt;„ÄÅ&lt;img&gt;„ÄÅ&lt;frame&gt;„ÄÅ&lt;embed&gt;Âíå&lt;object&gt;Á≠âÔºâ document.getElementById(id) //ËøîÂõûÂåπÈÖçÊåáÂÆöidÂ±ûÊÄßÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇ document.elementFromPoint(x,y) //ËøîÂõû‰Ωç‰∫éÈ°µÈù¢ÊåáÂÆö‰ΩçÁΩÆÊúÄ‰∏äÂ±ÇÁöÑElementÂ≠êËäÇÁÇπ„ÄÇ Ôºà3ÔºâÁîüÊàêËäÇÁÇπ document.createElement(tagName) //Áî®Êù•ÁîüÊàêHTMLÂÖÉÁ¥†ËäÇÁÇπ„ÄÇ document.createTextNode(text) //Áî®Êù•ÁîüÊàêÊñáÊú¨ËäÇÁÇπ document.createAttribute(name) //ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂ±ûÊÄßÂØπË±°ËäÇÁÇπÔºåÂπ∂ËøîÂõûÂÆÉ„ÄÇ document.createDocumentFragment() //ÁîüÊàê‰∏Ä‰∏™DocumentFragmentÂØπË±° Ôºà4Ôºâ‰∫ã‰ª∂ÊñπÊ≥ï document.createEvent(type) //ÁîüÊàê‰∏Ä‰∏™‰∫ã‰ª∂ÂØπË±°ÔºåËØ•ÂØπË±°ËÉΩË¢´element.dispatchEvent()ÊñπÊ≥ï‰ΩøÁî® document.addEventListener(type,listener,capture) //Ê≥®ÂÜå‰∫ã‰ª∂ document.removeEventListener(type,listener,capture) //Ê≥®ÈîÄ‰∫ã‰ª∂ document.dispatchEvent(event) //Ëß¶Âèë‰∫ã‰ª∂ Ôºà5ÔºâÂÖ∂‰ªñ document.hasFocus() //ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçÊñáÊ°£‰πã‰∏≠ÊòØÂê¶ÊúâÂÖÉÁ¥†Ë¢´ÊøÄÊ¥ªÊàñËé∑ÂæóÁÑ¶ÁÇπ„ÄÇ document.adoptNode(externalNode) //Â∞ÜÊüê‰∏™ËäÇÁÇπÔºå‰ªéÂÖ∂ÂéüÊù•ÊâÄÂú®ÁöÑÊñáÊ°£ÁßªÈô§ÔºåÊèíÂÖ•ÂΩìÂâçÊñáÊ°£ÔºåÂπ∂ËøîÂõûÊèíÂÖ•ÂêéÁöÑÊñ∞ËäÇÁÇπ„ÄÇ document.importNode(externalNode, deep) //‰ªéÂ§ñÈÉ®ÊñáÊ°£Êã∑Ë¥ùÊåáÂÆöËäÇÁÇπÔºåÊèíÂÖ•ÂΩìÂâçÊñáÊ°£„ÄÇ 1.4 ElementËäÇÁÇπ 1.4.1 ElementËäÇÁÇπÁöÑÂ±ûÊÄß Ôºà1ÔºâÁâπÊÄßÂ±ûÊÄß Element.attributes //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâÂ±ûÊÄßËäÇÁÇπ Element.id //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑidÂ±ûÊÄßÔºåÂèØËØªÂÜô Element.tagName //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑÂ§ßÂÜôÊ†áÁ≠æÂêç Element.innerHTML //ËøîÂõûËØ•ÂÖÉÁ¥†ÂåÖÂê´ÁöÑHTML‰ª£Á†ÅÔºåÂèØËØªÂÜô Element.outerHTML //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâHTML‰ª£Á†ÅÔºåÂåÖÊã¨ÂÆÉËá™Ë∫´ÂíåÂåÖÂê´ÁöÑÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†ÔºåÂèØËØªÂÜô Element.className //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ÁöÑclassÂ±ûÊÄßÔºåÂèØËØªÂÜô Element.classList //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâclassÈõÜÂêà Element.dataset //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπ‰∏≠ÊâÄÊúâÁöÑdata-*Â±ûÊÄß„ÄÇ Ôºà2ÔºâÂ∞∫ÂØ∏Â±ûÊÄß Element.clientHeight //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂèØËßÅÈÉ®ÂàÜÁöÑÈ´òÂ∫¶ Element.clientWidth //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂèØËßÅÈÉ®ÂàÜÁöÑÂÆΩÂ∫¶ Element.clientLeft //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂ∑¶ËæπÊ°ÜÁöÑÂÆΩÂ∫¶ Element.clientTop //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÈ°∂ÈÉ®ËæπÊ°ÜÁöÑÂÆΩÂ∫¶ Element.scrollHeight //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊÄªÈ´òÂ∫¶ Element.scrollWidth //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊÄªÂÆΩÂ∫¶ Element.scrollLeft //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊ∞¥Âπ≥ÊªöÂä®Êù°ÂêëÂè≥ÊªöÂä®ÁöÑÂÉèÁ¥†Êï∞ÂÄº,ÈÄöËøáËÆæÁΩÆËøô‰∏™Â±ûÊÄßÂèØ‰ª•ÊîπÂèòÂÖÉÁ¥†ÁöÑÊªöÂä®‰ΩçÁΩÆ Element.scrollTop //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÂûÇÁõ¥ÊªöÂä®Âêë‰∏ãÊªöÂä®ÁöÑÂÉèÁ¥†Êï∞ÂÄº Element.offsetHeight //ËøîÂõûÂÖÉÁ¥†ÁöÑÂûÇÁõ¥È´òÂ∫¶(ÂåÖÂê´border,padding) Element.offsetWidth //ËøîÂõûÂÖÉÁ¥†ÁöÑÊ∞¥Âπ≥ÂÆΩÂ∫¶(ÂåÖÂê´border,padding) Element.offsetLeft //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†Â∑¶‰∏äËßíÁõ∏ÂØπ‰∫éElement.offsetParentËäÇÁÇπÁöÑÂûÇÁõ¥ÂÅèÁßª Element.offsetTop //ËøîÂõûÊ∞¥Âπ≥‰ΩçÁßª Element.style //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑË°åÂÜÖÊ†∑Âºè Ôºà3ÔºâËäÇÁÇπÁõ∏ÂÖ≥Â±ûÊÄß Element.children //ÂåÖÊã¨ÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥† Element.childElementCount //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÂåÖÂê´ÁöÑÂ≠êHTMLÂÖÉÁ¥†ËäÇÁÇπÁöÑ‰∏™Êï∞ Element.firstElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Element.lastElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Element.nextElementSibling //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÑÂºüHTMLÂÖÉÁ¥†ËäÇÁÇπ Element.previousElementSibling //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÂâç‰∏Ä‰∏™ÂÖÑÂºüHTMLËäÇÁÇπ Element.offsetParent //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊúÄÈù†ËøëÁöÑ„ÄÅÂπ∂‰∏îCSSÁöÑpositionÂ±ûÊÄß‰∏çÁ≠â‰∫éstaticÁöÑÁà∂ÂÖÉÁ¥†„ÄÇ 1.4.2 ElementËäÇÁÇπÁöÑÊñπÊ≥ï Ôºà1Ôºâ‰ΩçÁΩÆÊñπÊ≥ï getBoundingClientRect() // getBoundingClientRectËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´top,left,right,bottom,width,height // width„ÄÅheight ÂÖÉÁ¥†Ëá™Ë∫´ÂÆΩÈ´ò // top ÂÖÉÁ¥†‰∏äÂ§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª // right ÂÖÉÁ¥†Âè≥Â§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª // bottom ÂÖÉÁ¥†‰∏ãÂ§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª // left ÂÖÉÁ¥†Â∑¶Â§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª // width ÂÖÉÁ¥†Ëá™Ë∫´ÂÆΩ(ÂåÖÂê´border,padding) // height ÂÖÉÁ¥†Ëá™Ë∫´È´ò(ÂåÖÂê´border,padding) getClientRects() //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†Âú®È°µÈù¢‰∏äÂΩ¢ÂèÇÁöÑÊâÄÊúâÁü©ÂΩ¢„ÄÇ // ÂÖÉÁ¥†Âú®È°µÈù¢‰∏äÁöÑÂÅèÁßªÈáè var rect = el.getBoundingClientRect() return { top: rect.top + document.body.scrollTop, left: rect.left + document.body.scrollLeft } Ôºà2ÔºâÂ±ûÊÄßÊñπÊ≥ï Element.getAttribute()ÔºöËØªÂèñÊåáÂÆöÂ±ûÊÄß Element.setAttribute()ÔºöËÆæÁΩÆÊåáÂÆöÂ±ûÊÄß Element.hasAttribute()ÔºöËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÊòØÂê¶ÊúâÊåáÂÆöÁöÑÂ±ûÊÄß Element.removeAttribute()ÔºöÁßªÈô§ÊåáÂÆöÂ±ûÊÄß Ôºà3ÔºâÊü•ÊâæÊñπÊ≥ï Element.querySelector() Element.querySelectorAll() Element.getElementsByTagName() Element.getElementsByClassName() Ôºà4Ôºâ‰∫ã‰ª∂ÊñπÊ≥ï Element.addEventListener()ÔºöÊ∑ªÂä†‰∫ã‰ª∂ÁöÑÂõûË∞ÉÂáΩÊï∞ Element.removeEventListener()ÔºöÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨ÂáΩÊï∞ Element.dispatchEvent()ÔºöËß¶Âèë‰∫ã‰ª∂ //ie8 Element.attachEvent(oneventName,listener) Element.detachEvent(oneventName,listener) // eventÂØπË±° var event = window.event||event; // ‰∫ã‰ª∂ÁöÑÁõÆÊ†áËäÇÁÇπ var target = event.target || event.srcElement; // ‰∫ã‰ª∂‰ª£ÁêÜ ul.addEventListener(&apos;click&apos;, function(event) { if (event.target.tagName.toLowerCase() === &apos;li&apos;) { console.log(event.target.innerHTML) } }); Ôºà5ÔºâÂÖ∂‰ªñ Element.scrollIntoView() //ÊªöÂä®ÂΩìÂâçÂÖÉÁ¥†ÔºåËøõÂÖ•ÊµèËßàÂô®ÁöÑÂèØËßÅÂå∫Âüü //Ëß£ÊûêHTMLÂ≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂ∞ÜÁîüÊàêÁöÑËäÇÁÇπÊèíÂÖ•DOMÊ†ëÁöÑÊåáÂÆö‰ΩçÁΩÆ„ÄÇ Element.insertAdjacentHTML(where, htmlString); Element.insertAdjacentHTML(&apos;beforeBegin&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÂâçÊèíÂÖ• Element.insertAdjacentHTML(&apos;afterBegin&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†Á¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂâçÊèíÂÖ• Element.insertAdjacentHTML(&apos;beforeEnd&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂêéÈù¢ÊèíÂÖ• Element.insertAdjacentHTML(&apos;afterEnd&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÂêéÊèíÂÖ• Element.remove() //Áî®‰∫éÂ∞ÜÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπ‰ªéDOM‰∏≠ÁßªÈô§ Element.focus() //Áî®‰∫éÂ∞ÜÂΩìÂâçÈ°µÈù¢ÁöÑÁÑ¶ÁÇπÔºåËΩ¨ÁßªÂà∞ÊåáÂÆöÂÖÉÁ¥†‰∏ä ‰∫å„ÄÅCSSÊìç‰Ωú Ôºà1ÔºâÁ±ªÂêçÊìç‰Ωú //ie8‰ª•‰∏ã Element.className //Ëé∑ÂèñÂÖÉÁ¥†ËäÇÁÇπÁöÑÁ±ªÂêç Element.className += &apos; &apos; + newClassName //Êñ∞Â¢û‰∏Ä‰∏™Á±ªÂêç //Âà§Êñ≠ÊòØÂê¶ÊúâÊüê‰∏™Á±ªÂêç function hasClass(element,className){ return new RegExp(className,&apos;gi&apos;).test(element.className); } //ÁßªÈô§class function removeClass(element,className){ element.className = element.className.replace(new RegExp(&apos;(^|\\b)&apos; + className.split(&apos; &apos;).join(&apos;|&apos;) + &apos;(\\b|$)&apos;, &apos;gi&apos;),&apos;&apos;); } //ie10 element.classList.add(className) //Êñ∞Â¢û element.classList.remove(className) //Âà†Èô§ element.classList.contains(className) //ÊòØÂê¶ÂåÖÂê´ element.classList.toggle(className) //toggle class Ôºà2ÔºâstyleÊìç‰Ωú element.setAttribute(&apos;style&apos;,&apos;&apos;) element.style.backgroundColor = &apos;red&apos; element.style.cssText //Áî®Êù•ËØªÂÜôÊàñÂà†Èô§Êï¥‰∏™styleÂ±ûÊÄß element.style.setProperty(propertyName,value) //ËÆæÁΩÆcssÂ±ûÊÄß element.style.getPropertyValue(property) //Ëé∑ÂèñcssÂ±ûÊÄß element.style.removeProperty(property) //Âà†Èô§cssÂ±ûÊÄß Êìç‰ΩúÈùûÂÜÖËÅîÊ†∑Âºè //ie8 element.currentStyle[attrName] //ie9+ window.getComputedStyle(el,null)[attrName] window.getComputedStyle(el,null).getPropertyValue(attrName) //‰º™Á±ª window.getComputedStyle(el,&apos;:after&apos;)[attrName] ‰∏â„ÄÅÂØπË±° 3.1 ObjectÂØπË±° Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±° var o = new Object() Ôºà2ÔºâÂ±ûÊÄß Object.prototype //ËøîÂõûÂéüÂûãÂØπË±° Ôºà3ÔºâÊñπÊ≥ï Object.keys(o) //ÈÅçÂéÜÂØπË±°ÁöÑÂèØÊûö‰∏æÂ±ûÊÄß Object.getOwnPropertyName(o) //ÈÅçÂéÜÂØπË±°‰∏çÂèØÊûö‰∏æÁöÑÂ±ûÊÄß ÂØπË±°ÂÆû‰æãÁöÑÊñπÊ≥ï valueOf()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂÄº„ÄÇ toString()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè„ÄÇ toLocaleString()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÊú¨Âú∞Â≠óÁ¨¶‰∏≤ÂΩ¢Âºè„ÄÇ hasOwnProperty()ÔºöÂà§Êñ≠Êüê‰∏™Â±ûÊÄßÊòØÂê¶‰∏∫ÂΩìÂâçÂØπË±°Ëá™Ë∫´ÁöÑÂ±ûÊÄßÔºåËøòÊòØÁªßÊâøËá™ÂéüÂûãÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ isPrototypeOf()ÔºöÂà§Êñ≠ÂΩìÂâçÂØπË±°ÊòØÂê¶‰∏∫Âè¶‰∏Ä‰∏™ÂØπË±°ÁöÑÂéüÂûã„ÄÇ propertyIsEnumerable()ÔºöÂà§Êñ≠Êüê‰∏™Â±ûÊÄßÊòØÂê¶ÂèØÊûö‰∏æ„ÄÇ 3.2 ArrayÂØπË±° Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±° var a = new Array() Ôºà2ÔºâÂ±ûÊÄß a.length //ÈïøÂ∫¶ Ôºà3ÔºâArray.isArray() Array.isArray(a) //Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÄºÊòØÂê¶‰∏∫Êï∞ÁªÑ Ôºà4ÔºâArrayÂÆû‰æãÁöÑÊñπÊ≥ï [1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot; a.valueof() //ËøîÂõûÊï∞ÁªÑÊú¨Ë∫´ a.toString() //ËøîÂõûÊï∞ÁªÑÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè a.push(value,vlaue....) //Áî®‰∫éÂú®Êï∞ÁªÑÁöÑÊú´Á´ØÊ∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûÊ∑ªÂä†Êñ∞ÂÖÉÁ¥†ÂêéÁöÑÊï∞ÁªÑÈïøÂ∫¶„ÄÇ pop() //Áî®‰∫éÂà†Èô§Êï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûËØ•ÂÖÉÁ¥† join() //‰ª•ÂèÇÊï∞‰Ωú‰∏∫ÂàÜÈöîÁ¨¶ÔºåÂ∞ÜÊâÄÊúâÊï∞ÁªÑÊàêÂëòÁªÑÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇÂ¶ÇÊûú‰∏çÊèê‰æõÂèÇÊï∞ÔºåÈªòËÆ§Áî®ÈÄóÂè∑ÂàÜÈöî„ÄÇ concat() //Áî®‰∫éÂ§ö‰∏™Êï∞ÁªÑÁöÑÂêàÂπ∂„ÄÇÂÆÉÂ∞ÜÊñ∞Êï∞ÁªÑÁöÑÊàêÂëòÔºåÊ∑ªÂä†Âà∞ÂéüÊï∞ÁªÑÁöÑÂ∞æÈÉ®ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂéüÊï∞ÁªÑ‰∏çÂèò„ÄÇ shift() //Áî®‰∫éÂà†Èô§Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûËØ•ÂÖÉÁ¥†„ÄÇ unshift(value) //Áî®‰∫éÂú®Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆÊ∑ªÂä†ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûÊ∑ªÂä†Êñ∞ÂÖÉÁ¥†ÂêéÁöÑÊï∞ÁªÑÈïøÂ∫¶„ÄÇ reverse() //Áî®‰∫éÈ¢†ÂÄíÊï∞ÁªÑ‰∏≠ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÔºåËøîÂõûÊîπÂèòÂêéÁöÑÊï∞ÁªÑ slice(start_index, upto_index); //Áî®‰∫éÊèêÂèñÂéüÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂéüÊï∞ÁªÑ‰∏çÂèò„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Ëµ∑Âßã‰ΩçÁΩÆÔºà‰ªé0ÂºÄÂßãÔºâÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÁªàÊ≠¢‰ΩçÁΩÆÔºà‰ΩÜËØ•‰ΩçÁΩÆÁöÑÂÖÉÁ¥†Êú¨Ë∫´‰∏çÂåÖÊã¨Âú®ÂÜÖÔºâ„ÄÇÂ¶ÇÊûúÁúÅÁï•Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂàô‰∏ÄÁõ¥ËøîÂõûÂà∞ÂéüÊï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÊàêÂëò„ÄÇË¥üÊï∞Ë°®Á§∫ÂÄíÊï∞Á¨¨Âá†‰∏™„ÄÇ splice(index, count_to_remove, addElement1, addElement2, ...); //Áî®‰∫éÂà†Èô§ÂéüÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜÊàêÂëòÔºåÂπ∂ÂèØ‰ª•Âú®Ë¢´Âà†Èô§ÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÂÖ•Êñ∞ÁöÑÊï∞ÁªÑÊàêÂëòÔºåËøîÂõûÂÄºÊòØË¢´Âà†Èô§ÁöÑÂÖÉÁ¥†„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂà†Èô§ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØË¢´Âà†Èô§ÁöÑÂÖÉÁ¥†‰∏™Êï∞„ÄÇÂ¶ÇÊûúÂêéÈù¢ËøòÊúâÊõ¥Â§öÁöÑÂèÇÊï∞ÔºåÂàôË°®Á§∫Ëøô‰∫õÂ∞±ÊòØË¶ÅË¢´ÊèíÂÖ•Êï∞ÁªÑÁöÑÊñ∞ÂÖÉÁ¥†„ÄÇ sort() //ÂØπÊï∞ÁªÑÊàêÂëòËøõË°åÊéíÂ∫èÔºåÈªòËÆ§ÊòØÊåâÁÖßÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫è„ÄÇÊéíÂ∫èÂêéÔºåÂéüÊï∞ÁªÑÂ∞ÜË¢´ÊîπÂèò„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©sortÊñπÊ≥ïÊåâÁÖßËá™ÂÆö‰πâÊñπÂºèÊéíÂ∫èÔºåÂèØ‰ª•‰º†ÂÖ•‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåË°®Á§∫ÊåâÁÖßËá™ÂÆö‰πâÊñπÊ≥ïËøõË°åÊéíÂ∫è„ÄÇËØ•ÂáΩÊï∞Êú¨Ë∫´ÂèàÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ËøõË°åÊØîËæÉÁöÑ‰∏§‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúËøîÂõûÂÄºÂ§ß‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊéíÂú®Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂêéÈù¢ÔºõÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãÔºåÈÉΩÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊéíÂú®Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂâçÈù¢„ÄÇ map() //ÂØπÊï∞ÁªÑÁöÑÊâÄÊúâÊàêÂëò‰æùÊ¨°Ë∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊ†πÊçÆÂáΩÊï∞ÁªìÊûúËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ„ÄÇ map(elem,index,arr) //mapÊñπÊ≥ïÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËØ•ÂáΩÊï∞Ë∞ÉÁî®Êó∂ÔºåmapÊñπÊ≥ï‰ºöÂ∞ÜÂÖ∂‰º†ÂÖ•‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØÂΩìÂâçÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÂíåÊï∞ÁªÑÊú¨Ë∫´„ÄÇ forEach() //ÈÅçÂéÜÊï∞ÁªÑÁöÑÊâÄÊúâÊàêÂëòÔºåÊâßË°åÊüêÁßçÊìç‰Ωú,ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÂÄº„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÁºñÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇ filter() //ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûú‰∏∫trueÁöÑÊàêÂëòÁªÑÊàê‰∏Ä‰∏™Êñ∞Êï∞ÁªÑËøîÂõû„ÄÇËØ•ÊñπÊ≥ï‰∏ç‰ºöÊîπÂèòÂéüÊï∞ÁªÑ„ÄÇ some() //Áî®Êù•Âà§Êñ≠Êï∞ÁªÑÊàêÂëòÊòØÂê¶Á¨¶ÂêàÊüêÁßçÊù°‰ª∂„ÄÇÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇËØ•ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºå‰æùÊ¨°ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÂ∫èÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Êï∞ÁªÑÊàêÂëòÁöÑËøîÂõûÂÄºÊòØtrueÔºåÂàôÊï¥‰∏™someÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂ∞±ÊòØtrueÔºåÂê¶Âàôfalse„ÄÇ every() //Áî®Êù•Âà§Êñ≠Êï∞ÁªÑÊàêÂëòÊòØÂê¶Á¨¶ÂêàÊüêÁßçÊù°‰ª∂„ÄÇÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇËØ•ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºå‰æùÊ¨°ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÂ∫èÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇÊâÄÊúâÊï∞ÁªÑÊàêÂëòÁöÑËøîÂõûÂÄºÈÉΩÊòØtrueÔºåÊâçËøîÂõûtrueÔºåÂê¶Âàôfalse„ÄÇ reduce() //‰æùÊ¨°Â§ÑÁêÜÊï∞ÁªÑÁöÑÊØè‰∏™ÊàêÂëòÔºåÊúÄÁªàÁ¥ØËÆ°‰∏∫‰∏Ä‰∏™ÂÄº„ÄÇ‰ªéÂ∑¶Âà∞Âè≥Â§ÑÁêÜÔºà‰ªéÁ¨¨‰∏Ä‰∏™ÊàêÂëòÂà∞ÊúÄÂêé‰∏Ä‰∏™ÊàêÂëòÔºâ reduceRight() //‰æùÊ¨°Â§ÑÁêÜÊï∞ÁªÑÁöÑÊØè‰∏™ÊàêÂëòÔºåÊúÄÁªàÁ¥ØËÆ°‰∏∫‰∏Ä‰∏™ÂÄº„ÄÇ‰ªéÂè≥Âà∞Â∑¶Ôºà‰ªéÊúÄÂêé‰∏Ä‰∏™ÊàêÂëòÂà∞Á¨¨‰∏Ä‰∏™ÊàêÂëòÔºâ indexOf(s) //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠Á¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇÂèØ‰ª•Êé•ÂèóÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ÊêúÁ¥¢ÁöÑÂºÄÂßã‰ΩçÁΩÆ lastIndexOf() //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇ 3.3 NumberÂØπË±° Ôºà1ÔºâÁîüÊàêÂØπË±° var n = new Number() Ôºà2ÔºâNumberÂØπË±°ÁöÑÂ±ûÊÄß Number.POSITIVE_INFINITYÔºöÊ≠£ÁöÑÊó†ÈôêÔºåÊåáÂêëInfinity„ÄÇ Number.NEGATIVE_INFINITYÔºöË¥üÁöÑÊó†ÈôêÔºåÊåáÂêë-Infinity„ÄÇ Number.NaNÔºöË°®Á§∫ÈùûÊï∞ÂÄºÔºåÊåáÂêëNaN„ÄÇ Number.MAX_VALUEÔºöË°®Á§∫ÊúÄÂ§ßÁöÑÊ≠£Êï∞ÔºåÁõ∏Â∫îÁöÑÔºåÊúÄÂ∞èÁöÑË¥üÊï∞‰∏∫-Number.MAX_VALUE„ÄÇ Number.MIN_VALUEÔºöË°®Á§∫ÊúÄÂ∞èÁöÑÊ≠£Êï∞ÔºàÂç≥ÊúÄÊé•Ëøë0ÁöÑÊ≠£Êï∞ÔºåÂú®64‰ΩçÊµÆÁÇπÊï∞‰ΩìÁ≥ª‰∏≠‰∏∫5e-324ÔºâÔºåÁõ∏Â∫îÁöÑÔºåÊúÄÊé•Ëøë0ÁöÑË¥üÊï∞‰∏∫-Number.MIN_VALUE„ÄÇ Number.MAX_SAFE_INTEGERÔºöË°®Á§∫ËÉΩÂ§üÁ≤æÁ°ÆË°®Á§∫ÁöÑÊúÄÂ§ßÊï¥Êï∞ÔºåÂç≥9007199254740991„ÄÇ Number.MIN_SAFE_INTEGERÔºöË°®Á§∫ËÉΩÂ§üÁ≤æÁ°ÆË°®Á§∫ÁöÑÊúÄÂ∞èÊï¥Êï∞ÔºåÂç≥-9007199254740991„ÄÇ Ôºà4ÔºâNumberÂØπË±°ÂÆû‰æãÁöÑÊñπÊ≥ï toString() //Áî®Êù•Â∞Ü‰∏Ä‰∏™Êï∞ÂÄºËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤ÂΩ¢Âºè.ÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ËæìÂá∫ÁöÑËøõÂà∂„ÄÇÂ¶ÇÊûúÁúÅÁï•Ëøô‰∏™ÂèÇÊï∞ÔºåÈªòËÆ§Â∞ÜÊï∞ÂÄºÂÖàËΩ¨‰∏∫ÂçÅËøõÂà∂ÔºåÂÜçËæìÂá∫Â≠óÁ¨¶‰∏≤ÔºõÂê¶ÂàôÔºåÂ∞±Ê†πÊçÆÂèÇÊï∞ÊåáÂÆöÁöÑËøõÂà∂ÔºåÂ∞Ü‰∏Ä‰∏™Êï∞Â≠óËΩ¨ÂåñÊàêÊüê‰∏™ËøõÂà∂ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ toFixed() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÊåáÂÆö‰ΩçÊï∞ÁöÑÂ∞èÊï∞ÔºåËøîÂõûËøô‰∏™Â∞èÊï∞ÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ toExponential() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÂΩ¢Âºè„ÄÇÂèØ‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂèÇÊï∞Ë°®Á§∫Â∞èÊï∞ÁÇπÂêéÊúâÊïàÊï∞Â≠óÁöÑ‰ΩçÊï∞ÔºåËåÉÂõ¥‰∏∫0Âà∞20ÔºåË∂ÖÂá∫Ëøô‰∏™ËåÉÂõ¥Ôºå‰ºöÊäõÂá∫‰∏Ä‰∏™RangeError„ÄÇ toPrecision() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÊåáÂÆö‰ΩçÊï∞ÁöÑÊúâÊïàÊï∞Â≠ó„ÄÇ 3.4 String ÂØπË±° Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±° var s = new String() Ôºà2ÔºâStringÂØπË±°ÁöÑÂ±ûÊÄß s.length //ËøîÂõûÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ Ôºà3ÔºâÊñπÊ≥ï s.chatAt(index) //ËøîÂõûÊåáÂÆö‰ΩçÁΩÆÁöÑÂ≠óÁ¨¶ //&quot;123456&quot;[0] == &quot;1&quot; s.fromCharCode() //ËØ•ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØ‰∏ÄÁ≥ªÂàóUnicodeÁ†ÅÁÇπÔºåËøîÂõûÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ s.charCodeAt(index) //ËøîÂõûÁªôÂÆö‰ΩçÁΩÆÂ≠óÁ¨¶ÁöÑUnicodeÁ†ÅÁÇπÔºàÂçÅËøõÂà∂Ë°®Á§∫Ôºâ s.concat(s2) //Áî®‰∫éËøûÊé•‰∏§‰∏™Â≠óÁ¨¶‰∏≤ s.slice(start,end) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁªìÊùü‰ΩçÁΩÆÔºà‰∏çÂê´ËØ•‰ΩçÁΩÆÔºâ„ÄÇÂ¶ÇÊûúÂèÇÊï∞ÊòØË¥üÂÄºÔºåË°®Á§∫‰ªéÁªìÂ∞æÂºÄÂßãÂÄíÊï∞ËÆ°ÁÆóÁöÑ‰ΩçÁΩÆÔºåÂç≥ËØ•Ë¥üÂÄºÂä†‰∏äÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶„ÄÇ s.substring(start,end) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤.Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫Â≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™‰ΩçÁΩÆË°®Á§∫ÁªìÊùü‰ΩçÁΩÆ„ÄÇ s.substr(start,length) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË¥üÊï∞ÔºåË°®Á§∫ÂÄíÊï∞ËÆ°ÁÆóÁöÑÂ≠óÁ¨¶‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØË¥üÊï∞ÔºåÂ∞ÜË¢´Ëá™Âä®ËΩ¨‰∏∫0ÔºåÂõ†Ê≠§‰ºöËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇ s.indexOf(s) //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Â≠óÁ¨¶‰∏≤‰∏≠Á¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇÂèØ‰ª•Êé•ÂèóÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ÊêúÁ¥¢ÁöÑÂºÄÂßã‰ΩçÁΩÆ s.lastIndexOf() //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇ s.trim() //Áî®‰∫éÂéªÈô§Â≠óÁ¨¶‰∏≤‰∏§Á´ØÁöÑÁ©∫Ê†ºÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤ s.toLowerCase() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â∞èÂÜô,ËøîÂõû‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤Ôºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇ s.toUpperCase() //ÂÖ®ÈÉ®ËΩ¨‰∏∫Â§ßÂÜô s.localeCompare(s2) //Áî®‰∫éÊØîËæÉ‰∏§‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™Êï¥Êï∞ÔºåÂ¶ÇÊûúÂ∞è‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Â∞è‰∫éÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏≤ÔºõÂ¶ÇÊûúÁ≠â‰∫é0ÔºåË°®Á§∫‰∏§ËÄÖÁõ∏Á≠âÔºõÂ¶ÇÊûúÂ§ß‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Â§ß‰∫éÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ s.match(regexp) //Áî®‰∫éÁ°ÆÂÆöÂéüÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåπÈÖçÊüê‰∏™Â≠êÂ≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÊàêÂëò‰∏∫ÂåπÈÖçÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÔºåÂàôËøîÂõûnull„ÄÇ s.search() //ËøîÂõûÂÄº‰∏∫ÂåπÈÖçÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÔºåÂàôËøîÂõû-1„ÄÇ s.replace(oldValue,newValue) //Áî®‰∫éÊõøÊç¢ÂåπÈÖçÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂè™ÊõøÊç¢Á¨¨‰∏Ä‰∏™ÂåπÈÖçÔºàÈô§Èùû‰ΩøÁî®Â∏¶Êúâg‰øÆÈ•∞Á¨¶ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºâ„ÄÇ s.split() //ÊåâÁÖßÁªôÂÆöËßÑÂàôÂàÜÂâ≤Â≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™Áî±ÂàÜÂâ≤Âá∫Êù•ÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÁªÑÊàêÁöÑÊï∞ÁªÑ„ÄÇËøòÂèØ‰º†ÂÖ•Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂÜ≥ÂÆö‰∫ÜËøîÂõûÊï∞ÁªÑÁöÑÊàêÂëòÊï∞„ÄÇ 3.5 MathÂØπË±° Ôºà1ÔºâÂ±ûÊÄß Math.EÔºöÂ∏∏Êï∞e„ÄÇ Math.LN2Ôºö2ÁöÑËá™ÁÑ∂ÂØπÊï∞„ÄÇ Math.LN10Ôºö10ÁöÑËá™ÁÑ∂ÂØπÊï∞„ÄÇ Math.LOG2EÔºö‰ª•2‰∏∫Â∫ïÁöÑeÁöÑÂØπÊï∞„ÄÇ Math.LOG10EÔºö‰ª•10‰∏∫Â∫ïÁöÑeÁöÑÂØπÊï∞„ÄÇ Math.PIÔºöÂ∏∏Êï∞Pi„ÄÇ Math.SQRT1_2Ôºö0.5ÁöÑÂπ≥ÊñπÊ†π„ÄÇ Math.SQRT2Ôºö2ÁöÑÂπ≥ÊñπÊ†π„ÄÇ Ôºà2ÔºâÊï∞Â≠¶ÊñπÊ≥ï Math.abs()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÁªùÂØπÂÄº Math.ceil()ÔºöÂêë‰∏äÂèñÊï¥ÔºåÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøîÂõûÂ§ß‰∫éËØ•ÂèÇÊï∞ÁöÑÊúÄÂ∞èÊï¥Êï∞„ÄÇ Math.floor()ÔºöÂêë‰∏ãÂèñÊï¥ Math.max(n,n1,...)ÔºöÂèØÊé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåËøîÂõûÊúÄÂ§ßÂÄº Math.min(n,n1,..)ÔºöÂèØÊé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåËøîÂõûÊúÄÂ∞èÂÄº Math.pow(n,e)ÔºöÊåáÊï∞ËøêÁÆó, ËøîÂõû‰ª•Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Â∫ïÊï∞„ÄÅÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂπÇÁöÑÊåáÊï∞ÂÄº„ÄÇ Math.sqrt()ÔºöËøîÂõûÂèÇÊï∞ÂÄºÁöÑÂπ≥ÊñπÊ†π„ÄÇÂ¶ÇÊûúÂèÇÊï∞ÊòØ‰∏Ä‰∏™Ë¥üÂÄºÔºåÂàôËøîÂõûNaN„ÄÇ Math.log()ÔºöËøîÂõû‰ª•e‰∏∫Â∫ïÁöÑËá™ÁÑ∂ÂØπÊï∞ÂÄº„ÄÇ Math.exp()ÔºöËøîÂõûeÁöÑÊåáÊï∞Ôºå‰πüÂ∞±ÊòØÂ∏∏Êï∞eÁöÑÂèÇÊï∞Ê¨°Êñπ„ÄÇ Math.round()ÔºöÂõõËàç‰∫îÂÖ• Math.random()ÔºöËøîÂõû0Âà∞1‰πãÈó¥ÁöÑ‰∏Ä‰∏™‰º™ÈöèÊú∫Êï∞ÔºåÂèØËÉΩÁ≠â‰∫é0Ôºå‰ΩÜÊòØ‰∏ÄÂÆöÂ∞è‰∫é1„ÄÇ Ôºà3Ôºâ‰∏âËßíÂáΩÊï∞ÊñπÊ≥ï Math.sin()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÊ≠£Âº¶ Math.cos()ÔºöËøîÂõûÂèÇÊï∞ÁöÑ‰ΩôÂº¶ Math.tan()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÊ≠£Âàá Math.asin()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèçÊ≠£Âº¶ÔºàÂºßÂ∫¶ÂÄºÔºâ Math.acos()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèç‰ΩôÂº¶ÔºàÂºßÂ∫¶ÂÄºÔºâ Math.atan()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèçÊ≠£ÂàáÔºàÂºßÂ∫¶ÂÄºÔºâ 3.6 JSONÂØπË±° Ôºà1ÔºâÊñπÊ≥ï JSON.stringify() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™ÂÄºËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇËØ•Â≠óÁ¨¶‰∏≤Â∫îËØ•Á¨¶ÂêàJSONÊ†ºÂºèÔºåÂπ∂‰∏îÂèØ‰ª•Ë¢´JSON.parseÊñπÊ≥ïËøòÂéü„ÄÇ //ÔºàJSON.stringify(obj, selectedProperties)ÔºâËøòÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Êï∞ÁªÑÔºå‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÊåáÂÆöÈúÄË¶ÅËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ÁöÑÂ±ûÊÄß„ÄÇ //ËøòÂèØ‰ª•Êé•ÂèóÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éÂ¢ûÂä†ËøîÂõûÁöÑJSONÂ≠óÁ¨¶‰∏≤ÁöÑÂèØËØªÊÄß„ÄÇÂ¶ÇÊûúÊòØÊï∞Â≠óÔºåË°®Á§∫ÊØè‰∏™Â±ûÊÄßÂâçÈù¢Ê∑ªÂä†ÁöÑÁ©∫Ê†ºÔºàÊúÄÂ§ö‰∏çË∂ÖËøá10‰∏™ÔºâÔºõÂ¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤Ôºà‰∏çË∂ÖËøá10‰∏™Â≠óÁ¨¶ÔºâÔºåÂàôËØ•Â≠óÁ¨¶‰∏≤‰ºöÊ∑ªÂä†Âú®ÊØèË°åÂâçÈù¢„ÄÇ JSON.parse() //Áî®‰∫éÂ∞ÜJSONÂ≠óÁ¨¶‰∏≤ËΩ¨ÂåñÊàêÂØπË±°„ÄÇ 3.7 consoleÂØπË±° Ôºà1ÔºâÊñπÊ≥ï console.log(text,text2,...) //Áî®‰∫éÂú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØ„ÄÇÂÆÉÂèØ‰ª•Êé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåÂ∞ÜÂÆÉ‰ª¨ÁöÑÁªìÊûúËøûÊé•Ëµ∑Êù•ËæìÂá∫„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊ†ºÂºèÂ≠óÁ¨¶‰∏≤Ôºà‰ΩøÁî®‰∫ÜÊ†ºÂºèÂç†‰ΩçÁ¨¶ÔºâÔºåconsole.logÊñπÊ≥ïÂ∞Ü‰æùÊ¨°Áî®ÂêéÈù¢ÁöÑÂèÇÊï∞ÊõøÊç¢Âç†‰ΩçÁ¨¶ÔºåÁÑ∂ÂêéÂÜçËøõË°åËæìÂá∫„ÄÇ console.info() //Âú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØÔºåÂêåÊó∂Ôºå‰ºöÂú®ËæìÂá∫‰ø°ÊÅØÁöÑÂâçÈù¢ÔºåÂä†‰∏ä‰∏Ä‰∏™ËìùËâ≤ÂõæÊ†á„ÄÇ console.debug() //Âú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØÔºåÂêåÊó∂Ôºå‰ºöÂú®ËæìÂá∫‰ø°ÊÅØÁöÑÂâçÈù¢ÔºåÂä†‰∏ä‰∏Ä‰∏™ËìùËâ≤ÂõæÊ†á„ÄÇ console.warn() //ËæìÂá∫‰ø°ÊÅØÊó∂ÔºåÂú®ÊúÄÂâçÈù¢Âä†‰∏Ä‰∏™ÈªÑËâ≤‰∏âËßíÔºåË°®Á§∫Ë≠¶ÂëäÔºõ console.error() //ËæìÂá∫‰ø°ÊÅØÊó∂ÔºåÂú®ÊúÄÂâçÈù¢Âä†‰∏Ä‰∏™Á∫¢Ëâ≤ÁöÑÂèâÔºåË°®Á§∫Âá∫ÈîôÔºåÂêåÊó∂‰ºöÊòæÁ§∫ÈîôËØØÂèëÁîüÁöÑÂ†ÜÊ†à console.table() //ÂèØ‰ª•Â∞ÜÂ§çÂêàÁ±ªÂûãÁöÑÊï∞ÊçÆËΩ¨‰∏∫Ë°®Ê†ºÊòæÁ§∫„ÄÇ console.count() //Áî®‰∫éËÆ°Êï∞ÔºåËæìÂá∫ÂÆÉË¢´Ë∞ÉÁî®‰∫ÜÂ§öÂ∞ëÊ¨°„ÄÇ console.dir() //Áî®Êù•ÂØπ‰∏Ä‰∏™ÂØπË±°ËøõË°åÊ£ÄÊü•ÔºàinspectÔºâÔºåÂπ∂‰ª•Êòì‰∫éÈòÖËØªÂíåÊâìÂç∞ÁöÑÊ†ºÂºèÊòæÁ§∫„ÄÇ console.dirxml() //Áî®‰∫é‰ª•ÁõÆÂΩïÊ†ëÁöÑÂΩ¢ÂºèÔºåÊòæÁ§∫DOMËäÇÁÇπ„ÄÇ console.assert() //Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË°®ËææÂºèÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤„ÄÇÂè™ÊúâÂΩìÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫falseÔºåÊâç‰ºöËæìÂá∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂê¶Âàô‰∏ç‰ºöÊúâ‰ªª‰ΩïÁªìÊûú„ÄÇ //Ëøô‰∏§‰∏™ÊñπÊ≥ïÁî®‰∫éËÆ°Êó∂ÔºåÂèØ‰ª•ÁÆóÂá∫‰∏Ä‰∏™Êìç‰ΩúÊâÄËä±Ë¥πÁöÑÂáÜÁ°ÆÊó∂Èó¥„ÄÇ console.time() console.timeEnd() //timeÊñπÊ≥ïË°®Á§∫ËÆ°Êó∂ÂºÄÂßãÔºåtimeEndÊñπÊ≥ïË°®Á§∫ËÆ°Êó∂ÁªìÊùü„ÄÇÂÆÉ‰ª¨ÁöÑÂèÇÊï∞ÊòØËÆ°Êó∂Âô®ÁöÑÂêçÁß∞„ÄÇË∞ÉÁî®timeEndÊñπÊ≥ï‰πãÂêéÔºåconsoleÁ™óÂè£‰ºöÊòæÁ§∫‚ÄúËÆ°Êó∂Âô®ÂêçÁß∞: ÊâÄËÄóË¥πÁöÑÊó∂Èó¥‚Äù„ÄÇ console.profile() //Áî®Êù•Êñ∞Âª∫‰∏Ä‰∏™ÊÄßËÉΩÊµãËØïÂô®ÔºàprofileÔºâÔºåÂÆÉÁöÑÂèÇÊï∞ÊòØÊÄßËÉΩÊµãËØïÂô®ÁöÑÂêçÂ≠ó„ÄÇ console.profileEnd() //Áî®Êù•ÁªìÊùüÊ≠£Âú®ËøêË°åÁöÑÊÄßËÉΩÊµãËØïÂô®„ÄÇ console.group() console.groupend() //‰∏äÈù¢Ëøô‰∏§‰∏™ÊñπÊ≥ïÁî®‰∫éÂ∞ÜÊòæÁ§∫ÁöÑ‰ø°ÊÅØÂàÜÁªÑ„ÄÇÂÆÉÂè™Âú®ËæìÂá∫Â§ßÈáè‰ø°ÊÅØÊó∂ÊúâÁî®ÔºåÂàÜÂú®‰∏ÄÁªÑÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•Áî®Èº†Ê†áÊäòÂè†/Â±ïÂºÄ„ÄÇ console.groupCollapsed() //Áî®‰∫éÂ∞ÜÊòæÁ§∫ÁöÑ‰ø°ÊÅØÂàÜÁªÑÔºåËØ•ÁªÑÁöÑÂÜÖÂÆπÔºåÂú®Á¨¨‰∏ÄÊ¨°ÊòæÁ§∫Êó∂ÊòØÊî∂Ëµ∑ÁöÑÔºàcollapsedÔºâÔºåËÄå‰∏çÊòØÂ±ïÂºÄÁöÑ„ÄÇ console.trace() //ÊòæÁ§∫ÂΩìÂâçÊâßË°åÁöÑ‰ª£Á†ÅÂú®Â†ÜÊ†à‰∏≠ÁöÑË∞ÉÁî®Ë∑ØÂæÑ„ÄÇ console.clear() //Áî®‰∫éÊ∏ÖÈô§ÂΩìÂâçÊéßÂà∂Âè∞ÁöÑÊâÄÊúâËæìÂá∫ÔºåÂ∞ÜÂÖâÊ†áÂõûÁΩÆÂà∞Á¨¨‰∏ÄË°å„ÄÇ Ê≠£ÂàôË°®ËææÂºèÔºö Âè™ÂÖÅËÆ∏ËæìÂÖ•Ê±âÂ≠óÔºöonkeyup=&quot;value=value.replace(/[^\u4E00-\u9FA5]/g,&apos;&apos;)&quot; Âè™ÂÖÅËÆ∏ËæìÂÖ•Êï∞Â≠óÔºöonkeyup=&quot;this.value=this.value.replace(/\D/g,&apos;&apos;)&quot; [1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot; ‰æãÂ≠êÔºö &lt;ul class=‚Äùmain‚Äù&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;/ul&gt; ËØ∑Áî®ÂéüÁîüJSÂÆûÁé∞Ôºö &lt;ul class=‚Äùmain‚Äù&gt; &lt;div&gt;A&lt;/div&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;div&gt;B&lt;/div&gt; &lt;/ul&gt; &lt;body&gt; &lt;ul id=&quot;main&quot;&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;/ul&gt; &lt;script type=&quot;text/javascript&quot;&gt; var main=document.getElementById(&quot;main&quot;); var DIV=document.createElement(&quot;div&quot;); DIV.innerText=&quot;B&quot;; var P=document.createElement(&quot;p&quot;); P.innerText=&quot;A&quot;; main.appendChild(DIV); main.insertBefore(P, main.firstChild); &lt;/script&gt; &lt;/body&gt; JQueryÈÄâÊã©Âô®Ôºö 0„ÄÅÂ∏∏Áî®ÈÄâÊã©Âô® $(&apos;#div1&apos;) //id‰∏∫div1ÁöÑËäÇÁÇπÔºåÂ¶Ç&lt;div id=&apos;div1&apos;&gt;&lt;/div&gt; $(&apos;span&apos;) //ÊâÄÊúâÁöÑspanÁªìÁÇπÔºå‰∏Ä‰∏™ÂåÖË£ÖÈõÜ $(&apos;p span&apos;) //pÊ†áÁ≠æ‰∏ãÁöÑÊâÄÊúâspanËäÇÁÇπÔºåÂêé‰ª£ËäÇÁÇπ $(&apos;p&gt;span&apos;) //pÊ†áÁ≠æ‰∏ãÁöÑÊâÄÊúâspanÂ≠êËäÇÁÇπÔºåÂ≠ê‰ª£ËäÇÁÇπ $(&apos;.red&apos;) //‰ΩøÁî®Ê†∑ÂºèredÁöÑËäÇÁÇπÔºåÂ¶Ç&lt;span class=&quot;red&quot;&gt;&lt;/span&gt; $(&apos;*&apos;) //ÊâÄÊúâËäÇÁÇπ $(&quot;div,span,p.cls&quot;) //ÈÄâÂèñÊâÄÊúâ&lt;div&gt;Ôºå&lt;span&gt;ÂíåÊã•Êúâclass‰∏∫clsÁöÑ&lt;p&gt;Ê†áÁ≠æÁöÑ‰∏ÄÁªÑÂÖÉÁ¥† 1„ÄÅÂü∫Êú¨Á≠õÈÄâÂô® $(&apos;span:first&apos;) //Á¨¨‰∏Ä‰∏™ËäÇÁÇπ $(&apos;span:last&apos;) //ÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπ $(&quot;td:even&quot;) //Á¥¢Âºï‰∏∫ÂÅ∂Êï∞ÁöÑËäÇÁÇπÔºå‰ªé 0 ÂºÄÂßã $(&quot;td:odd&quot;) //Á¥¢Âºï‰∏∫Â•áÊï∞ÁöÑËäÇÁÇπÔºå‰ªé 0 ÂºÄÂßã $(&quot;td:eq(1)&quot;) //ÁªôÂÆöÁ¥¢ÂºïÂÄºÁöÑËäÇÁÇπ $(&quot;td:gt(0)&quot;) //Â§ß‰∫éÁªôÂÆöÁ¥¢ÂºïÂÄºÁöÑËäÇÁÇπ $(&quot;td:lt(2)&quot;) //Â∞è‰∫éÁªôÂÆöÁ¥¢ÂºïÂÄºÁöÑËäÇÁÇπ $(&quot;:focus&quot;) //ÂΩìÂâçËé∑ÂèñÁÑ¶ÁÇπÁöÑËäÇÁÇπ $(&quot;:animated&quot;) //Ê≠£Âú®ÊâßË°åÂä®ÁîªÊïàÊûúÁöÑËäÇÁÇπ 2„ÄÅÂÜÖÂÆπÈÄâÊã©Âô® $(&quot;div:contains(&apos;hello&apos;)&quot;) //ÂåÖÂê´helloÊñáÊú¨ÁöÑËäÇÁÇπ $(&quot;td:empty&quot;) //‰∏çÂåÖÂê´Â≠êËäÇÁÇπÊàñËÄÖÊñáÊú¨ÁöÑÁ©∫ËäÇÁÇπ $(&quot;div:has(p)&quot;) //Âê´ÊúâÈÄâÊã©Âô®ÊâÄÂåπÈÖçÁöÑËäÇÁÇπ $(&quot;td:parent&quot;) //Âê´ÊúâÂ≠êËäÇÁÇπÊàñËÄÖÊñáÊú¨ÁöÑËäÇÁÇπ 3„ÄÅË°®ÂçïÈÄâÊã©Âô® $(&quot;input:checked&quot;) //ÊâÄÊúâÈÄâ‰∏≠ÁöÑËäÇÁÇπ $(&quot;select option:selected&quot;) //select‰∏≠ÊâÄÊúâÈÄâ‰∏≠ÁöÑoptionËäÇÁÇπ $(&quot;:input&quot;) //ÂåπÈÖçÊâÄÊúâ input, textarea, select Âíå button ËäÇÁÇπ $(&quot;:text&quot;) //ÊâÄÊúâÁöÑÂçïË°åÊñáÊú¨Ê°Ü $(&quot;:password&quot;) //ÊâÄÊúâÂØÜÁ†ÅÊ°Ü $(&quot;:radio&quot;) //ÊâÄÊúâÂçïÈÄâÊåâÈíÆ $(&quot;:checkbox&quot;) //ÊâÄÊúâÂ§çÈÄâÊ°Ü $(&quot;:submit&quot;) //ÊâÄÊúâÊèê‰∫§ÊåâÈíÆ $(&quot;:reset&quot;) //ÊâÄÊúâÈáçÁΩÆÊåâÈíÆ $(&quot;:button&quot;) //ÊâÄÊúâbuttonÊåâÈíÆ $(&quot;:file&quot;) //ÊâÄÊúâÊñá‰ª∂Âüü 4„ÄÅÁ≠õÈÄâ‰∏éÊü•Êâæ $(&quot;p&quot;).eq(0) //ÂΩìÂâçÊìç‰Ωú‰∏≠Á¨¨N‰∏™jQueryÂØπË±°,Á±ª‰ººÁ¥¢Âºï $(&apos;li&apos;).first() //Á¨¨‰∏Ä‰∏™ËäÇÁÇπ $(&apos;li&apos;).last() //ÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπ $(this).hasClass(&quot;node&quot;) //ËäÇÁÇπÊòØÂê¶Âê´ÊúâÊüê‰∏™ÁâπÂÆöÁöÑÁ±ª,ËøîÂõûÂ∏ÉÂ∞îÂÄº $(&apos;li&apos;).has(&apos;ul&apos;) //ÂåÖÂê´ÁâπÂÆöÂêé‰ª£ÁöÑËäÇÁÇπ $(&quot;div&quot;).children() //div‰∏≠ÁöÑÊØè‰∏™Â≠êËäÇÁÇπ,Á¨¨‰∏ÄÂ±Ç $(&quot;div&quot;).find(&quot;span&quot;) //Êü•Êâædiv‰∏ãÁöÑÊâÄÊúâspanËäÇÁÇπ $(&quot;p&quot;).next() //Á¥ßÈÇªpËäÇÁÇπÂêéÁöÑ‰∏Ä‰∏™ÂêåËæàËäÇÁÇπ $(&quot;p&quot;).nextAll() //pËäÇÁÇπ‰πãÂêéÊâÄÊúâÁöÑÂêåËæàËäÇÁÇπ $(&quot;#node&quot;).nextUntil(&quot;#node2&quot;) //id‰∏∫&quot;#node&quot;ËäÇÁÇπ‰πãÂêéÂà∞id‰∏∫&apos;#node2&apos;‰πãÈó¥ÊâÄÊúâÁöÑÂêåËæàËäÇÁÇπ,ÊéêÂ§¥ÂéªÂ∞æ $(&quot;p&quot;).prev() //Á¥ßÈÇªpËäÇÁÇπÂâçÁöÑ‰∏Ä‰∏™ÂêåËæàËäÇÁÇπ $(&quot;p&quot;).prevAll() //pËäÇÁÇπ‰πãÂâçÊâÄÊúâÁöÑÂêåËæàËäÇÁÇπ $(&quot;#node&quot;).prevUntil(&quot;#node2&quot;) //id‰∏∫&quot;#node&quot;ËäÇÁÇπ‰πãÂâçÂà∞id‰∏∫&apos;#node2&apos;‰πãÈó¥ÊâÄÊúâÁöÑÂêåËæàËäÇÁÇπ,ÊéêÂ§¥ÂéªÂ∞æ $(&quot;p&quot;).parent() //ÊØè‰∏™pËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ $(&quot;p&quot;).parents() //ÊØè‰∏™pËäÇÁÇπÁöÑÊâÄÊúâÁ•ñÂÖàËäÇÁÇπ,body,html $(&quot;#node&quot;).parentsUntil(&quot;#node2&quot;) //id‰∏∫&quot;#node&quot;ËäÇÁÇπÂà∞id‰∏∫&apos;#node2&apos;‰πãÈó¥ÊâÄÊúâÁöÑÁà∂Á∫ßËäÇÁÇπ,ÊéêÂ§¥ÂéªÂ∞æ $(&quot;div&quot;).siblings() //ÊâÄÊúâÁöÑÂêåËæàËäÇÁÇπ,‰∏çÂåÖÊã¨Ëá™Â∑± 5„ÄÅÂ±ûÊÄßÊìç‰Ωú $(&quot;img&quot;).attr(&quot;src&quot;); //ËøîÂõûÊñáÊ°£‰∏≠ÊâÄÊúâÂõæÂÉèÁöÑsrcÂ±ûÊÄßÂÄº $(&quot;img&quot;).attr(&quot;src&quot;,&quot;node.jpg&quot;); //ËÆæÁΩÆÊâÄÊúâÂõæÂÉèÁöÑsrcÂ±ûÊÄß $(&quot;img&quot;).removeAttr(&quot;src&quot;); //Â∞ÜÊñáÊ°£‰∏≠ÂõæÂÉèÁöÑsrcÂ±ûÊÄßÂà†Èô§ $(&quot;input[type=&apos;checkbox&apos;]&quot;).prop(&quot;checked&quot;, true); //ÈÄâ‰∏≠Â§çÈÄâÊ°Ü $(&quot;input[type=&apos;checkbox&apos;]&quot;).prop(&quot;checked&quot;, false); //‰∏çÈÄâ‰∏≠Â§çÈÄâÊ°Ü $(&quot;img&quot;).removeProp(&quot;src&quot;); //Âà†Èô§imgÁöÑsrcÂ±ûÊÄß 6„ÄÅÊ†∑ÂºèÊìç‰Ωú $(&quot;p&quot;).addClass(&quot;selected&quot;); //‰∏∫pËäÇÁÇπÂä†‰∏ä &apos;selected&apos; Á±ª $(&quot;p&quot;).removeClass(&quot;selected&quot;); //‰ªépËäÇÁÇπ‰∏≠Âà†Èô§ &apos;selected&apos; Á±ª $(&quot;p&quot;).toggleClass(&quot;selected&quot;); //Â¶ÇÊûúÂ≠òÂú®Â∞±Âà†Èô§,Âê¶ÂàôÂ∞±Ê∑ªÂä†HTML‰ª£Á†Å/ÊñáÊú¨/ÂÄº 7„ÄÅÂÜÖÂÆπÊìç‰Ωú $(&apos;p&apos;).html(); //ËøîÂõûpËäÇÁÇπÁöÑhtmlÂÜÖÂÆπ $(&quot;p&quot;).html(&quot;Hello &lt;b&gt;hello&lt;/b&gt;!&quot;); //ËÆæÁΩÆpËäÇÁÇπÁöÑhtmlÂÜÖÂÆπ $(&apos;p&apos;).text(); //ËøîÂõûpËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπ $(&quot;p&quot;).text(&quot;hello&quot;); //ËÆæÁΩÆpËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπ $(&quot;input&quot;).val(); //Ëé∑ÂèñÊñáÊú¨Ê°Ü‰∏≠ÁöÑÂÄº $(&quot;input&quot;).val(&quot;hello&quot;); //ËÆæÁΩÆÊñáÊú¨Ê°Ü‰∏≠ÁöÑÂÜÖÂÆπ 8„ÄÅCSSÊìç‰Ωú $(&quot;p&quot;).css(&quot;color&quot;); //ËÆøÈóÆÊü•ÁúãpËäÇÁÇπÁöÑcolorÂ±ûÊÄß $(&quot;p&quot;).css(&quot;color&quot;,&quot;red&quot;); //ËÆæÁΩÆpËäÇÁÇπÁöÑcolorÂ±ûÊÄß‰∏∫red $(&quot;p&quot;).css({ &quot;color&quot;: &quot;red&quot;, &quot;background&quot;: &quot;yellow&quot; }); //ËÆæÁΩÆpËäÇÁÇπÁöÑcolor‰∏∫redÔºåbackgroundÂ±ûÊÄß‰∏∫yellowÔºàËÆæÁΩÆÂ§ö‰∏™Â±ûÊÄßË¶ÅÁî®{}Â≠óÂÖ∏ÂΩ¢ÂºèÔºâ 9„ÄÅÂÆö‰Ωç‰∏éÂÅèÁßª $(&apos;p&apos;).offset() //ËäÇÁÇπÂú®ÂΩìÂâçËßÜÂè£ÁöÑÁõ∏ÂØπÂÅèÁßª,ÂØπË±° {top: 5, left: 9} $(&apos;p&apos;).offset().top $(&apos;p&apos;).offset().left $(&quot;p&quot;).position() //ËäÇÁÇπÁõ∏ÂØπÁà∂ËäÇÁÇπÁöÑÂÅèÁßª,ÂØπÂèØËßÅËäÇÁÇπÊúâÊïàÔºåObject {top: 5, left: 8} $(window).scrollTop() //Ëé∑ÂèñÊªöËΩÆÊªëÁöÑÈ´òÂ∫¶ $(window).scrollLeft() //Ëé∑ÂèñÊªöËΩÆÊªëÁöÑÂÆΩÂ∫¶ $(window).scrollTop(&apos;25&apos;) //ËÆæÁΩÆÊªöËΩÆÊªëÁöÑÈ´òÂ∫¶‰∏∫25 10„ÄÅÂ∞∫ÂØ∏ $(&quot;p&quot;).height(); //Ëé∑ÂèñpËäÇÁÇπÁöÑÈ´òÂ∫¶ $(&quot;p&quot;).width(); //Ëé∑ÂèñpËäÇÁÇπÁöÑÂÆΩÂ∫¶ $(&quot;p:first&quot;).innerHeight() //Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÂåπÈÖçËäÇÁÇπÂÜÖÈÉ®Âå∫ÂüüÈ´òÂ∫¶(ÂåÖÊã¨Ë°•ÁôΩ„ÄÅ‰∏çÂåÖÊã¨ËæπÊ°Ü) $(&quot;p:first&quot;).innerWidth() //Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÂåπÈÖçËäÇÁÇπÂÜÖÈÉ®Âå∫ÂüüÂÆΩÂ∫¶(ÂåÖÊã¨Ë°•ÁôΩ„ÄÅ‰∏çÂåÖÊã¨ËæπÊ°Ü) $(&quot;p:first&quot;).outerHeight() //ÂåπÈÖçËäÇÁÇπÂ§ñÈÉ®È´òÂ∫¶(ÈªòËÆ§ÂåÖÊã¨Ë°•ÁôΩÂíåËæπÊ°Ü) $(&quot;p:first&quot;).outerWidth() //ÂåπÈÖçËäÇÁÇπÂ§ñÈÉ®ÂÆΩÂ∫¶(ÈªòËÆ§ÂåÖÊã¨Ë°•ÁôΩÂíåËæπÊ°Ü) $(&quot;p:first&quot;).outerHeight(true) //‰∏∫trueÊó∂ÂåÖÊã¨ËæπË∑ù 11„ÄÅDOMÂÜÖÈÉ®ÊèíÂÖ• $(&quot;p&quot;).append(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;); //ÊØè‰∏™pËäÇÁÇπÂÜÖÂêéÈù¢ËøΩÂä†ÂÜÖÂÆπ $(&quot;p&quot;).appendTo(&quot;div&quot;); //pËäÇÁÇπËøΩÂä†Âà∞divÂÜÖÂêé $(&quot;p&quot;).prepend(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;); //ÊØè‰∏™pËäÇÁÇπÂÜÖÂâçÈù¢ËøΩÂä†ÂÜÖÂÆπ $(&quot;p&quot;).prependTo(&quot;div&quot;); //pËäÇÁÇπËøΩÂä†Âà∞divÂÜÖÂâç 12„ÄÅDOMÂ§ñÈÉ®ÊèíÂÖ• $(&quot;p&quot;).after(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;); //ÊØè‰∏™pËäÇÁÇπÂêåÁ∫ß‰πãÂêéÊèíÂÖ•ÂÜÖÂÆπ $(&quot;p&quot;).before(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;); //Âú®ÊØè‰∏™pËäÇÁÇπÂêåÁ∫ß‰πãÂâçÊèíÂÖ•ÂÜÖÂÆπ $(&quot;p&quot;).insertAfter(&quot;#node&quot;); //ÊâÄÊúâpËäÇÁÇπÊèíÂÖ•Âà∞id‰∏∫nodeËäÇÁÇπÁöÑÂêéÈù¢ $(&quot;p&quot;).insertBefore(&quot;#node&quot;); //ÊâÄÊúâpËäÇÁÇπÊèíÂÖ•Âà∞id‰∏∫nodeËäÇÁÇπÁöÑÂâçÈù¢ 13„ÄÅDOMÊõøÊç¢ $(&quot;p&quot;).replaceWith(&quot;&lt;b&gt;Paragraph. &lt;/b&gt;&quot;); //Â∞ÜÊâÄÊúâÂåπÈÖçÁöÑËäÇÁÇπÊõøÊç¢ÊàêÊåáÂÆöÁöÑHTMLÊàñDOMËäÇÁÇπ $(&quot;&lt;b&gt;Paragraph. &lt;/b&gt;&quot;).replaceAll(&quot;p&quot;); //Áî®ÂåπÈÖçÁöÑËäÇÁÇπÊõøÊç¢ÊéâÊâÄÊúâ selectorÂåπÈÖçÂà∞ÁöÑËäÇÁÇπ 14„ÄÅDOMÂà†Èô§ $(&quot;p&quot;).empty(); //Âà†Èô§ÂåπÈÖçÁöÑËäÇÁÇπÈõÜÂêà‰∏≠ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπÔºå‰∏çÂåÖÊã¨Êú¨Ë∫´ $(&quot;p&quot;).remove(); //Âà†Èô§ÊâÄÊúâÂåπÈÖçÁöÑËäÇÁÇπ,ÂåÖÊã¨Êú¨Ë∫´ $(&quot;p&quot;).detach(); //Âà†Èô§ÊâÄÊúâÂåπÈÖçÁöÑËäÇÁÇπ(Âíåremove()‰∏çÂêåÁöÑÊòØ:ÊâÄÊúâÁªëÂÆöÁöÑ‰∫ã‰ª∂„ÄÅÈôÑÂä†ÁöÑÊï∞ÊçÆ‰ºö‰øùÁïô‰∏ãÊù•) 15„ÄÅDOMÂ§çÂà∂ $(&quot;p&quot;).clone() //ÂÖãÈöÜËäÇÁÇπÂπ∂ÈÄâ‰∏≠ÂÖãÈöÜÁöÑÂâØÊú¨ $(&quot;p&quot;).clone(true) //Â∏ÉÂ∞îÂÄºÊåá‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÊòØÂê¶‰ºöË¢´Â§çÂà∂ 16„ÄÅDOMÂä†ËΩΩÂÆåÊàê‰∫ã‰ª∂ $(document).ready(function(){ ÊÇ®ÁöÑ‰ª£Á†Å... }); //Áº©ÂÜô $(function($) { ÊÇ®ÁöÑ‰ª£Á†Å... }); 17„ÄÅÁªëÂÆö‰∫ã‰ª∂ //bind ‰∏∫ÊØè‰∏™ÂåπÈÖçËäÇÁÇπÁªëÂÆö‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÔºåÁªëÂÆöÂ§ö‰∏™Áî®{}„ÄÇ $(&quot;p&quot;).bind(&quot;click&quot;, function(){ alert( $(this).text() ); }); $(&apos;#div1&apos;).bind({ &quot;mouseover&quot;:function () { $(&apos;#div1&apos;).parent().removeClass(&quot;hide&quot;); },&quot;mouseout&quot;:function () { $(&apos;#div1&apos;).parent().addClass(&quot;hide&quot;); } }); $(&quot;p&quot;).one( &quot;click&quot;, function(){}) //‰∫ã‰ª∂ÁªëÂÆöÂêéÂè™‰ºöÊâßË°å‰∏ÄÊ¨° $(&quot;p&quot;).unbind( &quot;click&quot; ) //ÂèçÁªë‰∏Ä‰∏™‰∫ã‰ª∂ // ‰∏ébind ‰∏çÂêåÁöÑÊòØÂΩìÊó∂Èó¥ÂèëÁîüÊó∂ÊâçÂéª‰∏¥Êó∂ÁªëÂÆö„ÄÇ $(&quot;p&quot;).delegate(&quot;click&quot;,function(){ ÊÇ®ÁöÑ‰ª£Á†Å }); $(&quot;p&quot;).undelegate(); //pËäÇÁÇπÂà†Èô§Áî± delegate() ÊñπÊ≥ïÊ∑ªÂä†ÁöÑÊâÄÊúâ‰∫ã‰ª∂ $(&quot;p&quot;).undelegate(&quot;click&quot;) //‰ªépËäÇÁÇπÂà†Èô§Áî± delegate() ÊñπÊ≥ïÊ∑ªÂä†ÁöÑÊâÄÊúâclick‰∫ã‰ª∂ $(&quot;p&quot;).click(); //ÂçïÂáª‰∫ã‰ª∂ $(&quot;p&quot;).dblclick(); //ÂèåÂáª‰∫ã‰ª∂ $(&quot;input[type=text]&quot;).focus() //ËäÇÁÇπËé∑ÂæóÁÑ¶ÁÇπÊó∂,Ëß¶Âèë focus ‰∫ã‰ª∂ $(&quot;input[type=text]&quot;).blur() //ËäÇÁÇπÂ§±ÂéªÁÑ¶ÁÇπÊó∂,Ëß¶Âèë blur‰∫ã‰ª∂ $(&quot;button&quot;).mousedown()//ÂΩìÊåâ‰∏ãÈº†Ê†áÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;button&quot;).mouseup() //ËäÇÁÇπ‰∏äÊîæÊùæÈº†Ê†áÊåâÈíÆÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;p&quot;).mousemove() //ÂΩìÈº†Ê†áÊåáÈíàÂú®ÊåáÂÆöÁöÑËäÇÁÇπ‰∏≠ÁßªÂä®Êó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;p&quot;).mouseover() //ÂΩìÈº†Ê†áÊåáÈíà‰Ωç‰∫éËäÇÁÇπ‰∏äÊñπÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;p&quot;).mouseout() //ÂΩìÈº†Ê†áÊåáÈíà‰ªéËäÇÁÇπ‰∏äÁßªÂºÄÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(window).keydown() //ÂΩìÈîÆÁõòÊàñÊåâÈíÆË¢´Êåâ‰∏ãÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(window).keypress() //ÂΩìÈîÆÁõòÊàñÊåâÈíÆË¢´Êåâ‰∏ãÊó∂Ëß¶Âèë‰∫ã‰ª∂,ÊØèËæìÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶ÈÉΩËß¶Âèë‰∏ÄÊ¨° $(&quot;input&quot;).keyup() //ÂΩìÊåâÈíÆË¢´ÊùæÂºÄÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(window).scroll() //ÂΩìÁî®Êà∑ÊªöÂä®Êó∂Ëß¶Âèë‰∫ã‰ª∂ $(window).resize() //ÂΩìË∞ÉÊï¥ÊµèËßàÂô®Á™óÂè£ÁöÑÂ§ßÂ∞èÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;input[type=&apos;text&apos;]&quot;).change() //ÂΩìËäÇÁÇπÁöÑÂÄºÂèëÁîüÊîπÂèòÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;input&quot;).select() //ÂΩìinput ËäÇÁÇπ‰∏≠ÁöÑÊñáÊú¨Ë¢´ÈÄâÊã©Êó∂Ëß¶Âèë‰∫ã‰ª∂ $(&quot;form&quot;).submit() //ÂΩìÊèê‰∫§Ë°®ÂçïÊó∂Ëß¶Âèë‰∫ã‰ª∂ $(window).unload() //Áî®Êà∑Á¶ªÂºÄÈ°µÈù¢Êó∂ 18„ÄÅ‰∫ã‰ª∂ÂØπË±° $(&quot;p&quot;).click(function(event){ alert(event.type); //&quot;click&quot; }); (evnet object)Â±ûÊÄßÊñπÊ≥ïÔºö event.pageX //‰∫ã‰ª∂ÂèëÁîüÊó∂ÔºåÈº†Ê†áË∑ùÁ¶ªÁΩëÈ°µÂ∑¶‰∏äËßíÁöÑÊ∞¥Âπ≥Ë∑ùÁ¶ª event.pageY //‰∫ã‰ª∂ÂèëÁîüÊó∂ÔºåÈº†Ê†áË∑ùÁ¶ªÁΩëÈ°µÂ∑¶‰∏äËßíÁöÑÂûÇÁõ¥Ë∑ùÁ¶ª event.type //‰∫ã‰ª∂ÁöÑÁ±ªÂûã event.which //Êåâ‰∏ã‰∫ÜÂì™‰∏Ä‰∏™ÈîÆ event.data //Âú®‰∫ã‰ª∂ÂØπË±°‰∏äÁªëÂÆöÊï∞ÊçÆÔºåÁÑ∂Âêé‰º†ÂÖ•‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ event.target //‰∫ã‰ª∂ÈíàÂØπÁöÑÁΩëÈ°µËäÇÁÇπ event.preventDefault() //ÈòªÊ≠¢‰∫ã‰ª∂ÁöÑÈªòËÆ§Ë°å‰∏∫(ÊØîÂ¶ÇÁÇπÂáªÈìæÊé•Ôºå‰ºöËá™Âä®ÊâìÂºÄÊñ∞È°µÈù¢) event.stopPropagation() //ÂÅúÊ≠¢‰∫ã‰ª∂Âêë‰∏äÂ±ÇËäÇÁÇπÂÜíÊ≥° 19„ÄÅÂä®ÊÄÅ‰∫ã‰ª∂ÁªëÂÆö $(&quot;p&quot;).on(&quot;click&quot;,&apos;span&apos;,function(){ alert( $(this).text() ); }); //ÂΩìp‰∏≠Â¢ûÂä†spanÊó∂‰ªçÁÑ∂ÊúâÊïà 20„ÄÅÂä®ÁîªÊïàÊûú $(&quot;p&quot;).show() //ÊòæÁ§∫ÈöêËóèÁöÑÂåπÈÖçËäÇÁÇπ $(&quot;p&quot;).show(&quot;slow&quot;); //ÂèÇÊï∞Ë°®Á§∫ÈÄüÂ∫¶,(&quot;slow&quot;,&quot;normal&quot;,&quot;fast&quot;),‰πüÂèØ‰∏∫600ÊØ´Áßí $(&quot;p&quot;).hide() //ÈöêËóèÊòæÁ§∫ÁöÑËäÇÁÇπ $(&quot;p&quot;).toggle(); //ÂàáÊç¢ ÊòæÁ§∫/ÈöêËóè $(&quot;p&quot;).slideDown(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊªë‰∏ã $(&quot;p&quot;).slideUp(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊªë‰∏ä $(&quot;p&quot;).slideToggle(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊªë‰∏äÔºåÊªë‰∏ãÊ∑°ÂÖ•Ê∑°Âá∫ $(&quot;p&quot;).fadeIn(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊ∑°ÂÖ• $(&quot;p&quot;).fadeOut(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊ∑°Âá∫ $(&quot;p&quot;).fadeToggle(&quot;600&quot;); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÊ∑°ÂÖ•,Ê∑°Âá∫ $(&quot;p&quot;).fadeTo(&quot;slow&quot;, 0.6); //Áî®600ÊØ´ÁßíÊó∂Èó¥Â∞ÜÊÆµËêΩÁöÑÈÄèÊòéÂ∫¶Ë∞ÉÊï¥Âà∞0.6 21„ÄÅÂ∑•ÂÖ∑ÊñπÊ≥ï $(&quot;#form1&quot;).serialize() //Â∫èÂàóË°®Ë°®Ê†ºÂÜÖÂÆπ‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ $(&quot;select, :radio&quot;).serializeArray(); //Â∫èÂàóÂåñË°®ÂçïÂÖÉÁ¥†‰∏∫Êï∞ÁªÑËøîÂõû JSON Êï∞ÊçÆÁªìÊûÑÊï∞ÊçÆ $.trim() //ÂéªÈô§Â≠óÁ¨¶‰∏≤‰∏§Á´ØÁöÑÁ©∫Ê†º $.each() //ÈÅçÂéÜ‰∏Ä‰∏™Êï∞ÁªÑÊàñÂØπË±°ÔºåforÂæ™ÁéØ $.inArray() //ËøîÂõû‰∏Ä‰∏™ÂÄºÂú®Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢Âºï‰ΩçÁΩÆÔºå‰∏çÂ≠òÂú®ËøîÂõû-1 $.grep() //ËøîÂõûÊï∞ÁªÑ‰∏≠Á¨¶ÂêàÊüêÁßçÊ†áÂáÜÁöÑËäÇÁÇπ $.extend({a:1,b:2},{b:3,c:4},{c:5:d:6}) //Â∞ÜÂ§ö‰∏™ÂØπË±°ÔºåÂêàÂπ∂Âà∞Á¨¨‰∏Ä‰∏™ÂØπË±°{a:1,b:3,c:5,d:6} $.makeArray() //Â∞ÜÂØπË±°ËΩ¨Âåñ‰∏∫Êï∞ÁªÑ $.type() //Âà§Êñ≠ÂØπË±°ÁöÑÁ±ªÂà´ÔºàÂáΩÊï∞ÂØπË±°„ÄÅÊó•ÊúüÂØπË±°„ÄÅÊï∞ÁªÑÂØπË±°„ÄÅÊ≠£ÂàôÂØπË±°Á≠âÁ≠â $.isArray() //Âà§Êñ≠Êüê‰∏™ÂèÇÊï∞ÊòØÂê¶‰∏∫Êï∞ÁªÑ $.isEmptyObject() //Âà§Êñ≠Êüê‰∏™ÂØπË±°ÊòØÂê¶‰∏∫Á©∫(‰∏çÂê´Êúâ‰ªª‰ΩïÂ±ûÊÄß) $.isFunction() //Âà§Êñ≠Êüê‰∏™ÂèÇÊï∞ÊòØÂê¶‰∏∫ÂáΩÊï∞ $.isPlainObject() //Âà§Êñ≠Êüê‰∏™ÂèÇÊï∞ÊòØÂê¶‰∏∫Áî®&quot;{}&quot;Êàñ&quot;new Object&quot;Âª∫Á´ãÁöÑÂØπË±° $.support() //Âà§Êñ≠ÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅÊüê‰∏™ÁâπÊÄß 22„ÄÅAJAX //‰øùÂ≠òÊï∞ÊçÆÂà∞ÊúçÂä°Âô®ÔºåÊàêÂäüÊó∂ÊòæÁ§∫‰ø°ÊÅØ $.ajax({ type: &quot;POST&quot;, url: &quot;some.php&quot;, data: &quot;name=John&amp;location=Boston&quot;, success: function(msg){ alert( &quot;Data Saved: &quot; + msg ); } }); //Âä†ËΩΩ feeds.html Êñá‰ª∂ÂÜÖÂÆπ„ÄÇ $(&quot;#feeds&quot;).load(&quot;feeds.html&quot;); //ËØ∑Ê±Ç test.php ÁΩëÈ°µÔºå‰º†ÈÄÅ2‰∏™ÂèÇÊï∞ÔºåÂøΩÁï•ËøîÂõûÂÄº„ÄÇ $.get(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; } ); //‰ªé Flickr JSONP API ËΩΩÂÖ• 4 Âº†ÊúÄÊñ∞ÁöÑÂÖ≥‰∫éÁå´ÁöÑÂõæÁâá„ÄÇ $.getJSON(&quot;http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&amp;tagmode=any&amp;format =json&amp;jsoncallback=?&quot;, function(data){ $.each(data.items, function(i,item){ $(&quot;&lt;img/&gt;&quot;).attr(&quot;src&quot;, item.media.m).appendTo(&quot;#images&quot;); if ( i == 3 ) return false; }); }); //Âä†ËΩΩÂπ∂ÊâßË°å test.js ÔºåÊàêÂäüÂêéÊòæÁ§∫‰ø°ÊÅØ $.getScript(&quot;test.js&quot;, function(){ alert(&quot;Script loaded and executed.&quot;); }); //ÂêëÈ°µÈù¢ test.php ÂèëÈÄÅÊï∞ÊçÆÔºåÂπ∂ËæìÂá∫ÁªìÊûúÔºàHTML Êàñ XMLÔºåÂèñÂÜ≥‰∫éÊâÄËøîÂõûÁöÑÂÜÖÂÆπÔºâÔºö $.post(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; }, function(data){ alert(&quot;Data Loaded: &quot; + data); }); //AJAX ËØ∑Ê±ÇÂÆåÊàêÊó∂ÊâßË°åÂáΩÊï∞„ÄÇ $(&quot;#msg&quot;).ajaxComplete(function(event,request, settings){ $(this).append(&quot;&lt;li&gt;ËØ∑Ê±ÇÂÆåÊàê.&lt;/li&gt;&quot;); }); //AJAX ËØ∑Ê±ÇÂ§±Ë¥•Êó∂ÊòæÁ§∫‰ø°ÊÅØ„ÄÇ $(&quot;#msg&quot;).ajaxError(function(event,request, settings){ $(this).append(&quot;&lt;li&gt;Âá∫ÈîôÈ°µÈù¢:&quot; + settings.url + &quot;&lt;/li&gt;&quot;); }); //AJAX ËØ∑Ê±ÇÂèëÈÄÅÂâçÊòæÁ§∫‰ø°ÊÅØ„ÄÇ $(&quot;#msg&quot;).ajaxSend(function(evt, request, settings){ $(this).append(&quot;&lt;li&gt;ÂºÄÂßãËØ∑Ê±Ç: &quot; + settings.url + &quot;&lt;/li&gt;&quot;); }); //AJAX ËØ∑Ê±ÇÂºÄÂßãÊó∂ÊòæÁ§∫‰ø°ÊÅØ„ÄÇ $(&quot;#loading&quot;).ajaxStart(function(){ $(this).show(); }); //AJAX ËØ∑Ê±ÇÁªìÊùüÂêéÈöêËóè‰ø°ÊÅØ„ÄÇ $(&quot;#loading&quot;).ajaxStop(function(){ $(this).hide(); }); //ÂΩì AJAX ËØ∑Ê±ÇÊàêÂäüÂêéÊòæÁ§∫Ê∂àÊÅØ„ÄÇ $(&quot;#msg&quot;).ajaxSuccess(function(evt, request, settings){ $(this).append(&quot;&lt;li&gt;ËØ∑Ê±ÇÊàêÂäü!&lt;/li&gt;&quot;); }); //ËØ∑Ê±ÇÂâçËøáÊª§ $.ajaxPrefilter( function( options, originalOptions, jqXHR ) { // Modify options, control originalOptions, store jqXHR, etc }); //ËÆæÁΩÆÂÖ®Â±Ä AJAX ÈªòËÆ§ÈÄâÈ°πÔºåËÆæÁΩÆ AJAX ËØ∑Ê±ÇÈªòËÆ§Âú∞ÂùÄ‰∏∫ &quot;/xmlhttp/&quot;ÔºåÁ¶ÅÊ≠¢Ëß¶ÂèëÂÖ®Â±Ä AJAX ‰∫ã‰ª∂ÔºåÁî® POST ‰ª£ÊõøÈªòËÆ§ GET ÊñπÊ≥ï„ÄÇÂÖ∂ÂêéÁöÑ AJAX ËØ∑Ê±Ç‰∏çÂÜçËÆæÁΩÆ‰ªª‰ΩïÈÄâÈ°πÂèÇÊï∞„ÄÇ $.ajaxSetup({ url: &quot;/xmlhttp/&quot;, global: false, type: &quot;POST&quot; }); $.ajax({ data: myData }); JavaScript‰∏≠Â∑ßÁî®‰ΩçËøêÁÆó Êó•Â∏∏ÂâçÁ´ØÂºÄÂèë‰∏≠Êàë‰ª¨ÂæàÂ∞ëÁî®Âà∞‰ΩçËøêÁÆóÔºåÂÆπÊòìËÆ©‰∫∫ÈÅóÂøòÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑ÂõûÈ°æ‰∏ã‰∏Ä‰∏ãjs‰∏≠ÁöÑ‰ΩçËøêÁÆó„ÄÇ ‰ΩçËøêÁÆóËØ¶ÁªÜËØ¥ÊòéÊü•ÁúãJavaScript|MDN ‰∏ãÈù¢‰∏ªË¶ÅÂõûÈ°æ‰∏Ä‰∏ã‰∏Ä‰∫õÂ∏∏Áî®ÁöÑ‰ΩçËøêÁÆóÁöÑÂ∑ßÁî®„ÄÇ Â∞ÜÂçÅËøõÂà∂ËΩ¨Âåñ‰∏∫‰∫åËøõÂà∂ var number = 3; var result = number.toString(2); var result2 = 14..toString(2); // &quot;1110&quot; Êàë‰ª¨‰ΩøÁî®‰ΩçËøêÁÆóÊù•‰ª£ÊõøMath.floor()Êù•Âêë‰∏ãÂèñÊï¥ var data = 2.2352524535; var result = data | 0; // 2 var re2 = ~~data; // 2 Â∞ÜÈ¢úËâ≤‰ªéRGAËΩ¨Êç¢‰∏∫HexÊ†ºÂºè var color = {r: 186, g: 218, b: 85}; // RGB to HEX var rgb2hex = function(r, g, b) { return &apos;#&apos; + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).substr(1); } rgb2hex(color.r, color.g, color.b);//&quot;#bada55&quot; Âå∫ÂàÜ‰∏§‰∏™Êï∞ÁöÑÂ§ßÂ∞è // variables var a = 9285; var b = 3569; // ÂèñÂ§ß var max = a ^ ((a ^ b) &amp; -(a &lt; b));//9285; // ÂèñÂ∞è var min = b ^ ((a ^ b) &amp; -(a &lt; b);//3569 ‰∫§Êç¢ÂèòÈáè var a = 10; var b = 99; a = (b^=a^=b)^a; console.log(a) // 99 console.log(b) // 10 Âà§Êñ≠Ê≠£Ë¥ü function isPos(n) { return (n === (n &gt;&gt;&gt; 0)) ? true : false; } isPos(-1); // false isPos(1); // true Â∏∏Áî®ÂáΩÊï∞Ôºö /*========================Â∏∏Áî®ÂáΩÊï∞========================*/ /*Êó∂Èó¥Ê†ºÂºèÂåñ*/ Date.prototype.Format = function (fmt) { var o = { &quot;M+&quot;: this.getMonth() + 1, /*Êúà‰ªΩ*/ &quot;d+&quot;: this.getDate(), /*Êó•*/ &quot;h+&quot;: this.getHours(), /*Â∞èÊó∂*/ &quot;m+&quot;: this.getMinutes(), /*ÂàÜ*/ &quot;s+&quot;: this.getSeconds(), /*Áßí*/ &quot;q+&quot;: Math.floor((this.getMonth() + 3) / 3), /*Â≠£Â∫¶*/ &quot;S&quot;: this.getMilliseconds() /*ÊØ´Áßí*/ }; if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length)); for (var k in o) if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length))); return fmt; }; /*IEÊµèËßàÂô®‰∏çÊîØÊåÅdate(time),ÊâÄ‰ª•Áî®Ê≠§ÊñπÊ≥ïËΩ¨Êç¢*/ function NewDate(fmt) { /*È¶ñÂÖàÂ∞ÜÊó•ÊúüÂàÜÈöî ÔºåËé∑ÂèñÂà∞Êó•ÊúüÈÉ®ÂàÜ Âíå Êó∂Èó¥ÈÉ®ÂàÜ*/ var day = fmt.split(&apos; &apos;); /*Ëé∑ÂèñÊó•ÊúüÈÉ®ÂàÜÁöÑÂπ¥ÊúàÊó•*/ var days = day[0].split(&apos;-&apos;); /*Ëé∑ÂèñÊó∂Èó¥ÈÉ®ÂàÜÁöÑ Êó∂ÂàÜÁßí*/ var mi = day[day.length - 1].split(&apos;:&apos;); /*Ëé∑ÂèñÂΩìÂâçdateÁ±ªÂûãÊó•Êúü*/ var date = new Date(); /*ÁªôdateËµãÂÄº Âπ¥ÊúàÊó•*/ date.setUTCFullYear(days[0], days[1] - 1, days[2]); /*ÁªôdateËµãÂÄº Êó∂ÂàÜÁßí È¶ñÂÖàËΩ¨Êç¢utcÊó∂Âå∫ Ôºö+8*/ date.setUTCHours(mi[0] - 8, mi[1], mi[2]); return date; } /*‰∏∫Á©∫Âà§Êñ≠*/ function isEmpty(s) { switch (typeof(s)) { case &apos;string&apos;: return !s.length; break; case &apos;array&apos;: case &apos;object&apos;: for (var i in s) return false; return true; break; case &apos;undefined&apos;: return true; break; default: return !s; break; } } /*Êï∞Â≠óÂà§Êñ≠*/ function isNumber(s) { return typeof(s) == &apos;number&apos; ? true : false; } /*Êï¥Êï∞Âà§Êñ≠*/ function isInt(s) { var re = /^-?\d*$/; return re.test(s); } /*Ê≠£Êï¥Êï∞Âà§Êñ≠*/ function isUInt(s) { var re = /^\d*$/; return re.test(s) &amp;&amp; s &gt;= 0; } /*Â∞èÊï∞Âà§Êñ≠*/ function isDecimal(s, bit) { if (!arguments[1]) bit = -1; if (bit == -1) { var re = /^-?\d*.?\d*$/; return re.test(s); } else { var re = new RegExp(&apos;^-?\\d*.?\\d{0,&apos; + bit + &apos;}$&apos;); return re.test(s); } } /*Ê≠£Â∞èÊï∞Âà§Êñ≠*/ function isUDecimal(s, bit) { if (!arguments[1]) bit = -1; if (bit == -1) { var re = /^\d*.?\d*$/; return re.test(s) &amp;&amp; s &gt;= 0; } else { var re = new RegExp(&apos;^\\d*.?\\d{0,&apos; + bit + &apos;}$&apos;); return re.test(s) &amp;&amp; s &gt;= 0; } } /*Â≠óÁ¨¶‰∏≤Âà§Êñ≠*/ function isString(s) { return typeof(s) == &apos;string&apos;; } /*========================/Â∏∏Áî®ÂáΩÊï∞========================*/ js onkeyup replace Ëá™Âä®ÊõøÊç¢ Ê£ÄÊµãÊµÆÁÇπÊï∞ Âè™ËÉΩÊòØÊï¥Êï∞ÊàñËÄÖÂ∞èÊï∞ Â§ö‰ΩôÁöÑÂ∞±replace Êéâ ÁöÑË°®ÂçïÈ™åËØÅ function checkFloatNum(obj) { //ÂÖàÊääÈùûÊï∞Â≠óÁöÑÈÉΩÊõøÊç¢ÊéâÔºåÈô§‰∫ÜÊï∞Â≠óÂíå. obj.value = obj.value.replace(/[^\d.]/g,&quot;&quot;); //ÂøÖÈ°ª‰øùËØÅÁ¨¨‰∏Ä‰∏™‰∏∫Êï∞Â≠óËÄå‰∏çÊòØ. obj.value = obj.value.replace(/^\./g,&quot;&quot;); //‰øùËØÅÂè™ÊúâÂá∫Áé∞‰∏Ä‰∏™.ËÄåÊ≤°ÊúâÂ§ö‰∏™. obj.value = obj.value.replace(/\.{2,}/g,&quot;.&quot;); //‰øùËØÅ.Âè™Âá∫Áé∞‰∏ÄÊ¨°ÔºåËÄå‰∏çËÉΩÂá∫Áé∞‰∏§Ê¨°‰ª•‰∏ä obj.value = obj.value.replace(&quot;.&quot;,&quot;$#$&quot;).replace(/\./g,&quot;&quot;).replace(&quot;$#$&quot;,&quot;.&quot;); } Ëß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÈÅÆÊå°Ôºö // Ëß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÂêéÊå°Ë°®ÂçïÁöÑÈóÆÈ¢ò window.addEventListener(&apos;resize&apos;, function() { if( document.activeElement.tagName === &apos;INPUT&apos; || document.activeElement.tagName === &apos;TEXTAREA&apos; ) { window.setTimeout(function() { if(&apos;scrollIntoView&apos; in document.activeElement) { document.activeElement.scrollIntoView(); } else { document.activeElement.scrollIntoViewIfNeeded(); } }, 0); } }); Âçï‰∏™forÂæ™ÁéØÂÆûÁé∞ÊéíÂ∫èÔºö var a = [12, 13, 65, 54, 86, 21, 37, 1, 95, 4]; var l=a.length; for(var i = 0; i &lt; l; i++) { if(a[i] &gt; a[i + 1]) { var tem = a[i]; a[i] = a[i + 1]; a[i + 1] = tem; } if(i == l - 1) { i = -1; l--; } } console.log(a); Object.assignÂÆûÁé∞: if (!Object.assign) { // ÂÆö‰πâassignÊñπÊ≥ï Object.defineProperty(Object, &apos;assign&apos;, { enumerable: false, configurable: true, writable: true, value: function(target) { // assignÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ &apos;use strict&apos;; // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôÊäõÈîô if (target === undefined || target === null) { throw new TypeError(&apos;Cannot convert first argument to object&apos;); } var to = Object(target); // ÈÅçÂéÜÂâ©‰ΩôÊâÄÊúâÂèÇÊï∞ for (var i = 1; i &lt; arguments.length; i++) { var nextSource = arguments[i]; // ÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôË∑≥ËøáÔºåÁªßÁª≠‰∏ã‰∏Ä‰∏™ if (nextSource === undefined || nextSource === null) { continue; } nextSource = Object(nextSource); // Ëé∑ÂèñÊîπÂèÇÊï∞ÁöÑÊâÄÊúâkeyÂÄºÔºåÂπ∂ÈÅçÂéÜ var keysArray = Object.keys(nextSource); for (var nextIndex = 0, len = keysArray.length; nextIndex &lt; len; nextIndex++) { var nextKey = keysArray[nextIndex]; var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey); // Â¶ÇÊûú‰∏ç‰∏∫Á©∫‰∏îÂèØÊûö‰∏æÔºåÂàôÁõ¥Êé•ÊµÖÊã∑Ë¥ùËµãÂÄº if (desc !== undefined &amp;&amp; desc.enumerable) { to[nextKey] = nextSource[nextKey]; } } } return to; } }); } ËÆ∞ÂΩï‰∏ã‰∏éMathÊúâÂÖ≥ÁöÑÂ∏∏Áî®ÊñπÊ≥ïÔºåÂ¶ÇÔºöÊ±ÇÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄºÁ≠âÔºåÊàñËÄÖÊòØ‰øùÁïôÂá†‰ΩçÊï∞Âï•ÁöÑ 1.Êï∞ÊçÆlet floatA = 2.325232; let floatB = 2.3456; let temporaryArray = [1, 2, 5, 6, 3]; let minusNum = -12; let minusFloat = -12.321; let intA = 10; letmin, max, num; 2.Ê±ÇÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄº{ /* Ê±ÇÊúÄÂ∞èÂÄº */ min = Math.min(floatA, floatB); console.log(min); /* ‰ΩøÁî®applyÊù•ÈáçÊñ∞ÁªëÂÆöthis */ min = Math.min.apply(null, temporaryArray); console.log(min); /* ‰ΩøÁî®Â±ïÂºÄËøêÁÆóÁ¨¶ */ min = Math.min(...temporaryArray); console.log(min); /* Ê±ÇÊúÄÂ§ßÂÄº */ max = Math.max(floatA, floatB); console.log(max); /* ‰ΩøÁî®applyÊù•ÈáçÊñ∞ÁªëÂÆöthis */ max = Math.max.apply(null, temporaryArray); console.log(max); /* ‰ΩøÁî®Â±ïÂºÄËøêÁÆóÁ¨¶ */ max = Math.max(...temporaryArray); console.log(max); } 3.ÂèñÊï¥{ /* ÂõõËàç‰∫îÂÖ•ÂèñÊï¥:Âèñ‰∏éÂèÇÊï∞ÊúÄÊé•ËøëÁöÑÊï¥Êï∞ */ num = Math.round(floatA); console.log(num); num = Math.round(minusFloat); console.log(num); /* Âêë‰∏äÂèñÊï¥:ÂèñÂ§ß‰∫éÊàñÁ≠â‰∫éÂáΩÊï∞ÂèÇÊï∞ÔºåÂπ∂‰∏î‰∏é‰πãÊúÄÊé•ËøëÁöÑÊï¥Êï∞ */ num = Math.ceil(floatB); console.log(num); /* Âêë‰∏ãÂèñÊï¥:ÂèñÂ∞è‰∫éÊàñÁ≠â‰∫éÂáΩÊï∞ÂèÇÊï∞ÔºåÂπ∂‰∏î‰∏é‰πãÊúÄÊé•ËøëÁöÑÊï¥Êï∞ */ num = Math.floor(floatB); console.log(num); /* ceil„ÄÅfloorÁªìÂêàËµ∑Êù•ÔºåÂÆûÁé∞‰∏Ä‰∏™ÊÄªÊòØËøîÂõûÊï∞ÂÄºÁöÑÊï¥Êï∞ÈÉ®ÂàÜÁöÑÂáΩÊï∞ */ function getInteger(value) { value = Number(value); return value &lt; 0 ? Math.ceil(value) : Math.floor(value); } console.log(getInteger(-2.3322)); } 4.Ê±ÇÁªùÂØπÂÄº{ /* Ë¥üÊï¥Êï∞ */ num = Math.abs(minusNum); console.log(num); /* Ë¥üÊµÆÁÇπÊï∞ */ num = Math.abs(minusFloat); console.log(num); } 5.Ê¨°ÂπÇ{ /* ÁªìÊûúÊòØËôöÊï∞ÊàñË¥üÊï∞ÔºåÂàôËØ•ÊñπÊ≥ïÂ∞ÜËøîÂõû NaN * Â¶ÇÊûúÁî±‰∫éÊåáÊï∞ËøáÂ§ßËÄåÂºïËµ∑ÊµÆÁÇπÊ∫¢Âá∫ÔºåÂàôËØ•ÊñπÊ≥ïÂ∞ÜËøîÂõû Infinity */ /* 2ÁöÑ3Ê¨°Êñπ */ num = Math.pow(2, 3); console.log(num); } 6.ÂéªÂπ≥ÊñπÊ†π{ /* Ê±ÇÂèÇÊï∞ÁöÑÂπ≥ÊñπÊ†πÔºåÂ¶ÇÊûúÂèÇÊï∞Â∞è‰∫é 0ÔºåÂàôËøîÂõû NaN */ num = Math.sqrt(9); console.log(num); } 7.ÁîüÊàêÈöèÊú∫Êï∞{ /* ÁîüÊàê0-1ÁöÑÈöèÊú∫Êï∞ÔºåÂ§ß‰∫é0Â∞è‰∫é1 */ num = Math.random(); console.log(num); /* ÁîüÊàê0-10ÁöÑÈöèÊú∫Êï∞ */ num = Math.random() * 10; console.log(num); /* ÁîüÊàê‰ªªÊÑèËåÉÂõ¥ÈöèÊú∫Êï∞ */ function getRandom(min, max) { return Math.random() * (max - min) + min; } console.log(getRandom(3.5, 6.5)); /* Êï¥Êï∞min‰∏éÊï¥Êï∞maxÁîüÊàê‰ªªÊÑèËåÉÂõ¥Êï¥Êï∞ÈöèÊú∫Êï∞ */ function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; } console.log(getRandomInt(5, 15)); } 8.es6‰∏≠ÂØπMathÊñπÊ≥ïÁöÑÊâ©Â±ïÔºàÈÉ®ÂàÜÔºâ{ /* ÂèñÊï¥(ÈùûÂõõËàç‰∫îÂÖ•) * ÂØπ‰∫éÈùûÊï∞ÂÄºÔºåÂÜÖÈÉ®Ë∞ÉÁî® Number Âº∫ËΩ¨‰∏∫Êï∞ÂÄº * ÂØπ‰∫éÁ©∫ÂÄºÊàñÂÖ∂‰ªñÊï∞ÊçÆÔºåËøîÂõûNaN * */ num = Math.trunc(floatA); console.log(num); num = Math.trunc(intA); console.log(num); num = Math.trunc(&apos;aaa&apos;); console.log(num); } { /* Âà§Êñ≠‰∏Ä‰∏™Êï∞ÊòØÊ≠£Êï∞„ÄÅË¥üÊï∞ÊàñÈõ∂ * Ê≠£Êï∞ËøîÂõû+1ÔºåË¥üÊï∞ËøîÂõû-1ÔºåÈõ∂ËøîÂõû0Êàñ-0 * ÂÖ∂‰ªñÂÄº NaN * */ num = Math.sign(2); console.log(num); num = Math.sign(0); console.log(num); num = Math.sign(-0); console.log(num); num = Math.sign(-14); console.log(num); num = Math.sign(&apos;ss&apos;); console.log(num); } { let a = 2; a **= 3; /* Áõ∏ÂΩì‰∫é a*a*a */ console.log(a); } 9.‰øùÁïô‰ΩçÊï∞Êìç‰Ωú{ /* ÂõõËàç‰∫îÂÖ•‰øùÁïô‰∏§‰ΩçÂ∞èÊï∞ * toFixed(num) ÊñπÊ≥ïÂèØÊää NumberÂûã ÂõõËàç‰∫îÂÖ•‰∏∫ÊåáÂÆöÂ∞èÊï∞‰ΩçÊï∞ÁöÑÊï∞Â≠ó * numËßÑÂÆöÂ∞èÊï∞ÁöÑ‰ΩçÊï∞ÔºåÊòØ 0 ~ 20 ‰πãÈó¥ÁöÑÂÄºÔºåÂåÖÊã¨ 0 Âíå 20 * Êúâ‰∫õÂÆûÁé∞ÂèØ‰ª•ÊîØÊåÅÊõ¥Â§ßÁöÑÊï∞ÂÄºËåÉÂõ¥,Â¶ÇÊûúÁúÅÁï•‰∫ÜËØ•ÂèÇÊï∞ÔºåÂ∞ÜÁî® 0 ‰ª£Êõø * */ num = floatA.toFixed(2); console.log(num); let word = 2.5; num = word.toFixed(); console.log(num); /* ‰∏çÂõõËàç‰∫îÂÖ• */ num = Math.floor(23.365125 * 100) / 100; console.log(num); } 10.Â≠óÁ¨¶‰∏≤ËΩ¨Êï∞Â≠ó { /* parseInt(value, radix) * Áî®‰∫éËß£ÊûêÂ≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™Êï¥Êï∞ * radixË°®Á§∫Ë¶ÅËß£ÊûêÁöÑÊï∞Â≠óÁöÑÂü∫Êï∞ÔºåËØ•ÂÄº‰ªã‰∫é 2 ~ 36 ‰πãÈó¥ * Â¶ÇÊûúÁúÅÁï•ËØ•ÂèÇÊï∞ÊàñÂÖ∂ÂÄº‰∏∫ 0ÔºåÂàôÊï∞Â≠óÂ∞Ü‰ª• 10 ‰∏∫Âü∫Á°ÄÊù•Ëß£Êûê * Â¶ÇÊûúÂÆÉ‰ª• ‚Äú0x‚Äù Êàñ ‚Äú0X‚Äù ÂºÄÂ§¥ÔºåÂ∞Ü‰ª• 16 ‰∏∫Âü∫Êï∞ * Â¶ÇÊûúËØ•ÂèÇÊï∞Â∞è‰∫é 2 ÊàñËÄÖÂ§ß‰∫é 36ÔºåÂàô parseInt() Â∞ÜËøîÂõû NaN„ÄÇ * */ let temporaryString = &apos;123&apos;; num = parseInt(temporaryString); console.log(num); { console.log(parseInt(&quot;10&quot;)); //ËøîÂõû 10 console.log(parseInt(&quot;19&quot;,10)); //ËøîÂõû 19 : 10 + 9 console.log(parseInt(&quot;11&quot;,2)); //ËøîÂõû 3 : 2 + 1 console.log(parseInt(&quot;17&quot;,8)); //ËøîÂõû 15 : 8 + 7 console.log(parseInt(&quot;1f&quot;,16)); //ËøîÂõû 31 : 16 + 15 console.log(parseInt(&quot;010&quot;)); //Êú™ÂÆöÔºöËøîÂõû 10 Êàñ 8 } /* Â∏∏ËßÅÁöÑparseInt‰∏ÄÈÅìÈ¢ò */ { console.log([&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(parseInt)); /* ËøîÂõû[1, NaN, NaN] * map(function(value, index, array) {}) * mapÊñπÊ≥ï‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞‰∏≠ÁöÑ3‰∏™ÂèÇÊï∞ÂÄºÔºåÊØè‰∏™ÂÄºvalueÔºåÁ¥¢ÂºïÂÄºindexÔºåÊï∞ÁªÑÂØπË±°array * ‰∏äÈù¢ÁöÑÁõ∏ÂΩì‰∫éparseInt(&apos;1&apos;, 0)„ÄÅparseInt(&apos;2&apos;, 1)„ÄÅparseInt(&apos;3&apos;, 2) * */ } /* NumberÂº∫ËΩ¨ */ num = Number(&apos;12345&apos;); console.log(num); }]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSÂéüÁîüÂ∏∏Áî®APIÂ§ßÂÖ®]]></title>
    <url>%2F2015%2F01%2F01%2FJS%E5%8E%9F%E7%94%9F%E5%B8%B8%E7%94%A8API%E5%A4%A7%E5%85%A8%2F</url>
    <content type="text"><![CDATA[12345var a=&#123;n:1&#125;;var b=a;a.x=a.y=a=&#123;n:2&#125;; //a.x=&#123;n:2&#125;,a.y=&#123;n:2&#125;,Ê≠§Êó∂aËøòÊòØ&#123;n:1&#125;,a=&#123;n:2&#125;console.log(a); // &#123;n: 2&#125;console.log(b); //&#123;n: 1, y: &#123;‚Ä¶&#125;, x: &#123;‚Ä¶&#125;&#125; ÂéüÁîüJS API123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390‰∏Ä„ÄÅËäÇÁÇπ1.1 ËäÇÁÇπÂ±ûÊÄßNode.nodeName //ËøîÂõûËäÇÁÇπÂêçÁß∞ÔºåÂè™ËØªNode.nodeType //ËøîÂõûËäÇÁÇπÁ±ªÂûãÁöÑÂ∏∏Êï∞ÂÄºÔºåÂè™ËØªNode.nodeValue //ËøîÂõûTextÊàñCommentËäÇÁÇπÁöÑÊñáÊú¨ÂÄºÔºåÂè™ËØªNode.textContent //ËøîÂõûÂΩìÂâçËäÇÁÇπÂíåÂÆÉÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπÔºåÂèØËØªÂÜôNode.baseURI //ËøîÂõûÂΩìÂâçÁΩëÈ°µÁöÑÁªùÂØπË∑ØÂæÑNode.ownerDocument //ËøîÂõûÂΩìÂâçËäÇÁÇπÊâÄÂú®ÁöÑÈ°∂Â±ÇÊñáÊ°£ÂØπË±°ÔºåÂç≥documentNode.nextSibling //ËøîÂõûÁ¥ßË∑üÂú®ÂΩìÂâçËäÇÁÇπÂêéÈù¢ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπNode.previousSibling //ËøîÂõûÂΩìÂâçËäÇÁÇπÂâçÈù¢ÁöÑ„ÄÅË∑ùÁ¶ªÊúÄËøëÁöÑ‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπNode.parentNode //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁà∂ËäÇÁÇπNode.parentElement //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁà∂ElementËäÇÁÇπNode.childNodes //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊâÄÊúâÂ≠êËäÇÁÇπNode.firstChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™Â≠êËäÇÁÇπNode.lastChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπ//parentNodeÊé•Âè£Node.children //ËøîÂõûÊåáÂÆöËäÇÁÇπÁöÑÊâÄÊúâElementÂ≠êËäÇÁÇπNode.firstElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπNode.lastElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπNode.childElementCount //ËøîÂõûÂΩìÂâçËäÇÁÇπÊâÄÊúâElementÂ≠êËäÇÁÇπÁöÑÊï∞ÁõÆ„ÄÇ1.2 Êìç‰ΩúNode.appendChild(node) //ÂêëËäÇÁÇπÊ∑ªÂä†ÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπNode.hasChildNodes() //ËøîÂõûÂ∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçËäÇÁÇπÊòØÂê¶ÊúâÂ≠êËäÇÁÇπNode.cloneNode(true); // ÈªòËÆ§‰∏∫false(ÂÖãÈöÜËäÇÁÇπ), true(ÂÖãÈöÜËäÇÁÇπÂèäÂÖ∂Â±ûÊÄßÔºå‰ª•ÂèäÂêé‰ª£)Node.insertBefore(newNode,oldNode) // Âú®ÊåáÂÆöÂ≠êËäÇÁÇπ‰πãÂâçÊèíÂÖ•Êñ∞ÁöÑÂ≠êËäÇÁÇπNode.removeChild(node) //Âà†Èô§ËäÇÁÇπÔºåÂú®Ë¶ÅÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ‰∏äÊìç‰ΩúNode.replaceChild(newChild,oldChild) //ÊõøÊç¢ËäÇÁÇπNode.contains(node) //ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂèÇÊï∞ËäÇÁÇπÊòØÂê¶‰∏∫ÂΩìÂâçËäÇÁÇπÁöÑÂêé‰ª£ËäÇÁÇπ„ÄÇNode.compareDocumentPosition(node) //ËøîÂõû‰∏Ä‰∏™7‰∏™ÊØîÁâπ‰ΩçÁöÑ‰∫åËøõÂà∂ÂÄºÔºåË°®Á§∫ÂèÇÊï∞ËäÇÁÇπÂíåÂΩìÂâçËäÇÁÇπÁöÑÂÖ≥Á≥ªNode.isEqualNode(noe) //ËøîÂõûÂ∏ÉÂ∞îÂÄºÔºåÁî®‰∫éÊ£ÄÊü•‰∏§‰∏™ËäÇÁÇπÊòØÂê¶Áõ∏Á≠â„ÄÇÊâÄË∞ìÁõ∏Á≠âÁöÑËäÇÁÇπÔºåÊåáÁöÑÊòØ‰∏§‰∏™ËäÇÁÇπÁöÑÁ±ªÂûãÁõ∏Âêå„ÄÅÂ±ûÊÄßÁõ∏Âêå„ÄÅÂ≠êËäÇÁÇπÁõ∏Âêå„ÄÇNode.normalize() //Áî®‰∫éÊ∏ÖÁêÜÂΩìÂâçËäÇÁÇπÂÜÖÈÉ®ÁöÑÊâÄÊúâTextËäÇÁÇπ„ÄÇÂÆÉ‰ºöÂéªÈô§Á©∫ÁöÑÊñáÊú¨ËäÇÁÇπÔºåÂπ∂‰∏îÂ∞ÜÊØóÈÇªÁöÑÊñáÊú¨ËäÇÁÇπÂêàÂπ∂Êàê‰∏Ä‰∏™„ÄÇ//ChildNodeÊé•Âè£Node.remove() //Áî®‰∫éÂà†Èô§ÂΩìÂâçËäÇÁÇπNode.before() //Node.after()Node.replaceWith()1.3 DocumentËäÇÁÇπ1.3.1 DocumentËäÇÁÇπÁöÑÂ±ûÊÄßdocument.doctype //document.documentElement //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊ†πËäÇÁÇπdocument.defaultView //ËøîÂõûdocumentÂØπË±°ÊâÄÂú®ÁöÑwindowÂØπË±°document.body //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑ&lt;body&gt;ËäÇÁÇπdocument.head //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑ&lt;head&gt;ËäÇÁÇπdocument.activeElement //ËøîÂõûÂΩìÂâçÊñáÊ°£‰∏≠Ëé∑ÂæóÁÑ¶ÁÇπÁöÑÈÇ£‰∏™ÂÖÉÁ¥†„ÄÇ//ËäÇÁÇπÈõÜÂêàÂ±ûÊÄßdocument.links //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊâÄÊúâaÂÖÉÁ¥†document.forms //ËøîÂõûÈ°µÈù¢‰∏≠ÊâÄÊúâË°®ÂçïÂÖÉÁ¥†document.images //ËøîÂõûÈ°µÈù¢‰∏≠ÊâÄÊúâÂõæÁâáÂÖÉÁ¥†document.embeds //ËøîÂõûÁΩëÈ°µ‰∏≠ÊâÄÊúâÂµåÂÖ•ÂØπË±°document.scripts //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊâÄÊúâËÑöÊú¨document.styleSheets //ËøîÂõûÂΩìÂâçÁΩëÈ°µÁöÑÊâÄÊúâÊ†∑ÂºèË°®//ÊñáÊ°£‰ø°ÊÅØÂ±ûÊÄßdocument.documentURI //Ë°®Á§∫ÂΩìÂâçÊñáÊ°£ÁöÑÁΩëÂùÄdocument.URL //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÁΩëÂùÄdocument.domain //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÂüüÂêçdocument.lastModified //ËøîÂõûÂΩìÂâçÊñáÊ°£ÊúÄÂêé‰øÆÊîπÁöÑÊó∂Èó¥Êà≥document.location //ËøîÂõûlocationÂØπË±°ÔºåÊèê‰æõÂΩìÂâçÊñáÊ°£ÁöÑURL‰ø°ÊÅØdocument.referrer //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑËÆøÈóÆÊù•Ê∫êdocument.title //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÊ†áÈ¢òdocument.characterSetÂ±ûÊÄßËøîÂõûÊ∏≤ÊüìÂΩìÂâçÊñáÊ°£ÁöÑÂ≠óÁ¨¶ÈõÜÔºåÊØîÂ¶ÇUTF-8„ÄÅISO-8859-1„ÄÇdocument.readyState //ËøîÂõûÂΩìÂâçÊñáÊ°£ÁöÑÁä∂ÊÄÅdocument.designMode //ÊéßÂà∂ÂΩìÂâçÊñáÊ°£ÊòØÂê¶ÂèØÁºñËæëÔºåÂèØËØªÂÜôdocument.compatMode //ËøîÂõûÊµèËßàÂô®Â§ÑÁêÜÊñáÊ°£ÁöÑÊ®°Âºèdocument.cookie //Áî®Êù•Êìç‰ΩúCookie1.3.2 DocumentËäÇÁÇπÁöÑÊñπÊ≥ïÔºà1ÔºâËØªÂÜôÊñπÊ≥ïdocument.open() //Áî®‰∫éÊñ∞Âª∫Âπ∂ÊâìÂºÄ‰∏Ä‰∏™ÊñáÊ°£document.close() //‰∏çÂÆâÊØîopenÊñπÊ≥ïÊâÄÊñ∞Âª∫ÁöÑÊñáÊ°£document.write() //Áî®‰∫éÂêëÂΩìÂâçÊñáÊ°£ÂÜôÂÖ•ÂÜÖÂÆπdocument.writeIn() //Áî®‰∫éÂêëÂΩìÂâçÊñáÊ°£ÂÜôÂÖ•ÂÜÖÂÆπÔºåÂ∞æÈÉ®Ê∑ªÂä†Êç¢Ë°åÁ¨¶„ÄÇÔºà2ÔºâÊü•ÊâæËäÇÁÇπdocument.querySelector(selectors) //Êé•Âèó‰∏Ä‰∏™CSSÈÄâÊã©Âô®‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûÁ¨¨‰∏Ä‰∏™ÂåπÈÖçËØ•ÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇdocument.querySelectorAll(selectors) //Êé•Âèó‰∏Ä‰∏™CSSÈÄâÊã©Âô®‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûÊâÄÊúâÂåπÈÖçËØ•ÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇdocument.getElementsByTagName(tagName) //ËøîÂõûÊâÄÊúâÊåáÂÆöHTMLÊ†áÁ≠æÁöÑÂÖÉÁ¥†document.getElementsByClassName(className) //ËøîÂõûÂåÖÊã¨‰∫ÜÊâÄÊúâclassÂêçÂ≠óÁ¨¶ÂêàÊåáÂÆöÊù°‰ª∂ÁöÑÂÖÉÁ¥†document.getElementsByName(name) //Áî®‰∫éÈÄâÊã©Êã•ÊúânameÂ±ûÊÄßÁöÑHTMLÂÖÉÁ¥†ÔºàÊØîÂ¶Ç&lt;form&gt;„ÄÅ&lt;radio&gt;„ÄÅ&lt;img&gt;„ÄÅ&lt;frame&gt;„ÄÅ&lt;embed&gt;Âíå&lt;object&gt;Á≠âÔºâdocument.getElementById(id) //ËøîÂõûÂåπÈÖçÊåáÂÆöidÂ±ûÊÄßÁöÑÂÖÉÁ¥†ËäÇÁÇπ„ÄÇdocument.elementFromPoint(x,y) //ËøîÂõû‰Ωç‰∫éÈ°µÈù¢ÊåáÂÆö‰ΩçÁΩÆÊúÄ‰∏äÂ±ÇÁöÑElementÂ≠êËäÇÁÇπ„ÄÇÔºà3ÔºâÁîüÊàêËäÇÁÇπdocument.createElement(tagName) //Áî®Êù•ÁîüÊàêHTMLÂÖÉÁ¥†ËäÇÁÇπ„ÄÇdocument.createTextNode(text) //Áî®Êù•ÁîüÊàêÊñáÊú¨ËäÇÁÇπdocument.createAttribute(name) //ÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂ±ûÊÄßÂØπË±°ËäÇÁÇπÔºåÂπ∂ËøîÂõûÂÆÉ„ÄÇdocument.createDocumentFragment() //ÁîüÊàê‰∏Ä‰∏™DocumentFragmentÂØπË±°Ôºà4Ôºâ‰∫ã‰ª∂ÊñπÊ≥ïdocument.createEvent(type) //ÁîüÊàê‰∏Ä‰∏™‰∫ã‰ª∂ÂØπË±°ÔºåËØ•ÂØπË±°ËÉΩË¢´element.dispatchEvent()ÊñπÊ≥ï‰ΩøÁî®document.addEventListener(type,listener,capture) //Ê≥®ÂÜå‰∫ã‰ª∂document.removeEventListener(type,listener,capture) //Ê≥®ÈîÄ‰∫ã‰ª∂document.dispatchEvent(event) //Ëß¶Âèë‰∫ã‰ª∂Ôºà5ÔºâÂÖ∂‰ªñdocument.hasFocus() //ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçÊñáÊ°£‰πã‰∏≠ÊòØÂê¶ÊúâÂÖÉÁ¥†Ë¢´ÊøÄÊ¥ªÊàñËé∑ÂæóÁÑ¶ÁÇπ„ÄÇdocument.adoptNode(externalNode) //Â∞ÜÊüê‰∏™ËäÇÁÇπÔºå‰ªéÂÖ∂ÂéüÊù•ÊâÄÂú®ÁöÑÊñáÊ°£ÁßªÈô§ÔºåÊèíÂÖ•ÂΩìÂâçÊñáÊ°£ÔºåÂπ∂ËøîÂõûÊèíÂÖ•ÂêéÁöÑÊñ∞ËäÇÁÇπ„ÄÇdocument.importNode(externalNode, deep) //‰ªéÂ§ñÈÉ®ÊñáÊ°£Êã∑Ë¥ùÊåáÂÆöËäÇÁÇπÔºåÊèíÂÖ•ÂΩìÂâçÊñáÊ°£„ÄÇ1.4 ElementËäÇÁÇπ1.4.1 ElementËäÇÁÇπÁöÑÂ±ûÊÄßÔºà1ÔºâÁâπÊÄßÂ±ûÊÄßElement.attributes //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâÂ±ûÊÄßËäÇÁÇπElement.id //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑidÂ±ûÊÄßÔºåÂèØËØªÂÜôElement.tagName //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑÂ§ßÂÜôÊ†áÁ≠æÂêçElement.innerHTML //ËøîÂõûËØ•ÂÖÉÁ¥†ÂåÖÂê´ÁöÑHTML‰ª£Á†ÅÔºåÂèØËØªÂÜôElement.outerHTML //ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâHTML‰ª£Á†ÅÔºåÂåÖÊã¨ÂÆÉËá™Ë∫´ÂíåÂåÖÂê´ÁöÑÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†ÔºåÂèØËØªÂÜôElement.className //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ÁöÑclassÂ±ûÊÄßÔºåÂèØËØªÂÜôElement.classList //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâclassÈõÜÂêàElement.dataset //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπ‰∏≠ÊâÄÊúâÁöÑdata-*Â±ûÊÄß„ÄÇÔºà2ÔºâÂ∞∫ÂØ∏Â±ûÊÄßElement.clientHeight //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂèØËßÅÈÉ®ÂàÜÁöÑÈ´òÂ∫¶Element.clientWidth //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂèØËßÅÈÉ®ÂàÜÁöÑÂÆΩÂ∫¶Element.clientLeft //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÂ∑¶ËæπÊ°ÜÁöÑÂÆΩÂ∫¶Element.clientTop //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÈ°∂ÈÉ®ËæπÊ°ÜÁöÑÂÆΩÂ∫¶Element.scrollHeight //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊÄªÈ´òÂ∫¶Element.scrollWidth //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊÄªÂÆΩÂ∫¶Element.scrollLeft //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÊ∞¥Âπ≥ÊªöÂä®Êù°ÂêëÂè≥ÊªöÂä®ÁöÑÂÉèÁ¥†Êï∞ÂÄº,ÈÄöËøáËÆæÁΩÆËøô‰∏™Â±ûÊÄßÂèØ‰ª•ÊîπÂèòÂÖÉÁ¥†ÁöÑÊªöÂä®‰ΩçÁΩÆElement.scrollTop //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑÂûÇÁõ¥ÊªöÂä®Âêë‰∏ãÊªöÂä®ÁöÑÂÉèÁ¥†Êï∞ÂÄºElement.offsetHeight //ËøîÂõûÂÖÉÁ¥†ÁöÑÂûÇÁõ¥È´òÂ∫¶(ÂåÖÂê´border,padding)Element.offsetWidth //ËøîÂõûÂÖÉÁ¥†ÁöÑÊ∞¥Âπ≥ÂÆΩÂ∫¶(ÂåÖÂê´border,padding)Element.offsetLeft //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†Â∑¶‰∏äËßíÁõ∏ÂØπ‰∫éElement.offsetParentËäÇÁÇπÁöÑÂûÇÁõ¥ÂÅèÁßªElement.offsetTop //ËøîÂõûÊ∞¥Âπ≥‰ΩçÁßªElement.style //ËøîÂõûÂÖÉÁ¥†ËäÇÁÇπÁöÑË°åÂÜÖÊ†∑ÂºèÔºà3ÔºâËäÇÁÇπÁõ∏ÂÖ≥Â±ûÊÄßElement.children //ÂåÖÊã¨ÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†Element.childElementCount //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÂåÖÂê´ÁöÑÂ≠êHTMLÂÖÉÁ¥†ËäÇÁÇπÁöÑ‰∏™Êï∞Element.firstElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÁ¨¨‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Element.lastElementChild //ËøîÂõûÂΩìÂâçËäÇÁÇπÁöÑÊúÄÂêé‰∏Ä‰∏™ElementÂ≠êËäÇÁÇπ Element.nextElementSibling //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÑÂºüHTMLÂÖÉÁ¥†ËäÇÁÇπElement.previousElementSibling //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÂâç‰∏Ä‰∏™ÂÖÑÂºüHTMLËäÇÁÇπElement.offsetParent //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÁöÑÊúÄÈù†ËøëÁöÑ„ÄÅÂπ∂‰∏îCSSÁöÑpositionÂ±ûÊÄß‰∏çÁ≠â‰∫éstaticÁöÑÁà∂ÂÖÉÁ¥†„ÄÇ1.4.2 ElementËäÇÁÇπÁöÑÊñπÊ≥ïÔºà1Ôºâ‰ΩçÁΩÆÊñπÊ≥ïgetBoundingClientRect() // getBoundingClientRectËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´top,left,right,bottom,width,height // width„ÄÅheight ÂÖÉÁ¥†Ëá™Ë∫´ÂÆΩÈ´ò// top ÂÖÉÁ¥†‰∏äÂ§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª// right ÂÖÉÁ¥†Âè≥Â§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª// bottom ÂÖÉÁ¥†‰∏ãÂ§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª// left ÂÖÉÁ¥†Â∑¶Â§ñËæπÁïåË∑ùÁ™óÂè£ÊúÄ‰∏äÈù¢ÁöÑË∑ùÁ¶ª// width ÂÖÉÁ¥†Ëá™Ë∫´ÂÆΩ(ÂåÖÂê´border,padding) // height ÂÖÉÁ¥†Ëá™Ë∫´È´ò(ÂåÖÂê´border,padding) getClientRects() //ËøîÂõûÂΩìÂâçÂÖÉÁ¥†Âú®È°µÈù¢‰∏äÂΩ¢ÂèÇÁöÑÊâÄÊúâÁü©ÂΩ¢„ÄÇ// ÂÖÉÁ¥†Âú®È°µÈù¢‰∏äÁöÑÂÅèÁßªÈáè var rect = el.getBoundingClientRect() return &#123; top: rect.top + document.body.scrollTop, left: rect.left + document.body.scrollLeft &#125;Ôºà2ÔºâÂ±ûÊÄßÊñπÊ≥ïElement.getAttribute()ÔºöËØªÂèñÊåáÂÆöÂ±ûÊÄß Element.setAttribute()ÔºöËÆæÁΩÆÊåáÂÆöÂ±ûÊÄß Element.hasAttribute()ÔºöËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπÊòØÂê¶ÊúâÊåáÂÆöÁöÑÂ±ûÊÄß Element.removeAttribute()ÔºöÁßªÈô§ÊåáÂÆöÂ±ûÊÄßÔºà3ÔºâÊü•ÊâæÊñπÊ≥ïElement.querySelector() Element.querySelectorAll() Element.getElementsByTagName() Element.getElementsByClassName()Ôºà4Ôºâ‰∫ã‰ª∂ÊñπÊ≥ïElement.addEventListener()ÔºöÊ∑ªÂä†‰∫ã‰ª∂ÁöÑÂõûË∞ÉÂáΩÊï∞ Element.removeEventListener()ÔºöÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨ÂáΩÊï∞ Element.dispatchEvent()ÔºöËß¶Âèë‰∫ã‰ª∂//ie8Element.attachEvent(oneventName,listener)Element.detachEvent(oneventName,listener)// eventÂØπË±° var event = window.event||event; // ‰∫ã‰ª∂ÁöÑÁõÆÊ†áËäÇÁÇπ var target = event.target || event.srcElement;// ‰∫ã‰ª∂‰ª£ÁêÜ ul.addEventListener(&apos;click&apos;, function(event) &#123; if (event.target.tagName.toLowerCase() === &apos;li&apos;) &#123; console.log(event.target.innerHTML) &#125; &#125;);Ôºà5ÔºâÂÖ∂‰ªñElement.scrollIntoView() //ÊªöÂä®ÂΩìÂâçÂÖÉÁ¥†ÔºåËøõÂÖ•ÊµèËßàÂô®ÁöÑÂèØËßÅÂå∫Âüü//Ëß£ÊûêHTMLÂ≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂ∞ÜÁîüÊàêÁöÑËäÇÁÇπÊèíÂÖ•DOMÊ†ëÁöÑÊåáÂÆö‰ΩçÁΩÆ„ÄÇElement.insertAdjacentHTML(where, htmlString); Element.insertAdjacentHTML(&apos;beforeBegin&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÂâçÊèíÂÖ• Element.insertAdjacentHTML(&apos;afterBegin&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†Á¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂâçÊèíÂÖ• Element.insertAdjacentHTML(&apos;beforeEnd&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÂêéÈù¢ÊèíÂÖ• Element.insertAdjacentHTML(&apos;afterEnd&apos;, htmlString); // Âú®ËØ•ÂÖÉÁ¥†ÂêéÊèíÂÖ•Element.remove() //Áî®‰∫éÂ∞ÜÂΩìÂâçÂÖÉÁ¥†ËäÇÁÇπ‰ªéDOM‰∏≠ÁßªÈô§Element.focus() //Áî®‰∫éÂ∞ÜÂΩìÂâçÈ°µÈù¢ÁöÑÁÑ¶ÁÇπÔºåËΩ¨ÁßªÂà∞ÊåáÂÆöÂÖÉÁ¥†‰∏ä‰∫å„ÄÅCSSÊìç‰ΩúÔºà1ÔºâÁ±ªÂêçÊìç‰Ωú//ie8‰ª•‰∏ãElement.className //Ëé∑ÂèñÂÖÉÁ¥†ËäÇÁÇπÁöÑÁ±ªÂêçElement.className += &apos; &apos; + newClassName //Êñ∞Â¢û‰∏Ä‰∏™Á±ªÂêç//Âà§Êñ≠ÊòØÂê¶ÊúâÊüê‰∏™Á±ªÂêçfunction hasClass(element,className)&#123; return new RegExp(className,&apos;gi&apos;).test(element.className);&#125;//ÁßªÈô§classfunction removeClass(element,className)&#123; element.className = element.className.replace(new RegExp(&apos;(^|\\b)&apos; + className.split(&apos; &apos;).join(&apos;|&apos;) + &apos;(\\b|$)&apos;, &apos;gi&apos;),&apos;&apos;);&#125;//ie10 element.classList.add(className) //Êñ∞Â¢ûelement.classList.remove(className) //Âà†Èô§element.classList.contains(className) //ÊòØÂê¶ÂåÖÂê´element.classList.toggle(className) //toggle classÔºà2ÔºâstyleÊìç‰Ωúelement.setAttribute(&apos;style&apos;,&apos;&apos;)element.style.backgroundColor = &apos;red&apos;element.style.cssText //Áî®Êù•ËØªÂÜôÊàñÂà†Èô§Êï¥‰∏™styleÂ±ûÊÄßelement.style.setProperty(propertyName,value) //ËÆæÁΩÆcssÂ±ûÊÄßelement.style.getPropertyValue(property) //Ëé∑ÂèñcssÂ±ûÊÄßelement.style.removeProperty(property) //Âà†Èô§cssÂ±ûÊÄßÊìç‰ΩúÈùûÂÜÖËÅîÊ†∑Âºè//ie8element.currentStyle[attrName]//ie9+window.getComputedStyle(el,null)[attrName] window.getComputedStyle(el,null).getPropertyValue(attrName)//‰º™Á±ªwindow.getComputedStyle(el,&apos;:after&apos;)[attrName]‰∏â„ÄÅÂØπË±°3.1 ObjectÂØπË±°Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±°var o = new Object()Ôºà2ÔºâÂ±ûÊÄßObject.prototype //ËøîÂõûÂéüÂûãÂØπË±°Ôºà3ÔºâÊñπÊ≥ïObject.keys(o) //ÈÅçÂéÜÂØπË±°ÁöÑÂèØÊûö‰∏æÂ±ûÊÄßObject.getOwnPropertyName(o) //ÈÅçÂéÜÂØπË±°‰∏çÂèØÊûö‰∏æÁöÑÂ±ûÊÄßÂØπË±°ÂÆû‰æãÁöÑÊñπÊ≥ïvalueOf()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂÄº„ÄÇ toString()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè„ÄÇ toLocaleString()ÔºöËøîÂõûÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÊú¨Âú∞Â≠óÁ¨¶‰∏≤ÂΩ¢Âºè„ÄÇ hasOwnProperty()ÔºöÂà§Êñ≠Êüê‰∏™Â±ûÊÄßÊòØÂê¶‰∏∫ÂΩìÂâçÂØπË±°Ëá™Ë∫´ÁöÑÂ±ûÊÄßÔºåËøòÊòØÁªßÊâøËá™ÂéüÂûãÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ isPrototypeOf()ÔºöÂà§Êñ≠ÂΩìÂâçÂØπË±°ÊòØÂê¶‰∏∫Âè¶‰∏Ä‰∏™ÂØπË±°ÁöÑÂéüÂûã„ÄÇpropertyIsEnumerable()ÔºöÂà§Êñ≠Êüê‰∏™Â±ûÊÄßÊòØÂê¶ÂèØÊûö‰∏æ„ÄÇ3.2 ArrayÂØπË±°Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±°var a = new Array()Ôºà2ÔºâÂ±ûÊÄßa.length //ÈïøÂ∫¶Ôºà3ÔºâArray.isArray()Array.isArray(a) //Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÄºÊòØÂê¶‰∏∫Êï∞ÁªÑÔºà4ÔºâArrayÂÆû‰æãÁöÑÊñπÊ≥ï[1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot;a.valueof() //ËøîÂõûÊï∞ÁªÑÊú¨Ë∫´a.toString() //ËøîÂõûÊï∞ÁªÑÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºèa.push(value,vlaue....) //Áî®‰∫éÂú®Êï∞ÁªÑÁöÑÊú´Á´ØÊ∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûÊ∑ªÂä†Êñ∞ÂÖÉÁ¥†ÂêéÁöÑÊï∞ÁªÑÈïøÂ∫¶„ÄÇpop() //Áî®‰∫éÂà†Èô§Êï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûËØ•ÂÖÉÁ¥†join() //‰ª•ÂèÇÊï∞‰Ωú‰∏∫ÂàÜÈöîÁ¨¶ÔºåÂ∞ÜÊâÄÊúâÊï∞ÁªÑÊàêÂëòÁªÑÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇÂ¶ÇÊûú‰∏çÊèê‰æõÂèÇÊï∞ÔºåÈªòËÆ§Áî®ÈÄóÂè∑ÂàÜÈöî„ÄÇconcat() //Áî®‰∫éÂ§ö‰∏™Êï∞ÁªÑÁöÑÂêàÂπ∂„ÄÇÂÆÉÂ∞ÜÊñ∞Êï∞ÁªÑÁöÑÊàêÂëòÔºåÊ∑ªÂä†Âà∞ÂéüÊï∞ÁªÑÁöÑÂ∞æÈÉ®ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂéüÊï∞ÁªÑ‰∏çÂèò„ÄÇshift() //Áî®‰∫éÂà†Èô§Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûËØ•ÂÖÉÁ¥†„ÄÇunshift(value) //Áî®‰∫éÂú®Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆÊ∑ªÂä†ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûÊ∑ªÂä†Êñ∞ÂÖÉÁ¥†ÂêéÁöÑÊï∞ÁªÑÈïøÂ∫¶„ÄÇreverse() //Áî®‰∫éÈ¢†ÂÄíÊï∞ÁªÑ‰∏≠ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÔºåËøîÂõûÊîπÂèòÂêéÁöÑÊï∞ÁªÑslice(start_index, upto_index); //Áî®‰∫éÊèêÂèñÂéüÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂéüÊï∞ÁªÑ‰∏çÂèò„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Ëµ∑Âßã‰ΩçÁΩÆÔºà‰ªé0ÂºÄÂßãÔºâÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÁªàÊ≠¢‰ΩçÁΩÆÔºà‰ΩÜËØ•‰ΩçÁΩÆÁöÑÂÖÉÁ¥†Êú¨Ë∫´‰∏çÂåÖÊã¨Âú®ÂÜÖÔºâ„ÄÇÂ¶ÇÊûúÁúÅÁï•Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂàô‰∏ÄÁõ¥ËøîÂõûÂà∞ÂéüÊï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÊàêÂëò„ÄÇË¥üÊï∞Ë°®Á§∫ÂÄíÊï∞Á¨¨Âá†‰∏™„ÄÇsplice(index, count_to_remove, addElement1, addElement2, ...); //Áî®‰∫éÂà†Èô§ÂéüÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜÊàêÂëòÔºåÂπ∂ÂèØ‰ª•Âú®Ë¢´Âà†Èô§ÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÂÖ•Êñ∞ÁöÑÊï∞ÁªÑÊàêÂëòÔºåËøîÂõûÂÄºÊòØË¢´Âà†Èô§ÁöÑÂÖÉÁ¥†„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂà†Èô§ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØË¢´Âà†Èô§ÁöÑÂÖÉÁ¥†‰∏™Êï∞„ÄÇÂ¶ÇÊûúÂêéÈù¢ËøòÊúâÊõ¥Â§öÁöÑÂèÇÊï∞ÔºåÂàôË°®Á§∫Ëøô‰∫õÂ∞±ÊòØË¶ÅË¢´ÊèíÂÖ•Êï∞ÁªÑÁöÑÊñ∞ÂÖÉÁ¥†„ÄÇsort() //ÂØπÊï∞ÁªÑÊàêÂëòËøõË°åÊéíÂ∫èÔºåÈªòËÆ§ÊòØÊåâÁÖßÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫è„ÄÇÊéíÂ∫èÂêéÔºåÂéüÊï∞ÁªÑÂ∞ÜË¢´ÊîπÂèò„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©sortÊñπÊ≥ïÊåâÁÖßËá™ÂÆö‰πâÊñπÂºèÊéíÂ∫èÔºåÂèØ‰ª•‰º†ÂÖ•‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåË°®Á§∫ÊåâÁÖßËá™ÂÆö‰πâÊñπÊ≥ïËøõË°åÊéíÂ∫è„ÄÇËØ•ÂáΩÊï∞Êú¨Ë∫´ÂèàÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ËøõË°åÊØîËæÉÁöÑ‰∏§‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúËøîÂõûÂÄºÂ§ß‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊéíÂú®Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂêéÈù¢ÔºõÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãÔºåÈÉΩÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊéíÂú®Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂâçÈù¢„ÄÇmap() //ÂØπÊï∞ÁªÑÁöÑÊâÄÊúâÊàêÂëò‰æùÊ¨°Ë∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊ†πÊçÆÂáΩÊï∞ÁªìÊûúËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ„ÄÇmap(elem,index,arr) //mapÊñπÊ≥ïÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËØ•ÂáΩÊï∞Ë∞ÉÁî®Êó∂ÔºåmapÊñπÊ≥ï‰ºöÂ∞ÜÂÖ∂‰º†ÂÖ•‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØÂΩìÂâçÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÂíåÊï∞ÁªÑÊú¨Ë∫´„ÄÇforEach() //ÈÅçÂéÜÊï∞ÁªÑÁöÑÊâÄÊúâÊàêÂëòÔºåÊâßË°åÊüêÁßçÊìç‰Ωú,ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÂÄº„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÁºñÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇfilter() //ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûú‰∏∫trueÁöÑÊàêÂëòÁªÑÊàê‰∏Ä‰∏™Êñ∞Êï∞ÁªÑËøîÂõû„ÄÇËØ•ÊñπÊ≥ï‰∏ç‰ºöÊîπÂèòÂéüÊï∞ÁªÑ„ÄÇsome() //Áî®Êù•Âà§Êñ≠Êï∞ÁªÑÊàêÂëòÊòØÂê¶Á¨¶ÂêàÊüêÁßçÊù°‰ª∂„ÄÇÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇËØ•ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºå‰æùÊ¨°ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÂ∫èÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Êï∞ÁªÑÊàêÂëòÁöÑËøîÂõûÂÄºÊòØtrueÔºåÂàôÊï¥‰∏™someÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂ∞±ÊòØtrueÔºåÂê¶Âàôfalse„ÄÇevery() //Áî®Êù•Âà§Êñ≠Êï∞ÁªÑÊàêÂëòÊòØÂê¶Á¨¶ÂêàÊüêÁßçÊù°‰ª∂„ÄÇÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊâÄÊúâÊï∞ÁªÑÊàêÂëò‰æùÊ¨°ÊâßË°åËØ•ÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇËØ•ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºå‰æùÊ¨°ÊòØÂΩìÂâç‰ΩçÁΩÆÁöÑÊàêÂëò„ÄÅÂΩìÂâç‰ΩçÁΩÆÁöÑÂ∫èÂè∑ÂíåÊï¥‰∏™Êï∞ÁªÑ„ÄÇÊâÄÊúâÊï∞ÁªÑÊàêÂëòÁöÑËøîÂõûÂÄºÈÉΩÊòØtrueÔºåÊâçËøîÂõûtrueÔºåÂê¶Âàôfalse„ÄÇreduce() //‰æùÊ¨°Â§ÑÁêÜÊï∞ÁªÑÁöÑÊØè‰∏™ÊàêÂëòÔºåÊúÄÁªàÁ¥ØËÆ°‰∏∫‰∏Ä‰∏™ÂÄº„ÄÇ‰ªéÂ∑¶Âà∞Âè≥Â§ÑÁêÜÔºà‰ªéÁ¨¨‰∏Ä‰∏™ÊàêÂëòÂà∞ÊúÄÂêé‰∏Ä‰∏™ÊàêÂëòÔºâreduceRight() //‰æùÊ¨°Â§ÑÁêÜÊï∞ÁªÑÁöÑÊØè‰∏™ÊàêÂëòÔºåÊúÄÁªàÁ¥ØËÆ°‰∏∫‰∏Ä‰∏™ÂÄº„ÄÇ‰ªéÂè≥Âà∞Â∑¶Ôºà‰ªéÊúÄÂêé‰∏Ä‰∏™ÊàêÂëòÂà∞Á¨¨‰∏Ä‰∏™ÊàêÂëòÔºâindexOf(s) //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠Á¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇÂèØ‰ª•Êé•ÂèóÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ÊêúÁ¥¢ÁöÑÂºÄÂßã‰ΩçÁΩÆlastIndexOf() //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇ3.3 NumberÂØπË±°Ôºà1ÔºâÁîüÊàêÂØπË±°var n = new Number()Ôºà2ÔºâNumberÂØπË±°ÁöÑÂ±ûÊÄßNumber.POSITIVE_INFINITYÔºöÊ≠£ÁöÑÊó†ÈôêÔºåÊåáÂêëInfinity„ÄÇ Number.NEGATIVE_INFINITYÔºöË¥üÁöÑÊó†ÈôêÔºåÊåáÂêë-Infinity„ÄÇ Number.NaNÔºöË°®Á§∫ÈùûÊï∞ÂÄºÔºåÊåáÂêëNaN„ÄÇ Number.MAX_VALUEÔºöË°®Á§∫ÊúÄÂ§ßÁöÑÊ≠£Êï∞ÔºåÁõ∏Â∫îÁöÑÔºåÊúÄÂ∞èÁöÑË¥üÊï∞‰∏∫-Number.MAX_VALUE„ÄÇ Number.MIN_VALUEÔºöË°®Á§∫ÊúÄÂ∞èÁöÑÊ≠£Êï∞ÔºàÂç≥ÊúÄÊé•Ëøë0ÁöÑÊ≠£Êï∞ÔºåÂú®64‰ΩçÊµÆÁÇπÊï∞‰ΩìÁ≥ª‰∏≠‰∏∫5e-324ÔºâÔºåÁõ∏Â∫îÁöÑÔºåÊúÄÊé•Ëøë0ÁöÑË¥üÊï∞‰∏∫-Number.MIN_VALUE„ÄÇ Number.MAX_SAFE_INTEGERÔºöË°®Á§∫ËÉΩÂ§üÁ≤æÁ°ÆË°®Á§∫ÁöÑÊúÄÂ§ßÊï¥Êï∞ÔºåÂç≥9007199254740991„ÄÇ Number.MIN_SAFE_INTEGERÔºöË°®Á§∫ËÉΩÂ§üÁ≤æÁ°ÆË°®Á§∫ÁöÑÊúÄÂ∞èÊï¥Êï∞ÔºåÂç≥-9007199254740991„ÄÇÔºà4ÔºâNumberÂØπË±°ÂÆû‰æãÁöÑÊñπÊ≥ïtoString() //Áî®Êù•Â∞Ü‰∏Ä‰∏™Êï∞ÂÄºËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤ÂΩ¢Âºè.ÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ËæìÂá∫ÁöÑËøõÂà∂„ÄÇÂ¶ÇÊûúÁúÅÁï•Ëøô‰∏™ÂèÇÊï∞ÔºåÈªòËÆ§Â∞ÜÊï∞ÂÄºÂÖàËΩ¨‰∏∫ÂçÅËøõÂà∂ÔºåÂÜçËæìÂá∫Â≠óÁ¨¶‰∏≤ÔºõÂê¶ÂàôÔºåÂ∞±Ê†πÊçÆÂèÇÊï∞ÊåáÂÆöÁöÑËøõÂà∂ÔºåÂ∞Ü‰∏Ä‰∏™Êï∞Â≠óËΩ¨ÂåñÊàêÊüê‰∏™ËøõÂà∂ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇtoFixed() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÊåáÂÆö‰ΩçÊï∞ÁöÑÂ∞èÊï∞ÔºåËøîÂõûËøô‰∏™Â∞èÊï∞ÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇtoExponential() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÂΩ¢Âºè„ÄÇÂèØ‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂèÇÊï∞Ë°®Á§∫Â∞èÊï∞ÁÇπÂêéÊúâÊïàÊï∞Â≠óÁöÑ‰ΩçÊï∞ÔºåËåÉÂõ¥‰∏∫0Âà∞20ÔºåË∂ÖÂá∫Ëøô‰∏™ËåÉÂõ¥Ôºå‰ºöÊäõÂá∫‰∏Ä‰∏™RangeError„ÄÇtoPrecision() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ËΩ¨‰∏∫ÊåáÂÆö‰ΩçÊï∞ÁöÑÊúâÊïàÊï∞Â≠ó„ÄÇ3.4 String ÂØπË±°Ôºà1ÔºâÁîüÊàêÂÆû‰æãÂØπË±°var s = new String()Ôºà2ÔºâStringÂØπË±°ÁöÑÂ±ûÊÄßs.length //ËøîÂõûÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶Ôºà3ÔºâÊñπÊ≥ïs.chatAt(index) //ËøîÂõûÊåáÂÆö‰ΩçÁΩÆÁöÑÂ≠óÁ¨¶ //&quot;123456&quot;[0] == &quot;1&quot;s.fromCharCode() //ËØ•ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØ‰∏ÄÁ≥ªÂàóUnicodeÁ†ÅÁÇπÔºåËøîÂõûÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇs.charCodeAt(index) //ËøîÂõûÁªôÂÆö‰ΩçÁΩÆÂ≠óÁ¨¶ÁöÑUnicodeÁ†ÅÁÇπÔºàÂçÅËøõÂà∂Ë°®Á§∫Ôºâs.concat(s2) //Áî®‰∫éËøûÊé•‰∏§‰∏™Â≠óÁ¨¶‰∏≤s.slice(start,end) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁªìÊùü‰ΩçÁΩÆÔºà‰∏çÂê´ËØ•‰ΩçÁΩÆÔºâ„ÄÇÂ¶ÇÊûúÂèÇÊï∞ÊòØË¥üÂÄºÔºåË°®Á§∫‰ªéÁªìÂ∞æÂºÄÂßãÂÄíÊï∞ËÆ°ÁÆóÁöÑ‰ΩçÁΩÆÔºåÂç≥ËØ•Ë¥üÂÄºÂä†‰∏äÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶„ÄÇs.substring(start,end) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤.Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫Â≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™‰ΩçÁΩÆË°®Á§∫ÁªìÊùü‰ΩçÁΩÆ„ÄÇs.substr(start,length) //Áî®‰∫é‰ªéÂéüÂ≠óÁ¨¶‰∏≤ÂèñÂá∫Â≠êÂ≠óÁ¨¶‰∏≤Âπ∂ËøîÂõûÔºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßã‰ΩçÁΩÆÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË¥üÊï∞ÔºåË°®Á§∫ÂÄíÊï∞ËÆ°ÁÆóÁöÑÂ≠óÁ¨¶‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØË¥üÊï∞ÔºåÂ∞ÜË¢´Ëá™Âä®ËΩ¨‰∏∫0ÔºåÂõ†Ê≠§‰ºöËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇs.indexOf(s) //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Â≠óÁ¨¶‰∏≤‰∏≠Á¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇÂèØ‰ª•Êé•ÂèóÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåË°®Á§∫ÊêúÁ¥¢ÁöÑÂºÄÂßã‰ΩçÁΩÆ s.lastIndexOf() //ËøîÂõûÁªôÂÆöÂÖÉÁ¥†Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÂá∫Áé∞ÂàôËøîÂõû-1„ÄÇs.trim() //Áî®‰∫éÂéªÈô§Â≠óÁ¨¶‰∏≤‰∏§Á´ØÁöÑÁ©∫Ê†ºÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤s.toLowerCase() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â∞èÂÜô,ËøîÂõû‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤Ôºå‰∏çÊîπÂèòÂéüÂ≠óÁ¨¶‰∏≤„ÄÇs.toUpperCase() //ÂÖ®ÈÉ®ËΩ¨‰∏∫Â§ßÂÜôs.localeCompare(s2) //Áî®‰∫éÊØîËæÉ‰∏§‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™Êï¥Êï∞ÔºåÂ¶ÇÊûúÂ∞è‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Â∞è‰∫éÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏≤ÔºõÂ¶ÇÊûúÁ≠â‰∫é0ÔºåË°®Á§∫‰∏§ËÄÖÁõ∏Á≠âÔºõÂ¶ÇÊûúÂ§ß‰∫é0ÔºåË°®Á§∫Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Â§ß‰∫éÁ¨¨‰∫å‰∏™Â≠óÁ¨¶‰∏≤„ÄÇs.match(regexp) //Áî®‰∫éÁ°ÆÂÆöÂéüÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåπÈÖçÊüê‰∏™Â≠êÂ≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÊàêÂëò‰∏∫ÂåπÈÖçÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÔºåÂàôËøîÂõûnull„ÄÇs.search() //ËøîÂõûÂÄº‰∏∫ÂåπÈÖçÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÔºåÂàôËøîÂõû-1„ÄÇs.replace(oldValue,newValue) //Áî®‰∫éÊõøÊç¢ÂåπÈÖçÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂè™ÊõøÊç¢Á¨¨‰∏Ä‰∏™ÂåπÈÖçÔºàÈô§Èùû‰ΩøÁî®Â∏¶Êúâg‰øÆÈ•∞Á¨¶ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºâ„ÄÇs.split() //ÊåâÁÖßÁªôÂÆöËßÑÂàôÂàÜÂâ≤Â≠óÁ¨¶‰∏≤ÔºåËøîÂõû‰∏Ä‰∏™Áî±ÂàÜÂâ≤Âá∫Êù•ÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÁªÑÊàêÁöÑÊï∞ÁªÑ„ÄÇËøòÂèØ‰º†ÂÖ•Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂÜ≥ÂÆö‰∫ÜËøîÂõûÊï∞ÁªÑÁöÑÊàêÂëòÊï∞„ÄÇ3.5 MathÂØπË±°Ôºà1ÔºâÂ±ûÊÄßMath.EÔºöÂ∏∏Êï∞e„ÄÇ Math.LN2Ôºö2ÁöÑËá™ÁÑ∂ÂØπÊï∞„ÄÇ Math.LN10Ôºö10ÁöÑËá™ÁÑ∂ÂØπÊï∞„ÄÇ Math.LOG2EÔºö‰ª•2‰∏∫Â∫ïÁöÑeÁöÑÂØπÊï∞„ÄÇ Math.LOG10EÔºö‰ª•10‰∏∫Â∫ïÁöÑeÁöÑÂØπÊï∞„ÄÇ Math.PIÔºöÂ∏∏Êï∞Pi„ÄÇ Math.SQRT1_2Ôºö0.5ÁöÑÂπ≥ÊñπÊ†π„ÄÇ Math.SQRT2Ôºö2ÁöÑÂπ≥ÊñπÊ†π„ÄÇÔºà2ÔºâÊï∞Â≠¶ÊñπÊ≥ïMath.abs()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÁªùÂØπÂÄº Math.ceil()ÔºöÂêë‰∏äÂèñÊï¥ÔºåÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøîÂõûÂ§ß‰∫éËØ•ÂèÇÊï∞ÁöÑÊúÄÂ∞èÊï¥Êï∞„ÄÇ Math.floor()ÔºöÂêë‰∏ãÂèñÊï¥ Math.max(n,n1,...)ÔºöÂèØÊé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåËøîÂõûÊúÄÂ§ßÂÄº Math.min(n,n1,..)ÔºöÂèØÊé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåËøîÂõûÊúÄÂ∞èÂÄº Math.pow(n,e)ÔºöÊåáÊï∞ËøêÁÆó, ËøîÂõû‰ª•Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Â∫ïÊï∞„ÄÅÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂπÇÁöÑÊåáÊï∞ÂÄº„ÄÇ Math.sqrt()ÔºöËøîÂõûÂèÇÊï∞ÂÄºÁöÑÂπ≥ÊñπÊ†π„ÄÇÂ¶ÇÊûúÂèÇÊï∞ÊòØ‰∏Ä‰∏™Ë¥üÂÄºÔºåÂàôËøîÂõûNaN„ÄÇ Math.log()ÔºöËøîÂõû‰ª•e‰∏∫Â∫ïÁöÑËá™ÁÑ∂ÂØπÊï∞ÂÄº„ÄÇMath.exp()ÔºöËøîÂõûeÁöÑÊåáÊï∞Ôºå‰πüÂ∞±ÊòØÂ∏∏Êï∞eÁöÑÂèÇÊï∞Ê¨°Êñπ„ÄÇMath.round()ÔºöÂõõËàç‰∫îÂÖ• Math.random()ÔºöËøîÂõû0Âà∞1‰πãÈó¥ÁöÑ‰∏Ä‰∏™‰º™ÈöèÊú∫Êï∞ÔºåÂèØËÉΩÁ≠â‰∫é0Ôºå‰ΩÜÊòØ‰∏ÄÂÆöÂ∞è‰∫é1„ÄÇÔºà3Ôºâ‰∏âËßíÂáΩÊï∞ÊñπÊ≥ïMath.sin()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÊ≠£Âº¶ Math.cos()ÔºöËøîÂõûÂèÇÊï∞ÁöÑ‰ΩôÂº¶ Math.tan()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÊ≠£Âàá Math.asin()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèçÊ≠£Âº¶ÔºàÂºßÂ∫¶ÂÄºÔºâ Math.acos()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèç‰ΩôÂº¶ÔºàÂºßÂ∫¶ÂÄºÔºâ Math.atan()ÔºöËøîÂõûÂèÇÊï∞ÁöÑÂèçÊ≠£ÂàáÔºàÂºßÂ∫¶ÂÄºÔºâ3.6 JSONÂØπË±°Ôºà1ÔºâÊñπÊ≥ïJSON.stringify() //Áî®‰∫éÂ∞Ü‰∏Ä‰∏™ÂÄºËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇËØ•Â≠óÁ¨¶‰∏≤Â∫îËØ•Á¨¶ÂêàJSONÊ†ºÂºèÔºåÂπ∂‰∏îÂèØ‰ª•Ë¢´JSON.parseÊñπÊ≥ïËøòÂéü„ÄÇ//ÔºàJSON.stringify(obj, selectedProperties)ÔºâËøòÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Êï∞ÁªÑÔºå‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÊåáÂÆöÈúÄË¶ÅËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ÁöÑÂ±ûÊÄß„ÄÇ//ËøòÂèØ‰ª•Êé•ÂèóÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éÂ¢ûÂä†ËøîÂõûÁöÑJSONÂ≠óÁ¨¶‰∏≤ÁöÑÂèØËØªÊÄß„ÄÇÂ¶ÇÊûúÊòØÊï∞Â≠óÔºåË°®Á§∫ÊØè‰∏™Â±ûÊÄßÂâçÈù¢Ê∑ªÂä†ÁöÑÁ©∫Ê†ºÔºàÊúÄÂ§ö‰∏çË∂ÖËøá10‰∏™ÔºâÔºõÂ¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤Ôºà‰∏çË∂ÖËøá10‰∏™Â≠óÁ¨¶ÔºâÔºåÂàôËØ•Â≠óÁ¨¶‰∏≤‰ºöÊ∑ªÂä†Âú®ÊØèË°åÂâçÈù¢„ÄÇJSON.parse() //Áî®‰∫éÂ∞ÜJSONÂ≠óÁ¨¶‰∏≤ËΩ¨ÂåñÊàêÂØπË±°„ÄÇ3.7 consoleÂØπË±°Ôºà1ÔºâÊñπÊ≥ïconsole.log(text,text2,...) //Áî®‰∫éÂú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØ„ÄÇÂÆÉÂèØ‰ª•Êé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåÂ∞ÜÂÆÉ‰ª¨ÁöÑÁªìÊûúËøûÊé•Ëµ∑Êù•ËæìÂá∫„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊ†ºÂºèÂ≠óÁ¨¶‰∏≤Ôºà‰ΩøÁî®‰∫ÜÊ†ºÂºèÂç†‰ΩçÁ¨¶ÔºâÔºåconsole.logÊñπÊ≥ïÂ∞Ü‰æùÊ¨°Áî®ÂêéÈù¢ÁöÑÂèÇÊï∞ÊõøÊç¢Âç†‰ΩçÁ¨¶ÔºåÁÑ∂ÂêéÂÜçËøõË°åËæìÂá∫„ÄÇconsole.info() //Âú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØÔºåÂêåÊó∂Ôºå‰ºöÂú®ËæìÂá∫‰ø°ÊÅØÁöÑÂâçÈù¢ÔºåÂä†‰∏ä‰∏Ä‰∏™ËìùËâ≤ÂõæÊ†á„ÄÇconsole.debug() //Âú®consoleÁ™óÂè£ËæìÂá∫‰ø°ÊÅØÔºåÂêåÊó∂Ôºå‰ºöÂú®ËæìÂá∫‰ø°ÊÅØÁöÑÂâçÈù¢ÔºåÂä†‰∏ä‰∏Ä‰∏™ËìùËâ≤ÂõæÊ†á„ÄÇconsole.warn() //ËæìÂá∫‰ø°ÊÅØÊó∂ÔºåÂú®ÊúÄÂâçÈù¢Âä†‰∏Ä‰∏™ÈªÑËâ≤‰∏âËßíÔºåË°®Á§∫Ë≠¶ÂëäÔºõconsole.error() //ËæìÂá∫‰ø°ÊÅØÊó∂ÔºåÂú®ÊúÄÂâçÈù¢Âä†‰∏Ä‰∏™Á∫¢Ëâ≤ÁöÑÂèâÔºåË°®Á§∫Âá∫ÈîôÔºåÂêåÊó∂‰ºöÊòæÁ§∫ÈîôËØØÂèëÁîüÁöÑÂ†ÜÊ†àconsole.table() //ÂèØ‰ª•Â∞ÜÂ§çÂêàÁ±ªÂûãÁöÑÊï∞ÊçÆËΩ¨‰∏∫Ë°®Ê†ºÊòæÁ§∫„ÄÇconsole.count() //Áî®‰∫éËÆ°Êï∞ÔºåËæìÂá∫ÂÆÉË¢´Ë∞ÉÁî®‰∫ÜÂ§öÂ∞ëÊ¨°„ÄÇconsole.dir() //Áî®Êù•ÂØπ‰∏Ä‰∏™ÂØπË±°ËøõË°åÊ£ÄÊü•ÔºàinspectÔºâÔºåÂπ∂‰ª•Êòì‰∫éÈòÖËØªÂíåÊâìÂç∞ÁöÑÊ†ºÂºèÊòæÁ§∫„ÄÇconsole.dirxml() //Áî®‰∫é‰ª•ÁõÆÂΩïÊ†ëÁöÑÂΩ¢ÂºèÔºåÊòæÁ§∫DOMËäÇÁÇπ„ÄÇconsole.assert() //Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË°®ËææÂºèÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤„ÄÇÂè™ÊúâÂΩìÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫falseÔºåÊâç‰ºöËæìÂá∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂê¶Âàô‰∏ç‰ºöÊúâ‰ªª‰ΩïÁªìÊûú„ÄÇ//Ëøô‰∏§‰∏™ÊñπÊ≥ïÁî®‰∫éËÆ°Êó∂ÔºåÂèØ‰ª•ÁÆóÂá∫‰∏Ä‰∏™Êìç‰ΩúÊâÄËä±Ë¥πÁöÑÂáÜÁ°ÆÊó∂Èó¥„ÄÇconsole.time()console.timeEnd()//timeÊñπÊ≥ïË°®Á§∫ËÆ°Êó∂ÂºÄÂßãÔºåtimeEndÊñπÊ≥ïË°®Á§∫ËÆ°Êó∂ÁªìÊùü„ÄÇÂÆÉ‰ª¨ÁöÑÂèÇÊï∞ÊòØËÆ°Êó∂Âô®ÁöÑÂêçÁß∞„ÄÇË∞ÉÁî®timeEndÊñπÊ≥ï‰πãÂêéÔºåconsoleÁ™óÂè£‰ºöÊòæÁ§∫‚ÄúËÆ°Êó∂Âô®ÂêçÁß∞: ÊâÄËÄóË¥πÁöÑÊó∂Èó¥‚Äù„ÄÇconsole.profile() //Áî®Êù•Êñ∞Âª∫‰∏Ä‰∏™ÊÄßËÉΩÊµãËØïÂô®ÔºàprofileÔºâÔºåÂÆÉÁöÑÂèÇÊï∞ÊòØÊÄßËÉΩÊµãËØïÂô®ÁöÑÂêçÂ≠ó„ÄÇconsole.profileEnd() //Áî®Êù•ÁªìÊùüÊ≠£Âú®ËøêË°åÁöÑÊÄßËÉΩÊµãËØïÂô®„ÄÇconsole.group()console.groupend()//‰∏äÈù¢Ëøô‰∏§‰∏™ÊñπÊ≥ïÁî®‰∫éÂ∞ÜÊòæÁ§∫ÁöÑ‰ø°ÊÅØÂàÜÁªÑ„ÄÇÂÆÉÂè™Âú®ËæìÂá∫Â§ßÈáè‰ø°ÊÅØÊó∂ÊúâÁî®ÔºåÂàÜÂú®‰∏ÄÁªÑÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•Áî®Èº†Ê†áÊäòÂè†/Â±ïÂºÄ„ÄÇconsole.groupCollapsed() //Áî®‰∫éÂ∞ÜÊòæÁ§∫ÁöÑ‰ø°ÊÅØÂàÜÁªÑÔºåËØ•ÁªÑÁöÑÂÜÖÂÆπÔºåÂú®Á¨¨‰∏ÄÊ¨°ÊòæÁ§∫Êó∂ÊòØÊî∂Ëµ∑ÁöÑÔºàcollapsedÔºâÔºåËÄå‰∏çÊòØÂ±ïÂºÄÁöÑ„ÄÇconsole.trace() //ÊòæÁ§∫ÂΩìÂâçÊâßË°åÁöÑ‰ª£Á†ÅÂú®Â†ÜÊ†à‰∏≠ÁöÑË∞ÉÁî®Ë∑ØÂæÑ„ÄÇconsole.clear() //Áî®‰∫éÊ∏ÖÈô§ÂΩìÂâçÊéßÂà∂Âè∞ÁöÑÊâÄÊúâËæìÂá∫ÔºåÂ∞ÜÂÖâÊ†áÂõûÁΩÆÂà∞Á¨¨‰∏ÄË°å„ÄÇÊ≠£ÂàôË°®ËææÂºèÔºöÂè™ÂÖÅËÆ∏ËæìÂÖ•Ê±âÂ≠óÔºöonkeyup=&quot;value=value.replace(/[^\u4E00-\u9FA5]/g,&apos;&apos;)&quot; Âè™ÂÖÅËÆ∏ËæìÂÖ•Êï∞Â≠óÔºöonkeyup=&quot;this.value=this.value.replace(/\D/g,&apos;&apos;)&quot;[1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot; setTimeout(fn, 0) ÁöÑ‰ΩúÁî® setTimeoutÔºà0ÔºâÂçïÁ∫øÁ®ãÂíåÂºÇÊ≠•ÈòüÂàósetTimeoutÂíåsetIntervalÊòØJSÂÜÖÁΩÆÁöÑ‰∏§‰∏™ÂÆöÊó∂Âô®Ôºå‰ΩøÁî®ÂæàÁÆÄÂçïÔºå‰ΩÜËøô‰∏§‰∏™ÊñπÊ≥ïËÉåÂêéÁöÑÂéüÁêÜÂç¥‰∏çÁÆÄÂçï„ÄÇÊàë‰ª¨Áü•ÈÅìÔºåJSÊòØÂçïÁ∫øÁ®ãËØ≠Ë®ÄÔºåÂú®ÊµèËßàÂô®‰∏≠ÔºåÂΩìJS‰ª£Á†ÅË¢´Âä†ËΩΩÊó∂ÔºåÊµèËßàÂô®‰ºö‰∏∫ÂÖ∂ÂàÜÈÖç‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°(ÂáΩÊï∞)Ôºå‰∏ªÁ∫øÁ®ã‰ºöÂΩ¢Êàê‰∏Ä‰∏™ÂÖ®Â±ÄÊâßË°åÁéØÂ¢ÉÔºåÊâßË°åÁéØÂ¢ÉÈááÁî®Ê†àÁöÑÊñπÂºèÂ∞ÜÂæÖÊâßË°å‰ªªÂä°ÊåâÈ°∫Â∫è‰æùÊ¨°Êù•ÊâßË°å„ÄÇ‰ΩÜÂú®ÊµèËßàÂô®‰∏≠Êúâ‰∏Ä‰∫õ‰ªªÂä°ÊòØÈùûÂ∏∏ËÄóÊó∂ÁöÑÔºåÊØîÂ¶ÇhttpËØ∑Ê±Ç„ÄÅÂÆöÊó∂Âô®„ÄÅ‰∫ã‰ª∂ÂõûË∞ÉÁ≠âÔºå‰∏∫‰∫Ü‰øùËØÅÂÖ∂‰ªñ‰ªªÂä°ÁöÑÊâßË°åÊïàÁéá‰∏çË¢´ÂΩ±ÂìçÔºåJSÂú®ÊâßË°åÁéØÂ¢É‰∏≠Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÂºÇÊ≠•ÈòüÂàó(‰πüÂè´Â∑•‰ΩúÁ∫øÁ®ã)ÔºåÂπ∂Â∞ÜËøô‰∫õ‰ªªÂä°ÊîæÂÖ•ÈòüÂàó‰∏≠ËøõË°åÁ≠âÂæÖÔºåËøô‰∫õ‰ªªÂä°ÁöÑÊâßË°åÊó∂Êú∫Âπ∂‰∏çÁ°ÆÂÆöÔºåÂè™ÊúâÂΩì‰∏ªÁ∫øÁ®ãÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊàê‰ª•ÂêéÔºåÊâç‰ºöÂéªÊ£ÄÊü•ÂºÇÊ≠•ÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ÊòØÂê¶ÈúÄË¶ÅÂºÄÂßãÊâßË°å„ÄÇËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàsetTimeout(fn,0) ÂßãÁªàË¶ÅÁ≠âÂà∞ÊúÄÂêéÊâßË°åÁöÑÂéüÂõ†„ÄÇÂÖ≥‰∫éÂçïÁ∫øÁ®ãÂíåÂºÇÊ≠•ÈòüÂàóÈóÆÈ¢òËØ∑ÂèÇËÄÉÔºösetTimeoutÔºà0Ôºâ Ê∑±Êã∑Ë¥ù123456789101112function deepCopy(p, c) &#123; var c = c || &#123;&#125;; for (var i in p) &#123; if (typeof p[i] === &apos;object&apos;) &#123; c[i] = (p[i].constructor === Array) ? [] : &#123;&#125;; deepCopy(p[i], c[i]); &#125; else &#123; c[i] = p[i]; &#125; &#125; return c;&#125; POSTÂíåGETÁöÑÂå∫Âà´ÔºåHTTPÁä∂ÊÄÅÁ†Å12345678910POSTÂíåGETÁöÑÂå∫Âà´GETÂú®ÊµèËßàÂô®ÂõûÈÄÄÊó∂ÊòØÊó†ÂÆ≥ÁöÑÔºåËÄåPOST‰ºöÂÜçÊ¨°Êèê‰∫§ËØ∑Ê±ÇGET‰∫ßÁîüÁöÑURLÂú∞ÂùÄÂèØ‰ª•Ë¢´Êî∂ËóèÔºåËÄåPOST‰∏çÂèØ‰ª•GETËØ∑Ê±Ç‰ºöË¢´ÊµèËßàÂô®‰∏ªÂä®ÁºìÂ≠òÔºåËÄåPOST‰∏ç‰ºöÔºåÈô§ÈùûÊâãÂä®ËÆæÁΩÆGETËØ∑Ê±ÇÂè™ËÉΩËøõË°åURLÁºñÁ†ÅÔºåËÄåPOSTÊîØÊåÅÂ§öÁßçÁºñÁ†ÅÊñπÂºèGETËØ∑Ê±ÇÂèÇÊï∞‰ºöË¢´ÂÆåÊï¥‰øùÁïôÂú®ÊµèËßàÂô®ÂéÜÂè≤ËÆ∞ÂΩïÈáåÔºåËÄåPOST‰∏≠ÁöÑÂèÇÊï∞‰∏ç‰ºöË¢´‰øùÁïôGETËØ∑Ê±ÇÂú®URL‰∏≠‰º†ÈÄÅÁöÑÂèÇÊï∞ÊòØÊúâÈïøÂ∫¶ÈôêÂà∂ÁöÑÔºåËÄåPOSTÊ≤°ÊúâÈïøÂ∫¶ÈôêÂà∂ÂØπÂèÇÊï∞ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåGETÂè™ËÉΩËØ∑Ê±ÇASCIIÂ≠óÁ¨¶ÔºåËÄåPOSTÊ≤°ÊúâÈôêÂà∂GETÊØîPOSTÊõ¥‰∏çÂÆâÂÖ®ÔºåÂõ†‰∏∫ÂèÇÊï∞Áõ¥Êé•Êö¥Èú≤Âú®URL‰∏äÔºåÊâÄ‰ª•‰∏çËÉΩÁî®Êù•‰º†ÊïèÊÑü‰ø°ÊÅØGETÂèÇÊï∞ÈÄöËøáURL‰º†ÈÄíÔºåPOSTÊîæÂú®Request body‰∏≠ 12345678910111213HTTPÁä∂ÊÄÅÁ†Å1XXÔºöÊåáÁ§∫‰ø°ÊÅØ-Ë°®Á§∫ËØ∑Ê±ÇÂ∑≤Êé•ÂèóÔºåÁªßÁª≠Â§ÑÁêÜ2XXÔºöÊàêÂäü-Ë°®Á§∫ËØ∑Ê±ÇÂ∑≤Ë¢´ÊàêÂäüÊé•Êî∂200 OK ÔºöÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊàêÂäü206 Partial ContentÔºöÂÆ¢Êà∑ÂèëÈÄÅ‰∏Ä‰∏™Â∏¶ÊúâRangeÂ§¥ÁöÑGETËØ∑Ê±ÇÔºåÊúçÂä°Âô®ÂÆåÊàê‰∫ÜÂÆÉ Êí≠ÊîæËßÜÈ¢ëÂíåÈü≥È¢ë3XXÔºöÈáçÂÆöÂêë-Ë¶ÅÂÆåÊàêËØ∑Ê±ÇÂøÖÈ°ªËøõË°åÊõ¥Ëøõ‰∏ÄÊ≠•ÁöÑÊìç‰Ωú301 Move PermanentlyÔºöÊâÄËØ∑Ê±ÇÁöÑÈ°µÈù¢Â∑≤ÁªèËΩ¨ÁßªËá≥Êñ∞ÁöÑURL302 FoundÔºöÊâÄËØ∑Ê±ÇÁöÑÈ°µÈù¢Â∑≤Áªè‰∏¥Êó∂ËΩ¨ÁßªÂà∞Êñ∞ÁöÑURL304 Not ModifiedÔºöÂÆ¢Êà∑Á´ØÊúâÁºìÂÜ≤ÁöÑÊñáÊ°£Âπ∂ÂèëÂá∫‰∏Ä‰∏™Êù°‰ª∂ÊÄßÁöÑËØ∑Ê±ÇÔºåÊúçÂä°Âô®ÂëäËØâÂÆ¢Êà∑ÔºåÂéüÊù•ÁºìÂÜ≤ÁöÑÊñáÊ°£ËøòÂèØ‰ª•ÁªßÁª≠‰ΩøÁî®4XXÔºöÂÆ¢Êà∑Á´ØÈîôËØØ-ËØ∑Ê±ÇÊúâËØ≠Ê≥ïÈîôËØØÊàñËØ∑Ê±ÇÊó†Ê≥ïÂÆûÁé∞400 Bad RequestÔºöÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊúâËØ≠Ê≥ïÈîôËØØÔºå‰∏çËÉΩË¢´ÊúçÂä°Âô®ÊâÄÁêÜËß£401 UnauthorizedÔºöËØ∑Ê±ÇÊú™ÁªèÊéàÊùÉÔºåËøô‰∏™Áä∂ÊÄÅ‰ª£Á†ÅÂøÖÈ°ªÂíåWWW-AuthenticateÊä•Â§¥Âüü‰∏ÄËµ∑‰ΩøÁî®403 ForbiddenÔºöÂØπË¢´ËØ∑Ê±ÇÈ°µÈù¢ÁöÑËÆøÈóÆË¢´Á¶ÅÊ≠¢404 Not FoundÔºöËØ∑Ê±ÇËµÑÊ∫ê‰∏çÂ≠òÂú®5XXÔºöÊúçÂä°ÈîôËØØ-ÊúçÂä°Âô®Êú™ËÉΩÂÆûÁé∞ÂêàÊ≥ïÁöÑËØ∑Ê±Ç500 Internal Server ErrorÔºöÊúçÂä°Âô®ÂèëÁîü‰∏çÂèØÈ¢ÑÊúüÁöÑÈîôËØØÂéüÊù•ÁºìÂÜ≤ÁöÑÊñáÊ°£ËøòÂèØ‰ª•ÁªßÁª≠‰ΩøÁî®503 Server UnavailableÔºöËØ∑Ê±ÇÊú™ÂÆåÊàêÔºåÊúçÂä°Âô®‰∏¥Êó∂ËøáËΩΩÊàñÂΩìÊú∫Ôºå‰∏ÄÊÆµ‰∫ã‰ª∂ÂêéÊÅ¢Â§çÊ≠£Â∏∏ 301Âíå302 301‰∏é302Ôºö‰∫åËÄÖÈÉΩÊòØËøõË°åÈáçÂÆöÂêëÔºåÂâçËÄÖ‰∏∫Ê∞∏‰πÖÈáçÂÆöÂêëÔºåÂêéËÄÖ‰∏∫‰∏¥Êó∂ÈáçÂÆöÂêë„ÄÇ301Ôºå302ÂØπÁî®Êà∑Êù•ËØ¥Ê≤°ÊúâÂå∫Âà´Ôºå‰ªñ‰ª¨ÁúãÂà∞ÊïàÊûúÂè™ÊòØ‰∏Ä‰∏™Ë∑≥ËΩ¨ÔºåÊµèËßàÂô®‰∏≠ÊóßÁöÑURLÂèòÊàê‰∫ÜÊñ∞ÁöÑURL„ÄÇÂÆûÈôÖÂ∑•‰Ωú‰∏≠ÔºåÂΩìÊàë‰ª¨ÁöÑÂâç‰∏Ä‰∏™ÂüüÂêçË¢´Ê∞∏‰πÖÊÄßÂÅúÊ≠¢‰ΩøÁî®ÔºåÂπ∂‰∏î‰∏çÂ∏åÊúõÁî®Êà∑ËøòËÉΩËÆøÈóÆ‰ª•ÂâçÁöÑÂüüÂêçÊó∂ÔºåÊàë‰ª¨‰ºöÁî®Âà∞301„ÄÇ 301Âíå302Áä∂ÊÄÅÁ†ÅÈÉΩË°®Á§∫ÈáçÂÆöÂêëÔºåÂ∞±ÊòØËØ¥ÊµèËßàÂô®Âú®ÊãøÂà∞ÊúçÂä°Âô®ËøîÂõûÁöÑËøô‰∏™Áä∂ÊÄÅÁ†ÅÂêé‰ºöËá™Âä®Ë∑≥ËΩ¨Âà∞‰∏Ä‰∏™Êñ∞ÁöÑURLÂú∞ÂùÄÔºåËøô‰∏™Âú∞ÂùÄÂèØ‰ª•‰ªéÂìçÂ∫îÁöÑLocationÈ¶ñÈÉ®‰∏≠Ëé∑ÂèñÔºàÁî®Êà∑ÁúãÂà∞ÁöÑÊïàÊûúÂ∞±ÊòØ‰ªñËæìÂÖ•ÁöÑÂú∞ÂùÄAÁû¨Èó¥ÂèòÊàê‰∫ÜÂè¶‰∏Ä‰∏™Âú∞ÂùÄBÔºâ‚Äî‚ÄîËøôÊòØÂÆÉ‰ª¨ÁöÑÂÖ±ÂêåÁÇπ„ÄÇ‰ªñ‰ª¨ÁöÑ‰∏çÂêåÂú®‰∫é:301Ë°®Á§∫ÊóßÂú∞ÂùÄAÁöÑËµÑÊ∫êÂ∑≤ÁªèË¢´Ê∞∏‰πÖÂú∞ÁßªÈô§‰∫ÜÔºàËøô‰∏™ËµÑÊ∫ê‰∏çÂèØËÆøÈóÆ‰∫ÜÔºâÔºå ÊêúÁ¥¢ÂºïÊìéÂú®ÊäìÂèñÊñ∞ÂÜÖÂÆπÁöÑÂêåÊó∂‰πüÂ∞ÜÊóßÁöÑÁΩëÂùÄ‰∫§Êç¢‰∏∫ÈáçÂÆöÂêë‰πãÂêéÁöÑÁΩëÂùÄÔºõ302Ë°®Á§∫ÊóßÂú∞ÂùÄAÁöÑËµÑÊ∫êËøòÂú®Ôºà‰ªçÁÑ∂ÂèØ‰ª•ËÆøÈóÆÔºâÔºå Ëøô‰∏™ÈáçÂÆöÂêëÂè™ÊòØ‰∏¥Êó∂Âú∞‰ªéÊóßÂú∞ÂùÄAË∑≥ËΩ¨Âà∞Âú∞ÂùÄBÔºåÊêúÁ¥¢ÂºïÊìé‰ºöÊäìÂèñÊñ∞ÁöÑÂÜÖÂÆπËÄå‰øùÂ≠òÊóßÁöÑÁΩëÂùÄ„ÄÇ 301ÈáçÂÆöÂêëÂíå302ÈáçÂÆöÂêëÁöÑÂå∫Âà´: 302ÈáçÂÆöÂêëÂè™ÊòØÊöÇÊó∂ÁöÑÈáçÂÆöÂêëÔºåÊêúÁ¥¢ÂºïÊìé‰ºöÊäìÂèñÊñ∞ÁöÑÂÜÖÂÆπËÄå‰øùÁïôÊóßÁöÑÂú∞ÂùÄÔºåÂõ†‰∏∫ÊúçÂä°Âô®ËøîÂõû302ÔºåÊâÄ‰ª•ÔºåÊêúÁ¥¢ÊêúÁ¥¢ÂºïÊìéËÆ§‰∏∫Êñ∞ÁöÑÁΩëÂùÄÊòØÊöÇÊó∂ÁöÑ„ÄÇ ËÄå301ÈáçÂÆöÂêëÊòØÊ∞∏‰πÖÁöÑÈáçÂÆöÂêëÔºåÊêúÁ¥¢ÂºïÊìéÂú®ÊäìÂèñÊñ∞ÁöÑÂÜÖÂÆπÁöÑÂêåÊó∂‰πüÂ∞ÜÊóßÁöÑÁΩëÂùÄÊõøÊç¢‰∏∫‰∫ÜÈáçÂÆöÂêë‰πãÂêéÁöÑÁΩëÂùÄ„ÄÇ 1234567891011301ÈÄÇÂêàÊ∞∏‰πÖÈáçÂÆöÂêë 301ÊØîËæÉÂ∏∏Áî®ÁöÑÂú∫ÊôØÊòØ‰ΩøÁî®ÂüüÂêçË∑≥ËΩ¨„ÄÇ ÊØîÂ¶ÇÔºåÊàë‰ª¨ËÆøÈóÆ http://www.baidu.com ‰ºöË∑≥ËΩ¨Âà∞ https://www.baidu.comÔºå ÂèëÈÄÅËØ∑Ê±Ç‰πãÂêéÔºåÂ∞±‰ºöËøîÂõû301Áä∂ÊÄÅÁ†ÅÔºå ÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™locationÔºåÊèêÁ§∫Êñ∞ÁöÑÂú∞ÂùÄÔºåÊµèËßàÂô®Â∞±‰ºöÊãøÁùÄËøô‰∏™Êñ∞ÁöÑÂú∞ÂùÄÂéªËÆøÈóÆ„ÄÇ Ê≥®ÊÑèÔºö 301ËØ∑Ê±ÇÊòØÂèØ‰ª•ÁºìÂ≠òÁöÑÔºå Âç≥ÈÄöËøáÁúãstatus codeÔºåÂèØ‰ª•ÂèëÁé∞ÂêéÈù¢ÂÜôÁùÄfrom cache„ÄÇ ÊàñËÄÖ‰Ω†Êää‰Ω†ÁöÑÁΩëÈ°µÁöÑÂêçÁß∞‰ªéphp‰øÆÊîπ‰∏∫‰∫ÜhtmlÔºåËøô‰∏™ËøáÁ®ã‰∏≠Ôºå‰πü‰ºöÂèëÁîüÊ∞∏‰πÖÈáçÂÆöÂêë„ÄÇ302Áî®Êù•ÂÅö‰∏¥Êó∂Ë∑≥ËΩ¨ ÊØîÂ¶ÇÊú™ÁôªÈôÜÁöÑÁî®Êà∑ËÆøÈóÆÁî®Êà∑‰∏≠ÂøÉÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢„ÄÇ ËÆøÈóÆ404È°µÈù¢‰ºöÈáçÊñ∞ÂÆöÂêëÂà∞È¶ñÈ°µ„ÄÇ 123456789101112131415161718301‚ÄîÊ∞∏‰πÖÁßªÂä®„ÄÇË¢´ËØ∑Ê±ÇÁöÑËµÑÊ∫êÂ∑≤Ë¢´Ê∞∏‰πÖÁßªÂä®‰ΩçÁΩÆÔºõ „ÄêÊ∞∏‰πÖÈáçÂÆöÂêë„Äë302‚ÄîËØ∑Ê±ÇÁöÑËµÑÊ∫êÁé∞Âú®‰∏¥Êó∂‰ªé‰∏çÂêåÁöÑ URI ÂìçÂ∫îËØ∑Ê±ÇÔºõ „Äê‰∏¥Êó∂ÈáçÂÆöÂêë„Äë305‚Äî‰ΩøÁî®‰ª£ÁêÜ„ÄÇË¢´ËØ∑Ê±ÇÁöÑËµÑÊ∫êÂøÖÈ°ªÈÄöËøáÊåáÂÆöÁöÑ‰ª£ÁêÜÊâçËÉΩË¢´ËÆøÈóÆÔºõ 307‚Äî‰∏¥Êó∂Ë∑≥ËΩ¨„ÄÇË¢´ËØ∑Ê±ÇÁöÑËµÑÊ∫êÂú®‰∏¥Êó∂‰ªé‰∏çÂêåÁöÑURLÂìçÂ∫îËØ∑Ê±ÇÔºõ 400‚ÄîÈîôËØØËØ∑Ê±ÇÔºõ 402‚ÄîÈúÄË¶Å‰ªòÊ¨æ„ÄÇËØ•Áä∂ÊÄÅÁ†ÅÊòØ‰∏∫‰∫ÜÂ∞ÜÊù•ÂèØËÉΩÁöÑÈúÄÊ±ÇËÄåÈ¢ÑÁïôÁöÑÔºåÁî®‰∫é‰∏Ä‰∫õÊï∞Â≠óË¥ßÂ∏ÅÊàñËÄÖÊòØÂæÆÊîØ‰ªòÔºõ 403‚ÄîÁ¶ÅÊ≠¢ËÆøÈóÆ„ÄÇÊúçÂä°Âô®Â∑≤ÁªèÁêÜËß£ËØ∑Ê±ÇÔºå‰ΩÜÊòØÊãíÁªùÊâßË°åÂÆÉÔºõ 404‚ÄîÊâæ‰∏çÂà∞ÂØπË±°„ÄÇËØ∑Ê±ÇÂ§±Ë¥•ÔºåËµÑÊ∫ê‰∏çÂ≠òÂú®Ôºõ 406‚Äî‰∏çÂèØÊé•ÂèóÁöÑ„ÄÇËØ∑Ê±ÇÁöÑËµÑÊ∫êÁöÑÂÜÖÂÆπÁâπÊÄßÊó†Ê≥ïÊª°Ë∂≥ËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑÊù°‰ª∂ÔºåÂõ†ËÄåÊó†Ê≥ïÁîüÊàêÂìçÂ∫îÂÆû‰ΩìÔºõ 408‚ÄîËØ∑Ê±ÇË∂ÖÊó∂Ôºõ 409‚ÄîÂÜ≤Á™Å„ÄÇÁî±‰∫éÂíåË¢´ËØ∑Ê±ÇÁöÑËµÑÊ∫êÁöÑÂΩìÂâçÁä∂ÊÄÅ‰πãÈó¥Â≠òÂú®ÂÜ≤Á™ÅÔºåËØ∑Ê±ÇÊó†Ê≥ïÂÆåÊàêÔºõ 410‚ÄîÈÅóÂ§±ÁöÑ„ÄÇË¢´ËØ∑Ê±ÇÁöÑËµÑÊ∫êÂú®ÊúçÂä°Âô®‰∏äÂ∑≤Áªè‰∏çÂÜçÂèØÁî®ÔºåËÄå‰∏îÊ≤°Êúâ‰ªª‰ΩïÂ∑≤Áü•ÁöÑËΩ¨ÂèëÂú∞ÂùÄÔºõ 413‚ÄîÂìçÂ∫îÂÆû‰ΩìÂ§™Â§ß„ÄÇÊúçÂä°Âô®ÊãíÁªùÂ§ÑÁêÜÂΩìÂâçËØ∑Ê±ÇÔºåËØ∑Ê±ÇË∂ÖËøáÊúçÂä°Âô®ÊâÄËÉΩÂ§ÑÁêÜÂíåÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÂÄº„ÄÇ 417‚ÄîÊúüÊúõÂ§±Ë¥•„ÄÇÂú®ËØ∑Ê±ÇÂ§¥ Expect ‰∏≠ÊåáÂÆöÁöÑÈ¢ÑÊúüÂÜÖÂÆπÊó†Ê≥ïË¢´ÊúçÂä°Âô®Êª°Ë∂≥Ôºõ 418‚ÄîÊàëÊòØ‰∏Ä‰∏™Ëå∂Â£∂„ÄÇË∂ÖÊñáÊú¨ÂíñÂï°ÁΩêÊéßÂà∂ÂçèËÆÆÔºå‰ΩÜÊòØÂπ∂Ê≤°ÊúâË¢´ÂÆûÈôÖÁöÑHTTPÊúçÂä°Âô®ÂÆûÁé∞Ôºõ 420‚ÄîÊñπÊ≥ïÂ§±Êïà„ÄÇ 422‚Äî‰∏çÂèØÂ§ÑÁêÜÁöÑÂÆû‰Ωì„ÄÇËØ∑Ê±ÇÊ†ºÂºèÊ≠£Á°ÆÔºå‰ΩÜÊòØÁî±‰∫éÂê´ÊúâËØ≠‰πâÈîôËØØÔºåÊó†Ê≥ïÂìçÂ∫îÔºõ 500‚ÄîÊúçÂä°Âô®ÂÜÖÈÉ®ÈîôËØØ„ÄÇÊúçÂä°Âô®ÈÅáÂà∞‰∫Ü‰∏Ä‰∏™Êú™ÊõæÈ¢ÑÊñôÁöÑÁä∂ÂÜµÔºåÂØºËá¥‰∫ÜÂÆÉÊó†Ê≥ïÂÆåÊàêÂØπËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÔºõ JSËøîÂõûÊâÄÊúâÂ≠êËäÇÁÇπÂØπË±°childNodes12345678910var mylist = document.getElementById(&apos;myid&apos;);for(var i=0,i&lt;mylist.childNodes.length;i++)&#123;console.log(mylist.childNodes[i]);&#125;firstChildËøîÂõûÁ¨¨‰∏Ä‰∏™Â≠êËäÇÁÇπlastChildËøîÂõûÊúÄÂêé‰∏Ä‰∏™Â≠êËäÇÁÇπparentNodeËøîÂõûÁà∂ËäÇÁÇπÂØπË±°nextSiblingËøîÂõû‰∏ã‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπÂØπË±°previousSiblingËøîÂõûÂâç‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπÂØπË±°nodeNameËøîÂõûËäÇÁÇπÁöÑHTMLÊ†áËÆ∞ÂêçÁß∞ insertBefore()ÊèíÂÖ•ËäÇÁÇπÔºàÁà∂ËäÇÁÇπÂÜÖÂÆπÁöÑÊúÄÂâçÈù¢ÔºâÊ≥®ÊÑèÔºöinsertBefore()Êúâ‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÊòØÊèíÂÖ•ÁöÑËäÇÁÇπÔºåÁ¨¨‰∫å‰∏™ÊòØÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ ‰æãÂ≠êÔºö123var list = document.getElementById(&apos;myList&apos;);list.insertBefore(newItem,list.childNodes[1]);//ÊèíÂÖ•Êñ∞ËäÇÁÇπnewItemÂà∞listÁöÑÁ¨¨‰∫å‰∏™Â≠êËäÇÁÇπ Element.matches Á≤æÁ°ÆÂåπÈÖç12345678document.getElementById(&apos;list&apos;).addEventListener(&apos;click&apos;, function (e) &#123; // ÂÖºÂÆπÊÄßÂ§ÑÁêÜ var event = e || window.event; var target = event.target || event.srcElement; if (target.matches(&apos;li.class-1&apos;)) &#123; console.log(&apos;the content is: &apos;, target.innerHTML); &#125;&#125;); ÁßªÂä®Á´Øtouch‰∫ã‰ª∂(Âå∫ÂàÜwebkit Âíå winphone) ÂΩìÁî®Êà∑ÊâãÊåáÊîæÂú®ÁßªÂä®ËÆæÂ§áÂú®Â±èÂπï‰∏äÊªëÂä®‰ºöËß¶ÂèëÁöÑtouch‰∫ã‰ª∂,‰ª•‰∏ãÊîØÊåÅwebkit12345678910touchstart‚Äî‚ÄîÂΩìÊâãÊåáËß¶Á¢∞Â±èÂπïÊó∂ÂÄôÂèëÁîü„ÄÇ‰∏çÁÆ°ÂΩìÂâçÊúâÂ§öÂ∞ëÂè™ÊâãÊåátouchmove‚Äî‚ÄîÂΩìÊâãÊåáÂú®Â±èÂπï‰∏äÊªëÂä®Êó∂ËøûÁª≠Ëß¶Âèë„ÄÇÈÄöÂ∏∏Êàë‰ª¨ÂÜçÊªëÂ±èÈ°µÈù¢Ôºå‰ºöË∞ÉÁî®eventÁöÑpreventDefault()ÂèØ‰ª•ÈòªÊ≠¢ÈªòËÆ§ÊÉÖÂÜµÁöÑÂèëÁîüÔºöÈòªÊ≠¢È°µÈù¢ÊªöÂä®touchend‚Äî‚ÄîÂΩìÊâãÊåáÁ¶ªÂºÄÂ±èÂπïÊó∂Ëß¶Âèëtouchcancel‚Äî‚ÄîÁ≥ªÁªüÂÅúÊ≠¢Ë∑üË∏™Ëß¶Êë∏Êó∂ÂÄô‰ºöËß¶Âèë„ÄÇ‰æãÂ¶ÇÂú®Ëß¶Êë∏ËøáÁ®ã‰∏≠Á™ÅÁÑ∂È°µÈù¢alert()‰∏Ä‰∏™ÊèêÁ§∫Ê°ÜÔºåÊ≠§Êó∂‰ºöËß¶ÂèëËØ•‰∫ã‰ª∂ÔºåËøô‰∏™‰∫ã‰ª∂ÊØîËæÉÂ∞ëÁî®TouchEventtouchesÔºöÂ±èÂπï‰∏äÊâÄÊúâÊâãÊåáÁöÑ‰ø°ÊÅØtargetTouchesÔºöÊâãÊåáÂú®ÁõÆÊ†áÂå∫ÂüüÁöÑÊâãÊåá‰ø°ÊÅØchangedTouchesÔºöÊúÄËøë‰∏ÄÊ¨°Ëß¶ÂèëËØ•‰∫ã‰ª∂ÁöÑÊâãÊåá‰ø°ÊÅØtouchendÊó∂Ôºåtouches‰∏étargetTouches‰ø°ÊÅØ‰ºöË¢´Âà†Èô§ÔºåchangedTouches‰øùÂ≠òÁöÑÊúÄÂêé‰∏ÄÊ¨°ÁöÑ‰ø°ÊÅØÔºåÊúÄÂ•ΩÁî®‰∫éËÆ°ÁÆóÊâãÊåá‰ø°ÊÅØÂèÇÊï∞‰ø°ÊÅØ(changedTouches[0])clientX„ÄÅclientYÂú®ÊòæÁ§∫Âå∫ÁöÑÂùêÊ†átargetÔºöÂΩìÂâçÂÖÉÁ¥† ÂÖ®Â±ÄÈîôËØØÁõëÊéßÁõëÂê¨window‰∏äÁöÑerror‰∫ã‰ª∂ÔºåËøáÊª§‰∫ã‰ª∂‰ª£ÁêÜÁöÑerror„ÄÇ ÊâãÂä®Ëß¶Âèë‰∏Ä‰∏™dom‰∫ã‰ª∂ÔºåÈúÄË¶Å3Ê≠•ÔºåÂ¶ÇÊûú‰Ω†ÂØπdocument.createEvent,ÔøΩ‰∏çÊòØÂæàÁÜüÊÇâÔºåÂèØ‰ª•ÁÇπÂáªÊü•Áúã„ÄÇÂàõÂª∫‰∏Ä‰∏™‰∫ã‰ª∂ÂØπË±° document.createEvent(event)ÂàùÂßãÂåñ‰∫ã‰ª∂ÂØπË±° event.initEvent(type, bubbles, true)ÂàÜÂèë‰∫ã‰ª∂ dom.dispatchEvent(event) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182Object.preventExtensions(obj) ËÆ©‰∏Ä‰∏™ÂØπË±°ÂèòÁöÑ‰∏çÂèØÊâ©Â±ïÔºå‰πüÂ∞±ÊòØÊ∞∏Ëøú‰∏çËÉΩÂÜçÊ∑ªÂä†Êñ∞ÁöÑÂ±ûÊÄß„ÄÇObject.isExtensible(obj) Âà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊòØÂèØÊâ©Â±ïÁöÑObject.seal(obj)ËÆ©‰∏Ä‰∏™ÂØπË±°ÂØÜÂ∞Å(Âè™ËÉΩËØªÂÜô ‰∏çËÉΩÊñ∞Â¢û)Object.isSealed(obj)Âà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÂØÜÂ∞ÅObject.isFrozen(arr) ËÆ©‰∏Ä‰∏™ÂØπË±°Ë¢´ÂÜªÁªì(Âè™ËÉΩËØª)Object.isFrozen(obj)ÔºöÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶Ë¢´ÂÜªÁªìObject.keys(obj) ËøîÂõû‰∏Ä‰∏™Áî±ÁªôÂÆöÂØπË±°ÁöÑÊâÄÊúâÂèØÊûö‰∏æËá™Ë∫´Â±ûÊÄßÁöÑÂ±ûÊÄßÂêçÁªÑÊàêÁöÑÊï∞ÁªÑObject.getOwnPropertyNames(obj)ÔºöËøîÂõû‰∏Ä‰∏™Áî±ÊåáÂÆöÂØπË±°ÁöÑÊâÄÊúâËá™Ë∫´Â±ûÊÄßÁöÑÂ±ûÊÄßÂêçÔºàÂåÖÊã¨‰∏çÂèØÊûö‰∏æÂ±ûÊÄßÔºâÁªÑÊàêÁöÑÊï∞ÁªÑObject.is(value1, value2)ÔºöÂà§Êñ≠‰∏§‰∏™ÂÄºÊòØÂê¶ÊòØÂêå‰∏Ä‰∏™ÂÄº,Object.isÂÆÉÁî®Êù•ÊØîËæÉ‰∏§‰∏™ÂÄºÊòØÂê¶‰∏•Ê†ºÁõ∏Á≠âÔºå‰∏é‰∏•Ê†ºÊØîËæÉËøêÁÆóÁ¨¶Ôºà===ÔºâÁöÑË°å‰∏∫Âü∫Êú¨‰∏ÄËá¥„ÄÇObject.create(proto [, propertiesObject ]) ÊòØE5‰∏≠ÊèêÂá∫ÁöÑ‰∏ÄÁßçÊñ∞ÁöÑÂØπË±°ÂàõÂª∫ÊñπÂºèÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË¶ÅÁªßÊâøÁöÑÂéüÂûãÔºåÂ¶ÇÊûú‰∏çÊòØ‰∏Ä‰∏™Â≠êÂáΩÊï∞ÔºåÂèØ‰ª•‰º†‰∏Ä‰∏™nullÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÂØπË±°ÁöÑÂ±ûÊÄßÊèèËø∞Á¨¶ÔºåËøô‰∏™ÂèÇÊï∞ÊòØÂèØÈÄâÁöÑ„ÄÇObject.assign Êää‰ªªÊÑèÂ§ö‰∏™ÁöÑÊ∫êÂØπË±°Ëá™Ë∫´ÁöÑÂèØÊûö‰∏æÂ±ûÊÄßÊã∑Ë¥ùÁªôÁõÆÊ†áÂØπË±°ÔºåÁÑ∂ÂêéËøîÂõûÁõÆÊ†áÂØπË±°„ÄÇ„ÄêÊµÖÂ§çÂà∂„Äë//var copy = Object.assign(&#123;&#125;, obj);Object.defineProperty() ÂÆö‰πâÂçï‰∏™ÂØπË±°Â±ûÊÄßÊàñÊñπÊ≥ï(ÂèØ‰ª•ËÆæÁΩÆËØªÂÜôÂèØÊûö‰∏æ)Object.defineProperties() ÂÆö‰πâÂ§ö‰∏™ÂØπË±°Â±ûÊÄßÊàñÊñπÊ≥ï(ÂèØ‰ª•ËÆæÁΩÆËØªÂÜôÂèØÊûö‰∏æ)Object.assign() //ÊµÖÊã∑Ë¥ùÔºåÁ±ª‰ºº&#123;...obj1,...obj2&#125; ÈÉΩÊòØÊµÖÊã∑Ë¥ùObject.assignÊñπÊ≥ïÁî®‰∫éÂØπË±°ÁöÑÂêàÂπ∂ÔºåÂ∞ÜÊ∫êÂØπË±°ÔºàsourceÔºâÁöÑÊâÄÊúâÂèØÊûö‰∏æÂ±ûÊÄßÔºåÂ§çÂà∂Âà∞ÁõÆÊ†áÂØπË±°ÔºàtargetÔºâvar target = &#123; a: 1 &#125;;var source1 = &#123; b: 2 &#125;;var source2 = &#123; c: 3 &#125;;Object.assign(target, source1, source2);target // &#123;a:1, b:2, c:3&#125;//Â¶ÇÊûúÁõÆÊ†áÂØπË±°‰∏éÊ∫êÂØπË±°ÊúâÂêåÂêçÂ±ûÊÄßÔºåÊàñÂ§ö‰∏™Ê∫êÂØπË±°ÊúâÂêåÂêçÂ±ûÊÄßÔºåÂàôÂêéÈù¢ÁöÑÂ±ûÊÄß‰ºöË¶ÜÁõñÂâçÈù¢ÁöÑÂ±ûÊÄß„ÄÇObject.assignÊñπÊ≥ïÂÆûË°åÁöÑÊòØÊµÖÊã∑Ë¥ùÔºåËÄå‰∏çÊòØÊ∑±Êã∑Ë¥ù„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊ∫êÂØπË±°Êüê‰∏™Â±ûÊÄßÁöÑÂÄºÊòØÂØπË±°ÔºåÈÇ£‰πàÁõÆÊ†áÂØπË±°Êã∑Ë¥ùÂæóÂà∞ÁöÑÊòØËøô‰∏™ÂØπË±°ÁöÑÂºïÁî®„ÄÇObject.assignÊñπÊ≥ïÂÆûË°åÁöÑÊòØÊµÖÊã∑Ë¥ùÔºåËÄå‰∏çÊòØÊ∑±Êã∑Ë¥ù„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÊ∫êÂØπË±°Êüê‰∏™Â±ûÊÄßÁöÑÂÄºÊòØÂØπË±°ÔºåÈÇ£‰πàÁõÆÊ†áÂØπË±°Êã∑Ë¥ùÂæóÂà∞ÁöÑÊòØËøô‰∏™ÂØπË±°ÁöÑÂºïÁî®„ÄÇvar obj1 = &#123;a: &#123;b: 1&#125;&#125;;var obj2 = Object.assign(&#123;&#125;, obj1);obj1.a.b = 2;obj2.a.b // 2ÂØπ‰∫éËøôÁßçÂµåÂ•óÁöÑÂØπË±°Ôºå‰∏ÄÊó¶ÈÅáÂà∞ÂêåÂêçÂ±ûÊÄßÔºåObject.assignÁöÑÂ§ÑÁêÜÊñπÊ≥ïÊòØÊõøÊç¢ÔºåËÄå‰∏çÊòØÊ∑ªÂä†„ÄÇvar target = &#123; a: &#123; b: &apos;c&apos;, d: &apos;e&apos; &#125; &#125;var source = &#123; a: &#123; b: &apos;hello&apos; &#125; &#125;Object.assign(target, source)// &#123; a: &#123; b: &apos;hello&apos; &#125; &#125;ÂÅúÊ≠¢jq‰∏≠ÁöÑajaxËØ∑Ê±ÇÁî®abort()ÂáΩÊï∞ var currentAjax = null; functionstartAjax()&#123; //ÊñπÊ≥ïÂ∞±ÊòØÂ∞ÜXHRÂØπË±°ÊåáÂêëcurrentAjaxÔºåÂÜçË∞ÉÁî®currentAjaxÁöÑ.abort()Êù•‰∏≠Ê≠¢ËØ∑Ê±Ç currentAjax = $.ajax(&#123; type:&apos;POST&apos;, beforeSend:function()&#123;&#125;, url:&apos;test.php&apos;, data:&apos;username=xxx&apos;, dataType:&apos;JSON&apos;, error:function()&#123;alert(&apos;error&apos;)&#125;, success:function(data)&#123;alert(data)&#125; &#125;); &#125; functionstopAjax()&#123; //Â¶ÇËã•‰∏ä‰∏ÄÊ¨°AJAXËØ∑Ê±ÇÊú™ÂÆåÊàêÔºåÂàô‰∏≠Ê≠¢ËØ∑Ê±Ç if(currentAjax) &#123;currentAjax.abort();&#125; &#125; JSONP Ë∂ÖÊó∂Ôºö ËÆæÁΩÆË∂ÖÊó∂Ê†áÂøó‰Ωçflag=falseÔºåÂΩìË∂ÖÊó∂ÂêéÂ∞Üflag=true; ÂºÇÊ≠•Âä†ËΩΩJSÊñá‰ª∂Âπ∂ÊâßË°åÂõûË∞ÉÂáΩÊï∞Ôºö function loadJS(src, callback)&#123; var script = document.createElement(&apos;script&apos;); var head = document.getElementsByTagName(&apos;head&apos;)[0]; var loaded; script.src = src; if(typeof callback === &apos;function&apos;)&#123; script.onload = script.onreadystatechange = function()&#123; if(!loaded &amp;&amp; (!script.readyState || /loaded|complete/.test(script.readyState)))&#123; script.onload = script.onreadystatechange = null; loaded = true; callback(); &#125; &#125; &#125; head.appendChild(script);&#125; Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁªùÂØπ‰ΩçÁΩÆ1234567891011121314151617181920function getPosition(node) &#123; var width = node.offsetWidth; //ÂÖÉÁ¥†ÂÆΩÂ∫¶ var height = node.offsetHeight; //ÂÖÉÁ¥†È´òÂ∫¶ var left = node.offsetLeft; //Ëé∑ÂèñÂÖÉÁ¥†Áõ∏ÂØπ‰∫éÂÖ∂Ê†πÂÖÉÁ¥†ÁöÑleftÂÄºvar left var top = node.offsetTop; //Ëé∑ÂèñÂÖÉÁ¥†Áõ∏ÂØπ‰∫éÂÖ∂Ê†πÂÖÉÁ¥†ÁöÑtopÂÄºvar top current = node.offsetParent; // ÂèñÂæóÂÖÉÁ¥†ÁöÑoffsetParent // ‰∏ÄÁõ¥Âæ™ÁéØÁõ¥Âà∞Ê†πÂÖÉÁ¥† while(current != null) &#123; left += current.offsetLeft; top += current.offsetTop; current = current.offsetParent; &#125; return &#123; &quot;width&quot;: width, &quot;height&quot;: height, &quot;left&quot;: left, &quot;top&quot;: top &#125;;&#125; Âä®ÁîªÁªìÊùüÊó∂‰∫ã‰ª∂123456789101112131415161718192021o.addEventListener(&quot;webkitAnimationEnd&quot;, function() &#123; console.log(&quot;Âä®ÁîªÁªìÊùü&quot;);&#125;)-webkit-animationÂä®ÁîªÊúâ‰∏â‰∏™‰∫ã‰ª∂ÔºöÂºÄÂßã‰∫ã‰ª∂: webkitAnimationStartÁªìÊùü‰∫ã‰ª∂: webkitAnimationEndÈáçÂ§çËøêÂä®‰∫ã‰ª∂: webkitAnimationIteration// Âä®ÁîªÂºÄÂßãÊó∂‰∫ã‰ª∂o.addEventListener(&quot;webkitAnimationStart&quot;, function() &#123; console.log(&quot;Âä®ÁîªÂºÄÂßã&quot;);&#125;)// Âä®ÁîªÈáçÂ§çËøêÂä®Êó∂‰∫ã‰ª∂o.addEventListener(&quot;webkitAnimationIteration&quot;, function() &#123; console.log(&quot;Âä®ÁîªÈáçÂ§çËøêÂä®&quot;);&#125;)// Âä®ÁîªÁªìÊùüÊó∂‰∫ã‰ª∂o.addEventListener(&quot;webkitAnimationEnd&quot;, function() &#123; console.log(&quot;Âä®ÁîªÁªìÊùü&quot;);&#125;) Ëß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÈÅÆÊå°Ôºö123456789101112131415// Ëß£ÂÜ≥ÈîÆÁõòÂºπÂá∫ÂêéÊå°Ë°®ÂçïÁöÑÈóÆÈ¢ò window.addEventListener(&apos;resize&apos;, function() &#123; if( document.activeElement.tagName === &apos;INPUT&apos; || document.activeElement.tagName === &apos;TEXTAREA&apos; ) &#123; window.setTimeout(function() &#123; if(&apos;scrollIntoView&apos; in document.activeElement) &#123; document.activeElement.scrollIntoView(); &#125; else &#123; document.activeElement.scrollIntoViewIfNeeded(); &#125; &#125;, 0); &#125; &#125;); 123456/** * Â§ÑÁêÜiOS ÂæÆ‰ø°ÂÆ¢Êà∑Á´Ø6.7.4 ÈîÆÁõòÊî∂Ëµ∑È°µÈù¢Êú™‰∏ãÁßªbug */;(/iphone|ipod|ipad/i.test(navigator.appVersion)) &amp;&amp; document.addEventListener(&apos;blur&apos;, (e) =&gt; &#123; document.body.scrollIntoView(false)&#125;, true) Âçï‰∏™forÂæ™ÁéØÂÆûÁé∞ÊéíÂ∫èÔºö1234567891011121314var a = [12, 13, 65, 54, 86, 21, 37, 1, 95, 4];var l=a.length; for(var i = 0; i &lt; l; i++) &#123; if(a[i] &gt; a[i + 1]) &#123; var tem = a[i]; a[i] = a[i + 1]; a[i + 1] = tem; &#125; if(i == l - 1) &#123; i = -1; l--; &#125; &#125; console.log(a); Object.assignÂÆûÁé∞:1234567891011121314151617181920212223242526272829303132333435363738if (!Object.assign) &#123; // ÂÆö‰πâassignÊñπÊ≥ï Object.defineProperty(Object, &apos;assign&apos;, &#123; enumerable: false, configurable: true, writable: true, value: function(target) &#123; // assignÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ &apos;use strict&apos;; // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôÊäõÈîô if (target === undefined || target === null) &#123; throw new TypeError(&apos;Cannot convert first argument to object&apos;); &#125; var to = Object(target); // ÈÅçÂéÜÂâ©‰ΩôÊâÄÊúâÂèÇÊï∞ for (var i = 1; i &lt; arguments.length; i++) &#123; var nextSource = arguments[i]; // ÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôË∑≥ËøáÔºåÁªßÁª≠‰∏ã‰∏Ä‰∏™ if (nextSource === undefined || nextSource === null) &#123; continue; &#125; nextSource = Object(nextSource); // Ëé∑ÂèñÊîπÂèÇÊï∞ÁöÑÊâÄÊúâkeyÂÄºÔºåÂπ∂ÈÅçÂéÜ var keysArray = Object.keys(nextSource); for (var nextIndex = 0, len = keysArray.length; nextIndex &lt; len; nextIndex++) &#123; var nextKey = keysArray[nextIndex]; var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey); // Â¶ÇÊûú‰∏ç‰∏∫Á©∫‰∏îÂèØÊûö‰∏æÔºåÂàôÁõ¥Êé•ÊµÖÊã∑Ë¥ùËµãÂÄº if (desc !== undefined &amp;&amp; desc.enumerable) &#123; to[nextKey] = nextSource[nextKey]; &#125; &#125; &#125; return to; &#125; &#125;);&#125; JavaScript‰∏≠Â∑ßÁî®‰ΩçËøêÁÆó12345678910111213141516Êó•Â∏∏ÂâçÁ´ØÂºÄÂèë‰∏≠Êàë‰ª¨ÂæàÂ∞ëÁî®Âà∞‰ΩçËøêÁÆóÔºåÂÆπÊòìËÆ©‰∫∫ÈÅóÂøòÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑ÂõûÈ°æ‰∏ã‰∏Ä‰∏ãjs‰∏≠ÁöÑ‰ΩçËøêÁÆó„ÄÇ‰ΩçËøêÁÆóËØ¶ÁªÜËØ¥ÊòéÊü•ÁúãJavaScript|MDN‰∏ãÈù¢‰∏ªË¶ÅÂõûÈ°æ‰∏Ä‰∏ã‰∏Ä‰∫õÂ∏∏Áî®ÁöÑ‰ΩçËøêÁÆóÁöÑÂ∑ßÁî®„ÄÇÂ∞ÜÂçÅËøõÂà∂ËΩ¨Âåñ‰∏∫‰∫åËøõÂà∂var number = 3;var result = number.toString(2);var result2 = 14..toString(2); // &quot;1110&quot;Êàë‰ª¨‰ΩøÁî®‰ΩçËøêÁÆóÊù•‰ª£ÊõøMath.floor()Êù•Âêë‰∏ãÂèñÊï¥var data = 2.2352524535;var result = data | 0; // 2var re2 = ~~data; // 2 Â∞ÜÈ¢úËâ≤‰ªéRGAËΩ¨Êç¢‰∏∫HexÊ†ºÂºè1234567var color = &#123;r: 186, g: 218, b: 85&#125;;// RGB to HEXvar rgb2hex = function(r, g, b) &#123; return &apos;#&apos; + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).substr(1);&#125;rgb2hex(color.r, color.g, color.b);//&quot;#bada55&quot; Â∏∏Áî®ÂáΩÊï∞Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123/*========================Â∏∏Áî®ÂáΩÊï∞========================*//*Êó∂Èó¥Ê†ºÂºèÂåñ*/Date.prototype.Format = function (fmt) &#123; var o = &#123; &quot;M+&quot;: this.getMonth() + 1, /*Êúà‰ªΩ*/ &quot;d+&quot;: this.getDate(), /*Êó•*/ &quot;h+&quot;: this.getHours(), /*Â∞èÊó∂*/ &quot;m+&quot;: this.getMinutes(), /*ÂàÜ*/ &quot;s+&quot;: this.getSeconds(), /*Áßí*/ &quot;q+&quot;: Math.floor((this.getMonth() + 3) / 3), /*Â≠£Â∫¶*/ &quot;S&quot;: this.getMilliseconds() /*ÊØ´Áßí*/ &#125;; if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length)); for (var k in o) if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length))); return fmt;&#125;;/*IEÊµèËßàÂô®‰∏çÊîØÊåÅdate(time),ÊâÄ‰ª•Áî®Ê≠§ÊñπÊ≥ïËΩ¨Êç¢*/function NewDate(fmt) &#123; /*È¶ñÂÖàÂ∞ÜÊó•ÊúüÂàÜÈöî ÔºåËé∑ÂèñÂà∞Êó•ÊúüÈÉ®ÂàÜ Âíå Êó∂Èó¥ÈÉ®ÂàÜ*/ var day = fmt.split(&apos; &apos;); /*Ëé∑ÂèñÊó•ÊúüÈÉ®ÂàÜÁöÑÂπ¥ÊúàÊó•*/ var days = day[0].split(&apos;-&apos;); /*Ëé∑ÂèñÊó∂Èó¥ÈÉ®ÂàÜÁöÑ Êó∂ÂàÜÁßí*/ var mi = day[day.length - 1].split(&apos;:&apos;); /*Ëé∑ÂèñÂΩìÂâçdateÁ±ªÂûãÊó•Êúü*/ var date = new Date(); /*ÁªôdateËµãÂÄº Âπ¥ÊúàÊó•*/ date.setUTCFullYear(days[0], days[1] - 1, days[2]); /*ÁªôdateËµãÂÄº Êó∂ÂàÜÁßí È¶ñÂÖàËΩ¨Êç¢utcÊó∂Âå∫ Ôºö+8*/ date.setUTCHours(mi[0] - 8, mi[1], mi[2]); return date;&#125;/*‰∏∫Á©∫Âà§Êñ≠*/function isEmpty(s) &#123; switch (typeof(s)) &#123; case &apos;string&apos;: return !s.length; break; case &apos;array&apos;: case &apos;object&apos;: for (var i in s) return false; return true; break; case &apos;undefined&apos;: return true; break; default: return !s; break; &#125;&#125;/*Êï∞Â≠óÂà§Êñ≠*/function isNumber(s) &#123; return typeof(s) == &apos;number&apos; ? true : false;&#125;/*Êï¥Êï∞Âà§Êñ≠*/function isInt(s) &#123; var re = /^-?\d*$/; return re.test(s);&#125;/*Ê≠£Êï¥Êï∞Âà§Êñ≠*/function isUInt(s) &#123; var re = /^\d*$/; return re.test(s) &amp;&amp; s &gt;= 0;&#125;/*Â∞èÊï∞Âà§Êñ≠*/function isDecimal(s, bit) &#123; if (!arguments[1]) bit = -1; if (bit == -1) &#123; var re = /^-?\d*.?\d*$/; return re.test(s); &#125; else &#123; var re = new RegExp(&apos;^-?\\d*.?\\d&#123;0,&apos; + bit + &apos;&#125;$&apos;); return re.test(s); &#125;&#125;/*Ê≠£Â∞èÊï∞Âà§Êñ≠*/function isUDecimal(s, bit) &#123; if (!arguments[1]) bit = -1; if (bit == -1) &#123; var re = /^\d*.?\d*$/; return re.test(s) &amp;&amp; s &gt;= 0; &#125; else &#123; var re = new RegExp(&apos;^\\d*.?\\d&#123;0,&apos; + bit + &apos;&#125;$&apos;); return re.test(s) &amp;&amp; s &gt;= 0; &#125;&#125;/*Â≠óÁ¨¶‰∏≤Âà§Êñ≠*/function isString(s) &#123; return typeof(s) == &apos;string&apos;;&#125;/*========================/Â∏∏Áî®ÂáΩÊï∞========================*/js onkeyup replace Ëá™Âä®ÊõøÊç¢Ê£ÄÊµãÊµÆÁÇπÊï∞ Âè™ËÉΩÊòØÊï¥Êï∞ÊàñËÄÖÂ∞èÊï∞ Â§ö‰ΩôÁöÑÂ∞±replace Êéâ ÁöÑË°®ÂçïÈ™åËØÅfunction checkFloatNum(obj)&#123; //ÂÖàÊääÈùûÊï∞Â≠óÁöÑÈÉΩÊõøÊç¢ÊéâÔºåÈô§‰∫ÜÊï∞Â≠óÂíå. obj.value = obj.value.replace(/[^\d.]/g,&quot;&quot;); //ÂøÖÈ°ª‰øùËØÅÁ¨¨‰∏Ä‰∏™‰∏∫Êï∞Â≠óËÄå‰∏çÊòØ. obj.value = obj.value.replace(/^\./g,&quot;&quot;); //‰øùËØÅÂè™ÊúâÂá∫Áé∞‰∏Ä‰∏™.ËÄåÊ≤°ÊúâÂ§ö‰∏™. obj.value = obj.value.replace(/\.&#123;2,&#125;/g,&quot;.&quot;); //‰øùËØÅ.Âè™Âá∫Áé∞‰∏ÄÊ¨°ÔºåËÄå‰∏çËÉΩÂá∫Áé∞‰∏§Ê¨°‰ª•‰∏ä obj.value = obj.value.replace(&quot;.&quot;,&quot;$#$&quot;).replace(/\./g,&quot;&quot;).replace(&quot;$#$&quot;,&quot;.&quot;);&#125; performance1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950;(function() &#123; handleAddListener(&apos;load&apos;, getTiming) function handleAddListener(type, fn) &#123; if(window.addEventListener) &#123; window.addEventListener(type, fn) &#125; else &#123; window.attachEvent(&apos;on&apos; + type, fn) &#125; &#125; function getTiming() &#123; try &#123; var time = performance.timing; var timingObj = &#123;&#125;; var loadTime = (time.loadEventEnd - time.loadEventStart) / 1000; if(loadTime &lt; 0) &#123; setTimeout(function() &#123; getTiming(); &#125;, 200); return; &#125; timingObj[&apos;ÈáçÂÆöÂêëÊó∂Èó¥&apos;] = (time.redirectEnd - time.redirectStart) / 1000; timingObj[&apos;DNSËß£ÊûêÊó∂Èó¥&apos;] = (time.domainLookupEnd - time.domainLookupStart) / 1000; timingObj[&apos;TCPÂÆåÊàêÊè°ÊâãÊó∂Èó¥&apos;] = (time.connectEnd - time.connectStart) / 1000; timingObj[&apos;HTTPËØ∑Ê±ÇÂìçÂ∫îÂÆåÊàêÊó∂Èó¥&apos;] = (time.responseEnd - time.requestStart) / 1000; timingObj[&apos;DOMÂºÄÂßãÂä†ËΩΩÂâçÊâÄËä±Ë¥πÊó∂Èó¥&apos;] = (time.responseEnd - time.navigationStart) / 1000; timingObj[&apos;DOMÂä†ËΩΩÂÆåÊàêÊó∂Èó¥&apos;] = (time.domComplete - time.domLoading) / 1000; timingObj[&apos;DOMÁªìÊûÑËß£ÊûêÂÆåÊàêÊó∂Èó¥&apos;] = (time.domInteractive - time.domLoading) / 1000; timingObj[&apos;ËÑöÊú¨Âä†ËΩΩÊó∂Èó¥&apos;] = (time.domContentLoadedEventEnd - time.domContentLoadedEventStart) / 1000; timingObj[&apos;onload‰∫ã‰ª∂Êó∂Èó¥&apos;] = (time.loadEventEnd - time.loadEventStart) / 1000; timingObj[&apos;È°µÈù¢ÂÆåÂÖ®Âä†ËΩΩÊó∂Èó¥&apos;] = (timingObj[&apos;ÈáçÂÆöÂêëÊó∂Èó¥&apos;] + timingObj[&apos;DNSËß£ÊûêÊó∂Èó¥&apos;] + timingObj[&apos;TCPÂÆåÊàêÊè°ÊâãÊó∂Èó¥&apos;] + timingObj[&apos;HTTPËØ∑Ê±ÇÂìçÂ∫îÂÆåÊàêÊó∂Èó¥&apos;] + timingObj[&apos;DOMÁªìÊûÑËß£ÊûêÂÆåÊàêÊó∂Èó¥&apos;] + timingObj[&apos;DOMÂä†ËΩΩÂÆåÊàêÊó∂Èó¥&apos;]); for(item in timingObj) &#123; console.log(item + &quot;:&quot; + timingObj[item] + &apos;ÊØ´Áßí(ms)&apos;); &#125; console.log(performance.timing); &#125; catch(e) &#123; console.log(timingObj) console.log(performance.timing); &#125; &#125;&#125;)(); Cookie1234567891011121314151617181920212223242526export default class Cookie &#123; //ÂÜôcookies static setCookie = (name, value) =&gt; &#123; var Days = 30; var exp = new Date(); exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000); document.cookie = name + &quot;=&quot; + escape(value) + &quot;;expires=&quot; + exp.toGMTString(); &#125; //ËØªÂèñcookies static getCookie = (name) =&gt; &#123; var arr, reg = new RegExp(&quot;(^| )&quot; + name + &quot;=([^;]*)(;|$)&quot;); if(arr = document.cookie.match(reg)) return unescape(arr[2]); else return null; &#125; //Âà†Èô§cookies static delCookie = (name) =&gt; &#123; var exp = new Date(); exp.setTime(exp.getTime() - 1); var cval = getCookie(name); if(cval != null) document.cookie = name + &quot;=&quot; + cval + &quot;;expires=&quot; + exp.toGMTString(); &#125;&#125; jsonp123456789101112131415161718192021222324252627282930313233 function jsonp(objects)&#123; objects = objects || &#123;&#125;; if(!objects.url || !objects.callback)&#123; throw new Error(&apos;ÂèÇÊï∞‰∏çÂêàÊ≥ï&apos;); &#125; //ÂàõÂª∫scriptÊ†áÁ≠æÂπ∂ÊèíÂÖ• var callbackName = (&apos;jsonp_&apos; + Math.random()).replace(&quot;.&quot;, &quot;&quot;);//ÈöèÊú∫ÁîüÊàêcallbackName var script = document.createElement(&apos;script&apos;); var body = document.getElementsByTagName(&apos;body&apos;)[0]; body.appendChild(script); window[callbackName] = function (json) &#123; body.removeChild(script); clearTimeout(script.timer); window[callbackName] = null; objects.callback &amp;&amp; objects.callback(json); &#125;; //ÂèëÂá∫ËØ∑Ê±Ç script.src = objects.url + callbackName; //ÂìçÂ∫îÊó∂Èó¥ if(objects.time)&#123; script.timer = setTimeout(function () &#123; window[callbackName] = null; body.removeChild(script); objects.fail &amp;&amp; objects.fail(&apos;Ë∂ÖÊó∂&apos;); &#125;, objects.time); &#125; &#125;&#125; jsÂà§Êñ≠DOMÊòØÂê¶ÂåÖÂê´Âè¶‰∏Ä‰∏™DOM1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; .first&#123; width: 200px; height: 200px; background: red; &#125; .first-child&#123; width: 100px; height: 100px; background: green; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;first&quot;&gt; &lt;div class=&quot;first-child&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;second&quot;&gt; &lt;div class=&quot;second-child&quot;&gt; &lt;div class=&quot;second-child-child&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot;&gt; var first = document.querySelector(&apos;.first&apos;); var firstchild = document.querySelector(&apos;.first-child&apos;); var second = document.querySelector(&apos;.second&apos;); var secondchild = document.querySelector(&apos;.second-child&apos;); var secondchildchild = document.querySelector(&apos;.second-child-child&apos;); function isChildOf(child, parent) &#123; var parentNode; if(child &amp;&amp; parent) &#123; parentNode = child.parentNode; while(parentNode) &#123; if(parent === parentNode) &#123; return true; &#125; parentNode = parentNode.parentNode; &#125; &#125; return false; &#125; console.log(isChildOf(firstchild, first)); console.log(isChildOf(secondchild, second)); console.log(isChildOf(secondchildchild, secondchild)); console.log(isChildOf(secondchildchild, second)); console.log(isChildOf(secondchildchild, first)); console.log(document.documentElement.contains(document.body)); console.log(second.contains(secondchildchild)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ÂõûÂà∞È°∂ÈÉ®Â∏¶Âä®Áîª123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110/* ÊªöÂä®Êù°Âä®ÁîªÔºö * ÁßªÂä®Á´Ø:document.body.scrollTop PCÁ´ØÔºödocument.documentElement.scrollTop //‰ΩøÁî®:gotoTop(400,callBack) gotoTop(durations, callback = undefined) &#123; const doc = document.documentElement const scrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0) for (var i = 60; i &gt;= 0; i--) &#123; setTimeout((i =&gt; &#123; return () =&gt; &#123; doc.scrollTop = scrollTop * i / 60 if (i === 0 &amp;&amp; typeof callback === &apos;function&apos;) &#123; callback() &#125; &#125; &#125;)(i), durations * (1 - i / 60)) &#125; &#125; * */var requestAnimFrame = (function() &#123; return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) &#123; window.setTimeout(callback, 1000 / 60); &#125;;&#125;)();var cancelAnimationFrame = (function() &#123; return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function(id) &#123; window.clearTimeout(id) &#125;&#125;)()// Tween‰∏≠ÁöÑÊñπÊ≥ïÊé•Âèó4‰∏™ÂèÇÊï∞t,b,c,d „ÄÇt‰∏∫ÂàùÂßãÊó∂Èó¥ b„ÄÅc„ÄÅd‰∏â‰∏™ÂèÇÊï∞ÔºàÂç≥ÂàùÂßãÂÄºÔºåÂèòÂåñÈáèÔºåÊåÅÁª≠Êó∂Èó¥Ôºâ„ÄÇËøîÂõûÂÄº‰∏∫ÂΩìÂâç‰ΩçÁΩÆ// t =&gt; time(ÂàùÂßãËÆ∞Ê≠•Ê¨°Êï∞) b =&gt; begin(ÂàùÂßã‰ΩçÁΩÆ) c =&gt; change(ÂèòÂåñÈáè) d =&gt; duration(ÊåÅÁª≠Ê¨°Êï∞)var tween = &#123; linear: function(t, b, c, d) &#123; return c * t / d + b; &#125;, easeIn: function(t, b, c, d) &#123; return c * (t /= d) * t + b; &#125;, strongEaseIn: function(t, b, c, d) &#123; return c * (t /= d) * t * t * t * t + b; &#125;, strongEaseOut: function(t, b, c, d) &#123; return c * ((t = t / d - 1) * t * t * t * t + 1) + b; &#125;, sineaseIn: function(t, b, c, d) &#123; return c * (t /= d) * t * t + b; &#125;, sineaseOut: function(t, b, c, d) &#123; return c * ((t = t / d - 1) * t * t + 1) + b; &#125;, easeInOutQuad: function(t, b, c, d) &#123; t /= d / 2; if(t &lt; 1) return c / 2 * t * t + b; t--; return -c / 2 * (t * (t - 2) - 1) + b; &#125;&#125;;var myReq; export var animatedScrollTo = function(element, to, duration, callback, Bzr = &apos;linear&apos;) &#123; var start = element.scrollTop, change = to - start, animationStart = +new Date(); var animating = true; var lastpos = null; var animateScroll = function() &#123; if(!animating) &#123; return; &#125; myReq=requestAnimFrame(animateScroll); var now = +new Date(); var val = Math.floor(tween[Bzr](now - animationStart, start, change, duration)); if(lastpos) &#123; if(lastpos === element.scrollTop) &#123; lastpos = val; element.scrollTop = val; &#125; else &#123; animating = false; &#125; &#125; else &#123; lastpos = val; element.scrollTop = val; &#125; if(now &gt; animationStart + duration) &#123; element.scrollTop = to; animating = false; cancelAnimationFrame(myReq); //Ê∏ÖÈô§ÂÆöÊó∂Âô®Âä®Áîª callback&amp;&amp;callback(); &#125; &#125;; myReq=requestAnimFrame(animateScroll);&#125;; ‰ΩøÁî®jsÂî§Ëµ∑Native‰∏ãÁöÑApp123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188/** * ÊµèËßàÂô®ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ */var Browser = /** @class */ (function() &#123; function Browser() &#123;&#125; /** * Ëé∑ÂèñÊµèËßàÂô®Êï∞ÊçÆ */ Browser.getBrowser = function() &#123; var UA = navigator.userAgent || &apos;&apos; var isAndroid = (function() &#123; return UA.match(/Android/i) ? true : false &#125;)() var isQQ = (function() &#123; return /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/.test(UA) || /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/.test(UA) &#125;)() var isIOS = (function() &#123; return UA.match(/iPhone|iPad|iPod/i) ? true : false &#125;)() var isSafari = (function() &#123; return /iPhone|iPad|iPod\/([\w.]+).*(safari).*/i.test(UA) &#125;)() var isWx = (function() &#123; return UA.match(/micromessenger/i) ? true : false &#125;)() var isWb = (function() &#123; return UA.match(/weibo/i) ? true : false &#125;)() var isAndroidChrome = (function() &#123; return(UA.match(/Chrome\/([\d.]+)/) || UA.match(/CriOS\/([\d.]+)/)) &amp;&amp; isAndroid &amp;&amp; !isQQ &#125;)() var isQZ = (function() &#123; return UA.indexOf(&apos;Qzone/&apos;) !== -1 &#125;)() var browser = &#123; isAndroid: isAndroid, isIOS: isIOS, isSafari: isSafari, isQQ: isQQ, isWb: isWb, isWx: isWx, isQZ: isQZ, isAndroidChrome: isAndroidChrome &#125; return browser &#125; return Browser&#125;)()/** * AppLink:H5Âî§Ëµ∑APPÁöÑÊâÄÊúâÊñπÊ≥ï */var AppLink = /** @class */ (function() &#123; /** * Á±ªÁöÑcontructorÊñπÊ≥ï * @param config IAppLinkÁ±ªÂûãÁöÑconfigÊñá‰ª∂ */ function AppLink(config) &#123; /** * UA */ this.UA = &#123;&#125; /** * ‰º†ÂÖ•ÁöÑconfigÊï∞ÊçÆÔºå‰ª•Êé•Âè£Á∫¶Êùü */ this.config = &#123;&#125; this.UA = navigator.userAgent || &apos;&apos; this.config = config &#125; /** * Ë∑≥ËΩ¨ÂáΩÊï∞ * @param url ÈìæÊé• */ AppLink.prototype.go = function(url) &#123; window.location.href = url &#125; /** * Ê£ÄÊü•ÊòØÂê¶Âî§Ëµ∑ * @param cb ÂõûË∞ÉÂáΩÊï∞ */ AppLink.prototype.checkOpen = function(cb) &#123; var inter = null var statue = false var count = 0 inter = window.setInterval(function() &#123; count++ statue = document.hidden || document.webkitHidden if(statue || count &gt; 40) &#123; cb(statue) clearInterval(inter) &#125; &#125;, 50) &#125; /** * Â§ñÈÉ®Ë∞ÉÁî®ÁöÑÂÖ•Âè£ÂáΩÊï∞ */ AppLink.prototype.open = function() &#123; var _this = this var browser = Browser.getBrowser() var config = this.config // ÂæÆ‰ø°Áõ¥Êé•Ë∑≥ Â∫îÁî®ÂÆù if(browser.isWx) &#123; this.go(this.config.yyb) &#125; else if(browser.isQQ) &#123; if(browser.isIOS) &#123; // Ê≤°Êúâ‰∏ãËΩΩ this.checkOpen(function(isSuccess) &#123; if(!isSuccess) &#123; _this.go(_this.config.appstore) &#125; &#125;) &#125; // iOSË∑≥Âà∞AppStore if(browser.isAndroid) &#123; // ‰ΩøÁî®schemeÂî§Ëµ∑ this.tryCallApp(this.config.schema) // Âî§Ëµ∑Â§±Ë¥• Ë∑≥Âà∞Â∫îÁî®ÂÆù this.checkOpen(function(isSuccess) &#123; if(!isSuccess) &#123; _this.go(_this.config.yyb) &#125; &#125;) &#125; &#125; else if(browser.isWb) &#123; // ‰ΩøÁî®schemeÂî§Ëµ∑ this.tryCallApp(this.config.schema) // ÂæÆÂçöÔºöÂî§Ëµ∑Â§±Ë¥•Ôºå‰πü‰∏çË∑≥ËΩ¨Ôºå‰ºöÊúâÂºïÂØºÂäüËÉΩ &#125; else if(browser.isSafari) &#123; var version = this.getIOSVersion() // iOS10‰ª•‰∏ã‰∏çÊîØÊåÅÁõ¥Êé•Ë∑≥ËΩ¨Âà∞AppStoreÔºåË∑≥Âà∞Â∫îÁî®ÂÆù if(version &lt; 10) &#123; this.go(this.config.yyb) &#125; else &#123; this.go(this.config.appstore) &#125; &#125; else &#123; // ÂÖ∂‰ªñÊÉÖÂÜµÔºåÁõ¥Êé•Ë∑≥Â∫îÁî®ÂÆù this.go(this.config.yyb) &#125; &#125; /** * ‰∏ãËΩΩÊåâÈíÆÁöÑurlÂú∞ÂùÄ */ AppLink.prototype.getDownloadUrl = function() &#123; var browser = Browser.getBrowser() var config = this.config var url = &apos;&apos; if(browser.isQQ) &#123; if(browser.isIOS) &#123; url = this.config.appstore &#125; else &#123; url = this.config.yyb &#125; &#125; else if(browser.isSafari) &#123; var version = this.getIOSVersion() if(version &lt; 10) &#123; url = this.config.yyb &#125; else &#123; url = this.config.appstore &#125; &#125; else if(browser.isWb) &#123; url = &apos;&apos; &#125; else &#123; url = this.config.yyb &#125; return url &#125; /** * Â∞ùËØïÂî§Ëµ∑APP * @param scheme Âî§Ëµ∑ÁöÑscheme */ AppLink.prototype.tryCallApp = function(scheme) &#123; var aLink = document.createElement(&apos;a&apos;), body = document.body aLink.href = scheme body.appendChild(aLink) aLink.click() &#125; /** * Âà§Êñ≠iOSÁâàÊú¨ */ AppLink.prototype.getIOSVersion = function() &#123; var ver = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/) var version = parseInt(ver[1], 10) return version &#125; return AppLink&#125;)() È´òÈò∂ÂáΩÊï∞12345678910111213141516171819202122232425262728&lt;script type=&quot;text/javascript&quot;&gt; function add(...x) &#123; var sum = x.reduce((a,b)=&gt;a+b,0) var tmp = function(...y) &#123; sum =sum+y.reduce((a,b)=&gt;a+b,0) return tmp; &#125;; tmp.toString = function() &#123; return sum; &#125;; return tmp; &#125; console.log(+add(1)(2)(3)) // 6 console.log(+add(1)(2,3)) // 6 console.log(+add(1,2)(3)) // 6 console.log(+add(1)(2)(3,4)) //10 add(1)(2)(3).valueOf //∆í valueOf() &#123; [native code] &#125; add(1)(2)(3).valueOf() //∆í 6 +add(1)(2)(3).valueOf() //6 +&quot;&quot;+add(1)(2)(3).valueOf() //6 &lt;/script&gt; add(2)(3)(),add(2,3)()ËæìÂá∫512345678910111213&lt;script type=&quot;text/javascript&quot;&gt; function sum() &#123; var cur = Array.prototype.slice.call(arguments).reduce(function(a, b) &#123; return a + b; &#125;, 0); function add() &#123; return arguments.length == 0 ? cur : (cur += Array.prototype.slice.call(arguments).reduce(function(a, b) &#123; return a + b &#125;, 0), add); &#125;; return arguments.length == 0 ? 0 : add; &lt;/script&gt; Ëé∑ÂèñCSSÊ†∑Âºè1234567function getStyle(obj, attr) &#123; if(obj.currentStyle) &#123; return obj.currentStyle[attr]; //IE678 &#125; else &#123; return window.getComputedStyle(obj, null)[attr]; &#125;&#125; Colors123456789101112131415161718192021222324252627282930313233343536373839404142434445464748function rgbToRgba(rgbValue) &#123; const rgb = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(rgbValue); return rgb ? `rgba($&#123;rgb[1]&#125;,1)` : rgbValue;&#125;function hexToRgba(hexValue) &#123; const rgx = /^#?([a-f\d])([a-f\d])([a-f\d])$/i; const hex = hexValue.replace(rgx, (m, r, g, b) =&gt; r + r + g + g + b + b); const rgb = /^#?([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i.exec(hex); const r = parseInt(rgb[1], 16); const g = parseInt(rgb[2], 16); const b = parseInt(rgb[3], 16); return `rgba($&#123;r&#125;,$&#123;g&#125;,$&#123;b&#125;,1)`;&#125;function hslToRgba(hslValue) &#123; const hsl = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(hslValue) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(hslValue); const h = parseInt(hsl[1]) / 360; const s = parseInt(hsl[2]) / 100; const l = parseInt(hsl[3]) / 100; const a = hsl[4] || 1; function hue2rgb(p, q, t) &#123; if(t &lt; 0) t += 1; if(t &gt; 1) t -= 1; if(t &lt; 1 / 6) return p + (q - p) * 6 * t; if(t &lt; 1 / 2) return q; if(t &lt; 2 / 3) return p + (q - p) * (2 / 3 - t) * 6; return p; &#125; let r, g, b; if(s == 0) &#123; r = g = b = l; &#125; else &#123; const q = l &lt; 0.5 ? l * (1 + s) : l + s - l * s; const p = 2 * l - q; r = hue2rgb(p, q, h + 1 / 3); g = hue2rgb(p, q, h); b = hue2rgb(p, q, h - 1 / 3); &#125; return `rgba($&#123;r * 255&#125;,$&#123;g * 255&#125;,$&#123;b * 255&#125;,$&#123;a&#125;)`;&#125;function colorToRgb(val) &#123; if(is.rgb(val)) return rgbToRgba(val); if(is.hex(val)) return hexToRgba(val); if(is.hsl(val)) return hslToRgba(val);&#125; 750rem12345678910111213141516(function(doc, win) &#123; var docEl = doc.documentElement, resizeEvt = &apos;orientationchange&apos; in window ? &apos;orientationchange&apos; : &apos;resize&apos;, recalc = function() &#123; var clientWidth = docEl.clientWidth; if(!clientWidth) return; if(clientWidth &gt;= 750) &#123; docEl.style.fontSize = &apos;100px&apos;; &#125; else &#123; docEl.style.fontSize = 100 * (clientWidth / 750) + &apos;px&apos;; &#125; &#125;; if(!doc.addEventListener) return; win.addEventListener(resizeEvt, recalc, false); doc.addEventListener(&apos;DOMContentLoaded&apos;, recalc, false);&#125;)(document, window); Ë°®ÂçïÈ™åËØÅ12345678910111213141516171819202122static checkType = (str, type) =&gt; &#123; switch(type) &#123; case &apos;email&apos;: return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str); case &apos;phone&apos;: return /^1[3|4|5|7|8][0-9]&#123;9&#125;$/.test(str); case &apos;tel&apos;: return /^(0\d&#123;2,3&#125;-\d&#123;7,8&#125;)(-\d&#123;1,4&#125;)?$/.test(str); case &apos;number&apos;: return /^[0-9]$/.test(str); case &apos;english&apos;: return /^[a-zA-Z]+$/.test(str); case &apos;chinese&apos;: return /^[\u4E00-\u9FA5]+$/.test(str); case &apos;lower&apos;: return /^[a-z]+$/.test(str); case &apos;upper&apos;: return /^[A-Z]+$/.test(str); default: return true; &#125;&#125; navigatorÂ∏ÆÂä©Á±ª123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120class navigatorUtil &#123; /** * Â§¥ÈÉ®‰ø°ÊÅØ * @type &#123;[type]&#125; */ static userAgent = navigator.userAgent; /** * ÊòØÂê¶‰∏∫ipad */ static isIPad = () =&gt; &#123; return(navigatorUtil.userAgent.indexOf(&quot;iPad&quot;) &gt; -1); &#125; /** * ÊòØÂê¶‰∏∫iphone * @param &#123;[type]&#125; userAgent [description] * @return &#123;Boolean&#125; [description] */ static isIPhone = () =&gt; &#123; return(navigatorUtil.userAgent.indexOf(&quot;iPhone&quot;) &gt; -1); &#125; /** * ÊòØÂê¶‰∏∫iosÁ≥ªÁªü * @param &#123;[type]&#125; userAgent [description] * @return &#123;Boolean&#125; [description] */ static isIOS = () =&gt; &#123; return navigatorUtil.isIPad(navigatorUtil.userAgent) || navigatorUtil.isIPhone( navigatorUtil.userAgent); &#125; /** * ÊòØÂê¶‰∏∫AndroidÁ≥ªÁªü * @param &#123;[type]&#125; userAgent [description] * @return &#123;Boolean&#125; [description] */ static isAndroid = () =&gt; &#123; return(navigatorUtil.userAgent.indexOf(&quot;Android&quot;) &gt; -1) || (navigatorUtil.userAgent.indexOf(&quot;Linux&quot;) &gt; -1); &#125; /** * Âà§Êñ≠ÊòØÂê¶‰∏∫ÂæÆ‰ø° */ static isWeixin = () =&gt; &#123; return(navigatorUtil.userAgent.indexOf(&quot;MicroMessenger&quot;) &gt; -1); &#125; /** * * @desc Ëé∑ÂèñÊµèËßàÂô®Á±ªÂûãÂíåÁâàÊú¨ * @return &#123;String&#125; */ static getExplore = () =&gt; &#123; var sys = &#123;&#125;, ua = navigator.userAgent.toLowerCase(), s; (s = ua.match(/rv:([\d.]+)\) like gecko/)) ? sys.ie = s[1]: (s = ua.match(/msie ([\d\.]+)/)) ? sys.ie = s[1] : (s = ua.match(/edge\/([\d\.]+)/)) ? sys.edge = s[1] : (s = ua.match(/firefox\/([\d\.]+)/)) ? sys.firefox = s[1] : (s = ua.match(/(?:opera|opr).([\d\.]+)/)) ? sys.opera = s[1] : (s = ua.match(/chrome\/([\d\.]+)/)) ? sys.chrome = s[1] : (s = ua.match(/version\/([\d\.]+).*safari/)) ? sys.safari = s[1] : 0; // Ê†πÊçÆÂÖ≥Á≥ªËøõË°åÂà§Êñ≠ if (sys.ie) return (&apos;IE: &apos; + sys.ie) if(sys.edge) return(&apos;EDGE: &apos; + sys.edge) if(sys.firefox) return(&apos;Firefox: &apos; + sys.firefox) if(sys.chrome) return(&apos;Chrome: &apos; + sys.chrome) if(sys.opera) return(&apos;Opera: &apos; + sys.opera) if(sys.safari) return(&apos;Safari: &apos; + sys.safari) return &apos;Unkonwn&apos; &#125; /** * * @desc Ëé∑ÂèñÊìç‰ΩúÁ≥ªÁªüÁ±ªÂûã * @return &#123;String&#125; */ static getOS = () =&gt; &#123; var userAgent = &apos;navigator&apos; in window &amp;&amp; &apos;userAgent&apos; in navigator &amp;&amp; navigator.userAgent.toLowerCase() || &apos;&apos;; var vendor = &apos;navigator&apos; in window &amp;&amp; &apos;vendor&apos; in navigator &amp;&amp; navigator.vendor.toLowerCase() || &apos;&apos;; var appVersion = &apos;navigator&apos; in window &amp;&amp; &apos;appVersion&apos; in navigator &amp;&amp; navigator.appVersion.toLowerCase() || &apos;&apos;; if(/mac/i.test(appVersion)) return &apos;MacOSX&apos; if(/win/i.test(appVersion)) return &apos;windows&apos; if(/linux/i.test(appVersion)) return &apos;linux&apos; if(/iphone/i.test(userAgent) || /ipad/i.test(userAgent) || /ipod/i.test(userAgent)) &apos;ios&apos; if(/android/i.test(userAgent)) return &apos;android&apos; if(/win/i.test(appVersion) &amp;&amp; /phone/i.test(userAgent)) return &apos;windowsPhone&apos; &#125; //ËøõÂÖ•ÂÖ®Â±èÊ®°Âºè, Âà§Êñ≠ÂêÑÁßçÊµèËßàÂô®ÔºåÊâæÂà∞Ê≠£Á°ÆÁöÑÊñπÊ≥ï static launchFullScreen = (element) =&gt; &#123; if(element.requestFullscreen) &#123; element.requestFullscreen(); &#125; else if(element.mozRequestFullScreen) &#123; element.mozRequestFullScreen(); &#125; else if(element.webkitRequestFullscreen) &#123; element.webkitRequestFullscreen(); &#125; else if(element.msRequestFullscreen) &#123; element.msRequestFullscreen(); &#125; return true; &#125; //ÈÄÄÂá∫ÂÖ®Â±èÊ®°Âºè static exitFullScreen = () =&gt; &#123; if(document.exitFullscreen) &#123; document.exitFullscreen(); &#125; else if(document.mozCancelFullScreen) &#123; document.mozCancelFullScreen(); &#125; else if(document.webkitExitFullscreen) &#123; document.webkitExitFullscreen(); &#125; return false; &#125;&#125; promise123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224function Promise(task) &#123; let self = this; //ÁºìÂ≠òthis self.status = &apos;pending&apos;; //ÈªòËÆ§Áä∂ÊÄÅ‰∏∫pending self.value = undefined; //Â≠òÊîæÁùÄÊ≠§promiseÁöÑÁªìÊûú self.onResolvedCallbacks = []; //Â≠òÊîæÁùÄÊâÄÊúâÊàêÂäüÁöÑÂõûË∞ÉÂáΩÊï∞ self.onRejectedCallbacks = []; //Â≠òÊîæÁùÄÊâÄÊúâÁöÑÂ§±Ë¥•ÁöÑÂõûË∞ÉÂáΩÊï∞ // Ë∞ÉÁî®resolveÊñπÊ≥ïÂèØ‰ª•ÊääpromiseÁä∂ÊÄÅÂèòÊàêÊàêÂäüÊÄÅ function resolve(value) &#123; if(value instanceof Promise) &#123; return value.then(resolve, reject) &#125; setTimeout(function() &#123; // ÂºÇÊ≠•ÊâßË°åÊâÄÊúâÁöÑÂõûË∞ÉÂáΩÊï∞ // Â¶ÇÊûúÂΩìÂâçÁä∂ÊÄÅÊòØÂàùÂßãÊÄÅÔºàpendingÔºâÔºåÂàôËΩ¨ÊàêÊàêÂäüÊÄÅ // Ê≠§Â§ÑËøô‰∏™ÂÜôÂà§Êñ≠ÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫resolvedÂíårejected‰∏§‰∏™Áä∂ÊÄÅÂè™ËÉΩÁî±pendingËΩ¨ÂåñËÄåÊù•Ôºå‰∏§ËÄÖ‰∏çËÉΩÁõ∏‰∫íËΩ¨Âåñ if(self.status == &apos;pending&apos;) &#123; self.value = value; self.status = &apos;resolved&apos;; self.onResolvedCallbacks.forEach(item =&gt; item(self.value)); &#125; &#125;); &#125; // Ë∞ÉÁî®rejectÊñπÊ≥ïÂèØ‰ª•ÊääÂΩìÂâçÁöÑpromiseÁä∂ÊÄÅÂèòÊàêÂ§±Ë¥•ÊÄÅ function reject(value) &#123; setTimeout(function() &#123; if(self.status == &apos;pending&apos;) &#123; self.value = value; self.status = &apos;rejected&apos;; self.onRejectedCallbacks.forEach(item =&gt; item(value)); &#125; &#125;); &#125; // Á´ãÂç≥ÊâßË°å‰º†ÂÖ•ÁöÑ‰ªªÂä° try &#123; task(resolve, reject); &#125; catch(e) &#123; reject(e); &#125;&#125;/** * resolvePromiseÂáΩÊï∞ÁöÑÁõÆÁöÑÊòØ‰∏éÂéüÁîüPromiseÁõ∏ÂÖºÂÆπÔºåÂèØ‰ª•‰∫íÁõ∏Ë∞ÉÁî® */function resolvePromise(promise2, x, resolve, reject) &#123; // Â∞ÜËøîÂõûÁöÑpromise‰∏çÂÅúÁöÑË∞ÉÁî®ÊâßË°åÔºåÁõ¥Âà∞Â§±Ë¥•ÊàñËÄÖËøîÂõû‰∏Ä‰∏™ÊôÆÈÄöÁöÑÊï∞ÊçÆÁ±ªÂûã if(promise2 === x) &#123; return reject(new TypeError(&apos;Âæ™ÁéØÂºïÁî®&apos;)); &#125; let then, called; if(x != null &amp;&amp; ((typeof x == &apos;object&apos; || isFunction(x)))) &#123; // promise try &#123; then = x.then; if(isFunction(then)) &#123; then.call(x, function(value) &#123; if(called) return; called = true; resolvePromise(promise2, value, resolve, reject); &#125;, function(reason) &#123; if(called) return; called = true; reject(reason); &#125;); &#125; else &#123; resolve(x); &#125; &#125; catch(e) &#123; if(called) return; called = true; reject(e); &#125; &#125; else &#123; resolve(x); &#125;&#125;/** * onFulfilledÊàêÂäüÁöÑÂõûË∞ÉÔºåonRejectÂ§±Ë¥•ÁöÑÂõûË∞É */Promise.prototype.then = function(onFulfilled, onRejected) &#123; let self = this; // ÂΩìË∞ÉÁî®Êó∂Ê≤°ÊúâÂÜôÂáΩÊï∞ÁªôÂÆÉ‰∏Ä‰∏™ÈªòËÆ§ÂáΩÊï∞ÂÄº onFulfilled = isFunction(onFulfilled) ? onFulfilled : function(value) &#123; return value &#125;; onRejected = isFunction(onRejected) ? onRejected : function(value) &#123; throw value &#125;; let promise2; if(self.status == &apos;resolved&apos;) &#123; promise2 = new Promise(function(resolve, reject) &#123; setTimeout(function() &#123; try &#123; let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if(self.status == &apos;rejected&apos;) &#123; promise2 = new Promise(function(resolve, reject) &#123; setTimeout(function() &#123; try &#123; let x = onRejected(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if(self.status == &apos;pending&apos;) &#123; promise2 = new Promise(function(resolve, reject) &#123; self.onResolvedCallbacks.push(function(value) &#123; try &#123; let x = onFulfilled(value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); self.onRejectedCallbacks.push(function(value) &#123; try &#123; let x = onRejected(value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; return promise2;&#125;/** * catchÂÆûÈôÖ‰∏äÊòØthenÁöÑ‰∏Ä‰∏™ÁÆÄÂÜô,ÊàêÂäüÂõûË∞É‰º†Á©∫ÂÄºÂç≥ÂèØ */Promise.prototype.catch = function(onRejected) &#123; return this.then(null, onRejected);&#125;/** * Promise.reject(error)ÊòØÂíå Promise.resolve(value) Á±ª‰ººÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÊòØ new Promise() ÊñπÊ≥ïÁöÑÂø´Êç∑ÊñπÂºè„ÄÇ */Promise.resolve = function(value) &#123; return new Promise(function(resolve, reject) &#123; if(typeof value !== null &amp;&amp; typeof value === &apos;object&apos; &amp;&amp; isFunction(value.then)) &#123; value.then(); &#125; else &#123; resolve(value); &#125; &#125;)&#125;;Promise.reject = function(reason) &#123; return new Promise(function(resolve, reject) &#123; reject(reason); &#125;)&#125;;/** * allÊñπÊ≥ïÔºåÂèØ‰ª•‰º†ÂÖ•Â§ö‰∏™promiseÔºåÂÖ®ÈÉ®ÊâßË°åÂÆåÂêé‰ºöÂ∞ÜÁªìÊûú‰ª•Êï∞ÁªÑÁöÑÊñπÂºèËøîÂõûÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•Â∞±ËøîÂõûÂ§±Ë¥• */Promise.all = function(promises) &#123; return new Promise(function(resolve, reject) &#123; let result = []; // allÊñπÊ≥ïÊúÄÁªàËøîÂõûÁöÑÁªìÊûú let count = 0; // ÂÆåÊàêÁöÑÊï∞Èáè for(let i = 0; i &lt; promises.length; i++) &#123; promises[i].then(function(data) &#123; result[i] = data; if(++count == promises.length) &#123; resolve(result); &#125; &#125;, function(err) &#123; reject(err); &#125;); &#125; &#125;);&#125;/** * raceÊñπÊ≥ïÔºåÂèØ‰ª•‰º†ÂÖ•Â§ö‰∏™promiseÔºåËøîÂõûÁöÑÊòØÁ¨¨‰∏Ä‰∏™ÊâßË°åÂÆåÁöÑresolveÁöÑÁªìÊûúÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•Â∞±ËøîÂõûÂ§±Ë¥• */Promise.race = function(promises) &#123; return new Promise(function(resolve, reject) &#123; for(let i = 0; i &lt; promises.length; i++) &#123; promises[i].then(function(data) &#123; resolve(data); &#125;, function(err) &#123; reject(err); &#125;); &#125; &#125;);&#125;Promise.deferred = Promise.defer = function() &#123; var defer = &#123;&#125;; defer.promise = new Promise(function(resolve, reject) &#123; defer.resolve = resolve; defer.reject = reject; &#125;) return defer;&#125;/** * ‰∏Ä‰∫õ‰ºöÂ§öÊ¨°‰ΩøÁî®ÁöÑÂ§çÁî®ÂäüËÉΩÂáΩÊï∞ */function isFunction(obj) &#123; return typeof obj === &quot;function&quot;;&#125;/** * ÊúÄÂêéÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£Ö‰∏Ä‰∏™promisesÊµãËØïÊèí‰ª∂ÔºåÁî®Êèí‰ª∂Êù•ÊµãËØïËá™Â∑±ÂÆûÁé∞ÁöÑpromiseÁ¨¶‰∏çÁ¨¶ÂêàËßÑËåÉ * npm(cnpm) i -g promises-aplus-tests * promises-aplus-tests Promise.js */module.exports = Promise; ES6 promise123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230class es6Promise &#123; constructor(task) &#123; let self = this; //ÁºìÂ≠òthis self.status = &apos;pending&apos;; //ÈªòËÆ§Áä∂ÊÄÅ‰∏∫pending self.value = undefined; //Â≠òÊîæÁùÄÊ≠§promiseÁöÑÁªìÊûú self.onResolvedCallbacks = []; //Â≠òÊîæÁùÄÊâÄÊúâÊàêÂäüÁöÑÂõûË∞ÉÂáΩÊï∞ self.onRejectedCallbacks = []; //Â≠òÊîæÁùÄÊâÄÊúâÁöÑÂ§±Ë¥•ÁöÑÂõûË∞ÉÂáΩÊï∞ // Ë∞ÉÁî®resolveÊñπÊ≥ïÂèØ‰ª•ÊääpromiseÁä∂ÊÄÅÂèòÊàêÊàêÂäüÊÄÅ function resolve(value) &#123; if(value instanceof Promise) &#123; return value.then(resolve, reject) &#125; setTimeout(() =&gt; &#123; // ÂºÇÊ≠•ÊâßË°åÊâÄÊúâÁöÑÂõûË∞ÉÂáΩÊï∞ // Â¶ÇÊûúÂΩìÂâçÁä∂ÊÄÅÊòØÂàùÂßãÊÄÅÔºàpendingÔºâÔºåÂàôËΩ¨ÊàêÊàêÂäüÊÄÅ // Ê≠§Â§ÑËøô‰∏™ÂÜôÂà§Êñ≠ÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫resolvedÂíårejected‰∏§‰∏™Áä∂ÊÄÅÂè™ËÉΩÁî±pendingËΩ¨ÂåñËÄåÊù•Ôºå‰∏§ËÄÖ‰∏çËÉΩÁõ∏‰∫íËΩ¨Âåñ if(self.status == &apos;pending&apos;) &#123; self.value = value; self.status = &apos;resolved&apos;; self.onResolvedCallbacks.forEach(item =&gt; item(self.value)); &#125; &#125;); &#125; // Ë∞ÉÁî®rejectÊñπÊ≥ïÂèØ‰ª•ÊääÂΩìÂâçÁöÑpromiseÁä∂ÊÄÅÂèòÊàêÂ§±Ë¥•ÊÄÅ function reject(value) &#123; setTimeout(() =&gt; &#123; if(self.status == &apos;pending&apos;) &#123; self.value = value; self.status = &apos;rejected&apos;; self.onRejectedCallbacks.forEach(item =&gt; item(value)); &#125; &#125;); &#125; // Á´ãÂç≥ÊâßË°å‰º†ÂÖ•ÁöÑ‰ªªÂä° try &#123; task(resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125; /** * onFulfilledÊàêÂäüÁöÑÂõûË∞ÉÔºåonRejectÂ§±Ë¥•ÁöÑÂõûË∞É * ÂéüÂûãÈìæÊñπÊ≥ï */ then(onFulfilled, onRejected) &#123; let self = this; // ÂΩìË∞ÉÁî®Êó∂Ê≤°ÊúâÂÜôÂáΩÊï∞ÁªôÂÆÉ‰∏Ä‰∏™ÈªòËÆ§ÂáΩÊï∞ÂÄº onFulfilled = isFunction(onFulfilled) ? onFulfilled : value =&gt; value; onRejected = isFunction(onRejected) ? onRejected : value =&gt; &#123; throw value &#125;; let promise2; if(self.status == &apos;resolved&apos;) &#123; promise2 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if(self.status == &apos;rejected&apos;) &#123; promise2 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; let x = onRejected(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; if(self.status == &apos;pending&apos;) &#123; promise2 = new Promise((resolve, reject) =&gt; &#123; self.onResolvedCallbacks.push(value =&gt; &#123; try &#123; let x = onFulfilled(value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); self.onRejectedCallbacks.push(value =&gt; &#123; try &#123; let x = onRejected(value); resolvePromise(promise2, x, resolve, reject); &#125; catch(e) &#123; reject(e); &#125; &#125;); &#125;); &#125; return promise2; &#125; /** * catchÂÆûÈôÖ‰∏äÊòØthenÁöÑ‰∏Ä‰∏™ÁÆÄÂÜô,ÊàêÂäüÂõûË∞É‰º†Á©∫ÂÄºÂç≥ÂèØ * ÂéüÂûãÈìæÊñπÊ≥ï */ catch(onRejected) &#123; return this.then(null, onRejected); &#125; /** * Promise.reject(err)ÊòØÂíå Promise.resolve(value) Á±ª‰ººÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÊòØ new Promise() ÊñπÊ≥ïÁöÑÂø´Êç∑ÊñπÂºè„ÄÇ * ÈùôÊÄÅÊñπÊ≥ï‰∏∫Á±ªËá™Â∑±ÁöÑÊñπÊ≥ïÔºå‰∏çÂú®ÂéüÂûãÈìæ‰∏ä */ static resolve(value) &#123; return new Promise((resolve, reject) =&gt; &#123; if(typeof value !== null &amp;&amp; typeof value === &apos;object&apos; &amp;&amp; isFunction(value.then)) &#123; value.then(); &#125; else &#123; resolve(value); &#125; &#125;) &#125; static reject(err) &#123; return new Promise((resolve, reject) =&gt; &#123; reject(err); &#125;) &#125; /** * allÊñπÊ≥ïÔºåÂèØ‰ª•‰º†ÂÖ•Â§ö‰∏™promiseÔºåÂÖ®ÈÉ®ÊâßË°åÂÆåÂêé‰ºöÂ∞ÜÁªìÊûú‰ª•Êï∞ÁªÑÁöÑÊñπÂºèËøîÂõûÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•Â∞±ËøîÂõûÂ§±Ë¥• * ÈùôÊÄÅÊñπÊ≥ï‰∏∫Á±ªËá™Â∑±ÁöÑÊñπÊ≥ïÔºå‰∏çÂú®ÂéüÂûãÈìæ‰∏ä */ static all(promises) &#123; return new Promise((resolve, reject) =&gt; &#123; let result = []; // allÊñπÊ≥ïÊúÄÁªàËøîÂõûÁöÑÁªìÊûú let count = 0; // ÂÆåÊàêÁöÑÊï∞Èáè for(let i = 0; i &lt; promises.length; i++) &#123; promises[i].then(data =&gt; &#123; result[i] = data; if(++count == promises.length) &#123; resolve(result); &#125; &#125;, err =&gt; &#123; reject(err); &#125;); &#125; &#125;); &#125; /** * raceÊñπÊ≥ïÔºåÂèØ‰ª•‰º†ÂÖ•Â§ö‰∏™promiseÔºåËøîÂõûÁöÑÊòØÁ¨¨‰∏Ä‰∏™ÊâßË°åÂÆåÁöÑresolveÁöÑÁªìÊûúÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•Â∞±ËøîÂõûÂ§±Ë¥• * ÈùôÊÄÅÊñπÊ≥ï‰∏∫Á±ªËá™Â∑±ÁöÑÊñπÊ≥ïÔºå‰∏çÂú®ÂéüÂûãÈìæ‰∏ä */ static race(promises) &#123; return new Promise((resolve, reject) =&gt; &#123; for(let i = 0; i &lt; promises.length; i++) &#123; promises[i].then(data =&gt; &#123; resolve(data); &#125;, err =&gt; &#123; reject(err); &#125;); &#125; &#125;); &#125;&#125;/** * resolvePromiseÂáΩÊï∞ÁöÑÁõÆÁöÑÊòØ‰∏éÂéüÁîüPromiseÁõ∏ÂÖºÂÆπÔºåÂèØ‰ª•‰∫íÁõ∏Ë∞ÉÁî® */function resolvePromise(promise2, x, resolve, reject) &#123; // Â∞ÜËøîÂõûÁöÑpromise‰∏çÂÅúÁöÑË∞ÉÁî®ÊâßË°åÔºåÁõ¥Âà∞Â§±Ë¥•ÊàñËÄÖËøîÂõû‰∏Ä‰∏™ÊôÆÈÄöÁöÑÊï∞ÊçÆÁ±ªÂûã if(promise2 === x) &#123; return reject(new TypeError(&apos;Âæ™ÁéØÂºïÁî®&apos;)); &#125; let then; let called; if(x != null &amp;&amp; ((typeof x == &apos;object&apos; || isFunction(x)))) &#123; // promise try &#123; then = x.then; if(isFunction(then)) &#123; then.call(x, value =&gt; &#123; if(called) return; called = true; resolvePromise(promise2, value, resolve, reject); &#125;, reason =&gt; &#123; if(called) return; called = true; reject(reason); &#125;); &#125; else &#123; resolve(x); &#125; &#125; catch(e) &#123; if(called) return; called = true; reject(e); &#125; &#125; else &#123; resolve(x); &#125;&#125;Promise.deferred = Promise.defer = () =&gt; &#123; const defer = &#123;&#125;; defer.promise = new Promise((resolve, reject) =&gt; &#123; defer.resolve = resolve; defer.reject = reject; &#125;) return defer;&#125;/** * ‰∏Ä‰∫õ‰ºöÂ§öÊ¨°‰ΩøÁî®ÁöÑÂ§çÁî®ÂäüËÉΩÂáΩÊï∞ */function isFunction(obj) &#123; return typeof obj === &quot;function&quot;;&#125;/** * ÊúÄÂêéÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£Ö‰∏Ä‰∏™promisesÊµãËØïÊèí‰ª∂ÔºåÁî®Êèí‰ª∂Êù•ÊµãËØïËá™Â∑±ÂÆûÁé∞ÁöÑpromiseÁ¨¶‰∏çÁ¨¶ÂêàËßÑËåÉ * npm(cnpm) i -g promises-aplus-tests * promises-aplus-tests es6Promise.js */module.exports = es6Promise; ‰ΩøÁî®promiseÊâãÂä®Â∞ÅË£ÖajaxÂáΩÊï∞ Ë∑®ÊµèËßàÂô®ÂÆûÁé∞AjaxÂÖºÂÆπ 1234567891011var createXMLHttpRequest = function () &#123; if ( window.XMLHttpRequest ) &#123; return new XMLHttpRequest(); &#125; else if ( window.ActiveXObject ) &#123; return new ActiveXObject(&apos;Microsoft.XMLHttp&apos;); &#125; else &#123; return; &#125;&#125; AjaxÁöÑxhrÂØπË±°ÊúâÂ¶Ç‰∏ãÂ∏∏Áî®API 1234567891011121314onloadstart ÂºÄÂßãsendËß¶Âèëonprogress ‰ªéÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÊï∞ÊçÆÊØè50msËß¶Âèë‰∏ÄÊ¨°,Âà§Êñ≠ËøõÂ∫¶onload ÂæóÂà∞ÂìçÂ∫îonerror ÊúçÂä°Âô®ÂºÇÂ∏∏open xhr.open(&apos;GET&apos;, url, true) ËØ∑Ê±ÇÊñπÂºè,ËØ∑Ê±Çurl, true(ÈªòËÆ§)ÂºÇÊ≠•ËØ∑Ê±Ç onloadend ËØ∑Ê±ÇÁªìÊùüÔºåÊó†ËÆ∫ÊàêÂäüÂ§±Ë¥•onreadystatechange xhr.readyStateÊîπÂèò‰ΩøËß¶Âèëonabort Ë∞ÉÁî®xhr.abortÊó∂Ëß¶Âèëontimeout Ë∂ÖÊó∂Ëß¶ÂèësetRequestHeader ËÆæÁΩÆRequestHeaderÔºåegÔºöxhr.setRequestHeader(&apos;Accept&apos;,&apos;application/json&apos;); xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);xhr.getAllResponseHeaders() ËøîÂõûÂÖ®ÈÉ®Â§¥‰ø°ÊÅØ,stringgetResponseHeader Ëé∑ÂèñResponseÂ§¥‰ø°ÊÅØÔºåegÔºöxhr.getResponseHeader(&apos;date&apos;); xhr.getResponseHeader(&apos;content-type&apos;); readyState‰∏äÈù¢ÈÉΩÊòØÈùôÊÄÅÂáΩÊï∞„ÄÇËÄåreadyStateË°®Á§∫‰∫ÜËØ∑Ê±ÇÁöÑÁä∂ÊÄÅ: value=0,open()ÊñπÊ≥ïËøòÊú™Ë¢´Ë∞ÉÁî® value=1,open()Ë∞ÉÁî®,send()ÊñπÊ≥ïËøòÊú™Ë¢´Ë∞ÉÁî® value=2,send()ÊñπÊ≥ïÂ∑≤ÁªèË¢´Ë∞ÉÁî®ÔºåÂìçÂ∫îÂ§¥ÂíåÂìçÂ∫îÁä∂ÊÄÅÂ∑≤ÁªèËøîÂõû value=3,ÂìçÂ∫î‰Ωì‰∏ãËΩΩ‰∏≠ÔºåresponseText‰∏≠Â∑≤ÁªèËé∑Âèñ‰∫ÜÈÉ®ÂàÜÊï∞ÊçÆ value=4,ËØ∑Ê±ÇÂÆåÊàêÔºåÊï¥‰∏™ËØ∑Ê±ÇËøáÁ®ãÂ∑≤ÁªèÂÆåÊØï„ÄÇ GET123456789101112131415161718function getJSON (url) &#123; return new Promise( (resolve, reject) =&gt; &#123; var xhr = new XMLHttpRequest() xhr.open(&apos;GET&apos;, url, true) xhr.onreadystatechange = function () &#123; //if (xhr.readyState == 4 &amp;&amp; (xhr.status == 200 || xhr.status == 304)) if (xhr.readyState === 4) &#123; if (xhr.status === 200) &#123; resolve(this.responseText, this) &#125; else &#123; var resJson = &#123; code: this.status, response: this.response &#125; reject(resJson, this) &#125; &#125; &#125; xhr.send() &#125;)&#125; POST12345678910111213141516171819function postJSON(url, data) &#123; return new Promise( (resolve, reject) =&gt; &#123; var xhr = new XMLHttpRequest() xhr.open(&quot;POST&quot;, url, true) xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;); xhr.onreadystatechange = function () &#123; //if (xhr.readyState == 4 &amp;&amp; (xhr.status == 200 || xhr.status == 304)) if (xhr.readyState === 4) &#123; if (xhr.status === 200) &#123; resolve(JSON.parse(this.responseText), this) &#125; else &#123; var resJson = &#123; code: this.status, response: this.response &#125; reject(resJson, this) &#125; &#125; &#125; xhr.send(JSON.stringify(data)) &#125;)&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105// ajaxÂáΩÊï∞ÁöÑÈªòËÆ§ÂèÇÊï∞var ajaxOptions = &#123; url: &apos;#&apos;, method: &apos;GET&apos;, async: true, timeout: 0, data: null, dataType: &apos;text&apos;, headers: &#123;&#125;, onprogress: function () &#123; &#125;, onuploadprogress: function () &#123; &#125;, xhr: null&#125;/** * ajaxÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™promiseÂØπË±° * @param &#123;Object&#125; optionsOverride ÂèÇÊï∞ËÆæÁΩÆÔºåÊîØÊåÅÁöÑÂèÇÊï∞Â¶Ç‰∏ã * url: urlÂú∞ÂùÄÔºåÈªòËÆ§&quot;#&quot; * method: ËØ∑Ê±ÇÊñπÊ≥ïÔºå‰ªÖÊîØÊåÅGET,POST,ÈªòËÆ§GET * async: ÊòØÂê¶ÂºÇÊ≠•ÔºåÈªòËÆ§true * timeout: ËØ∑Ê±ÇÊó∂ÈôêÔºåË∂ÖÊó∂Â∞ÜÂú®promise‰∏≠Ë∞ÉÁî®rejectÂáΩÊï∞ * data: ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåËØ•ÂáΩÊï∞‰∏çÊîØÊåÅÂ§ÑÁêÜÊï∞ÊçÆÔºåÂ∞Ü‰ºöÁõ¥Êé•ÂèëÈÄÅ * dataType: Êé•ÂèóÁöÑÊï∞ÊçÆÁöÑÁ±ªÂûãÔºåÈªòËÆ§‰∏∫text * headers: ‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´ËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ * onprogress: Â§ÑÁêÜonprogressÁöÑÂáΩÊï∞ * ouploadprogress: Â§ÑÁêÜ.upload.onprogressÁöÑÂáΩÊï∞ * xhr: ÂÖÅËÆ∏Âú®ÂáΩÊï∞Â§ñÈÉ®ÂàõÂª∫xhrÂØπË±°‰º†ÂÖ•Ôºå‰ΩÜÂøÖÈ°ª‰∏çËÉΩÊòØ‰ΩøÁî®ËøáÁöÑ * @return &#123;Promise&#125; * ËØ•ÂáΩÊï∞Ê≥®ÂÜåxhr.onloadendÂõûË∞ÉÂáΩÊï∞ÔºåÂà§Êñ≠xhr.statusÊòØÂê¶Â±û‰∫é [200,300)&amp;&amp;304 Ôºå * Â¶ÇÊûúÂ±û‰∫éÂàôpromiseÂºïÂèëresolveÁä∂ÊÄÅÔºåÂÖÅËÆ∏ÊãøÂà∞xhrÂØπË±° * Â¶ÇÊûú‰∏çÂ±û‰∫éÔºåÊàñÂ∑≤ÁªèÂºïÂèë‰∫Üontimeout,onabort,ÂàôÂºïÂèërejectÁä∂ÊÄÅÔºåÂÖÅËÆ∏ÊãøÂà∞xhrÂØπË±° * * ÂÖ≥‰∫éreject * ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´ * errorType:ÈîôËØØÁ±ªÂûãÔºå * abort_error: xhrÂØπË±°Ë∞ÉÁî®abortÂáΩÊï∞ * timeout_error: ËØ∑Ê±ÇË∂ÖÊó∂ * onerror: xhrÂØπË±°Ëß¶Âèë‰∫Üonerror‰∫ã‰ª∂ * send_error: ÂèëÈÄÅËØ∑Ê±ÇÂá∫Áé∞ÈîôËØØ * status_error: ÂìçÂ∫îÁä∂ÊÄÅ‰∏çÂ±û‰∫é [200,300)&amp;&amp;304 */function ajax(optionsOverride) &#123; // Â∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞‰∏éÈªòËÆ§ËÆæÁΩÆÂêàÂπ∂ var options = &#123;&#125;; for (var k in ajaxOptions) &#123; options[k] = optionsOverride[k] || ajaxOptions[k]; &#125; options.async = options.async === false ? false : true; var xhr = options.xhr = options.xhr || new XMLHttpRequest(); return new Promise(function (resolve, reject) &#123; xhr.open(options.method, options.url, options.async); xhr.timeout = options.timeout; //ËÆæÁΩÆËØ∑Ê±ÇÂ§¥ for (var k in options.headers) &#123; xhr.setRuquestHeader(k, options.headers[k]); &#125; // Ê≥®ÂÜåxhrÂØπË±°‰∫ã‰ª∂ xhr.onprogress = options.onprogress; xhr.upload.onprogress = options.onuploadprogress; xhr.responseType = options.dataType; xhr.onabort = function () &#123; reject(new Error(&#123; errorType: &apos;abort_error&apos;, xhr: xhr &#125;)); &#125; xhr.ontimeout = function () &#123; reject(&#123; errorType: &apos;timeout_error&apos;, xhr: xhr &#125;); &#125; xhr.onerror = function () &#123; reject(&#123; errorType: &apos;onerror&apos;, xhr: xhr &#125;) &#125; xhr.onloadend = function () &#123; if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status === 304) resolve(xhr); else&#123; reject(&#123; errorType: &apos;status_error&apos;, xhr: xhr &#125;) &#125; &#125; try &#123; xhr.send(options.data); &#125; catch (e) &#123; reject(&#123; errorType: &apos;send_error&apos;, error: e &#125;); &#125; &#125;)&#125; ‰∫åÂàÜÊü•Êâæ „Äê‰∫åÂàÜÊü•Êâæ‰πüÁß∞ÊäòÂçäÊü•Êâæ ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(log2n)„Äë ÈùûÈÄíÂΩíÁÆóÊ≥ï 12345678910111213141516171819function binary_search(arr,key)&#123; var low=0, high=arr.length-1; while(low&lt;=high)&#123; var mid=parseInt((high+low)/2); if(key==arr[mid])&#123; return mid; &#125;else if(key&gt;arr[mid])&#123; low=mid+1; &#125;else if(key&lt;arr[mid])&#123; high=mid-1; &#125;else&#123; return -1; &#125; &#125;&#125;;var arr=[1,2,3,4,5,6,7,8,9,10,11,23,44,86];var result=binary_search(arr,10);alert(result); // 9 ËøîÂõûÁõÆÊ†áÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÂÄº ÈÄíÂΩíÁÆóÊ≥ï 123456789101112131415161718function binary_search(arr,low,high,key)&#123; if(low&gt;high)&#123; return -1; &#125; var mid=parseInt((high+low)/2); if(arr[mid]==key)&#123; return mid; &#125;else if(arr[mid]&gt;key)&#123; high=mid-1; return binary_search(arr,low,high,key); &#125;else if(arr[mid]&lt;key)&#123; low=mid+1; return binary_search(arr,low,high,key); &#125;&#125;;var arr=[1,2,3,4,5,6,7,8,9,10,11,23,44,86];var result=binary_search(arr,0,13,10);alert(result); // 9 ËøîÂõûÁõÆÊ†áÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÂÄº ÊéíÂ∫è ÂÜíÊ≥°ÊéíÂ∫è 123456789101112function bubbleSort(arr) &#123; var len = arr.length; for (var i = 0; i &lt; len - 1; i++) &#123; for (var j = i+1; j &lt; len -1; j++) &#123; arr[i] &gt; arr[j] ? [arr[i],arr[j]]= [arr[j],arr[i]]:null; &#125; &#125; return arr;&#125; bubbleSort([1,2,4,7,2,8,0,9,11,32,17]) [0, 1, 2, 2, 4, 7, 8, 9, 11, 32, 17] 123456789101112131415function bubble_sort(arr)&#123; for(var i=0;i&lt;arr.length-1;i++)&#123; for(var j=0;j&lt;arr.length-i-1;j++)&#123; if(arr[j]&gt;arr[j+1])&#123; var swap=arr[j]; arr[j]=arr[j+1]; arr[j+1]=swap; &#125; &#125; &#125;&#125;var arr=[3,1,5,7,2,4,9,6,10,8];bubble_sort(arr);console.log(arr); Âø´ÈÄüÊéíÂ∫è 12345678910111213141516171819202122function quick_sort(arr)&#123; if(arr.length&lt;=1)&#123; return arr; &#125; var pivotIndex=Math.floor(arr.length/2); var pivot=arr.splice(pivotIndex,1)[0]; var left=[]; var right=[]; for(var i=0;i&lt;arr.length;i++)&#123; if(arr[i]&lt;pivot)&#123; left.push(arr[i]); &#125;else&#123; right.push(arr[i]); &#125; &#125; return quick_sort(left).concat([pivot],quick_sort(right));&#125;var arr=[5,6,2,1,3,8,7,1,2,3,4,7];console.log(quick_sort(arr)); 12345678910111213141516function qSort(arr) &#123; if (arr.length==0) &#123; return []; &#125; var left = []; var right = []; var pivot = arr[0]; for (var i =1; i &lt;arr.length; i++) &#123; // Ê≥®ÊÑèËøôÈáåÁöÑËµ∑ÂßãÂÄºÔºåÂõ†‰∏∫Êúâ‰∏Ä‰∏™‰Ωú‰∏∫flag‰∫Ü if (arr[i] &lt; pivot) &#123; left.push(arr[i]); &#125; else &#123; right.push(arr[i]); &#125; &#125; return qSort(left).concat(pivot, qSort(right)); &#125; ÂΩìÊàë‰ª¨ new ‰∏Ä‰∏™Á±ªÁöÑÊó∂ÂÄô ÈÉΩÂèëÁîü‰∫Ü‰ªÄ‰πà1234567891011121314151617181920212223/** * new2 newÂÖ≥ÈîÆÂ≠óÁöÑ‰ª£Á†ÅÂÆûÁé∞ÊºîÁ§∫ * @param &#123;function&#125; func Ë¢´newÁöÑÁ±ª (ÊûÑÈÄ†ÂáΩÊï∞) */function new2(func) &#123; // ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂÆû‰æãÂØπË±° oÔºåÂπ∂‰∏îËøô‰∏™ÂØπË±°__proto__ÊåáÂêëfuncËøô‰∏™Á±ªÁöÑÂéüÂûãÂØπË±° let o = Object.create(func.prototype); // (Âú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠thisÊåáÂêëÂΩìÂâçÂÆû‰æã)ËÆ©Ëøô‰∏™Á±ª‰Ωú‰∏∫ÊôÆÈÄöÂáΩÊï∞ÂÄºË°å Âπ∂‰∏îÈáåÈù¢this‰∏∫ÂÆû‰æãÂØπË±° let k = func.call(o); // ÊúÄÂêéÂÜçÂ∞ÜÂÆû‰æãÂØπË±°ËøîÂõû Â¶ÇÊûú‰Ω†Âú®Á±ª‰∏≠ÊòæÁ§∫ÊåáÂÆöËøîÂõûÂÄºkÔºå // Ê≥®ÊÑèÂ¶ÇÊûúËøîÂõûÁöÑÊòØÂºïÁî®Á±ªÂûãÂàôÂ∞ÜÈªòËÆ§ËøîÂõûÁöÑÂÆû‰æãÂØπË±°oÊõø‰ª£Êéâ return typeof k === &apos;object&apos; ? k : o;&#125;// ÂÆûÈ™åfunctionM() &#123; // Âç≥Â∞ÜË¢´newÁöÑÁ±ª this.name = &apos;liwenli&apos;;&#125;let m = new2(M); // Á≠â‰ª∑‰∫é new M ËøôÈáåÂè™ÊòØÊ®°Êãüconsole.log(m instanceof M); // instanceof Ê£ÄÊµãÂÆû‰æãconsole.log(m instanceof Object);console.log(m.__proto__.constructor === M); newÊìç‰ΩúÁ¨¶ÁöÑÂ∑•‰ΩúÂéüÁêÜ123456789101112131415161718Â∫üËØù‰∏çÂ§öËØ¥ÔºåÁõ¥Êé•‰∏ä‰ª£Á†Åvar newObj = function(func)&#123; var t = &#123;&#125; t.prototype = func.prototype var o = t var k =func.call(o); if(typeof k === &apos;object&apos;)&#123; return k; &#125;else&#123; return o; &#125;&#125;var parent1 = newObj(Parent)Á≠â‰ª∑‰∫énewÊìç‰Ωú1.‰∏Ä‰∏™Êñ∞ÂØπË±°Ë¢´ÂàõÂª∫ÔºåÂÆÉÁªßÊâøËá™func.prototype„ÄÇ2.ÊûÑÈÄ†ÂáΩÊï∞func Ë¢´ÊâßË°åÔºåÊâßË°åÁöÑÊó∂ÂÄôÔºåÁõ∏Â∫îÁöÑÂèÇÊï∞‰ºöË¢´‰º†ÂÖ•ÔºåÂêåÊó∂‰∏ä‰∏ãÊñáÔºàthisÔºâ ‰ºöË¢´ÊåáÂÆö‰∏∫Ëøô‰∏™Êñ∞ÂÆû‰æã„ÄÇ3.Â¶ÇÊûúÊûÑÈÄ†ÂáΩÊï∞ËøîÂõû‰∫Ü‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÈÇ£‰πàËøô‰∏™ÂØπË±°‰ºöÂèñ‰ª£Êï¥‰∏™newÂá∫Êù•ÁöÑÁªìÊûúÔºåÂ¶ÇÊûúÊûÑÈÄ†ÂáΩÊï∞Ê≤°ÊúâËøîÂõûÂØπË±°ÔºåÈÇ£‰πànewÂá∫Êù•ÁöÑÁªìÊûú‰∏∫Ê≠•È™§1ÂàõÂª∫ÁöÑÂØπË±°„ÄÇ Object.create ÂÖºÂÆπÂÆûÁé∞123456789101112131415let obj1 = &#123;id: 1&#125;; Object._create = (o) =&gt; &#123; let Fn = function() &#123;&#125;; // ‰∏¥Êó∂ÁöÑÊûÑÈÄ†ÂáΩÊï∞ Fn.prototype = o; return new Fn; &#125; let obj2 = Object._create(obj1); console.log(obj2.__proto__ === obj1); // true console.log(obj2.id); // 1 // ÂéüÁîüÁöÑObject.create let obj3 = Object.create(obj1); console.log(obj3.__proto__ === obj1); // true console.log(obj3.id); // 1 curry Â∞ÜÂ§öÂèÇÊï∞ÂáΩÊï∞ËΩ¨Êç¢‰∏∫Êé•Êî∂Âçï‰∏ÄÂèÇÊï∞ÁöÑÂáΩÊï∞12345678910111213141516let fn = function(a, b, c) &#123; // Â§öÂèÇÊï∞ÂáΩÊï∞ return a + b + c; &#125; function curry(fn) &#123; let args = []; // Êî∂ÈõÜÂèÇÊï∞ let len = fn.length; returnfunctionfe() &#123; args = args.concat([].slice.call(arguments, 0)); if (args.length === len) &#123; return fn.apply(null, args); &#125; return fe; &#125; &#125; console.log(curry(fn)(1)(2)(3)); // 6 ÂáΩÊï∞ËäÇÊµÅ throttle Á≠ñÁï•ÁöÑÁîµÊ¢Ø„ÄÇ‰øùËØÅÂ¶ÇÊûúÁîµÊ¢ØÁ¨¨‰∏Ä‰∏™‰∫∫ËøõÊù•ÂêéÔºå50ÊØ´ÁßíÂêéÂáÜÊó∂ËøêÈÄÅ‰∏ÄÊ¨°Ôºå‰∏çÁ≠âÂæÖ„ÄÇÂ¶ÇÊûúÊ≤°Êúâ‰∫∫ÔºåÂàôÂæÖÊú∫„ÄÇ 12345678910let throttle = (fn, delay = 50) =&gt; &#123; // ËäÇÊµÅ ÊéßÂà∂ÊâßË°åÈó¥ÈöîÊó∂Èó¥ Èò≤Ê≠¢È¢ëÁπÅËß¶Âèë scroll resize mousemove let stattime = 0; returnfunction (...args) &#123; let curTime = new Date(); if (curTime - stattime &gt;= delay) &#123; fn.apply(this, args); stattime = curTime; &#125; &#125; &#125; Èò≤ÊäñÂä® debounce Á≠ñÁï•ÁöÑÁîµÊ¢Ø„ÄÇÂ¶ÇÊûúÁîµÊ¢ØÈáåÊúâ‰∫∫ËøõÊù•ÔºåÁ≠âÂæÖ50ÊØ´Áßí„ÄÇÂ¶ÇÊûúÂèà‰∫∫ËøõÊù•Ôºå50ÊØ´ÁßíÁ≠âÂæÖÈáçÊñ∞ËÆ°Êó∂ÔºåÁõ¥Âà∞50ÊØ´ÁßíË∂ÖÊó∂ÔºåÂºÄÂßãËøêÈÄÅ„ÄÇ 12345678let debounce = (fn, time = 50) =&gt; &#123; // Èò≤ÊäñÂä® ÊéßÂà∂Á©∫Èó≤Êó∂Èó¥ Áî®Êà∑ËæìÂÖ•È¢ëÁπÅ let timer; returnfunction (...args) &#123; let that = this; clearTimeout(timer); timer = setTimeout(fn.bind(that, ...args), time); &#125; &#125; FunctionÁöÑbindÂÆûÁé∞123456789101112131415Function.prototype._bind = function(context) &#123; let func = this; let params = [].slice.call(arguments, 1); returnfunction() &#123; params = params.concat([].slice.call(arguments, 0)); func.apply(context, params); &#125;&#125;let obj = &#123;id: 24&#125;function fn1(a) &#123; console.log(this, arguments);&#125;let foo = fn1._bind(obj, obj.id); ÂáΩÊï∞ÁªÑÂêà‰∏≤ËÅîcomposeÔºàkoa reduce‰∏≠Èó¥‰ª∂Ôºâ1234567891011// ÁªÑÂêà‰∏≤ËÅîlet fn1 = (a) =&gt; a + 1;let fn2 = (b) =&gt; b + 2;let fn3 = (c) =&gt; c + 3;let funs = [fn1, fn2, fn3];let compose = (func) =&gt; &#123; return arg =&gt; func.reduceRight((composed, fn) =&gt; fn(composed), arg);&#125;console.log(compose(funs)(100)); // Áõ∏ÂΩì‰∫éfn1(fn2(fn3(100))) coÂáΩÊï∞1234567891011121314151617181920212223242526272829function* fn(a) &#123; a = yield a; let b = yield 2; let c = yield 3; return a + b + c;&#125;function co(fn, ...args) &#123; let g = fn(...args); return new Promise((resolve, reject) =&gt; &#123; function next(lastValue) &#123; let &#123; value, done &#125; = g.next(lastValue); if (done) &#123; resolve(value); &#125; else &#123; if (value instanceof Promise) &#123; value.then(next, (val) =&gt; reject(val)); &#125; else &#123; next(value) &#125; &#125; &#125; next(); &#125;);&#125;co(fn, 100).then(value =&gt; &#123; console.log(value); // 105&#125;); Â¶Ç‰Ωï‰∏ªÂä®‰∏≠Ê≠¢PromiseË∞ÉÁî®Èìæ12345678910111213141516171819const p1 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; // ÂºÇÊ≠•Êìç‰Ωú resolve(&apos;start&apos;) &#125;, 1000);&#125;);p1.then((result) =&gt; &#123; console.log(&apos;a&apos;, result); return Promise.reject(&apos;‰∏≠Êñ≠ÂêéÁª≠Ë∞ÉÁî®&apos;); // Ê≠§Êó∂rejectedÁöÑÁä∂ÊÄÅÂ∞ÜÁõ¥Êé•Ë∑≥Âà∞catchÈáåÔºåÂâ©‰∏ãÁöÑË∞ÉÁî®‰∏ç‰ºöÂÜçÁªßÁª≠&#125;).then(result =&gt; &#123; console.log(&apos;b&apos;, result);&#125;).then(result =&gt; &#123; console.log(&apos;c&apos;, result);&#125;).catch(err =&gt; &#123; console.log(err);&#125;);// a start// ‰∏≠Êñ≠ÂêéÁª≠Ë∞ÉÁî® window.requestAnimationFrameÂÖºÂÆπÊÄßÂ§ÑÁêÜ12345678window._requestAnimationFrame = (function()&#123; return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback)&#123; window.setTimeout(callback, 1000 / 60); &#125;;&#125;)(); Â≠óÁ¨¶‰∏≤ÊòØÂê¶Á¨¶ÂêàÂõûÊñáËßÑÂàô12345678910111213141516171819let str = &apos;My age is 0, 0 si ega ym.&apos;;ÊñπÊ≥ï‰∏Äfunction palindrome(params) &#123; params = params.replace(/[\W\s_]/ig, &apos;&apos;); return params.toLowerCase() === params.split(&apos;&apos;).reverse().join(&apos;&apos;).toLowerCase();&#125;console.log(palindrome(str));ÊñπÊ≥ï‰∫åfunction palindrome(params) &#123; params = params.replace(/[\W\s_]/ig, &apos;&apos;).toLowerCase(); for (var i = 0, j = params.length-1; i&lt;j; i++, j--) &#123; if (params[i] !== params[j]) &#123; returnfalse; &#125; &#125; returntrue;&#125; Ëß£ÊûÑ:Â∞Ü destructuringArray([1, [2, 3], 4], ‚Äú[a, [b], c]‚Äù) =&gt; {a: 1, b: 2, c: 4}123456789101112131415161718192021222324// Â∞Ü destructuringArray([1, [2, 3], 4], &quot;[a, [b], c]&quot;) =&gt; &#123;a: 1, b: 2, c: 4&#125;const targetArray = [1, [2, 3], 4];const formater = &quot;[a, [b], c]&quot;;const destructuringArray = (values, keys) =&gt; &#123; try &#123; const obj = &#123;&#125;; if (typeof keys === &apos;string&apos;) &#123; keys = JSON.parse(keys.replace(/\w+/g, &apos;&quot;$&amp;&quot;&apos;)); &#125; const iterate = (values, keys) =&gt; keys.forEach((key, i) =&gt; &#123; if(Array.isArray(key)) iterate(values[i], key) else obj[key] = values[i] &#125;) iterate(values, keys) return obj; &#125; catch (e) &#123; console.error(e.message); &#125;&#125; Êï∞ÁªÑÂ±ïÂπ≥12345678Â∞Ü[[1, 2], 3, [[[4], 5]]] Â±ïÂπ≥‰∏∫ [1, 2, 3, 4, 5]let arr = [[1, 2], 3, [[[4], 5]]]; // Êï∞ÁªÑÂ±ïÂπ≥function flatten(arr) &#123; return [].concat( ...arr.map(x =&gt; Array.isArray(x) ? flatten(x) : x) )&#125; ÊâæÂá∫Êï∞ÁªÑ‰∏≠ÈáçÂ§çÂá∫Áé∞ËøáÁöÑÂÖÉÁ¥†123456789101112131415161718192021222324// ‰æãÂ¶ÇÔºö[1Ôºå2Ôºå4Ôºå4Ôºå3Ôºå3Ôºå1Ôºå5Ôºå3]// ËæìÂá∫Ôºö[1Ôºå3Ôºå4]let arr = [1, 2, 4, 4, 3, 3, 1, 5, 3];// ÊñπÊ≥ï‰∏Äfunction repeat1(arr)&#123; var result = [], map = &#123;&#125;; arr.map(function(num)&#123; if(map[num] === 1) result.push(num); // Á≠â‰∫é1ËØ¥Êòé‰πãÂâçÂá∫Áé∞Ëøá‰∏ÄÊ¨° ËøôÊ¨°ÈáçÂ§çÂá∫Áé∞‰∫Ü map[num] = (map[num] || 0) + 1; // ÂæÆÂ¶ô‰πãÂ§Ñ ÂºÄÂßãÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞Êó†ÂÄº ËÆ∞‰∏∫ 0 + 1 = 1 ‰∏ã‰∏ÄÊ¨°‰ªé1ÂºÄÂßãÁ¥ØÂä† &#125;); return result;&#125;console.log(repeat1(arr));// ÊñπÊ≥ï‰∫åfunction repeat(arr) &#123; let result = arr.filter((x, i, self) =&gt; &#123; return self.indexOf(x) === i &amp;&amp; self.lastIndexOf(x) !== i &#125;); // return result;&#125;console.log(repeat(arr)); Â∞ÜÊï∞ÁªÑ‰∏≠ÊåâÁÖßÊï∞Â≠óÈáçÂ§çÂá∫Áé∞ÁöÑÊ¨°Êï∞ËøõË°åÊéíÂ∫è123456789101112131415161718192021222324252627282930// Â¶ÇÊûúÊ¨°Êï∞Áõ∏Âêå ÂàôÊåâÁÖßÂÄºÊéíÂ∫è ÊØîÂ¶Ç 2, 2, 2Âíå 1, 1, 1 Â∫îÊéíÂ∫è‰∏∫ [1, 1, 1, 2, 2, 2]// ÊØîÂ¶Ç [1,2,1,2,1,3,4,5,4,5,5,2,2] =&gt; [3, 4, 4, 1, 1, 1, 5, 5, 5, 2, 2, 2, 2]let arr = [9, 7, 7, 1, 2, 1, 2, 1, 3, 4, 5, 4, 5, 5, 2, 2];function sortArray(arr) &#123; let obj = &#123;&#125;; let newArr = []; for(let i = 0; i &lt; arr.length; i++) &#123; let cur = arr[i]; if(obj[cur])&#123; obj[cur].push(cur); continue; &#125; obj[cur] = [cur]; &#125; for(let k in obj) &#123; if(obj.hasOwnProperty(k)) &#123; newArr.push(obj[k]) &#125; &#125; newArr.sort((a, b) =&gt; &#123; if(a.length === b.length)&#123; return a[0] - b[0]; &#125; return a.length - b.length; &#125;); newArr = newArr.reduce((prev, cur) =&gt; prev.concat(cur)); return newArr; &#125; console.log(sortArray(arr)); // [ 3, 9, 4, 4, 7, 7, 1, 1, 1, 5, 5, 5, 2, 2, 2, 2 ] ÁßªÂä®Á´ØÂÖ≥Èó≠ËôöÊãüÈîÆÁõò1document.activeElement.blur(); Ëß£ÂÜ≥setIntervalÂú®ÊµèËßàÂô®ÂàáÊç¢‰∏≠ÁöÑÈóÆÈ¢ò1234567document.onvisibilitychange=function()&#123; if(document.visibilityState==&quot;visible&quot;)&#123; timer=setInterval(slidemove, 1000); &#125;else&#123; clearInterval(timer); &#125;&#125; Promise ÈÄè‰º†123Promise.resolve(1).then(2).then((a)=&gt;console.log(a)) 1Promise &#123;&lt;resolved&gt;: undefined&#125; ‰∏çÁî®Âæ™ÁéØÔºåÂàõÂª∫‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ 100 ÁöÑÊï∞ÁªÑÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÄºÁ≠â‰∫éÂÆÉÁöÑ‰∏ãÊ†á123456es6ÁâàÔºöArray.from(Array(100).keys()) ÊàñËÄÖ[...Array(100).keys()]Array(100).fill(0).map((t,i)=&gt;i) ÁÆ≠Â§¥ÂáΩÊï∞1234567891011121314151617181920Ôºà1ÔºâÂáΩÊï∞‰ΩìÂÜÖÁöÑthisÂØπË±°ÔºåÂ∞±ÊòØÂÆö‰πâÊó∂ÊâÄÂú®ÁöÑÂØπË±°ÔºåËÄå‰∏çÊòØ‰ΩøÁî®Êó∂ÊâÄÂú®ÁöÑÂØπË±°„ÄÇÔºà2Ôºâ‰∏çÂèØ‰ª•ÂΩì‰ΩúÊûÑÈÄ†ÂáΩÊï∞Ôºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏çÂèØ‰ª•‰ΩøÁî®newÂëΩ‰ª§ÔºåÂê¶Âàô‰ºöÊäõÂá∫‰∏Ä‰∏™ÈîôËØØ„ÄÇÔºà3Ôºâ‰∏çÂèØ‰ª•‰ΩøÁî®argumentsÂØπË±°ÔºåËØ•ÂØπË±°Âú®ÂáΩÊï∞‰ΩìÂÜÖ‰∏çÂ≠òÂú®„ÄÇÂ¶ÇÊûúË¶ÅÁî®ÔºåÂèØ‰ª•Áî® rest ÂèÇÊï∞‰ª£Êõø„ÄÇÔºà4Ôºâ‰∏çÂèØ‰ª•‰ΩøÁî®yieldÂëΩ‰ª§ÔºåÂõ†Ê≠§ÁÆ≠Â§¥ÂáΩÊï∞‰∏çËÉΩÁî®‰Ωú Generator ÂáΩÊï∞„ÄÇ‰∏äÈù¢ÂõõÁÇπ‰∏≠ÔºåÁ¨¨‰∏ÄÁÇπÂ∞§ÂÖ∂ÂÄºÂæóÊ≥®ÊÑè„ÄÇthisÂØπË±°ÁöÑÊåáÂêëÊòØÂèØÂèòÁöÑÔºå‰ΩÜÊòØÂú®ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÔºåÂÆÉÊòØÂõ∫ÂÆöÁöÑ„ÄÇfunction foo() &#123; setTimeout(() =&gt; &#123; console.log(&apos;id:&apos;, this.id); &#125;, 100);&#125;var id = 21;foo.call(&#123; id: 42 &#125;);// id: 42 ÂºÇÊ≠•Âä†ËΩΩÁöÑÂå∫Âà´ deferÊòØÂú®HTMLËß£ÊûêÂÆå‰πãÂêéÊâç‰ºöÊâßË°åÔºåÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊåâÁÖßÂä†ËΩΩÁöÑÈ°∫Â∫è‰æùÊ¨°ÊâßË°å asyncÊòØÂú®Âä†ËΩΩÂÆå‰πãÂêéÁ´ãÂç≥ÊâßË°åÔºåÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊâßË°åÈ°∫Â∫èÂíåÂä†ËΩΩÈ°∫Â∫èÊó†ÂÖ≥asyncÂíådefer html Ëß¶Â∫ïÁöÑÊù°‰ª∂ÊòØÔºö12document.documentElement.scrollHeight ===document.documentElement.clientHeight + document.documentElement.scrollTop ÈõÖËôéÂçÅÂõõÊù°‰ºòÂåñ1234567891011121314151617181. Â∞ΩÂèØËÉΩÁöÑÂáèÂ∞ë HTTP ÁöÑËØ∑Ê±ÇÊï∞ content2. ‰ΩøÁî® CDNÔºàContent Delivery NetworkÔºâ server3. Ê∑ªÂä† Expires Â§¥(ÊàñËÄÖ Cache-control ) server4. Gzip ÁªÑ‰ª∂ server5. Â∞Ü CSS Ê†∑ÂºèÊîæÂú®È°µÈù¢ÁöÑ‰∏äÊñπ css6. Â∞ÜËÑöÊú¨ÁßªÂä®Âà∞Â∫ïÈÉ®ÔºàÂåÖÊã¨ÂÜÖËÅîÁöÑÔºâ javascript7. ÈÅøÂÖç‰ΩøÁî® CSS ‰∏≠ÁöÑ Expressions css8. Â∞Ü JavaScript Âíå CSS Áã¨Á´ãÊàêÂ§ñÈÉ®Êñá‰ª∂ javascript css9. ÂáèÂ∞ë DNS Êü•ËØ¢ content10. ÂéãÁº© JavaScript Âíå CSS (ÂåÖÊã¨ÂÜÖËÅîÁöÑ) javascript css11. ÈÅøÂÖçÈáçÂÆöÂêë server12. ÁßªÈô§ÈáçÂ§çÁöÑËÑöÊú¨ javascript13. ÈÖçÁΩÆÂÆû‰ΩìÊ†áÁ≠æÔºàETagsÔºâ css14. ‰Ωø AJAX ÁºìÂ≠ò15. DNSÈ¢ÑËØªÂèñ &lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://data.dadaabc.com/&quot;&gt;16. Â§öÂüüÂêçÂàÜÂèëÈùôÊÄÅËµÑÊ∫ê ÂêåÂüü‰∏ãÊµèËßàÂô®ËÉΩÂπ∂ÂèëÁöÑËØ∑Ê±ÇÊúâÈôêÔºå‰∏∫‰∫ÜÂ¢ûÂä†Âπ∂ÂèëÔºåÂ∞§ÂÖ∂ÊòØ‰∏Ä‰∫õÈùôÊÄÅËµÑÊ∫ê‰∏äÔºåÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™ÂüüÂêç„ÄÇ17. ÊúÄÂ∞èÂåñÈáçÊéíÂíåÈáçÁªò18. ÂáΩÊï∞Èò≤ÊäñÂíåÂáΩÊï∞ËäÇÊµÅ ÂæÆ‰ªªÂä°Êúâ‰∏§Áßç nextTickÂíåthen ÈÇ£‰πàËøô‰∏§‰∏™Ë∞ÅÂø´Âë¢Ôºü12345678Promise.resolve(&apos;123&apos;).then(res=&gt;&#123; console.log(res); &#125;) process.nextTick(() =&gt; console.log(&apos;nextTick&apos;)) //È°∫Â∫è nextTick 123 //ÂæàÊòéÊòæ nextTickÂø´ setTimeoutÁ¨¨‰∏â‰∏™ÂèÇÊï∞123setTimeout(function(...list)&#123; console.log(list); // [1, 2, 3, 4, 5] &#125;,100,1,2,3,4,5) ObjectÂíåFunction‰πãÈó¥ÊúÄËÆ©‰∫∫Áê¢Á£®‰∏çÈÄèÁöÑ123456789101112Object instanceof Object // trueObject instanceof Function // trueFunction instanceof Function // trueFunction instanceof Object // trueconst o = &#123;&#125;o instanceof Object //trueo instanceof Function // falsefunction F () &#123;&#125;F instanceof Object //trueF instanceof Function //true Êñá‰ª∂‰∏ä‰º†ËøõÂ∫¶ÊèêÁ§∫‰ΩøÁî®JavascriptÁöÑXMLHttpRequestÁöÑprogress‰∫ã‰ª∂12345678910111213141516171819202122232425‰ΩøÁî®JavascriptÁöÑXMLHttpRequestÁöÑprogress‰∫ã‰ª∂ÔºåÂÆûÁé∞Á§∫‰æã‰ª£Á†Å‰∏∫Ôºövar formData = new FormData(); formData.append(&quot;file&quot;, document.getElementById(&apos;file&apos;).files[0]); formData.append(&quot;token&quot;, token_value); // ÂÖ∂‰ªñÂèÇÊï∞ÊåâËøôÊ†∑Â≠êÂä†ÂÖ•var xhr = new XMLHttpRequest();xhr.open(&apos;POST&apos;, &apos;/uploadurl&apos;);// ‰∏ä‰º†ÂÆåÊàêÂêéÁöÑÂõûË∞ÉÂáΩÊï∞xhr.onload = function () &#123; if (xhr.status === 200) &#123; console.log(&apos;‰∏ä‰º†ÊàêÂäü&apos;); &#125; else &#123; console.log(&apos;‰∏ä‰º†Âá∫Èîô&apos;); &#125;&#125;;// Ëé∑Âèñ‰∏ä‰º†ËøõÂ∫¶xhr.upload.onprogress = function (event) &#123; if (event.lengthComputable) &#123; var percent = Math.floor(event.loaded / event.total * 100) ; // ËÆæÁΩÆËøõÂ∫¶ÊòæÁ§∫ $(&quot;#J_upload_progress&quot;).progress(&apos;set progress&apos;, percent); &#125;&#125;;xhr.send(formData); Èù¢ËØïÈ¢ò1234567891011121314151617&lt;script type=&quot;text/javascript&quot;&gt; function A(obj) &#123; obj.s = &quot;Âìà&quot; obj = &#123; //obj ÈáçÊñ∞ËµãÂÄºÔºåÂπ∂‰∏îÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÊ≠§Êó∂objÊåáÂêëaÁöÑÊåáÈíàÊåáÂêëËøô‰∏™ËµãÂÄºÂØπË±° &quot;name&quot;: 2, &quot;city&quot;: &quot;‰∫öÊ¥≤&quot; &#125; return obj &#125; var a = &#123; &quot;name&quot;: 1, &quot;city&quot;: &quot;‰∏≠ÂõΩ&quot; &#125; var b = A(a); console.log(b); //&#123;name: 2, city: &quot;‰∫öÊ¥≤&quot;&#125; console.log(a); //&#123;name: 1, city: &quot;‰∏≠ÂõΩ&quot;, s: &quot;Âìà&quot;&#125; &lt;/script&gt; LESSÂíåSASS ËØ≠Ë®Ä ÂÆûÁé∞ ÁâπÊÄß ËµãÂÄº Áº©Ëøõ Sass Ruby ÂèòÈáè$ÂºÄÂ§¥ $var: value ‰∏çÈúÄË¶Å Less JavaSript ÂèòÈáè@ÂºÄÂ§¥ @var: value ‰∏çÈúÄË¶Å Stylus NodeJs ‰∏çËÉΩ‰ΩøÁî®@ÂºÄÂ§¥ var:10 ÈÉΩÂèØ‰ª• ÂàõÈÄ†Á∫ØÂáÄÁöÑÂØπË±°1234567‰Ω†ÂèØ‰ª•ÂàõÈÄ†100%Á∫ØÂáÄÁöÑÂØπË±°ÔºåÂÆÉ‰∏ç‰ºö‰ªéObjectÁ±ªÁªßÊâø‰ªª‰ΩïÊñπÊ≥ïÔºà‰æãÂ¶ÇÔºöÊûÑÈÄ†ÂáΩÊï∞„ÄÅtoString() Á≠âÔºâ„ÄÇconst pureObject =Object.create(null);console.log(pureObject);//=&gt; &#123;&#125;console.log(pureObject.constructor);//=&gt; undefinedconsole.log(pureObject.toString);//=&gt; undefinedconsole.log(pureObject.hasOwnProperty);//=&gt; undefined Â∞Ü‰∏Ä‰∏™‰ªªÊÑèÈïøÁöÑÊï∞Â≠óÂèòÊàêÈÄóÂè∑ÂàÜÂâ≤ÁöÑÊ†ºÂºè1234567891011121314‰æãÂ≠êÔºö// ‰øùÁïô‰∏â‰ΩçÂ∞èÊï∞parseToMoney(1234.56); // return &apos;1,234.56&apos;parseToMoney(123456789); // return &apos;123,456,789&apos;parseToMoney(1087654.321); // return &apos;1,087,654.321&apos;Á≠îÔºöfunctionparseToMoney(num) &#123; num = parseFloat(num.toFixed(3)); let [integer, decimal] = String.prototype.split.call(num, &apos;.&apos;); integer = integer.replace(/\d(?=(\d&#123;3&#125;)+$)/g, &apos;$&amp;,&apos;); return integer + &apos;.&apos; + (decimal ? decimal : &apos;&apos;);&#125; Ê£ÄÊµãÂØπË±°‰∏≠Â±ûÊÄßÁöÑÂ≠òÂú® ‰ΩøÁî®inÂÖ≥ÈîÆÂ≠ó„ÄÇ ËØ•ÊñπÊ≥ïÂèØ‰ª•Âà§Êñ≠ÂØπË±°ÁöÑËá™ÊúâÂ±ûÊÄßÂíåÁªßÊâøÊù•ÁöÑÂ±ûÊÄßÊòØÂê¶Â≠òÂú®„ÄÇ1234var o=&#123;x:1&#125;;&quot;x&quot; in o; //trueÔºåËá™ÊúâÂ±ûÊÄßÂ≠òÂú®&quot;y&quot; in o; //false&quot;toString&quot; in o; //trueÔºåÊòØ‰∏Ä‰∏™ÁªßÊâøÂ±ûÊÄß ‰ΩøÁî®ÂØπË±°ÁöÑhasOwnProperty()ÊñπÊ≥ï„ÄÇ ËØ•ÊñπÊ≥ïÂè™ËÉΩÂà§Êñ≠Ëá™ÊúâÂ±ûÊÄßÊòØÂê¶Â≠òÂú®ÔºåÂØπ‰∫éÁªßÊâøÂ±ûÊÄß‰ºöËøîÂõûfalse„ÄÇ1234var o=&#123;x:1&#125;;o.hasOwnProperty(&quot;x&quot;); //trueÔºåËá™ÊúâÂ±ûÊÄß‰∏≠Êúâxo.hasOwnProperty(&quot;y&quot;); //falseÔºåËá™ÊúâÂ±ûÊÄß‰∏≠‰∏çÂ≠òÂú®yo.hasOwnProperty(&quot;toString&quot;); //falseÔºåËøôÊòØ‰∏Ä‰∏™ÁªßÊâøÂ±ûÊÄßÔºå‰ΩÜ‰∏çÊòØËá™ÊúâÂ±ûÊÄß n!1234567functionfactorial(number)&#123; if(number==1) &#123; return number; &#125; else&#123; return number*factorial(number-1); &#125; &#125; ÊñêÊ≥¢ÈÇ£Â•ëÊï∞Âàó:1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, ‚Ä¶ Ê±ÇÁ¨¨n‰∏™Êï∞ÊòØÂ§öÂ∞ë123456functionfibonacci(number) &#123; if (number &lt;=2) &#123; return1; &#125; returnfibonacci(number-1) +fibonacci(number -2) &#125; ÊúçÂä°Á´ØÊé®ÈÄÅÁöÑÂá†ÁßçÊñπÂºèÊúçÂä°Á´ØÊé®ÈÄÅÊòØÁé∞‰ªäWebÂºÄÂèëËøáÁ®ã‰∏≠ÊúÄÂ∏∏ËßÅÁöÑÈúÄÊ±Ç„ÄÇ‰æãÂ¶ÇÔºö Âç≥Êó∂ËÅäÂ§©Â∑•ÂÖ∑ H5ÁΩëÁªúÊ∏∏Êàè Ê∂àÊÅØÈÄöÁü• ‰∏ÄËà¨ÁöÑÊúçÂä°Âô®Êé®ÈÄÅÂåÖÊã¨Ôºö ÊúÄÁÆÄÂçïÁöÑÊòØÂÆ¢Êà∑Á´ØËΩÆËØ¢ÁöÑÊñπÂºèÔºåÂú®ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÊØèÈöî‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂéªËØ∑Ê±ÇÊúçÂä°Á´ØÔºåÊØèÊ¨°ËØ∑Ê±ÇÊ£ÄÊü•Áä∂ÊÄÅÂèòÂåñ‰ª•Âà§Êñ≠ÊúçÂä°Á´ØÊòØÂê¶ÊúâÊñ∞Êï∞ÊçÆÊõ¥Êñ∞„ÄÇ Âü∫‰∫é AJAX ÁöÑÈïøËΩÆËØ¢Ôºàlong-pollingÔºâÊñπÂºèÔºåÊúçÂä°Âô®Âú®‰∏ÄÊÆµÊó∂Èó¥ÂêéÂÜçËøîÂõû‰ø°ÊÅØÔºõ HTTP StreamingÔºåÈÄöËøáiframeÂíå&lt;script&gt;Ê†áÁ≠æÂÆåÊàêÊï∞ÊçÆÁöÑ‰º†ËæìÔºõ TCPÈïøËøûÊé•/WebSocketÔºåÂèØ‰ª•ÂÆûÁé∞ÊúçÂä°Âô®‰∏ªÂä®ÂèëÈÄÅÊï∞ÊçÆËá≥ÁΩëÈ°µÁ´ØÔºåÂÆÉÂíåHTTP‰∏ÄÊ†∑ÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éHTTPÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆÔºåË∑ëÁöÑÊòØTCPÔºåÊâÄ‰ª•Êú¨Ë¥®‰∏äËøòÊòØ‰∏™ÈïøËøûÊé•ÔºåÂèåÂêëÈÄö‰ø°ÔºåÊÑèÂë≥ÁùÄÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØÂèØ‰ª•ÂêåÊó∂ÂèëÈÄÅÂπ∂ÂìçÂ∫îËØ∑Ê±ÇÔºåËÄå‰∏çÂÜçÂÉèHTTPÁöÑËØ∑Ê±ÇÂíåÂìçÂ∫î SSE: Server-Sent EventsÔºå„Äêwebpack„ÄëËøôÊòØÈÄöËøáhttpÂçèËÆÆÂèòÈÄöÂÆûÁé∞ÁöÑÔºåÈÄöËøáÊúçÂä°Á´ØÂêëÂÆ¢Êà∑Á´ØÂ£∞ÊòéÔºåÊé•‰∏ãÊù•ÊòØË¶ÅÂèëÈÄÅÁöÑÊòØÊµÅ‰ø°ÊÅØÔºåÊú¨Ë¥®‰∏äÂ∞±ÊòØÂÆåÊàê‰∏ÄÊ¨°ËÄóÊó∂ÈïøÁöÑ‰∏ãËΩΩ„ÄÇ JavaScriptËøõÈò∂ÊèêÈ´òÂøÖËØªJavaScriptÂ∏∏Áî®‰∏ÉÁßçÁªßÊâøÊñπÊ°àJS Èù¢ËØïÂéüÁîüÂ∏∏Áî®api ÊñπÊ≥ïÂ§ßÂÖ®JS‰ª£Á†ÅÊâãÂÜôÈ¢òPM2Êù•ÈÉ®ÁΩ≤nodejsÊúçÂä°Âô®Ê∞∏‰πÖÂºÄÂêØJavaScriptËÆæËÆ°Ê®°ÂºèURL Ëß£ÊûêJavaScript‰∏ìÈ¢òÊï∞ÊçÆÁªìÊûÑËΩªÊùæÁêÜËß£JavaScriptÂéüÂûãÂèäÂéüÂûãÈìæH5 ÁßªÂä®Ë∞ÉËØïÂÖ®ÊîªÁï•JS Èù¢ËØïÂéüÁîüÂ∏∏Áî®api ÊñπÊ≥ïÂ§ßÂÖ®javascript ÂéüÁîüÂ∏∏Áî®APIÂ§ßÂÖ® preload„ÄÅprefetchÁé∞Âú®ÁöÑÁΩëÁªúÊÉÖÂÜµËôΩÁÑ∂Âæà‰πêËßÇÔºå‰ΩÜÊòØ deferÂíåasyncÂΩìÊµèËßàÂô®Á¢∞Âà∞ script ËÑöÊú¨ÁöÑÊó∂ÂÄôÔºö &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt; Ê≤°Êúâ defer Êàñ asyncÔºåÊµèËßàÂô®‰ºöÁ´ãÂç≥Âä†ËΩΩÂπ∂ÊâßË°åÊåáÂÆöÁöÑËÑöÊú¨Ôºå‚ÄúÁ´ãÂç≥‚ÄùÊåáÁöÑÊòØÂú®Ê∏≤ÊüìËØ• script Ê†áÁ≠æ‰πã‰∏ãÁöÑÊñáÊ°£ÂÖÉÁ¥†‰πãÂâçÔºå‰πüÂ∞±ÊòØËØ¥‰∏çÁ≠âÂæÖÂêéÁª≠ËΩΩÂÖ•ÁöÑÊñáÊ°£ÂÖÉÁ¥†ÔºåËØªÂà∞Â∞±Âä†ËΩΩÂπ∂ÊâßË°å„ÄÇ &lt;script async src=&quot;script.js&quot;&gt;&lt;/script&gt; Êúâ asyncÔºåÂä†ËΩΩÂíåÊ∏≤ÊüìÂêéÁª≠ÊñáÊ°£ÂÖÉÁ¥†ÁöÑËøáÁ®ãÂ∞ÜÂíå script.js ÁöÑÂä†ËΩΩ‰∏éÊâßË°åÂπ∂Ë°åËøõË°åÔºàÂºÇÊ≠•Ôºâ„ÄÇ &lt;script defer src=&quot;myscript.js&quot;&gt;&lt;/script&gt; Êúâ deferÔºåÂä†ËΩΩÂêéÁª≠ÊñáÊ°£ÂÖÉÁ¥†ÁöÑËøáÁ®ãÂ∞ÜÂíå script.js ÁöÑÂä†ËΩΩÂπ∂Ë°åËøõË°åÔºàÂºÇÊ≠•ÔºâÔºå‰ΩÜÊòØ script.js ÁöÑÊâßË°åË¶ÅÂú®ÊâÄÊúâÂÖÉÁ¥†Ëß£ÊûêÂÆåÊàê‰πãÂêéÔºåDOMContentLoaded ‰∫ã‰ª∂Ëß¶Âèë‰πãÂâçÂÆåÊàê„ÄÇ ÁÑ∂Âêé‰ªéÂÆûÁî®ËßíÂ∫¶Êù•ËØ¥Âë¢ÔºåÈ¶ñÂÖàÊääÊâÄÊúâËÑöÊú¨ÈÉΩ‰∏¢Âà∞ ‰πãÂâçÊòØÊúÄ‰Ω≥ÂÆûË∑µÔºåÂõ†‰∏∫ÂØπ‰∫éÊóßÊµèËßàÂô®Êù•ËØ¥ËøôÊòØÂîØ‰∏ÄÁöÑ‰ºòÂåñÈÄâÊã©ÔºåÊ≠§Ê≥ïÂèØ‰øùËØÅÈùûËÑöÊú¨ÁöÑÂÖ∂‰ªñ‰∏ÄÂàáÂÖÉÁ¥†ËÉΩÂ§ü‰ª•ÊúÄÂø´ÁöÑÈÄüÂ∫¶ÂæóÂà∞Âä†ËΩΩÂíåËß£Êûê„ÄÇ Êé•ÁùÄÔºåÊàë‰ª¨Êù•Áúã‰∏ÄÂº†ÂõæÂíØÔºö Ê≠§ÂõæÂëäËØâÊàë‰ª¨‰ª•‰∏ãÂá†‰∏™Ë¶ÅÁÇπÔºö defer Âíå async Âú®ÁΩëÁªúËØªÂèñÔºà‰∏ãËΩΩÔºâËøôÂùóÂÑøÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÊòØÂºÇÊ≠•ÁöÑÔºàÁõ∏ËæÉ‰∫é HTML Ëß£ÊûêÔºâ ÂÆÉ‰ø©ÁöÑÂ∑ÆÂà´Âú®‰∫éËÑöÊú¨‰∏ãËΩΩÂÆå‰πãÂêé‰ΩïÊó∂ÊâßË°åÔºåÊòæÁÑ∂ defer ÊòØÊúÄÊé•ËøëÊàë‰ª¨ÂØπ‰∫éÂ∫îÁî®ËÑöÊú¨Âä†ËΩΩÂíåÊâßË°åÁöÑË¶ÅÊ±ÇÁöÑ ÂÖ≥‰∫é deferÔºåÊ≠§ÂõæÊú™Â∞Ω‰πãÂ§ÑÂú®‰∫éÂÆÉÊòØÊåâÁÖßÂä†ËΩΩÈ°∫Â∫èÊâßË°åËÑöÊú¨ÁöÑÔºåËøô‰∏ÄÁÇπË¶ÅÂñÑÂä†Âà©Áî® async ÂàôÊòØ‰∏Ä‰∏™‰π±Â∫èÊâßË°åÁöÑ‰∏ªÔºåÂèçÊ≠£ÂØπÂÆÉÊù•ËØ¥ËÑöÊú¨ÁöÑÂä†ËΩΩÂíåÊâßË°åÊòØÁ¥ßÁ¥ßÊå®ÁùÄÁöÑÔºåÊâÄ‰ª•‰∏çÁÆ°‰Ω†Â£∞ÊòéÁöÑÈ°∫Â∫èÂ¶Ç‰ΩïÔºåÂè™Ë¶ÅÂÆÉÂä†ËΩΩÂÆå‰∫ÜÂ∞±‰ºöÁ´ãÂàªÊâßË°å ‰ªîÁªÜÊÉ≥ÊÉ≥Ôºåasync ÂØπ‰∫éÂ∫îÁî®ËÑöÊú¨ÁöÑÁî®Â§Ñ‰∏çÂ§ßÔºåÂõ†‰∏∫ÂÆÉÂÆåÂÖ®‰∏çËÄÉËôë‰æùËµñÔºàÂì™ÊÄïÊòØÊúÄ‰ΩéÁ∫ßÁöÑÈ°∫Â∫èÊâßË°åÔºâÔºå‰∏çËøáÂÆÉÂØπ‰∫éÈÇ£‰∫õÂèØ‰ª•‰∏ç‰æùËµñ‰ªª‰ΩïËÑöÊú¨Êàñ‰∏çË¢´‰ªª‰ΩïËÑöÊú¨‰æùËµñÁöÑËÑöÊú¨Êù•ËØ¥Âç¥ÊòØÈùûÂ∏∏ÂêàÈÄÇÁöÑÔºå preloadÂíårefetchpreloadÈÄöÂ∏∏Âú®È°µÈù¢‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÂä†ËΩΩ‰∏Ä‰∫õËÑöÊú¨ÂíåÊ†∑ÂºèÔºåËÄå‰ΩøÁî® preload ÂèØ‰ª•ÂØπÂΩìÂâçÈ°µÈù¢ÊâÄÈúÄÁöÑËÑöÊú¨„ÄÅÊ†∑ÂºèÁ≠âËµÑÊ∫êËøõË°åÈ¢ÑÂä†ËΩΩÔºåËÄåÊó†ÈúÄÁ≠âÂà∞Ëß£ÊûêÂà∞ script Âíå link Ê†áÁ≠æÊó∂ÊâçËøõË°åÂä†ËΩΩ„ÄÇËøô‰∏ÄÊú∫Âà∂‰ΩøÂæóËµÑÊ∫êÂèØ‰ª•Êõ¥Êó©ÁöÑÂæóÂà∞Âä†ËΩΩÂπ∂ÂèØÁî®Ôºå‰∏îÊõ¥‰∏çÊòìÈòªÂ°ûÈ°µÈù¢ÁöÑÂàùÊ≠•Ê∏≤ÊüìÔºåËøõËÄåÊèêÂçáÊÄßËÉΩ„ÄÇ ‰ΩøÁî®ÊñπÂºèÂ∞Ü link Ê†áÁ≠æÁöÑ rel Â±ûÊÄßÁöÑÂÄºËÆæ‰∏∫ preloadÔºåas Â±ûÊÄßÁöÑÂÄº‰∏∫ËµÑÊ∫êÁ±ªÂûãÔºàÂ¶ÇËÑöÊú¨‰∏∫ scriptÔºåÊ†∑ÂºèË°®‰∏∫ styleÔºâ 12345678910111213141516171819202122232425 &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt; preload example &lt;/title&gt; &lt;!-- ÂØπ style.css Âíå index.js ËøõË°åÈ¢ÑÂä†ËΩΩ --&gt; &lt;link rel=&quot;preload&quot; href=&quot;style.css&quot; as=&quot;style&quot;&gt; &lt;link rel=&quot;preload&quot; href=&quot;index.js&quot; as=&quot;script&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt; prefetch‰∏é preload ‰∏ÄÊ†∑ÔºåÈÉΩÊòØÂØπËµÑÊ∫êËøõË°åÈ¢ÑÂä†ËΩΩÔºå‰ΩÜÊòØ prefetch Âä†ËΩΩÁöÑËµÑÊ∫ê‰∏ÄËà¨‰∏çÊòØÁî®‰∫éÂΩìÂâçÈ°µÈù¢ÁöÑÔºåÂç≥Êú™Êù•ÂæàÂèØËÉΩÁî®Âà∞ÁöÑËøôÊ†∑‰∏Ä‰∫õËµÑÊ∫êÔºåÁÆÄÂçïÁÇπËØ¥Â∞±ÊòØÂÖ∂‰ªñÈ°µÈù¢‰ºöÁî®Âà∞ÁöÑËµÑÊ∫ê„ÄÇÂΩìÁÑ∂Ôºåprefetch ‰∏ç‰ºöÂÉè preload ‰∏ÄÊ†∑ÔºåÂú®È°µÈù¢Ê∏≤ÊüìÁöÑÊó∂ÂÄôÂä†ËΩΩËµÑÊ∫êÔºåËÄåÊòØÂà©Áî®ÊµèËßàÂô®Á©∫Èó≤Êó∂Èó¥Êù•‰∏ãËΩΩ„ÄÇÂΩìËøõÂÖ•‰∏ã‰∏ÄÈ°µÈù¢ÔºåÂ∞±ÂèØÁõ¥Êé•‰ªé disk cache ÈáåÈù¢ÂèñÔºåÊó¢‰∏çÂΩ±ÂìçÂΩìÂâçÈ°µÈù¢ÁöÑÊ∏≤ÊüìÔºåÂèàÊèêÈ´ò‰∫ÜÂÖ∂‰ªñÈ°µÈù¢Âä†ËΩΩÊ∏≤ÊüìÁöÑÈÄüÂ∫¶„ÄÇ ‰ΩøÁî®ÊñπÂºèÂêå preload ÂæàÁõ∏‰ººÔºåÊó†ÈúÄÊåáÂÆö as Â±ûÊÄßÔºö12345678910111213141516171819202122232425262728293031 &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt; preload example &lt;/title&gt; &lt;!-- ÂØπ style.css Âíå index.js ËøõË°å preload È¢ÑÂä†ËΩΩ --&gt; &lt;link rel=&quot;preload&quot; href=&quot;style.css&quot; as=&quot;style&quot;&gt; &lt;link rel=&quot;preload&quot; href=&quot;index.js&quot; as=&quot;script&quot;&gt; &lt;!-- ÂØπËµÑÊ∫êËøõË°å prefetch È¢ÑÂä†ËΩΩ --&gt; &lt;link rel=&quot;prefetch&quot; href=&quot;next.css&quot;&gt; &lt;link rel=&quot;prefetch&quot; href=&quot;next.js&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt; ÊÄªÁªì:ÂØπÂΩìÂâçÈ°µÈù¢ÈúÄË¶ÅÁöÑËµÑÊ∫êÔºå‰ΩøÁî® preload ËøõË°åÈ¢ÑÂä†ËΩΩÔºåÂØπÂÖ∂ÂÆÉÈ°µÈù¢ÈúÄË¶ÅÁöÑËµÑÊ∫êËøõË°å prefetch È¢ÑÂä†ËΩΩ„ÄÇ SubresourceÂíåPrerendersubresourceÂèØ‰ª•Áî®Êù•ÊåáÂÆöËµÑÊ∫êÊòØÊúÄÈ´ò‰ºòÂÖàÁ∫ßÁöÑ„ÄÇÊØîÂ¶ÇÔºåÂú®ChromeÂíåOpera‰∏≠Êàë‰ª¨ÂèØ‰ª•Âä†‰∏ä‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö &lt;link rel=&quot;subresource&quot; href=&quot;styles.css&quot;&gt; ChromiumÁöÑÊñáÊ°£Ëøô‰πàËß£ÈáäÔºöÂíå ‚ÄúLink rel=prefetch‚ÄùÁöÑËØ≠‰πâ‰∏çÂêåÔºå‚ÄùLink rel=subresource‚ÄùÊòØ‰∏ÄÁßçÊñ∞ÁöÑËøûÊé•ÂÖ≥Á≥ª„ÄÇrel=prefetchÊåáÂÆö‰∫Ü‰∏ãËΩΩÂêéÁª≠È°µÈù¢Áî®Âà∞ËµÑÊ∫êÁöÑ‰Ωé‰ºòÂÖàÁ∫ßÔºåËÄårel=subresourceÂàôÊòØÊåáÂÆöÂΩìÂâçÈ°µÈù¢ËµÑÊ∫êÁöÑÊèêÂâçÂä†ËΩΩ„ÄÇ ÊâÄ‰ª•ÔºåÂ¶ÇÊûúËµÑÊ∫êÊòØÂú®ÂΩìÂâçÈ°µÈù¢ÈúÄË¶ÅÔºåÊàñËÄÖÈ©¨‰∏äÂ∞±‰ºöÁî®Âà∞ÔºåÂàôÊé®ËçêÁî®subresourceÔºåÂê¶ÂàôËøòÊòØÁî®prefetch„ÄÇ prerenderÊòØ‰∏Ä‰∏™ÈáçÈáèÁ∫ßÁöÑÈÄâÈ°πÔºåÂÆÉÂèØ‰ª•ËÆ©ÊµèËßàÂô®ÊèêÂâçÂä†ËΩΩÊåáÂÆöÈ°µÈù¢ÁöÑÊâÄÊúâËµÑÊ∫ê„ÄÇ &lt;link rel=&quot;prerender&quot; href=&quot;/thenextpage.html&quot; /&gt; Steve SoudersÁöÑÊñáÁ´†ËØ¶ÁªÜËß£Èáä‰∫ÜËøô‰∏™ÊäÄÊúØÔºöprerenderÂ∞±ÂÉèÊòØÂú®ÂêéÂè∞ÊâìÂºÄ‰∫Ü‰∏Ä‰∏™ÈöêËóèÁöÑtabÔºå‰ºö‰∏ãËΩΩÊâÄÊúâÁöÑËµÑÊ∫ê„ÄÅÂàõÂª∫DOM„ÄÅÊ∏≤ÊüìÈ°µÈù¢„ÄÅÊâßË°åJSÁ≠âÁ≠â„ÄÇÂ¶ÇÊûúÁî®Êà∑ËøõÂÖ•ÊåáÂÆöÁöÑÈìæÊé•ÔºåÈöêËóèÁöÑËøô‰∏™È°µÈù¢Â∞±‰ºöËøõÂÖ•È©¨‰∏äËøõÂÖ•Áî®Êà∑ÁöÑËßÜÁ∫ø„ÄÇGoogle SearchÂ§öÂπ¥ÂâçÂ∞±Âà©Áî®‰∫ÜËøô‰∏™ÁâπÊÄßÂÆûÁé∞‰∫ÜInstant PagesÂäüËÉΩ„ÄÇÂæÆËΩØÊúÄËøë‰πüÂÆ£Â∏É‰ºöËÆ©BingÂú®IE11‰∏äÁî®Á±ª‰ººprerenderÁöÑÊäÄÊúØ„ÄÇ AxiosÊã¶Êà™Âô®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455import axios from &apos;axios&apos;import &#123; throwErr &#125; from &apos;@/utils&apos; //utils ÊçïÊçâÊúçÂä°Á´ØhttpÁä∂ÊÄÅÁ†ÅÁöÑÊñπÊ≥ïimport store from &apos;@/store&apos; //ÂºïÂÖ•vuexÁöÑÁõ∏ÂÖ≥Êìç‰Ωúimport &#123; Message &#125; from &apos;element-ui&apos; //element ToastÁöÑÊèêÁ§∫import router from &apos;@/router&apos;//ËøáÊª§ËØ∑Ê±Çaxios.interceptors.request.use(config =&gt; &#123; //config ‰∏∫ËØ∑Ê±ÇÁöÑ‰∏Ä‰∫õÈÖçÁΩÆ ‰æãÂ¶ÇÔºöËØ∑Ê±ÇÂ§¥ ËØ∑Ê±ÇÊó∂Èó¥ Token ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈ°πÁõÆÈúÄÊ±Ç‰∏™ÊÄßÂåñÈÖçÁΩÆÔºåÂèÇËÄÉaxiosÁöÑ‰∏≠ÊñáËØ¥ÊòéÊâãÂÜå Ëá™Â∑±Â§öÂä®Âä®Êâã //Áî±‰∫éÊàë‰ª¨È°πÁõÆÁöÑÂêéÁ´ØÂ§ßÂ§ßÁªôÂäõÔºåÂæàÂ§ö‰∏úË•øÂú®ÊúçÂä°Á´ØÂ∏ÆÊàë‰ª¨Â§ÑÁêÜÂ•Ω‰∫ÜÊâÄ‰ª•ËØ∑Ê±ÇÈò∂ÊÆµÂè™Ë¶Å‰º†Â•ΩÂèÇÊï∞Â∞±Â•Ω‰∫Ü config.timeout = 10 * 1000 //ËØ∑Ê±ÇÂìçÂ∫îÊó∂Èó¥ return config&#125;, error =&gt; &#123; return Promise.reject(error)&#125;)// Ê∑ªÂä†ÂìçÂ∫îÊã¶Êà™Âô®axios.interceptors.response.use( response =&gt; &#123; if (response.data.code === 0) &#123; //ÊúçÂä°Á´ØÂÆö‰πâÁöÑÂìçÂ∫îcodeÁ†Å‰∏∫0Êó∂ËØ∑Ê±ÇÊàêÂäü return Promise.resolve(response.data) //‰ΩøÁî®Promise.resolve Ê≠£Â∏∏ÂìçÂ∫î &#125; else if (response.data.code === 1401) &#123; //ÊúçÂä°Á´ØÂÆö‰πâÁöÑÂìçÂ∫îcodeÁ†Å‰∏∫1401Êó∂‰∏∫Êú™ÁôªÂΩï store.dispatch(&apos;setUserInfo&apos;, &#123;&#125;) Message(&#123; message: &apos;Êú™ÁôªÂΩï&apos; &#125;) // router.push(&apos;/login&apos;) return Promise.reject(response.data) //‰ΩøÁî®Promise.reject ÊäõÂá∫ÈîôËØØÂíåÂºÇÂ∏∏ &#125; else &#123; return Promise.reject(response.data) &#125; &#125;, error =&gt; &#123; if (error &amp;&amp; error.response) &#123; let res = &#123;&#125; res.code = error.response.status res.msg = throwErr(error.response.status, error.response) //throwErr ÊçïÊçâÊúçÂä°Á´ØÁöÑhttpÁä∂ÊÄÅÁ†Å ÂÆö‰πâÂú®utilsÂ∑•ÂÖ∑Á±ªÁöÑÊñπÊ≥ï return Promise.reject(res) &#125; return Promise.reject(error) &#125;)export default function request(method, url, data) &#123; //Êö¥Èú≤ request ÁªôÊàë‰ª¨Â•ΩAPI ÁÆ°ÁêÜ method = method.toLocaleLowerCase() //Â∞ÅË£ÖRESTful APIÁöÑÂêÑÁßçËØ∑Ê±ÇÊñπÂºè ‰ª• post get delete‰∏∫‰æã if (method === &apos;post&apos;) &#123; return axios.post(url, data) //axiosÁöÑpost ÈªòËÆ§ËΩ¨Âåñ‰∏∫jsonÊ†ºÂºè &#125; else if (method === &apos;get&apos;) &#123; return axios.get(url, &#123; params: data &#125;) &#125; else if (method === &apos;delete&apos;) &#123; return axios.delete(url, &#123; params: data &#125;) &#125;&#125; *JavaScriptÁöÑÂÄº‰º†ÈÄíÂíåÂºïÁî®‰º†ÈÄí12345678910111213141516function changeAgeAndReference(person) &#123; person.age = 25; person = &#123; name: &apos;John&apos;, age: 50 &#125;; return person;&#125;var personObj1 = &#123; name: &apos;Alex&apos;, age: 30&#125;;var personObj2 = changeAgeAndReference(personObj1);console.log(personObj1); // -&gt; &#123;name: &quot;Alex&quot;, age: 25&#125;console.log(personObj2); // -&gt; &#123;name: &quot;John&quot;, age: 50&#125; JSONP „ÄêJSONPÁôæÂ∫¶ÊêúÁ¥¢Ê°Ü„Äë123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;style type=&quot;text/css&quot;&gt; ul, li &#123; margin: 0; padding: 0; &#125; .search &#123; display: block; margin: 0 auto; height: 22px; position: relative; &#125; .search-out &#123; position: absolute; width: 200px; height: 300px; z-index: 10; top: 23px; color: #7e8c8d; overflow-x: hidden; overflow-y: auto; margin-top: 5px; &#125; .search-out ul li &#123; font-size: 12px; height: 25px; /*liÊ∫¢Âá∫ÁúÅÁï•*/ overflow: hidden; text-overflow: ellipsis; white-space: nowrap; &#125; .search-out ul li:hover &#123; background-color: #edf0f1; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; let input = document.getElementById(&apos;input&apos;), body = document.getElementsByClassName(&apos;search&apos;)[0], btn = document.getElementsByTagName(&quot;button&quot;)[0], ul = document.getElementById(&apos;ul&apos;); var globalData = [&apos;ÂéÜÂè≤1&apos;, &apos;ÂéÜÂè≤2&apos;]; //globalDataÊï∞ÊçÆÔºåÂ≠òÂÇ®ÂéÜÂè≤ÊêúÁ¥¢ input.addEventListener(&apos;focus&apos;, function() &#123; var htmlText = &apos;&apos;; for(var i = 0; i &lt; globalData.length; i++) &#123; htmlText += &apos;&lt;li&gt;&apos; + globalData[i] + &apos;&lt;/li&gt;&apos;; &#125; ul.innerHTML = htmlText; ul.style.border = &quot;solid 1px #dee6e8&quot;; ul.style.background = &quot;white&quot;; &#125;); btn.addEventListener(&quot;click&quot;, function() &#123; //ÂΩìÁÇπÂáªÊêúÁ¥¢ÊåâÈíÆÊääËæìÂÖ•Ê°ÜÊï∞ÊçÆÊ∑ªÂä†Ëá≥ÂéÜÂè≤Êï∞ÁªÑ if(input.value) &#123; globalData.push(input.value); &#125; &#125;); input.addEventListener(&apos;blur&apos;, function() &#123; //Á¶ªÂºÄËæìÂÖ•Ê°ÜÈöêËóèÂéÜÂè≤‰∏ãÊãâÂàóË°® ul.style.border = &quot;&quot;; ul.style.background = &quot;&quot;; ul.innerHTML = &apos;&apos;; &#125;); //ÁõëÂê¨input‰∫ã‰ª∂ input.addEventListener(&apos;input&apos;, function() &#123; console.log(input.value) if(!input.value) &#123; var htmlText = &apos;&apos;; for(var i = 0; i &lt; globalData.length; i++) &#123; htmlText += &apos;&lt;li&gt;&apos; + globalData[i] + &apos;&lt;/li&gt;&apos;; &#125; ul.innerHTML = htmlText; ul.style.border = &quot;solid 1px #dee6e8&quot;; ul.style.background = &quot;white&quot;; return false; &#125; var val = encodeURI(input.value); ul.innerHTML = &apos;&apos;; //Ê∏ÖÁ©∫‰∏ä‰∏ÄÊ¨°ËØ∑Ê±ÇÊâÄÊèíÂÖ•ÁöÑli jsonp(&#123; url: &apos;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&apos; + val + &apos;&amp;cb=&apos;, time: 3000, callback: function(json) &#123; var htmlText = &apos;&apos;; for(var i = 0; i &lt; json.s.length; i++) &#123; htmlText += &apos;&lt;li&gt;&apos; + json[&apos;s&apos;][i] + &apos;&lt;/li&gt;&apos;; &#125; ul.innerHTML = htmlText; &#125;, fail: function(mes) &#123; alert(mes); &#125; &#125;); &#125;); function jsonp(objects) &#123; objects = objects || &#123;&#125;; if(!objects.url || !objects.callback) &#123; throw new Error(&apos;ÂèÇÊï∞‰∏çÂêàÊ≥ï&apos;); &#125; //ÂàõÂª∫scriptÊ†áÁ≠æÂπ∂ÊèíÂÖ• var callbackName = (&apos;jsonp_&apos; + Math.random()).replace(&quot;.&quot;, &quot;&quot;); //ÈöèÊú∫ÁîüÊàêcallbackName var script = document.createElement(&apos;script&apos;); var body = document.getElementsByClassName(&apos;search&apos;)[0]; body.appendChild(script); window[callbackName] = function(json) &#123; body.removeChild(script); clearTimeout(script.timer); window[callbackName] = null; objects.callback &amp;&amp; objects.callback(json); &#125;; //ÂèëÂá∫ËØ∑Ê±Ç script.src = objects.url + callbackName; //ÂìçÂ∫îÊó∂Èó¥ if(objects.time) &#123; script.timer = setTimeout(function() &#123; window[callbackName] = null; body.removeChild(script); objects.fail &amp;&amp; objects.fail(&apos;Ë∂ÖÊó∂&apos;); &#125;, objects.time); &#125; &#125; &#125; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;search&quot;&gt; &lt;input id=&quot;input&quot; type=&quot;text&quot; placeholder=&quot;ÊêúÁ¥¢ÊùêË¥®&quot;&gt; &lt;span&gt; &lt;button&gt;ÊêúÁ¥¢&lt;/button&gt; &lt;/span&gt; &lt;div class=&quot;search-out&quot;&gt; &lt;ul id=&quot;ul&quot;&gt;&lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; Math.round()ÔºåMath.ceil()ÔºåMath.floor()ÁöÑÂå∫Âà´1.Math.round()ÔºöÊ†πÊçÆ‚Äúround‚ÄùÁöÑÂ≠óÈù¢ÊÑèÊÄù‚ÄúÈôÑËøë„ÄÅÂë®Âõ¥‚ÄùÔºåÂèØ‰ª•ÁåúÊµãËØ•ÂáΩÊï∞ÊòØÊ±Ç‰∏Ä‰∏™ÈôÑËøëÁöÑÊï¥Êï∞ÔºåÁúã‰∏ãÈù¢Âá†‰∏™‰æãÂ≠êÂ∞±ÊòéÁôΩ„ÄÇ123456789101112Â∞èÊï∞ÁÇπÂêéÁ¨¨‰∏Ä‰Ωç&lt;5Ê≠£Êï∞ÔºöMath.round(11.46)=11Ë¥üÊï∞ÔºöMath.round(-11.46)=-11 Â∞èÊï∞ÁÇπÂêéÁ¨¨‰∏Ä‰Ωç&gt;5Ê≠£Êï∞ÔºöMath.round(11.68)=12Ë¥üÊï∞ÔºöMath.round(-11.68)=-12 Â∞èÊï∞ÁÇπÂêéÁ¨¨‰∏Ä‰Ωç=5Ê≠£Êï∞ÔºöMath.round(11.5)=12Ë¥üÊï∞ÔºöMath.round(-11.5)=-11ÊÄªÁªìÔºöÔºàÂ∞èÊï∞ÁÇπÂêéÁ¨¨‰∏Ä‰ΩçÔºâÂ§ß‰∫é‰∫îÂÖ®ÈÉ®Âä†ÔºåÁ≠â‰∫é‰∫îÊ≠£Êï∞Âä†ÔºåÂ∞è‰∫é‰∫îÂÖ®‰∏çÂä†„ÄÇ 2.Math.ceil()ÔºöÊ†πÊçÆ‚Äúceil‚ÄùÁöÑÂ≠óÈù¢ÊÑèÊÄù‚ÄúÂ§©Ëä±Êùø‚ÄùÂéªÁêÜËß£Ôºõ‰æãÂ¶ÇÔºö12Math.ceil(11.46)=Math.ceil(11.68)=Math.ceil(11.5)=12Math.ceil(-11.46)=Math.ceil(-11.68)=Math.ceil(-11.5)=-11 3.Math.floor()ÔºöÊ†πÊçÆ‚Äúfloor‚ÄùÁöÑÂ≠óÈù¢ÊÑèÊÄù‚ÄúÂú∞Êùø‚ÄùÂéªÁêÜËß£Ôºõ‰æãÂ¶ÇÔºö12Math.ceil(11.46)=Math.ceil(11.68)=Math.ceil(11.5)=11Math.ceil(-11.46)=Math.ceil(-11.68)=Math.ceil(-11.5)=-12 Math.random()ÂáΩÊï∞ÁîüÊàênÂà∞mÈó¥ÁöÑÈöèÊú∫Êï∞Â≠óMath.random()ÂáΩÊï∞ËøîÂõû0Âíå1‰πãÈó¥ÁöÑ‰º™ÈöèÊú∫Êï∞ÔºåÂèØËÉΩ‰∏∫0Ôºå‰ΩÜÊÄªÊòØÂ∞è‰∫é1Ôºå[0,1) ÁîüÊàên-mÔºåÂåÖÂê´n‰ΩÜ‰∏çÂåÖÂê´mÁöÑÊï¥Êï∞Ôºö 1234567Á¨¨‰∏ÄÊ≠•ÁÆóÂá∫ m-nÁöÑÂÄºÔºåÂÅáËÆæÁ≠â‰∫éwÁ¨¨‰∫åÊ≠•Math.random()*wÁ¨¨‰∏âÊ≠•Math.random()*w+nÁ¨¨ÂõõÊ≠•parseInt(Math.random()*w+n, 10) ÁîüÊàên-mÔºå‰∏çÂåÖÂê´n‰ΩÜÂåÖÂê´mÁöÑÊï¥Êï∞Ôºö 1234567Á¨¨‰∏ÄÊ≠•ÁÆóÂá∫ m-nÁöÑÂÄºÔºåÂÅáËÆæÁ≠â‰∫éwÁ¨¨‰∫åÊ≠•Math.random()*wÁ¨¨‰∏âÊ≠•Math.random()*w+nÁ¨¨ÂõõÊ≠•Math.floor(Math.random()*w+n) + 1 ÁîüÊàên-mÔºå‰∏çÂåÖÂê´nÂíåmÁöÑÊï¥Êï∞Ôºö 1234567Á¨¨‰∏ÄÊ≠•ÁÆóÂá∫ m-n-2ÁöÑÂÄºÔºåÂÅáËÆæÁ≠â‰∫éwÁ¨¨‰∫åÊ≠•Math.random()*wÁ¨¨‰∏âÊ≠•Math.random()*w+n +1Á¨¨ÂõõÊ≠•Math.round(Math.random()*w+n+1) ÊàñËÄÖ Math.ceil(Math.random()*w+n+1) ÁîüÊàên-mÔºåÂåÖÂê´nÂíåmÁöÑÈöèÊú∫Êï∞Ôºö 1234567Á¨¨‰∏ÄÊ≠•ÁÆóÂá∫ m-nÁöÑÂÄºÔºåÂÅáËÆæÁ≠â‰∫éwÁ¨¨‰∫åÊ≠•Math.random()*wÁ¨¨‰∏âÊ≠•Math.random()*w+nÁ¨¨ÂõõÊ≠•Math.round(Math.random()*w+n) ÊàñËÄÖ Math.ceil(Math.random()*w+n) ES6‰∫ã‰ª∂ÊÄªÁ∫ø EventBus1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889class EventBus &#123; constructor() &#123; this.events = &#123;&#125;; &#125; on(type, callback, scope, ...args) &#123; if (typeof this.events[type] == &quot;undefined&quot;) &#123; this.events[type] = []; &#125; this.events[type].push(&#123;scope: scope, callback: callback, args: args&#125;); &#125; off(type, callback, scope) &#123; if (typeof this.events[type] == &quot;undefined&quot;) &#123; return; &#125; let numOfCallbacks = this.events[type].length; let newArray = []; for (let i = 0; i &lt; numOfCallbacks; i++) &#123; let event = this.events[type][i]; if (event.scope == scope &amp;&amp; event.callback == callback) &#123; &#125; else &#123; newArray.push(event); &#125; &#125; this.events[type] = newArray; &#125; has(type, callback, scope) &#123; if (typeof this.events[type] == &quot;undefined&quot;) &#123; return false; &#125; let numOfCallbacks = this.events[type].length; if (callback === undefined &amp;&amp; scope === undefined) &#123; return numOfCallbacks &gt; 0; &#125; for (let i = 0; i &lt; numOfCallbacks; i++) &#123; let event = this.events[type][i]; if ((scope ? event.scope == scope : true) &amp;&amp; event.callback == callback) &#123; return true; &#125; &#125; return false; &#125; emit(type, target, ...args) &#123; if (typeof this.events[type] == &quot;undefined&quot;) &#123; return; &#125; let bag = &#123; type: type, target: target &#125;; args = [bag].concat(args); let events = this.events[type].slice(); let numOfCallbacks = events.length; for (let i = 0; i &lt; numOfCallbacks; i++) &#123; let event = events[i]; if (event &amp;&amp; event.callback) &#123; let concatArgs = args.concat(event.args); event.callback.apply(event.scope, concatArgs); &#125; &#125; &#125; debug() &#123; let str = &quot;&quot;; for (let type in this.events) &#123; let numOfCallbacks = this.events[type].length; for (let i = 0; i &lt; numOfCallbacks; i++) &#123; let event = this.events[type][i]; let className = &quot;Anonymous&quot;; if (event.scope) &#123; if (event.scope.constructor.name) &#123; className = event.scope.constructor.name; &#125; &#125; str += `$&#123;className&#125; listening for &quot;$&#123;type&#125;&quot;\n`; &#125; &#125; return str; &#125;&#125;;export default new EventBus(); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;EventBus Examples&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;script type=&quot;module&quot;&gt; import EventBus from &apos;/src/eventbus.js&apos;; // Simple example &#123; function myHandler(event) &#123; console.log(&quot;myHandler / type: &quot; + event.type); &#125; EventBus.on(&quot;my_event&quot;, myHandler); EventBus.emit(&quot;my_event&quot;); &#125; // Keeping the scope &#123; class TestClass1 &#123; constructor() &#123; this.className = &quot;TestClass1&quot;; EventBus.on(&quot;callback_event&quot;, this.callback, this); &#125; callback(event) &#123; console.log(this.className + &quot; / type: &quot; + event.type + &quot; / dispatcher: &quot; + event.target.className); &#125; &#125; class TestClass2 &#123; constructor() &#123; this.className = &quot;TestClass2&quot;; &#125; dispatch() &#123; EventBus.emit(&quot;callback_event&quot;, this); &#125; &#125; let t1 = new TestClass1(); let t2 = new TestClass2(); t2.dispatch(); &#125; // Passing additional parameters &#123; class TestClass1 &#123; constructor() &#123; this.className = &quot;TestClass1&quot;; EventBus.on(&quot;custom_event&quot;, this.doSomething, this); &#125; doSomething(event, param1, param2) &#123; console.log(this.className + &quot;.doSomething&quot;); console.log(&quot;type=&quot; + event.type); console.log(&quot;params=&quot; + param1 + param2); console.log(&quot;coming from=&quot; + event.target.className); &#125; &#125; class TestClass2 &#123; constructor() &#123; this.className = &quot;TestClass2&quot;; &#125; ready() &#123; EventBus.emit(&quot;custom_event&quot;, this, &quot;javascript events&quot;, &quot; are really useful&quot;); &#125; &#125; let t1 = new TestClass1(); let t2 = new TestClass2(); t2.ready(); &#125; // Debugging console.log(EventBus.debug()); // Removing a registered handler &#123; var handler = function() &#123; console.log(&apos;example callback&apos;); &#125;; EventBus.on(&apos;EXAMPLE_EVENT&apos;, handler); EventBus.emit(&apos;EXAMPLE_EVENT&apos;); EventBus.off(&apos;EXAMPLE_EVENT&apos;, handler); // Not emitted because event was removed EventBus.emit(&apos;EXAMPLE_EVENT&apos;); &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; JSÂÖ®ÊéíÂàó „ÄêÂÖ®ÊéíÂàóÊòØ‰∏ÄÁßçÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ÔºöO(n!)ÁöÑÁÆóÊ≥ï„Äë123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script type=&quot;text/javascript&quot;&gt; //ÂÆûÁé∞‰∏§Êï∞‰∫§Êç¢ function swap(arr, i, j) &#123; var tmp = arr[i]; arr[i] = arr[j]; arr[j] = tmp; &#125; //ÈÄíÂΩíÂÆûÁé∞Êï∞ÁªÑÂÖ®ÊéíÂàóÂπ∂ÊâìÂç∞ function permutation(arr, index) &#123; if(index == arr.length) &#123; //ÂÖ®ÊéíÂàóÁªìÊùü console.log(arr); &#125; else &#123; for(var i = index; i &lt; arr.length; i++) &#123; //Â∞ÜÁ¨¨i‰∏™ÂÖÉÁ¥†‰∫§Êç¢Ëá≥ÂΩìÂâçindex‰∏ãÊ†áÂ§Ñ swap(arr, index, i); //‰ª•ÈÄíÂΩíÁöÑÊñπÂºèÂØπÂâ©‰∏ãÂÖÉÁ¥†ËøõË°åÂÖ®ÊéíÂàó permutation(arr, index + 1); //Â∞ÜÁ¨¨i‰∏™ÂÖÉÁ¥†‰∫§Êç¢ÂõûÂéüÂ§Ñ swap(arr, index, i); &#125; &#125; &#125; function main() &#123; var arr = [1, 2, 3] permutation(arr, 0); &#125; main(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ‰∏ÄÂπ¥ÂçäÁªèÈ™åÔºåÁôæÂ∫¶„ÄÅÊúâËµû„ÄÅÈòøÈáåÈù¢ËØïÊÄªÁªì2018 Â§ßÂéÇÈ´òÁ∫ßÂâçÁ´ØÈù¢ËØïÈ¢òÊ±áÊÄªGoogle ChromeÂèØË∑®ÂüüÊ®°Âºè1open -a &apos;Google Chrome&apos; --args --disable-web-security --user-data-dir v-for Âæ™ÁéØ indexÁöÑ‰º†ÂÄºÈóÆÈ¢ò123456&lt;el-submenu :index=&quot;index&quot; v-for=&quot;(item,index) in menuList&quot;&gt; &lt;el-menu-item :index=&quot;index&quot; v-for=&quot;(subItem,subindex) in item.subMenuList&quot;&gt; &#123;&#123;index&#125;&#125;-&#123;&#123;subItem.subMenuName&#125;&#125;&lt;/el-menu-item&gt; &lt;/el-submenu&gt; ÂèëÁé∞Â≠êÁªÑ‰ª∂Ëé∑ÂèñÂà∞ÁöÑindex‰∏ÄÁõ¥ÈÉΩÊòØundefined„ÄÇ ‰øÆÊîπÂäûÊ≥ïÔºö1234&lt;el-menu-item :index=&quot;&apos;&apos;+index&quot; v-for=&quot;(subItem,subindex) in item.subMenuList&quot;&gt; &#123;&#123;index&#125;&#125;-&#123;&#123;subItem.subMenuName&#125;&#125;&lt;/el-menu-item&gt; Â∞Ü :index ÁöÑÂà∂Êîπ‰∏∫‚Äô‚Äô+indexÔºå‰∏ÄÂÆöÊòØÂçïÂºïÂè∑‚Äô‚Äô ÔºåÂ≠êÁªÑ‰ª∂Ëé∑ÂèñÁöÑÂà∞ÁöÑÂ∞±ÂèòÊàêÂ≠óÁ¨¶‰∏≤‚Äù0,‚Äù‚Äù1‚Äù‚Ä¶.. Â∞ÜÂ≠óÁ¨¶‰∏≤‚Äù0‚ÄùÂèòÊàêÊï¥Êï∞ +‚Äù0‚Äù Âç≥ÂèØÔºÅ .vueÊñá‰ª∂ÁöÑ‰∏Ä‰∏™Â∞èÁªÜËäÇtop.vue12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;template&gt; &lt;div class=&quot;ds&quot;&gt; &lt;div class=&quot;left&quot;&gt; &lt;p&gt;SX&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;right&quot;&gt; &lt;p&gt;SB&lt;/p&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; console.log(&quot;-------------------------&quot;); //Âè™ÊâßË°å‰∏ÄÊ¨° export default &#123; props: [], data() &#123; return &#123;&#125; &#125;, components: &#123; &#125;, methods: &#123; &#125;, created() &#123; &#125;, mounted() &#123; console.log(&quot;$$$$$$$$$$$$$$$$$$$$$$$&quot;)Ôºõ //ÊâßË°åÂ§öÊ¨° &#125; &#125;;&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped=&quot;scoped&quot;&gt; .guize &#123; box-sizing: border-box; padding: 0 0.4rem; margin-top: -0.3rem; width: 100%; height: 1.2rem; font-size: 0.24rem; color: white; position: relative; .left &#123; color: #abc4ed; float: left; transform:scale(0.85); transform-origin:0 0; p &#123; font-size: 0.24rem; line-height: 2; &#125; &#125; .right &#123; float: left; width: 1.6rem; height: 0.44rem; line-height: 0.44rem; border: 1px solid white; color: white; border-radius: 0.24rem; text-align: center; position: absolute; right: 0.4rem; bottom: 0.04rem; &#125; &#125;&lt;/style&gt; Áî±ÊµèËßàÂô®Á´ØÂà§Êñ≠ÊòØÂê¶ÊîØÊåÅWebPÊ†ºÂºè123if(document.createElement(&apos;canvas&apos;).toDataURL(&apos;image/webp&apos;).indexOf(&apos;data:image/webp&apos;) == 0)&#123; // ËØ•ÊµèËßàÂô®ÊîØÊåÅWebPÊ†ºÂºèÁöÑÂõæÁâá &#125; srcËΩ¨imgfunction srctoimg(src){ return new Promise((reslove,reject)=&gt;{ let img = new Image() img.onload = function(){ reslove(img) } img.onerror = function(err) { reject(err) } img.src = src }) } imgËΩ¨canvasfunction imgtocanvas(img){ let canvas = document.createElement(&quot;canvas&quot;); let ctx = canvas.getContext(&apos;2d&apos;) canvas.width = img.width canvas.height = img.height ctx.drawImage(img, 0, 0, canvas.width, canvas.height); return canvas } ImageDataËΩ¨canvasfunction ImageDatetocanvas(imgData){ let canvas = document.createElement(&quot;canvas&quot;); let ctx = canvas.getContext(&apos;2d&apos;) canvas.width = imgData.width canvas.height = imgData.height ctx.putImageData(imgData,canvas.width, canvas.height); return canvas } canvasËΩ¨ImageDatafunction canvastoImageDate(canvas){ let ctx = canvas.getContext(&apos;2d&apos;) return ctx.createImageData(canvas.width,canvas.height) } canvasÂÉèÁ¥†Êìç‰Ωúfunction canvaspixel(canvas,deal) { let ctx = canvas.getContext(&apos;2d&apos;) var imgData = ctx.createImageData(canvas.width, canvas.height); for (var i = 0; i &lt; imgData.data.length; i += 4) { deal(r,g,b,a) } ctx.putImageData(imgData, canvas.width, canvas.height); return canvas } canavaËΩ¨DataURL(base64)canvas.toDataURL() DataURL(base64)ËΩ¨blobfunction dataURLtoBlob(dataurl) { var arr = dataurl.split(&apos;,&apos;), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while (n--) { u8arr[n] = bstr.charCodeAt(n); } return new Blob([u8arr], { type: mime }); } fileËΩ¨arrayBufferfunction filetoblob(file){ return new Promise((resolve, reject) =&gt; { var reader = new FileReader(); reader.readAsArrayBuffer(file); reader.onload = function (e) { resolve(reader.result) } }) } fileËΩ¨blobfunction filetoblob(file){ return new Promise((resolve, reject) =&gt; { var reader = new FileReader(); reader.readAsArrayBuffer(file); reader.onload = function (e) { resolve(new Blob([reader.result],{type:file.type})) } }) } (blob,arraybuffer)ËΩ¨filefunction blobtofile(blob,name){ return new File([blob], name ,{type:blob.type}) } file(blob)ËΩ¨DataURL(base64)function filetoblob(file) { return new Promise((resolve, reject) =&gt; { var reader = new FileReader(); reader.readAsDataURL(file); reader.onload = function (e) { resolve(reader.result) } reader.onerror = function (e) { resolve(reader.result) } }) } dataURLËΩ¨Filefunction dataURLtoFile(dataurl, filename) { var arr = dataurl.split(&apos;,&apos;), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while(n--){ u8arr[n] = bstr.charCodeAt(n); } return new File([u8arr], filename, {type:mime}); } blobËΩ¨objectURLwindow.URL.createObjectURL(blob) objectURLËΩ¨imgsrctoimg(src) objectURL(url)ËΩ¨blobfunctionURLtoblob(){ return new Promise((resolve, reject) =&gt; { const xhr = new XMLHttpRequest() xhr.open(&apos;GET&apos;, input) xhr.responseType = &apos;blob&apos; xhr.onload = () =&gt; { if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) { resolve(xhr.response) } else { reject(xhr.statusText) } } xhr.onerror = () =&gt; reject(xhr.statusText) xhr.send() }) } } objectURL(url)ËΩ¨arraybufferÔºåÂΩìÊúçÂä°Á´Ø‰º†ÈÄí‰∫åÁ∫ßÂà∂Êï∞ÊçÆÊó∂‰ΩøÁî®functionURLtoblob(){ return new Promise((resolve, reject) =&gt; { const xhr = new XMLHttpRequest() xhr.open(&apos;GET&apos;, input) xhr.responseType = &apos;arraybuffer&apos; xhr.onload = () =&gt; { if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) { resolve(xhr.response) } else { reject(xhr.statusText) } } xhr.onerror = () =&gt; reject(xhr.statusText) xhr.send() }) } } FormDataËÆæÁΩÆblobfunction appendBlob(blob){ var fd = new FormData(); fd.append(&quot;image&quot;, blob, &quot;image.png&quot;); return fd } Uint8ClampedArray Uint8Array Âå∫Âà´Uint8ClampedArray 1 ,ÂÆÉ‰ºöÂ∞ÜË¥üÊï∞ÂΩíÂÖ•0ÔºåÂ§ß‰∫é255ÁöÑÊï∞ÂΩíÂÖ•255ÔºåÊâÄ‰ª•ÂèñÊ®°Â∞±‰∏çÁî®‰∫Ü„ÄÇ 2 ,Â∞èÊï∞ÂèñÊï¥ Uint8Array 1,Uint8Array([-23]) Á≠â‰ª∑‰∫é new Uint8Array([ 233 ]) 2,ÂõõËàç‰∫îÂÖ• Âú®Â§ÑÁêÜ0-255Êó†Âå∫Âà´ arraybuffer,ËßÜÂõæ(Uint8Array„ÄÅFloat64ArrayÁ≠â)‰πãslicebufËøîÂõûbufËßÜÂõæËøîÂõûËßÜÂõæ1,ÂàÜÈÖçÂÜÖÂ≠ò2ÔºåÊã∑Ë¥ùÊï∞ÊçÆ Êï∞ÊçÆ1,new ArrayBuffer(40)2,new Uint8Array( [ 1, 2, 3, 4 ] )3,Array.from(uint8Array); ËßÜÂõæÂèÇÊï∞var v3 = new Int16Array(buf, 2, 2);Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöËßÜÂõæÂØπÂ∫îÁöÑÂ∫ïÂ±ÇArrayBufferÂØπË±°ÔºåËØ•ÂèÇÊï∞ÊòØÂøÖÈúÄÁöÑ„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöËßÜÂõæÂºÄÂßãÁöÑÂ≠óËäÇÂ∫èÂè∑ÔºåÈªòËÆ§‰ªé0ÂºÄÂßã„ÄÇÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöËßÜÂõæÂåÖÂê´ÁöÑÊï∞ÊçÆ‰∏™Êï∞ÔºåÈªòËÆ§Áõ¥Âà∞Êú¨ÊÆµÂÜÖÂ≠òÂå∫ÂüüÁªìÊùü„ÄÇ ËßÜÂõæ.buffer Ëé∑ÂèñÁºìÂÜ≤Âå∫ ËßÜÂõæÂØπË±°DataViewvar buffer = new ArrayBuffer(24); var dv = new DataView(buffer); // ‰ªéÁ¨¨1‰∏™Â≠óËäÇËØªÂèñ‰∏Ä‰∏™8‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ var v1 = dv.getUint8(0); // ‰ªéÁ¨¨2‰∏™Â≠óËäÇËØªÂèñ‰∏Ä‰∏™16‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ var v2 = dv.getUint16(1); // ‰ªéÁ¨¨4‰∏™Â≠óËäÇËØªÂèñ‰∏Ä‰∏™16‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ var v3 = dv.getUint16(3); setInt8ÔºöÂÜôÂÖ•1‰∏™Â≠óËäÇÁöÑ8‰ΩçÊï¥Êï∞„ÄÇ setUint8ÔºöÂÜôÂÖ•1‰∏™Â≠óËäÇÁöÑ8‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞„ÄÇ setInt16ÔºöÂÜôÂÖ•2‰∏™Â≠óËäÇÁöÑ16‰ΩçÊï¥Êï∞„ÄÇ setUint16ÔºöÂÜôÂÖ•2‰∏™Â≠óËäÇÁöÑ16‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞„ÄÇ setInt32ÔºöÂÜôÂÖ•4‰∏™Â≠óËäÇÁöÑ32‰ΩçÊï¥Êï∞„ÄÇ setUint32ÔºöÂÜôÂÖ•4‰∏™Â≠óËäÇÁöÑ32‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞„ÄÇ setFloat32ÔºöÂÜôÂÖ•4‰∏™Â≠óËäÇÁöÑ32‰ΩçÊµÆÁÇπÊï∞„ÄÇ setFloat64ÔºöÂÜôÂÖ•8‰∏™Â≠óËäÇÁöÑ64‰ΩçÊµÆÁÇπÊï∞„ÄÇ // Âú®Á¨¨1‰∏™Â≠óËäÇÔºå‰ª•Â§ßÁ´ØÂ≠óËäÇÂ∫èÂÜôÂÖ•ÂÄº‰∏∫25ÁöÑ32‰ΩçÊï¥Êï∞ dv.setInt32(0, 25, false); // Âú®Á¨¨5‰∏™Â≠óËäÇÔºå‰ª•Â§ßÁ´ØÂ≠óËäÇÂ∫èÂÜôÂÖ•ÂÄº‰∏∫25ÁöÑ32‰ΩçÊï¥Êï∞ dv.setInt32(4, 25); // Âú®Á¨¨9‰∏™Â≠óËäÇÔºå‰ª•Â∞èÁ´ØÂ≠óËäÇÂ∫èÂÜôÂÖ•ÂÄº‰∏∫2.5ÁöÑ32‰ΩçÊµÆÁÇπÊï∞ dv.setFloat32(8, 2.5, true); ÂÆûÁé∞atob(string ËΩ¨ base64) window.atobfunction _atob(s) { var base64hash = &apos;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&apos;; s = s.replace(/\s|=/g, &apos;&apos;); var cur, prev, mod, i = 0, result = []; while (i &lt; s.length) { cur = base64hash.indexOf(s.charAt(i)); mod = i % 4; switch (mod) { case 0: //TODO break; case 1: result.push(String.fromCharCode(prev &lt;&lt; 2 | cur &gt;&gt; 4)); break; case 2: result.push(String.fromCharCode((prev &amp; 0x0f) &lt;&lt; 4 | cur &gt;&gt; 2)); break; case 3: result.push(String.fromCharCode((prev &amp; 3) &lt;&lt; 6 | cur)); break; } prev = cur; i++; } return result.join(&apos;&apos;); } ÂÆûÁé∞btoa(base64 ËΩ¨ string) window.btoafunction _btoa(s) { var base64hash = &apos;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&apos;; if (/([^\u0000-\u00ff])/.test(s)) { throw new Error(&apos;INVALID_CHARACTER_ERR&apos;); } var i = 0, prev, ascii, mod, result = []; while (i &lt; s.length) { ascii = s.charCodeAt(i); mod = i % 3; switch (mod) { // Á¨¨‰∏Ä‰∏™6‰ΩçÂè™ÈúÄË¶ÅËÆ©8‰Ωç‰∫åËøõÂà∂Âè≥Áßª‰∏§‰Ωç case 0: result.push(base64hash.charAt(ascii &gt;&gt; 2)); break; //Á¨¨‰∫å‰∏™6‰Ωç = Á¨¨‰∏Ä‰∏™8‰ΩçÁöÑÂêé‰∏§‰Ωç + Á¨¨‰∫å‰∏™8‰ΩçÁöÑÂâç4‰Ωç case 1: result.push(base64hash.charAt((prev &amp; 3) &lt;&lt; 4 | (ascii &gt;&gt; 4))); break; //Á¨¨‰∏â‰∏™6‰Ωç = Á¨¨‰∫å‰∏™8‰ΩçÁöÑÂêé4‰Ωç + Á¨¨‰∏â‰∏™8‰ΩçÁöÑÂâç2‰Ωç //Á¨¨4‰∏™6‰Ωç = Á¨¨‰∏â‰∏™8‰ΩçÁöÑÂêé6‰Ωç case 2: result.push(base64hash.charAt((prev &amp; 0x0f) &lt;&lt; 2 | (ascii &gt;&gt; 6))); result.push(base64hash.charAt(ascii &amp; 0x3f)); break; } prev = ascii; i++; } // Âæ™ÁéØÁªìÊùüÂêéÁúãmod, ‰∏∫0 ËØÅÊòéÈúÄË°•3‰∏™6‰ΩçÔºåÁ¨¨‰∏Ä‰∏™‰∏∫ÊúÄÂêé‰∏Ä‰∏™8‰ΩçÁöÑÊúÄÂêé‰∏§‰ΩçÂêéÈù¢Ë°•4‰∏™0„ÄÇÂè¶Â§ñ‰∏§‰∏™6‰ΩçÂØπÂ∫îÁöÑÊòØÂºÇÂ∏∏ÁöÑ‚Äú=‚ÄùÔºõ // mod‰∏∫1ÔºåËØÅÊòéËøòÈúÄË°•‰∏§‰∏™6‰ΩçÔºå‰∏Ä‰∏™ÊòØÊúÄÂêé‰∏Ä‰∏™8‰ΩçÁöÑÂêé4‰ΩçË°•‰∏§‰∏™0ÔºåÂè¶‰∏Ä‰∏™ÂØπÂ∫îÂºÇÂ∏∏ÁöÑ‚Äú=‚Äù if (mod == 0) { result.push(base64hash.charAt((prev &amp; 3) &lt;&lt; 4)); result.push(&apos;==&apos;); } elseif (mod == 1) { result.push(base64hash.charAt((prev &amp; 0x0f) &lt;&lt; 2)); result.push(&apos;=&apos;); } return result.join(&apos;&apos;); } atob,btoa ‰∏çËÉΩÁºñÁ†ÅËß£Á†Å‰∏≠Êñávar str = &quot;ChinaÔºå‰∏≠ÂõΩ&quot;; window.btoa(window.encodeURIComponent(str)) //&quot;Q2hpbmElRUYlQkMlOEMlRTQlQjglQUQlRTUlOUIlQkQ=&quot; window.decodeURIComponent(window.atob(&apos;Q2hpbmElRUYlQkMlOEMlRTQlQjglQUQlRTUlOUIlQkQ=&apos;)) //&quot;ChinaÔºå‰∏≠ÂõΩ&quot; ÁºñÁ†ÅÂê´‰πâ1ÔºåÂå∫ÂàÜÊï∞ÊçÆÈÉ®ÂàÜÂíåÂèÇÊï∞ÈÉ®ÂàÜ 2ÔºåËß£ÂÜ≥‰∏≠Êñá‰π±Á†Å(ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÁºñÁ†Å‰∏ç‰∏ÄËá¥) escape‰∏çÁºñÁ†ÅÂ≠óÁ¨¶Êúâ69‰∏™Ôºö*Ôºå+Ôºå-Ôºå.Ôºå/Ôºå@Ôºå_Ôºå0-9Ôºåa-zÔºåA-Z encodeURI‰∏çÁºñÁ†ÅÂ≠óÁ¨¶Êúâ82‰∏™Ôºö!Ôºå#Ôºå$Ôºå&amp;Ôºå&apos;Ôºå(Ôºå)Ôºå*Ôºå+Ôºå,Ôºå-Ôºå.Ôºå/Ôºå:Ôºå;Ôºå=Ôºå?Ôºå@Ôºå_Ôºå~Ôºå0-9Ôºåa-zÔºåA-Z encodeURIComponent‰∏çÁºñÁ†ÅÂ≠óÁ¨¶Êúâ71‰∏™Ôºö!Ôºå &apos;Ôºå(Ôºå)Ôºå*Ôºå-Ôºå.Ôºå_Ôºå~Ôºå0-9Ôºåa-zÔºåA-Z ÂÜÖÂ≠òÊ®°Âûã JSÂÜÖÂ≠òÁ©∫Èó¥ÂàÜ‰∏∫Ê†à(stack)„ÄÅÂ†Ü(heap)„ÄÅÊ±†(‰∏ÄËà¨‰πü‰ºöÂΩíÁ±ª‰∏∫Ê†à‰∏≠)„ÄÇ ÂÖ∂‰∏≠Ê†àÂ≠òÊîæÂèòÈáèÔºåÂ†ÜÂ≠òÊîæÂ§çÊùÇÂØπË±°ÔºåÊ±†Â≠òÊîæÂ∏∏Èáè„ÄÇ ÂÜÖÂ≠òÁöÑÁîüÂëΩÂë®Êúü ÂÜÖÂ≠òÂàÜÈÖç ‚Äî ÂÜÖÂ≠ò‰ΩøÁî® ‚Äî ÂÜÖÂ≠òÂõûÊî∂ ÂÜÖÂ≠òÂõûÊî∂ÁÆóÊ≥ï ÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ï Â≠òÂú®‰∏Ä‰∏™Ëá¥ÂëΩÁöÑÈóÆÈ¢òÔºöÂæ™ÁéØÂºïÁî®„ÄÇÂ¶ÇÊûú‰∏§‰∏™ÂØπË±°Áõ∏‰∫íÂºïÁî®ÔºåÂ∞ΩÁÆ°‰ªñ‰ª¨Â∑≤‰∏çÂÜç‰ΩøÁî®ÔºåÂûÉÂúæÂõûÊî∂Âô®‰∏ç‰ºöËøõË°åÂõûÊî∂ÔºåÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇ Ê†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ï Ê†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÂ∞Ü‚Äú‰∏çÂÜç‰ΩøÁî®ÁöÑÂØπË±°‚ÄùÂÆö‰πâ‰∏∫‚ÄúÊó†Ê≥ïËææÂà∞ÁöÑÂØπË±°‚Äù„ÄÇ‰ªéÊ†πÈÉ®ÔºàÂú®JS‰∏≠Â∞±ÊòØÂÖ®Â±ÄÂØπË±°ÔºâÂá∫ÂèëÂÆöÊó∂Êâ´ÊèèÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÔºåÂá°ÊòØËÉΩ‰ªéÊ†πÈÉ®Âà∞ËææÁöÑÂØπË±°ÔºåÈÉΩÊòØËøòÈúÄË¶Å‰ΩøÁî®ÁöÑ„ÄÇÈÇ£‰∫õÊó†Ê≥ïÁî±Ê†πÈÉ®Âá∫ÂèëËß¶ÂèäÂà∞ÁöÑÂØπË±°Ë¢´Ê†áËÆ∞‰∏∫‰∏çÂÜç‰ΩøÁî®ÔºåÁ®çÂêéËøõË°åÂõûÊî∂„ÄÇÂÜÖÂ≠òÊ≥ÑÊºè ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑËØÜÂà´ÊñπÊ≥ï ÊµèËßàÂô®ÊñπÊ≥ï ÂëΩ‰ª§Ë°åÊñπÊ≥ï WeakMapÔºàES6Ôºâ]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
        <tag>js</tag>
      </tags>
  </entry>
</search>
